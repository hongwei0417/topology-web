(self.webpackChunktopology_web=self.webpackChunktopology_web||[]).push([[792],{8148:(mn,ae,P)=>{"use strict";var C=P(4845),H=P(7715),g=P(4291),lt=P(6627),ct=P(3683),it=P(1732);function It(n){return new g.wOt(3e3,!1)}function Ie(n){switch(n.length){case 0:return new it.sf;case 1:return n[0];default:return new it.ui(n)}}function fn(n,e,t=new Map,i=new Map){const r=[],o=[];let s=-1,a=null;if(e.forEach(l=>{const u=l.get("offset"),d=u==s,f=d&&a||new Map;l.forEach((m,y)=>{let b=y,E=m;if("offset"!==y)switch(b=n.normalizePropertyName(b,r),E){case it.FX:E=t.get(y);break;case it.kp:E=i.get(y);break;default:E=n.normalizeStyleValue(y,b,E,r)}f.set(b,E)}),d||o.push(f),a=f,s=u}),r.length)throw function ge(){return new g.wOt(3502,!1)}();return o}function Un(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&Ri(t,"start",n)));break;case"done":n.onDone(()=>i(t&&Ri(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&Ri(t,"destroy",n)))}}function Ri(n,e,t){const o=Fn(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),s=n._data;return null!=s&&(o._data=s),o}function Fn(n,e,t,i,r="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function ci(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function Di(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const Li=typeof document>"u"?null:document.documentElement;function Ni(n){const e=n.parentNode||n.host||null;return e===Li?null:e}let Tn=null,er=!1;function tn(n,e){for(;e;){if(e===n)return!0;e=Ni(e)}return!1}function mt(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]}let fe=(()=>{class n{validateStyleProperty(t){return function ur(n){Tn||(Tn=function Ir(){return typeof document<"u"?document.body:null}()||{},er=!!Tn.style&&"WebkitAppearance"in Tn.style);let e=!0;return Tn.style&&!function Vi(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Tn.style,!e&&er&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Tn.style)),e}(t)}containsElement(t,i){return tn(t,i)}getParentElement(t){return Ni(t)}query(t,i,r){return mt(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,o,s,a=[],l){return new it.sf(r,o)}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275prov=g.jDH({token:n,factory:n.\u0275fac})}return n})();class Ge{static#t=this.NOOP=new fe}class Wt{}const ie=1e3,on="ng-enter",Sn="ng-leave",si="ng-trigger",xe=".ng-trigger",pn="ng-animating",en=".ng-animating";function yn(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:$e(parseFloat(e[1]),e[2])}function $e(n,e){return"s"===e?n*ie:n}function Bn(n,e,t){return n.hasOwnProperty("duration")?n:function Rt(n,e,t){let r,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(It()),{duration:0,delay:0,easing:""};r=$e(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(o=$e(parseFloat(l),a[4]));const u=a[5];u&&(s=u)}else r=n;if(!t){let a=!1,l=e.length;r<0&&(e.push(function pt(){return new g.wOt(3100,!1)}()),a=!0),o<0&&(e.push(function bt(){return new g.wOt(3101,!1)}()),a=!0),a&&e.splice(l,0,It())}return{duration:r,delay:o,easing:s}}(n,e,t)}function Lt(n,e,t){e.forEach((i,r)=>{const o=Ce(r);t&&!t.has(r)&&t.set(r,n.style[o]),n.style[o]=i})}function Ze(n,e){e.forEach((t,i)=>{const r=Ce(i);n.style[r]=""})}function An(n){return Array.isArray(n)?1==n.length?n[0]:(0,it.K2)(n):n}const bi=new RegExp("{{\\s*(.+?)\\s*}}","g");function Fe(n){let e=[];if("string"==typeof n){let t;for(;t=bi.exec(n);)e.push(t[1]);bi.lastIndex=0}return e}function Me(n,e,t){const i=`${n}`,r=i.replace(bi,(o,s)=>{let a=e[s];return null==a&&(t.push(function Pt(){return new g.wOt(3003,!1)}()),a=""),a.toString()});return r==i?n:r}const Gt=/-+([a-z0-9])/g;function Ce(n){return n.replace(Gt,(...e)=>e[1].toUpperCase())}function qt(n,e,t){switch(e.type){case it.If.Trigger:return n.visitTrigger(e,t);case it.If.State:return n.visitState(e,t);case it.If.Transition:return n.visitTransition(e,t);case it.If.Sequence:return n.visitSequence(e,t);case it.If.Group:return n.visitGroup(e,t);case it.If.Animate:return n.visitAnimate(e,t);case it.If.Keyframes:return n.visitKeyframes(e,t);case it.If.Style:return n.visitStyle(e,t);case it.If.Reference:return n.visitReference(e,t);case it.If.AnimateChild:return n.visitAnimateChild(e,t);case it.If.AnimateRef:return n.visitAnimateRef(e,t);case it.If.Query:return n.visitQuery(e,t);case it.If.Stagger:return n.visitStagger(e,t);default:throw function yt(){return new g.wOt(3004,!1)}()}}function Ve(n,e){return window.getComputedStyle(n)[e]}const Xe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class ai extends Wt{normalizePropertyName(e,t){return Ce(e)}normalizeStyleValue(e,t,i,r){let o="";const s=i.toString().trim();if(Xe.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function Ft(){return new g.wOt(3005,!1)}())}return s+o}}const ne="*";const Cn=new Set(["true","1"]),Re=new Set(["false","0"]);function Qe(n,e){const t=Cn.has(n)||Re.has(n),i=Cn.has(e)||Re.has(e);return(r,o)=>{let s=n==ne||n==r,a=e==ne||e==o;return!s&&t&&"boolean"==typeof r&&(s=r?Cn.has(n):Re.has(n)),!a&&i&&"boolean"==typeof o&&(a=o?Cn.has(e):Re.has(e)),s&&a}}const fi=new RegExp("s*:selfs*,?","g");function gi(n,e,t,i){return new Ct(n).build(e,t,i)}class Ct{constructor(e){this._driver=e}build(e,t,i){const r=new Ne(t);return this._resetContextStyleTimingState(r),qt(this,An(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const o=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push(function Ht(){return new g.wOt(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==it.If.State){const l=a,u=l.name;u.toString().split(/\s*,\s*/).forEach(d=>{l.name=d,o.push(this.visitState(l,t))}),l.name=u}else if(a.type==it.If.Transition){const l=this.visitTransition(a,t);i+=l.queryCount,r+=l.depCount,s.push(l)}else t.errors.push(function ue(){return new g.wOt(3007,!1)}())}),{type:it.If.Trigger,name:e.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{Fe(l).forEach(u=>{s.hasOwnProperty(u)||o.add(u)})})}),o.size&&t.errors.push(function ye(){return new g.wOt(3008,!1)}(0,o.values()))}return{type:it.If.State,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=qt(this,An(e.animation),t),r=function Pe(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function Ye(n,e,t){if(":"==n[0]){const l=function ve(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function Kt(){return new g.wOt(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function oe(){return new g.wOt(3015,!1)}()),e;const r=i[1],o=i[2],s=i[3];e.push(Qe(r,s)),"<"==o[0]&&(r!=ne||s!=ne)&&e.push(Qe(s,r))}(i,t,e)):t.push(n),t}(e.expr,t.errors);return{type:it.If.Transition,matchers:r,animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Rn(e.options)}}visitSequence(e,t){return{type:it.If.Sequence,steps:e.steps.map(i=>qt(this,i,t)),options:Rn(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const o=e.steps.map(s=>{t.currentTime=i;const a=qt(this,s,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:it.If.Group,steps:o,options:Rn(e.options)}}visitAnimate(e,t){const i=function Pn(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Ei(Bn(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=Ei(0,0,"");return o.dynamic=!0,o.strValue=t,o}const r=Bn(t,e);return Ei(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,o=e.styles?e.styles:(0,it.iF)({});if(o.type==it.If.Keyframes)r=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;const u={};i.easing&&(u.easing=i.easing),s=(0,it.iF)(u)}t.currentTime+=i.duration+i.delay;const l=this.visitStyle(s,t);l.isEmptyStep=a,r=l}return t.currentAnimateTimings=null,{type:it.If.Animate,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)"string"==typeof a?a===it.kp?i.push(a):t.errors.push(new g.wOt(3002,!1)):i.push(new Map(Object.entries(a)));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let l of a.values())if(l.toString().indexOf("{{")>=0){o=!0;break}}),{type:it.If.Style,styles:i,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,l)=>{const u=t.collectedStyles.get(t.currentQuerySelector),d=u.get(l);let f=!0;d&&(o!=r&&o>=d.startTime&&r<=d.endTime&&(t.errors.push(function _e(){return new g.wOt(3010,!1)}()),f=!1),o=d.startTime),f&&u.set(l,{startTime:o,endTime:r}),t.options&&function ei(n,e,t){const i=e.params||{},r=Fe(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||t.push(function At(){return new g.wOt(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:it.If.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Ke(){return new g.wOt(3011,!1)}()),i;let o=0;const s=[];let a=!1,l=!1,u=0;const d=e.steps.map(M=>{const x=this._makeStyleAst(M,t);let D=null!=x.offset?x.offset:function bn(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(x.styles),k=0;return null!=D&&(o++,k=x.offset=D),l=l||k<0||k>1,a=a||k<u,u=k,s.push(k),x});l&&t.errors.push(function Qt(){return new g.wOt(3012,!1)}()),a&&t.errors.push(function Ut(){return new g.wOt(3200,!1)}());const f=e.steps.length;let m=0;o>0&&o<f?t.errors.push(function kt(){return new g.wOt(3202,!1)}()):0==o&&(m=1/(f-1));const y=f-1,b=t.currentTime,E=t.currentAnimateTimings,w=E.duration;return d.forEach((M,x)=>{const D=m>0?x==y?1:m*x:s[x],k=D*w;t.currentTime=b+E.delay+k,E.duration=k,this._validateStyleAst(M,t),M.offset=D,i.styles.push(M)}),i}visitReference(e,t){return{type:it.If.Reference,animation:qt(this,An(e.animation),t),options:Rn(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:it.If.AnimateChild,options:Rn(e.options)}}visitAnimateRef(e,t){return{type:it.If.AnimateRef,animation:this.visitReference(e.animation,t),options:Rn(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[o,s]=function le(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(fi,"")),n=n.replace(/@\*/g,xe).replace(/@\w+/g,t=>xe+"-"+t.slice(1)).replace(/:animating/g,en),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+o:o,ci(t.collectedStyles,t.currentQuerySelector,new Map);const a=qt(this,An(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:it.If.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:Rn(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function pe(){return new g.wOt(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:Bn(e.timings,t.errors,!0);return{type:it.If.Stagger,animation:qt(this,An(e.animation),t),timings:i,options:null}}}class Ne{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Rn(n){return n?(n={...n}).params&&(n.params=function he(n){return n?{...n}:null}(n.params)):n={},n}function Ei(n,e,t){return{duration:n,delay:e,easing:t}}function Ci(n,e,t,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class dr{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Wr=new RegExp(":enter","g"),Oo=new RegExp(":leave","g");function Wi(n,e,t,i,r,o=new Map,s=new Map,a,l,u=[]){return(new Mr).buildKeyframes(n,e,t,i,r,o,s,a,l,u)}class Mr{buildKeyframes(e,t,i,r,o,s,a,l,u,d=[]){u=u||new dr;const f=new Bt(e,t,u,r,o,d,[]);f.options=l;const m=l.delay?yn(l.delay):0;f.currentTimeline.delayNextStep(m),f.currentTimeline.setStyles([s],null,f.errors,l),qt(this,i,f);const y=f.timelines.filter(b=>b.containsAnimation());if(y.length&&a.size){let b;for(let E=y.length-1;E>=0;E--){const w=y[E];if(w.element===t){b=w;break}}b&&!b.allowOnlyTimelineStyles()&&b.setStyles([a],null,f.errors,l)}return y.length?y.map(b=>b.buildKeyframes()):[Ci(t,[],[],[],0,m,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const o=r?.delay;if(o){const s="number"==typeof o?o:yn(Me(o,r?.params??{},t.errors));i.delayNextStep(s)}}}_visitSubInstructions(e,t,i){let o=t.currentTimeline.currentTime;const s=null!=i.duration?yn(i.duration):null,a=null!=i.delay?yn(i.delay):null;return 0!==s&&e.forEach(l=>{const u=t.appendInstructionToTimeline(l,s,a);o=Math.max(o,u.duration+u.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),qt(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const o=e.options;if(o&&(o.params||o.delay)&&(r=t.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){r.previousNode.type==it.If.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=ko);const s=yn(o.delay);r.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>qt(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?yn(e.options.delay):0;e.steps.forEach(s=>{const a=t.createSubContext(e.options);o&&a.delayNextStep(o),qt(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return Bn(t.params?Me(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const o=e.style;o.type==it.If.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(i.duration),this.visitStyle(o,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,o=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*o),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+o),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?yn(r.delay):0;o&&(t.previousNode.type===it.If.Style||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=ko);let s=i;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((u,d)=>{t.currentQueryIndex=d;const f=t.createSubContext(e.options,u);o&&f.delayNextStep(o),u===t.element&&(l=f.currentTimeline),qt(this,e.animation,f),f.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,f.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1);let l=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const d=t.currentTimeline;l&&d.delayNextStep(l);const f=d.currentTime;qt(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-f+(r.startTime-i.currentTimeline.startTime)}}const ko={};class Bt{constructor(e,t,i,r,o,s,a,l){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ko,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Ae(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=yn(i.duration)),null!=i.delay&&(r.delay=yn(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=Me(o[a],s,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,o=new Bt(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=ko,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new ze(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,o,s){let a=[];if(r&&a.push(this.element),e.length>0){e=(e=e.replace(Wr,"."+this._enterClassName)).replace(Oo,"."+this._leaveClassName);let u=this._driver.query(this.element,e,1!=i);0!==i&&(u=i<0?u.slice(u.length+i,u.length):u.slice(0,i)),a.push(...u)}return!o&&0==a.length&&s.push(function Te(){return new g.wOt(3014,!1)}()),a}}class Ae{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Ae(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||it.kp),this._currentKeyframe.set(t,it.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const o=r&&r.params||{},s=function jn(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i??=e.keys();for(let o of i)t.set(o,it.kp)}else for(let[o,s]of r)t.set(o,s)}),t}(e,this._globalTimelineStyles);for(let[a,l]of s){const u=Me(l,o,i);this._pendingStyles.set(a,u),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??it.kp),this._updateStyle(a,u)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const u=new Map([...this._backFill,...a]);u.forEach((d,f)=>{d===it.FX?e.add(f):d===it.kp&&t.add(f)}),i||u.set("offset",l/this.duration),r.push(u)});const o=[...e.values()],s=[...t.values()];if(i){const a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return Ci(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class ze extends Ae{constructor(e,t,i,r,o,s,a=!1){super(e,t,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],s=i+t,a=t/s,l=new Map(e[0]);l.set("offset",0),o.push(l);const u=new Map(e[0]);u.set("offset",nn(a)),o.push(u);const d=e.length-1;for(let f=1;f<=d;f++){let m=new Map(e[f]);const y=m.get("offset");m.set("offset",nn((t+y*i)/s)),o.push(m)}i=s,t=0,r="",e=o}return Ci(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function nn(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}function Zn(n,e,t,i,r,o,s,a,l,u,d,f,m){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:l,preStyleProps:u,postStyleProps:d,totalTime:f,errors:m}}const Ui={};class Rr{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function ls(n,e,t,i,r){return n.some(o=>o(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,o,s,a,l,u,d){const f=[],m=this.ast.options&&this.ast.options.params||Ui,b=this.buildStyles(i,a&&a.params||Ui,f),E=l&&l.params||Ui,w=this.buildStyles(r,E,f),M=new Set,x=new Map,D=new Map,k="void"===r,T={params:Fr(E,m),delay:this.ast.options?.delay},O=d?[]:Wi(e,t,this.ast.animation,o,s,b,w,T,u,f);let R=0;return O.forEach(L=>{R=Math.max(L.duration+L.delay,R)}),f.length?Zn(t,this._triggerName,i,r,k,b,w,[],[],x,D,R,f):(O.forEach(L=>{const F=L.element,U=ci(x,F,new Set);L.preStyleProps.forEach(X=>U.add(X));const $=ci(D,F,new Set);L.postStyleProps.forEach(X=>$.add(X)),F!==t&&M.add(F)}),Zn(t,this._triggerName,i,r,k,b,w,O,[...M.values()],x,D,R))}}function Fr(n,e){const t={...e};return Object.entries(n).forEach(([i,r])=>{null!=r&&(t[i]=r)}),t}class ro{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=Fr(e,this.defaultParams);return this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=Me(s,r,t));const l=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,l,s,t),i.set(a,s)})}),i}}class kh{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new ro(r.style,r.options&&r.options.params||{},i))}),Jc(this.states,"true","1"),Jc(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new Rr(e,r,this.states))}),this.fallbackTransition=function Ih(n,e){return new Rr(n,{type:it.If.Transition,animation:{type:it.If.Sequence,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(s=>s.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function Jc(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const zu=new dr;class Uu{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],o=gi(this._driver,t,i,[]);if(i.length)throw function Oe(){return new g.wOt(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,i){const r=e.element,o=fn(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],o=this._animations.get(e);let s;const a=new Map;if(o?(s=Wi(this._driver,t,o,on,Sn,new Map,new Map,i,zu,r),s.forEach(d=>{const f=ci(a,d.element,new Map);d.postStyleProps.forEach(m=>f.set(m,null))})):(r.push(function ee(){return new g.wOt(3300,!1)}()),s=[]),r.length)throw function Ot(){return new g.wOt(3504,!1)}();a.forEach((d,f)=>{d.forEach((m,y)=>{d.set(y,this._driver.computeStyle(f,y,it.kp))})});const u=Ie(s.map(d=>{const f=a.get(d.element);return this._buildPlayer(d,new Map,f)}));return this._playersById.set(e,u),u.onDestroy(()=>this.destroy(e)),this.players.push(u),u}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function ut(){return new g.wOt(3301,!1)}();return t}listen(e,t,i,r){const o=Fn(t,"","","");return Un(this._getPlayer(e),i,o,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const zs="ng-animate-queued",Fl="ng-animate-disabled",Oa=[],hl={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Hr={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},is="__ng_removed";class Si{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function Pd(n){return n??null}(i?e.value:e),i){const{value:o,...s}=e;this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const Ya="void",fl=new Si(Ya);class ka{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Us(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function ft(){return new g.wOt(3302,!1)}();if(null==i||0==i.length)throw function Mt(){return new g.wOt(3303,!1)}();if(!function Hu(n){return"start"==n||"done"==n}(i))throw function ot(){return new g.wOt(3400,!1)}();const o=ci(this._elementListeners,e,[]),s={name:t,phase:i,callback:r};o.push(s);const a=ci(this._engine.statesByElement,e,new Map);return a.has(t)||(Us(e,si),Us(e,si+"-"+t),a.set(t,fl)),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Dt(){return new g.wOt(3401,!1)}();return t}trigger(e,t,i,r=!0){const o=this._getTrigger(t),s=new gc(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(Us(e,si),Us(e,si+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t);const u=new Si(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&u.absorbOptions(l.options),a.set(t,u),l||(l=fl),u.value!==Ya&&l.value===u.value){if(!function iu(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const o=t[r];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(l.params,u.params)){const E=[],w=o.matchStyles(l.value,l.params,E),M=o.matchStyles(u.value,u.params,E);E.length?this._engine.reportError(E):this._engine.afterFlush(()=>{Ze(e,w),Lt(e,M)})}return}const m=ci(this._engine.playersByElement,e,[]);m.forEach(E=>{E.namespaceId==this.id&&E.triggerName==t&&E.queued&&E.destroy()});let y=o.matchTransition(l.value,u.value,e,u.params),b=!1;if(!y){if(!r)return;y=o.fallbackTransition,b=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:y,fromState:l,toState:u,player:s,isFallbackTransition:b}),b||(Us(e,zs),s.onStart(()=>{Qr(e,zs)})),s.onDone(()=>{let E=this.players.indexOf(s);E>=0&&this.players.splice(E,1);const w=this._engine.playersByElement.get(e);if(w){let M=w.indexOf(s);M>=0&&w.splice(M,1)}}),this.players.push(s),m.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,xe,!0);i.forEach(r=>{if(r[is])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const o=this._engine.statesByElement.get(e),s=new Map;if(o){const a=[];if(o.forEach((l,u)=>{if(s.set(u,l.value),this._triggers.has(u)){const d=this.trigger(e,u,Ya,r);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),i&&Ie(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const l=this._triggers.get(s).fallbackTransition,u=i.get(s)||fl,d=new Si(Ya),f=new gc(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:l,fromState:u,toState:d,player:f,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let s=e;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const o=e[is];(!o||o===hl)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Us(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const l=Fn(o,i.triggerName,i.fromState.value,i.toState.value);l._data=e,Un(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class nu{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new ka(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){const l=r.get(a);if(l){const u=i.indexOf(l);i.splice(u+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&t.add(o)}return t}trigger(e,t,i,r){if(Bl(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!Bl(t))return;const o=t[is];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){const s=this._fetchNamespace(e);s&&s.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Us(e,Fl)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Qr(e,Fl))}removeNode(e,t,i){if(Bl(t)){const r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,o){this.collectedLeaveElements.push(t),t[is]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,i,r,o){return Bl(t)?this._fetchNamespace(e).listen(t,i,r,o):()=>{}}_buildInstruction(e,t,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,xe,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,en,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Ie(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[is];if(t&&t.setForRemoval){if(e[is]=hl,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Fl)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Us(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Ie(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function dt(){return new g.wOt(3402,!1)}()}_flushAnimations(e,t){const i=new dr,r=[],o=new Map,s=[],a=new Map,l=new Map,u=new Map,d=new Set;this.disabledNodes.forEach(at=>{d.add(at);const Q=this.driver.query(at,".ng-animate-queued",!0);for(let et=0;et<Q.length;et++)d.add(Q[et])});const f=this.bodyNode,m=Array.from(this.statesByElement.keys()),y=ys(m,this.collectedEnterElements),b=new Map;let E=0;y.forEach((at,Q)=>{const et=on+E++;b.set(Q,et),at.forEach(St=>Us(St,et))});const w=[],M=new Set,x=new Set;for(let at=0;at<this.collectedLeaveElements.length;at++){const Q=this.collectedLeaveElements[at],et=Q[is];et&&et.setForRemoval&&(w.push(Q),M.add(Q),et.hasAnimation?this.driver.query(Q,".ng-star-inserted",!0).forEach(St=>M.add(St)):x.add(Q))}const D=new Map,k=ys(m,Array.from(M));k.forEach((at,Q)=>{const et=Sn+E++;D.set(Q,et),at.forEach(St=>Us(St,et))}),e.push(()=>{y.forEach((at,Q)=>{const et=b.get(Q);at.forEach(St=>Qr(St,et))}),k.forEach((at,Q)=>{const et=D.get(Q);at.forEach(St=>Qr(St,et))}),w.forEach(at=>{this.processLeaveNode(at)})});const T=[],O=[];for(let at=this._namespaceList.length-1;at>=0;at--)this._namespaceList[at].drainQueuedTransitions(t).forEach(et=>{const St=et.player,Yt=et.element;if(T.push(St),this.collectedEnterElements.length){const yi=Yt[is];if(yi&&yi.setForMove){if(yi.previousTriggersValues&&yi.previousTriggersValues.has(et.triggerName)){const Or=yi.previousTriggersValues.get(et.triggerName),co=this.statesByElement.get(et.element);if(co&&co.has(et.triggerName)){const as=co.get(et.triggerName);as.value=Or,co.set(et.triggerName,as)}}return void St.destroy()}}const He=!f||!this.driver.containsElement(f,Yt),Se=D.get(Yt),un=b.get(Yt),_n=this._buildInstruction(et,i,un,Se,He);if(_n.errors&&_n.errors.length)return void O.push(_n);if(He)return St.onStart(()=>Ze(Yt,_n.fromStyles)),St.onDestroy(()=>Lt(Yt,_n.toStyles)),void r.push(St);if(et.isFallbackTransition)return St.onStart(()=>Ze(Yt,_n.fromStyles)),St.onDestroy(()=>Lt(Yt,_n.toStyles)),void r.push(St);const Wn=[];_n.timelines.forEach(yi=>{yi.stretchStartingKeyframe=!0,this.disabledNodes.has(yi.element)||Wn.push(yi)}),_n.timelines=Wn,i.append(Yt,_n.timelines),s.push({instruction:_n,player:St,element:Yt}),_n.queriedElements.forEach(yi=>ci(a,yi,[]).push(St)),_n.preStyleProps.forEach((yi,Or)=>{if(yi.size){let co=l.get(Or);co||l.set(Or,co=new Set),yi.forEach((as,Vs)=>co.add(Vs))}}),_n.postStyleProps.forEach((yi,Or)=>{let co=u.get(Or);co||u.set(Or,co=new Set),yi.forEach((as,Vs)=>co.add(Vs))})});if(O.length){const at=[];O.forEach(Q=>{at.push(function Ee(){return new g.wOt(3505,!1)}())}),T.forEach(Q=>Q.destroy()),this.reportError(at)}const R=new Map,L=new Map;s.forEach(at=>{const Q=at.element;i.has(Q)&&(L.set(Q,Q),this._beforeAnimationBuild(at.player.namespaceId,at.instruction,R))}),r.forEach(at=>{const Q=at.element;this._getPreviousPlayers(Q,!1,at.namespaceId,at.triggerName,null).forEach(St=>{ci(R,Q,[]).push(St),St.destroy()})});const F=w.filter(at=>pl(at,l,u)),U=new Map;Rh(U,this.driver,x,u,it.kp).forEach(at=>{pl(at,l,u)&&F.push(at)});const X=new Map;y.forEach((at,Q)=>{Rh(X,this.driver,new Set(at),l,it.FX)}),F.forEach(at=>{const Q=U.get(at),et=X.get(at);U.set(at,new Map([...Q?.entries()??[],...et?.entries()??[]]))});const q=[],gt=[],Et={};s.forEach(at=>{const{element:Q,player:et,instruction:St}=at;if(i.has(Q)){if(d.has(Q))return et.onDestroy(()=>Lt(Q,St.toStyles)),et.disabled=!0,et.overrideTotalTime(St.totalTime),void r.push(et);let Yt=Et;if(L.size>1){let Se=Q;const un=[];for(;Se=Se.parentNode;){const _n=L.get(Se);if(_n){Yt=_n;break}un.push(Se)}un.forEach(_n=>L.set(_n,Yt))}const He=this._buildAnimation(et.namespaceId,St,R,o,X,U);if(et.setRealPlayer(He),Yt===Et)q.push(et);else{const Se=this.playersByElement.get(Yt);Se&&Se.length&&(et.parentPlayer=Ie(Se)),r.push(et)}}else Ze(Q,St.fromStyles),et.onDestroy(()=>Lt(Q,St.toStyles)),gt.push(et),d.has(Q)&&r.push(et)}),gt.forEach(at=>{const Q=o.get(at.element);if(Q&&Q.length){const et=Ie(Q);at.setRealPlayer(et)}}),r.forEach(at=>{at.parentPlayer?at.syncPlayerEvents(at.parentPlayer):at.destroy()});for(let at=0;at<w.length;at++){const Q=w[at],et=Q[is];if(Qr(Q,Sn),et&&et.hasAnimation)continue;let St=[];if(a.size){let He=a.get(Q);He&&He.length&&St.push(...He);let Se=this.driver.query(Q,en,!0);for(let un=0;un<Se.length;un++){let _n=a.get(Se[un]);_n&&_n.length&&St.push(..._n)}}const Yt=St.filter(He=>!He.destroyed);Yt.length?jl(this,Q,Yt):this.processLeaveNode(Q)}return w.length=0,q.forEach(at=>{this.players.push(at),at.onDone(()=>{at.destroy();const Q=this.players.indexOf(at);this.players.splice(Q,1)}),at.play()}),q}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,o){let s=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(s=a)}else{const a=this.playersByElement.get(e);if(a){const l=!o||o==Ya;a.forEach(u=>{u.queued||!l&&u.triggerName!=r||s.push(u)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(e,t,i){const o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const u=l.element,d=u!==o,f=ci(i,u,[]);this._getPreviousPlayers(u,d,s,a,t.toState).forEach(y=>{const b=y.getRealPlayer();b.beforeDestroy&&b.beforeDestroy(),y.destroy(),f.push(y)})}Ze(o,t.fromStyles)}_buildAnimation(e,t,i,r,o,s){const a=t.triggerName,l=t.element,u=[],d=new Set,f=new Set,m=t.timelines.map(b=>{const E=b.element;d.add(E);const w=E[is];if(w&&w.removedBeforeQueried)return new it.sf(b.duration,b.delay);const M=E!==l,x=function Za(n){const e=[];return Qa(n,e),e}((i.get(E)||Oa).map(R=>R.getRealPlayer())).filter(R=>!!R.element&&R.element===E),D=o.get(E),k=s.get(E),T=fn(this._normalizer,b.keyframes,D,k),O=this._buildPlayer(b,T,x);if(b.subTimeline&&r&&f.add(E),M){const R=new gc(e,a,E);R.setRealPlayer(O),u.push(R)}return O});u.forEach(b=>{ci(this.playersByQueriedElement,b.element,[]).push(b),b.onDone(()=>function Rd(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,b.element,b))}),d.forEach(b=>Us(b,pn));const y=Ie(m);return y.onDestroy(()=>{d.forEach(b=>Qr(b,pn)),Lt(l,t.toStyles)}),f.forEach(b=>{ci(r,b,[]).push(y)}),y}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new it.sf(e.duration,e.delay)}}class gc{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new it.sf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>Un(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){ci(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Bl(n){return n&&1===n.nodeType}function vc(n,e){const t=n.style.display;return n.style.display=e??"none",t}function Rh(n,e,t,i,r){const o=[];t.forEach(l=>o.push(vc(l)));const s=[];i.forEach((l,u)=>{const d=new Map;l.forEach(f=>{const m=e.computeStyle(u,f,r);d.set(f,m),(!m||0==m.length)&&(u[is]=Hr,s.push(u))}),n.set(u,d)});let a=0;return t.forEach(l=>vc(l,o[a++])),s}function ys(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const r=new Set(e),o=new Map;function s(a){if(!a)return 1;let l=o.get(a);if(l)return l;const u=a.parentNode;return l=t.has(u)?u:r.has(u)?1:s(u),o.set(a,l),l}return e.forEach(a=>{const l=s(a);1!==l&&t.get(l).push(a)}),t}function Us(n,e){n.classList?.add(e)}function Qr(n,e){n.classList?.remove(e)}function jl(n,e,t){Ie(t).onDone(()=>n.processLeaveNode(e))}function Qa(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof it.ui?Qa(i.players,e):e.push(i)}}function pl(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(o=>r.add(o)):e.set(n,i),t.delete(n),!0}class ml{constructor(e,t,i){this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new nu(e.body,t,i),this._timelineEngine=new Uu(e.body,t,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(e,t,i,r,o){const s=e+"-"+r;let a=this._triggerCache[s];if(!a){const l=[],d=gi(this._driver,o,l,[]);if(l.length)throw function De(){return new g.wOt(3404,!1)}();a=function Vu(n,e,t){return new kh(n,e,t)}(r,d,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[o,s]=Di(i);this._timelineEngine.command(o,t,s,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,o){if("@"==i.charAt(0)){const[s,a]=Di(i);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}class Vl{static#t=this.initialStylesByElement=new WeakMap;constructor(e,t,i){this._element=e,this._startStyles=t,this._endStyles=i,this._state=0;let r=Vl.initialStylesByElement.get(e);r||Vl.initialStylesByElement.set(e,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Lt(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Lt(this._element,this._initialStyles),this._endStyles&&(Lt(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Vl.initialStylesByElement.delete(this._element),this._startStyles&&(Ze(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ze(this._element,this._endStyles),this._endStyles=null),Lt(this._element,this._initialStyles),this._state=3)}}function Wo(n){let e=null;return n.forEach((t,i)=>{(function Gu(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class zl{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:Ve(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class zf{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return tn(e,t)}getParentElement(e){return Ni(e)}query(e,t,i){return mt(e,t,i)}computeStyle(e,t,i){return Ve(e,t)}animate(e,t,i,r,o,s=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(l.easing=o);const u=new Map,d=s.filter(y=>y instanceof zl);(function $t(n,e){return 0===n||0===e})(i,r)&&d.forEach(y=>{y.currentSnapshot.forEach((b,E)=>u.set(E,b))});let f=function Tt(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}(t).map(y=>new Map(y));f=function wt(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<e.length;o++){let s=e[o];r.forEach(a=>s.set(a,Ve(n,a)))}}return e}(e,f,u);const m=function Ph(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=Wo(e[0]),e.length>1&&(i=Wo(e[e.length-1]))):e instanceof Map&&(t=Wo(e)),t||i?new Vl(n,t,i):null}(e,f);return new zl(e,f,l,m)}}const bs="@.disabled";class Nd{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==bs?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class $u extends Nd{constructor(e,t,i,r,o){super(t,i,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==bs?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function gl(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function yc(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(e,t,i)}}class bc{constructor(e,t,i){this.delegate=e,this.engine=t,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(r,o)=>{o?.removeChild(null,r)}}createRenderer(e,t){const r=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){const u=this._rendererCache;let d=u.get(r);return d||(d=new Nd("",r,this.engine,()=>u.delete(r)),u.set(r,d)),d}const o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);const a=u=>{Array.isArray(u)?u.forEach(a):this.engine.registerTrigger(o,s,e,u.name,u)};return t.data.animation.forEach(a),new $u(this,s,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,i){if(e>=0&&e<this._microtaskId)return void this._zone.run(()=>t(i));const r=this._animationCallbacksBuffer;0==r.length&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),r.push([t,i])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}var Pi=P(9284);let _c=(()=>{class n extends ml{constructor(t,i,r){super(t,i,r)}ngOnDestroy(){this.flush()}static#t=this.\u0275fac=function(i){return new(i||n)(g.KVO(Pi.qQ),g.KVO(Ge),g.KVO(Wt))};static#e=this.\u0275prov=g.jDH({token:n,factory:n.\u0275fac})}return n})();const Ld=[{provide:Wt,useFactory:function Ec(){return new ai}},{provide:ml,useClass:_c},{provide:g._9s,useFactory:function g0(n,e,t){return new bc(n,e,t)},deps:[C.B7,ml,g.SKi]}],wc=[{provide:Ge,useFactory:()=>new zf},{provide:g.bc$,useValue:"BrowserAnimations"},...Ld];var Z=P(3198),J=P(3815),G=P(2647),ht=P(7071),me=P(7569),wi=P(7621),ni=P(1071),_o=P(3204),Hs=function(n){return n.Local="local_strategy",n.Session="session_strategy",n.InMemory="in_memory_strategy",n}(Hs||{});class Lh{static isStorageAvailable(e){let t=!0;try{"object"==typeof e?(e.setItem("test-storage","foobar"),e.removeItem("test-storage")):t=!1}catch{t=!1}return t}}function Gf(){}const v0="ngx-webstorage";let ya=(()=>{class n{static#t=this.prefix=v0;static#e=this.separator="|";static#n=this.isCaseSensitive=false;static normalize(t){return t=n.isCaseSensitive?t:t.toLowerCase(),`${n.prefix}${n.separator}${t}`}static isNormalizedKey(t){return 0===t.indexOf(n.prefix+n.separator)}static setPrefix(t){n.prefix=t}static setSeparator(t){n.separator=t}static setCaseSensitive(t){n.isCaseSensitive=t}static consumeConfiguration(t){"prefix"in t&&this.setPrefix(t.prefix),"separator"in t&&this.setSeparator(t.separator),"caseSensitive"in t&&this.setCaseSensitive(t.caseSensitive)}}return n})();class ba{constructor(e){this.strategy=e}retrieve(e){let t;return this.strategy.get(ya.normalize(e)).subscribe(i=>t=typeof i>"u"?null:i),t}store(e,t){return this.strategy.set(ya.normalize(e),t).subscribe(Gf),t}clear(e){void 0!==e?this.strategy.del(ya.normalize(e)).subscribe(Gf):this.strategy.clear().subscribe(Gf)}getStrategyName(){return this.strategy.name}observe(e){return e=ya.normalize(e),this.strategy.keyChanges.pipe((0,G.p)(t=>null===t||t===e),(0,ht.n)(()=>this.strategy.get(e)),(0,me.F)(),(0,wi.t)({refCount:!0,bufferSize:1}))}}let $f=(()=>{class n{constructor(){this.caches={}}get(t,i){return this.getCacheStore(t)[i]}set(t,i,r){this.getCacheStore(t)[i]=r}del(t,i){delete this.getCacheStore(t)[i]}clear(t){this.caches[t]={}}getCacheStore(t){return t in this.caches?this.caches[t]:this.caches[t]={}}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275prov=g.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const y0=new g.nKC("window_local_storage"),Bo={provide:y0,useFactory:function rr(){return typeof window<"u"?window.localStorage:null}},_s=new g.nKC("window_session_storage"),Gs={provide:_s,useFactory:function xc(){return typeof window<"u"?window.sessionStorage:null}};class Ku{constructor(e,t){this.storage=e,this.cache=t,this.keyChanges=new ni.B}get isAvailable(){return void 0===this._isAvailable&&(this._isAvailable=Lh.isStorageAvailable(this.storage)),this._isAvailable}get(e){let t=this.cache.get(this.name,e);if(void 0!==t)return(0,_o.of)(t);try{const i=this.storage.getItem(e);null!==i&&(t=JSON.parse(i),this.cache.set(this.name,e,t))}catch(i){console.warn(i)}return(0,_o.of)(t)}set(e,t){const i=JSON.stringify(t);return this.storage.setItem(e,i),this.cache.set(this.name,e,t),this.keyChanges.next(e),(0,_o.of)(t)}del(e){return this.storage.removeItem(e),this.cache.del(this.name,e),this.keyChanges.next(e),(0,_o.of)(null)}clear(){return this.storage.clear(),this.cache.clear(this.name),this.keyChanges.next(null),(0,_o.of)(null)}}class Mc extends Ku{static#t=this.strategyName=Hs.Local;constructor(e,t,i,r){super(e,t),this.storage=e,this.cache=t,this.platformId=i,this.zone=r,this.name=Mc.strategyName,(0,Pi.UE)(this.platformId)&&this.listenExternalChanges()}listenExternalChanges(){window.addEventListener("storage",e=>this.zone.run(()=>{if(e.storageArea!==this.storage)return;const t=e.key;null!==t?this.cache.del(this.name,e.key):this.cache.clear(this.name),this.keyChanges.next(t)}))}static#e=this.\u0275fac=function(t){return new(t||Mc)(g.KVO(y0),g.KVO($f),g.KVO(g.Agw),g.KVO(g.SKi))};static#n=this.\u0275prov=g.jDH({token:Mc,factory:Mc.\u0275fac})}class vl extends Ku{static#t=this.strategyName=Hs.Session;constructor(e,t,i,r){super(e,t),this.storage=e,this.cache=t,this.platformId=i,this.zone=r,this.name=vl.strategyName,(0,Pi.UE)(this.platformId)&&this.listenExternalChanges()}listenExternalChanges(){window.addEventListener("storage",e=>this.zone.run(()=>{if(e.storageArea!==this.storage)return;const t=e.key;null!==e.key?this.cache.del(this.name,e.key):this.cache.clear(this.name),this.keyChanges.next(t)}))}static#e=this.\u0275fac=function(t){return new(t||vl)(g.KVO(_s),g.KVO($f),g.KVO(g.Agw),g.KVO(g.SKi))};static#n=this.\u0275prov=g.jDH({token:vl,factory:vl.\u0275fac})}class Xu{static#t=this.strategyName=Hs.InMemory;constructor(e){this.cache=e,this.keyChanges=new ni.B,this.isAvailable=!0,this.name=Xu.strategyName}get(e){return(0,_o.of)(this.cache.get(this.name,e))}set(e,t){return this.cache.set(this.name,e,t),this.keyChanges.next(e),(0,_o.of)(t)}del(e){return this.cache.del(this.name,e),this.keyChanges.next(e),(0,_o.of)(null)}clear(){return this.cache.clear(this.name),this.keyChanges.next(null),(0,_o.of)(null)}static#e=this.\u0275fac=function(t){return new(t||Xu)(g.KVO($f))};static#n=this.\u0275prov=g.jDH({token:Xu,factory:Xu.\u0275fac})}const Bd=new g.nKC("STORAGE_STRATEGIES"),_a=[{provide:Bd,useClass:Xu,multi:!0},{provide:Bd,useClass:Mc,multi:!0},{provide:Bd,useClass:vl,multi:!0}],[xg,b0,Mg]=_a,Sg="invalid_strategy";let ru=(()=>{class n{static#t=this.index={};constructor(t){this.strategies=t,this.registration$=new ni.B,t||(t=[]),this.strategies=t.reverse().map((i,r,o)=>i.name).map((i,r,o)=>o.indexOf(i)===r?r:null).filter(i=>null!==i).map(i=>t[i])}static get(t){if(!this.isStrategyRegistered(t))throw Error(Sg);let i=this.index[t];return i.isAvailable||(i=this.index[Hs.InMemory]),i}static set(t,i){this.index[t]=i}static clear(t){void 0!==t?delete this.index[t]:this.index={}}static isStrategyRegistered(t){return t in this.index}static hasRegistredStrategies(){return Object.keys(this.index).length>0}getStrategy(t){return n.get(t)}indexStrategies(){this.strategies.forEach(t=>this.register(t.name,t))}indexStrategy(t,i=!1){if(n.isStrategyRegistered(t)&&!i)return n.get(t);const r=this.strategies.find(o=>o.name===t);if(!r)throw new Error(Sg);return this.register(t,r,i),r}register(t,i,r=!1){(!n.isStrategyRegistered(t)||r)&&(n.set(t,i),this.registration$.next(t))}static#e=this.\u0275fac=function(i){return new(i||n)(g.KVO(Bd,8))};static#n=this.\u0275prov=g.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Cc={provide:class Dg extends ba{},useFactory:function Kf(n){const e=n.indexStrategy(Hs.Local);return new ba(e)},deps:[ru]},Vh={provide:class vy extends ba{},useFactory:function Xf(n){const e=n.indexStrategy(Hs.Session);return new ba(e)},deps:[ru]},$s=new g.nKC("ngx_webstorage_config");var yl=function(n){return n[n.Config=1]="Config",n[n.LocalStorage=2]="LocalStorage",n[n.SessionStorage=3]="SessionStorage",n}(yl||{});function x0(){const n=(0,g.WQX)($s),e=(0,g.WQX)(ru);return()=>{ya.consumeConfiguration(n),e.indexStrategies()}}function jd(n,e){return{kind:n,providers:e}}var ea=P(5263),Dc=P(5561),Uh=P(6148);class st{onChanged=e=>{};onTouched=()=>{};registerOnChange(e){this.onChanged=e}registerOnTouched(e){this.onTouched=e}}function se(n,e,t){const i=vi(n),r=Pr(i)(e),o=Kr(r,t),s=En(o,"Route"),a=En(o,"Category"),l=En(o,"Group");return{label:s?.displayName||"",metaData:{category:a?sn(a):null,subcategory:l?sn(l):null,configs:t}}}const sn=n=>({label:n.displayName||"",isRoute:!!n.route,path:n.route,hide:n.hide}),En=(n,e)=>n.find(t=>t.type===e),vi=n=>n.flatMap(e=>e.children&&e.children.length>0?[e,...vi(e.children)]:e),Pr=n=>(e,t=[])=>{const i=n.find(r=>r.id===e||r.displayName===e);return i?i.parentId?Pr(n)(i.parentId,[i,...t]):[i,...t]:t},Kr=(n,e)=>{const t=e?.filter(i=>i.hide).map(i=>i.label)||[];return n.filter(i=>{const r=[i.id,i.displayName];return t.every(o=>!r.includes(o))})},Gr=[{id:"design",type:"Route",displayName:"\u60c5\u58831: \u7db2\u8def\u8a2d\u8a08",route:"/design",iconName:"icon:mx-lan",isActive:!1},{id:"monitor",type:"Route",displayName:"\u60c5\u58832: \u76e3\u63a7\u7cfb\u7d71",route:"/monitor",iconName:"icon:engineering-maintenance",isActive:!1}],yr=[...Gr];let fo=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=g.VBU({type:n,selectors:[["ng-component"]],standalone:!0,features:[g.aNF],decls:5,vars:0,consts:[[1,"mobile-warning"]],template:function(i,r){1&i&&(g.j41(0,"div",0)(1,"h1"),g.EFF(2,"\u8acb\u5207\u63db\u81f3\u96fb\u8166\u756b\u9762\u89c0\u770b"),g.k0s(),g.j41(3,"p"),g.EFF(4,"\u6b64\u9801\u9762\u5728\u884c\u52d5\u88dd\u7f6e\u4e0a\u7121\u6cd5\u5b8c\u6574\u986f\u793a\uff0c\u8acb\u4f7f\u7528\u96fb\u8166\u700f\u89bd\u3002"),g.k0s()())},dependencies:[Pi.MD],styles:[".mobile-warning[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;height:100vh;background-color:#f8d7da;color:#721c24;text-align:center;padding:20px;box-sizing:border-box}.mobile-warning[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3em;margin-bottom:.5em}.mobile-warning[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5em}[_nghost-%COMP%]{display:block;width:100%;height:100%}"],changeDetection:0})}return n})();var hi=P(3999),cn=P(6582),kn=P(2675),Xi=P(8169),$r=P(3479),po=P(7969),oo=P(613),fr=P(3796),ar=P(5910),Io=P(1201),Ia=P(3279),Gi=P(5266),Hh=P(3498),by=P(7252),Yu=P(4637);function Nr(n,e){return e?t=>(0,Ia.x)(e.pipe((0,ar.s)(1),(0,Gi.w)()),t.pipe(Nr(n))):(0,by.Z)((t,i)=>(0,Yu.Tg)(n(t,i)).pipe((0,ar.s)(1),(0,Hh.u)(t)))}var Zu=P(2388);function zd(n,e=Io.E){const t=(0,Zu.O)(n,e);return Nr(()=>t)}var Fi=P(6569),Qu=P(3068),Ul=P(4700),or=P(3788),Eo=P(3823),cs=P(9755);const Ti=["mat-menu-item",""],_y=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],Gh=["mat-icon, [matMenuItemIcon]","*"];function Tc(n,e){1&n&&(g.qSk(),g.j41(0,"svg",2),g.nrm(1,"polygon",3),g.k0s())}const Ag=["*"];function $h(n,e){if(1&n){const t=g.RV6();g.j41(0,"div",0),g.bIt("keydown",function(r){g.eBV(t);const o=g.XpG();return g.Njj(o._handleKeydown(r))})("click",function(){g.eBV(t);const r=g.XpG();return g.Njj(r.closed.emit("click"))})("@transformMenu.start",function(r){g.eBV(t);const o=g.XpG();return g.Njj(o._onAnimationStart(r))})("@transformMenu.done",function(r){g.eBV(t);const o=g.XpG();return g.Njj(o._onAnimationDone(r))}),g.j41(1,"div",1),g.SdG(2),g.k0s()()}if(2&n){const t=g.XpG();g.HbH(t._classList),g.Y8G("id",t.panelId)("@transformMenu",t._panelAnimationState),g.BMQ("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}const rs=new g.nKC("MAT_MENU_PANEL");let su=(()=>{class n{constructor(t,i,r,o,s){this._elementRef=t,this._document=i,this._focusMonitor=r,this._parentMenu=o,this._changeDetectorRef=s,this.role="menuitem",this.disabled=!1,this.disableRipple=!1,this._hovered=new ni.B,this._focused=new ni.B,this._highlighted=!1,this._triggersSubmenu=!1,o?.addItem?.(this)}focus(t,i){this._focusMonitor&&t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const t=this._elementRef.nativeElement.cloneNode(!0),i=t.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<i.length;r++)i[r].remove();return t.textContent?.trim()||""}_setHighlighted(t){this._highlighted=t,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(t){this._triggersSubmenu=t,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static#t=this.\u0275fac=function(i){return new(i||n)(g.rXU(g.aKT),g.rXU(Pi.qQ),g.rXU(cn.FN),g.rXU(rs,8),g.rXU(g.gRc))};static#e=this.\u0275cmp=g.VBU({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(i,r){1&i&&g.bIt("click",function(s){return r._checkDisabled(s)})("mouseenter",function(){return r._handleMouseEnter()}),2&i&&(g.BMQ("role",r.role)("tabindex",r._getTabIndex())("aria-disabled",r.disabled)("disabled",r.disabled||null),g.AVh("mat-mdc-menu-item-highlighted",r._highlighted)("mat-mdc-menu-item-submenu-trigger",r._triggersSubmenu))},inputs:{role:"role",disabled:[2,"disabled","disabled",g.L39],disableRipple:[2,"disableRipple","disableRipple",g.L39]},exportAs:["matMenuItem"],standalone:!0,features:[g.GFd,g.aNF],attrs:Ti,ngContentSelectors:Gh,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(i,r){1&i&&(g.NAR(_y),g.SdG(0),g.j41(1,"span",0),g.SdG(2,1),g.k0s(),g.nrm(3,"div",1),g.DNE(4,Tc,2,0,":svg:svg",2)),2&i&&(g.R7$(3),g.Y8G("matRippleDisabled",r.disableRipple||r.disabled)("matRippleTrigger",r._getHostElement()),g.R7$(),g.vxM(r._triggersSubmenu?4:-1))},dependencies:[Fi.r6],encapsulation:2,changeDetection:0})}return n})();const Wh=new g.nKC("MatMenuContent"),qa={transformMenu:(0,it.hZ)("transformMenu",[(0,it.wk)("void",(0,it.iF)({opacity:0,transform:"scale(0.8)"})),(0,it.kY)("void => enter",(0,it.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,it.iF)({opacity:1,transform:"scale(1)"}))),(0,it.kY)("* => void",(0,it.i0)("100ms 25ms linear",(0,it.iF)({opacity:0})))]),fadeInItems:(0,it.hZ)("fadeInItems",[(0,it.wk)("showing",(0,it.iF)({opacity:1})),(0,it.kY)("void => *",[(0,it.iF)({opacity:0}),(0,it.i0)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let xD=0;const wy=new g.nKC("mat-menu-default-options",{providedIn:"root",factory:function kg(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let Ud=(()=>{class n{get xPosition(){return this._xPosition}set xPosition(t){this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){this._yPosition=t,this.setPositionClasses()}set panelClass(t){const i=this._previousPanelClass,r={...this._classList};i&&i.length&&i.split(" ").forEach(o=>{r[o]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(o=>{r[o]=!0}),this._elementRef.nativeElement.className=""),this._classList=r}get classList(){return this.panelClass}set classList(t){this.panelClass=t}constructor(t,i,r,o){this._elementRef=t,this._changeDetectorRef=o,this._elevationPrefix="mat-elevation-z",this._baseElevation=null,this._directDescendantItems=new g.rOR,this._classList={},this._panelAnimationState="void",this._animationDone=new ni.B,this.closed=new g.bkB,this.close=this.closed,this.panelId="mat-menu-panel-"+xD++,this._injector=(0,g.WQX)(g.zZn),this.overlayPanelClass=r.overlayPanelClass||"",this._xPosition=r.xPosition,this._yPosition=r.yPosition,this.backdropClass=r.backdropClass,this.overlapTrigger=r.overlapTrigger,this.hasBackdrop=r.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new cn.Bu(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe((0,oo.Z)(this._directDescendantItems),(0,ht.n)(t=>(0,Xi.h)(...t.map(i=>i._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t)),this._directDescendantItems.changes.subscribe(t=>{const i=this._keyManager;if("enter"===this._panelAnimationState&&i.activeItem?._hasFocus()){const r=t.toArray(),o=Math.max(0,Math.min(r.length-1,i.activeItemIndex||0));r[o]&&!r[o].disabled?i.setActiveItem(o):i.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusRef?.destroy()}_hovered(){return this._directDescendantItems.changes.pipe((0,oo.Z)(this._directDescendantItems),(0,ht.n)(i=>(0,Xi.h)(...i.map(r=>r._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){const i=t.keyCode,r=this._keyManager;switch(i){case kn._f:(0,kn.rp)(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case kn.UQ:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case kn.LE:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(i===kn.i7||i===kn.n6)&&r.setFocusOrigin("keyboard"),void r.onKeydown(t)}t.stopPropagation()}focusFirstItem(t="program"){this._firstItemFocusRef?.destroy(),this._firstItemFocusRef=(0,g.mal)(()=>{let i=null;if(this._directDescendantItems.length&&(i=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!i||!i.contains(document.activeElement)){const r=this._keyManager;r.setFocusOrigin(t).setFirstItemActive(),!r.activeItem&&i&&i.focus()}},{injector:this._injector})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){if(null===this._baseElevation){const a=("function"==typeof getComputedStyle?getComputedStyle(this._elementRef.nativeElement):null)?.getPropertyValue("--mat-menu-base-elevation-level")||"8";this._baseElevation=parseInt(a)}const i=Math.min(this._baseElevation+t,24),r=`${this._elevationPrefix}${i}`,o=Object.keys(this._classList).find(s=>s.startsWith(this._elevationPrefix));if(!o||o===this._previousElevation){const s={...this._classList};this._previousElevation&&(s[this._previousElevation]=!1),s[r]=!0,this._previousElevation=r,this._classList=s}}setPositionClasses(t=this.xPosition,i=this.yPosition){this._classList={...this._classList,"mat-menu-before":"before"===t,"mat-menu-after":"after"===t,"mat-menu-above":"above"===i,"mat-menu-below":"below"===i},this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe((0,oo.Z)(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}static#t=this.\u0275fac=function(i){return new(i||n)(g.rXU(g.aKT),g.rXU(g.SKi),g.rXU(wy),g.rXU(g.gRc))};static#e=this.\u0275cmp=g.VBU({type:n,selectors:[["mat-menu"]],contentQueries:function(i,r,o){if(1&i&&(g.wni(o,Wh,5),g.wni(o,su,5),g.wni(o,su,4)),2&i){let s;g.mGM(s=g.lsd())&&(r.lazyContent=s.first),g.mGM(s=g.lsd())&&(r._allItems=s),g.mGM(s=g.lsd())&&(r.items=s)}},viewQuery:function(i,r){if(1&i&&g.GBs(g.C4Q,5),2&i){let o;g.mGM(o=g.lsd())&&(r.templateRef=o.first)}},hostVars:3,hostBindings:function(i,r){2&i&&g.BMQ("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[2,"overlapTrigger","overlapTrigger",g.L39],hasBackdrop:[2,"hasBackdrop","hasBackdrop",t=>null==t?null:(0,g.L39)(t)],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],standalone:!0,features:[g.Jv_([{provide:rs,useExisting:n}]),g.GFd,g.aNF],ngContentSelectors:Ag,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"keydown","click","id"],[1,"mat-mdc-menu-content"]],template:function(i,r){1&i&&(g.NAR(),g.DNE(0,$h,3,7,"ng-template"))},styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;outline:0}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font, var(--mat-app-label-large-font));line-height:var(--mat-menu-item-label-text-line-height, var(--mat-app-label-large-line-height));font-size:var(--mat-menu-item-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mat-menu-item-label-text-tracking, var(--mat-app-label-large-tracking));font-weight:var(--mat-menu-item-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape, var(--mat-app-corner-extra-small));background-color:var(--mat-menu-container-color, var(--mat-app-surface-container));will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.mat-mdc-menu-panel.ng-animating:has(.mat-mdc-menu-content:empty){display:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-panel .mat-divider{color:var(--mat-menu-divider-color, var(--mat-app-surface-variant));margin-bottom:var(--mat-menu-divider-bottom-spacing);margin-top:var(--mat-menu-divider-top-spacing)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:var(--mat-menu-item-leading-spacing);padding-right:var(--mat-menu-item-trailing-spacing);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px}[dir=rtl] .mat-mdc-menu-item{padding-right:var(--mat-menu-item-leading-spacing);padding-left:var(--mat-menu-item-trailing-spacing)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing);padding-right:var(--mat-menu-item-with-icon-trailing-spacing)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-right:var(--mat-menu-item-with-icon-leading-spacing);padding-left:var(--mat-menu-item-with-icon-trailing-spacing)}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color, var(--mat-app-on-surface))}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item:focus{outline:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing);height:var(--mat-menu-item-icon-size);width:var(--mat-menu-item-icon-size)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1);transform-origin:center}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[qa.transformMenu,qa.fadeInItems]},changeDetection:0})}return n})();const Ig=new g.nKC("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{const n=(0,g.WQX)(or.hJ);return()=>n.scrollStrategies.reposition()}}),cN={provide:Ig,deps:[or.hJ],useFactory:function lN(n){return()=>n.scrollStrategies.reposition()}},MD=(0,Eo.BQ)({passive:!0});let Rg=(()=>{class n{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(t,i,r,o,s,a,l,u,d){this._overlay=t,this._element=i,this._viewContainerRef=r,this._menuItemInstance=a,this._dir=l,this._focusMonitor=u,this._ngZone=d,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=$r.yU.EMPTY,this._hoverSubscription=$r.yU.EMPTY,this._menuCloseSubscription=$r.yU.EMPTY,this._changeDetectorRef=(0,g.WQX)(g.gRc),this._handleTouchStart=f=>{(0,cn.w6)(f)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new g.bkB,this.onMenuOpen=this.menuOpened,this.menuClosed=new g.bkB,this.onMenuClose=this.menuClosed,this._scrollStrategy=o,this._parentMaterialMenu=s instanceof Ud?s:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,MD)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,MD),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const t=this.menu;if(this._menuOpen||!t)return;const i=this._createOverlay(t),r=i.getConfig(),o=r.positionStrategy;this._setPosition(t,o),r.hasBackdrop=null==t.hasBackdrop?!this.triggersSubmenu():t.hasBackdrop,i.attach(this._getPortal(t)),t.lazyContent&&t.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(t),t instanceof Ud&&(t._startAnimation(),t._directDescendantItems.changes.pipe((0,fr.Q)(t.close)).subscribe(()=>{o.withLockedPosition(!1).reapplyLastPosition(),o.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(t,i){this._focusMonitor&&t?this._focusMonitor.focusVia(this._element,t,i):this._element.nativeElement.focus(i)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(t){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===t||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof Ud?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe((0,G.p)(r=>"void"===r.toState),(0,ar.s)(1),(0,fr.Q)(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i?.lazyContent?.detach())}_initMenu(t){t.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,t.direction=this.dir,this._setMenuElevation(t),t.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(t){if(t.setElevation){let i=0,r=t.parentMenu;for(;r;)i++,r=r.parentMenu;t.setElevation(i)}}_setIsMenuOpen(t){t!==this._menuOpen&&(this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(t),this._changeDetectorRef.markForCheck())}_createOverlay(t){if(!this._overlayRef){const i=this._getOverlayConfig(t);this._subscribeToPositions(t,i.positionStrategy),this._overlayRef=this._overlay.create(i),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(t){return new or.rR({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:t.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:t.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t,i){t.setPositionClasses&&i.positionChanges.subscribe(r=>{const o="start"===r.connectionPair.overlayX?"after":"before",s="top"===r.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>t.setPositionClasses(o,s)):t.setPositionClasses(o,s)})}_setPosition(t,i){let[r,o]="before"===t.xPosition?["end","start"]:["start","end"],[s,a]="above"===t.yPosition?["bottom","top"]:["top","bottom"],[l,u]=[s,a],[d,f]=[r,o],m=0;if(this.triggersSubmenu()){if(f=r="before"===t.xPosition?"start":"end",o=d="end"===r?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const y=this._parentMaterialMenu.items.first;this._parentInnerPadding=y?y._getHostElement().offsetTop:0}m="bottom"===s?this._parentInnerPadding:-this._parentInnerPadding}}else t.overlapTrigger||(l="top"===s?"bottom":"top",u="top"===a?"bottom":"top");i.withPositions([{originX:r,originY:l,overlayX:d,overlayY:s,offsetY:m},{originX:o,originY:l,overlayX:f,overlayY:s,offsetY:m},{originX:r,originY:u,overlayX:d,overlayY:a,offsetY:-m},{originX:o,originY:u,overlayX:f,overlayY:a,offsetY:-m}])}_menuClosingActions(){const t=this._overlayRef.backdropClick(),i=this._overlayRef.detachments(),r=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,_o.of)(),o=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe((0,G.p)(s=>s!==this._menuItemInstance),(0,G.p)(()=>this._menuOpen)):(0,_o.of)();return(0,Xi.h)(t,r,o,i)}_handleMousedown(t){(0,cn._G)(t)||(this._openedBy=0===t.button?"mouse":void 0,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){const i=t.keyCode;(i===kn.Fm||i===kn.t6)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(i===kn.LE&&"ltr"===this.dir||i===kn.UQ&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe((0,G.p)(t=>t===this._menuItemInstance&&!t.disabled),zd(0,po.$)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Ud&&this.menu._isAnimating?this.menu._animationDone.pipe((0,ar.s)(1),zd(0,po.$),(0,fr.Q)(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(t){return(!this._portal||this._portal.templateRef!==t.templateRef)&&(this._portal=new Qu.VA(t.templateRef,this._viewContainerRef)),this._portal}static#t=this.\u0275fac=function(i){return new(i||n)(g.rXU(or.hJ),g.rXU(g.aKT),g.rXU(g.c1b),g.rXU(Ig),g.rXU(rs,8),g.rXU(su,10),g.rXU(Ul.dS,8),g.rXU(cn.FN),g.rXU(g.SKi))};static#e=this.\u0275dir=g.FsC({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(i,r){1&i&&g.bIt("click",function(s){return r._handleClick(s)})("mousedown",function(s){return r._handleMousedown(s)})("keydown",function(s){return r._handleKeydown(s)}),2&i&&g.BMQ("aria-haspopup",r.menu?"menu":null)("aria-expanded",r.menuOpen)("aria-controls",r.menuOpen?r.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[0,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[0,"matMenuTriggerFor","menu"],menuData:[0,"matMenuTriggerData","menuData"],restoreFocus:[0,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"],standalone:!0})}return n})(),N=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=g.$C({type:n});static#n=this.\u0275inj=g.G2t({providers:[cN],imports:[Pi.MD,Fi.pZ,Fi.yE,or.z_,cs.Gj,Fi.yE]})}return n})(),z=(()=>{class n extends or.Sf{constructor(t,i){super(t,i)}setContainerElement(t){this._containerElement=t}static#t=this.\u0275fac=function(i){return new(i||n)(g.KVO(Pi.qQ),g.KVO(Eo.OD))};static#e=this.\u0275prov=g.jDH({token:n,factory:n.\u0275fac})}return n})(),B=(()=>{class n extends or.hJ{constructor(t,i,r,o,s,a,l,u,d,f,m,y){super(t,i,r,o,s,a,l,u,d,f,m),this.renderer=y.createRenderer(null,null),this._dynamicOverlayContainer=i}setContainerElement(t){this._dynamicOverlayContainer.setContainerElement(t)}setTransform(t,i){i?this.renderer.setStyle(t,"transform","translateZ(0)"):this.renderer.removeStyle(t,"transform")}static#t=this.\u0275fac=function(i){return new(i||n)(g.KVO(or.Tv),g.KVO(z),g.KVO(g.OM3),g.KVO(or.lF),g.KVO(or.Jr),g.KVO(g.zZn),g.KVO(g.SKi),g.KVO(Pi.qQ),g.KVO(Ul.dS),g.KVO(Pi.aZ),g.KVO(or.hr),g.KVO(g._9s))};static#e=this.\u0275prov=g.jDH({token:n,factory:n.\u0275fac})}return n})(),W=(()=>{class n{constructor(){this.spinnerSize="default",this.spinnerColor="primary"}get isSizeDefault(){return"default"===this.spinnerSize}get isSizeSmall(){return"sm"===this.spinnerSize}get isColorPrimary(){return"primary"===this.spinnerColor}get isColorOnSurface(){return"onSurface"===this.spinnerColor}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=g.VBU({type:n,selectors:[["mx-progress-spinner"]],hostVars:8,hostBindings:function(i,r){2&i&&g.AVh("mx-progress-spinner--default",r.isSizeDefault)("mx-progress-spinner--sm",r.isSizeSmall)("mx-progress-spinner--primary",r.isColorPrimary)("mx-progress-spinner--on-surface",r.isColorOnSurface)},inputs:{spinnerSize:"spinnerSize",spinnerColor:"spinnerColor"},standalone:!0,features:[g.Jv_([B,z]),g.aNF],decls:1,vars:0,consts:[[1,"mx-progress-spinner__circle"]],template:function(i,r){1&i&&g.nrm(0,"div",0)},styles:[".progress-spinner[_ngcontent-%COMP%], .mx-progress-spinner__circle[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spinnerAnimation .85s ease-in-out infinite;border-style:solid;border-radius:50%;box-sizing:border-box}.progress-spinner--default[_ngcontent-%COMP%], .mx-progress-spinner--default[_nghost-%COMP%]   .mx-progress-spinner__circle[_ngcontent-%COMP%]{border-width:4px;width:36px;height:36px}.progress-spinner--sm[_ngcontent-%COMP%], .mx-progress-spinner--sm[_nghost-%COMP%]   .mx-progress-spinner__circle[_ngcontent-%COMP%]{border-width:2px;width:14px;height:14px}@keyframes _ngcontent-%COMP%_spinnerAnimation{0%{transform:rotate(0)}to{transform:rotate(360deg)}}[_nghost-%COMP%]{display:block}.mx-progress-spinner--default[_nghost-%COMP%]{padding:6px}.mx-progress-spinner--sm[_nghost-%COMP%]{padding:2px}"],changeDetection:0})}return n})(),tt=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=g.VBU({type:n,selectors:[["mx-loading-mask"]],hostAttrs:[1,"mx-loading-mask"],standalone:!0,features:[g.aNF],decls:1,vars:0,template:function(i,r){1&i&&g.nrm(0,"mx-progress-spinner")},dependencies:[W],styles:["[_nghost-%COMP%]{position:absolute;inset:0;padding:8px;display:flex;align-items:center;justify-content:center;z-index:100}"]})}return n})(),_t=(()=>{class n{constructor(){this.mxLoading=!1,this.elRef=(0,g.WQX)(g.aKT),this.viewContainerRef=(0,g.WQX)(g.c1b),this.componentRef=null}ngOnInit(){this.mxLoading&&this.displayLoadingMask()}ngOnDestroy(){this.componentRef&&this.clearLoadingMask()}ngOnChanges(){this.mxLoading?this.displayLoadingMask():this.clearLoadingMask()}displayLoadingMask(){this.clearLoadingMask(),this.componentRef=this.viewContainerRef.createComponent(tt),this.elRef.nativeElement.append(this.componentRef.location.nativeElement)}clearLoadingMask(){this.componentRef&&(this.viewContainerRef.clear(),this.componentRef=null)}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275dir=g.FsC({type:n,selectors:[["","mxLoading",""]],hostVars:2,hostBindings:function(i,r){2&i&&g.AVh("mx-loading-parent",r.mxLoading)},inputs:{mxLoading:[2,"mxLoading","mxLoading",g.L39]},standalone:!0,features:[g.GFd,g.OA$]})}return n})();var re=P(6994),an=Object.defineProperty,ln=(n,e,t)=>(((n,e,t)=>{e in n?an(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t})(n,"symbol"!=typeof e?e+"":e,t),t),$i=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)},zi=(n,e,t)=>($i(n,e,"read from private field"),t?t.call(n):e.get(n)),Ro=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)},bl=(n,e,t,i)=>($i(n,e,"write to private field"),i?i.call(n,t):e.set(n,t),t),Ks=(n,e,t)=>($i(n,e,"access private method"),t),ji=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ea(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Po(n){if(n.__esModule)return n;var e=n.default;if("function"==typeof e){var t=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var r=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,r.get?r:{enumerable:!0,get:function(){return n[i]}})}),t}var xy={},xn={};function Hd(n){return(Hd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function My(n){var e=function uN(n,e){if("object"!=Hd(n)||!n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var i=t.call(n,e||"default");if("object"!=Hd(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"==Hd(e)?e:e+""}function Vn(n,e,t){return(e=My(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}const qu=Object.freeze(Object.defineProperty({__proto__:null,default:Vn},Symbol.toStringTag,{value:"Module"}));function CE(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function xr(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?CE(Object(t),!0).forEach(function(i){Vn(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):CE(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}const SE=Po(Object.freeze(Object.defineProperty({__proto__:null,default:xr},Symbol.toStringTag,{value:"Module"})));function In(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}const dN=Po(Object.freeze(Object.defineProperty({__proto__:null,default:In},Symbol.toStringTag,{value:"Module"})));function C0(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,My(i.key),i)}}function On(n,e,t){return e&&C0(n.prototype,e),t&&C0(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}const hN=Po(Object.freeze(Object.defineProperty({__proto__:null,default:On},Symbol.toStringTag,{value:"Module"})));function Pg(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,i=Array(e);t<e;t++)i[t]=n[t];return i}function Cy(n,e){if(n){if("string"==typeof n)return Pg(n,e);var t={}.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Pg(n,e):void 0}}function Ko(n){return function fN(n){if(Array.isArray(n))return Pg(n)}(n)||function Ac(n){if(typeof Symbol<"u"&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||Cy(n)||function CD(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const DE=Po(Object.freeze(Object.defineProperty({__proto__:null,default:Ko},Symbol.toStringTag,{value:"Module"})));function Gd(n){return(Gd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(n)}function Ng(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ng=function(){return!!n})()}function Kn(n,e,t){return e=Gd(e),function $d(n,e){if(e&&("object"==Hd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function TE(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}(n,Ng()?Reflect.construct(e,t||[],Gd(n).constructor):e.apply(n,t))}const AE=Po(Object.freeze(Object.defineProperty({__proto__:null,default:Kn},Symbol.toStringTag,{value:"Module"})));function Ty(n,e){return(Ty=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t})(n,e)}function br(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Ty(n,e)}const mN=Po(Object.freeze(Object.defineProperty({__proto__:null,default:br},Symbol.toStringTag,{value:"Module"})));function Yi(n,e){return function gN(n){if(Array.isArray(n))return n}(n)||function SD(n,e){var t=null==n?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var i,r,o,s,a=[],l=!0,u=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;l=!1}else for(;!(l=(i=o.call(t)).done)&&(a.push(i.value),a.length!==e);l=!0);}catch(d){u=!0,r=d}finally{try{if(!l&&null!=t.return&&(s=t.return(),Object(s)!==s))return}finally{if(u)throw r}}return a}}(n,e)||Cy(n,e)||function Zf(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const yN=Po(Object.freeze(Object.defineProperty({__proto__:null,default:Yi},Symbol.toStringTag,{value:"Module"})));var DD={exports:{}};!function(n){var e=Object.prototype.hasOwnProperty,t="~";function i(){}function r(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function o(l,u,d,f,m){if("function"!=typeof d)throw new TypeError("The listener must be a function");var y=new r(d,f||l,m),b=t?t+u:u;return l._events[b]?l._events[b].fn?l._events[b]=[l._events[b],y]:l._events[b].push(y):(l._events[b]=y,l._eventsCount++),l}function s(l,u){0==--l._eventsCount?l._events=new i:delete l._events[u]}function a(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(t=!1)),a.prototype.eventNames=function(){var u,d,l=[];if(0===this._eventsCount)return l;for(d in u=this._events)e.call(u,d)&&l.push(t?d.slice(1):d);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(u)):l},a.prototype.listeners=function(l){var d=this._events[t?t+l:l];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,m=d.length,y=new Array(m);f<m;f++)y[f]=d[f].fn;return y},a.prototype.listenerCount=function(l){var d=this._events[t?t+l:l];return d?d.fn?1:d.length:0},a.prototype.emit=function(l,u,d,f,m,y){var b=t?t+l:l;if(!this._events[b])return!1;var M,x,E=this._events[b],w=arguments.length;if(E.fn){switch(E.once&&this.removeListener(l,E.fn,void 0,!0),w){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,u),!0;case 3:return E.fn.call(E.context,u,d),!0;case 4:return E.fn.call(E.context,u,d,f),!0;case 5:return E.fn.call(E.context,u,d,f,m),!0;case 6:return E.fn.call(E.context,u,d,f,m,y),!0}for(x=1,M=new Array(w-1);x<w;x++)M[x-1]=arguments[x];E.fn.apply(E.context,M)}else{var k,D=E.length;for(x=0;x<D;x++)switch(E[x].once&&this.removeListener(l,E[x].fn,void 0,!0),w){case 1:E[x].fn.call(E[x].context);break;case 2:E[x].fn.call(E[x].context,u);break;case 3:E[x].fn.call(E[x].context,u,d);break;case 4:E[x].fn.call(E[x].context,u,d,f);break;default:if(!M)for(k=1,M=new Array(w-1);k<w;k++)M[k-1]=arguments[k];E[x].fn.apply(E[x].context,M)}}return!0},a.prototype.on=function(l,u,d){return o(this,l,u,d,!1)},a.prototype.once=function(l,u,d){return o(this,l,u,d,!0)},a.prototype.removeListener=function(l,u,d,f){var m=t?t+l:l;if(!this._events[m])return this;if(!u)return s(this,m),this;var y=this._events[m];if(y.fn)y.fn===u&&(!f||y.once)&&(!d||y.context===d)&&s(this,m);else{for(var b=0,E=[],w=y.length;b<w;b++)(y[b].fn!==u||f&&!y[b].once||d&&y[b].context!==d)&&E.push(y[b]);E.length?this._events[m]=1===E.length?E[0]:E:s(this,m)}return this},a.prototype.removeAllListeners=function(l){var u;return l?this._events[u=t?t+l:l]&&s(this,u):(this._events=new i,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=t,a.EventEmitter=a,n.exports=a}(DD);const hn=Ea(DD.exports),TD=Po(Object.freeze(Object.defineProperty({__proto__:null,EventEmitter:hn,default:hn},Symbol.toStringTag,{value:"Module"})));var Ai=1e-6,xi=typeof Float32Array<"u"?Float32Array:Array,Oc=Math.random,au=Math.PI/180;Math.hypot||(Math.hypot=function(){for(var n=0,e=arguments.length;e--;)n+=arguments[e]*arguments[e];return Math.sqrt(n)});const AD=Object.freeze(Object.defineProperty({__proto__:null,get ARRAY_TYPE(){return xi},EPSILON:Ai,RANDOM:Oc,equals:function kE(n,e){return Math.abs(n-e)<=Ai*Math.max(1,Math.abs(n),Math.abs(e))},setMatrixArrayType:function Lg(n){xi=n},toRadian:function OE(n){return n*au}},Symbol.toStringTag,{value:"Module"}));function PD(n,e,t){var i=e[0],r=e[1],o=e[2],s=e[3],a=t[0],l=t[1],u=t[2],d=t[3];return n[0]=i*a+o*l,n[1]=r*a+s*l,n[2]=i*u+o*d,n[3]=r*u+s*d,n}function NE(n,e,t){return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n[2]=e[2]-t[2],n[3]=e[3]-t[3],n}const xN=Object.freeze(Object.defineProperty({__proto__:null,LDU:function Ay(n,e,t,i){return n[2]=i[2]/i[0],t[0]=i[0],t[1]=i[1],t[3]=i[3]-n[2]*t[1],[n,e,t]},add:function wN(n,e,t){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n[2]=e[2]+t[2],n[3]=e[3]+t[3],n},adjoint:function lu(n,e){var t=e[0];return n[0]=e[3],n[1]=-e[1],n[2]=-e[2],n[3]=t,n},clone:function HG(n){var e=new xi(4);return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e},copy:function OD(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n},create:function UG(){var n=new xi(4);return xi!=Float32Array&&(n[1]=0,n[2]=0),n[0]=1,n[3]=1,n},determinant:function Kd(n){return n[0]*n[3]-n[2]*n[1]},equals:function LD(n,e){var t=n[0],i=n[1],r=n[2],o=n[3],s=e[0],a=e[1],l=e[2],u=e[3];return Math.abs(t-s)<=Ai*Math.max(1,Math.abs(t),Math.abs(s))&&Math.abs(i-a)<=Ai*Math.max(1,Math.abs(i),Math.abs(a))&&Math.abs(r-l)<=Ai*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(o-u)<=Ai*Math.max(1,Math.abs(o),Math.abs(u))},exactEquals:function LE(n,e){return n[0]===e[0]&&n[1]===e[1]&&n[2]===e[2]&&n[3]===e[3]},frob:function PE(n){return Math.hypot(n[0],n[1],n[2],n[3])},fromRotation:function EN(n,e){var t=Math.sin(e),i=Math.cos(e);return n[0]=i,n[1]=t,n[2]=-t,n[3]=i,n},fromScaling:function IE(n,e){return n[0]=e[0],n[1]=0,n[2]=0,n[3]=e[1],n},fromValues:function ID(n,e,t,i){var r=new xi(4);return r[0]=n,r[1]=e,r[2]=t,r[3]=i,r},identity:function kD(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=1,n},invert:function RD(n,e){var t=e[0],i=e[1],r=e[2],o=e[3],s=t*o-r*i;return s?(n[0]=o*(s=1/s),n[1]=-i*s,n[2]=-r*s,n[3]=t*s,n):null},mul:PD,multiply:PD,multiplyScalar:function FD(n,e,t){return n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t,n[3]=e[3]*t,n},multiplyScalarAndAdd:function BD(n,e,t,i){return n[0]=e[0]+t[0]*i,n[1]=e[1]+t[1]*i,n[2]=e[2]+t[2]*i,n[3]=e[3]+t[3]*i,n},rotate:function ND(n,e,t){var i=e[0],r=e[1],o=e[2],s=e[3],a=Math.sin(t),l=Math.cos(t);return n[0]=i*l+o*a,n[1]=r*l+s*a,n[2]=i*-a+o*l,n[3]=r*-a+s*l,n},scale:function _N(n,e,t){var r=e[1],o=e[2],s=e[3],a=t[0],l=t[1];return n[0]=e[0]*a,n[1]=r*a,n[2]=o*l,n[3]=s*l,n},set:function tl(n,e,t,i,r){return n[0]=e,n[1]=t,n[2]=i,n[3]=r,n},str:function RE(n){return"mat2("+n[0]+", "+n[1]+", "+n[2]+", "+n[3]+")"},sub:NE,subtract:NE,transpose:function Wd(n,e){if(n===e){var t=e[1];n[1]=e[2],n[2]=t}else n[0]=e[0],n[1]=e[2],n[2]=e[1],n[3]=e[3];return n}},Symbol.toStringTag,{value:"Module"}));function BE(n,e,t){var i=e[0],r=e[1],o=e[2],s=e[3],a=e[4],l=e[5],u=t[0],d=t[1],f=t[2],m=t[3],y=t[4],b=t[5];return n[0]=i*u+o*d,n[1]=r*u+s*d,n[2]=i*f+o*m,n[3]=r*f+s*m,n[4]=i*y+o*b+a,n[5]=r*y+s*b+l,n}function $D(n,e,t){return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n[2]=e[2]-t[2],n[3]=e[3]-t[3],n[4]=e[4]-t[4],n[5]=e[5]-t[5],n}const AN=Object.freeze(Object.defineProperty({__proto__:null,add:function GD(n,e,t){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n[2]=e[2]+t[2],n[3]=e[3]+t[3],n[4]=e[4]+t[4],n[5]=e[5]+t[5],n},clone:function Qf(n){var e=new xi(6);return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e},copy:function jo(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n},create:function wa(){var n=new xi(6);return xi!=Float32Array&&(n[1]=0,n[2]=0,n[4]=0,n[5]=0),n[0]=1,n[3]=1,n},determinant:function UD(n){return n[0]*n[3]-n[1]*n[2]},equals:function VE(n,e){var t=n[0],i=n[1],r=n[2],o=n[3],s=n[4],a=n[5],l=e[0],u=e[1],d=e[2],f=e[3],m=e[4],y=e[5];return Math.abs(t-l)<=Ai*Math.max(1,Math.abs(t),Math.abs(l))&&Math.abs(i-u)<=Ai*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(r-d)<=Ai*Math.max(1,Math.abs(r),Math.abs(d))&&Math.abs(o-f)<=Ai*Math.max(1,Math.abs(o),Math.abs(f))&&Math.abs(s-m)<=Ai*Math.max(1,Math.abs(s),Math.abs(m))&&Math.abs(a-y)<=Ai*Math.max(1,Math.abs(a),Math.abs(y))},exactEquals:function DN(n,e){return n[0]===e[0]&&n[1]===e[1]&&n[2]===e[2]&&n[3]===e[3]&&n[4]===e[4]&&n[5]===e[5]},frob:function HD(n){return Math.hypot(n[0],n[1],n[2],n[3],n[4],n[5],1)},fromRotation:function Oy(n,e){var t=Math.sin(e),i=Math.cos(e);return n[0]=i,n[1]=t,n[2]=-t,n[3]=i,n[4]=0,n[5]=0,n},fromScaling:function ky(n,e){return n[0]=e[0],n[1]=0,n[2]=0,n[3]=e[1],n[4]=0,n[5]=0,n},fromTranslation:function Iy(n,e){return n[0]=1,n[1]=0,n[2]=0,n[3]=1,n[4]=e[0],n[5]=e[1],n},fromValues:function MN(n,e,t,i,r,o){var s=new xi(6);return s[0]=n,s[1]=e,s[2]=t,s[3]=i,s[4]=r,s[5]=o,s},identity:function VD(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=1,n[4]=0,n[5]=0,n},invert:function CN(n,e){var t=e[0],i=e[1],r=e[2],o=e[3],s=e[4],a=e[5],l=t*o-i*r;return l?(n[0]=o*(l=1/l),n[1]=-i*l,n[2]=-r*l,n[3]=t*l,n[4]=(r*a-o*s)*l,n[5]=(i*s-t*a)*l,n):null},mul:BE,multiply:BE,multiplyScalar:function S0(n,e,t){return n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t,n[3]=e[3]*t,n[4]=e[4]*t,n[5]=e[5]*t,n},multiplyScalarAndAdd:function Bg(n,e,t,i){return n[0]=e[0]+t[0]*i,n[1]=e[1]+t[1]*i,n[2]=e[2]+t[2]*i,n[3]=e[3]+t[3]*i,n[4]=e[4]+t[4]*i,n[5]=e[5]+t[5]*i,n},rotate:function Fg(n,e,t){var i=e[0],r=e[1],o=e[2],s=e[3],a=e[4],l=e[5],u=Math.sin(t),d=Math.cos(t);return n[0]=i*d+o*u,n[1]=r*d+s*u,n[2]=i*-u+o*d,n[3]=r*-u+s*d,n[4]=a,n[5]=l,n},scale:function Ju(n,e,t){var r=e[1],o=e[2],s=e[3],a=e[4],l=e[5],u=t[0],d=t[1];return n[0]=e[0]*u,n[1]=r*u,n[2]=o*d,n[3]=s*d,n[4]=a,n[5]=l,n},set:function zD(n,e,t,i,r,o,s){return n[0]=e,n[1]=t,n[2]=i,n[3]=r,n[4]=o,n[5]=s,n},str:function jE(n){return"mat2d("+n[0]+", "+n[1]+", "+n[2]+", "+n[3]+", "+n[4]+", "+n[5]+")"},sub:$D,subtract:$D,translate:function SN(n,e,t){var i=e[0],r=e[1],o=e[2],s=e[3],a=e[4],l=e[5],u=t[0],d=t[1];return n[0]=i,n[1]=r,n[2]=o,n[3]=s,n[4]=i*u+o*d+a,n[5]=r*u+s*d+l,n}},Symbol.toStringTag,{value:"Module"}));function zE(){var n=new xi(9);return xi!=Float32Array&&(n[1]=0,n[2]=0,n[3]=0,n[5]=0,n[6]=0,n[7]=0),n[0]=1,n[4]=1,n[8]=1,n}function ON(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[4],n[4]=e[5],n[5]=e[6],n[6]=e[8],n[7]=e[9],n[8]=e[10],n}function Kh(n,e,t,i,r,o,s,a,l){var u=new xi(9);return u[0]=n,u[1]=e,u[2]=t,u[3]=i,u[4]=r,u[5]=o,u[6]=s,u[7]=a,u[8]=l,u}function Xd(n,e,t){var i=e[0],r=e[1],o=e[2],s=e[3],a=e[4],l=e[5],u=e[6],d=e[7],f=e[8],m=t[0],y=t[1],b=t[2],E=t[3],w=t[4],M=t[5],x=t[6],D=t[7],k=t[8];return n[0]=m*i+y*s+b*u,n[1]=m*r+y*a+b*d,n[2]=m*o+y*l+b*f,n[3]=E*i+w*s+M*u,n[4]=E*r+w*a+M*d,n[5]=E*o+w*l+M*f,n[6]=x*i+D*s+k*u,n[7]=x*r+D*a+k*d,n[8]=x*o+D*l+k*f,n}function YD(n,e){return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=1,n[5]=0,n[6]=e[0],n[7]=e[1],n[8]=1,n}function cu(n,e){var t=Math.sin(e),i=Math.cos(e);return n[0]=i,n[1]=t,n[2]=0,n[3]=-t,n[4]=i,n[5]=0,n[6]=0,n[7]=0,n[8]=1,n}function ZD(n,e){return n[0]=e[0],n[1]=0,n[2]=0,n[3]=0,n[4]=e[1],n[5]=0,n[6]=0,n[7]=0,n[8]=1,n}function KE(n,e,t){return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n[2]=e[2]-t[2],n[3]=e[3]-t[3],n[4]=e[4]-t[4],n[5]=e[5]-t[5],n[6]=e[6]-t[6],n[7]=e[7]-t[7],n[8]=e[8]-t[8],n}const eT=Object.freeze(Object.defineProperty({__proto__:null,add:function qD(n,e,t){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n[2]=e[2]+t[2],n[3]=e[3]+t[3],n[4]=e[4]+t[4],n[5]=e[5]+t[5],n[6]=e[6]+t[6],n[7]=e[7]+t[7],n[8]=e[8]+t[8],n},adjoint:function IN(n,e){var t=e[0],i=e[1],r=e[2],o=e[3],s=e[4],a=e[5],l=e[6],u=e[7],d=e[8];return n[0]=s*d-a*u,n[1]=r*u-i*d,n[2]=i*a-r*s,n[3]=a*l-o*d,n[4]=t*d-r*l,n[5]=r*o-t*a,n[6]=o*u-s*l,n[7]=i*l-t*u,n[8]=t*s-i*o,n},clone:function GG(n){var e=new xi(9);return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e},copy:function UE(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n},create:zE,determinant:function GE(n){var r=n[3],o=n[4],s=n[5],a=n[6],l=n[7],u=n[8];return n[0]*(u*o-s*l)+n[1]*(-u*r+s*a)+n[2]*(l*r-o*a)},equals:function Ny(n,e){var t=n[0],i=n[1],r=n[2],o=n[3],s=n[4],a=n[5],l=n[6],u=n[7],d=n[8],f=e[0],m=e[1],y=e[2],b=e[3],E=e[4],w=e[5],M=e[6],x=e[7],D=e[8];return Math.abs(t-f)<=Ai*Math.max(1,Math.abs(t),Math.abs(f))&&Math.abs(i-m)<=Ai*Math.max(1,Math.abs(i),Math.abs(m))&&Math.abs(r-y)<=Ai*Math.max(1,Math.abs(r),Math.abs(y))&&Math.abs(o-b)<=Ai*Math.max(1,Math.abs(o),Math.abs(b))&&Math.abs(s-E)<=Ai*Math.max(1,Math.abs(s),Math.abs(E))&&Math.abs(a-w)<=Ai*Math.max(1,Math.abs(a),Math.abs(w))&&Math.abs(l-M)<=Ai*Math.max(1,Math.abs(l),Math.abs(M))&&Math.abs(u-x)<=Ai*Math.max(1,Math.abs(u),Math.abs(x))&&Math.abs(d-D)<=Ai*Math.max(1,Math.abs(d),Math.abs(D))},exactEquals:function PN(n,e){return n[0]===e[0]&&n[1]===e[1]&&n[2]===e[2]&&n[3]===e[3]&&n[4]===e[4]&&n[5]===e[5]&&n[6]===e[6]&&n[7]===e[7]&&n[8]===e[8]},frob:function RN(n){return Math.hypot(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8])},fromMat2d:function Ry(n,e){return n[0]=e[0],n[1]=e[1],n[2]=0,n[3]=e[2],n[4]=e[3],n[5]=0,n[6]=e[4],n[7]=e[5],n[8]=1,n},fromMat4:ON,fromQuat:function $E(n,e){var t=e[0],i=e[1],r=e[2],o=e[3],s=t+t,a=i+i,l=r+r,u=t*s,d=i*s,f=i*a,m=r*s,y=r*a,b=r*l,E=o*s,w=o*a,M=o*l;return n[0]=1-f-b,n[3]=d-M,n[6]=m+w,n[1]=d+M,n[4]=1-u-b,n[7]=y-E,n[2]=m-w,n[5]=y+E,n[8]=1-u-f,n},fromRotation:cu,fromScaling:ZD,fromTranslation:YD,fromValues:Kh,identity:function jg(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=1,n[5]=0,n[6]=0,n[7]=0,n[8]=1,n},invert:function Vg(n,e){var t=e[0],i=e[1],r=e[2],o=e[3],s=e[4],a=e[5],l=e[6],u=e[7],d=e[8],f=d*s-a*u,m=-d*o+a*l,y=u*o-s*l,b=t*f+i*m+r*y;return b?(n[0]=f*(b=1/b),n[1]=(-d*i+r*u)*b,n[2]=(a*i-r*s)*b,n[3]=m*b,n[4]=(d*t-r*l)*b,n[5]=(-a*t+r*o)*b,n[6]=y*b,n[7]=(-u*t+i*l)*b,n[8]=(s*t-i*o)*b,n):null},mul:Xd,multiply:Xd,multiplyScalar:function JD(n,e,t){return n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t,n[3]=e[3]*t,n[4]=e[4]*t,n[5]=e[5]*t,n[6]=e[6]*t,n[7]=e[7]*t,n[8]=e[8]*t,n},multiplyScalarAndAdd:function tT(n,e,t,i){return n[0]=e[0]+t[0]*i,n[1]=e[1]+t[1]*i,n[2]=e[2]+t[2]*i,n[3]=e[3]+t[3]*i,n[4]=e[4]+t[4]*i,n[5]=e[5]+t[5]*i,n[6]=e[6]+t[6]*i,n[7]=e[7]+t[7]*i,n[8]=e[8]+t[8]*i,n},normalFromMat4:function QD(n,e){var t=e[0],i=e[1],r=e[2],o=e[3],s=e[4],a=e[5],l=e[6],u=e[7],d=e[8],f=e[9],m=e[10],y=e[11],b=e[12],E=e[13],w=e[14],M=e[15],x=t*a-i*s,D=t*l-r*s,k=t*u-o*s,T=i*l-r*a,O=i*u-o*a,R=r*u-o*l,L=d*E-f*b,F=d*w-m*b,U=d*M-y*b,$=f*w-m*E,X=f*M-y*E,q=m*M-y*w,gt=x*q-D*X+k*$+T*U-O*F+R*L;return gt?(n[0]=(a*q-l*X+u*$)*(gt=1/gt),n[1]=(l*U-s*q-u*F)*gt,n[2]=(s*X-a*U+u*L)*gt,n[3]=(r*X-i*q-o*$)*gt,n[4]=(t*q-r*U+o*F)*gt,n[5]=(i*U-t*X-o*L)*gt,n[6]=(E*R-w*O+M*T)*gt,n[7]=(w*k-b*R-M*D)*gt,n[8]=(b*O-E*k+M*x)*gt,n):null},projection:function Py(n,e,t){return n[0]=2/e,n[1]=0,n[2]=0,n[3]=0,n[4]=-2/t,n[5]=0,n[6]=-1,n[7]=1,n[8]=1,n},rotate:function KD(n,e,t){var i=e[0],r=e[1],o=e[2],s=e[3],a=e[4],l=e[5],u=e[6],d=e[7],f=e[8],m=Math.sin(t),y=Math.cos(t);return n[0]=y*i+m*s,n[1]=y*r+m*a,n[2]=y*o+m*l,n[3]=y*s-m*i,n[4]=y*a-m*r,n[5]=y*l-m*o,n[6]=u,n[7]=d,n[8]=f,n},scale:function XD(n,e,t){var i=t[0],r=t[1];return n[0]=i*e[0],n[1]=i*e[1],n[2]=i*e[2],n[3]=r*e[3],n[4]=r*e[4],n[5]=r*e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n},set:function HE(n,e,t,i,r,o,s,a,l,u){return n[0]=e,n[1]=t,n[2]=i,n[3]=r,n[4]=o,n[5]=s,n[6]=a,n[7]=l,n[8]=u,n},str:function WE(n){return"mat3("+n[0]+", "+n[1]+", "+n[2]+", "+n[3]+", "+n[4]+", "+n[5]+", "+n[6]+", "+n[7]+", "+n[8]+")"},sub:KE,subtract:KE,translate:function $G(n,e,t){var i=e[0],r=e[1],o=e[2],s=e[3],a=e[4],l=e[5],u=e[6],d=e[7],f=e[8],m=t[0],y=t[1];return n[0]=i,n[1]=r,n[2]=o,n[3]=s,n[4]=a,n[5]=l,n[6]=m*i+y*s+u,n[7]=m*r+y*a+d,n[8]=m*o+y*l+f,n},transpose:function kN(n,e){if(n===e){var t=e[1],i=e[2],r=e[5];n[1]=e[3],n[2]=e[6],n[3]=t,n[5]=e[7],n[6]=i,n[7]=r}else n[0]=e[0],n[1]=e[3],n[2]=e[6],n[3]=e[1],n[4]=e[4],n[5]=e[7],n[6]=e[2],n[7]=e[5],n[8]=e[8];return n}},Symbol.toStringTag,{value:"Module"}));function wo(){var n=new xi(16);return xi!=Float32Array&&(n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0),n[0]=1,n[5]=1,n[10]=1,n[15]=1,n}function uu(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n[9]=e[9],n[10]=e[10],n[11]=e[11],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15],n}function As(n,e,t,i,r,o,s,a,l,u,d,f,m,y,b,E){var w=new xi(16);return w[0]=n,w[1]=e,w[2]=t,w[3]=i,w[4]=r,w[5]=o,w[6]=s,w[7]=a,w[8]=l,w[9]=u,w[10]=d,w[11]=f,w[12]=m,w[13]=y,w[14]=b,w[15]=E,w}function XE(n,e,t,i,r,o,s,a,l,u,d,f,m,y,b,E,w){return n[0]=e,n[1]=t,n[2]=i,n[3]=r,n[4]=o,n[5]=s,n[6]=a,n[7]=l,n[8]=u,n[9]=d,n[10]=f,n[11]=m,n[12]=y,n[13]=b,n[14]=E,n[15]=w,n}function Yd(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}function Ly(n,e){if(n===e){var t=e[1],i=e[2],r=e[3],o=e[6],s=e[7],a=e[11];n[1]=e[4],n[2]=e[8],n[3]=e[12],n[4]=t,n[6]=e[9],n[7]=e[13],n[8]=i,n[9]=o,n[11]=e[14],n[12]=r,n[13]=s,n[14]=a}else n[0]=e[0],n[1]=e[4],n[2]=e[8],n[3]=e[12],n[4]=e[1],n[5]=e[5],n[6]=e[9],n[7]=e[13],n[8]=e[2],n[9]=e[6],n[10]=e[10],n[11]=e[14],n[12]=e[3],n[13]=e[7],n[14]=e[11],n[15]=e[15];return n}function kc(n,e){var t=e[0],i=e[1],r=e[2],o=e[3],s=e[4],a=e[5],l=e[6],u=e[7],d=e[8],f=e[9],m=e[10],y=e[11],b=e[12],E=e[13],w=e[14],M=e[15],x=t*a-i*s,D=t*l-r*s,k=t*u-o*s,T=i*l-r*a,O=i*u-o*a,R=r*u-o*l,L=d*E-f*b,F=d*w-m*b,U=d*M-y*b,$=f*w-m*E,X=f*M-y*E,q=m*M-y*w,gt=x*q-D*X+k*$+T*U-O*F+R*L;return gt?(n[0]=(a*q-l*X+u*$)*(gt=1/gt),n[1]=(r*X-i*q-o*$)*gt,n[2]=(E*R-w*O+M*T)*gt,n[3]=(m*O-f*R-y*T)*gt,n[4]=(l*U-s*q-u*F)*gt,n[5]=(t*q-r*U+o*F)*gt,n[6]=(w*k-b*R-M*D)*gt,n[7]=(d*R-m*k+y*D)*gt,n[8]=(s*X-a*U+u*L)*gt,n[9]=(i*U-t*X-o*L)*gt,n[10]=(b*O-E*k+M*x)*gt,n[11]=(f*k-d*O-y*x)*gt,n[12]=(a*F-s*$-l*L)*gt,n[13]=(t*$-i*F+r*L)*gt,n[14]=(E*D-b*T-w*x)*gt,n[15]=(d*T-f*D+m*x)*gt,n):null}function zg(n){var e=n[0],t=n[1],i=n[2],r=n[3],o=n[4],s=n[5],a=n[6],l=n[7],u=n[8],d=n[9],f=n[10],m=n[11],y=n[12],b=n[13],E=n[14],w=n[15];return(e*s-t*o)*(f*w-m*E)-(e*a-i*o)*(d*w-m*b)+(e*l-r*o)*(d*E-f*b)+(t*a-i*s)*(u*w-m*y)-(t*l-r*s)*(u*E-f*y)+(i*l-r*a)*(u*b-d*y)}function Gl(n,e,t){var i=e[0],r=e[1],o=e[2],s=e[3],a=e[4],l=e[5],u=e[6],d=e[7],f=e[8],m=e[9],y=e[10],b=e[11],E=e[12],w=e[13],M=e[14],x=e[15],D=t[0],k=t[1],T=t[2],O=t[3];return n[0]=D*i+k*a+T*f+O*E,n[1]=D*r+k*l+T*m+O*w,n[2]=D*o+k*u+T*y+O*M,n[3]=D*s+k*d+T*b+O*x,n[4]=(D=t[4])*i+(k=t[5])*a+(T=t[6])*f+(O=t[7])*E,n[5]=D*r+k*l+T*m+O*w,n[6]=D*o+k*u+T*y+O*M,n[7]=D*s+k*d+T*b+O*x,n[8]=(D=t[8])*i+(k=t[9])*a+(T=t[10])*f+(O=t[11])*E,n[9]=D*r+k*l+T*m+O*w,n[10]=D*o+k*u+T*y+O*M,n[11]=D*s+k*d+T*b+O*x,n[12]=(D=t[12])*i+(k=t[13])*a+(T=t[14])*f+(O=t[15])*E,n[13]=D*r+k*l+T*m+O*w,n[14]=D*o+k*u+T*y+O*M,n[15]=D*s+k*d+T*b+O*x,n}function Ug(n,e,t){var s,a,l,u,d,f,m,y,b,E,w,M,i=t[0],r=t[1],o=t[2];return e===n?(n[12]=e[0]*i+e[4]*r+e[8]*o+e[12],n[13]=e[1]*i+e[5]*r+e[9]*o+e[13],n[14]=e[2]*i+e[6]*r+e[10]*o+e[14],n[15]=e[3]*i+e[7]*r+e[11]*o+e[15]):(a=e[1],l=e[2],u=e[3],d=e[4],f=e[5],m=e[6],y=e[7],b=e[8],E=e[9],w=e[10],M=e[11],n[0]=s=e[0],n[1]=a,n[2]=l,n[3]=u,n[4]=d,n[5]=f,n[6]=m,n[7]=y,n[8]=b,n[9]=E,n[10]=w,n[11]=M,n[12]=s*i+d*r+b*o+e[12],n[13]=a*i+f*r+E*o+e[13],n[14]=l*i+m*r+w*o+e[14],n[15]=u*i+y*r+M*o+e[15]),n}function Fy(n,e,t){var i=t[0],r=t[1],o=t[2];return n[0]=e[0]*i,n[1]=e[1]*i,n[2]=e[2]*i,n[3]=e[3]*i,n[4]=e[4]*r,n[5]=e[5]*r,n[6]=e[6]*r,n[7]=e[7]*r,n[8]=e[8]*o,n[9]=e[9]*o,n[10]=e[10]*o,n[11]=e[11]*o,n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15],n}function YE(n,e,t){var i=Math.sin(t),r=Math.cos(t),o=e[4],s=e[5],a=e[6],l=e[7],u=e[8],d=e[9],f=e[10],m=e[11];return e!==n&&(n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]),n[4]=o*r+u*i,n[5]=s*r+d*i,n[6]=a*r+f*i,n[7]=l*r+m*i,n[8]=u*r-o*i,n[9]=d*r-s*i,n[10]=f*r-a*i,n[11]=m*r-l*i,n}function iT(n,e,t){var i=Math.sin(t),r=Math.cos(t),o=e[0],s=e[1],a=e[2],l=e[3],u=e[8],d=e[9],f=e[10],m=e[11];return e!==n&&(n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]),n[0]=o*r-u*i,n[1]=s*r-d*i,n[2]=a*r-f*i,n[3]=l*r-m*i,n[8]=o*i+u*r,n[9]=s*i+d*r,n[10]=a*i+f*r,n[11]=l*i+m*r,n}function Xh(n,e){return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=e[0],n[13]=e[1],n[14]=e[2],n[15]=1,n}function Yh(n,e){return n[0]=e[0],n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=e[1],n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=e[2],n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}function rT(n,e,t){var a,l,u,i=t[0],r=t[1],o=t[2],s=Math.hypot(i,r,o);return s<Ai?null:(i*=s=1/s,r*=s,o*=s,a=Math.sin(e),l=Math.cos(e),n[0]=i*i*(u=1-l)+l,n[1]=r*i*u+o*a,n[2]=o*i*u-r*a,n[3]=0,n[4]=i*r*u-o*a,n[5]=r*r*u+l,n[6]=o*r*u+i*a,n[7]=0,n[8]=i*o*u+r*a,n[9]=r*o*u-i*a,n[10]=o*o*u+l,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n)}function ZE(n,e){var t=Math.sin(e),i=Math.cos(e);return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=i,n[6]=t,n[7]=0,n[8]=0,n[9]=-t,n[10]=i,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}function oT(n,e){var t=Math.sin(e),i=Math.cos(e);return n[0]=i,n[1]=0,n[2]=-t,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=t,n[9]=0,n[10]=i,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}function QE(n,e){var t=Math.sin(e),i=Math.cos(e);return n[0]=i,n[1]=t,n[2]=0,n[3]=0,n[4]=-t,n[5]=i,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}function FN(n,e,t){var i=e[0],r=e[1],o=e[2],s=e[3],a=i+i,l=r+r,u=o+o,d=i*a,f=i*l,m=i*u,y=r*l,b=r*u,E=o*u,w=s*a,M=s*l,x=s*u;return n[0]=1-(y+E),n[1]=f+x,n[2]=m-M,n[3]=0,n[4]=f-x,n[5]=1-(d+E),n[6]=b+w,n[7]=0,n[8]=m+M,n[9]=b-w,n[10]=1-(d+y),n[11]=0,n[12]=t[0],n[13]=t[1],n[14]=t[2],n[15]=1,n}function T0(n,e){return n[0]=e[12],n[1]=e[13],n[2]=e[14],n}function Es(n,e){var o=e[4],s=e[5],a=e[6],l=e[8],u=e[9],d=e[10];return n[0]=Math.hypot(e[0],e[1],e[2]),n[1]=Math.hypot(o,s,a),n[2]=Math.hypot(l,u,d),n}function jy(n,e){var t=new xi(3);Es(t,e);var i=1/t[0],r=1/t[1],o=1/t[2],s=e[0]*i,a=e[1]*r,l=e[2]*o,u=e[4]*i,d=e[5]*r,f=e[6]*o,m=e[8]*i,y=e[9]*r,b=e[10]*o,E=s+d+b,w=0;return E>0?(w=2*Math.sqrt(E+1),n[3]=.25*w,n[0]=(f-y)/w,n[1]=(m-l)/w,n[2]=(a-u)/w):s>d&&s>b?(w=2*Math.sqrt(1+s-d-b),n[3]=(f-y)/w,n[0]=.25*w,n[1]=(a+u)/w,n[2]=(m+l)/w):d>b?(w=2*Math.sqrt(1+d-s-b),n[3]=(m-l)/w,n[0]=(a+u)/w,n[1]=.25*w,n[2]=(f+y)/w):(w=2*Math.sqrt(1+b-s-d),n[3]=(a-u)/w,n[0]=(m+l)/w,n[1]=(f+y)/w,n[2]=.25*w),n}function Vy(n,e,t,i,r){var o=e[0],s=e[1],a=e[2],l=e[3],u=o+o,d=s+s,f=a+a,m=o*u,y=o*d,b=o*f,E=s*d,w=s*f,M=a*f,x=l*u,D=l*d,k=l*f,T=i[0],O=i[1],R=i[2],L=r[0],F=r[1],U=r[2],$=(1-(E+M))*T,X=(y+k)*T,q=(b-D)*T,gt=(y-k)*O,Et=(1-(m+M))*O,at=(w+x)*O,Q=(b+D)*R,et=(w-x)*R,St=(1-(m+E))*R;return n[0]=$,n[1]=X,n[2]=q,n[3]=0,n[4]=gt,n[5]=Et,n[6]=at,n[7]=0,n[8]=Q,n[9]=et,n[10]=St,n[11]=0,n[12]=t[0]+L-($*L+gt*F+Q*U),n[13]=t[1]+F-(X*L+Et*F+et*U),n[14]=t[2]+U-(q*L+at*F+St*U),n[15]=1,n}function qE(n,e){var t=e[0],i=e[1],r=e[2],o=e[3],s=t+t,a=i+i,l=r+r,u=t*s,d=i*s,f=i*a,m=r*s,y=r*a,b=r*l,E=o*s,w=o*a,M=o*l;return n[0]=1-f-b,n[1]=d+M,n[2]=m-w,n[3]=0,n[4]=d-M,n[5]=1-u-b,n[6]=y+E,n[7]=0,n[8]=m+w,n[9]=y-E,n[10]=1-u-f,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}function zy(n,e,t,i,r){var s,o=1/Math.tan(e/2);return n[0]=o/t,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=o,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[11]=-1,n[12]=0,n[13]=0,n[15]=0,null!=r&&r!==1/0?(n[10]=(r+i)*(s=1/(i-r)),n[14]=2*r*i*s):(n[10]=-1,n[14]=-2*i),n}function lT(n,e,t,i,r,o,s){var a=1/(e-t),l=1/(i-r),u=1/(o-s);return n[0]=-2*a,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=-2*l,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=2*u,n[11]=0,n[12]=(e+t)*a,n[13]=(r+i)*l,n[14]=(s+o)*u,n[15]=1,n}var Zh=lT;function VN(n,e,t,i,r,o,s){var a=1/(e-t),l=1/(i-r),u=1/(o-s);return n[0]=-2*a,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=-2*l,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=u,n[11]=0,n[12]=(e+t)*a,n[13]=(r+i)*l,n[14]=o*u,n[15]=1,n}function cT(n,e,t,i){var r,o,s,a,l,u,d,f,m,y,b=e[0],E=e[1],w=e[2],M=i[0],x=i[1],D=i[2],k=t[0],T=t[1],O=t[2];return Math.abs(b-k)<Ai&&Math.abs(E-T)<Ai&&Math.abs(w-O)<Ai?Yd(n):(d=b-k,f=E-T,m=w-O,r=x*(m*=y=1/Math.hypot(d,f,m))-D*(f*=y),o=D*(d*=y)-M*m,s=M*f-x*d,(y=Math.hypot(r,o,s))?(r*=y=1/y,o*=y,s*=y):(r=0,o=0,s=0),a=f*s-m*o,l=m*r-d*s,u=d*o-f*r,(y=Math.hypot(a,l,u))?(a*=y=1/y,l*=y,u*=y):(a=0,l=0,u=0),n[0]=r,n[1]=a,n[2]=d,n[3]=0,n[4]=o,n[5]=l,n[6]=f,n[7]=0,n[8]=s,n[9]=u,n[10]=m,n[11]=0,n[12]=-(r*b+o*E+s*w),n[13]=-(a*b+l*E+u*w),n[14]=-(d*b+f*E+m*w),n[15]=1,n)}function zN(n,e,t){return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n[2]=e[2]-t[2],n[3]=e[3]-t[3],n[4]=e[4]-t[4],n[5]=e[5]-t[5],n[6]=e[6]-t[6],n[7]=e[7]-t[7],n[8]=e[8]-t[8],n[9]=e[9]-t[9],n[10]=e[10]-t[10],n[11]=e[11]-t[11],n[12]=e[12]-t[12],n[13]=e[13]-t[13],n[14]=e[14]-t[14],n[15]=e[15]-t[15],n}function tw(n,e){return n[0]===e[0]&&n[1]===e[1]&&n[2]===e[2]&&n[3]===e[3]&&n[4]===e[4]&&n[5]===e[5]&&n[6]===e[6]&&n[7]===e[7]&&n[8]===e[8]&&n[9]===e[9]&&n[10]===e[10]&&n[11]===e[11]&&n[12]===e[12]&&n[13]===e[13]&&n[14]===e[14]&&n[15]===e[15]}var hT=Gl;const fT=Object.freeze(Object.defineProperty({__proto__:null,add:function dT(n,e,t){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n[2]=e[2]+t[2],n[3]=e[3]+t[3],n[4]=e[4]+t[4],n[5]=e[5]+t[5],n[6]=e[6]+t[6],n[7]=e[7]+t[7],n[8]=e[8]+t[8],n[9]=e[9]+t[9],n[10]=e[10]+t[10],n[11]=e[11]+t[11],n[12]=e[12]+t[12],n[13]=e[13]+t[13],n[14]=e[14]+t[14],n[15]=e[15]+t[15],n},adjoint:function nT(n,e){var t=e[0],i=e[1],r=e[2],o=e[3],s=e[4],a=e[5],l=e[6],u=e[7],d=e[8],f=e[9],m=e[10],y=e[11],b=e[12],E=e[13],w=e[14],M=e[15];return n[0]=a*(m*M-y*w)-f*(l*M-u*w)+E*(l*y-u*m),n[1]=-(i*(m*M-y*w)-f*(r*M-o*w)+E*(r*y-o*m)),n[2]=i*(l*M-u*w)-a*(r*M-o*w)+E*(r*u-o*l),n[3]=-(i*(l*y-u*m)-a*(r*y-o*m)+f*(r*u-o*l)),n[4]=-(s*(m*M-y*w)-d*(l*M-u*w)+b*(l*y-u*m)),n[5]=t*(m*M-y*w)-d*(r*M-o*w)+b*(r*y-o*m),n[6]=-(t*(l*M-u*w)-s*(r*M-o*w)+b*(r*u-o*l)),n[7]=t*(l*y-u*m)-s*(r*y-o*m)+d*(r*u-o*l),n[8]=s*(f*M-y*E)-d*(a*M-u*E)+b*(a*y-u*f),n[9]=-(t*(f*M-y*E)-d*(i*M-o*E)+b*(i*y-o*f)),n[10]=t*(a*M-u*E)-s*(i*M-o*E)+b*(i*u-o*a),n[11]=-(t*(a*y-u*f)-s*(i*y-o*f)+d*(i*u-o*a)),n[12]=-(s*(f*w-m*E)-d*(a*w-l*E)+b*(a*m-l*f)),n[13]=t*(f*w-m*E)-d*(i*w-r*E)+b*(i*m-r*f),n[14]=-(t*(a*w-l*E)-s*(i*w-r*E)+b*(i*l-r*a)),n[15]=t*(a*m-l*f)-s*(i*m-r*f)+d*(i*l-r*a),n},clone:function D0(n){var e=new xi(16);return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],e},copy:uu,create:wo,determinant:zg,equals:function os(n,e){var t=n[0],i=n[1],r=n[2],o=n[3],s=n[4],a=n[5],l=n[6],u=n[7],d=n[8],f=n[9],m=n[10],y=n[11],b=n[12],E=n[13],w=n[14],M=n[15],x=e[0],D=e[1],k=e[2],T=e[3],O=e[4],R=e[5],L=e[6],F=e[7],U=e[8],$=e[9],X=e[10],q=e[11],gt=e[12],Et=e[13],at=e[14],Q=e[15];return Math.abs(t-x)<=Ai*Math.max(1,Math.abs(t),Math.abs(x))&&Math.abs(i-D)<=Ai*Math.max(1,Math.abs(i),Math.abs(D))&&Math.abs(r-k)<=Ai*Math.max(1,Math.abs(r),Math.abs(k))&&Math.abs(o-T)<=Ai*Math.max(1,Math.abs(o),Math.abs(T))&&Math.abs(s-O)<=Ai*Math.max(1,Math.abs(s),Math.abs(O))&&Math.abs(a-R)<=Ai*Math.max(1,Math.abs(a),Math.abs(R))&&Math.abs(l-L)<=Ai*Math.max(1,Math.abs(l),Math.abs(L))&&Math.abs(u-F)<=Ai*Math.max(1,Math.abs(u),Math.abs(F))&&Math.abs(d-U)<=Ai*Math.max(1,Math.abs(d),Math.abs(U))&&Math.abs(f-$)<=Ai*Math.max(1,Math.abs(f),Math.abs($))&&Math.abs(m-X)<=Ai*Math.max(1,Math.abs(m),Math.abs(X))&&Math.abs(y-q)<=Ai*Math.max(1,Math.abs(y),Math.abs(q))&&Math.abs(b-gt)<=Ai*Math.max(1,Math.abs(b),Math.abs(gt))&&Math.abs(E-Et)<=Ai*Math.max(1,Math.abs(E),Math.abs(Et))&&Math.abs(w-at)<=Ai*Math.max(1,Math.abs(w),Math.abs(at))&&Math.abs(M-Q)<=Ai*Math.max(1,Math.abs(M),Math.abs(Q))},exactEquals:tw,frob:function uT(n){return Math.hypot(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15])},fromQuat:qE,fromQuat2:function sT(n,e){var t=new xi(3),i=-e[0],r=-e[1],o=-e[2],s=e[3],a=e[4],l=e[5],u=e[6],d=e[7],f=i*i+r*r+o*o+s*s;return f>0?(t[0]=2*(a*s+d*i+l*o-u*r)/f,t[1]=2*(l*s+d*r+u*i-a*o)/f,t[2]=2*(u*s+d*o+a*r-l*i)/f):(t[0]=2*(a*s+d*i+l*o-u*r),t[1]=2*(l*s+d*r+u*i-a*o),t[2]=2*(u*s+d*o+a*r-l*i)),FN(n,e,t),n},fromRotation:rT,fromRotationTranslation:FN,fromRotationTranslationScale:function BN(n,e,t,i){var r=e[0],o=e[1],s=e[2],a=e[3],l=r+r,u=o+o,d=s+s,f=r*l,m=r*u,y=r*d,b=o*u,E=o*d,w=s*d,M=a*l,x=a*u,D=a*d,k=i[0],T=i[1],O=i[2];return n[0]=(1-(b+w))*k,n[1]=(m+D)*k,n[2]=(y-x)*k,n[3]=0,n[4]=(m-D)*T,n[5]=(1-(f+w))*T,n[6]=(E+M)*T,n[7]=0,n[8]=(y+x)*O,n[9]=(E-M)*O,n[10]=(1-(f+b))*O,n[11]=0,n[12]=t[0],n[13]=t[1],n[14]=t[2],n[15]=1,n},fromRotationTranslationScaleOrigin:Vy,fromScaling:Yh,fromTranslation:Xh,fromValues:As,fromXRotation:ZE,fromYRotation:oT,fromZRotation:QE,frustum:function WG(n,e,t,i,r,o,s){var a=1/(t-e),l=1/(r-i),u=1/(o-s);return n[0]=2*o*a,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=2*o*l,n[6]=0,n[7]=0,n[8]=(t+e)*a,n[9]=(r+i)*l,n[10]=(s+o)*u,n[11]=-1,n[12]=0,n[13]=0,n[14]=s*o*2*u,n[15]=0,n},getRotation:jy,getScaling:Es,getTranslation:T0,identity:Yd,invert:kc,lookAt:cT,mul:hT,multiply:Gl,multiplyScalar:function JE(n,e,t){return n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t,n[3]=e[3]*t,n[4]=e[4]*t,n[5]=e[5]*t,n[6]=e[6]*t,n[7]=e[7]*t,n[8]=e[8]*t,n[9]=e[9]*t,n[10]=e[10]*t,n[11]=e[11]*t,n[12]=e[12]*t,n[13]=e[13]*t,n[14]=e[14]*t,n[15]=e[15]*t,n},multiplyScalarAndAdd:function Hy(n,e,t,i){return n[0]=e[0]+t[0]*i,n[1]=e[1]+t[1]*i,n[2]=e[2]+t[2]*i,n[3]=e[3]+t[3]*i,n[4]=e[4]+t[4]*i,n[5]=e[5]+t[5]*i,n[6]=e[6]+t[6]*i,n[7]=e[7]+t[7]*i,n[8]=e[8]+t[8]*i,n[9]=e[9]+t[9]*i,n[10]=e[10]+t[10]*i,n[11]=e[11]+t[11]*i,n[12]=e[12]+t[12]*i,n[13]=e[13]+t[13]*i,n[14]=e[14]+t[14]*i,n[15]=e[15]+t[15]*i,n},ortho:Zh,orthoNO:lT,orthoZO:VN,perspective:zy,perspectiveFromFieldOfView:function jN(n,e,t,i){var r=Math.tan(e.upDegrees*Math.PI/180),o=Math.tan(e.downDegrees*Math.PI/180),s=Math.tan(e.leftDegrees*Math.PI/180),a=Math.tan(e.rightDegrees*Math.PI/180),l=2/(s+a),u=2/(r+o);return n[0]=l,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=u,n[6]=0,n[7]=0,n[8]=-(s-a)*l*.5,n[9]=(r-o)*u*.5,n[10]=i/(t-i),n[11]=-1,n[12]=0,n[13]=0,n[14]=i*t/(t-i),n[15]=0,n},perspectiveNO:zy,perspectiveZO:function A0(n,e,t,i,r){var s,o=1/Math.tan(e/2);return n[0]=o/t,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=o,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[11]=-1,n[12]=0,n[13]=0,n[15]=0,null!=r&&r!==1/0?(n[10]=r*(s=1/(i-r)),n[14]=r*i*s):(n[10]=-1,n[14]=-i),n},rotate:function By(n,e,t,i){var l,u,d,f,m,y,b,E,w,M,x,D,k,T,O,R,L,F,U,$,X,q,gt,Et,r=i[0],o=i[1],s=i[2],a=Math.hypot(r,o,s);return a<Ai?null:(r*=a=1/a,o*=a,s*=a,l=Math.sin(t),u=Math.cos(t),m=e[1],y=e[2],b=e[3],w=e[5],M=e[6],x=e[7],k=e[9],T=e[10],O=e[11],U=r*o*(d=1-u)-s*l,$=o*o*d+u,X=s*o*d+r*l,q=r*s*d+o*l,gt=o*s*d-r*l,Et=s*s*d+u,n[0]=(f=e[0])*(R=r*r*d+u)+(E=e[4])*(L=o*r*d+s*l)+(D=e[8])*(F=s*r*d-o*l),n[1]=m*R+w*L+k*F,n[2]=y*R+M*L+T*F,n[3]=b*R+x*L+O*F,n[4]=f*U+E*$+D*X,n[5]=m*U+w*$+k*X,n[6]=y*U+M*$+T*X,n[7]=b*U+x*$+O*X,n[8]=f*q+E*gt+D*Et,n[9]=m*q+w*gt+k*Et,n[10]=y*q+M*gt+T*Et,n[11]=b*q+x*gt+O*Et,e!==n&&(n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]),n)},rotateX:YE,rotateY:iT,rotateZ:function LN(n,e,t){var i=Math.sin(t),r=Math.cos(t),o=e[0],s=e[1],a=e[2],l=e[3],u=e[4],d=e[5],f=e[6],m=e[7];return e!==n&&(n[8]=e[8],n[9]=e[9],n[10]=e[10],n[11]=e[11],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]),n[0]=o*r+u*i,n[1]=s*r+d*i,n[2]=a*r+f*i,n[3]=l*r+m*i,n[4]=u*r-o*i,n[5]=d*r-s*i,n[6]=f*r-a*i,n[7]=m*r-l*i,n},scale:Fy,set:XE,str:function Uy(n){return"mat4("+n[0]+", "+n[1]+", "+n[2]+", "+n[3]+", "+n[4]+", "+n[5]+", "+n[6]+", "+n[7]+", "+n[8]+", "+n[9]+", "+n[10]+", "+n[11]+", "+n[12]+", "+n[13]+", "+n[14]+", "+n[15]+")"},sub:zN,subtract:zN,targetTo:function td(n,e,t,i){var r=e[0],o=e[1],s=e[2],a=i[0],l=i[1],u=i[2],d=r-t[0],f=o-t[1],m=s-t[2],y=d*d+f*f+m*m;y>0&&(d*=y=1/Math.sqrt(y),f*=y,m*=y);var b=l*m-u*f,E=u*d-a*m,w=a*f-l*d;return(y=b*b+E*E+w*w)>0&&(b*=y=1/Math.sqrt(y),E*=y,w*=y),n[0]=b,n[1]=E,n[2]=w,n[3]=0,n[4]=f*w-m*E,n[5]=m*b-d*w,n[6]=d*E-f*b,n[7]=0,n[8]=d,n[9]=f,n[10]=m,n[11]=0,n[12]=r,n[13]=o,n[14]=s,n[15]=1,n},translate:Ug,transpose:Ly},Symbol.toStringTag,{value:"Module"}));function Br(){var n=new xi(3);return xi!=Float32Array&&(n[0]=0,n[1]=0,n[2]=0),n}function Gy(n){var e=new xi(3);return e[0]=n[0],e[1]=n[1],e[2]=n[2],e}function du(n){return Math.hypot(n[0],n[1],n[2])}function xo(n,e,t){var i=new xi(3);return i[0]=n,i[1]=e,i[2]=t,i}function $l(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n}function el(n,e,t,i){return n[0]=e,n[1]=t,n[2]=i,n}function O0(n,e,t){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n[2]=e[2]+t[2],n}function Hg(n,e,t){return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n[2]=e[2]-t[2],n}function nw(n,e,t){return n[0]=e[0]*t[0],n[1]=e[1]*t[1],n[2]=e[2]*t[2],n}function ed(n,e,t){return n[0]=e[0]/t[0],n[1]=e[1]/t[1],n[2]=e[2]/t[2],n}function HN(n,e,t){return n[0]=Math.min(e[0],t[0]),n[1]=Math.min(e[1],t[1]),n[2]=Math.min(e[2],t[2]),n}function mT(n,e,t){return n[0]=Math.max(e[0],t[0]),n[1]=Math.max(e[1],t[1]),n[2]=Math.max(e[2],t[2]),n}function iw(n,e,t){return n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t,n}function vT(n,e){return Math.hypot(e[0]-n[0],e[1]-n[1],e[2]-n[2])}function Jf(n,e){var t=e[0]-n[0],i=e[1]-n[1],r=e[2]-n[2];return t*t+i*i+r*r}function k0(n){var e=n[0],t=n[1],i=n[2];return e*e+t*t+i*i}function hu(n,e){var t=e[0],i=e[1],r=e[2],o=t*t+i*i+r*r;return o>0&&(o=1/Math.sqrt(o)),n[0]=e[0]*o,n[1]=e[1]*o,n[2]=e[2]*o,n}function _l(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]}function Gg(n,e,t){var i=e[0],r=e[1],o=e[2],s=t[0],a=t[1],l=t[2];return n[0]=r*l-o*a,n[1]=o*s-i*l,n[2]=i*a-r*s,n}function $y(n,e,t,i){var r=e[0],o=e[1],s=e[2];return n[0]=r+i*(t[0]-r),n[1]=o+i*(t[1]-o),n[2]=s+i*(t[2]-s),n}function Pa(n,e,t){var i=e[0],r=e[1],o=e[2],s=t[3]*i+t[7]*r+t[11]*o+t[15];return n[0]=(t[0]*i+t[4]*r+t[8]*o+t[12])/(s=s||1),n[1]=(t[1]*i+t[5]*r+t[9]*o+t[13])/s,n[2]=(t[2]*i+t[6]*r+t[10]*o+t[14])/s,n}function Wy(n,e,t){var i=e[0],r=e[1],o=e[2];return n[0]=i*t[0]+r*t[3]+o*t[6],n[1]=i*t[1]+r*t[4]+o*t[7],n[2]=i*t[2]+r*t[5]+o*t[8],n}function _T(n,e,t){var i=t[0],r=t[1],o=t[2],a=e[0],l=e[1],u=e[2],d=r*u-o*l,f=o*a-i*u,m=i*l-r*a,y=r*m-o*f,b=o*d-i*m,E=i*f-r*d,w=2*t[3];return f*=w,m*=w,b*=2,E*=2,n[0]=a+(d*=w)+(y*=2),n[1]=l+f+b,n[2]=u+m+E,n}function tp(n,e){var t=n[0],i=n[1],r=n[2],o=e[0],s=e[1],a=e[2];return Math.abs(t-o)<=Ai*Math.max(1,Math.abs(t),Math.abs(o))&&Math.abs(i-s)<=Ai*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(r-a)<=Ai*Math.max(1,Math.abs(r),Math.abs(a))}var n,Kg=Hg,KG=nw,XG=ed,Na=vT,I0=Jf,Ky=du,wT=k0,YN=(n=Br(),function(e,t,i,r,o,s){var a,l;for(t||(t=3),i||(i=0),l=r?Math.min(r*t+i,e.length):e.length,a=i;a<l;a+=t)n[0]=e[a],n[1]=e[a+1],n[2]=e[a+2],o(n,n,s),e[a]=n[0],e[a+1]=n[1],e[a+2]=n[2];return e});const xT=Object.freeze(Object.defineProperty({__proto__:null,add:O0,angle:function rw(n,e){var t=n[0],i=n[1],r=n[2],o=e[0],s=e[1],a=e[2],d=Math.sqrt(t*t+i*i+r*r)*Math.sqrt(o*o+s*s+a*a),f=d&&_l(n,e)/d;return Math.acos(Math.min(Math.max(f,-1),1))},bezier:function $g(n,e,t,i,r,o){var s=1-o,a=s*s,l=o*o,u=a*s,d=3*o*a,f=3*l*s,m=l*o;return n[0]=e[0]*u+t[0]*d+i[0]*f+r[0]*m,n[1]=e[1]*u+t[1]*d+i[1]*f+r[1]*m,n[2]=e[2]*u+t[2]*d+i[2]*f+r[2]*m,n},ceil:function UN(n,e){return n[0]=Math.ceil(e[0]),n[1]=Math.ceil(e[1]),n[2]=Math.ceil(e[2]),n},clone:Gy,copy:$l,create:Br,cross:Gg,dist:Na,distance:vT,div:XG,divide:ed,dot:_l,equals:tp,exactEquals:function ow(n,e){return n[0]===e[0]&&n[1]===e[1]&&n[2]===e[2]},floor:function pT(n,e){return n[0]=Math.floor(e[0]),n[1]=Math.floor(e[1]),n[2]=Math.floor(e[2]),n},forEach:YN,fromValues:xo,hermite:function bT(n,e,t,i,r,o){var s=o*o,a=s*(2*o-3)+1,l=s*(o-2)+o,u=s*(o-1),d=s*(3-2*o);return n[0]=e[0]*a+t[0]*l+i[0]*u+r[0]*d,n[1]=e[1]*a+t[1]*l+i[1]*u+r[1]*d,n[2]=e[2]*a+t[2]*l+i[2]*u+r[2]*d,n},inverse:function $N(n,e){return n[0]=1/e[0],n[1]=1/e[1],n[2]=1/e[2],n},len:Ky,length:du,lerp:$y,max:mT,min:HN,mul:KG,multiply:nw,negate:function yT(n,e){return n[0]=-e[0],n[1]=-e[1],n[2]=-e[2],n},normalize:hu,random:function Wg(n,e){e=e||1;var t=2*Oc()*Math.PI,i=2*Oc()-1,r=Math.sqrt(1-i*i)*e;return n[0]=Math.cos(t)*r,n[1]=Math.sin(t)*r,n[2]=i*e,n},rotateX:function WN(n,e,t,i){var r=[],o=[];return r[0]=e[0]-t[0],r[1]=e[1]-t[1],r[2]=e[2]-t[2],o[0]=r[0],o[1]=r[1]*Math.cos(i)-r[2]*Math.sin(i),o[2]=r[1]*Math.sin(i)+r[2]*Math.cos(i),n[0]=o[0]+t[0],n[1]=o[1]+t[1],n[2]=o[2]+t[2],n},rotateY:function KN(n,e,t,i){var r=[],o=[];return r[0]=e[0]-t[0],r[1]=e[1]-t[1],r[2]=e[2]-t[2],o[0]=r[2]*Math.sin(i)+r[0]*Math.cos(i),o[1]=r[1],o[2]=r[2]*Math.cos(i)-r[0]*Math.sin(i),n[0]=o[0]+t[0],n[1]=o[1]+t[1],n[2]=o[2]+t[2],n},rotateZ:function ET(n,e,t,i){var r=[],o=[];return r[0]=e[0]-t[0],r[1]=e[1]-t[1],r[2]=e[2]-t[2],o[0]=r[0]*Math.cos(i)-r[1]*Math.sin(i),o[1]=r[0]*Math.sin(i)+r[1]*Math.cos(i),o[2]=r[2],n[0]=o[0]+t[0],n[1]=o[1]+t[1],n[2]=o[2]+t[2],n},round:function gT(n,e){return n[0]=Math.round(e[0]),n[1]=Math.round(e[1]),n[2]=Math.round(e[2]),n},scale:iw,scaleAndAdd:function GN(n,e,t,i){return n[0]=e[0]+t[0]*i,n[1]=e[1]+t[1]*i,n[2]=e[2]+t[2]*i,n},set:el,sqrDist:I0,sqrLen:wT,squaredDistance:Jf,squaredLength:k0,str:function El(n){return"vec3("+n[0]+", "+n[1]+", "+n[2]+")"},sub:Kg,subtract:Hg,transformMat3:Wy,transformMat4:Pa,transformQuat:_T,zero:function XN(n){return n[0]=0,n[1]=0,n[2]=0,n}},Symbol.toStringTag,{value:"Module"}));function fu(){var n=new xi(4);return xi!=Float32Array&&(n[0]=0,n[1]=0,n[2]=0,n[3]=0),n}function sw(n){var e=new xi(4);return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e}function R0(n,e,t,i){var r=new xi(4);return r[0]=n,r[1]=e,r[2]=t,r[3]=i,r}function aw(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n}function MT(n,e,t,i,r){return n[0]=e,n[1]=t,n[2]=i,n[3]=r,n}function CT(n,e,t){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n[2]=e[2]+t[2],n[3]=e[3]+t[3],n}function ST(n,e,t){return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n[2]=e[2]-t[2],n[3]=e[3]-t[3],n}function DT(n,e,t){return n[0]=e[0]*t[0],n[1]=e[1]*t[1],n[2]=e[2]*t[2],n[3]=e[3]*t[3],n}function lw(n,e,t){return n[0]=e[0]/t[0],n[1]=e[1]/t[1],n[2]=e[2]/t[2],n[3]=e[3]/t[3],n}function cw(n,e,t){return n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t,n[3]=e[3]*t,n}function RT(n,e){return Math.hypot(e[0]-n[0],e[1]-n[1],e[2]-n[2],e[3]-n[3])}function PT(n,e){var t=e[0]-n[0],i=e[1]-n[1],r=e[2]-n[2],o=e[3]-n[3];return t*t+i*i+r*r+o*o}function uw(n){return Math.hypot(n[0],n[1],n[2],n[3])}function dw(n){var e=n[0],t=n[1],i=n[2],r=n[3];return e*e+t*t+i*i+r*r}function hw(n,e){var t=e[0],i=e[1],r=e[2],o=e[3],s=t*t+i*i+r*r+o*o;return s>0&&(s=1/Math.sqrt(s)),n[0]=t*s,n[1]=i*s,n[2]=r*s,n[3]=o*s,n}function LT(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]+n[3]*e[3]}function QN(n,e,t,i){var r=e[0],o=e[1],s=e[2],a=e[3];return n[0]=r+i*(t[0]-r),n[1]=o+i*(t[1]-o),n[2]=s+i*(t[2]-s),n[3]=a+i*(t[3]-a),n}function pu(n,e,t){var i=e[0],r=e[1],o=e[2],s=e[3];return n[0]=t[0]*i+t[4]*r+t[8]*o+t[12]*s,n[1]=t[1]*i+t[5]*r+t[9]*o+t[13]*s,n[2]=t[2]*i+t[6]*r+t[10]*o+t[14]*s,n[3]=t[3]*i+t[7]*r+t[11]*o+t[15]*s,n}function Xg(n,e){return n[0]===e[0]&&n[1]===e[1]&&n[2]===e[2]&&n[3]===e[3]}function FT(n,e){var t=n[0],i=n[1],r=n[2],o=n[3],s=e[0],a=e[1],l=e[2],u=e[3];return Math.abs(t-s)<=Ai*Math.max(1,Math.abs(t),Math.abs(s))&&Math.abs(i-a)<=Ai*Math.max(1,Math.abs(i),Math.abs(a))&&Math.abs(r-l)<=Ai*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(o-u)<=Ai*Math.max(1,Math.abs(o),Math.abs(u))}var BT=ST,Yy=DT,ZG=lw,t5=RT,e5=PT,n5=uw,i5=dw,QG=function(){var n=fu();return function(e,t,i,r,o,s){var a,l;for(t||(t=4),i||(i=0),l=r?Math.min(r*t+i,e.length):e.length,a=i;a<l;a+=t)n[0]=e[a],n[1]=e[a+1],n[2]=e[a+2],n[3]=e[a+3],o(n,n,s),e[a]=n[0],e[a+1]=n[1],e[a+2]=n[2],e[a+3]=n[3];return e}}();const qG=Object.freeze(Object.defineProperty({__proto__:null,add:CT,ceil:function TT(n,e){return n[0]=Math.ceil(e[0]),n[1]=Math.ceil(e[1]),n[2]=Math.ceil(e[2]),n[3]=Math.ceil(e[3]),n},clone:sw,copy:aw,create:fu,cross:function ZN(n,e,t,i){var r=t[0]*i[1]-t[1]*i[0],o=t[0]*i[2]-t[2]*i[0],s=t[0]*i[3]-t[3]*i[0],a=t[1]*i[2]-t[2]*i[1],l=t[1]*i[3]-t[3]*i[1],u=t[2]*i[3]-t[3]*i[2],d=e[0],f=e[1],m=e[2],y=e[3];return n[0]=f*u-m*l+y*a,n[1]=-d*u+m*s-y*o,n[2]=d*l-f*s+y*r,n[3]=-d*a+f*o-m*r,n},dist:t5,distance:RT,div:ZG,divide:lw,dot:LT,equals:FT,exactEquals:Xg,floor:function AT(n,e){return n[0]=Math.floor(e[0]),n[1]=Math.floor(e[1]),n[2]=Math.floor(e[2]),n[3]=Math.floor(e[3]),n},forEach:QG,fromValues:R0,inverse:function YG(n,e){return n[0]=1/e[0],n[1]=1/e[1],n[2]=1/e[2],n[3]=1/e[3],n},len:n5,length:uw,lerp:QN,max:function OT(n,e,t){return n[0]=Math.max(e[0],t[0]),n[1]=Math.max(e[1],t[1]),n[2]=Math.max(e[2],t[2]),n[3]=Math.max(e[3],t[3]),n},min:function Xy(n,e,t){return n[0]=Math.min(e[0],t[0]),n[1]=Math.min(e[1],t[1]),n[2]=Math.min(e[2],t[2]),n[3]=Math.min(e[3],t[3]),n},mul:Yy,multiply:DT,negate:function NT(n,e){return n[0]=-e[0],n[1]=-e[1],n[2]=-e[2],n[3]=-e[3],n},normalize:hw,random:function qN(n,e){var t,i,r,o,s,a;e=e||1;do{s=(t=2*Oc()-1)*t+(i=2*Oc()-1)*i}while(s>=1);do{a=(r=2*Oc()-1)*r+(o=2*Oc()-1)*o}while(a>=1);var l=Math.sqrt((1-s)/a);return n[0]=e*t,n[1]=e*i,n[2]=e*r*l,n[3]=e*o*l,n},round:function kT(n,e){return n[0]=Math.round(e[0]),n[1]=Math.round(e[1]),n[2]=Math.round(e[2]),n[3]=Math.round(e[3]),n},scale:cw,scaleAndAdd:function IT(n,e,t,i){return n[0]=e[0]+t[0]*i,n[1]=e[1]+t[1]*i,n[2]=e[2]+t[2]*i,n[3]=e[3]+t[3]*i,n},set:MT,sqrDist:e5,sqrLen:i5,squaredDistance:PT,squaredLength:dw,str:function Qh(n){return"vec4("+n[0]+", "+n[1]+", "+n[2]+", "+n[3]+")"},sub:BT,subtract:ST,transformMat4:pu,transformQuat:function fw(n,e,t){var i=e[0],r=e[1],o=e[2],s=t[0],a=t[1],l=t[2],u=t[3],d=u*i+a*o-l*r,f=u*r+l*i-s*o,m=u*o+s*r-a*i,y=-s*i-a*r-l*o;return n[0]=d*u+y*-s+f*-l-m*-a,n[1]=f*u+y*-a+m*-s-d*-l,n[2]=m*u+y*-l+d*-a-f*-s,n[3]=e[3],n},zero:function JN(n){return n[0]=0,n[1]=0,n[2]=0,n[3]=0,n}},Symbol.toStringTag,{value:"Module"}));function Xs(){var n=new xi(4);return xi!=Float32Array&&(n[0]=0,n[1]=0,n[2]=0),n[3]=1,n}function qh(n,e,t){t*=.5;var i=Math.sin(t);return n[0]=i*e[0],n[1]=i*e[1],n[2]=i*e[2],n[3]=Math.cos(t),n}function nd(n,e,t){var i=e[0],r=e[1],o=e[2],s=e[3],a=t[0],l=t[1],u=t[2],d=t[3];return n[0]=i*d+s*a+r*u-o*l,n[1]=r*d+s*l+o*a-i*u,n[2]=o*d+s*u+i*l-r*a,n[3]=s*d-i*a-r*l-o*u,n}function Zy(n,e,t){t*=.5;var i=e[0],r=e[1],o=e[2],s=e[3],a=Math.sin(t),l=Math.cos(t);return n[0]=i*l+s*a,n[1]=r*l+o*a,n[2]=o*l-r*a,n[3]=s*l-i*a,n}function N0(n,e,t){t*=.5;var i=e[0],r=e[1],o=e[2],s=e[3],a=Math.sin(t),l=Math.cos(t);return n[0]=i*l-o*a,n[1]=r*l+s*a,n[2]=o*l+i*a,n[3]=s*l-r*a,n}function Yg(n,e,t){t*=.5;var i=e[0],r=e[1],o=e[2],s=e[3],a=Math.sin(t),l=Math.cos(t);return n[0]=i*l+r*a,n[1]=r*l-i*a,n[2]=o*l+s*a,n[3]=s*l-o*a,n}function Qy(n,e){var t=e[0],i=e[1],r=e[2],o=e[3],s=Math.sqrt(t*t+i*i+r*r),a=Math.exp(o),l=s>0?a*Math.sin(s)/s:0;return n[0]=t*l,n[1]=i*l,n[2]=r*l,n[3]=a*Math.cos(s),n}function Zg(n,e){var t=e[0],i=e[1],r=e[2],o=e[3],s=Math.sqrt(t*t+i*i+r*r),a=s>0?Math.atan2(s,o)/s:0;return n[0]=t*a,n[1]=i*a,n[2]=r*a,n[3]=.5*Math.log(t*t+i*i+r*r+o*o),n}function F0(n,e,t,i){var m,y,b,E,w,r=e[0],o=e[1],s=e[2],a=e[3],l=t[0],u=t[1],d=t[2],f=t[3];return(y=r*l+o*u+s*d+a*f)<0&&(y=-y,l=-l,u=-u,d=-d,f=-f),1-y>Ai?(m=Math.acos(y),b=Math.sin(m),E=Math.sin((1-i)*m)/b,w=Math.sin(i*m)/b):(E=1-i,w=i),n[0]=E*r+w*l,n[1]=E*o+w*u,n[2]=E*s+w*d,n[3]=E*a+w*f,n}function B0(n,e){var t=e[0],i=e[1],r=e[2],o=e[3],s=t*t+i*i+r*r+o*o,a=s?1/s:0;return n[0]=-t*a,n[1]=-i*a,n[2]=-r*a,n[3]=o*a,n}function jT(n,e){var i,t=e[0]+e[4]+e[8];if(t>0)i=Math.sqrt(t+1),n[3]=.5*i,n[0]=(e[5]-e[7])*(i=.5/i),n[1]=(e[6]-e[2])*i,n[2]=(e[1]-e[3])*i;else{var r=0;e[4]>e[0]&&(r=1),e[8]>e[3*r+r]&&(r=2);var o=(r+1)%3,s=(r+2)%3;i=Math.sqrt(e[3*r+r]-e[3*o+o]-e[3*s+s]+1),n[r]=.5*i,n[3]=(e[3*o+s]-e[3*s+o])*(i=.5/i),n[o]=(e[3*o+r]+e[3*r+o])*i,n[s]=(e[3*s+r]+e[3*r+s])*i}return n}function j0(n,e,t,i){var r=.5*Math.PI/180;e*=r,t*=r,i*=r;var o=Math.sin(e),s=Math.cos(e),a=Math.sin(t),l=Math.cos(t),u=Math.sin(i),d=Math.cos(i);return n[0]=o*l*d-s*a*u,n[1]=s*a*d+o*l*u,n[2]=s*l*u-o*a*d,n[3]=s*l*d+o*a*u,n}var s5=sw,qy=R0,Jh=aw,mw=MT,a5=CT,ep=nd,gw=cw,Jg=LT,l5=QN,VT=uw,t$=VT,np=dw,c5=np,tf=hw,vw=Xg,zT=FT,u5=function(){var n=Br(),e=xo(1,0,0),t=xo(0,1,0);return function(i,r,o){var s=_l(r,o);return s<-.999999?(Gg(n,e,r),Ky(n)<1e-6&&Gg(n,t,r),hu(n,n),qh(i,n,Math.PI),i):s>.999999?(i[0]=0,i[1]=0,i[2]=0,i[3]=1,i):(Gg(n,r,o),i[0]=n[0],i[1]=n[1],i[2]=n[2],i[3]=1+s,tf(i,i))}}(),UT=function(){var n=Xs(),e=Xs();return function(t,i,r,o,s,a){return F0(n,i,s,a),F0(e,r,o,a),F0(t,n,e,2*a*(1-a)),t}}(),yw=function(){var n=zE();return function(e,t,i,r){return n[0]=i[0],n[3]=i[1],n[6]=i[2],n[1]=r[0],n[4]=r[1],n[7]=r[2],n[2]=-t[0],n[5]=-t[1],n[8]=-t[2],tf(e,jT(e,n))}}();const HT=Object.freeze(Object.defineProperty({__proto__:null,add:a5,calculateW:function L0(n,e){var t=e[0],i=e[1],r=e[2];return n[0]=t,n[1]=i,n[2]=r,n[3]=Math.sqrt(Math.abs(1-t*t-i*i-r*r)),n},clone:s5,conjugate:function qg(n,e){return n[0]=-e[0],n[1]=-e[1],n[2]=-e[2],n[3]=e[3],n},copy:Jh,create:Xs,dot:Jg,equals:zT,exactEquals:vw,exp:Qy,fromEuler:j0,fromMat3:jT,fromValues:qy,getAngle:function P0(n,e){var t=Jg(n,e);return Math.acos(2*t*t-1)},getAxisAngle:function pw(n,e){var t=2*Math.acos(e[3]),i=Math.sin(t/2);return i>Ai?(n[0]=e[0]/i,n[1]=e[1]/i,n[2]=e[2]/i):(n[0]=1,n[1]=0,n[2]=0),t},identity:function r5(n){return n[0]=0,n[1]=0,n[2]=0,n[3]=1,n},invert:B0,len:t$,length:VT,lerp:l5,ln:Zg,mul:ep,multiply:nd,normalize:tf,pow:function Qg(n,e,t){return Zg(n,e),gw(n,n,t),Qy(n,n),n},random:function JG(n){var e=Oc(),t=Oc(),i=Oc(),r=Math.sqrt(1-e),o=Math.sqrt(e);return n[0]=r*Math.sin(2*Math.PI*t),n[1]=r*Math.cos(2*Math.PI*t),n[2]=o*Math.sin(2*Math.PI*i),n[3]=o*Math.cos(2*Math.PI*i),n},rotateX:Zy,rotateY:N0,rotateZ:Yg,rotationTo:u5,scale:gw,set:mw,setAxes:yw,setAxisAngle:qh,slerp:F0,sqlerp:UT,sqrLen:c5,squaredLength:np,str:function o5(n){return"quat("+n[0]+", "+n[1]+", "+n[2]+", "+n[3]+")"}},Symbol.toStringTag,{value:"Module"}));function bw(n,e,t){var i=.5*t[0],r=.5*t[1],o=.5*t[2],s=e[0],a=e[1],l=e[2],u=e[3];return n[0]=s,n[1]=a,n[2]=l,n[3]=u,n[4]=i*u+r*l-o*a,n[5]=r*u+o*s-i*l,n[6]=o*u+i*a-r*s,n[7]=-i*s-r*a-o*l,n}function tv(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n}function QT(n,e,t){var i=e[0],r=e[1],o=e[2],s=e[3],a=t[4],l=t[5],u=t[6],d=t[7],f=e[4],m=e[5],y=e[6],b=e[7],E=t[0],w=t[1],M=t[2],x=t[3];return n[0]=i*x+s*E+r*M-o*w,n[1]=r*x+s*w+o*E-i*M,n[2]=o*x+s*M+i*w-r*E,n[3]=s*x-i*E-r*w-o*M,n[4]=i*d+s*a+r*u-o*l+f*x+b*E+m*M-y*w,n[5]=r*d+s*l+o*a-i*u+m*x+b*w+y*E-f*M,n[6]=o*d+s*u+i*l-r*a+y*x+b*M+f*w-m*E,n[7]=s*d-i*a-r*l-o*u+b*x-f*E-m*w-y*M,n}var qT=Jg,ev=np;const Qd=Object.freeze(Object.defineProperty({__proto__:null,add:function g5(n,e,t){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n[2]=e[2]+t[2],n[3]=e[3]+t[3],n[4]=e[4]+t[4],n[5]=e[5]+t[5],n[6]=e[6]+t[6],n[7]=e[7]+t[7],n},clone:function GT(n){var e=new xi(8);return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e},conjugate:function b5(n,e){return n[0]=-e[0],n[1]=-e[1],n[2]=-e[2],n[3]=e[3],n[4]=-e[4],n[5]=-e[5],n[6]=-e[6],n[7]=e[7],n},copy:tv,create:function ip(){var n=new xi(8);return xi!=Float32Array&&(n[0]=0,n[1]=0,n[2]=0,n[4]=0,n[5]=0,n[6]=0,n[7]=0),n[3]=1,n},dot:qT,equals:function e1(n,e){var t=n[0],i=n[1],r=n[2],o=n[3],s=n[4],a=n[5],l=n[6],u=n[7],d=e[0],f=e[1],m=e[2],y=e[3],b=e[4],E=e[5],w=e[6],M=e[7];return Math.abs(t-d)<=Ai*Math.max(1,Math.abs(t),Math.abs(d))&&Math.abs(i-f)<=Ai*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(r-m)<=Ai*Math.max(1,Math.abs(r),Math.abs(m))&&Math.abs(o-y)<=Ai*Math.max(1,Math.abs(o),Math.abs(y))&&Math.abs(s-b)<=Ai*Math.max(1,Math.abs(s),Math.abs(b))&&Math.abs(a-E)<=Ai*Math.max(1,Math.abs(a),Math.abs(E))&&Math.abs(l-w)<=Ai*Math.max(1,Math.abs(l),Math.abs(w))&&Math.abs(u-M)<=Ai*Math.max(1,Math.abs(u),Math.abs(M))},exactEquals:function M5(n,e){return n[0]===e[0]&&n[1]===e[1]&&n[2]===e[2]&&n[3]===e[3]&&n[4]===e[4]&&n[5]===e[5]&&n[6]===e[6]&&n[7]===e[7]},fromMat4:function KT(n,e){var t=Xs();jy(t,e);var i=new xi(3);return T0(i,e),bw(n,t,i),n},fromRotation:function _w(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=0,n[5]=0,n[6]=0,n[7]=0,n},fromRotationTranslation:bw,fromRotationTranslationValues:function $T(n,e,t,i,r,o,s){var a=new xi(8);a[0]=n,a[1]=e,a[2]=t,a[3]=i;var l=.5*r,u=.5*o,d=.5*s;return a[4]=l*i+u*t-d*e,a[5]=u*i+d*n-l*t,a[6]=d*i+l*e-u*n,a[7]=-l*n-u*e-d*t,a},fromTranslation:function WT(n,e){return n[0]=0,n[1]=0,n[2]=0,n[3]=1,n[4]=.5*e[0],n[5]=.5*e[1],n[6]=.5*e[2],n[7]=0,n},fromValues:function Jy(n,e,t,i,r,o,s,a){var l=new xi(8);return l[0]=n,l[1]=e,l[2]=t,l[3]=i,l[4]=r,l[5]=o,l[6]=s,l[7]=a,l},getDual:function h5(n,e){return n[0]=e[4],n[1]=e[5],n[2]=e[6],n[3]=e[7],n},getReal:Jh,getTranslation:function ww(n,e){var t=e[4],i=e[5],r=e[6],o=e[7],s=-e[0],a=-e[1],l=-e[2],u=e[3];return n[0]=2*(t*u+o*s+i*l-r*a),n[1]=2*(i*u+o*a+r*s-t*l),n[2]=2*(r*u+o*l+t*a-i*s),n},identity:function Ew(n){return n[0]=0,n[1]=0,n[2]=0,n[3]=1,n[4]=0,n[5]=0,n[6]=0,n[7]=0,n},invert:function y5(n,e){var t=ev(e);return n[0]=-e[0]/t,n[1]=-e[1]/t,n[2]=-e[2]/t,n[3]=e[3]/t,n[4]=-e[4]/t,n[5]=-e[5]/t,n[6]=-e[6]/t,n[7]=e[7]/t,n},len:VT,length:VT,lerp:function v5(n,e,t,i){var r=1-i;return qT(e,t)<0&&(i=-i),n[0]=e[0]*r+t[0]*i,n[1]=e[1]*r+t[1]*i,n[2]=e[2]*r+t[2]*i,n[3]=e[3]*r+t[3]*i,n[4]=e[4]*r+t[4]*i,n[5]=e[5]*r+t[5]*i,n[6]=e[6]*r+t[6]*i,n[7]=e[7]*r+t[7]*i,n},mul:QT,multiply:QT,normalize:function w5(n,e){var t=ev(e);if(t>0){t=Math.sqrt(t);var i=e[0]/t,r=e[1]/t,o=e[2]/t,s=e[3]/t,a=e[4],l=e[5],u=e[6],d=e[7],f=i*a+r*l+o*u+s*d;n[0]=i,n[1]=r,n[2]=o,n[3]=s,n[4]=(a-i*f)/t,n[5]=(l-r*f)/t,n[6]=(u-o*f)/t,n[7]=(d-s*f)/t}return n},rotateAroundAxis:function m5(n,e,t,i){if(Math.abs(i)<Ai)return tv(n,e);var r=Math.hypot(t[0],t[1],t[2]);i*=.5;var o=Math.sin(i),s=o*t[0]/r,a=o*t[1]/r,l=o*t[2]/r,u=Math.cos(i),d=e[0],f=e[1],m=e[2],y=e[3];n[0]=d*u+y*s+f*l-m*a,n[1]=f*u+y*a+m*s-d*l,n[2]=m*u+y*l+d*a-f*s,n[3]=y*u-d*s-f*a-m*l;var b=e[4],E=e[5],w=e[6],M=e[7];return n[4]=b*u+M*s+E*l-w*a,n[5]=E*u+M*a+w*s-b*l,n[6]=w*u+M*l+b*a-E*s,n[7]=M*u-b*s-E*a-w*l,n},rotateByQuatAppend:function f5(n,e,t){var i=t[0],r=t[1],o=t[2],s=t[3],a=e[0],l=e[1],u=e[2],d=e[3];return n[0]=a*s+d*i+l*o-u*r,n[1]=l*s+d*r+u*i-a*o,n[2]=u*s+d*o+a*r-l*i,n[3]=d*s-a*i-l*r-u*o,n[4]=(a=e[4])*s+(d=e[7])*i+(l=e[5])*o-(u=e[6])*r,n[5]=l*s+d*r+u*i-a*o,n[6]=u*s+d*o+a*r-l*i,n[7]=d*s-a*i-l*r-u*o,n},rotateByQuatPrepend:function p5(n,e,t){var i=e[0],r=e[1],o=e[2],s=e[3],a=t[0],l=t[1],u=t[2],d=t[3];return n[0]=i*d+s*a+r*u-o*l,n[1]=r*d+s*l+o*a-i*u,n[2]=o*d+s*u+i*l-r*a,n[3]=s*d-i*a-r*l-o*u,n[4]=i*(d=t[7])+s*(a=t[4])+r*(u=t[6])-o*(l=t[5]),n[5]=r*d+s*l+o*a-i*u,n[6]=o*d+s*u+i*l-r*a,n[7]=s*d-i*a-r*l-o*u,n},rotateX:function YT(n,e,t){var i=-e[0],r=-e[1],o=-e[2],s=e[3],a=e[4],l=e[5],u=e[6],d=e[7],f=a*s+d*i+l*o-u*r,m=l*s+d*r+u*i-a*o,y=u*s+d*o+a*r-l*i,b=d*s-a*i-l*r-u*o;return Zy(n,e,t),n[4]=f*(s=n[3])+b*(i=n[0])+m*(o=n[2])-y*(r=n[1]),n[5]=m*s+b*r+y*i-f*o,n[6]=y*s+b*o+f*r-m*i,n[7]=b*s-f*i-m*r-y*o,n},rotateY:function ZT(n,e,t){var i=-e[0],r=-e[1],o=-e[2],s=e[3],a=e[4],l=e[5],u=e[6],d=e[7],f=a*s+d*i+l*o-u*r,m=l*s+d*r+u*i-a*o,y=u*s+d*o+a*r-l*i,b=d*s-a*i-l*r-u*o;return N0(n,e,t),n[4]=f*(s=n[3])+b*(i=n[0])+m*(o=n[2])-y*(r=n[1]),n[5]=m*s+b*r+y*i-f*o,n[6]=y*s+b*o+f*r-m*i,n[7]=b*s-f*i-m*r-y*o,n},rotateZ:function rp(n,e,t){var i=-e[0],r=-e[1],o=-e[2],s=e[3],a=e[4],l=e[5],u=e[6],d=e[7],f=a*s+d*i+l*o-u*r,m=l*s+d*r+u*i-a*o,y=u*s+d*o+a*r-l*i,b=d*s-a*i-l*r-u*o;return Yg(n,e,t),n[4]=f*(s=n[3])+b*(i=n[0])+m*(o=n[2])-y*(r=n[1]),n[5]=m*s+b*r+y*i-f*o,n[6]=y*s+b*o+f*r-m*i,n[7]=b*s-f*i-m*r-y*o,n},scale:function z0(n,e,t){return n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t,n[3]=e[3]*t,n[4]=e[4]*t,n[5]=e[5]*t,n[6]=e[6]*t,n[7]=e[7]*t,n},set:function V0(n,e,t,i,r,o,s,a,l){return n[0]=e,n[1]=t,n[2]=i,n[3]=r,n[4]=o,n[5]=s,n[6]=a,n[7]=l,n},setDual:function t1(n,e){return n[4]=e[0],n[5]=e[1],n[6]=e[2],n[7]=e[3],n},setReal:Jh,sqrLen:ev,squaredLength:ev,str:function x5(n){return"quat2("+n[0]+", "+n[1]+", "+n[2]+", "+n[3]+", "+n[4]+", "+n[5]+", "+n[6]+", "+n[7]+")"},translate:function XT(n,e,t){var i=e[0],r=e[1],o=e[2],s=e[3],a=.5*t[0],l=.5*t[1],u=.5*t[2],d=e[4],f=e[5],m=e[6],y=e[7];return n[0]=i,n[1]=r,n[2]=o,n[3]=s,n[4]=s*a+r*u-o*l+d,n[5]=s*l+o*a-i*u+f,n[6]=s*u+i*l-r*a+m,n[7]=-i*a-r*l-o*u+y,n}},Symbol.toStringTag,{value:"Module"}));function ef(){var n=new xi(2);return xi!=Float32Array&&(n[0]=0,n[1]=0),n}function xw(n,e){return n[0]=e[0],n[1]=e[1],n}function C5(n,e,t){return n[0]=e,n[1]=t,n}function S5(n,e,t){return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n}function n1(n,e,t){return n[0]=e[0]*t[0],n[1]=e[1]*t[1],n}function r1(n,e,t){return n[0]=e[0]/t[0],n[1]=e[1]/t[1],n}function iA(n,e){return Math.hypot(e[0]-n[0],e[1]-n[1])}function Mw(n,e){var t=e[0]-n[0],i=e[1]-n[1];return t*t+i*i}function Cw(n){return Math.hypot(n[0],n[1])}function rA(n){var e=n[0],t=n[1];return e*e+t*t}function nv(n,e){var t=e[0],i=e[1],r=t*t+i*i;return r>0&&(r=1/Math.sqrt(r)),n[0]=e[0]*r,n[1]=e[1]*r,n}function Sw(n,e){return n[0]*e[0]+n[1]*e[1]}function lA(n,e){var t=n[0],i=n[1],r=e[0],o=e[1],s=Math.sqrt(t*t+i*i)*Math.sqrt(r*r+o*o);return Math.acos(Math.min(Math.max(s&&(t*r+i*o)/s,-1),1))}function Aw(n,e){return n[0]===e[0]&&n[1]===e[1]}var s$=Cw,iv=S5,F5=n1,B5=r1,j5=iA,cA=Mw,V5=rA,z5=function(){var n=ef();return function(e,t,i,r,o,s){var a,l;for(t||(t=2),i||(i=0),l=r?Math.min(r*t+i,e.length):e.length,a=i;a<l;a+=t)n[0]=e[a],n[1]=e[a+1],o(n,n,s),e[a]=n[0],e[a+1]=n[1];return e}}();const U5=Object.freeze(Object.defineProperty({__proto__:null,add:function n$(n,e,t){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n},angle:lA,ceil:function i$(n,e){return n[0]=Math.ceil(e[0]),n[1]=Math.ceil(e[1]),n},clone:function tA(n){var e=new xi(2);return e[0]=n[0],e[1]=n[1],e},copy:xw,create:ef,cross:function Dw(n,e,t){var i=e[0]*t[1]-e[1]*t[0];return n[0]=n[1]=0,n[2]=i,n},dist:j5,distance:iA,div:B5,divide:r1,dot:Sw,equals:function o$(n,e){var t=n[0],i=n[1],r=e[0],o=e[1];return Math.abs(t-r)<=Ai*Math.max(1,Math.abs(t),Math.abs(r))&&Math.abs(i-o)<=Ai*Math.max(1,Math.abs(i),Math.abs(o))},exactEquals:Aw,floor:function r$(n,e){return n[0]=Math.floor(e[0]),n[1]=Math.floor(e[1]),n},forEach:z5,fromValues:function eA(n,e){var t=new xi(2);return t[0]=n,t[1]=e,t},inverse:function oA(n,e){return n[0]=1/e[0],n[1]=1/e[1],n},len:s$,length:Cw,lerp:function I5(n,e,t,i){var r=e[0],o=e[1];return n[0]=r+i*(t[0]-r),n[1]=o+i*(t[1]-o),n},max:function D5(n,e,t){return n[0]=Math.max(e[0],t[0]),n[1]=Math.max(e[1],t[1]),n},min:function nA(n,e,t){return n[0]=Math.min(e[0],t[0]),n[1]=Math.min(e[1],t[1]),n},mul:F5,multiply:n1,negate:function k5(n,e){return n[0]=-e[0],n[1]=-e[1],n},normalize:nv,random:function op(n,e){e=e||1;var t=2*Oc()*Math.PI;return n[0]=Math.cos(t)*e,n[1]=Math.sin(t)*e,n},rotate:function P5(n,e,t,i){var r=e[0]-t[0],o=e[1]-t[1],s=Math.sin(i),a=Math.cos(i);return n[0]=r*a-o*s+t[0],n[1]=r*s+o*a+t[1],n},round:function T5(n,e){return n[0]=Math.round(e[0]),n[1]=Math.round(e[1]),n},scale:function A5(n,e,t){return n[0]=e[0]*t,n[1]=e[1]*t,n},scaleAndAdd:function O5(n,e,t,i){return n[0]=e[0]+t[0]*i,n[1]=e[1]+t[1]*i,n},set:C5,sqrDist:cA,sqrLen:V5,squaredDistance:Mw,squaredLength:rA,str:function L5(n){return"vec2("+n[0]+", "+n[1]+")"},sub:iv,subtract:S5,transformMat2:function sA(n,e,t){var i=e[0],r=e[1];return n[0]=t[0]*i+t[2]*r,n[1]=t[1]*i+t[3]*r,n},transformMat2d:function R5(n,e,t){var i=e[0],r=e[1];return n[0]=t[0]*i+t[2]*r+t[4],n[1]=t[1]*i+t[3]*r+t[5],n},transformMat3:function Tw(n,e,t){var i=e[0],r=e[1];return n[0]=t[0]*i+t[3]*r+t[6],n[1]=t[1]*i+t[4]*r+t[7],n},transformMat4:function aA(n,e,t){var i=e[0],r=e[1];return n[0]=t[0]*i+t[4]*r+t[12],n[1]=t[1]*i+t[5]*r+t[13],n},zero:function N5(n){return n[0]=0,n[1]=0,n}},Symbol.toStringTag,{value:"Module"})),uA=Po(Object.freeze(Object.defineProperty({__proto__:null,glMatrix:AD,mat2:xN,mat2d:AN,mat3:eT,mat4:fT,quat:HT,quat2:Qd,vec2:U5,vec3:xT,vec4:qG},Symbol.toStringTag,{value:"Module"})));function dA(n){return[parseInt(n.substr(1,2),16),parseInt(n.substr(3,2),16),parseInt(n.substr(5,2),16)]}function rv(n){var e=Math.round(n).toString(16);return 1===e.length?"0".concat(e):e}function G5(n){return"#".concat(rv(n[0])).concat(rv(n[1])).concat(rv(n[2]))}var Wl=function(n){return null!==n&&"function"!=typeof n&&isFinite(n.length)},U0=function(n,e){return!!Wl(n)&&n.indexOf(e)>-1},$5=function(n,e){if(!Wl(n))return n;for(var t=[],i=0;i<n.length;i++){var r=n[i];e(r,i)&&t.push(r)}return t},W5=function(n,e){return void 0===e&&(e=[]),$5(n,function(t){return!U0(e,t)})};function ii(n){return"function"==typeof n}function Oi(n){return null==n}function qi(n){return Array.isArray(n)}const mo=function(n){var e=typeof n;return null!==n&&"object"===e||"function"===e};function qd(n,e){if(n)if(qi(n))for(var i=0,r=n.length;i<r&&!1!==e(n[i],i);i++);else if(mo(n))for(var o in n)if(n.hasOwnProperty(o)&&!1===e(n[o],o))break}var ov=Object.keys?function(n){return Object.keys(n)}:function(n){var e=[];return qd(n,function(t,i){ii(n)&&"prototype"===i||e.push(i)}),e};function Ow(n,e){var t=ov(e),i=t.length;if(Oi(n))return!i;for(var r=0;r<i;r+=1){var o=t[r];if(e[o]!==n[o]||!(o in n))return!1}return!0}var sv=function(n){return"object"==typeof n&&null!==n},hA={}.toString,H0=function(n,e){return hA.call(n)==="[object "+e+"]"},nf=function(n){if(!sv(n)||!H0(n,"Object"))return!1;if(null===Object.getPrototypeOf(n))return!0;for(var e=n;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e},kw=function(n,e){if(void 0===e&&(e=[]),qi(n))for(var t=0;t<n.length;t+=1)kw(n[t],e);else e.push(n);return e};function av(n){if(!Array.isArray(n))return-1/0;var e=n.length;if(!e)return-1/0;for(var t=n[0],i=1;i<e;i++)t=Math.max(t,n[i]);return t}const $0=function(n){if(qi(n))return n.reduce(function(e,t){return Math.min(e,t)},n[0])};var K5=Array.prototype,pA=K5.splice,mA=K5.indexOf,o1=Array.prototype.splice,s1=function(n,e){if(!Wl(n))return[];for(var t=n?e.length:0,i=t-1;t--;){var r=void 0,o=e[t];(t===i||o!==r)&&(r=o,o1.call(n,o,1))}return n},a1=function(n,e,t){if(!qi(n)&&!nf(n))return n;var i=t;return qd(n,function(r,o){i=e(i,r,o)}),i};function Ki(n){return"string"==typeof n}function l1(n,e){void 0===e&&(e=new Map);var t=[];if(Array.isArray(n))for(var i=0,r=n.length;i<r;i++){var o=n[i];e.has(o)||(t.push(o),e.set(o,!0))}return t}var Pw=Object.prototype.hasOwnProperty;function id(n,e){if(!e||!qi(n))return{};for(var r,t={},i=ii(e)?e:function(a){return a[e]},o=0;o<n.length;o++){var s=n[o];r=i(s),Pw.call(t,r)?t[r].push(s):t[r]=[s]}return t}function lv(n,e){if(!e)return{0:n};if(!ii(e)){var t=qi(e)?e:e.replace(/\s+/g,"").split("*");e=function(i){for(var r="_",o=0,s=t.length;o<s;o++)r+=i[t[o]]&&i[t[o]].toString();return r}}return id(n,e)}var u1={},Ys=function(n,e,t){return n<e?e:n>t?t:n};function oi(n){return"number"==typeof n}var Lw=1e-5;function ap(n,e,t){return void 0===t&&(t=Lw),n===e||Math.abs(n-e)<t}const Fw=function(n,e){if(qi(n)){for(var t,i=-1/0,r=0;r<n.length;r++){var o=n[r],s=ii(e)?e(o):o[e];s>i&&(t=o,i=s)}return t}},h1=function(n,e){if(qi(n)){for(var t,i=1/0,r=0;r<n.length;r++){var o=n[r],s=ii(e)?e(o):o[e];s<i&&(t=o,i=s)}return t}};var cp=function(n,e){return(n%e+e)%e},xA=180/Math.PI;const f1=parseInt;var nL=Math.PI/180;const p1=function(n,e){return n.hasOwnProperty(e)};var CA=Object.values?function(n){return Object.values(n)}:function(n){var e=[];return qd(n,function(t,i){ii(n)&&"prototype"===i||e.push(t)}),e};const W0=function(n){return Oi(n)?"":n.toString()};var nr=function(n){var e=W0(n);return e.charAt(0).toLowerCase()+e.substring(1)};function jw(n,e){return n&&e?n.replace(/\\?\{([^{}]+)\}/g,function(t,i){return"\\"===t.charAt(0)?t.slice(1):void 0===e[i]?"":e[i]}):n}var rd=function(n){var e=W0(n);return e.charAt(0).toUpperCase()+e.substring(1)},TA={}.toString,Vw=function(n){return TA.call(n).replace(/^\[object /,"").replace(/]$/,"")},rf=function(n){return H0(n,"Boolean")};function sf(n){return n instanceof Date}function Uw(n){return null===n}var Hw=Object.prototype,m1=function(n){var e=n&&n.constructor;return n===("function"==typeof e&&e.prototype||Hw)},_i=function(n){return void 0===n};function Ww(n,e){for(var t in e)e.hasOwnProperty(t)&&"constructor"!==t&&void 0!==e[t]&&(n[t]=e[t])}function up(n,e,t,i){return e&&Ww(n,e),t&&Ww(n,t),i&&Ww(n,i),n}var Jd=function(n){if("object"!=typeof n||null===n)return n;var e;if(qi(n)){e=[];for(var t=0,i=n.length;t<i;t++)e[t]="object"==typeof n[t]&&null!=n[t]?Jd(n[t]):n[t]}else for(var r in e={},n)e[r]="object"==typeof n[r]&&null!=n[r]?Jd(n[r]):n[r];return e};function K0(n,e,t){var i;return function(){var r=this,o=arguments,a=t&&!i;clearTimeout(i),i=setTimeout(function(){i=null,t||n.apply(r,o)},e),a&&n.apply(r,o)}}var g1=new Map;function v1(n,e,t){return void 0===t&&(t=128),function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var s=e?e.apply(this,r):r[0];g1.has(n)||g1.set(n,function lL(n){var e,t,i,r=n||1;function o(a,l){++e>r&&(i=t,s(1),++e),t[a]=l}function s(a){e=0,t=Object.create(null),a||(i=Object.create(null))}return s(),{clear:s,has:function(a){return void 0!==t[a]||void 0!==i[a]},get:function(a){var l=t[a];return void 0!==l?l:void 0!==(l=i[a])?(o(a,l),l):void 0},set:function(a,l){void 0!==t[a]?t[a]=l:o(a,l)}}}(t));var a=g1.get(n);if(a.has(s))return a.get(s);var l=n.apply(this,r);return a.set(s,l),l}}function uL(n,e){if(Object.hasOwn)return Object.hasOwn(n,e);if(null==n)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(n),e)}function nl(n,e,t,i){for(var r in t=t||0,i=i||5,e)if(uL(e,r)){var o=e[r];null!==o&&nf(o)?(nf(n[r])||(n[r]={}),t<i?nl(n[r],o,t+1,i):n[r]=e[r]):qi(o)?(n[r]=[],n[r]=n[r].concat(o)):void 0!==o&&(n[r]=o)}}var La=function(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];for(var i=0;i<e.length;i+=1)nl(n,e[i]);return n},Kw=Object.prototype.hasOwnProperty;function dp(n){if(Oi(n))return!0;if(Wl(n))return!n.length;var e=Vw(n);if("Map"===e||"Set"===e)return!n.size;if(m1(n))return!Object.keys(n).length;for(var t in n)if(Kw.call(n,t))return!1;return!0}var Xo=function(n,e){if(n===e)return!0;if(!n||!e||Ki(n)||Ki(e))return!1;if(Wl(n)||Wl(e)){if(n.length!==e.length)return!1;for(var t=!0,i=0;i<n.length&&(t=Xo(n[i],e[i]));i++);return t}if(sv(n)||sv(e)){var r=Object.keys(n),o=Object.keys(e);if(r.length!==o.length)return!1;for(t=!0,i=0;i<r.length&&(t=Xo(n[r[i]],e[r[i]]));i++);return t}return!1},AA=function(n){return n};const xa=function(n,e,t){for(var i=0,r=Ki(e)?e.split("."):e;n&&i<r.length;)n=n[r[i++]];return void 0===n||i<r.length?t:n},th=function(n,e,t){var i=n,r=Ki(e)?e.split("."):e;return r.forEach(function(o,s){s<r.length-1?(mo(i[o])||(i[o]=oi(r[s+1])?[]:{}),i=i[o]):i[o]=t}),n};var mL=Object.prototype.hasOwnProperty;const af=function(n,e){if(null===n||!nf(n))return{};var t={};return qd(e,function(i){mL.call(n,i)&&(t[i]=n[i])}),t},y1=function(n,e){return a1(n,function(t,i,r){return e.includes(r)||(t[r]=i),t},{})},Xw=function(n,e,t){var i,r,o,s,a=0;t||(t={});var l=function(){a=!1===t.leading?0:Date.now(),i=null,s=n.apply(r,o),i||(r=o=null)},u=function(){var d=Date.now();!a&&!1===t.leading&&(a=d);var f=e-(d-a);return r=this,o=arguments,f<=0||f>e?(i&&(clearTimeout(i),i=null),a=d,s=n.apply(r,o),i||(r=o=null)):!i&&!1!==t.trailing&&(i=setTimeout(l,f)),s};return u.cancel=function(){clearTimeout(i),a=0,i=r=o=null},u};var Yl={};const uv=function(n){return Yl[n=n||"g"]?Yl[n]+=1:Yl[n]=1,n+Yl[n]},b1=function(){},_1=function(n){return n};var kA=function(){function n(){this.map={}}return n.prototype.has=function(e){return void 0!==this.map[e]},n.prototype.get=function(e,t){var i=this.map[e];return void 0===i?t:i},n.prototype.set=function(e,t){this.map[e]=t},n.prototype.clear=function(){this.map={}},n.prototype.delete=function(e){delete this.map[e]},n.prototype.size=function(){return Object.keys(this.map).length},n}(),E1=/rgba?\(([\s.,0-9]+)\)/,Zw=v1(function u$(n){if("#"===n[0]&&7===n.length)return n;var e=function Yw(){var n=document.getElementById("antv-web-colour-picker");return n||((n=document.createElement("i")).id="antv-web-colour-picker",n.title="Web Colour Picker",n.style.display="none",document.body.appendChild(n),n)}();e.style.color=n;var t=document.defaultView.getComputedStyle(e,"").getPropertyValue("color");return G5(E1.exec(t)[1].split(/\s*,\s*/).map(function(o){return Number(o)}))},function(n){return n},256);function w1(n,e,t,i){return n[i]+(e[i]-n[i])*t}var Qw=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,eh=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,vL=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function bL(n,e,t){var i=[0,0,0,0,0,0,0,0,0];return YD(i,t),Xd(n,i,e)}function X0(n,e,t){var i=[0,0,0,0,0,0,0,0,0];return cu(i,t),Xd(n,i,e)}function RA(n,e,t){var i=[0,0,0,0,0,0,0,0,0];return ZD(i,t),Xd(n,i,e)}function hp(n,e,t){return Xd(n,t,e)}function M1(n,e){return n[0]*e[1]-e[0]*n[1]}var Jw=function(n,e){return(Jw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])})(n,e)};function lr(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=n}Jw(n,e),n.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}var wn=function(){return wn=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++)for(var r in e=arguments[t])Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},wn.apply(this,arguments)};function fs(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t}function pr(n,e,t,i){return new(t||(t=Promise))(function(o,s){function a(d){try{u(i.next(d))}catch(f){s(f)}}function l(d){try{u(i.throw(d))}catch(f){s(f)}}function u(d){d.done?o(d.value):function r(o){return o instanceof t?o:new t(function(s){s(o)})}(d.value).then(a,l)}u((i=i.apply(n,e||[])).next())})}function Z0(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Xt(n,e){var t="function"==typeof Symbol&&n[Symbol.iterator];if(!t)return n;var r,s,i=t.call(n),o=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(s)throw s.error}}return o}function Qn(n,e,t){if(t||2===arguments.length)for(var o,i=0,r=e.length;i<r;i++)(o||!(i in e))&&(o||(o=Array.prototype.slice.call(e,0,i)),o[i]=e[i]);return n.concat(o||Array.prototype.slice.call(e))}function S1(n,e,t,i){if("a"===t&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?n!==e||!i:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===t?i:"a"===t?i.call(n):i?i.value:e.get(n)}var LA={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null};function FA(n,e,t){if(n[t].length>7){n[t].shift();for(var i=n[t],r=t;i.length;)e[t]="A",n.splice(r+=1,0,["C"].concat(i.splice(0,6)));n.splice(t,1)}}var hv={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0};function BA(n){return Array.isArray(n)&&n.every(function(e){var t=e[0].toLowerCase();return hv[t]===e.length-1&&"achlmqstvz".includes(t)})}function tx(n){return BA(n)&&n.every(function(e){var t=e[0];return t===t.toUpperCase()})}function D1(n){return tx(n)&&n.every(function(e){return"ACLMQZ".includes(e[0])})}function ex(n){for(var e=n.pathValue[n.segmentStart],t=e.toLowerCase(),i=n.data;i.length>=hv[t]&&("m"===t&&i.length>2?(n.segments.push([e].concat(i.splice(0,2))),t="l",e="m"===e?"l":"L"):n.segments.push([e].concat(i.splice(0,hv[t]))),hv[t]););}function fv(n){var e=n.index,t=n.pathValue,i=t.charCodeAt(e);return 48===i?(n.param=0,void(n.index+=1)):49===i?(n.param=1,void(n.index+=1)):void(n.err='[path-util]: invalid Arc flag "'.concat(t[e],'", expecting 0 or 1 at index ').concat(e))}function pv(n){return n>=48&&n<=57||43===n||45===n||46===n}function od(n){return n>=48&&n<=57}function EL(n){var u,e=n.max,t=n.pathValue,i=n.index,r=i,o=!1,s=!1,a=!1,l=!1;if(r>=e)n.err="[path-util]: Invalid path value at index ".concat(r,', "pathValue" is missing param');else if((43===(u=t.charCodeAt(r))||45===u)&&(u=t.charCodeAt(r+=1)),od(u)||46===u){if(46!==u){if(o=48===u,u=t.charCodeAt(r+=1),o&&r<e&&u&&od(u))return void(n.err="[path-util]: Invalid path value at index ".concat(i,', "').concat(t[i],'" illegal number'));for(;r<e&&od(t.charCodeAt(r));)r+=1,s=!0;u=t.charCodeAt(r)}if(46===u){for(l=!0,r+=1;od(t.charCodeAt(r));)r+=1,a=!0;u=t.charCodeAt(r)}if(101===u||69===u){if(l&&!s&&!a)return void(n.err="[path-util]: Invalid path value at index ".concat(r,', "').concat(t[r],'" invalid float exponent'));if((43===(u=t.charCodeAt(r+=1))||45===u)&&(r+=1),!(r<e&&od(t.charCodeAt(r))))return void(n.err="[path-util]: Invalid path value at index ".concat(r,', "').concat(t[r],'" invalid integer exponent'));for(;r<e&&od(t.charCodeAt(r));)r+=1}n.index=r,n.param=+n.pathValue.slice(i,r)}else n.err="[path-util]: Invalid path value at index ".concat(r,', "').concat(t[r],'" is not a number')}function wL(n){return 10===n||13===n||8232===n||8233===n||32===n||9===n||11===n||12===n||160===n||n>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].includes(n)}function T1(n){for(var e=n.pathValue,t=n.max;n.index<t&&wL(e.charCodeAt(n.index));)n.index+=1}function nx(n){return 97==(32|n)}function xL(n){var e=n.max,t=n.pathValue,i=n.index,r=t.charCodeAt(i),o=hv[t[i].toLowerCase()];if(n.segmentStart=i,function A1(n){switch(32|n){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:return!0;default:return!1}}(r))if(n.index+=1,T1(n),n.data=[],o){for(;;){for(var s=o;s>0;s-=1){if(!nx(r)||3!==s&&4!==s?EL(n):fv(n),n.err.length)return;n.data.push(n.param),T1(n),n.index<e&&44===t.charCodeAt(n.index)&&(n.index+=1,T1(n))}if(n.index>=n.max||!pv(t.charCodeAt(n.index)))break}ex(n)}else ex(n);else n.err='[path-util]: Invalid path value "'.concat(t[i],'" is not a path command')}var d$=function(){return function n(e){this.pathValue=e,this.segments=[],this.max=e.length,this.index=0,this.param=0,this.segmentStart=0,this.data=[],this.err=""}}();function ix(n){if(BA(n))return[].concat(n);var e=new d$(n);for(T1(e);e.index<e.max&&!e.err.length;)xL(e);return e.err?e.err:e.segments}function jA(n){if(tx(n))return[].concat(n);var e=ix(n),t=0,i=0,r=0,o=0;return e.map(function(s){var d,a=s.slice(1).map(Number),l=s[0],u=l.toUpperCase();if("M"===l)return r=t=a[0],o=i=a[1],["M",t,i];if(l!==u)switch(u){case"A":d=[u,a[0],a[1],a[2],a[3],a[4],a[5]+t,a[6]+i];break;case"V":d=[u,a[0]+i];break;case"H":d=[u,a[0]+t];break;default:var f=a.map(function(y,b){return y+(b%2?i:t)});d=[u].concat(f)}else d=[u].concat(a);var m=d.length;switch(u){case"Z":t=r,i=o;break;case"H":t=d[1];break;case"V":i=d[1];break;default:t=d[m-2],i=d[m-1],"M"===u&&(r=t,o=i)}return d})}function ML(n,e){var t=n[0],i=e.x1,r=e.y1,o=e.x2,s=e.y2,a=n.slice(1).map(Number),l=n;if("TQ".includes(t)||(e.qx=null,e.qy=null),"H"===t)l=["L",n[1],r];else if("V"===t)l=["L",i,n[1]];else if("S"===t){var u=2*i-o,d=2*r-s;e.x1=u,e.y1=d,l=["C",u,d].concat(a)}else if("T"===t){var f=2*i-e.qx,m=2*r-e.qy;e.qx=f,e.qy=m,l=["Q",f,m].concat(a)}else if("Q"===t){var b=a[1];e.qx=a[0],e.qy=b}return l}function mv(n){if(D1(n))return[].concat(n);for(var e=jA(n),t=wn({},LA),i=0;i<e.length;i+=1){e[i]=ML(e[i],t);var r=e[i],o=r.length;t.x1=+r[o-2],t.y1=+r[o-1],t.x2=+r[o-4]||t.x1,t.y2=+r[o-3]||t.y1}return e}function rx(n,e,t){return{x:n*Math.cos(t)-e*Math.sin(t),y:n*Math.sin(t)+e*Math.cos(t)}}function O1(n,e,t,i,r,o,s,a,l,u){var D,k,T,O,R,d=n,f=e,m=t,y=i,b=a,E=l,w=120*Math.PI/180,M=Math.PI/180*(+r||0),x=[];if(u)k=u[0],T=u[1],O=u[2],R=u[3];else{f=(D=rx(d,f,-M)).y;var L=((d=D.x)-(b=(D=rx(b,E,-M)).x))/2,F=(f-(E=D.y))/2,U=L*L/(m*m)+F*F/(y*y);U>1&&(m*=U=Math.sqrt(U),y*=U);var $=m*m,X=y*y,q=(o===s?-1:1)*Math.sqrt(Math.abs(($*X-$*F*F-X*L*L)/($*F*F+X*L*L)));O=q*m*F/y+(d+b)/2,R=q*-y*L/m+(f+E)/2,k=Math.asin(((f-R)/y*Math.pow(10,9)|0)/Math.pow(10,9)),T=Math.asin(((E-R)/y*Math.pow(10,9)|0)/Math.pow(10,9)),k=d<O?Math.PI-k:k,T=b<O?Math.PI-T:T,k<0&&(k=2*Math.PI+k),T<0&&(T=2*Math.PI+T),s&&k>T&&(k-=2*Math.PI),!s&&T>k&&(T-=2*Math.PI)}var gt=T-k;if(Math.abs(gt)>w){var Et=T,at=b,Q=E;T=k+w*(s&&T>k?1:-1),x=O1(b=O+m*Math.cos(T),E=R+y*Math.sin(T),m,y,r,0,s,at,Q,[T,Et,O,R])}gt=T-k;var et=Math.cos(k),St=Math.sin(k),Yt=Math.cos(T),He=Math.sin(T),Se=Math.tan(gt/4),un=4/3*m*Se,_n=4/3*y*Se,Wn=[d,f],Ln=[d+un*St,f-_n*et],yi=[b+un*He,E-_n*Yt],Or=[b,E];if(Ln[0]=2*Wn[0]-Ln[0],Ln[1]=2*Wn[1]-Ln[1],u)return Ln.concat(yi,Or,x);for(var co=[],as=0,Vs=(x=Ln.concat(yi,Or,x)).length;as<Vs;as+=1)co[as]=as%2?rx(x[as-1],x[as],M).y:rx(x[as],x[as+1],M).x;return co}function lf(n,e,t){var i=n[0],r=n[1];return[i+(e[0]-i)*t,r+(e[1]-r)*t]}var k1=function(n,e,t,i){return Qn(Qn([],lf([n,e],[t,i],.5),!0),[t,i,t,i],!1)};function gv(n,e){var s,t=n[0],i=n.slice(1).map(Number),r=i[0],o=i[1],a=e.x1,l=e.y1,u=e.x,d=e.y;switch("TQ".includes(t)||(e.qx=null,e.qy=null),t){case"M":return e.x=r,e.y=o,n;case"A":return s=[a,l].concat(i),["C"].concat(O1(s[0],s[1],s[2],s[3],s[4],s[5],s[6],s[7],s[8],s[9]));case"Q":return e.qx=r,e.qy=o,s=[a,l].concat(i),["C"].concat(function SL(n,e,t,i,r,o){var s=.3333333333333333,a=2/3;return[s*n+a*t,s*e+a*i,s*r+a*t,s*o+a*i,r,o]}(s[0],s[1],s[2],s[3],s[4],s[5]));case"L":return["C"].concat(k1(a,l,r,o));case"Z":return a===u&&l===d?["C",a,l,u,d,u,d]:["C"].concat(k1(a,l,u,d))}return n}function Q0(n,e){if(void 0===e&&(e=!1),function CL(n){return D1(n)&&n.every(function(e){return"MC".includes(e[0])})}(n)){var t=[].concat(n);return e?[t,[]]:t}for(var l,u,i=mv(n),r=wn({},LA),o=[],s="",a=i.length,d=[],f=0;f<a;f+=1){i[f]&&(s=i[f][0]),o[f]=s;var m=gv(i[f],r);i[f]=m,FA(i,o,f),a=i.length,"Z"===s&&d.push(f),r.x1=+(l=i[f])[(u=l.length)-2],r.y1=+l[u-1],r.x2=+l[u-4]||r.x1,r.y2=+l[u-3]||r.y1}return e?[i,d]:i}function ox(n){return n.map(function(e){return Array.isArray(e)?[].concat(e):e})}function q0(n){var e=n.slice(1).map(function(t,i,r){return i?r[i-1].slice(-2).concat(t.slice(1)):n[0].slice(1).concat(t.slice(1))}).map(function(t){return t.map(function(i,r){return t[t.length-r-2*(1-r%2)]})}).reverse();return[["M"].concat(e[0].slice(0,2))].concat(e.map(function(t){return["C"].concat(t.slice(2))}))}function Fa(n,e){return Math.sqrt((n[0]-e[0])*(n[0]-e[0])+(n[1]-e[1])*(n[1]-e[1]))}function sx(n,e,t,i,r){var o=Fa([n,e],[t,i]),s={x:0,y:0};if("number"==typeof r)if(r<=0)s={x:n,y:e};else if(r>=o)s={x:t,y:i};else{var a=lf([n,e],[t,i],r/o);s={x:a[0],y:a[1]}}return{length:o,point:s,min:{x:Math.min(n,t),y:Math.min(e,i)},max:{x:Math.max(n,t),y:Math.max(e,i)}}}function J0(n,e){var t=n.x,i=n.y,r=e.x,o=e.y,s=t*r+i*o,a=Math.sqrt((Math.pow(t,2)+Math.pow(i,2))*(Math.pow(r,2)+Math.pow(o,2)));return(t*o-i*r<0?-1:1)*Math.acos(s/a)}function VA(n,e,t,i,r,o,s,a,l,u){var d=Math.abs,f=Math.sin,m=Math.cos,y=Math.sqrt,b=Math.PI,E=d(t),w=d(i),x=(r%360+360)%360*(b/180);if(n===a&&e===l)return{x:n,y:e};if(0===E||0===w)return sx(n,e,a,l,u).point;var D=(n-a)/2,k=(e-l)/2,T={x:m(x)*D+f(x)*k,y:-f(x)*D+m(x)*k},O=Math.pow(T.x,2)/Math.pow(E,2)+Math.pow(T.y,2)/Math.pow(w,2);O>1&&(E*=y(O),w*=y(O));var F=(Math.pow(E,2)*Math.pow(w,2)-Math.pow(E,2)*Math.pow(T.y,2)-Math.pow(w,2)*Math.pow(T.x,2))/(Math.pow(E,2)*Math.pow(T.y,2)+Math.pow(w,2)*Math.pow(T.x,2)),U=(o!==s?1:-1)*y(F=F<0?0:F),$_x=U*(E*T.y/w),$_y=U*(-w*T.x/E),X_x=m(x)*$_x-f(x)*$_y+(n+a)/2,X_y=f(x)*$_x+m(x)*$_y+(e+l)/2,q={x:(T.x-$_x)/E,y:(T.y-$_y)/w},gt=J0({x:1,y:0},q),at=J0(q,{x:(-T.x-$_x)/E,y:(-T.y-$_y)/w});!s&&at>0?at-=2*b:s&&at<0&&(at+=2*b);var Q=gt+(at%=2*b)*u,et=E*m(Q),St=w*f(Q);return{x:m(x)*et-f(x)*St+X_x,y:f(x)*et+m(x)*St+X_y}}function zA(n,e,t,i,r,o,s,a,l,u,d){var f,m=d.bbox,y=void 0===m||m,b=d.length,E=void 0===b||b,w=d.sampleSize,M=void 0===w?30:w,x="number"==typeof u,D=n,k=e,T=0,O=[D,k,T],R=[D,k],F={x:0,y:0},U=[{x:D,y:k}];x&&u<=0&&(F={x:D,y:k});for(var $=0;$<=M;$+=1){if(D=(f=VA(n,e,t,i,r,o,s,a,l,$/M)).x,k=f.y,y&&U.push({x:D,y:k}),E&&(T+=Fa(R,[D,k])),R=[D,k],x&&T>=u&&u>O[2]){var X=(T-u)/(T-O[2]);F={x:R[0]*(1-X)+O[0]*X,y:R[1]*(1-X)+O[1]*X}}O=[D,k,T]}return x&&u>=T&&(F={x:a,y:l}),{length:T,point:F,min:{x:Math.min.apply(null,U.map(function(q){return q.x})),y:Math.min.apply(null,U.map(function(q){return q.y}))},max:{x:Math.max.apply(null,U.map(function(q){return q.x})),y:Math.max.apply(null,U.map(function(q){return q.y}))}}}function UA(n,e,t,i,r,o,s,a,l){var u=1-l;return{x:Math.pow(u,3)*n+3*Math.pow(u,2)*l*t+3*u*Math.pow(l,2)*r+Math.pow(l,3)*s,y:Math.pow(u,3)*e+3*Math.pow(u,2)*l*i+3*u*Math.pow(l,2)*o+Math.pow(l,3)*a}}function ax(n,e,t,i,r,o,s,a,l,u){var d,f=u.bbox,m=void 0===f||f,y=u.length,b=void 0===y||y,E=u.sampleSize,w=void 0===E?10:E,M="number"==typeof l,x=n,D=e,k=0,T=[x,D,k],O=[x,D],L={x:0,y:0},F=[{x,y:D}];M&&l<=0&&(L={x,y:D});for(var U=0;U<=w;U+=1){if(x=(d=UA(n,e,t,i,r,o,s,a,U/w)).x,D=d.y,m&&F.push({x,y:D}),b&&(k+=Fa(O,[x,D])),O=[x,D],M&&k>=l&&l>T[2]){var $=(k-l)/(k-T[2]);L={x:O[0]*(1-$)+T[0]*$,y:O[1]*(1-$)+T[1]*$}}T=[x,D,k]}return M&&l>=k&&(L={x:s,y:a}),{length:k,point:L,min:{x:Math.min.apply(null,F.map(function(X){return X.x})),y:Math.min.apply(null,F.map(function(X){return X.y}))},max:{x:Math.max.apply(null,F.map(function(X){return X.x})),y:Math.max.apply(null,F.map(function(X){return X.y}))}}}function DL(n,e,t,i,r,o,s){var a=1-s;return{x:Math.pow(a,2)*n+2*a*s*t+Math.pow(s,2)*r,y:Math.pow(a,2)*e+2*a*s*i+Math.pow(s,2)*o}}function TL(n,e,t,i,r,o,s,a){var l,u=a.bbox,d=void 0===u||u,f=a.length,m=void 0===f||f,y=a.sampleSize,b=void 0===y?10:y,E="number"==typeof s,w=n,M=e,x=0,D=[w,M,x],k=[w,M],O={x:0,y:0},R=[{x:w,y:M}];E&&s<=0&&(O={x:w,y:M});for(var L=0;L<=b;L+=1){if(w=(l=DL(n,e,t,i,r,o,L/b)).x,M=l.y,d&&R.push({x:w,y:M}),m&&(x+=Fa(k,[w,M])),k=[w,M],E&&x>=s&&s>D[2]){var F=(x-s)/(x-D[2]);O={x:k[0]*(1-F)+D[0]*F,y:k[1]*(1-F)+D[1]*F}}D=[w,M,x]}return E&&s>=x&&(O={x:r,y:o}),{length:x,point:O,min:{x:Math.min.apply(null,R.map(function(U){return U.x})),y:Math.min.apply(null,R.map(function(U){return U.y}))},max:{x:Math.max.apply(null,R.map(function(U){return U.x})),y:Math.max.apply(null,R.map(function(U){return U.y}))}}}function R1(n,e,t){for(var i,r,o,s,a,l,f,y,x,u=mv(n),d="number"==typeof e,m=[],b=0,E=0,w=0,M=0,D=[],k=[],T=0,O={x:0,y:0},R=O,L=O,F=O,U=0,$=0,X=u.length;$<X;$+=1)m=(f="M"===(y=(x=u[$])[0]))?m:[b,E].concat(x.slice(1)),f?(R=O={x:w=x[1],y:M=x[2]},T=0,d&&e<.001&&(F=O)):"L"===y?(T=(i=sx(m[0],m[1],m[2],m[3],(e||0)-U)).length,O=i.min,R=i.max,L=i.point):"A"===y?(T=(r=zA(m[0],m[1],m[2],m[3],m[4],m[5],m[6],m[7],m[8],(e||0)-U,t||{})).length,O=r.min,R=r.max,L=r.point):"C"===y?(T=(o=ax(m[0],m[1],m[2],m[3],m[4],m[5],m[6],m[7],(e||0)-U,t||{})).length,O=o.min,R=o.max,L=o.point):"Q"===y?(T=(s=TL(m[0],m[1],m[2],m[3],m[4],m[5],(e||0)-U,t||{})).length,O=s.min,R=s.max,L=s.point):"Z"===y&&(T=(a=sx((m=[b,E,w,M])[0],m[1],m[2],m[3],(e||0)-U)).length,O=a.min,R=a.max,L=a.point),d&&U<e&&U+T>=e&&(F=L),k.push(R),D.push(O),U+=T,b=(l="Z"!==y?x.slice(-2):[w,M])[0],E=l[1];return d&&e>=U&&(F={x:b,y:E}),{length:U,point:F,min:{x:Math.min.apply(null,D.map(function(q){return q.x})),y:Math.min.apply(null,D.map(function(q){return q.y}))},max:{x:Math.max.apply(null,k.map(function(q){return q.x})),y:Math.max.apply(null,k.map(function(q){return q.y}))}}}function tm(n,e){return R1(n,void 0,wn(wn({},e),{bbox:!1,length:!0})).length}function yv(n,e){var t=n.length-1,i=[],o=0,s=function OL(n){var e=n.length,t=e-1;return n.map(function(i,r){return n.map(function(o,s){var a=r+s;return 0===s||n[a]&&"M"===n[a][0]?["M"].concat(n[a].slice(-2)):(a>=e&&(a-=t),n[a])})})}(n);return s.forEach(function(a,l){n.slice(1).forEach(function(u,d){o+=Fa(n[(l+d)%t].slice(-2),e[d%t].slice(-2))}),i[l]=o,o=0}),s[i.indexOf(Math.min.apply(null,i))]}function lx(n){var e=0,t=0,i=0;return Q0(n).map(function(r){var o;if("M"===r[0])return e=r[1],t=r[2],0;var s=r.slice(1);return i=function HA(n,e,t,i,r,o,s,a){return 3*((a-e)*(t+r)-(s-n)*(i+o)+i*(n-r)-t*(e-o)+a*(r+n/3)-s*(o+e/3))/20}(e,t,s[0],s[1],s[2],s[3],s[4],s[5]),o=r.slice(-2),e=o[0],t=o[1],i}).reduce(function(r,o){return r+o},0)}function P1(n){return lx(n)>=0}function bv(n,e,t){return R1(n,e,wn(wn({},t),{bbox:!1,length:!0})).point}function $A(n){return n.map(function(e,t,i){var s,r=t&&i[t-1].slice(-2).concat(e.slice(1)),o=t?ax(r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8],{bbox:!1}).length:0;return s=t?o?function kL(n,e){void 0===e&&(e=.5);var t=n.slice(0,2),i=n.slice(2,4),r=n.slice(4,6),o=n.slice(6,8),s=lf(t,i,e),a=lf(i,r,e),l=lf(r,o,e),u=lf(s,a,e),d=lf(a,l,e),f=lf(u,d,e);return[["C"].concat(s,u,f),["C"].concat(d,l,o)]}(r):[e,e]:[e],{s:e,ss:s,l:o}})}function ux(n,e,t){var i=$A(n),r=$A(e),o=i.length,s=r.length,a=i.filter(function(w){return w.l}).length,l=r.filter(function(w){return w.l}).length,u=i.filter(function(w){return w.l}).reduce(function(w,M){return w+M.l},0)/a||0,d=r.filter(function(w){return w.l}).reduce(function(w,M){return w+M.l},0)/l||0,f=t||Math.max(o,s),m=[u,d],y=[f-o,f-s],b=0,E=[i,r].map(function(w,M){return w.l===f?w.map(function(x){return x.s}):w.map(function(x,D){return y[M]-=(b=D&&y[M]&&x.l>=m[M])?1:0,b?x.ss:[x.s]}).flat()});return E[0].length===E[1].length?E:ux(E[0],E[1],f)}var IL=1e-6;function dx(n){return Math.abs(n)<IL?0:n<0?-1:1}function RL(n,e,t){return(t[0]-n[0])*(e[1]-n[1])==(e[0]-n[0])*(t[1]-n[1])&&Math.min(n[0],e[0])<=t[0]&&t[0]<=Math.max(n[0],e[0])&&Math.min(n[1],e[1])<=t[1]&&t[1]<=Math.max(n[1],e[1])}function _v(n,e,t){var i=!1,r=n.length;if(r<=2)return!1;for(var o=0;o<r;o++){var s=n[o],a=n[(o+1)%r];if(RL(s,a,[e,t]))return!0;dx(s[1]-t)>0!=dx(a[1]-t)>0&&dx(e-(t-s[1])*(s[0]-a[0])/(s[1]-a[1])-s[0])<0&&(i=!i)}return i}var em=function(n,e,t){return n>=e&&n<=t};function hx(n){for(var e=[],t=n.length,i=0;i<t-1;i++){var r=n[i],o=n[i+1];e.push({from:{x:r[0],y:r[1]},to:{x:o[0],y:o[1]}})}if(e.length>1){var s=n[0],a=n[t-1];e.push({from:{x:a[0],y:a[1]},to:{x:s[0],y:s[1]}})}return e}function nm(n){var e=n.map(function(i){return i[0]}),t=n.map(function(i){return i[1]});return{minX:Math.min.apply(null,e),maxX:Math.max.apply(null,e),minY:Math.min.apply(null,t),maxY:Math.max.apply(null,t)}}function F1(n){var e=document.createElement("div");e.innerHTML=n;var t=e.childNodes[0];return t&&e.contains(t)&&e.removeChild(t),t}const fx=Object.freeze(Object.defineProperty({__proto__:null,Cache:kA,angleTo:function dv(n,e,t){var i=lA(n,e),r=M1(n,e)>=0;return t?r?2*Math.PI-i:i:r?i:2*Math.PI-i},arcToCubic:O1,assign:up,augment:function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];for(var t=n[0],i=1;i<n.length;i++){var r=n[i];ii(r)&&(r=r.prototype),up(t.prototype,r)}},clamp:Ys,clearAnimationFrame:function sL(n){(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(n)},clone:Jd,clonePath:ox,contains:U0,createDOM:F1,debounce:K0,deepMix:La,difference:W5,direction:M1,distanceSquareRoot:Fa,each:qd,endsWith:function Q5(n,e){return!(!qi(n)&&!Ki(n))&&n[n.length-1]===e},equalizeSegments:ux,every:function(n,e){for(var t=0;t<n.length;t++)if(!e(n[t],t))return!1;return!0},extend:function(n,e,t,i){ii(e)||(t=e,e=n,n=function(){});var r=Object.create?function(s,a){return Object.create(s,{constructor:{value:a}})}:function(s,a){function l(){}l.prototype=s;var u=new l;return u.constructor=a,u},o=r(e.prototype,n);return n.prototype=up(o,n.prototype),n.superclass=r(e.prototype,e),up(o,t),up(n,i),n},filter:$5,find:function fA(n,e){if(!qi(n))return null;var t;if(ii(e)&&(t=e),nf(e)&&(t=function(r){return Ow(r,e)}),t)for(var i=0;i<n.length;i+=1)if(t(n[i]))return n[i];return null},findIndex:function G0(n,e,t){void 0===t&&(t=0);for(var i=t;i<n.length;i++)if(e(n[i],i))return i;return-1},firstValue:function(n,e){for(var t=null,i=0;i<n.length;i++){var o=n[i][e];if(!Oi(o)){t=qi(o)?o[0]:o;break}}return t},fixedBase:function(n,e){var t=e.toString(),i=t.indexOf(".");if(-1===i)return Math.round(n);var r=t.substr(i+1).length;return r>20&&(r=20),parseFloat(n.toFixed(r))},flatten:function(n){if(!qi(n))return[];for(var e=[],t=0;t<n.length;t++)e=e.concat(n[t]);return e},flattenDeep:kw,forIn:qd,get:xa,getDrawDirection:P1,getPathArea:lx,getPathBBox:function vv(n,e){if(!n)return{x:0,y:0,width:0,height:0,x2:0,y2:0,cx:0,cy:0,cz:0};var t=R1(n,void 0,wn(wn({},e),{length:!1})),i=t.min,r=i.x,o=i.y,s=t.max,a=s.x,l=s.y,u=a-r,d=l-o;return{width:u,height:d,x:r,y:o,x2:a,y2:l,cx:r+u/2,cy:o+d/2,cz:Math.max(u,d)+Math.min(u,d)/2}},getPathBBoxTotalLength:function AL(n,e){if(!n)return{length:0,x:0,y:0,width:0,height:0,x2:0,y2:0,cx:0,cy:0,cz:0};var t=R1(n,void 0,wn(wn({},e),{bbox:!0,length:!0})),r=t.min,o=r.x,s=r.y,a=t.max,l=a.x,u=a.y,d=l-o,f=u-s;return{length:t.length,width:d,height:f,x:o,y:s,x2:l,y2:u,cx:o+d/2,cy:s+f/2,cz:Math.max(d,f)+Math.min(d,f)/2}},getPointAtLength:bv,getRange:function(n){var e=n.filter(function(s){return!isNaN(s)});if(!e.length)return{min:0,max:0};if(qi(n[0])){for(var t=[],i=0;i<n.length;i++)t=t.concat(n[i]);e=t}var r=av(e);return{min:$0(e),max:r}},getRotatedCurve:yv,getTotalLength:tm,getType:Vw,getWrapBehavior:function J5(n,e){return n["_wrap_"+e]},gradient:function x1(n){var t=("string"==typeof n?n.split("-"):n).map(function(i){return dA(-1===i.indexOf("#")?Zw(i):i)});return function(i){return function IA(n,e){var t=isNaN(Number(e))||e<0?0:e>1?1:Number(e),i=n.length-1,r=Math.floor(i*t),o=i*t-r,s=n[r],a=r===i?s:n[r+1];return G5([w1(s,a,o,0),w1(s,a,o,1),w1(s,a,o,2)])}(t,i)}},group:function(n,e){if(!e)return[n];var t=lv(n,e),i=[];for(var r in t)i.push(t[r]);return i},groupBy:id,groupToMap:lv,has:p1,hasKey:p1,hasValue:function(n,e){return U0(CA(n),e)},head:function Y5(n){if(Wl(n))return n[0]},identity:_1,includes:U0,indexOf:function(n,e){if(!Wl(n))return-1;var t=Array.prototype.indexOf;if(t)return t.call(n,e);for(var i=-1,r=0;r<n.length;r++)if(n[r]===e){i=r;break}return i},isArguments:function(n){return H0(n,"Arguments")},isArray:qi,isArrayLike:Wl,isBoolean:rf,isDate:sf,isDecimal:function eL(n){return oi(n)&&n%1!=0},isElement:function $w(n){return n instanceof Element||n instanceof Document},isEmpty:dp,isEqual:Xo,isEqualWith:function(n,e,t){return ii(t)?!!t(n,e):Xo(n,e)},isError:function(n){return H0(n,"Error")},isEven:function _A(n){return oi(n)&&n%2==0},isFinite:function cv(n){return oi(n)&&isFinite(n)},isFunction:ii,isInteger:function EA(n){return oi(n)&&n%1==0},isMatch:Ow,isNegative:function wA(n){return oi(n)&&n<0},isNil:Oi,isNull:Uw,isNumber:oi,isNumberEqual:ap,isObject:mo,isObjectLike:sv,isOdd:function d1(n){return oi(n)&&n%2!=0},isPlainObject:nf,isPointInPolygon:_v,isPointInStroke:function N1(n,e){var t=function cx(n,e){for(var a,u,t=ix(n),i=mv(t),r=tm(t),o=function(T){var O=T.x-e.x,R=T.y-e.y;return O*O+R*R},s=8,l=0,d=0,f=1/0,m=0;m<=r;m+=s)(l=o(a=bv(i,m)))<f&&(u=a,d=m,f=l);s/=2;for(var y,b,E=0,w=0,M=0,x=0;s>.5;)M=o(y=bv(i,E=d-s)),x=o(b=bv(i,w=d+s)),E>=0&&M<f?(u=y,d=E,f=M):w<=r&&x<f?(u=b,d=w,f=x):s/=2;var D=function GA(n,e){var t=ix(n);if("string"==typeof t)throw TypeError(t);var i=t.slice(),r=tm(i),o=i.length-1,s=0,a=0,l=t[0],u=l.slice(-2),m={x:u[0],y:u[1]};if(o<=0||!e||!Number.isFinite(e))return{segment:l,index:0,length:a,point:m,lengthAtSegment:s};if(e>=r)return s=tm(i=t.slice(0,-1)),{segment:t[o],index:o,length:a=r-s,lengthAtSegment:s};for(var y=[];o>0;)l=i[o],a=r-(s=tm(i=i.slice(0,-1))),r=s,y.push({segment:l,index:o,length:a,lengthAtSegment:s}),o-=1;return y.find(function(b){return b.lengthAtSegment<=e})}(t,d);return{closest:u,distance:Math.sqrt(f),segment:D}}(n,e).distance;return Math.abs(t)<.001},isPolygonsIntersect:function h$(n,e){if(n.length<2||e.length<2)return!1;if(!function L1(n,e){return!(e.minX>n.maxX||e.maxX<n.minX||e.minY>n.maxY||e.maxY<n.minY)}(nm(n),nm(e)))return!1;var r=!1;if(e.forEach(function(l){if(_v(n,l[0],l[1]))return r=!0,!1}),r||(n.forEach(function(l){if(_v(e,l[0],l[1]))return r=!0,!1}),r))return!0;var o=hx(n),s=hx(e),a=!1;return s.forEach(function(l){if(function PL(n,e){var t=!1;return n.forEach(function(i){if(function WA(n,e,t,i){var o_x=t.x-n.x,o_y=t.y-n.y,s_x=e.x-n.x,s_y=e.y-n.y,a_x=i.x-t.x,a_y=i.y-t.y,l=s_x*a_y-s_y*a_x,m=null;if(l*l>.001*(s_x*s_x+s_y*s_y)*(a_x*a_x+a_y*a_y)){var y=(o_x*a_y-o_y*a_x)/l,b=(o_x*s_y-o_y*s_x)/l;em(y,0,1)&&em(b,0,1)&&(m={x:n.x+y*s_x,y:n.y+y*s_y})}return m}(i.from,i.to,e.from,e.to))return t=!0,!1}),t}(o,l))return a=!0,!1}),a},isPositive:function(n){return oi(n)&&n>0},isPrototype:m1,isRegExp:function(n){return H0(n,"RegExp")},isString:Ki,isType:H0,isUndefined:_i,keys:ov,last:function Z5(n){if(Wl(n))return n[n.length-1]},lowerCase:function(n){return W0(n).toLowerCase()},lowerFirst:nr,map:function(n,e){if(!Wl(n))return n;for(var t=[],i=0;i<n.length;i++)t.push(e(n[i],i));return t},mapValues:function(n,e){void 0===e&&(e=AA);var t={};return mo(n)&&!Oi(n)&&Object.keys(n).forEach(function(i){t[i]=e(n[i],i)}),t},max:av,maxBy:Fw,memoize:v1,min:$0,minBy:h1,mix:up,mod:cp,modifyCSS:function KA(n,e){if(n)return Object.keys(e).forEach(function(t){n.style[t]=e[t]}),n},noop:b1,normalizePath:mv,number2color:function yA(n){var e=u1[n];if(!e){for(var t=n.toString(16),i=t.length;i<6;i++)t="0"+t;u1[n]=e="#"+t}return e},omit:y1,parseRadius:function sp(n){var e=0,t=0,i=0,r=0;return qi(n)?1===n.length?e=t=i=r=n[0]:2===n.length?(e=i=n[0],t=r=n[1]):3===n.length?(e=n[0],t=r=n[1],i=n[2]):(e=n[0],t=n[1],i=n[2],r=n[3]):e=t=i=r=n,{r1:e,r2:t,r3:i,r4:r}},path2Absolute:jA,path2Array:function I1(n){return ix(n)},path2Curve:Q0,path2String:function _L(n,e){return void 0===e&&(e="off"),function NA(n,e){if("off"===e)return[].concat(n);var t="number"==typeof e&&e>=1?Math.pow(10,e):1;return n.map(function(i){var r=i.slice(1).map(Number).map(function(o){return e?Math.round(o*t)/t:Math.round(o)});return[i[0]].concat(r)})}(n,e).map(function(t){return t[0]+t.slice(1).join(" ")}).join("")},pick:af,pull:function(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];for(var i=0;i<e.length;i++)for(var r=e[i],o=-1;(o=mA.call(n,r))>-1;)pA.call(n,o,1);return n},pullAt:s1,reduce:a1,remove:function(n,e){var t=[];if(!Wl(n))return t;for(var i=-1,r=[],o=n.length;++i<o;){var s=n[i];e(s,i,n)&&(t.push(s),r.push(i))}return s1(n,r),t},requestAnimationFrame:function oL(n){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,16)})(n)},reverseCurve:q0,rgb2arr:dA,set:th,size:function OA(n){return Oi(n)?0:Wl(n)?n.length:Object.keys(n).length},some:function(n,e){for(var t=0;t<n.length;t++)if(e(n[t],t))return!0;return!1},sortBy:function Iw(n,e){var t;if(ii(e))t=function(r,o){return e(r)-e(o)};else{var i=[];Ki(e)?i.push(e):qi(e)&&(i=e),t=function(r,o){for(var s=0;s<i.length;s+=1){var a=i[s];if(r[a]>o[a])return 1;if(r[a]<o[a])return-1}return 0}}return n.sort(t),n},startsWith:function gA(n,e){return!(!qi(n)&&!Ki(n))&&n[0]===e},substitute:jw,throttle:Xw,toArray:function(n){return Wl(n)?Array.prototype.slice.call(n):[]},toCSSGradient:function qw(n){if(function yL(n){return/^[r,R,L,l]{1}[\s]*\(/.test(n)}(n)){var e,t=void 0;if("l"===n[0])t=(i=Qw.exec(n))[2],e="linear-gradient(".concat(+i[1]+90,"deg, ");else if("r"===n[0]){var i;e="radial-gradient(",t=(i=eh.exec(n))[4]}var o=t.match(vL);return o.forEach(function(s,a){var l=s.split(":");e+="".concat(l[1]," ").concat(100*Number(l[0]),"%"),a!==o.length-1&&(e+=", ")}),e+=")"}return n},toDegree:function(n){return xA*n},toInteger:f1,toRGB:Zw,toRadian:function(n){return nL*n},toString:W0,transform:function Y0(n,e){for(var t=n?[].concat(n):[1,0,0,0,1,0,0,0,1],i=0,r=e.length;i<r;i++){var o=e[i];switch(o[0]){case"t":bL(t,t,[o[1],o[2]]);break;case"s":RA(t,t,[o[1],o[2]]);break;case"r":X0(t,t,o[1]);break;case"m":hp(t,t,o[1])}}return t},union:function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return l1([].concat.apply([],n))},uniq:l1,uniqueId:uv,upperCase:function(n){return W0(n).toUpperCase()},upperFirst:rd,values:CA,valuesOfKey:function(n,e){for(var t=[],i={},r=0;r<n.length;r++){var s=n[r][e];if(!Oi(s)){qi(s)||(s=[s]);for(var a=0;a<s.length;a++){var l=s[a];i[l]||(t.push(l),i[l]=!0)}}}return t},vertical:function PA(n,e,t){return t?(n[0]=e[1],n[1]=-1*e[0]):(n[0]=-1*e[1],n[1]=e[0]),n},wrapBehavior:function tL(n,e){if(n["_wrap_"+e])return n["_wrap_"+e];var t=function(i){n[e](i)};return n["_wrap_"+e]=t,t}},Symbol.toStringTag,{value:"Module"})),Os=Po(fx),XA=Po(qu);function B1(){return B1=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(n,e,t){var i=function NL(n,e){for(;!{}.hasOwnProperty.call(n,e)&&null!==(n=Gd(n)););return n}(n,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(arguments.length<3?n:t):r.value}},B1.apply(null,arguments)}function j1(n,e,t,i){var r=B1(Gd(1&i?n.prototype:n),e,t);return 2&i&&"function"==typeof r?function(o){return r.apply(t,o)}:r}const px=Po(Object.freeze(Object.defineProperty({__proto__:null,default:j1},Symbol.toStringTag,{value:"Module"})));function im(n,e,t){n.prototype=e.prototype=t,t.constructor=n}function Ev(n,e){var t=Object.create(n.prototype);for(var i in e)t[i]=e[i];return t}function cf(){}var rm=1/.7,om="\\s*([+-]?\\d+)\\s*",pp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",sd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",LL=/^#([0-9a-f]{3,8})$/,FL=new RegExp(`^rgb\\(${om},${om},${om}\\)$`),mp=new RegExp(`^rgb\\(${sd},${sd},${sd}\\)$`),wv=new RegExp(`^rgba\\(${om},${om},${om},${pp}\\)$`),mx=new RegExp(`^rgba\\(${sd},${sd},${sd},${pp}\\)$`),gx=new RegExp(`^hsl\\(${pp},${sd},${sd}\\)$`),BL=new RegExp(`^hsla\\(${pp},${sd},${sd},${pp}\\)$`),gp={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function vx(){return this.rgb().formatHex()}function ZA(){return this.rgb().formatRgb()}function xv(n){var e,t;return n=(n+"").trim().toLowerCase(),(e=LL.exec(n))?(t=e[1].length,e=parseInt(e[1],16),6===t?QA(e):3===t?new ws(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===t?Mv(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===t?Mv(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=FL.exec(n))?new ws(e[1],e[2],e[3],1):(e=mp.exec(n))?new ws(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=wv.exec(n))?Mv(e[1],e[2],e[3],e[4]):(e=mx.exec(n))?Mv(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=gx.exec(n))?yp(e[1],e[2]/100,e[3]/100,1):(e=BL.exec(n))?yp(e[1],e[2]/100,e[3]/100,e[4]):gp.hasOwnProperty(n)?QA(gp[n]):"transparent"===n?new ws(NaN,NaN,NaN,0):null}function QA(n){return new ws(n>>16&255,n>>8&255,255&n,1)}function Mv(n,e,t,i){return i<=0&&(n=e=t=NaN),new ws(n,e,t,i)}function yx(n){return n instanceof cf||(n=xv(n)),n?new ws((n=n.rgb()).r,n.g,n.b,n.opacity):new ws}function bx(n,e,t,i){return 1===arguments.length?yx(n):new ws(n,e,t,i??1)}function ws(n,e,t,i){this.r=+n,this.g=+e,this.b=+t,this.opacity=+i}function qA(){return`#${Zl(this.r)}${Zl(this.g)}${Zl(this.b)}`}function _x(){const n=V1(this.opacity);return`${1===n?"rgb(":"rgba("}${vp(this.r)}, ${vp(this.g)}, ${vp(this.b)}${1===n?")":`, ${n})`}`}function V1(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function vp(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function Zl(n){return((n=vp(n))<16?"0":"")+n.toString(16)}function yp(n,e,t,i){return i<=0?n=e=t=NaN:t<=0||t>=1?n=e=NaN:e<=0&&(n=NaN),new Ic(n,e,t,i)}function sm(n){if(n instanceof Ic)return new Ic(n.h,n.s,n.l,n.opacity);if(n instanceof cf||(n=xv(n)),!n)return new Ic;if(n instanceof Ic)return n;var e=(n=n.rgb()).r/255,t=n.g/255,i=n.b/255,r=Math.min(e,t,i),o=Math.max(e,t,i),s=NaN,a=o-r,l=(o+r)/2;return a?(s=e===o?(t-i)/a+6*(t<i):t===o?(i-e)/a+2:(e-t)/a+4,a/=l<.5?o+r:2-o-r,s*=60):a=l>0&&l<1?0:s,new Ic(s,a,l,n.opacity)}function UL(n,e,t,i){return 1===arguments.length?sm(n):new Ic(n,e,t,i??1)}function Ic(n,e,t,i){this.h=+n,this.s=+e,this.l=+t,this.opacity=+i}function z1(n){return(n=(n||0)%360)<0?n+360:n}function U1(n){return Math.max(0,Math.min(1,n||0))}function H1(n,e,t){return 255*(n<60?e+(t-e)*n/60:n<180?t:n<240?e+(t-e)*(240-n)/60:e)}im(cf,xv,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:vx,formatHex:vx,formatHex8:function jL(){return this.rgb().formatHex8()},formatHsl:function VL(){return sm(this).formatHsl()},formatRgb:ZA,toString:ZA}),im(ws,bx,Ev(cf,{brighter(n){return n=null==n?rm:Math.pow(rm,n),new ws(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=null==n?.7:Math.pow(.7,n),new ws(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new ws(vp(this.r),vp(this.g),vp(this.b),V1(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:qA,formatHex:qA,formatHex8:function zL(){return`#${Zl(this.r)}${Zl(this.g)}${Zl(this.b)}${Zl(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:_x,toString:_x})),im(Ic,UL,Ev(cf,{brighter(n){return n=null==n?rm:Math.pow(rm,n),new Ic(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=null==n?.7:Math.pow(.7,n),new Ic(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+360*(this.h<0),e=isNaN(n)||isNaN(this.s)?0:this.s,t=this.l,i=t+(t<.5?t:1-t)*e,r=2*t-i;return new ws(H1(n>=240?n-240:n+120,r,i),H1(n,r,i),H1(n<120?n+240:n-120,r,i),this.opacity)},clamp(){return new Ic(z1(this.h),U1(this.s),U1(this.l),V1(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=V1(this.opacity);return`${1===n?"hsl(":"hsla("}${z1(this.h)}, ${100*U1(this.s)}%, ${100*U1(this.l)}%${1===n?")":`, ${n})`}`}}));const JA=Math.PI/180,Ex=180/Math.PI,tO=.96422,am=1,G1=.82521,eO=4/29,lm=6/29,nO=3*lm*lm,xx=lm*lm*lm;function nh(n){if(n instanceof il)return new il(n.l,n.a,n.b,n.opacity);if(n instanceof Ql)return Dx(n);n instanceof ws||(n=yx(n));var o,s,e=W1(n.r),t=W1(n.g),i=W1(n.b),r=Cx((.2225045*e+.7168786*t+.0606169*i)/am);return e===t&&t===i?o=s=r:(o=Cx((.4360747*e+.3850649*t+.1430804*i)/tO),s=Cx((.0139322*e+.0971045*t+.7141733*i)/G1)),new il(116*r-16,500*(o-r),200*(r-s),n.opacity)}function Mx(n,e,t,i){return 1===arguments.length?nh(n):new il(n,e,t,i??1)}function il(n,e,t,i){this.l=+n,this.a=+e,this.b=+t,this.opacity=+i}function Cx(n){return n>xx?Math.pow(n,1/3):n/nO+eO}function Sx(n){return n>lm?n*n*n:nO*(n-eO)}function Cv(n){return 255*(n<=.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055)}function W1(n){return(n/=255)<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)}function ih(n){if(n instanceof Ql)return new Ql(n.h,n.c,n.l,n.opacity);if(n instanceof il||(n=nh(n)),0===n.a&&0===n.b)return new Ql(NaN,0<n.l&&n.l<100?0:NaN,n.l,n.opacity);var e=Math.atan2(n.b,n.a)*Ex;return new Ql(e<0?e+360:e,Math.sqrt(n.a*n.a+n.b*n.b),n.l,n.opacity)}function HL(n,e,t,i){return 1===arguments.length?ih(n):new Ql(n,e,t,i??1)}function Ql(n,e,t,i){this.h=+n,this.c=+e,this.l=+t,this.opacity=+i}function Dx(n){if(isNaN(n.h))return new il(n.l,0,0,n.opacity);var e=n.h*JA;return new il(n.l,Math.cos(e)*n.c,Math.sin(e)*n.c,n.opacity)}im(il,Mx,Ev(cf,{brighter(n){return new il(this.l+18*(n??1),this.a,this.b,this.opacity)},darker(n){return new il(this.l-18*(n??1),this.a,this.b,this.opacity)},rgb(){var n=(this.l+16)/116,e=isNaN(this.a)?n:n+this.a/500,t=isNaN(this.b)?n:n-this.b/200;return new ws(Cv(3.1338561*(e=tO*Sx(e))-1.6168667*(n=am*Sx(n))-.4906146*(t=G1*Sx(t))),Cv(-.9787684*e+1.9161415*n+.033454*t),Cv(.0719453*e-.2289914*n+1.4052427*t),this.opacity)}})),im(Ql,HL,Ev(cf,{brighter(n){return new Ql(this.h,this.c,this.l+18*(n??1),this.opacity)},darker(n){return new Ql(this.h,this.c,this.l-18*(n??1),this.opacity)},rgb(){return Dx(this).rgb()}}));var Ax=1.78277,bp=-.29227,K1=-.90649,Dv=1.97294,iO=Dv*K1,rO=Dv*Ax,oO=Ax*bp- -.14861*K1;function sO(n,e,t,i){return 1===arguments.length?function GL(n){if(n instanceof _p)return new _p(n.h,n.s,n.l,n.opacity);n instanceof ws||(n=yx(n));var t=n.g/255,i=n.b/255,r=(oO*i+iO*(n.r/255)-rO*t)/(oO+iO-rO),o=i-r,s=(Dv*(t-r)-bp*o)/K1,a=Math.sqrt(s*s+o*o)/(Dv*r*(1-r)),l=a?Math.atan2(s,o)*Ex-120:NaN;return new _p(l<0?l+360:l,a,r,n.opacity)}(n):new _p(n,e,t,i??1)}function _p(n,e,t,i){this.h=+n,this.s=+e,this.l=+t,this.opacity=+i}im(_p,sO,Ev(cf,{brighter(n){return n=null==n?rm:Math.pow(rm,n),new _p(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=null==n?.7:Math.pow(.7,n),new _p(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=isNaN(this.h)?0:(this.h+120)*JA,e=+this.l,t=isNaN(this.s)?0:this.s*e*(1-e),i=Math.cos(n),r=Math.sin(n);return new ws(255*(e+t*(-.14861*i+Ax*r)),255*(e+t*(bp*i+K1*r)),255*(e+t*(Dv*i)),this.opacity)}}));const X1=Object.freeze(Object.defineProperty({__proto__:null,color:xv,cubehelix:sO,gray:function $1(n,e){return new il(n,0,0,e??1)},hcl:HL,hsl:UL,lab:Mx,lch:function Sv(n,e,t,i){return 1===arguments.length?ih(n):new Ql(t,e,n,i??1)},rgb:bx},Symbol.toStringTag,{value:"Module"})),$L=Po(X1);function Ma(n,e,t,i){var r=n-t,o=e-i;return Math.sqrt(r*r+o*o)}function Tv(n,e){var t=Math.min.apply(Math,Qn([],Xt(n),!1)),i=Math.min.apply(Math,Qn([],Xt(e),!1));return{x:t,y:i,width:Math.max.apply(Math,Qn([],Xt(n),!1))-t,height:Math.max.apply(Math,Qn([],Xt(e),!1))-i}}function Ox(n){return(n+2*Math.PI)%(2*Math.PI)}function Y1(n,e){var t=Math.abs(n);return e>0?t:-1*t}function uO(n,e,t,i,r,o){return t*Math.cos(r)*Math.cos(o)-i*Math.sin(r)*Math.sin(o)+n}function KL(n,e,t,i,r,o){return t*Math.sin(r)*Math.cos(o)+i*Math.cos(r)*Math.sin(o)+e}function dO(n,e,t){return{x:n*Math.cos(t),y:e*Math.sin(t)}}function Z1(n,e,t){var i=Math.cos(t),r=Math.sin(t);return[n*i-e*r,n*r+e*i]}function Q1(n,e,t,i,r,o,s){for(var a=function kx(n,e,t){return Math.atan(-e/n*Math.tan(t))}(t,i,r),l=1/0,u=-1/0,d=[o,s],f=2*-Math.PI;f<=2*Math.PI;f+=Math.PI){var m=a+f;o<s?o<m&&m<s&&d.push(m):s<m&&m<o&&d.push(m)}for(f=0;f<d.length;f++){var y=uO(n,0,t,i,r,d[f]);y<l&&(l=y),y>u&&(u=y)}var b=function cO(n,e,t){return Math.atan(e/(n*Math.tan(t)))}(t,i,r),E=1/0,w=-1/0,M=[o,s];for(f=2*-Math.PI;f<=2*Math.PI;f+=Math.PI){var x=b+f;o<s?o<x&&x<s&&M.push(x):s<x&&x<o&&M.push(x)}for(f=0;f<M.length;f++){var D=KL(0,e,t,i,r,M[f]);D<E&&(E=D),D>w&&(w=D)}return{x:l,y:E,width:u-l,height:w-E}}var Rx=1e-4;function fO(n,e,t,i,r,o){var s=-1,a=1/0,l=[t,i],u=20;o&&o>200&&(u=o/10);for(var d=1/u,f=d/10,m=0;m<=u;m++){var y=m*d,b=[r.apply(void 0,Qn([],Xt(n.concat([y])),!1)),r.apply(void 0,Qn([],Xt(e.concat([y])),!1))];(E=Ma(l[0],l[1],b[0],b[1]))<a&&(s=y,a=E)}if(0===s)return{x:n[0],y:e[0]};if(1===s){var w=n.length;return{x:n[w-1],y:e[w-1]}}for(a=1/0,m=0;m<32&&!(f<Rx);m++){var M=s-f,x=s+f,E=(b=[r.apply(void 0,Qn([],Xt(n.concat([M])),!1)),r.apply(void 0,Qn([],Xt(e.concat([M])),!1))],Ma(l[0],l[1],b[0],b[1]));if(M>=0&&E<a)s=M,a=E;else{var D=[r.apply(void 0,Qn([],Xt(n.concat([x])),!1)),r.apply(void 0,Qn([],Xt(e.concat([x])),!1))],k=Ma(l[0],l[1],D[0],D[1]);x<=1&&k<a?(s=x,a=k):f*=.5}}return{x:r.apply(void 0,Qn([],Xt(n.concat([s])),!1)),y:r.apply(void 0,Qn([],Xt(e.concat([s])),!1))}}function Px(n,e,t,i){return Ma(n,e,t,i)}function Rc(n,e,t,i,r){return{x:(1-r)*n+r*t,y:(1-r)*e+r*i}}function q1(n,e,t,i,r,o){var s=(t-n)*(r-n)+(i-e)*(o-e);return s<0?Ma(n,e,r,o):s>(t-n)*(t-n)+(i-e)*(i-e)?Ma(t,i,r,o):Av(n,e,t,i,r,o)}function Av(n,e,t,i,r,o){var s=[t-n,i-e];if(Aw(s,[0,0]))return Math.sqrt((r-n)*(r-n)+(o-e)*(o-e));var a=[-s[1],s[0]];return nv(a,a),Math.abs(Sw([r-n,o-e],a))}function uf(n,e,t,i,r){var o=1-r;return o*o*o*n+3*e*r*o*o+3*t*r*r*o+i*r*r*r}function Nx(n,e,t,i,r){var o=1-r;return 3*(o*o*(e-n)+2*o*r*(t-e)+r*r*(i-t))}function mO(n,e,t,i){var l,u,d,r=-3*n+9*e-9*t+3*i,o=6*n-12*e+6*t,s=3*e-3*n,a=[];if(ap(r,0))ap(o,0)||(l=-s/o)>=0&&l<=1&&a.push(l);else{var f=o*o-4*r*s;ap(f,0)?a.push(-o/(2*r)):f>0&&(u=(-o-(d=Math.sqrt(f)))/(2*r),(l=(-o+d)/(2*r))>=0&&l<=1&&a.push(l),u>=0&&u<=1&&a.push(u))}return a}function Lx(n,e,t,i,r,o,s,a,l){if(0===l)return function YL(n,e){for(var t=0,i=n.length,r=0;r<i;r++)t+=Ma(n[r],e[r],n[(r+1)%i],e[(r+1)%i]);return t/2}([n,t,r,s],[e,i,o,a]);var u=function gO(n,e,t,i,r,o,s,a,l){var u=uf(n,t,r,s,l),d=uf(e,i,o,a,l),f=Rc(n,e,t,i,l),m=Rc(t,i,r,o,l),y=Rc(r,o,s,a,l),b=Rc(f.x,f.y,m.x,m.y,l),E=Rc(m.x,m.y,y.x,y.y,l);return[[n,e,f.x,f.y,b.x,b.y,u,d],[u,d,E.x,E.y,y.x,y.y,s,a]]}(n,e,t,i,r,o,s,a,.5),d=Qn(Qn([],Xt(u[0]),!1),[l-1],!1),f=Qn(Qn([],Xt(u[1]),!1),[l-1],!1);return Lx.apply(void 0,Qn([],Xt(d),!1))+Lx.apply(void 0,Qn([],Xt(f),!1))}function J1(n,e,t,i,r,o,s,a){for(var l=[n,s],u=[e,a],d=mO(n,t,r,s),f=mO(e,i,o,a),m=0;m<d.length;m++)l.push(uf(n,t,r,s,d[m]));for(m=0;m<f.length;m++)u.push(uf(e,i,o,a,f[m]));return Tv(l,u)}function Fx(n,e,t,i,r,o,s,a,l,u,d){return fO([n,t,r,s],[e,i,o,a],l,u,uf,d)}function na(n,e,t,i,r,o,s,a,l,u,d){var f=Fx(n,e,t,i,r,o,s,a,l,u,d);return Ma(f.x,f.y,l,u)}function QL(n){for(var e=0,t=[],i=0;i<n.length-1;i++){var r=n[i],o=n[i+1],s=Ma(r[0],r[1],o[0],o[1]);t.push({from:r,to:o,length:s}),e+=s}return{segments:t,totalLength:e}}function jx(n){if(n.length<2)return 0;for(var e=0,t=0;t<n.length-1;t++){var i=n[t],r=n[t+1];e+=Ma(i[0],i[1],r[0],r[1])}return e}function Vx(n,e){if(e>1||e<0||n.length<2)return null;var t=QL(n),i=t.segments,r=t.totalLength;if(0===r)return{x:n[0][0],y:n[0][1]};for(var o=0,s=null,a=0;a<i.length;a++){var l=i[a],u=l.from,d=l.to,f=l.length/r;if(e>=o&&e<=o+f){s=Rc(u[0],u[1],d[0],d[1],(e-o)/f);break}o+=f}return s}function zx(n,e){if(e>1||e<0||n.length<2)return 0;for(var t=QL(n),i=t.segments,r=t.totalLength,o=0,s=0,a=0;a<i.length;a++){var l=i[a],u=l.from,d=l.to,f=l.length/r;if(e>=o&&e<=o+f){s=Math.atan2(d[1]-u[1],d[0]-u[0]);break}o+=f}return s}function tb(n,e,t){for(var i=1/0,r=0;r<n.length-1;r++){var o=n[r],s=n[r+1],a=q1(o[0],o[1],s[0],s[1],e,t);a<i&&(i=a)}return i}function Ux(n){for(var e=[],t=[],i=0;i<n.length;i++){var r=n[i];e.push(r[0]),t.push(r[1])}return Tv(e,t)}function Hx(n){return jx(n)}function Ov(n){var e=n.slice(0);return n.length&&e.push(n[0]),e}function kv(n,e,t,i){var r=1-i;return r*r*n+2*i*r*e+i*i*t}function n6(n,e,t){var i=n+t-2*e;if(ap(i,0))return[.5];var r=(n-e)/i;return r<=1&&r>=0?[r]:[]}function eb(n,e,t,i,r,o,s){if(0===s)return(Ma(n,e,t,i)+Ma(t,i,r,o)+Ma(n,e,r,o))/2;var a=function EO(n,e,t,i,r,o,s){var a=kv(n,t,r,s),l=kv(e,i,o,s),u=Rc(n,e,t,i,s),d=Rc(t,i,r,o,s);return[[n,e,u.x,u.y,a,l],[a,l,d.x,d.y,r,o]]}(n,e,t,i,r,o,.5),l=a[0],u=a[1];return l.push(s-1),u.push(s-1),eb.apply(void 0,Qn([],Xt(l),!1))+eb.apply(void 0,Qn([],Xt(u),!1))}function i6(n,e,t,i,r,o){var s=n6(n,t,r)[0],a=n6(e,i,o)[0],l=[n,r],u=[e,o];return void 0!==s&&l.push(kv(n,t,r,s)),void 0!==a&&u.push(kv(e,i,o,a)),Tv(l,u)}function r6(n,e,t,i,r,o,s,a){return fO([n,t,r],[e,i,o],s,a,kv)}function o6(n,e,t,i,r,o,s,a){var l=r6(n,e,t,i,r,o,s,a);return Ma(l.x,l.y,s,a)}const g$=Object.freeze(Object.defineProperty({__proto__:null,arcBox:Q1,arcNearestPoint:function hO(n,e,t,i,r,o,s,a,l){var d=Xt(Z1(a-n,l-e,-r),2),y=function aO(n,e,t,i,r,o){var s=t,a=i;if(0===s||0===a)return{x:n,y:e};for(var l=r-n,u=o-e,d=Math.abs(l),f=Math.abs(u),m=s*s,y=a*a,b=Math.PI/4,E=0,w=0,M=0;M<4;M++){E=s*Math.cos(b),w=a*Math.sin(b);var x=(m-y)*Math.pow(Math.cos(b),3)/s,D=(y-m)*Math.pow(Math.sin(b),3)/a,k=E-x,T=w-D,O=d-x,R=f-D,L=Math.hypot(T,k),F=Math.hypot(R,O);b+=L*Math.asin((k*R-T*O)/(L*F))/Math.sqrt(m+y-E*E-w*w),b=Math.min(Math.PI/2,Math.max(0,b))}return{x:n+Y1(E,l),y:e+Y1(w,u)}}(0,0,t,i,d[0],d[1]),b=function XL(n,e,t,i){return(Math.atan2(i*n,t*e)+2*Math.PI)%(2*Math.PI)}(t,i,y.x,y.y);b<o?y=dO(t,i,o):b>s&&(y=dO(t,i,s));var E=Z1(y.x,y.y,r);return{x:E[0]+n,y:E[1]+e}},arcTangentAngle:function Ix(n,e,t,i,r,o,s,a){var l=(s-o)*a+o,u=function WL(n,e,t,i,r,o,s,a){return-1*t*Math.cos(r)*Math.sin(a)-i*Math.sin(r)*Math.cos(a)}(0,0,t,i,r,0,0,l),d=function lO(n,e,t,i,r,o,s,a){return-1*t*Math.sin(r)*Math.sin(a)+i*Math.cos(r)*Math.cos(a)}(0,0,t,i,r,0,0,l);return Ox(Math.atan2(d,u))},cubicBox:J1,cubicLength:function vO(n,e,t,i,r,o,s,a){return Lx(n,e,t,i,r,o,s,a,3)},cubicNearestPoint:Fx,cubicPointAt:function Bx(n,e,t,i,r,o,s,a,l){return{x:uf(n,t,r,s,l),y:uf(e,i,o,a,l)}},cubicPointDistance:na,cubicTangentAngle:function f$(n,e,t,i,r,o,s,a,l){var u=Nx(n,t,r,s,l),d=Nx(e,i,o,a,l);return Ox(Math.atan2(d,u))},distance:Ma,lineBox:function ZL(n,e,t,i){return Tv([n,t],[e,i])},lineLength:Px,linePointAt:Rc,linePointDistance:q1,linePointToLine:Av,lineTangentAngle:function pO(n,e,t,i){return Math.atan2(i-e,t-n)},polygonBox:function JL(n){return Ux(n)},polygonLength:function t6(n){return jx(Ov(n))},polygonPointAt:function p$(n,e){return Vx(Ov(n),e)},polygonPointDistance:function _O(n,e,t){return tb(Ov(n),e,t)},polygonTangentAngle:function e6(n,e){return zx(Ov(n),e)},polylineBox:Ux,polylineLength:Hx,polylinePointAt:function yO(n,e){return Vx(n,e)},polylinePointDistance:function bO(n,e,t){return tb(n,e,t)},polylineTangentAngle:function qL(n,e){return zx(n,e)},quadBox:i6,quadLength:function m$(n,e,t,i,r,o){return eb(n,e,t,i,r,o,3)},quadNearestPoint:r6,quadPointDistance:o6},Symbol.toStringTag,{value:"Module"})),v$=Po(g$);function rl(){rl=function(){return e};var n,e={},t=Object.prototype,i=t.hasOwnProperty,r=Object.defineProperty||function(at,Q,et){at[Q]=et.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(at,Q,et){return Object.defineProperty(at,Q,{value:et,enumerable:!0,configurable:!0,writable:!0}),at[Q]}try{u({},"")}catch{u=function(at,Q,et){return at[Q]=et}}function d(at,Q,et,St){var He=Object.create((Q&&Q.prototype instanceof M?Q:M).prototype),Se=new gt(St||[]);return r(He,"_invoke",{value:U(at,et,Se)}),He}function f(at,Q,et){try{return{type:"normal",arg:at.call(Q,et)}}catch(St){return{type:"throw",arg:St}}}e.wrap=d;var m="suspendedStart",y="suspendedYield",b="executing",E="completed",w={};function M(){}function x(){}function D(){}var k={};u(k,s,function(){return this});var T=Object.getPrototypeOf,O=T&&T(T(Et([])));O&&O!==t&&i.call(O,s)&&(k=O);var R=D.prototype=M.prototype=Object.create(k);function L(at){["next","throw","return"].forEach(function(Q){u(at,Q,function(et){return this._invoke(Q,et)})})}function F(at,Q){function et(Yt,He,Se,un){var _n=f(at[Yt],at,He);if("throw"!==_n.type){var Wn=_n.arg,Ln=Wn.value;return Ln&&"object"==Hd(Ln)&&i.call(Ln,"__await")?Q.resolve(Ln.__await).then(function(yi){et("next",yi,Se,un)},function(yi){et("throw",yi,Se,un)}):Q.resolve(Ln).then(function(yi){Wn.value=yi,Se(Wn)},function(yi){return et("throw",yi,Se,un)})}un(_n.arg)}var St;r(this,"_invoke",{value:function(Yt,He){function Se(){return new Q(function(un,_n){et(Yt,He,un,_n)})}return St=St?St.then(Se,Se):Se()}})}function U(at,Q,et){var St=m;return function(Yt,He){if(St===b)throw Error("Generator is already running");if(St===E){if("throw"===Yt)throw He;return{value:n,done:!0}}for(et.method=Yt,et.arg=He;;){var Se=et.delegate;if(Se){var un=$(Se,et);if(un){if(un===w)continue;return un}}if("next"===et.method)et.sent=et._sent=et.arg;else if("throw"===et.method){if(St===m)throw St=E,et.arg;et.dispatchException(et.arg)}else"return"===et.method&&et.abrupt("return",et.arg);St=b;var _n=f(at,Q,et);if("normal"===_n.type){if(St=et.done?E:y,_n.arg===w)continue;return{value:_n.arg,done:et.done}}"throw"===_n.type&&(St=E,et.method="throw",et.arg=_n.arg)}}}function $(at,Q){var et=Q.method,St=at.iterator[et];if(St===n)return Q.delegate=null,"throw"===et&&at.iterator.return&&(Q.method="return",Q.arg=n,$(at,Q),"throw"===Q.method)||"return"!==et&&(Q.method="throw",Q.arg=new TypeError("The iterator does not provide a '"+et+"' method")),w;var Yt=f(St,at.iterator,Q.arg);if("throw"===Yt.type)return Q.method="throw",Q.arg=Yt.arg,Q.delegate=null,w;var He=Yt.arg;return He?He.done?(Q[at.resultName]=He.value,Q.next=at.nextLoc,"return"!==Q.method&&(Q.method="next",Q.arg=n),Q.delegate=null,w):He:(Q.method="throw",Q.arg=new TypeError("iterator result is not an object"),Q.delegate=null,w)}function X(at){var Q={tryLoc:at[0]};1 in at&&(Q.catchLoc=at[1]),2 in at&&(Q.finallyLoc=at[2],Q.afterLoc=at[3]),this.tryEntries.push(Q)}function q(at){var Q=at.completion||{};Q.type="normal",delete Q.arg,at.completion=Q}function gt(at){this.tryEntries=[{tryLoc:"root"}],at.forEach(X,this),this.reset(!0)}function Et(at){if(at||""===at){var Q=at[s];if(Q)return Q.call(at);if("function"==typeof at.next)return at;if(!isNaN(at.length)){var et=-1,St=function Yt(){for(;++et<at.length;)if(i.call(at,et))return Yt.value=at[et],Yt.done=!1,Yt;return Yt.value=n,Yt.done=!0,Yt};return St.next=St}}throw new TypeError(Hd(at)+" is not iterable")}return x.prototype=D,r(R,"constructor",{value:D,configurable:!0}),r(D,"constructor",{value:x,configurable:!0}),x.displayName=u(D,l,"GeneratorFunction"),e.isGeneratorFunction=function(at){var Q="function"==typeof at&&at.constructor;return!!Q&&(Q===x||"GeneratorFunction"===(Q.displayName||Q.name))},e.mark=function(at){return Object.setPrototypeOf?Object.setPrototypeOf(at,D):(at.__proto__=D,u(at,l,"GeneratorFunction")),at.prototype=Object.create(R),at},e.awrap=function(at){return{__await:at}},L(F.prototype),u(F.prototype,a,function(){return this}),e.AsyncIterator=F,e.async=function(at,Q,et,St,Yt){void 0===Yt&&(Yt=Promise);var He=new F(d(at,Q,et,St),Yt);return e.isGeneratorFunction(Q)?He:He.next().then(function(Se){return Se.done?Se.value:He.next()})},L(R),u(R,l,"Generator"),u(R,s,function(){return this}),u(R,"toString",function(){return"[object Generator]"}),e.keys=function(at){var Q=Object(at),et=[];for(var St in Q)et.push(St);return et.reverse(),function Yt(){for(;et.length;){var He=et.pop();if(He in Q)return Yt.value=He,Yt.done=!1,Yt}return Yt.done=!0,Yt}},e.values=Et,gt.prototype={constructor:gt,reset:function(at){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(q),!at)for(var Q in this)"t"===Q.charAt(0)&&i.call(this,Q)&&!isNaN(+Q.slice(1))&&(this[Q]=n)},stop:function(){this.done=!0;var at=this.tryEntries[0].completion;if("throw"===at.type)throw at.arg;return this.rval},dispatchException:function(at){if(this.done)throw at;var Q=this;function et(_n,Wn){return He.type="throw",He.arg=at,Q.next=_n,Wn&&(Q.method="next",Q.arg=n),!!Wn}for(var St=this.tryEntries.length-1;St>=0;--St){var Yt=this.tryEntries[St],He=Yt.completion;if("root"===Yt.tryLoc)return et("end");if(Yt.tryLoc<=this.prev){var Se=i.call(Yt,"catchLoc"),un=i.call(Yt,"finallyLoc");if(Se&&un){if(this.prev<Yt.catchLoc)return et(Yt.catchLoc,!0);if(this.prev<Yt.finallyLoc)return et(Yt.finallyLoc)}else if(Se){if(this.prev<Yt.catchLoc)return et(Yt.catchLoc,!0)}else{if(!un)throw Error("try statement without catch or finally");if(this.prev<Yt.finallyLoc)return et(Yt.finallyLoc)}}}},abrupt:function(at,Q){for(var et=this.tryEntries.length-1;et>=0;--et){var St=this.tryEntries[et];if(St.tryLoc<=this.prev&&i.call(St,"finallyLoc")&&this.prev<St.finallyLoc){var Yt=St;break}}Yt&&("break"===at||"continue"===at)&&Yt.tryLoc<=Q&&Q<=Yt.finallyLoc&&(Yt=null);var He=Yt?Yt.completion:{};return He.type=at,He.arg=Q,Yt?(this.method="next",this.next=Yt.finallyLoc,w):this.complete(He)},complete:function(at,Q){if("throw"===at.type)throw at.arg;return"break"===at.type||"continue"===at.type?this.next=at.arg:"return"===at.type?(this.rval=this.arg=at.arg,this.method="return",this.next="end"):"normal"===at.type&&Q&&(this.next=Q),w},finish:function(at){for(var Q=this.tryEntries.length-1;Q>=0;--Q){var et=this.tryEntries[Q];if(et.finallyLoc===at)return this.complete(et.completion,et.afterLoc),q(et),w}},catch:function(at){for(var Q=this.tryEntries.length-1;Q>=0;--Q){var et=this.tryEntries[Q];if(et.tryLoc===at){var St=et.completion;if("throw"===St.type){var Yt=St.arg;q(et)}return Yt}}throw Error("illegal catch attempt")},delegateYield:function(at,Q,et){return this.delegate={iterator:Et(at),resultName:Q,nextLoc:et},"next"===this.method&&(this.arg=n),w}},e}const b$=Po(Object.freeze(Object.defineProperty({__proto__:null,get default(){return rl}},Symbol.toStringTag,{value:"Module"})));function wO(n,e,t,i,r,o,s){try{var a=n[o](s),l=a.value}catch(u){return void t(u)}a.done?e(l):Promise.resolve(l).then(i,r)}function ql(n){return function(){var e=this,t=arguments;return new Promise(function(i,r){var o=n.apply(e,t);function s(l){wO(o,i,r,s,a,"next",l)}function a(l){wO(o,i,r,s,a,"throw",l)}s(void 0)})}}const s6=Po(Object.freeze(Object.defineProperty({__proto__:null,default:ql},Symbol.toStringTag,{value:"Module"})));function df(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=Cy(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var i=0,r=function(){};return{s:r,n:function(){return i>=n.length?{done:!0}:{done:!1,value:n[i++]}},e:function(l){throw l},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){t=t.call(n)},n:function(){var l=t.next();return s=l.done,l},e:function(l){a=!0,o=l},f:function(){try{s||null==t.return||t.return()}finally{if(a)throw o}}}}const a6=Po(Object.freeze(Object.defineProperty({__proto__:null,default:df},Symbol.toStringTag,{value:"Module"})));function mu(n,e){if(null==n)return{};var t,i,r=function _$(n,e){if(null==n)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.includes(i))continue;t[i]=n[i]}return t}(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)e.includes(t=o[i])||{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}const l6=Object.freeze(Object.defineProperty({__proto__:null,default:mu},Symbol.toStringTag,{value:"Module"}));var vo=SE,ti=dN,ri=hN,Yo=DE,Mo=AE,so=mN,Vo=yN,Gx=TD,zt=uA,zn=Os,Dr=XA,MO=px,hf=v$,cm=b$,$x=s6,um=a6,Ep=Po(l6);function u6(n){var e=Object.create(null);return n&&Object.keys(n).forEach(function(t){if("default"!==t){var i=Object.getOwnPropertyDescriptor(n,t);Object.defineProperty(e,t,i.get?i:{enumerable:!0,get:function(){return n[t]}})}}),e.default=n,Object.freeze(e)}var CO=u6($L),Wx=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof ji<"u"||typeof self<"u"&&self,{exports:{}});!function(n){n.exports=function(){function t(T,O,R,L,F){i(T,O,R||0,L||T.length-1,F||o)}function i(T,O,R,L,F){for(;L>R;){if(L-R>600){var U=L-R+1,$=O-R+1,X=Math.log(U),q=.5*Math.exp(2*X/3),gt=.5*Math.sqrt(X*q*(U-q)/U)*($-U/2<0?-1:1);i(T,O,Math.max(R,Math.floor(O-$*q/U+gt)),Math.min(L,Math.floor(O+(U-$)*q/U+gt)),F)}var Q=T[O],et=R,St=L;for(r(T,R,O),F(T[L],Q)>0&&r(T,R,L);et<St;){for(r(T,et,St),et++,St--;F(T[et],Q)<0;)et++;for(;F(T[St],Q)>0;)St--}0===F(T[R],Q)?r(T,R,St):r(T,++St,L),St<=O&&(R=St+1),O<=St&&(L=St-1)}}function r(T,O,R){var L=T[O];T[O]=T[R],T[R]=L}function o(T,O){return T<O?-1:T>O?1:0}var s=function(T){void 0===T&&(T=9),this._maxEntries=Math.max(4,T),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function a(T,O,R){if(!R)return O.indexOf(T);for(var L=0;L<O.length;L++)if(R(T,O[L]))return L;return-1}function l(T,O){u(T,0,T.children.length,O,T)}function u(T,O,R,L,F){F||(F=D(null)),F.minX=1/0,F.minY=1/0,F.maxX=-1/0,F.maxY=-1/0;for(var U=O;U<R;U++){var $=T.children[U];d(F,T.leaf?L($):$)}return F}function d(T,O){return T.minX=Math.min(T.minX,O.minX),T.minY=Math.min(T.minY,O.minY),T.maxX=Math.max(T.maxX,O.maxX),T.maxY=Math.max(T.maxY,O.maxY),T}function f(T,O){return T.minX-O.minX}function m(T,O){return T.minY-O.minY}function y(T){return(T.maxX-T.minX)*(T.maxY-T.minY)}function b(T){return T.maxX-T.minX+(T.maxY-T.minY)}function E(T,O){return(Math.max(O.maxX,T.maxX)-Math.min(O.minX,T.minX))*(Math.max(O.maxY,T.maxY)-Math.min(O.minY,T.minY))}function w(T,O){var R=Math.max(T.minX,O.minX),L=Math.max(T.minY,O.minY),F=Math.min(T.maxX,O.maxX),U=Math.min(T.maxY,O.maxY);return Math.max(0,F-R)*Math.max(0,U-L)}function M(T,O){return T.minX<=O.minX&&T.minY<=O.minY&&O.maxX<=T.maxX&&O.maxY<=T.maxY}function x(T,O){return O.minX<=T.maxX&&O.minY<=T.maxY&&O.maxX>=T.minX&&O.maxY>=T.minY}function D(T){return{children:T,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function k(T,O,R,L,F){for(var U=[O,R];U.length;)if(!((R=U.pop())-(O=U.pop())<=L)){var $=O+Math.ceil((R-O)/L/2)*L;t(T,$,O,R,F),U.push(O,$,$,R)}}return s.prototype.all=function(){return this._all(this.data,[])},s.prototype.search=function(T){var O=this.data,R=[];if(!x(T,O))return R;for(var L=this.toBBox,F=[];O;){for(var U=0;U<O.children.length;U++){var $=O.children[U],X=O.leaf?L($):$;x(T,X)&&(O.leaf?R.push($):M(T,X)?this._all($,R):F.push($))}O=F.pop()}return R},s.prototype.collides=function(T){var O=this.data;if(!x(T,O))return!1;for(var R=[];O;){for(var L=0;L<O.children.length;L++){var F=O.children[L],U=O.leaf?this.toBBox(F):F;if(x(T,U)){if(O.leaf||M(T,U))return!0;R.push(F)}}O=R.pop()}return!1},s.prototype.load=function(T){if(!T||!T.length)return this;if(T.length<this._minEntries){for(var O=0;O<T.length;O++)this.insert(T[O]);return this}var R=this._build(T.slice(),0,T.length-1,0);if(this.data.children.length)if(this.data.height===R.height)this._splitRoot(this.data,R);else{if(this.data.height<R.height){var L=this.data;this.data=R,R=L}this._insert(R,this.data.height-R.height-1,!0)}else this.data=R;return this},s.prototype.insert=function(T){return T&&this._insert(T,this.data.height-1),this},s.prototype.clear=function(){return this.data=D([]),this},s.prototype.remove=function(T,O){if(!T)return this;for(var $,X,q,R=this.data,L=this.toBBox(T),F=[],U=[];R||F.length;){if(R||(R=F.pop(),X=F[F.length-1],$=U.pop(),q=!0),R.leaf){var gt=a(T,R.children,O);if(-1!==gt)return R.children.splice(gt,1),F.push(R),this._condense(F),this}q||R.leaf||!M(R,L)?X?($++,R=X.children[$],q=!1):R=null:(F.push(R),U.push($),$=0,X=R,R=R.children[0])}return this},s.prototype.toBBox=function(T){return T},s.prototype.compareMinX=function(T,O){return T.minX-O.minX},s.prototype.compareMinY=function(T,O){return T.minY-O.minY},s.prototype.toJSON=function(){return this.data},s.prototype.fromJSON=function(T){return this.data=T,this},s.prototype._all=function(T,O){for(var R=[];T;)T.leaf?O.push.apply(O,T.children):R.push.apply(R,T.children),T=R.pop();return O},s.prototype._build=function(T,O,R,L){var $,F=R-O+1,U=this._maxEntries;if(F<=U)return l($=D(T.slice(O,R+1)),this.toBBox),$;L||(L=Math.ceil(Math.log(F)/Math.log(U)),U=Math.ceil(F/Math.pow(U,L-1))),($=D([])).leaf=!1,$.height=L;var X=Math.ceil(F/U),q=X*Math.ceil(Math.sqrt(U));k(T,O,R,q,this.compareMinX);for(var gt=O;gt<=R;gt+=q){var Et=Math.min(gt+q-1,R);k(T,gt,Et,X,this.compareMinY);for(var at=gt;at<=Et;at+=X){var Q=Math.min(at+X-1,Et);$.children.push(this._build(T,at,Q,L-1))}}return l($,this.toBBox),$},s.prototype._chooseSubtree=function(T,O,R,L){for(;L.push(O),!O.leaf&&L.length-1!==R;){for(var F=1/0,U=1/0,$=void 0,X=0;X<O.children.length;X++){var q=O.children[X],gt=y(q),Et=E(T,q)-gt;Et<U?(U=Et,F=gt<F?gt:F,$=q):Et===U&&gt<F&&(F=gt,$=q)}O=$||O.children[0]}return O},s.prototype._insert=function(T,O,R){var L=R?T:this.toBBox(T),F=[],U=this._chooseSubtree(L,this.data,O,F);for(U.children.push(T),d(U,L);O>=0&&F[O].children.length>this._maxEntries;)this._split(F,O),O--;this._adjustParentBBoxes(L,F,O)},s.prototype._split=function(T,O){var R=T[O],L=R.children.length,F=this._minEntries;this._chooseSplitAxis(R,F,L);var U=this._chooseSplitIndex(R,F,L),$=D(R.children.splice(U,R.children.length-U));$.height=R.height,$.leaf=R.leaf,l(R,this.toBBox),l($,this.toBBox),O?T[O-1].children.push($):this._splitRoot(R,$)},s.prototype._splitRoot=function(T,O){this.data=D([T,O]),this.data.height=T.height+1,this.data.leaf=!1,l(this.data,this.toBBox)},s.prototype._chooseSplitIndex=function(T,O,R){for(var L,F=1/0,U=1/0,$=O;$<=R-O;$++){var X=u(T,0,$,this.toBBox),q=u(T,$,R,this.toBBox),gt=w(X,q),Et=y(X)+y(q);gt<F?(F=gt,L=$,U=Et<U?Et:U):gt===F&&Et<U&&(U=Et,L=$)}return L||R-O},s.prototype._chooseSplitAxis=function(T,O,R){var L=T.leaf?this.compareMinX:f,F=T.leaf?this.compareMinY:m;this._allDistMargin(T,O,R,L)<this._allDistMargin(T,O,R,F)&&T.children.sort(L)},s.prototype._allDistMargin=function(T,O,R,L){T.children.sort(L);for(var F=this.toBBox,U=u(T,0,O,F),$=u(T,R-O,R,F),X=b(U)+b($),q=O;q<R-O;q++){var gt=T.children[q];d(U,T.leaf?F(gt):gt),X+=b(U)}for(var Et=R-O-1;Et>=O;Et--){var at=T.children[Et];d($,T.leaf?F(at):at),X+=b($)}return X},s.prototype._adjustParentBBoxes=function(T,O,R){for(var L=R;L>=0;L--)d(O[L],T)},s.prototype._condense=function(T){for(var O=T.length-1,R=void 0;O>=0;O--)0===T[O].children.length?O>0?(R=T[O-1].children).splice(R.indexOf(T[O]),1):this.clear():l(T[O],this.toBBox)},s}()}(Wx);var DO=Wx.exports,di=function(n){return n.GROUP="g",n.FRAGMENT="fragment",n.CIRCLE="circle",n.ELLIPSE="ellipse",n.IMAGE="image",n.RECT="rect",n.LINE="line",n.POLYLINE="polyline",n.POLYGON="polygon",n.TEXT="text",n.PATH="path",n.HTML="html",n.MESH="mesh",n}({}),dm=function(n){return n[n.ZERO=0]="ZERO",n[n.NEGATIVE_ONE=1]="NEGATIVE_ONE",n}({}),TO=function(){return ri(function n(){ti(this,n),this.plugins=[]},[{key:"addRenderingPlugin",value:function(e){this.plugins.push(e),this.context.renderingPlugins.push(e)}},{key:"removeAllRenderingPlugins",value:function(){var e=this;this.plugins.forEach(function(t){var i=e.context.renderingPlugins.indexOf(t);i>=0&&e.context.renderingPlugins.splice(i,1)})}}])}(),wp=function(){return ri(function n(e){ti(this,n),this.clipSpaceNearZ=dm.NEGATIVE_ONE,this.plugins=[],this.config=vo({enableDirtyCheck:!0,enableCulling:!1,enableAutoRendering:!0,enableDirtyRectangleRendering:!0,enableDirtyRectangleRenderingDebug:!1,enableSizeAttenuation:!0,enableRenderingOptimization:!1},e)},[{key:"registerPlugin",value:function(e){-1===this.plugins.findIndex(function(i){return i===e})&&this.plugins.push(e)}},{key:"unregisterPlugin",value:function(e){var t=this.plugins.findIndex(function(i){return i===e});t>-1&&this.plugins.splice(t,1)}},{key:"getPlugins",value:function(){return this.plugins}},{key:"getPlugin",value:function(e){return this.plugins.find(function(t){return t.name===e})}},{key:"getConfig",value:function(){return this.config}},{key:"setConfig",value:function(e){Object.assign(this.config,e)}}])}(),ib=zt.vec3.add,hm=zt.vec3.copy,E$=zt.vec3.max,Kx=zt.vec3.min,rb=zt.vec3.scale,Xx=zt.vec3.sub,Ca=function(){function n(){ti(this,n),this.center=[0,0,0],this.halfExtents=[0,0,0],this.min=[0,0,0],this.max=[0,0,0]}return ri(n,[{key:"update",value:function(e,t){hm(this.center,e),hm(this.halfExtents,t),Xx(this.min,this.center,this.halfExtents),ib(this.max,this.center,this.halfExtents)}},{key:"setMinMax",value:function(e,t){ib(this.center,t,e),rb(this.center,this.center,.5),Xx(this.halfExtents,t,e),rb(this.halfExtents,this.halfExtents,.5),hm(this.min,e),hm(this.max,t)}},{key:"getMin",value:function(){return this.min}},{key:"getMax",value:function(){return this.max}},{key:"add",value:function(e){if(!n.isEmpty(e)){if(n.isEmpty(this))return void this.setMinMax(e.getMin(),e.getMax());var t=this.center,i=t[0],r=t[1],o=t[2],s=this.halfExtents,a=s[0],l=s[1],u=s[2],d=i-a,f=i+a,m=r-l,y=r+l,b=o-u,E=o+u,w=e.center,M=w[0],x=w[1],D=w[2],k=e.halfExtents,T=k[0],O=k[1],R=k[2],L=M-T,F=M+T,U=x-O,$=x+O,X=D-R,q=D+R;L<d&&(d=L),F>f&&(f=F),U<m&&(m=U),$>y&&(y=$),X<b&&(b=X),q>E&&(E=q),t[0]=.5*(d+f),t[1]=.5*(m+y),t[2]=.5*(b+E),s[0]=.5*(f-d),s[1]=.5*(y-m),s[2]=.5*(E-b),this.min[0]=d,this.min[1]=m,this.min[2]=b,this.max[0]=f,this.max[1]=y,this.max[2]=E}}},{key:"setFromTransformedAABB",value:function(e,t){var i=this.center,r=this.halfExtents,o=e.center,s=e.halfExtents,a=t[0],l=t[4],u=t[8],d=t[1],f=t[5],m=t[9],y=t[2],b=t[6],E=t[10],w=Math.abs(a),M=Math.abs(l),x=Math.abs(u),D=Math.abs(d),k=Math.abs(f),T=Math.abs(m),O=Math.abs(y),R=Math.abs(b),L=Math.abs(E);i[0]=t[12]+a*o[0]+l*o[1]+u*o[2],i[1]=t[13]+d*o[0]+f*o[1]+m*o[2],i[2]=t[14]+y*o[0]+b*o[1]+E*o[2],r[0]=w*s[0]+M*s[1]+x*s[2],r[1]=D*s[0]+k*s[1]+T*s[2],r[2]=O*s[0]+R*s[1]+L*s[2],Xx(this.min,i,r),ib(this.max,i,r)}},{key:"intersects",value:function(e){var t=this.getMax(),i=this.getMin(),r=e.getMax(),o=e.getMin();return i[0]<=r[0]&&t[0]>=o[0]&&i[1]<=r[1]&&t[1]>=o[1]&&i[2]<=r[2]&&t[2]>=o[2]}},{key:"intersection",value:function(e){if(!this.intersects(e))return null;var t=new n,i=E$([0,0,0],this.getMin(),e.getMin()),r=Kx([0,0,0],this.getMax(),e.getMax());return t.setMinMax(i,r),t}},{key:"getNegativeFarPoint",value:function(e){return 273===e.pnVertexFlag?hm([0,0,0],this.min):272===e.pnVertexFlag?[this.min[0],this.min[1],this.max[2]]:257===e.pnVertexFlag?[this.min[0],this.max[1],this.min[2]]:256===e.pnVertexFlag?[this.min[0],this.max[1],this.max[2]]:17===e.pnVertexFlag?[this.max[0],this.min[1],this.min[2]]:16===e.pnVertexFlag?[this.max[0],this.min[1],this.max[2]]:1===e.pnVertexFlag?[this.max[0],this.max[1],this.min[2]]:[this.max[0],this.max[1],this.max[2]]}},{key:"getPositiveFarPoint",value:function(e){return 273===e.pnVertexFlag?hm([0,0,0],this.max):272===e.pnVertexFlag?[this.max[0],this.max[1],this.min[2]]:257===e.pnVertexFlag?[this.max[0],this.min[1],this.max[2]]:256===e.pnVertexFlag?[this.max[0],this.min[1],this.min[2]]:17===e.pnVertexFlag?[this.min[0],this.max[1],this.max[2]]:16===e.pnVertexFlag?[this.min[0],this.max[1],this.min[2]]:1===e.pnVertexFlag?[this.min[0],this.min[1],this.max[2]]:[this.min[0],this.min[1],this.min[2]]}}],[{key:"isEmpty",value:function(e){return!e||0===e.halfExtents[0]&&0===e.halfExtents[1]&&0===e.halfExtents[2]}}])}(),ob=function(){return ri(function n(e,t){ti(this,n),this.distance=e||0,this.normal=t||zt.vec3.fromValues(0,1,0),this.updatePNVertexFlag()},[{key:"updatePNVertexFlag",value:function(){this.pnVertexFlag=(+(this.normal[0]>=0)<<8)+(+(this.normal[1]>=0)<<4)+ +(this.normal[2]>=0)}},{key:"distanceToPoint",value:function(e){return zt.vec3.dot(e,this.normal)-this.distance}},{key:"normalize",value:function(){var e=1/zt.vec3.len(this.normal);zt.vec3.scale(this.normal,this.normal,e),this.distance*=e}},{key:"intersectsLine",value:function(e,t,i){var r=this.distanceToPoint(e),s=r/(r-this.distanceToPoint(t)),a=s>=0&&s<=1;return a&&i&&zt.vec3.lerp(i,e,t,s),a}}])}(),xp=function(n){return n[n.OUTSIDE=4294967295]="OUTSIDE",n[n.INSIDE=0]="INSIDE",n[n.INDETERMINATE=2147483647]="INDETERMINATE",n}({}),d6=function(){return ri(function n(e){if(ti(this,n),this.planes=[],e)this.planes=e;else for(var t=0;t<6;t++)this.planes.push(new ob)},[{key:"extractFromVPMatrix",value:function(e){var t=Vo(e,16),i=t[0],r=t[1],o=t[2],s=t[3],a=t[4],l=t[5],u=t[6],d=t[7],f=t[8],m=t[9],y=t[10],b=t[11],E=t[12],w=t[13],M=t[14],x=t[15];zt.vec3.set(this.planes[0].normal,s-i,d-a,b-f),this.planes[0].distance=x-E,zt.vec3.set(this.planes[1].normal,s+i,d+a,b+f),this.planes[1].distance=x+E,zt.vec3.set(this.planes[2].normal,s+r,d+l,b+m),this.planes[2].distance=x+w,zt.vec3.set(this.planes[3].normal,s-r,d-l,b-m),this.planes[3].distance=x-w,zt.vec3.set(this.planes[4].normal,s-o,d-u,b-y),this.planes[4].distance=x-M,zt.vec3.set(this.planes[5].normal,s+o,d+u,b+y),this.planes[5].distance=x+M,this.planes.forEach(function(D){D.normalize(),D.updatePNVertexFlag()})}}])}(),ks=function(){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;ti(this,n),this.x=0,this.y=0,this.x=e,this.y=t}return ri(n,[{key:"clone",value:function(){return new n(this.x,this.y)}},{key:"copyFrom",value:function(e){this.x=e.x,this.y=e.y}}])}(),Mp=function(){function n(e,t,i,r){ti(this,n),this.x=e,this.y=t,this.width=i,this.height=r,this.left=e,this.right=e+i,this.top=t,this.bottom=t+r}return ri(n,[{key:"toJSON",value:function(){}}],[{key:"fromRect",value:function(e){return new n(e.x,e.y,e.width,e.height)}},{key:"applyTransform",value:function(e,t){var i=zt.vec4.fromValues(e.x,e.y,0,1),r=zt.vec4.fromValues(e.x+e.width,e.y,0,1),o=zt.vec4.fromValues(e.x,e.y+e.height,0,1),s=zt.vec4.fromValues(e.x+e.width,e.y+e.height,0,1),a=zt.vec4.create(),l=zt.vec4.create(),u=zt.vec4.create(),d=zt.vec4.create();zt.vec4.transformMat4(a,i,t),zt.vec4.transformMat4(l,r,t),zt.vec4.transformMat4(u,o,t),zt.vec4.transformMat4(d,s,t);var f=Math.min(a[0],l[0],u[0],d[0]),m=Math.min(a[1],l[1],u[1],d[1]),y=Math.max(a[0],l[0],u[0],d[0]),b=Math.max(a[1],l[1],u[1],d[1]);return n.fromRect({x:f,y:m,width:y-f,height:b-m})}}])}(),Zo="Method not implemented.",ff="Use document.documentElement instead.";function Jl(n){return void 0===n?0:n>360||n<-360?n%360:n}var Cp=zt.vec3.create();function jr(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return Array.isArray(n)&&3===n.length?i?zt.vec3.clone(n):zt.vec3.copy(Cp,n):zn.isNumber(n)?i?zt.vec3.fromValues(n,e,t):zt.vec3.set(Cp,n,e,t):i?zt.vec3.fromValues(n[0],n[1]||e,n[2]||t):zt.vec3.set(Cp,n[0],n[1]||e,n[2]||t)}var Sp=Math.PI/180;function ao(n){return n*Sp}var Pc=180/Math.PI;function ia(n){return n*Pc}function Zx(n){return 360*n}var Pv=Math.PI/2;function ss(n,e){return 16===e.length?function m6(n,e){var t,i,r=zt.mat4.getScaling(zt.vec3.create(),e),o=Vo(r,3),s=o[0],a=o[1],l=o[2],u=Math.asin(-e[2]/s);return u<Pv?u>-Pv?(t=Math.atan2(e[6]/a,e[10]/l),i=Math.atan2(e[1]/s,e[0]/s)):(i=0,t=-Math.atan2(e[4]/a,e[5]/a)):(i=0,t=Math.atan2(e[4]/a,e[5]/a)),n[0]=t,n[1]=u,n[2]=i,n}(n,e):function p6(n,e){var t=e[0],i=e[1],r=e[2],o=e[3],a=i*i,l=r*r,u=o*o,d=t*t+a+l+u,f=t*o-i*r;return f>.499995*d?(n[0]=Pv,n[1]=2*Math.atan2(i,t),n[2]=0):f<-.499995*d?(n[0]=-Pv,n[1]=2*Math.atan2(i,t),n[2]=0):(n[0]=Math.asin(2*(t*r-o*i)),n[1]=Math.atan2(2*(t*o+i*r),1-2*(l+u)),n[2]=Math.atan2(2*(t*i+r*o),1-2*(a+l))),n}(n,e)}function Qx(n,e,t,i,r){var o=Math.cos(n),s=Math.sin(n);return zt.mat3.fromValues(i*o,r*s,0,-i*s,r*o,0,e,t,1)}function us(n){var e=n[0],t=n[1],i=n[3],r=n[4],o=Math.sqrt(e*e+t*t),s=Math.sqrt(i*i+r*r);if(e*r-t*i<0&&(e<r?o=-o:s=-s),o){var l=1/o;e*=l,t*=l}if(s){var u=1/s;i*=u,r*=u}var f=ia(Math.atan2(t,e));return[n[6],n[7],o,s,f]}var wl=zt.mat4.create(),Ba=zt.mat4.create(),pf=zt.vec4.create(),Hi=[zt.vec3.create(),zt.vec3.create(),zt.vec3.create()],Nv=zt.vec3.create();function fm(n,e,t,i,r){n[0]=e[0]*i+t[0]*r,n[1]=e[1]*i+t[1]*r,n[2]=e[2]*i+t[2]*r}var Qo=function(n){return n[n.ORBITING=0]="ORBITING",n[n.EXPLORING=1]="EXPLORING",n[n.TRACKING=2]="TRACKING",n}({}),Lv=function(n){return n[n.DEFAULT=0]="DEFAULT",n[n.ROTATIONAL=1]="ROTATIONAL",n[n.TRANSLATIONAL=2]="TRANSLATIONAL",n[n.CINEMATIC=3]="CINEMATIC",n}({}),tc=function(n){return n[n.ORTHOGRAPHIC=0]="ORTHOGRAPHIC",n[n.PERSPECTIVE=1]="PERSPECTIVE",n}({}),mf={UPDATED:"updated"},pm=function(){return ri(function n(){ti(this,n),this.clipSpaceNearZ=dm.NEGATIVE_ONE,this.eventEmitter=new Gx,this.matrix=zt.mat4.create(),this.right=zt.vec3.fromValues(1,0,0),this.up=zt.vec3.fromValues(0,1,0),this.forward=zt.vec3.fromValues(0,0,1),this.position=zt.vec3.fromValues(0,0,1),this.focalPoint=zt.vec3.fromValues(0,0,0),this.distanceVector=zt.vec3.fromValues(0,0,-1),this.distance=1,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.dollyingStep=0,this.maxDistance=1/0,this.minDistance=-1/0,this.zoom=1,this.rotateWorld=!1,this.fov=30,this.near=.1,this.far=1e3,this.aspect=1,this.projectionMatrix=zt.mat4.create(),this.projectionMatrixInverse=zt.mat4.create(),this.jitteredProjectionMatrix=void 0,this.enableUpdate=!0,this.type=Qo.EXPLORING,this.trackingMode=Lv.DEFAULT,this.projectionMode=tc.PERSPECTIVE,this.frustum=new d6,this.orthoMatrix=zt.mat4.create()},[{key:"isOrtho",value:function(){return this.projectionMode===tc.ORTHOGRAPHIC}},{key:"getProjectionMode",value:function(){return this.projectionMode}},{key:"getPerspective",value:function(){return this.jitteredProjectionMatrix||this.projectionMatrix}},{key:"getPerspectiveInverse",value:function(){return this.projectionMatrixInverse}},{key:"getFrustum",value:function(){return this.frustum}},{key:"getPosition",value:function(){return this.position}},{key:"getFocalPoint",value:function(){return this.focalPoint}},{key:"getDollyingStep",value:function(){return this.dollyingStep}},{key:"getNear",value:function(){return this.near}},{key:"getFar",value:function(){return this.far}},{key:"getZoom",value:function(){return this.zoom}},{key:"getOrthoMatrix",value:function(){return this.orthoMatrix}},{key:"getView",value:function(){return this.view}},{key:"setEnableUpdate",value:function(e){this.enableUpdate=e}},{key:"setType",value:function(e,t){return this.type=e,this.setWorldRotation(this.type===Qo.EXPLORING),this._getAngles(),this.type===Qo.TRACKING&&void 0!==t&&this.setTrackingMode(t),this}},{key:"setProjectionMode",value:function(e){return this.projectionMode=e,this}},{key:"setTrackingMode",value:function(e){if(this.type!==Qo.TRACKING)throw new Error("Impossible to set a tracking mode if the camera is not of tracking type");return this.trackingMode=e,this}},{key:"setWorldRotation",value:function(e){return this.rotateWorld=e,this._getAngles(),this}},{key:"getViewTransform",value:function(){return zt.mat4.invert(zt.mat4.create(),this.matrix)}},{key:"getWorldTransform",value:function(){return this.matrix}},{key:"jitterProjectionMatrix",value:function(e,t){var i=zt.mat4.fromTranslation(zt.mat4.create(),[e,t,0]);this.jitteredProjectionMatrix=zt.mat4.multiply(zt.mat4.create(),i,this.projectionMatrix)}},{key:"clearJitterProjectionMatrix",value:function(){this.jitteredProjectionMatrix=void 0}},{key:"setMatrix",value:function(e){return this.matrix=e,this._update(),this}},{key:"setProjectionMatrix",value:function(e){this.projectionMatrix=e}},{key:"setFov",value:function(e){return this.setPerspective(this.near,this.far,e,this.aspect),this}},{key:"setAspect",value:function(e){return this.setPerspective(this.near,this.far,this.fov,e),this}},{key:"setNear",value:function(e){return this.projectionMode===tc.PERSPECTIVE?this.setPerspective(e,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,e,this.far),this}},{key:"setFar",value:function(e){return this.projectionMode===tc.PERSPECTIVE?this.setPerspective(this.near,e,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,e),this}},{key:"setViewOffset",value:function(e,t,i,r,o,s){return this.aspect=e/t,void 0===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=o,this.view.height=s,this.projectionMode===tc.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"clearViewOffset",value:function(){return void 0!==this.view&&(this.view.enabled=!1),this.projectionMode===tc.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"setZoom",value:function(e){return this.zoom=e,this.projectionMode===tc.ORTHOGRAPHIC?this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far):this.projectionMode===tc.PERSPECTIVE&&this.setPerspective(this.near,this.far,this.fov,this.aspect),this}},{key:"setZoomByViewportPoint",value:function(e,t){var i=this.canvas.viewport2Canvas({x:t[0],y:t[1]}),r=i.x,o=i.y,s=this.roll;this.rotate(0,0,-s),this.setPosition(r,o),this.setFocalPoint(r,o),this.setZoom(e),this.rotate(0,0,s);var a=this.canvas.viewport2Canvas({x:t[0],y:t[1]}),d=zt.vec3.fromValues(a.x-r,a.y-o,0),f=zt.vec3.dot(d,this.right)/zt.vec3.length(this.right),m=zt.vec3.dot(d,this.up)/zt.vec3.length(this.up),y=this.getPosition(),b=Vo(y,2),E=b[0],w=b[1],M=this.getFocalPoint(),x=Vo(M,2),D=x[0],k=x[1];return this.setPosition(E-f,w-m),this.setFocalPoint(D-f,k-m),this}},{key:"setPerspective",value:function(e,t,i,r){var o;this.projectionMode=tc.PERSPECTIVE,this.fov=i,this.near=e,this.far=t,this.aspect=r;var s=this.near*Math.tan(ao(.5*this.fov))/this.zoom,a=2*s,l=this.aspect*a,u=-.5*l;if(null!==(o=this.view)&&void 0!==o&&o.enabled){var d=this.view.fullWidth,f=this.view.fullHeight;u+=this.view.offsetX*l/d,s-=this.view.offsetY*a/f,l*=this.view.width/d,a*=this.view.height/f}return function g6(n,e,t,i,r,o,s){var E,w,l=2*o,u=t-e,d=i-r,m=l/d,y=(t+e)/u,b=(i+r)/d,M=s-o,x=s*o;arguments.length>7&&void 0!==arguments[7]&&arguments[7]?(E=-s/M,w=-x/M):(E=-(s+o)/M,w=-2*x/M),n[0]=l/u,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=m,n[6]=0,n[7]=0,n[8]=y,n[9]=b,n[10]=E,n[11]=-1,n[12]=0,n[13]=0,n[14]=w,n[15]=0}(this.projectionMatrix,u,u+l,s-a,s,e,this.far,this.clipSpaceNearZ===dm.ZERO),zt.mat4.invert(this.projectionMatrixInverse,this.projectionMatrix),this.triggerUpdate(),this}},{key:"setOrthographic",value:function(e,t,i,r,o,s){var a;this.projectionMode=tc.ORTHOGRAPHIC,this.rright=t,this.left=e,this.top=i,this.bottom=r,this.near=o,this.far=s;var l=(this.rright-this.left)/(2*this.zoom),u=(this.top-this.bottom)/(2*this.zoom),d=(this.rright+this.left)/2,f=(this.top+this.bottom)/2,m=d-l,y=d+l,b=f+u,E=f-u;if(null!==(a=this.view)&&void 0!==a&&a.enabled){var w=(this.rright-this.left)/this.view.fullWidth/this.zoom,M=(this.top-this.bottom)/this.view.fullHeight/this.zoom;y=(m+=w*this.view.offsetX)+w*this.view.width,E=(b-=M*this.view.offsetY)-M*this.view.height}return this.clipSpaceNearZ===dm.NEGATIVE_ONE?zt.mat4.ortho(this.projectionMatrix,m,y,b,E,o,s):zt.mat4.orthoZO(this.projectionMatrix,m,y,b,E,o,s),zt.mat4.invert(this.projectionMatrixInverse,this.projectionMatrix),this._getOrthoMatrix(),this.triggerUpdate(),this}},{key:"setPosition",value:function(e){var r=jr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.position[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.position[2]);return this._setPosition(r),this.setFocalPoint(this.focalPoint),this.triggerUpdate(),this}},{key:"setFocalPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.focalPoint[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.focalPoint[2],r=zt.vec3.fromValues(0,1,0);if(this.focalPoint=jr(e,t,i),this.trackingMode===Lv.CINEMATIC){var o=zt.vec3.subtract(zt.vec3.create(),this.focalPoint,this.position);e=o[0],t=o[1],i=o[2];var s=zt.vec3.length(o),a=ia(Math.asin(t/s)),l=90+ia(Math.atan2(i,e)),u=zt.mat4.create();zt.mat4.rotateY(u,u,ao(l)),zt.mat4.rotateX(u,u,ao(a)),r=zt.vec3.transformMat4(zt.vec3.create(),[0,1,0],u)}return zt.mat4.invert(this.matrix,zt.mat4.lookAt(zt.mat4.create(),this.position,this.focalPoint,r)),this._getAxes(),this._getDistance(),this._getAngles(),this.triggerUpdate(),this}},{key:"getDistance",value:function(){return this.distance}},{key:"getDistanceVector",value:function(){return this.distanceVector}},{key:"setDistance",value:function(e){if(this.distance===e||e<0)return this;this.distance=e,this.distance<2e-4&&(this.distance=2e-4),this.dollyingStep=this.distance/100;var t=zt.vec3.create(),i=this.forward,r=this.focalPoint;return t[0]=(e=this.distance)*i[0]+r[0],t[1]=e*i[1]+r[1],t[2]=e*i[2]+r[2],this._setPosition(t),this.triggerUpdate(),this}},{key:"setMaxDistance",value:function(e){return this.maxDistance=e,this}},{key:"setMinDistance",value:function(e){return this.minDistance=e,this}},{key:"setAzimuth",value:function(e){return this.azimuth=Jl(e),this.computeMatrix(),this._getAxes(),this.type===Qo.ORBITING||this.type===Qo.EXPLORING?this._getPosition():this.type===Qo.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this}},{key:"getAzimuth",value:function(){return this.azimuth}},{key:"setElevation",value:function(e){return this.elevation=Jl(e),this.computeMatrix(),this._getAxes(),this.type===Qo.ORBITING||this.type===Qo.EXPLORING?this._getPosition():this.type===Qo.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this}},{key:"getElevation",value:function(){return this.elevation}},{key:"setRoll",value:function(e){return this.roll=Jl(e),this.computeMatrix(),this._getAxes(),this.type===Qo.ORBITING||this.type===Qo.EXPLORING?this._getPosition():this.type===Qo.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this}},{key:"getRoll",value:function(){return this.roll}},{key:"_update",value:function(){this._getAxes(),this._getPosition(),this._getDistance(),this._getAngles(),this._getOrthoMatrix(),this.triggerUpdate()}},{key:"computeMatrix",value:function(){var e=zt.quat.setAxisAngle(zt.quat.create(),[0,0,1],ao(this.roll));zt.mat4.identity(this.matrix);var t=zt.quat.setAxisAngle(zt.quat.create(),[1,0,0],ao((this.rotateWorld&&this.type!==Qo.TRACKING||this.type===Qo.TRACKING?1:-1)*this.elevation)),i=zt.quat.setAxisAngle(zt.quat.create(),[0,1,0],ao((this.rotateWorld&&this.type!==Qo.TRACKING||this.type===Qo.TRACKING?1:-1)*this.azimuth)),r=zt.quat.multiply(zt.quat.create(),i,t);r=zt.quat.multiply(zt.quat.create(),r,e);var o=zt.mat4.fromQuat(zt.mat4.create(),r);this.type===Qo.ORBITING||this.type===Qo.EXPLORING?(zt.mat4.translate(this.matrix,this.matrix,this.focalPoint),zt.mat4.multiply(this.matrix,this.matrix,o),zt.mat4.translate(this.matrix,this.matrix,[0,0,this.distance])):this.type===Qo.TRACKING&&(zt.mat4.translate(this.matrix,this.matrix,this.position),zt.mat4.multiply(this.matrix,this.matrix,o))}},{key:"_setPosition",value:function(e,t,i){this.position=jr(e,t,i);var r=this.matrix;r[12]=this.position[0],r[13]=this.position[1],r[14]=this.position[2],r[15]=1,this._getOrthoMatrix()}},{key:"_getAxes",value:function(){zt.vec3.copy(this.right,jr(zt.vec4.transformMat4(zt.vec4.create(),[1,0,0,0],this.matrix))),zt.vec3.copy(this.up,jr(zt.vec4.transformMat4(zt.vec4.create(),[0,1,0,0],this.matrix))),zt.vec3.copy(this.forward,jr(zt.vec4.transformMat4(zt.vec4.create(),[0,0,1,0],this.matrix))),zt.vec3.normalize(this.right,this.right),zt.vec3.normalize(this.up,this.up),zt.vec3.normalize(this.forward,this.forward)}},{key:"_getAngles",value:function(){var e=this.distanceVector[0],t=this.distanceVector[1],i=this.distanceVector[2],r=zt.vec3.length(this.distanceVector);if(0===r)return this.elevation=0,void(this.azimuth=0);this.type===Qo.TRACKING||this.rotateWorld?(this.elevation=ia(Math.asin(t/r)),this.azimuth=ia(Math.atan2(-e,-i))):(this.elevation=-ia(Math.asin(t/r)),this.azimuth=-ia(Math.atan2(-e,-i)))}},{key:"_getPosition",value:function(){zt.vec3.copy(this.position,jr(zt.vec4.transformMat4(zt.vec4.create(),[0,0,0,1],this.matrix))),this._getDistance()}},{key:"_getFocalPoint",value:function(){zt.vec3.transformMat3(this.distanceVector,[0,0,-this.distance],zt.mat3.fromMat4(zt.mat3.create(),this.matrix)),zt.vec3.add(this.focalPoint,this.position,this.distanceVector),this._getDistance()}},{key:"_getDistance",value:function(){this.distanceVector=zt.vec3.subtract(zt.vec3.create(),this.focalPoint,this.position),this.distance=zt.vec3.length(this.distanceVector),this.dollyingStep=this.distance/100}},{key:"_getOrthoMatrix",value:function(){if(this.projectionMode===tc.ORTHOGRAPHIC){var e=this.position,t=zt.quat.setAxisAngle(zt.quat.create(),[0,0,1],-this.roll*Math.PI/180);zt.mat4.fromRotationTranslationScaleOrigin(this.orthoMatrix,t,zt.vec3.fromValues((this.rright-this.left)/2-e[0],(this.top-this.bottom)/2-e[1],0),zt.vec3.fromValues(this.zoom,this.zoom,1),e)}}},{key:"triggerUpdate",value:function(){if(this.enableUpdate){var e=this.getViewTransform(),t=zt.mat4.multiply(zt.mat4.create(),this.getPerspective(),e);this.getFrustum().extractFromVPMatrix(t),this.eventEmitter.emit(mf.UPDATED)}}},{key:"rotate",value:function(e,t,i){throw new Error(Zo)}},{key:"pan",value:function(e,t){throw new Error(Zo)}},{key:"dolly",value:function(e){throw new Error(Zo)}},{key:"createLandmark",value:function(e,t){throw new Error(Zo)}},{key:"gotoLandmark",value:function(e,t){throw new Error(Zo)}},{key:"cancelLandmarkAnimation",value:function(){throw new Error(Zo)}}])}(),IO=function(n){return n[n.Standard=0]="Standard",n}({}),mm=function(n){return n[n.ADDED=0]="ADDED",n[n.REMOVED=1]="REMOVED",n[n.Z_INDEX_CHANGED=2]="Z_INDEX_CHANGED",n}({}),Fv={absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:new Mp(0,0,0,0)},Xn=function(n){return n.COORDINATE="<coordinate>",n.COLOR="<color>",n.PAINT="<paint>",n.NUMBER="<number>",n.ANGLE="<angle>",n.OPACITY_VALUE="<opacity-value>",n.SHADOW_BLUR="<shadow-blur>",n.LENGTH="<length>",n.PERCENTAGE="<percentage>",n.LENGTH_PERCENTAGE="<length> | <percentage>",n.LENGTH_PERCENTAGE_12="[<length> | <percentage>]{1,2}",n.LENGTH_PERCENTAGE_14="[<length> | <percentage>]{1,4}",n.LIST_OF_POINTS="<list-of-points>",n.PATH="<path>",n.FILTER="<filter>",n.Z_INDEX="<z-index>",n.OFFSET_DISTANCE="<offset-distance>",n.DEFINED_PATH="<defined-path>",n.MARKER="<marker>",n.TRANSFORM="<transform>",n.TRANSFORM_ORIGIN="<transform-origin>",n.TEXT="<text>",n.TEXT_TRANSFORM="<text-transform>",n}({});function ja(n,e){if("function"!=typeof n||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var t=function(){for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];var s=e?e.apply(this,r):r[0],a=t.cache;if(a.has(s))return a.get(s);var l=n.apply(this,r);return t.cache=a.set(s,l)||a,l};return t.cache=new(ja.Cache||Map),t}ja.Cache=Map;var Yn=function(n){return n[n.kUnknown=0]="kUnknown",n[n.kNumber=1]="kNumber",n[n.kPercentage=2]="kPercentage",n[n.kEms=3]="kEms",n[n.kPixels=4]="kPixels",n[n.kRems=5]="kRems",n[n.kDegrees=6]="kDegrees",n[n.kRadians=7]="kRadians",n[n.kGradians=8]="kGradians",n[n.kTurns=9]="kTurns",n[n.kMilliseconds=10]="kMilliseconds",n[n.kSeconds=11]="kSeconds",n[n.kInteger=12]="kInteger",n}({}),xl=function(n){return n[n.kUNumber=0]="kUNumber",n[n.kUPercent=1]="kUPercent",n[n.kULength=2]="kULength",n[n.kUAngle=3]="kUAngle",n[n.kUTime=4]="kUTime",n[n.kUOther=5]="kUOther",n}({}),Dp=function(n){return n[n.kYes=0]="kYes",n[n.kNo=1]="kNo",n}({}),v6=function(n){return n[n.kYes=0]="kYes",n[n.kNo=1]="kNo",n}({}),ec=[{name:"em",unit_type:Yn.kEms},{name:"px",unit_type:Yn.kPixels},{name:"deg",unit_type:Yn.kDegrees},{name:"rad",unit_type:Yn.kRadians},{name:"grad",unit_type:Yn.kGradians},{name:"ms",unit_type:Yn.kMilliseconds},{name:"s",unit_type:Yn.kSeconds},{name:"rem",unit_type:Yn.kRems},{name:"turn",unit_type:Yn.kTurns}],gm=function(n){return n[n.kUnknownType=0]="kUnknownType",n[n.kUnparsedType=1]="kUnparsedType",n[n.kKeywordType=2]="kKeywordType",n[n.kUnitType=3]="kUnitType",n[n.kSumType=4]="kSumType",n[n.kProductType=5]="kProductType",n[n.kNegateType=6]="kNegateType",n[n.kInvertType=7]="kInvertType",n[n.kMinType=8]="kMinType",n[n.kMaxType=9]="kMaxType",n[n.kClampType=10]="kClampType",n[n.kTransformType=11]="kTransformType",n[n.kPositionType=12]="kPositionType",n[n.kURLImageType=13]="kURLImageType",n[n.kColorType=14]="kColorType",n[n.kUnsupportedColorType=15]="kUnsupportedColorType",n}({}),NO=function(n){var e=1;switch(n){case Yn.kPixels:case Yn.kDegrees:case Yn.kSeconds:break;case Yn.kMilliseconds:e=.001;break;case Yn.kRadians:e=180/Math.PI;break;case Yn.kGradians:e=.9;break;case Yn.kTurns:e=360}return e},LO=function(n){switch(n){case Yn.kNumber:case Yn.kInteger:return"";case Yn.kPercentage:return"%";case Yn.kEms:return"em";case Yn.kRems:return"rem";case Yn.kPixels:return"px";case Yn.kDegrees:return"deg";case Yn.kRadians:return"rad";case Yn.kGradians:return"grad";case Yn.kMilliseconds:return"ms";case Yn.kSeconds:return"s";case Yn.kTurns:return"turn"}return""},Bv=function(){return ri(function n(){ti(this,n)},[{key:"toString",value:function(){return this.buildCSSText(Dp.kNo,v6.kNo,"")}},{key:"isNumericValue",value:function(){return this.getType()>=gm.kUnitType&&this.getType()<=gm.kClampType}}],[{key:"isAngle",value:function(e){return e===Yn.kDegrees||e===Yn.kRadians||e===Yn.kGradians||e===Yn.kTurns}},{key:"isLength",value:function(e){return e>=Yn.kEms&&e<Yn.kDegrees}},{key:"isRelativeUnit",value:function(e){return e===Yn.kPercentage||e===Yn.kEms||e===Yn.kRems}},{key:"isTime",value:function(e){return e===Yn.kSeconds||e===Yn.kMilliseconds}}])}(),sb=function(n){function e(t){var i;return ti(this,e),(i=Mo(this,e)).colorSpace=t,i}return so(e,n),ri(e,[{key:"getType",value:function(){return gm.kColorType}},{key:"to",value:function(t){return this}}])}(Bv),Tp=function(n){return n[n.Constant=0]="Constant",n[n.LinearGradient=1]="LinearGradient",n[n.RadialGradient=2]="RadialGradient",n}({}),Ap=function(n){function e(t,i){var r;return ti(this,e),(r=Mo(this,e)).type=t,r.value=i,r}return so(e,n),ri(e,[{key:"clone",value:function(){return new e(this.type,this.value)}},{key:"buildCSSText",value:function(t,i,r){return r}},{key:"getType",value:function(){return gm.kColorType}}])}(Bv),ra=function(n){function e(t){var i;return ti(this,e),(i=Mo(this,e)).value=t,i}return so(e,n),ri(e,[{key:"clone",value:function(){return new e(this.value)}},{key:"getType",value:function(){return gm.kKeywordType}},{key:"buildCSSText",value:function(t,i,r){return r+this.value}}])}(Bv),ab=function(n){return function(n){switch(n){case xl.kUNumber:return Yn.kNumber;case xl.kULength:return Yn.kPixels;case xl.kUPercent:return Yn.kPercentage;case xl.kUTime:return Yn.kSeconds;case xl.kUAngle:return Yn.kDegrees;default:return Yn.kUnknown}}(function(n){switch(n){case Yn.kNumber:case Yn.kInteger:return xl.kUNumber;case Yn.kPercentage:return xl.kUPercent;case Yn.kPixels:return xl.kULength;case Yn.kMilliseconds:case Yn.kSeconds:return xl.kUTime;case Yn.kDegrees:case Yn.kRadians:case Yn.kGradians:case Yn.kTurns:return xl.kUAngle;default:return xl.kUOther}}(n))},Vr=function(n){function e(t){var i,o,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Yn.kNumber;return ti(this,e),i=Mo(this,e),o="string"==typeof r?function(n){return n?"number"===n?Yn.kNumber:"percent"===n||"%"===n?Yn.kPercentage:function(n){return ec.find(function(e){return e.name===n}).unit_type}(n):Yn.kUnknown}(r):r,i.unit=o,i.value=t,i}return so(e,n),ri(e,[{key:"clone",value:function(){return new e(this.value,this.unit)}},{key:"equals",value:function(t){return this.value===t.value&&this.unit===t.unit}},{key:"getType",value:function(){return gm.kUnitType}},{key:"convertTo",value:function(t){if(this.unit===t)return new e(this.value,this.unit);var i=ab(this.unit);if(i!==ab(t)||i===Yn.kUnknown)return null;var r=NO(this.unit)/NO(t);return new e(this.value*r,t)}},{key:"buildCSSText",value:function(t,i,r){var o;switch(this.unit){case Yn.kUnknown:break;case Yn.kInteger:o=Number(this.value).toFixed(0);break;case Yn.kNumber:case Yn.kPercentage:case Yn.kEms:case Yn.kRems:case Yn.kPixels:case Yn.kDegrees:case Yn.kRadians:case Yn.kGradians:case Yn.kMilliseconds:case Yn.kSeconds:case Yn.kTurns:var l=this.value,u=LO(this.unit);if(l<-999999||l>999999){var d=LO(this.unit);o=!Number.isFinite(l)||Number.isNaN(l)?function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(Number.isFinite(n)?"NaN":n>0?"infinity":"-infinity")+e}(l,d):l+(d||"")}else o="".concat(l).concat(u)}return r+o}}])}(Bv),nc=new Vr(0,"px");new Vr(1,"px");var rh=new Vr(0,"deg"),jv=function(n){function e(t,i,r){var o,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return ti(this,e),(o=Mo(this,e,["rgb"])).r=t,o.g=i,o.b=r,o.alpha=s,o.isNone=a,o}return so(e,n),ri(e,[{key:"clone",value:function(){return new e(this.r,this.g,this.b,this.alpha)}},{key:"buildCSSText",value:function(t,i,r){return"".concat(r,"rgba(").concat(this.r,",").concat(this.g,",").concat(this.b,",").concat(this.alpha,")")}}])}(sb),tM=new ra("unset"),eM={"":tM,unset:tM,initial:new ra("initial"),inherit:new ra("inherit")},nM=new jv(0,0,0,0,!0),jO=new jv(0,0,0,0),_6=ja(function(n,e,t,i){return new jv(n,e,t,i)},function(n,e,t,i){return"rgba(".concat(n,",").concat(e,",").concat(t,",").concat(i,")")}),qo=function(n){return new Vr(n,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Yn.kNumber)};function VO(n){var e=n.type,t=n.value;return"hex"===e?"#".concat(t):"literal"===e?t:"rgb"===e?"rgb(".concat(t.join(","),")"):"rgba(".concat(t.join(","),")")}new Vr(50,"%");var zO=function(){var n={linearGradient:/^(linear\-gradient)/i,repeatingLinearGradient:/^(repeating\-linear\-gradient)/i,radialGradient:/^(radial\-gradient)/i,repeatingRadialGradient:/^(repeating\-radial\-gradient)/i,conicGradient:/^(conic\-gradient)/i,sideOrCorner:/^to (left (top|bottom)|right (top|bottom)|top (left|right)|bottom (left|right)|left|right|top|bottom)/i,extentKeywords:/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,positionKeywords:/^(left|center|right|top|bottom)/i,pixelValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,percentageValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,emValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,angleValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,startCall:/^\(/,endCall:/^\)/,comma:/^,/,hexColor:/^\#([0-9a-fA-F]+)/,literalColor:/^([a-zA-Z]+)/,rgbColor:/^rgb/i,rgbaColor:/^rgba/i,number:/^(([0-9]*\.[0-9]+)|([0-9]+\.?))/},e="";function t(Q){throw new Error("".concat(e,": ").concat(Q))}function o(){return s("linear-gradient",n.linearGradient,l)||s("repeating-linear-gradient",n.repeatingLinearGradient,l)||s("radial-gradient",n.radialGradient,f)||s("repeating-radial-gradient",n.repeatingRadialGradient,f)||s("conic-gradient",n.conicGradient,f)}function s(Q,et,St){return a(et,function(Yt){var He=St();return He&&(Et(n.comma)||t("Missing comma before color stops")),{type:Q,orientation:He,colorStops:D(k)}})}function a(Q,et){var St=Et(Q);if(St){Et(n.startCall)||t("Missing (");var Yt=et(St);return Et(n.endCall)||t("Missing )"),Yt}}function l(){return function u(){return gt("directional",n.sideOrCorner,1)}()||function d(){return gt("angular",n.angleValue,1)}()}function f(){var Q,St,et=m();return et&&((Q=[]).push(et),St=e,Et(n.comma)&&((et=m())?Q.push(et):e=St)),Q}function m(){var Q=function y(){var Q=gt("shape",/^(circle)/i,0);return Q&&(Q.style=q()||E()),Q}()||function b(){var Q=gt("shape",/^(ellipse)/i,0);return Q&&(Q.style=$()||E()),Q}();if(Q)Q.at=w();else{var et=E();if(et){Q=et;var St=w();St&&(Q.at=St)}else{var Yt=M();Yt&&(Q={type:"default-radial",at:Yt})}}return Q}function E(){return gt("extent-keyword",n.extentKeywords,1)}function w(){if(gt("position",/^at/,0)){var Q=M();return Q||t("Missing positioning value"),Q}}function M(){var Q=function x(){return{x:$(),y:$()}}();if(Q.x||Q.y)return{type:"position",value:Q}}function D(Q){var et=Q(),St=[];if(et)for(St.push(et);Et(n.comma);)(et=Q())?St.push(et):t("One extra comma");return St}function k(){var Q=function T(){return function R(){return gt("hex",n.hexColor,1)}()||function F(){return a(n.rgbaColor,function(){return{type:"rgba",value:D(U)}})}()||function L(){return a(n.rgbColor,function(){return{type:"rgb",value:D(U)}})}()||function O(){return gt("literal",n.literalColor,0)}()}();return Q||t("Expected color definition"),Q.length=$(),Q}function U(){return Et(n.number)[1]}function $(){return gt("%",n.percentageValue,1)||function X(){return gt("position-keyword",n.positionKeywords,1)}()||q()}function q(){return gt("px",n.pixelValue,1)||gt("em",n.emValue,1)}function gt(Q,et,St){var Yt=Et(et);if(Yt)return{type:Q,value:Yt[St]}}function Et(Q){var et=/^[\n\r\t\s]+/.exec(e);et&&at(et[0].length);var St=Q.exec(e);return St&&at(St[0].length),St}function at(Q){e=e.substring(Q)}return function(Q){return e=Q,function i(){var Q=function r(){return D(o)}();return e.length>0&&t("Invalid input not EOF"),Q}()}}(),w6=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,iM=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,rM=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,UO=/[\d.]+:(#[^\s]+|[^\)]+\))/gi,M6={left:180,top:-90,bottom:90,right:0,"left top":225,"top left":225,"left bottom":135,"bottom left":135,"right top":-45,"top right":-45,"right bottom":45,"bottom right":45},C6=ja(function(n){var e;return e="angular"===n.type?Number(n.value):M6[n.value]||0,qo(e,"deg")}),S6=ja(function(n){var e=50,t=50,i="%",r="%";if("position"===n?.type){var o=n.value,s=o.x,a=o.y;"position-keyword"===s?.type&&("left"===s.value?e=0:"center"===s.value?e=50:"right"===s.value?e=100:"top"===s.value?t=0:"bottom"===s.value&&(t=100)),"position-keyword"===a?.type&&("left"===a.value?e=0:"center"===a.value?t=50:"right"===a.value?e=100:"top"===a.value?t=0:"bottom"===a.value&&(t=100)),("px"===s?.type||"%"===s?.type||"em"===s?.type)&&(i=s?.type,e=Number(s.value)),("px"===a?.type||"%"===a?.type||"em"===a?.type)&&(r=a?.type,t=Number(a.value))}return{cx:qo(e,i),cy:qo(t,r)}}),D6=ja(function(n){if(n.indexOf("linear")>-1||n.indexOf("radial")>-1)return zO(n).map(function(a){var l=a.type,u=a.orientation,d=a.colorStops;!function x6(n){var e,i,t=n.length;n[t-1].length=null!==(e=n[t-1].length)&&void 0!==e?e:{type:"%",value:"100"},t>1&&(n[0].length=null!==(i=n[0].length)&&void 0!==i?i:{type:"%",value:"0"});for(var r=0,o=Number(n[0].length.value),s=1;s<t;s++){var a,l=null===(a=n[s].length)||void 0===a?void 0:a.value;if(!zn.isNil(l)&&!zn.isNil(o)){for(var u=1;u<s-r;u++)n[r+u].length={type:"%",value:"".concat(o+(Number(l)-o)*u/(s-r))};r=s,o=Number(l)}}}(d);var f=d.map(function(D){return{offset:qo(Number(D.length.value),"%"),color:VO(D)}});if("linear-gradient"===l)return new Ap(Tp.LinearGradient,{angle:u?C6(u):rh,steps:f});if("radial-gradient"===l&&(u||(u=[{type:"shape",value:"circle"}]),"shape"===u[0].type&&"circle"===u[0].value)){var E,m=S6(u[0].at),y=m.cx,b=m.cy;if(u[0].style){var w=u[0].style,M=w.type,x=w.value;E="extent-keyword"===M?function(n){return eM[n]||(eM[n]=new ra(n)),eM[n]}(x):qo(x,M)}return new Ap(Tp.RadialGradient,{cx:y,cy:b,size:E,steps:f})}});var t=n[0];if("("===n[1]||"("===n[2])if("l"===t){var i=w6.exec(n);if(i){var r,o=(null===(r=i[2].match(UO))||void 0===r?void 0:r.map(function(a){return a.split(":")}))||[];return[new Ap(Tp.LinearGradient,{angle:qo(parseFloat(i[1]),"deg"),steps:o.map(function(a){var l=Vo(a,2),d=l[1];return{offset:qo(100*Number(l[0]),"%"),color:d}})})]}}else if("r"===t){var s=function T6(n){var e=iM.exec(n);if(e){var t,i=(null===(t=e[4].match(UO))||void 0===t?void 0:t.map(function(r){return r.split(":")}))||[];return{cx:qo(50,"%"),cy:qo(50,"%"),steps:i.map(function(r){var o=Vo(r,2),a=o[1];return{offset:qo(100*Number(o[0]),"%"),color:a}})}}return null}(n);if(s){if(!zn.isString(s))return[new Ap(Tp.RadialGradient,s)];n=s}}else if("p"===t)return function A6(n){var e=rM.exec(n);if(e){var t=e[1],i=e[2];switch(t){case"a":t="repeat";break;case"x":t="repeat-x";break;case"y":t="repeat-y";break;default:t="no-repeat"}return{image:i,repetition:t}}return null}(n)});function HO(n){return n&&!!n.image}function oM(n){return n&&!zn.isNil(n.r)&&!zn.isNil(n.g)&&!zn.isNil(n.b)}var ym=ja(function(n){if(HO(n))return vo({repetition:"repeat"},n);if(zn.isNil(n)&&(n=""),"transparent"===n)return jO;if("currentColor"===n)n="black";else if("none"===n)return nM;var e=D6(n);if(e)return e;var t=CO.color(n),i=[0,0,0,0];return null!==t&&(i[0]=t.r||0,i[1]=t.g||0,i[2]=t.b||0,i[3]=t.opacity),_6.apply(void 0,i)});function GO(n,e){if(oM(n)&&oM(e))return[[Number(n.r),Number(n.g),Number(n.b),Number(n.alpha)],[Number(e.r),Number(e.g),Number(e.b),Number(e.alpha)],function(t){var i=t.slice();if(i[3])for(var r=0;r<3;r++)i[r]=Math.round(zn.clamp(i[r],0,255));return i[3]=zn.clamp(i[3],0,1),"rgba(".concat(i.join(","),")")}]}function Vv(n,e){if(zn.isNil(e))return qo(0,"px");if(e="".concat(e).trim().toLowerCase(),isFinite(Number(e))){if("px".search(n)>=0)return qo(Number(e),"px");if("deg".search(n)>=0)return qo(Number(e),"deg")}var t=[];e=e.replace(n,function(r){return t.push(r),"U".concat(r)});var i="U(".concat(n.source,")");return t.map(function(r){return qo(Number(e.replace(new RegExp("U".concat(r),"g"),"").replace(new RegExp(i,"g"),"*0")),r)})[0]}var $O=function(n){return Vv(new RegExp("px","g"),n)},WO=ja($O);ja(function(n){return Vv(new RegExp("%","g"),n)});var sM=function(n){return zn.isNumber(n)||isFinite(Number(n))?qo(Number(n)||0,"px"):Vv(new RegExp("px|%|em|rem","g"),n)},ad=ja(sM),lb=function(n){return Vv(new RegExp("deg|rad|grad|turn","g"),n)},k6=ja(lb);function XO(n,e,t,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o="",s=n.value||0,a=e.value||0,l=ab(n.unit),u=n.convertTo(l),d=e.convertTo(l);return u&&d?(s=u.value,a=d.value,o=LO(n.unit)):(Vr.isLength(n.unit)||Vr.isLength(e.unit))&&(s=Cl(n,r,t),a=Cl(e,r,t),o="px"),[s,a,function(f){return f+o}]}function Ml(n){var e=0;return n.unit===Yn.kDegrees?e=n.value:n.unit===Yn.kRadians?e=ia(Number(n.value)):n.unit===Yn.kTurns?e=Zx(Number(n.value)):n.value&&(e=n.value),e}function aM(n,e){var t;return Array.isArray(n)?t=n.map(function(i){return Number(i)}):zn.isString(n)?t=n.split(" ").map(function(i){return Number(i)}):zn.isNumber(n)&&(t=[n]),2===e?1===t.length?[t[0],t[0]]:[t[0],t[1]]:1===t.length?[t[0],t[0],t[0],t[0]]:2===t.length?[t[0],t[1],t[0],t[1]]:3===t.length?[t[0],t[1],t[2],t[1]]:[t[0],t[1],t[2],t[3]]}function Cl(n,e,t){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(n.unit===Yn.kPixels)return Number(n.value);if(n.unit===Yn.kPercentage&&t){var r=t.nodeName===di.GROUP?t.getLocalBounds():t.getGeometryBounds();return(i?r.min[e]:0)+n.value/100*r.halfExtents[e]*2}return 0}var zv=function(n){return Vv(/deg|rad|grad|turn|px|%/g,n)},lM=["blur","brightness","drop-shadow","contrast","grayscale","sepia","saturate","hue-rotate","invert"];function cM(n){return n.toString()}var Op=function(n){return"number"==typeof n?qo(n):/^\s*[-+]?(\d*\.)?\d+\s*$/.test(n)?qo(Number(n)):qo(0)},Uv=ja(Op);function gf(n,e){return[n,e,cM]}function vf(n,e){return function(t,i){return[t,i,function(r){return cM(zn.clamp(r,n,e))}]}}function kp(n,e){if(n.length===e.length)return[n,e,function(t){return t}]}function yf(n){return 0===n.parsedStyle.d.totalLength&&(n.parsedStyle.d.totalLength=zn.getTotalLength(n.parsedStyle.d.absolutePath)),n.parsedStyle.d.totalLength}function oh(n,e){return n[0]===e[0]&&n[1]===e[1]}function Hv(n,e){var t=n.prePoint,i=n.currentPoint,r=n.nextPoint,o=Math.pow(i[0]-t[0],2)+Math.pow(i[1]-t[1],2),s=Math.pow(i[0]-r[0],2)+Math.pow(i[1]-r[1],2),a=Math.pow(t[0]-r[0],2)+Math.pow(t[1]-r[1],2),l=Math.acos((o+s-a)/(2*Math.sqrt(o)*Math.sqrt(s)));if(!l||0===Math.sin(l)||zn.isNumberEqual(l,0))return{xExtra:0,yExtra:0};var u=Math.abs(Math.atan2(r[1]-i[1],r[0]-i[0])),d=Math.abs(Math.atan2(r[0]-i[0],r[1]-i[1]));return u=u>Math.PI/2?Math.PI-u:u,d=d>Math.PI/2?Math.PI-d:d,{xExtra:Math.cos(l/2-u)*(e/2*(1/Math.sin(l/2)))-e/2||0,yExtra:Math.cos(d-l/2)*(e/2*(1/Math.sin(l/2)))-e/2||0}}function uM(n,e){return[e[0]+(e[0]-n[0]),e[1]+(e[1]-n[1])]}ja(function(n){return zn.isString(n)?n.split(" ").map(Uv):n.map(Uv)});var dM=function(n,e){var t=n.x*e.x+n.y*e.y,i=Math.sqrt((Math.pow(n.x,2)+Math.pow(n.y,2))*(Math.pow(e.x,2)+Math.pow(e.y,2)));return(n.x*e.y-n.y*e.x<0?-1:1)*Math.acos(t/i)},hM=function(n,e,t,i,r,o,s,a){e=Math.abs(e),t=Math.abs(t);var l=ao(i=zn.mod(i,360));if(n.x===s.x&&n.y===s.y)return{x:n.x,y:n.y,ellipticalArcAngle:0};if(0===e||0===t)return{x:0,y:0,ellipticalArcAngle:0};var u=(n.x-s.x)/2,d=(n.y-s.y)/2,f={x:Math.cos(l)*u+Math.sin(l)*d,y:-Math.sin(l)*u+Math.cos(l)*d},m=Math.pow(f.x,2)/Math.pow(e,2)+Math.pow(f.y,2)/Math.pow(t,2);m>1&&(e*=Math.sqrt(m),t*=Math.sqrt(m));var E=(Math.pow(e,2)*Math.pow(t,2)-Math.pow(e,2)*Math.pow(f.y,2)-Math.pow(t,2)*Math.pow(f.x,2))/(Math.pow(e,2)*Math.pow(f.y,2)+Math.pow(t,2)*Math.pow(f.x,2));E=E<0?0:E;var w=(r!==o?1:-1)*Math.sqrt(E),M_x=w*(e*f.y/t),M_y=w*(-t*f.x/e),x={x:Math.cos(l)*M_x-Math.sin(l)*M_y+(n.x+s.x)/2,y:Math.sin(l)*M_x+Math.cos(l)*M_y+(n.y+s.y)/2},D={x:(f.x-M_x)/e,y:(f.y-M_y)/t},k=dM({x:1,y:0},D),O=dM(D,{x:(-f.x-M_x)/e,y:(-f.y-M_y)/t});!o&&O>0?O-=2*Math.PI:o&&O<0&&(O+=2*Math.PI);var R=k+(O%=2*Math.PI)*a,L=e*Math.cos(R),F=t*Math.sin(R);return{x:Math.cos(l)*L-Math.sin(l)*F+x.x,y:Math.sin(l)*L+Math.cos(l)*F+x.y,ellipticalArcStartAngle:k,ellipticalArcEndAngle:k+O,ellipticalArcAngle:R,ellipticalArcCenter:x,resultantRx:e,resultantRy:t}};function fM(n,e){var t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=n.arcParams,r=i.rx,o=void 0===r?0:r,s=i.ry,a=void 0===s?0:s,l=i.xRotation,u=i.arcFlag,d=i.sweepFlag,f=hM({x:n.prePoint[0],y:n.prePoint[1]},o,a,l,!!u,!!d,{x:n.currentPoint[0],y:n.currentPoint[1]},e),m=hM({x:n.prePoint[0],y:n.prePoint[1]},o,a,l,!!u,!!d,{x:n.currentPoint[0],y:n.currentPoint[1]},t?e+.005:e-.005),y=m.x-f.x,b=m.y-f.y,E=Math.sqrt(y*y+b*b);return{x:-y/E,y:-b/E}}function Gv(n){return Math.sqrt(n[0]*n[0]+n[1]*n[1])}function cb(n,e){return Gv(n)*Gv(e)?(n[0]*e[0]+n[1]*e[1])/(Gv(n)*Gv(e)):1}function $v(n,e){return(n[0]*e[1]<n[1]*e[0]?-1:1)*Math.acos(cb(n,e))}function bf(n,e){var t=e[1],i=e[2],r=zn.mod(ao(e[3]),2*Math.PI),o=e[4],s=e[5],a=n[0],l=n[1],u=e[6],d=e[7],f=Math.cos(r)*(a-u)/2+Math.sin(r)*(l-d)/2,m=-1*Math.sin(r)*(a-u)/2+Math.cos(r)*(l-d)/2,y=f*f/(t*t)+m*m/(i*i);y>1&&(t*=Math.sqrt(y),i*=Math.sqrt(y));var b=t*t*(m*m)+i*i*(f*f),E=b?Math.sqrt((t*t*(i*i)-b)/b):1;o===s&&(E*=-1),isNaN(E)&&(E=0);var w=i?E*t*m/i:0,M=t?E*-i*f/t:0,x=(a+u)/2+Math.cos(r)*w-Math.sin(r)*M,D=(l+d)/2+Math.sin(r)*w+Math.cos(r)*M,k=[(f-w)/t,(m-M)/i],T=[(-1*f-w)/t,(-1*m-M)/i],O=$v([1,0],k),R=$v(k,T);return cb(k,T)<=-1&&(R=Math.PI),cb(k,T)>=1&&(R=0),0===s&&R>0&&(R-=2*Math.PI),1===s&&R<0&&(R+=2*Math.PI),{cx:x,cy:D,rx:oh(n,[u,d])?0:t,ry:oh(n,[u,d])?0:i,startAngle:O,endAngle:O+R,xRotation:r,arcFlag:o,sweepFlag:s}}function ub(n,e,t,i){var r=(-1+Math.sqrt(2))/3*4,o=n*r,s=e*r,a=t-n,l=t+n,u=i-e,d=i+e;return[["M",a,i],["C",a,i-s,t-o,u,t,u],["C",t+o,u,l,i-s,l,i],["C",l,i+s,t+o,d,t,d],["C",t-o,d,a,i+s,a,i],["Z"]]}var N6=function(n){if(""===n||Array.isArray(n)&&0===n.length)return{absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:{x:0,y:0,width:0,height:0}};var e;try{e=zn.normalizePath(n)}catch{e=zn.normalizePath(""),console.error("[g]: Invalid SVG Path definition: ".concat(n))}!function Em(n){for(var e=0;e<n.length;e++){var t=n[e-1],i=n[e];if("M"===i[0]&&t){var o=t[0],a=void 0;"L"===o||"M"===o?a=[t[1],t[2]]:("C"===o||"A"===o||"Q"===o)&&(a=[t[t.length-2],t[t.length-1]]),a&&oh([i[1],i[2]],a)&&(n.splice(e,1),e--)}}}(e);var t=function wm(n){for(var e=!1,t=n.length,i=0;i<t;i++){var o=n[i][0];if("C"===o||"A"===o||"Q"===o){e=!0;break}}return e}(e),i=function xm(n){for(var e=[],t=[],i=[],r=0;r<n.length;r++){var o=n[r],s=o[0];"M"===s?(i.length&&(t.push(i),i=[]),i.push([o[1],o[2]])):"Z"===s?i.length&&(e.push(i),i=[]):i.push([o[1],o[2]])}return i.length>0&&t.push(i),{polygons:e,polylines:t}}(e),r=i.polygons,o=i.polylines,s=function ZO(n){for(var e=[],t=null,i=null,r=null,o=0,s=n.length,a=0;a<s;a++){var l=n[a];i=n[a+1];var u=l[0],d={command:u,prePoint:t,params:l,startTangent:null,endTangent:null,currentPoint:null,nextPoint:null,arcParams:null,box:null,cubicParams:null};switch(u){case"M":r=[l[1],l[2]],o=a;break;case"A":var f=bf(t,l);d.arcParams=f}if("Z"===u)t=r,i=n[o+1];else{var m=l.length;t=[l[m-2],l[m-1]]}i&&"Z"===i[0]&&(i=n[o],e[o]&&(e[o].prePoint=t)),d.currentPoint=t,e[o]&&oh(t,e[o].currentPoint)&&(e[o].prePoint=d.prePoint),d.nextPoint=i?[i[i.length-2],i[i.length-1]]:null;var b=d.prePoint;if(["L","H","V"].includes(u))d.startTangent=[b[0]-t[0],b[1]-t[1]],d.endTangent=[t[0]-b[0],t[1]-b[1]];else if("Q"===u){var E=[l[1],l[2]];d.startTangent=[b[0]-E[0],b[1]-E[1]],d.endTangent=[t[0]-E[0],t[1]-E[1]]}else if("T"===u){var w=e[a-1],M=uM(w.currentPoint,b);"Q"===w.command?(d.command="Q",d.startTangent=[b[0]-M[0],b[1]-M[1]],d.endTangent=[t[0]-M[0],t[1]-M[1]]):(d.command="TL",d.startTangent=[b[0]-t[0],b[1]-t[1]],d.endTangent=[t[0]-b[0],t[1]-b[1]])}else if("C"===u){var x=[l[1],l[2]],D=[l[3],l[4]];d.startTangent=[b[0]-x[0],b[1]-x[1]],d.endTangent=[t[0]-D[0],t[1]-D[1]],0===d.startTangent[0]&&0===d.startTangent[1]&&(d.startTangent=[x[0]-D[0],x[1]-D[1]]),0===d.endTangent[0]&&0===d.endTangent[1]&&(d.endTangent=[D[0]-x[0],D[1]-x[1]])}else if("S"===u){var k=e[a-1],T=uM(k.currentPoint,b),O=[l[1],l[2]];"C"===k.command?(d.command="C",d.startTangent=[b[0]-T[0],b[1]-T[1]],d.endTangent=[t[0]-O[0],t[1]-O[1]]):(d.command="SQ",d.startTangent=[b[0]-O[0],b[1]-O[1]],d.endTangent=[t[0]-O[0],t[1]-O[1]])}else if("A"===u){var R=fM(d,0),L=R.x,F=R.y,U=fM(d,1,!1),$=U.x,X=U.y;d.startTangent=[L,F],d.endTangent=[$,X]}e.push(d)}return e}(e),a=function YO(n,e){for(var t=[],i=[],r=[],o=0;o<n.length;o++){var s=n[o],a=s.currentPoint,l=s.params,u=s.prePoint,d=void 0;switch(s.command){case"Q":d=hf.quadBox(u[0],u[1],l[1],l[2],l[3],l[4]);break;case"C":d=hf.cubicBox(u[0],u[1],l[1],l[2],l[3],l[4],l[5],l[6]);break;case"A":var f=s.arcParams;d=hf.arcBox(f.cx,f.cy,f.rx,f.ry,f.xRotation,f.startAngle,f.endAngle);break;default:t.push(a[0]),i.push(a[1])}d&&(s.box=d,t.push(d.x,d.x+d.width),i.push(d.y,d.y+d.height))}t=t.filter(function(k){return!Number.isNaN(k)&&k!==1/0&&k!==-1/0}),i=i.filter(function(k){return!Number.isNaN(k)&&k!==1/0&&k!==-1/0});var m=zn.min(t),y=zn.min(i),b=zn.max(t),E=zn.max(i);if(0===r.length)return{x:m,y,width:b-m,height:E-y};for(var w=0;w<r.length;w++){var M=r[w],x=M.currentPoint;x[0]===m?m-=Hv(M,e).xExtra:x[0]===b&&(b+=Hv(M,e).xExtra),x[1]===y?y-=Hv(M,e).yExtra:x[1]===E&&(E+=Hv(M,e).yExtra)}return{x:m,y,width:b-m,height:E-y}}(s,0),l=a.x,u=a.y,d=a.width,f=a.height;return{absolutePath:e,hasArc:t,segments:s,polygons:r,polylines:o,totalLength:0,rect:{x:Number.isFinite(l)?l:0,y:Number.isFinite(u)?u:0,width:Number.isFinite(d)?d:0,height:Number.isFinite(f)?f:0}}},x$=ja(N6);function gM(n){return zn.isString(n)?x$(n):N6(n)}function L6(n,e,t){var i=n.curve,r=e.curve;(!i||0===i.length)&&(i=zn.path2Curve(n.absolutePath,!1),n.curve=i),(!r||0===r.length)&&(r=zn.path2Curve(e.absolutePath,!1),e.curve=r);var o=[i,r];i.length!==r.length&&(o=zn.equalizeSegments(i,r));var s=zn.getDrawDirection(o[0])!==zn.getDrawDirection(o[1])?zn.reverseCurve(o[0]):zn.clonePath(o[0]);return[s,zn.getRotatedCurve(o[1],s),function(a){return a}]}function F6(n,e){return[n.points,e.points,function(t){return t}]}var _r=null,Rp=/\s*(\w+)\(([^)]*)\)/g;function Sl(n){return function(e){var t=0;return n.map(function(i){return i===_r?e[t++]:i})}}function Pp(n){return n}var Mm={matrix:["NNNNNN",[_r,_r,0,0,_r,_r,0,0,0,0,1,0,_r,_r,0,1],Pp],matrix3d:["NNNNNNNNNNNNNNNN",Pp],rotate:["A"],rotateX:["A"],rotateY:["A"],rotateZ:["A"],rotate3d:["NNNA"],perspective:["L"],scale:["Nn",Sl([_r,_r,new Vr(1)]),Pp],scaleX:["N",Sl([_r,new Vr(1),new Vr(1)]),Sl([_r,new Vr(1)])],scaleY:["N",Sl([new Vr(1),_r,new Vr(1)]),Sl([new Vr(1),_r])],scaleZ:["N",Sl([new Vr(1),new Vr(1),_r])],scale3d:["NNN",Pp],skew:["Aa",null,Pp],skewX:["A",null,Sl([_r,rh])],skewY:["A",null,Sl([rh,_r])],translate:["Tt",Sl([_r,_r,nc]),Pp],translateX:["T",Sl([_r,nc,nc]),Sl([_r,nc])],translateY:["T",Sl([nc,_r,nc]),Sl([nc,_r])],translateZ:["L",Sl([nc,nc,_r])],translate3d:["TTL",Pp]};function qO(n){for(var e=[],t=n.length,i=0;i<t;i++){var r=n[i],o=r[0],s=r.slice(1);if("translate"===o||"skew"===o?1===s.length&&s.push(0):"scale"===o&&1===s.length&&s.push(s[0]),!Mm[o])return[];var l=s.map(function(u){return qo(u)});e.push({t:o,d:l})}return e}function vM(n){if(Array.isArray(n))return qO(n);if("none"===(n=(n||"none").trim()))return[];var t,e=[],i=0;for(Rp.lastIndex=0;t=Rp.exec(n);){if(t.index!==i)return[];i=t.index+t[0].length;var r=t[1],o=Mm[r];if(!o)return[];var s=t[2].split(","),a=o[0];if(a.length<s.length)return[];for(var l=[],u=0;u<a.length;u++){var m,d=s[u],f=a[u];if(void 0===(m=d?{A:function(y){return"0"===y.trim()?rh:k6(y)},N:Uv,T:ad,L:WO}[f.toUpperCase()](d):{a:rh,n:l[0],t:nc}[f]))return[];l.push(m)}if(e.push({t:r,d:l}),Rp.lastIndex===n.length)return e}return[]}function JO(n){if(Array.isArray(n))return qO(n);if("none"===(n=(n||"none").trim()))return[];var t,e=[],i=0;for(Rp.lastIndex=0;t=Rp.exec(n);){if(t.index!==i)return[];i=t.index+t[0].length;var r=t[1],o=Mm[r];if(!o)return[];var s=t[2].split(","),a=o[0];if(a.length<s.length)return[];for(var l=[],u=0;u<a.length;u++){var m,d=s[u],f=a[u];if(void 0===(m=d?{A:function(y){return"0"===y.trim()?rh:lb(y)},N:Op,T:sM,L:$O}[f.toUpperCase()](d):{a:rh,n:l[0],t:nc}[f]))return[];l.push(m)}if(e.push({t:r,d:l}),Rp.lastIndex===n.length)return e}return[]}function Cm(n){var e,t,i,r;switch(n.t){case"rotateX":return r=ao(Ml(n.d[0])),[1,0,0,0,0,Math.cos(r),Math.sin(r),0,0,-Math.sin(r),Math.cos(r),0,0,0,0,1];case"rotateY":return r=ao(Ml(n.d[0])),[Math.cos(r),0,-Math.sin(r),0,0,1,0,0,Math.sin(r),0,Math.cos(r),0,0,0,0,1];case"rotate":case"rotateZ":return r=ao(Ml(n.d[0])),[Math.cos(r),Math.sin(r),0,0,-Math.sin(r),Math.cos(r),0,0,0,0,1,0,0,0,0,1];case"rotate3d":e=n.d[0].value,t=n.d[1].value,i=n.d[2].value,r=ao(Ml(n.d[3]));var o=e*e+t*t+i*i;if(0===o)e=1,t=0,i=0;else if(1!==o){var s=Math.sqrt(o);e/=s,t/=s,i/=s}var a=Math.sin(r/2),l=a*Math.cos(r/2),u=a*a;return[1-2*(t*t+i*i)*u,2*(e*t*u+i*l),2*(e*i*u-t*l),0,2*(e*t*u-i*l),1-2*(e*e+i*i)*u,2*(t*i*u+e*l),0,2*(e*i*u+t*l),2*(t*i*u-e*l),1-2*(e*e+t*t)*u,0,0,0,0,1];case"scale":return[n.d[0].value,0,0,0,0,n.d[1].value,0,0,0,0,1,0,0,0,0,1];case"scaleX":return[n.d[0].value,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"scaleY":return[1,0,0,0,0,n.d[0].value,0,0,0,0,1,0,0,0,0,1];case"scaleZ":return[1,0,0,0,0,1,0,0,0,0,n.d[0].value,0,0,0,0,1];case"scale3d":return[n.d[0].value,0,0,0,0,n.d[1].value,0,0,0,0,n.d[2].value,0,0,0,0,1];case"skew":var d=ao(Ml(n.d[0])),f=ao(Ml(n.d[1]));return[1,Math.tan(f),0,0,Math.tan(d),1,0,0,0,0,1,0,0,0,0,1];case"skewX":return r=ao(Ml(n.d[0])),[1,0,0,0,Math.tan(r),1,0,0,0,0,1,0,0,0,0,1];case"skewY":return r=ao(Ml(n.d[0])),[1,Math.tan(r),0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"translate":return[1,0,0,0,0,1,0,0,0,0,1,0,e=Cl(n.d[0],0,null)||0,t=Cl(n.d[1],0,null)||0,0,1];case"translateX":return[1,0,0,0,0,1,0,0,0,0,1,0,e=Cl(n.d[0],0,null)||0,0,0,1];case"translateY":return[1,0,0,0,0,1,0,0,0,0,1,0,0,t=Cl(n.d[0],0,null)||0,0,1];case"translateZ":return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,i=Cl(n.d[0],0,null)||0,1];case"translate3d":return[1,0,0,0,0,1,0,0,0,0,1,0,e=Cl(n.d[0],0,null)||0,t=Cl(n.d[1],0,null)||0,i=Cl(n.d[2],0,null)||0,1];case"perspective":var m=Cl(n.d[0],0,null)||0;return[1,0,0,0,0,1,0,0,0,0,1,m?-1/m:0,0,0,0,1];case"matrix":return[n.d[0].value,n.d[1].value,0,0,n.d[2].value,n.d[3].value,0,0,0,0,1,0,n.d[4].value,n.d[5].value,0,1];case"matrix3d":return n.d.map(function(b){return b.value})}}function B6(n,e){return[n[0]*e[0]+n[4]*e[1]+n[8]*e[2]+n[12]*e[3],n[1]*e[0]+n[5]*e[1]+n[9]*e[2]+n[13]*e[3],n[2]*e[0]+n[6]*e[1]+n[10]*e[2]+n[14]*e[3],n[3]*e[0]+n[7]*e[1]+n[11]*e[2]+n[15]*e[3],n[0]*e[4]+n[4]*e[5]+n[8]*e[6]+n[12]*e[7],n[1]*e[4]+n[5]*e[5]+n[9]*e[6]+n[13]*e[7],n[2]*e[4]+n[6]*e[5]+n[10]*e[6]+n[14]*e[7],n[3]*e[4]+n[7]*e[5]+n[11]*e[6]+n[15]*e[7],n[0]*e[8]+n[4]*e[9]+n[8]*e[10]+n[12]*e[11],n[1]*e[8]+n[5]*e[9]+n[9]*e[10]+n[13]*e[11],n[2]*e[8]+n[6]*e[9]+n[10]*e[10]+n[14]*e[11],n[3]*e[8]+n[7]*e[9]+n[11]*e[10]+n[15]*e[11],n[0]*e[12]+n[4]*e[13]+n[8]*e[14]+n[12]*e[15],n[1]*e[12]+n[5]*e[13]+n[9]*e[14]+n[13]*e[15],n[2]*e[12]+n[6]*e[13]+n[10]*e[14]+n[14]*e[15],n[3]*e[12]+n[7]*e[13]+n[11]*e[14]+n[15]*e[15]]}function yM(n){var e=[0,0,0],t=[1,1,1],i=[0,0,0],r=[0,0,0,1],o=[0,0,0,1];return function AO(n,e,t,i,r,o){if(!function OO(n,e){var t=e[15];if(0===t)return!1;for(var i=1/t,r=0;r<16;r++)n[r]=e[r]*i;return!0}(wl,n)||(zt.mat4.copy(Ba,wl),Ba[3]=0,Ba[7]=0,Ba[11]=0,Ba[15]=1,Math.abs(zt.mat4.determinant(Ba))<1e-8))return!1;var s=wl[3],a=wl[7],l=wl[11],u=wl[12],d=wl[13],f=wl[14],m=wl[15];if(0!==s||0!==a||0!==l){if(pf[0]=s,pf[1]=a,pf[2]=l,pf[3]=m,!zt.mat4.invert(Ba,Ba))return!1;zt.mat4.transpose(Ba,Ba),zt.vec4.transformMat4(r,pf,Ba)}else r[0]=r[1]=r[2]=0,r[3]=1;if(e[0]=u,e[1]=d,e[2]=f,function kO(n,e){n[0][0]=e[0],n[0][1]=e[1],n[0][2]=e[2],n[1][0]=e[4],n[1][1]=e[5],n[1][2]=e[6],n[2][0]=e[8],n[2][1]=e[9],n[2][2]=e[10]}(Hi,wl),t[0]=zt.vec3.length(Hi[0]),zt.vec3.normalize(Hi[0],Hi[0]),i[0]=zt.vec3.dot(Hi[0],Hi[1]),fm(Hi[1],Hi[1],Hi[0],1,-i[0]),t[1]=zt.vec3.length(Hi[1]),zt.vec3.normalize(Hi[1],Hi[1]),i[0]/=t[1],i[1]=zt.vec3.dot(Hi[0],Hi[2]),fm(Hi[2],Hi[2],Hi[0],1,-i[1]),i[2]=zt.vec3.dot(Hi[1],Hi[2]),fm(Hi[2],Hi[2],Hi[1],1,-i[2]),t[2]=zt.vec3.length(Hi[2]),zt.vec3.normalize(Hi[2],Hi[2]),i[1]/=t[2],i[2]/=t[2],zt.vec3.cross(Nv,Hi[1],Hi[2]),zt.vec3.dot(Hi[0],Nv)<0)for(var b=0;b<3;b++)t[b]*=-1,Hi[b][0]*=-1,Hi[b][1]*=-1,Hi[b][2]*=-1;o[0]=.5*Math.sqrt(Math.max(1+Hi[0][0]-Hi[1][1]-Hi[2][2],0)),o[1]=.5*Math.sqrt(Math.max(1-Hi[0][0]+Hi[1][1]-Hi[2][2],0)),o[2]=.5*Math.sqrt(Math.max(1-Hi[0][0]-Hi[1][1]+Hi[2][2],0)),o[3]=.5*Math.sqrt(Math.max(1+Hi[0][0]+Hi[1][1]+Hi[2][2],0)),Hi[2][1]>Hi[1][2]&&(o[0]=-o[0]),Hi[0][2]>Hi[2][0]&&(o[1]=-o[1]),Hi[1][0]>Hi[0][1]&&(o[2]=-o[2])}(function j6(n){return 0===n.length?[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]:n.map(Cm).reduce(B6)}(n),e,t,i,r,o),[[e,t,i,o,r]]}var V6=function(){function n(i,r){for(var o=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],s=0;s<4;s++)for(var a=0;a<4;a++)for(var l=0;l<4;l++)o[s][a]+=r[s][l]*i[l][a];return o}return function t(i,r,o,s,a){for(var l=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],u=0;u<4;u++)l[u][3]=a[u];for(var d=0;d<3;d++)for(var f=0;f<3;f++)l[3][d]+=i[f]*l[f][d];var m=s[0],y=s[1],b=s[2],E=s[3],w=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];w[0][0]=1-2*(y*y+b*b),w[0][1]=2*(m*y-b*E),w[0][2]=2*(m*b+y*E),w[1][0]=2*(m*y+b*E),w[1][1]=1-2*(m*m+b*b),w[1][2]=2*(y*b-m*E),w[2][0]=2*(m*b-y*E),w[2][1]=2*(y*b+m*E),w[2][2]=1-2*(m*m+y*y),l=n(l,w);var M=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];o[2]&&(M[2][1]=o[2],l=n(l,M)),o[1]&&(M[2][1]=0,M[2][0]=o[0],l=n(l,M)),o[0]&&(M[2][0]=0,M[1][0]=o[0],l=n(l,M));for(var x=0;x<3;x++)for(var D=0;D<3;D++)l[x][D]*=r[x];return function e(i){return 0===i[0][2]&&0===i[0][3]&&0===i[1][2]&&0===i[1][3]&&0===i[2][0]&&0===i[2][1]&&1===i[2][2]&&0===i[2][3]&&0===i[3][2]&&1===i[3][3]}(l)?[l[0][0],l[0][1],l[1][0],l[1][1],l[3][0],l[3][1]]:l[0].concat(l[1],l[2],l[3])}}();function tk(n){return n.toFixed(6).replace(".000000","")}function ek(n,e){var t,i;return n.decompositionPair!==e&&(n.decompositionPair=e,t=yM(n)),e.decompositionPair!==n&&(e.decompositionPair=n,i=yM(e)),null===t[0]||null===i[0]?[[!1],[!0],function(r){return r?e[0].d:n[0].d}]:(t[0].push(0),i[0].push(1),[t,i,function(r){var o=function _M(n,e,t){var i=function bM(n,e){for(var t=0,i=0;i<n.length;i++)t+=n[i]*e[i];return t}(n,e),r=[];if(1===(i=zn.clamp(i,-1,1)))r=n;else for(var o=Math.acos(i),s=1*Math.sin(t*o)/Math.sqrt(1-i*i),a=0;a<4;a++)r.push(n[a]*(Math.cos(t*o)-i*s)+e[a]*s);return r}(t[0][3],i[0][3],r[5]);return V6(r[0],r[1],r[2],o,r[4]).map(tk).join(",")}])}function Wv(n){return n.replace(/[XY]/,"")}function Kv(n){return n.replace(/(X|Y|Z|3d)?$/,"3d")}var ld=function(n,e){return"perspective"===n&&"perspective"===e||("matrix"===n||"matrix3d"===n)&&("matrix"===e||"matrix3d"===e)};function z6(n,e,t){var i=!1;if(!n.length||!e.length){n.length||(i=!0,n=e,e=[]);for(var r=function(){var U=n[o],$=U.t,X=U.d,q="scale"===$.substring(0,5)?1:0;e.push({t:$,d:X.map(function(gt){return"number"==typeof gt?qo(q):qo(q,gt.unit)})})},o=0;o<n.length;o++)r()}var s=[],a=[],l=[];if(n.length!==e.length){var u=ek(n,e);s=[u[0]],a=[u[1]],l=[["matrix",[u[2]]]]}else for(var d=0;d<n.length;d++){var f=n[d].t,m=e[d].t,y=n[d].d,b=e[d].d,E=Mm[f],w=Mm[m],M=void 0;if(ld(f,m)){var x=ek([n[d]],[e[d]]);s.push(x[0]),a.push(x[1]),l.push(["matrix",[x[2]]])}else{if(f===m)M=f;else if(E[2]&&w[2]&&Wv(f)===Wv(m))M=Wv(f),y=E[2](y),b=w[2](b);else{if(!E[1]||!w[1]||Kv(f)!==Kv(m)){var D=ek(n,e);s=[D[0]],a=[D[1]],l=[["matrix",[D[2]]]];break}M=Kv(f),y=E[1](y),b=w[1](b)}for(var k=[],T=[],O=[],R=0;R<y.length;R++){var L=XO(y[R],b[R],t,!1,R);k[R]=L[0],T[R]=L[1],O.push(L[2])}s.push(k),a.push(T),l.push([M,O])}}if(i){var F=s;s=a,a=F}return[s,a,function(U){return U.map(function($,X){var q=$.map(function(gt,Et){return l[X][1][Et](gt)}).join(",");return"matrix"===l[X][0]&&16===q.split(",").length&&(l[X][0]="matrix3d"),"matrix3d"===l[X][0]&&6===q.split(",").length&&(l[X][0]="matrix"),"".concat(l[X][0],"(").concat(q,")")}).join(" ")}]}var nk=ja(function(n){if(zn.isString(n)){if("text-anchor"===n)return[qo(0,"px"),qo(0,"px")];var e=n.split(" ");return 1===e.length&&("top"===e[0]||"bottom"===e[0]?(e[1]=e[0],e[0]="center"):e[1]="center"),2!==e.length?null:[ad(gu(e[0])),ad(gu(e[1]))]}return[qo(n[0]||0,"px"),qo(n[1]||0,"px")]});function gu(n){return"center"===n?"50%":"left"===n||"top"===n?"0%":"right"===n||"bottom"===n?"100%":n}var Dl=[{n:"display",k:["none"]},{n:"opacity",int:!0,inh:!0,d:"1",syntax:Xn.OPACITY_VALUE},{n:"fillOpacity",int:!0,inh:!0,d:"1",syntax:Xn.OPACITY_VALUE},{n:"strokeOpacity",int:!0,inh:!0,d:"1",syntax:Xn.OPACITY_VALUE},{n:"fill",int:!0,k:["none"],d:"none",syntax:Xn.PAINT},{n:"fillRule",k:["nonzero","evenodd"],d:"nonzero"},{n:"stroke",int:!0,k:["none"],d:"none",syntax:Xn.PAINT,l:!0},{n:"shadowType",k:["inner","outer","both"],d:"outer",l:!0},{n:"shadowColor",int:!0,syntax:Xn.COLOR},{n:"shadowOffsetX",int:!0,l:!0,d:"0",syntax:Xn.LENGTH_PERCENTAGE},{n:"shadowOffsetY",int:!0,l:!0,d:"0",syntax:Xn.LENGTH_PERCENTAGE},{n:"shadowBlur",int:!0,l:!0,d:"0",syntax:Xn.SHADOW_BLUR},{n:"lineWidth",int:!0,inh:!0,d:"1",l:!0,a:["strokeWidth"],syntax:Xn.LENGTH_PERCENTAGE},{n:"increasedLineWidthForHitTesting",inh:!0,d:"0",l:!0,syntax:Xn.LENGTH_PERCENTAGE},{n:"lineJoin",inh:!0,l:!0,a:["strokeLinejoin"],k:["miter","bevel","round"],d:"miter"},{n:"lineCap",inh:!0,l:!0,a:["strokeLinecap"],k:["butt","round","square"],d:"butt"},{n:"lineDash",int:!0,inh:!0,k:["none"],a:["strokeDasharray"],syntax:Xn.LENGTH_PERCENTAGE_12},{n:"lineDashOffset",int:!0,inh:!0,d:"0",a:["strokeDashoffset"],syntax:Xn.LENGTH_PERCENTAGE},{n:"offsetPath",syntax:Xn.DEFINED_PATH},{n:"offsetDistance",int:!0,syntax:Xn.OFFSET_DISTANCE},{n:"dx",int:!0,l:!0,d:"0",syntax:Xn.LENGTH_PERCENTAGE},{n:"dy",int:!0,l:!0,d:"0",syntax:Xn.LENGTH_PERCENTAGE},{n:"zIndex",ind:!0,int:!0,d:"0",k:["auto"],syntax:Xn.Z_INDEX},{n:"visibility",k:["visible","hidden"],ind:!0,inh:!0,int:!0,d:"visible"},{n:"pointerEvents",inh:!0,k:["none","auto","stroke","fill","painted","visible","visiblestroke","visiblefill","visiblepainted","all"],d:"auto"},{n:"filter",ind:!0,l:!0,k:["none"],d:"none",syntax:Xn.FILTER},{n:"clipPath",syntax:Xn.DEFINED_PATH},{n:"textPath",syntax:Xn.DEFINED_PATH},{n:"textPathSide",k:["left","right"],d:"left"},{n:"textPathStartOffset",l:!0,d:"0",syntax:Xn.LENGTH_PERCENTAGE},{n:"transform",p:100,int:!0,k:["none"],d:"none",syntax:Xn.TRANSFORM},{n:"transformOrigin",p:100,d:"0 0",l:!0,syntax:Xn.TRANSFORM_ORIGIN},{n:"cx",int:!0,l:!0,d:"0",syntax:Xn.COORDINATE},{n:"cy",int:!0,l:!0,d:"0",syntax:Xn.COORDINATE},{n:"cz",int:!0,l:!0,d:"0",syntax:Xn.COORDINATE},{n:"r",int:!0,l:!0,d:"0",syntax:Xn.LENGTH_PERCENTAGE},{n:"rx",int:!0,l:!0,d:"0",syntax:Xn.LENGTH_PERCENTAGE},{n:"ry",int:!0,l:!0,d:"0",syntax:Xn.LENGTH_PERCENTAGE},{n:"x",int:!0,l:!0,d:"0",syntax:Xn.COORDINATE},{n:"y",int:!0,l:!0,d:"0",syntax:Xn.COORDINATE},{n:"z",int:!0,l:!0,d:"0",syntax:Xn.COORDINATE},{n:"width",int:!0,l:!0,k:["auto","fit-content","min-content","max-content"],d:"0",syntax:Xn.LENGTH_PERCENTAGE},{n:"height",int:!0,l:!0,k:["auto","fit-content","min-content","max-content"],d:"0",syntax:Xn.LENGTH_PERCENTAGE},{n:"radius",int:!0,l:!0,d:"0",syntax:Xn.LENGTH_PERCENTAGE_14},{n:"x1",int:!0,l:!0,syntax:Xn.COORDINATE},{n:"y1",int:!0,l:!0,syntax:Xn.COORDINATE},{n:"z1",int:!0,l:!0,syntax:Xn.COORDINATE},{n:"x2",int:!0,l:!0,syntax:Xn.COORDINATE},{n:"y2",int:!0,l:!0,syntax:Xn.COORDINATE},{n:"z2",int:!0,l:!0,syntax:Xn.COORDINATE},{n:"d",int:!0,l:!0,d:"",syntax:Xn.PATH,p:50},{n:"points",int:!0,l:!0,syntax:Xn.LIST_OF_POINTS,p:50},{n:"text",l:!0,d:"",syntax:Xn.TEXT,p:50},{n:"textTransform",l:!0,inh:!0,k:["capitalize","uppercase","lowercase","none"],d:"none",syntax:Xn.TEXT_TRANSFORM,p:51},{n:"font",l:!0},{n:"fontSize",int:!0,inh:!0,d:"16px",l:!0,syntax:Xn.LENGTH_PERCENTAGE},{n:"fontFamily",l:!0,inh:!0,d:"sans-serif"},{n:"fontStyle",l:!0,inh:!0,k:["normal","italic","oblique"],d:"normal"},{n:"fontWeight",l:!0,inh:!0,k:["normal","bold","bolder","lighter"],d:"normal"},{n:"fontVariant",l:!0,inh:!0,k:["normal","small-caps"],d:"normal"},{n:"lineHeight",l:!0,syntax:Xn.LENGTH,int:!0,d:"0"},{n:"letterSpacing",l:!0,syntax:Xn.LENGTH,int:!0,d:"0"},{n:"miterLimit",l:!0,syntax:Xn.NUMBER,d:function(n){return n===di.PATH||n===di.POLYGON||n===di.POLYLINE?"4":"10"}},{n:"wordWrap",l:!0},{n:"wordWrapWidth",l:!0},{n:"maxLines",l:!0},{n:"textOverflow",l:!0,d:"clip"},{n:"leading",l:!0},{n:"textBaseline",l:!0,inh:!0,k:["top","hanging","middle","alphabetic","ideographic","bottom"],d:"alphabetic"},{n:"textAlign",l:!0,inh:!0,k:["start","center","middle","end","left","right"],d:"start"},{n:"markerStart",syntax:Xn.MARKER},{n:"markerEnd",syntax:Xn.MARKER},{n:"markerMid",syntax:Xn.MARKER},{n:"markerStartOffset",syntax:Xn.LENGTH,l:!0,int:!0,d:"0"},{n:"markerEndOffset",syntax:Xn.LENGTH,l:!0,int:!0,d:"0"}],vu=new Set(Dl.filter(function(n){return!!n.l}).map(function(n){return n.n})),EM={},ik=function(){return ri(function n(e){var t=this;ti(this,n),this.runtime=e,Dl.forEach(function(i){t.registerMetadata(i)})},[{key:"registerMetadata",value:function(e){[e.n].concat(Yo(e.a||[])).forEach(function(t){EM[t]=e})}},{key:"getPropertySyntax",value:function(e){return this.runtime.CSSPropertySyntaxFactory[e]}},{key:"processProperties",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{skipUpdateAttribute:!1,skipParse:!1,forceUpdateGeometry:!1,usedAttributes:[],memoize:!0};Object.assign(e.attributes,t);var r=e.parsedStyle.clipPath,o=e.parsedStyle.offsetPath;!function U6(n,e){if(Nn.enableMassiveParsedStyleAssignOptimization){var t=n.constructor.PARSED_STYLE_LIST;for(var i in e)t.has(i)&&(n.parsedStyle[i]=e[i])}else Object.assign(n.parsedStyle,e)}(e,t);var s=!!i.forceUpdateGeometry;if(!s)for(var a in t)if(vu.has(a)){s=!0;break}t.fill&&(e.parsedStyle.fill=ym(t.fill)),t.stroke&&(e.parsedStyle.stroke=ym(t.stroke)),t.shadowColor&&(e.parsedStyle.shadowColor=ym(t.shadowColor)),t.filter&&(e.parsedStyle.filter=function bm(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if("none"===(n=n.toLowerCase().trim()))return[];for(var i,e=/\s*([\w-]+)\(([^)]*)\)/g,t=[],r=0;i=e.exec(n);){if(i.index!==r)return[];if(r=i.index+i[0].length,lM.indexOf(i[1])>-1&&t.push({name:i[1],params:i[2].split(" ").map(function(o){return zv(o)||ym(o)})}),e.lastIndex===n.length)return t}return[]}(t.filter)),zn.isNil(t.radius)||(e.parsedStyle.radius=aM(t.radius,4)),zn.isNil(t.lineDash)||(e.parsedStyle.lineDash=aM(t.lineDash,2)),t.points&&(e.parsedStyle.points=function QO(n){return{points:zn.isString(n)?n.split(" ").map(function(i){var r=i.split(","),o=Vo(r,2),a=o[1];return[Number(o[0]),Number(a)]}):n,totalLength:0,segments:[]}}(t.points)),""===t.d&&(e.parsedStyle.d=vo({},Fv)),t.d&&(e.parsedStyle.d=gM(t.d)),t.textTransform&&this.runtime.CSSPropertySyntaxFactory[Xn.TEXT_TRANSFORM].calculator(null,null,{value:t.textTransform},e,null),zn.isUndefined(t.clipPath)||this.runtime.CSSPropertySyntaxFactory[Xn.DEFINED_PATH].calculator("clipPath",r,t.clipPath,e,this.runtime),t.offsetPath&&this.runtime.CSSPropertySyntaxFactory[Xn.DEFINED_PATH].calculator("offsetPath",o,t.offsetPath,e,this.runtime),t.transform&&(e.parsedStyle.transform=vM(t.transform)),t.transformOrigin&&(e.parsedStyle.transformOrigin=nk(t.transformOrigin)),t.markerStart&&(e.parsedStyle.markerStart=this.runtime.CSSPropertySyntaxFactory[Xn.MARKER].calculator(null,t.markerStart,t.markerStart,null,null)),t.markerEnd&&(e.parsedStyle.markerEnd=this.runtime.CSSPropertySyntaxFactory[Xn.MARKER].calculator(null,t.markerEnd,t.markerEnd,null,null)),t.markerMid&&(e.parsedStyle.markerMid=this.runtime.CSSPropertySyntaxFactory[Xn.MARKER].calculator("",t.markerMid,t.markerMid,null,null)),zn.isNil(t.zIndex)||this.runtime.CSSPropertySyntaxFactory[Xn.Z_INDEX].postProcessor(e),zn.isNil(t.offsetDistance)||this.runtime.CSSPropertySyntaxFactory[Xn.OFFSET_DISTANCE].postProcessor(e),t.transform&&this.runtime.CSSPropertySyntaxFactory[Xn.TRANSFORM].postProcessor(e),t.transformOrigin&&this.runtime.CSSPropertySyntaxFactory[Xn.TRANSFORM_ORIGIN].postProcessor(e),s&&(e.geometry.dirty=!0,e.renderable.boundsDirty=!0,e.renderable.renderBoundsDirty=!0,i.forceUpdateGeometry||this.runtime.sceneGraphService.dirtifyToRoot(e))}},{key:"updateGeometry",value:function(e){var t=e.nodeName,i=this.runtime.geometryUpdaterFactory[t];if(i){var r=e.geometry;r.contentBounds||(r.contentBounds=new Ca),r.renderBounds||(r.renderBounds=new Ca);var o=e.parsedStyle,s=i.update(o,e),a=s.cx,l=void 0===a?0:a,u=s.cy,d=void 0===u?0:u,f=s.cz,m=void 0===f?0:f,y=s.hwidth,b=void 0===y?0:y,E=s.hheight,w=void 0===E?0:E,M=s.hdepth,x=void 0===M?0:M,D=[Math.abs(b),Math.abs(w),x],k=o.stroke,T=o.lineWidth,O=void 0===T?1:T,R=o.increasedLineWidthForHitTesting,L=void 0===R?0:R,F=o.shadowType,U=void 0===F?"outer":F,$=o.shadowColor,X=o.filter,q=void 0===X?[]:X,gt=o.transformOrigin,Et=[l,d,m];r.contentBounds.update(Et,D);var at=t===di.POLYLINE||t===di.POLYGON||t===di.PATH?Math.SQRT2:.5;if(k&&!k.isNone){var et=((O||0)+(L||0))*at;D[0]+=et,D[1]+=et}if(r.renderBounds.update(Et,D),$&&U&&"inner"!==U){var St=r.renderBounds,Yt=St.min,He=St.max,Wn=o.shadowBlur||0,Ln=o.shadowOffsetX||0,yi=o.shadowOffsetY||0,co=He[0]+Wn+Ln,as=Yt[1]-Wn+yi,Vs=He[1]+Wn+yi;Yt[0]=Math.min(Yt[0],Yt[0]-Wn+Ln),He[0]=Math.max(He[0],co),Yt[1]=Math.min(Yt[1],as),He[1]=Math.max(He[1],Vs),r.renderBounds.setMinMax(Yt,He)}q.forEach(function(Od){var Yr=Od.name,Ll=Od.params;if("blur"===Yr){var kd=Ll[0].value;r.renderBounds.update(r.renderBounds.center,zt.vec3.add(r.renderBounds.halfExtents,r.renderBounds.halfExtents,[kd,kd,0]))}else if("drop-shadow"===Yr){var my=Ll[0].value,jf=Ll[1].value,Xa=Ll[2].value,pa=r.renderBounds,ma=pa.min,ga=pa.max,EE=ga[0]+Xa+my,Vf=ma[1]-Xa+jf,wE=ga[1]+Xa+jf;ma[0]=Math.min(ma[0],ma[0]-Xa+my),ga[0]=Math.max(ga[0],EE),ma[1]=Math.min(ma[1],Vf),ga[1]=Math.max(ga[1],wE),r.renderBounds.setMinMax(ma,ga)}}),e.geometry.dirty=!1;var Bf=w<0,m0=(b<0?-1:1)*(gt?Cl(gt[0],0,e,!0):0),Jr=(Bf?-1:1)*(gt?Cl(gt[1],1,e,!0):0);(m0||Jr)&&e.setOrigin(m0,Jr)}}},{key:"updateSizeAttenuation",value:function(e,t){e.style.isSizeAttenuation?(e.style.rawLineWidth||(e.style.rawLineWidth=e.style.lineWidth),e.style.lineWidth=(e.style.rawLineWidth||1)/t,e.nodeName===di.CIRCLE&&(e.style.rawR||(e.style.rawR=e.style.r),e.style.r=(e.style.rawR||1)/t)):(e.style.rawLineWidth&&(e.style.lineWidth=e.style.rawLineWidth,delete e.style.rawLineWidth),e.nodeName===di.CIRCLE&&e.style.rawR&&(e.style.r=e.style.rawR,delete e.style.rawR))}}])}(),H6=function(){return ri(function n(){ti(this,n),this.mixer=gf},[{key:"calculator",value:function(e,t,i,r){return Ml(i)}}])}(),G6=function(){return ri(function n(){ti(this,n)},[{key:"calculator",value:function(e,t,i,r,o){return i instanceof ra&&(i=null),o.sceneGraphService.updateDisplayObjectDependency(e,t,i,r),"clipPath"===e&&r.forEach(function(s){0===s.childNodes.length&&o.sceneGraphService.dirtifyToRoot(s)}),i}}])}(),$6=function(){return ri(function n(){ti(this,n),this.parser=ym,this.mixer=GO},[{key:"calculator",value:function(e,t,i,r){return i instanceof ra?"none"===i.value?nM:jO:i}}])}(),wM=function(){return ri(function n(){ti(this,n)},[{key:"calculator",value:function(e,t,i){return i instanceof ra?[]:i}}])}();function Sm(n){var t=n.parsedStyle.fontSize;return zn.isNil(t)?null:t}var xM=function(){return ri(function n(){ti(this,n),this.mixer=gf},[{key:"calculator",value:function(e,t,i,r,o){if(zn.isNumber(i))return i;if(!Vr.isRelativeUnit(i.unit))return i.value;if(i.unit===Yn.kPercentage)return 0;if(i.unit===Yn.kEms){if(r.parentNode){var s=Sm(r.parentNode);if(s)return s*i.value}return 0}if(i.unit===Yn.kRems){var a;if(null!=r&&null!==(a=r.ownerDocument)&&void 0!==a&&a.documentElement){var l=Sm(r.ownerDocument.documentElement);if(l)return l*i.value}return 0}}}])}(),rk=function(){return ri(function n(){ti(this,n),this.mixer=kp},[{key:"calculator",value:function(e,t,i){return i.map(function(r){return r.value})}}])}(),W6=function(){return ri(function n(){ti(this,n),this.mixer=kp},[{key:"calculator",value:function(e,t,i){return i.map(function(r){return r.value})}}])}(),K6=function(){return ri(function n(){ti(this,n)},[{key:"calculator",value:function(e,t,i,r){var o;i instanceof ra&&(i=null);var s=null===(o=i)||void 0===o?void 0:o.cloneNode(!0);return s&&(s.style.isMarker=!0),s}}])}(),ok=function(){return ri(function n(){ti(this,n),this.mixer=gf},[{key:"calculator",value:function(e,t,i){return i.value}}])}(),sk=function(){return ri(function n(){ti(this,n),this.mixer=vf(0,1)},[{key:"calculator",value:function(e,t,i){return i.value}},{key:"postProcessor",value:function(e){var t=e.parsedStyle,i=t.offsetPath;if(i){var o=i.nodeName;if(o===di.LINE||o===di.PATH||o===di.POLYLINE){var s=i.getPoint(t.offsetDistance);s&&e.setLocalPosition(s.x,s.y)}}}}])}(),db=function(){return ri(function n(){ti(this,n),this.mixer=vf(0,1)},[{key:"calculator",value:function(e,t,i){return i.value}}])}(),X6=function(){return ri(function n(){ti(this,n),this.parser=gM,this.mixer=L6},[{key:"calculator",value:function(e,t,i){return i instanceof ra&&"unset"===i.value?{absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:new Mp(0,0,0,0)}:i}}])}(),ak=ri(function n(){ti(this,n),this.mixer=F6}),lk=function(n){function e(){var t;ti(this,e);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=Mo(this,e,[].concat(r))).mixer=vf(0,1/0),t}return so(e,n),ri(e)}(xM),Y6=function(){return ri(function n(){ti(this,n)},[{key:"calculator",value:function(e,t,i,r){return i instanceof ra?"unset"===i.value?"":i.value:"".concat(i)}},{key:"postProcessor",value:function(e){e.nodeValue="".concat(e.parsedStyle.text)||""}}])}(),Z6=function(){return ri(function n(){ti(this,n)},[{key:"calculator",value:function(e,t,i,r){var o=r.getAttribute("text");if(o){var s=o;"capitalize"===i.value?s=o.charAt(0).toUpperCase()+o.slice(1):"lowercase"===i.value?s=o.toLowerCase():"uppercase"===i.value&&(s=o.toUpperCase()),r.parsedStyle.text=s}return i.value}}])}(),MM=new WeakMap,hb=typeof window<"u"&&typeof window.document<"u";function J6(n){return!!n.getAttribute}function ck(n,e){var t=Number(n.parsedStyle.zIndex||0),i=Number(e.parsedStyle.zIndex||0);if(t===i){var r=n.parentNode;if(r){var o=r.childNodes||[];return o.indexOf(n)-o.indexOf(e)}}return t-i}function uk(n){var e=n;do{var t;if(null===(t=e.parsedStyle)||void 0===t?void 0:t.clipPath)return e;e=e.parentElement}while(null!==e);return null}function dk(n,e){if(hb)return document.defaultView.getComputedStyle(n,null).getPropertyValue(e)}var pk={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},pb="object"==typeof performance&&performance.now?performance:Date;function mb(n){return n.nodeName===di.FRAGMENT||n.getRootNode().nodeName===di.FRAGMENT}var eF=1,yu="object"==typeof self&&self.self===self?self:"object"==typeof ji&&ji.global===ji?ji:{},C$=Date.now(),Xv={},SM=Date.now(),gb=function(n){if("function"!=typeof n)throw new TypeError("".concat(n," is not a function"));var e=Date.now(),t=e-SM,i=t>16?0:16-t,r=eF++;return Xv[r]=n,Object.keys(Xv).length>1||setTimeout(function(){SM=e;var o=Xv;Xv={},Object.keys(o).forEach(function(s){return o[s](yu.performance&&"function"==typeof yu.performance.now?yu.performance.now():Date.now()-C$)})},i),r},iF=function(n){delete Xv[n]},vb=function(n){return"string"!=typeof n?gb:""===n?yu.requestAnimationFrame:yu["".concat(n,"RequestAnimationFrame")]},Yv=function(n,e){for(var t=0;void 0!==n[t];){if(e(n[t]))return n[t];t+=1}}(["","webkit","moz","ms","o"],function(n){return!!vb(n)}),Zv=vb(Yv),DM=function(n){return"string"!=typeof n?iF:""===n?yu.cancelAnimationFrame:yu["".concat(n,"CancelAnimationFrame")]||yu["".concat(n,"CancelRequestAnimationFrame")]}(Yv);yu.requestAnimationFrame=Zv,yu.cancelAnimationFrame=DM;var sF=function(){return ri(function n(){ti(this,n),this.callbacks=[]},[{key:"getCallbacksNum",value:function(){return this.callbacks.length}},{key:"tapPromise",value:function(e,t){this.callbacks.push(t)}},{key:"promise",value:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return Promise.all(this.callbacks.map(function(r){return r.apply(void 0,t)}))}}])}(),aF=function(){return ri(function n(){ti(this,n),this.callbacks=[]},[{key:"tapPromise",value:function(e,t){this.callbacks.push(t)}},{key:"promise",value:(e=$x(cm().mark(function i(){var r,o,s,a,l=arguments;return cm().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!this.callbacks.length){u.next=14;break}return u.next=3,(r=this.callbacks)[0].apply(r,l);case 3:o=u.sent,s=0;case 5:if(!(s<this.callbacks.length-1)){u.next=13;break}return a=this.callbacks[s],u.next=9,a(o);case 9:o=u.sent;case 10:s++,u.next=5;break;case 13:return u.abrupt("return",o);case 14:return u.abrupt("return",null);case 15:case"end":return u.stop()}},i,this)})),function t(){return e.apply(this,arguments)})}]);var e}(),ol=function(){return ri(function n(){ti(this,n),this.callbacks=[]},[{key:"tap",value:function(e,t){this.callbacks.push(t)}},{key:"call",value:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var r=arguments;this.callbacks.forEach(function(o){o.apply(void 0,r)})}}])}(),Dm=function(){return ri(function n(){ti(this,n),this.callbacks=[]},[{key:"tap",value:function(e,t){this.callbacks.push(t)}},{key:"call",value:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];if(this.callbacks.length){for(var o=this.callbacks[0].apply(void 0,arguments),s=0;s<this.callbacks.length-1;s++)o=(0,this.callbacks[s])(o);return o}return null}}])}(),bb=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],TM=/([\"\'])[^\'\"]+\1/;function AM(n,e,t){return zt.mat4.identity(n),n[4]=Math.tan(e),n[1]=Math.tan(t),n}var xs=zt.mat4.create(),vk=zt.mat4.create(),OM={scale:function(n){zt.mat4.fromScaling(xs,[n[0].value,n[1].value,1])},scaleX:function(n){zt.mat4.fromScaling(xs,[n[0].value,1,1])},scaleY:function(n){zt.mat4.fromScaling(xs,[1,n[0].value,1])},scaleZ:function(n){zt.mat4.fromScaling(xs,[1,1,n[0].value])},scale3d:function(n){zt.mat4.fromScaling(xs,[n[0].value,n[1].value,n[2].value])},translate:function(n){zt.mat4.fromTranslation(xs,[n[0].value,n[1].value,0])},translateX:function(n){zt.mat4.fromTranslation(xs,[n[0].value,0,0])},translateY:function(n){zt.mat4.fromTranslation(xs,[0,n[0].value,0])},translateZ:function(n){zt.mat4.fromTranslation(xs,[0,0,n[0].value])},translate3d:function(n){zt.mat4.fromTranslation(xs,[n[0].value,n[1].value,n[2].value])},rotate:function(n){zt.mat4.fromZRotation(xs,ao(Ml(n[0])))},rotateX:function(n){zt.mat4.fromXRotation(xs,ao(Ml(n[0])))},rotateY:function(n){zt.mat4.fromYRotation(xs,ao(Ml(n[0])))},rotateZ:function(n){zt.mat4.fromZRotation(xs,ao(Ml(n[0])))},rotate3d:function(n){zt.mat4.fromRotation(xs,ao(Ml(n[3])),[n[0].value,n[1].value,n[2].value])},skew:function(n){AM(xs,ao(n[0].value),ao(n[1].value))},skewX:function(n){AM(xs,ao(n[0].value),0)},skewY:function(n){AM(xs,0,ao(n[0].value))},matrix:function(n){zt.mat4.set(xs,n[0].value,n[1].value,0,0,n[2].value,n[3].value,0,0,0,0,1,0,n[4].value,n[5].value,0,1)},matrix3d:function(n){zt.mat4.set.apply(zt.mat4,[xs].concat(Yo(n.map(function(e){return e.value}))))}},kM=zt.vec3.fromValues(1,1,1),Np=zt.vec3.create(),yk={translate:function(n,e){Nn.sceneGraphService.setLocalScale(n,kM,!1),Nn.sceneGraphService.setLocalEulerAngles(n,Np,void 0,void 0,!1),Nn.sceneGraphService.setLocalPosition(n,[e[0].value,e[1].value,0],!1),Nn.sceneGraphService.dirtifyLocal(n,n.transformable)}};function bk(n,e){if(n.length){if(1===n.length&&yk[n[0].t])return void yk[n[0].t](e,n[0].d);for(var t=zt.mat4.identity(vk),i=0;i<n.length;i++){var r=n[i],a=OM[r.t];a&&(a(r.d),zt.mat4.mul(t,t,xs))}e.setLocalTransform(t)}else e.resetLocalTransform();return e.getLocalTransform()}var Tm=function(){return ri(function n(){ti(this,n),this.parser=JO,this.mixer=z6},[{key:"calculator",value:function(e,t,i,r){return i instanceof ra?[]:i}},{key:"postProcessor",value:function(e){bk(e.parsedStyle.transform,e)}}])}(),D$=function(){return ri(function n(){ti(this,n)},[{key:"postProcessor",value:function(e){var t=e.parsedStyle.transformOrigin;t[0].unit===Yn.kPixels&&t[1].unit===Yn.kPixels?e.setOrigin(t[0].value,t[1].value):e.getGeometryBounds()}}])}(),IM=function(){return ri(function n(){ti(this,n)},[{key:"calculator",value:function(e,t,i,r){return i.value}},{key:"postProcessor",value:function(e){if(e.parentNode){var t=e.parentNode,i=t.renderable,r=t.sortable;i&&(i.dirty=!0),r&&(r.dirty=!0,r.dirtyReason=mm.Z_INDEX_CHANGED)}}}])}(),lF=function(){return ri(function n(){ti(this,n)},[{key:"update",value:function(e,t){var i=e.cx,o=e.cy,a=e.r,l=void 0===a?0:a;return{cx:void 0===i?0:i,cy:void 0===o?0:o,hwidth:l,hheight:l}}}])}(),RM=function(){return ri(function n(){ti(this,n)},[{key:"update",value:function(e,t){var i=e.cx,o=e.cy,a=e.rx,u=e.ry;return{cx:void 0===i?0:i,cy:void 0===o?0:o,hwidth:void 0===a?0:a,hheight:void 0===u?0:u}}}])}(),PM=function(){return ri(function n(){ti(this,n)},[{key:"update",value:function(e){var t=e.x1,i=e.y1,r=e.x2,o=e.y2,s=Math.min(t,r),a=Math.max(t,r),l=Math.min(i,o),m=(a-s)/2,y=(Math.max(i,o)-l)/2;return{cx:s+m,cy:l+y,hwidth:m,hheight:y}}}])}(),cF=function(){return ri(function n(){ti(this,n)},[{key:"update",value:function(e){var i=e.d.rect,l=i.width/2,u=i.height/2;return{cx:i.x+l,cy:i.y+u,hwidth:l,hheight:u}}}])}(),Lp=function(){return ri(function n(){ti(this,n)},[{key:"update",value:function(e){if(e.points&&zn.isArray(e.points.points)){var t=e.points.points,i=Math.min.apply(Math,Yo(t.map(function(f){return f[0]}))),r=Math.max.apply(Math,Yo(t.map(function(f){return f[0]}))),o=Math.min.apply(Math,Yo(t.map(function(f){return f[1]}))),u=(r-i)/2,d=(Math.max.apply(Math,Yo(t.map(function(f){return f[1]})))-o)/2;return{cx:i+u,cy:o+d,hwidth:u,hheight:d}}return{cx:0,cy:0,hwidth:0,hheight:0}}}])}(),_k=function(){return ri(function n(){ti(this,n)},[{key:"update",value:function(e,t){var i=e.x,r=void 0===i?0:i,o=e.y,s=void 0===o?0:o,a=e.src,l=e.width,d=e.height,m=void 0===l?0:l,y=void 0===d?0:d;return a&&!zn.isString(a)&&(m||(e.width=m=a.width),y||(e.height=y=a.height)),{cx:r+m/2,cy:s+y/2,hwidth:m/2,hheight:y/2}}}])}(),Ek=function(){return ri(function n(e){ti(this,n),this.globalRuntime=e},[{key:"isReadyToMeasure",value:function(e,t){return e.text}},{key:"update",value:function(e,t){var i,r=e.text,o=e.textAlign,s=void 0===o?"start":o,a=e.lineWidth,l=void 0===a?1:a,u=e.textBaseline,d=void 0===u?"alphabetic":u,f=e.dx,m=void 0===f?0:f,y=e.dy,b=void 0===y?0:y,E=e.x,w=void 0===E?0:E,M=e.y,x=void 0===M?0:M;if(!this.isReadyToMeasure(e,t))return e.metrics={font:"",width:0,height:0,lines:[],lineWidths:[],lineHeight:0,maxLineWidth:0,fontProperties:{ascent:0,descent:0,fontSize:0},lineMetrics:[]},{hwidth:0,hheight:0,cx:0,cy:0};var D=(null==t||null===(i=t.ownerDocument)||void 0===i||null===(i=i.defaultView)||void 0===i?void 0:i.getConfig())||{},T=this.globalRuntime.textService.measureText(r,e,D.offscreenCanvas);e.metrics=T;var L=T.width/2,F=T.height/2,U=w+L;"center"===s||"middle"===s?U+=l/2-L:("right"===s||"end"===s)&&(U+=l-2*L);var $=x-F;return"middle"===d?$+=F:"top"===d||"hanging"===d?$+=2*F:"alphabetic"===d||("bottom"===d||"ideographic"===d)&&($+=0),m&&(U+=m),b&&($+=b),{cx:U,cy:$,hwidth:L,hheight:F}}}])}(),wk=function(){return ri(function n(){ti(this,n)},[{key:"update",value:function(e,t){return{cx:0,cy:0,hwidth:0,hheight:0}}}])}(),Qv=function(){return ri(function n(){ti(this,n)},[{key:"update",value:function(e,t){var i=e.x,o=e.y,a=e.width,l=void 0===a?0:a,u=e.height,d=void 0===u?0:u;return{cx:(void 0===i?0:i)+l/2,cy:(void 0===o?0:o)+d/2,hwidth:l/2,hheight:d/2}}}])}(),Fp=function(){return ri(function n(e){ti(this,n),this.eventPhase=n.prototype.NONE,this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.defaultPrevented=!1,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new ks,this.page=new ks,this.canvas=new ks,this.viewport=new ks,this.composed=!1,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e},[{key:"name",get:function(){return this.type}},{key:"layerX",get:function(){return this.layer.x}},{key:"layerY",get:function(){return this.layer.y}},{key:"pageX",get:function(){return this.page.x}},{key:"pageY",get:function(){return this.page.y}},{key:"x",get:function(){return this.canvas.x}},{key:"y",get:function(){return this.canvas.y}},{key:"canvasX",get:function(){return this.canvas.x}},{key:"canvasY",get:function(){return this.canvas.y}},{key:"viewportX",get:function(){return this.viewport.x}},{key:"viewportY",get:function(){return this.viewport.y}},{key:"composedPath",value:function(){return this.manager&&(!this.path||this.path[0]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}},{key:"propagationPath",get:function(){return this.composedPath()}},{key:"preventDefault",value:function(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}},{key:"stopImmediatePropagation",value:function(){this.propagationImmediatelyStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"initEvent",value:function(){}},{key:"initUIEvent",value:function(){}},{key:"clone",value:function(){throw new Error(Zo)}}])}(),Am=function(n){function e(){var t;ti(this,e);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=Mo(this,e,[].concat(r))).client=new ks,t.movement=new ks,t.offset=new ks,t.global=new ks,t.screen=new ks,t}return so(e,n),ri(e,[{key:"clientX",get:function(){return this.client.x}},{key:"clientY",get:function(){return this.client.y}},{key:"movementX",get:function(){return this.movement.x}},{key:"movementY",get:function(){return this.movement.y}},{key:"offsetX",get:function(){return this.offset.x}},{key:"offsetY",get:function(){return this.offset.y}},{key:"globalX",get:function(){return this.global.x}},{key:"globalY",get:function(){return this.global.y}},{key:"screenX",get:function(){return this.screen.x}},{key:"screenY",get:function(){return this.screen.y}},{key:"getModifierState",value:function(t){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(t)}},{key:"initMouseEvent",value:function(){throw new Error(Zo)}}])}(Fp),Sa=function(n){function e(){var t;ti(this,e);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=Mo(this,e,[].concat(r))).width=0,t.height=0,t.isPrimary=!1,t}return so(e,n),ri(e,[{key:"getCoalescedEvents",value:function(){return"pointermove"===this.type||"mousemove"===this.type||"touchmove"===this.type?[this]:[]}},{key:"getPredictedEvents",value:function(){throw new Error("getPredictedEvents is not supported!")}},{key:"clone",value:function(){return this.manager.clonePointerEvent(this)}}])}(Am),qv=function(n){function e(){return ti(this,e),Mo(this,e,arguments)}return so(e,n),ri(e,[{key:"clone",value:function(){return this.manager.cloneWheelEvent(this)}}])}(Am),Va=function(n){function e(t,i){var r;return ti(this,e),(r=Mo(this,e,[null])).type=t,r.detail=i,Object.assign(r,i),r}return so(e,n),ri(e)}(Fp),xk=new WeakMap,Bp=function(){return ri(function n(){ti(this,n),this.emitter=new Gx},[{key:"on",value:function(e,t,i){return this.addEventListener(e,t,i),this}},{key:"addEventListener",value:function(e,t,i){var r=!1,o=!1;if(zn.isBoolean(i))r=i;else if(i){var s=i.capture;r=void 0!==s&&s;var a=i.once;o=void 0!==a&&a}r&&(e+="capture"),t=zn.isFunction(t)?t:t.handleEvent;var l=zn.isFunction(t)?void 0:t;return o?this.emitter.once(e,t,l):this.emitter.on(e,t,l),this}},{key:"off",value:function(e,t,i){return e?this.removeEventListener(e,t,i):this.removeAllEventListeners(),this}},{key:"removeAllEventListeners",value:function(){var e;null===(e=this.emitter)||void 0===e||e.removeAllListeners()}},{key:"removeEventListener",value:function(e,t,i){var r;if(!this.emitter)return this;(zn.isBoolean(i)?i:i?.capture)&&(e+="capture"),t=zn.isFunction(t)?t:null===(r=t)||void 0===r?void 0:r.handleEvent;var s=zn.isFunction(t)?void 0:t;return this.emitter.off(e,t,s),this}},{key:"emit",value:function(e,t){this.dispatchEvent(new Va(e,t))}},{key:"dispatchEvent",value:function(e){var r,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=xk.get(this);if(i||(i=this.document?this:this.defaultView?this.defaultView:null===(r=this.ownerDocument)||void 0===r?void 0:r.defaultView)&&xk.set(this,i),i){if(e.manager=i.getEventService(),!e.manager)return!1;e.defaultPrevented=!1,e.path?e.path.length=0:e.page=[],t||(e.target=this),e.manager.dispatchEvent(e,e.type,t)}else this.emitter.emit(e.type,e);return!e.defaultPrevented}}])}(),Co=function(n){function e(){var t;ti(this,e);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=Mo(this,e,[].concat(r))).shadow=!1,t.ownerDocument=null,t.isConnected=!1,t.baseURI="",t.childNodes=[],t.nodeType=0,t.nodeName="",t.nodeValue=null,t.parentNode=null,t}return so(e,n),ri(e,[{key:"textContent",get:function(){var t="";this.nodeName===di.TEXT&&(t+=this.style.text);var r,i=um(this.childNodes);try{for(i.s();!(r=i.n()).done;){var o=r.value;t+=o.nodeName===di.TEXT?o.nodeValue:o.textContent}}catch(s){i.e(s)}finally{i.f()}return t},set:function(t){var i=this;this.childNodes.slice().forEach(function(r){i.removeChild(r)}),this.nodeName===di.TEXT&&(this.style.text="".concat(t))}},{key:"getRootNode",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.parentNode?this.parentNode.getRootNode(t):t.composed&&this.host?this.host.getRootNode(t):this}},{key:"hasChildNodes",value:function(){return this.childNodes.length>0}},{key:"isDefaultNamespace",value:function(t){throw new Error(Zo)}},{key:"lookupNamespaceURI",value:function(t){throw new Error(Zo)}},{key:"lookupPrefix",value:function(t){throw new Error(Zo)}},{key:"normalize",value:function(){throw new Error(Zo)}},{key:"isEqualNode",value:function(t){return this===t}},{key:"isSameNode",value:function(t){return this.isEqualNode(t)}},{key:"parent",get:function(){return this.parentNode}},{key:"parentElement",get:function(){return null}},{key:"nextSibling",get:function(){return null}},{key:"previousSibling",get:function(){return null}},{key:"firstChild",get:function(){return this.childNodes.length>0?this.childNodes[0]:null}},{key:"lastChild",get:function(){return this.childNodes.length>0?this.childNodes[this.childNodes.length-1]:null}},{key:"compareDocumentPosition",value:function(t){if(t===this)return 0;for(var i=t,r=this,o=[i],s=[r];null!==(a=i.parentNode)&&void 0!==a?a:r.parentNode;){var a;i=i.parentNode?(o.push(i.parentNode),i.parentNode):i,r=r.parentNode?(s.push(r.parentNode),r.parentNode):r}if(i!==r)return e.DOCUMENT_POSITION_DISCONNECTED|e.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC|e.DOCUMENT_POSITION_PRECEDING;var l=o.length>s.length?o:s,u=l===o?s:o;if(l[l.length-u.length]===u[0])return l===o?e.DOCUMENT_POSITION_CONTAINED_BY|e.DOCUMENT_POSITION_FOLLOWING:e.DOCUMENT_POSITION_CONTAINS|e.DOCUMENT_POSITION_PRECEDING;for(var d=l.length-u.length,f=u.length-1;f>=0;f--){var m=u[f],y=l[d+f];if(y!==m){var b=m.parentNode.childNodes;return b.indexOf(m)<b.indexOf(y)?u===o?e.DOCUMENT_POSITION_PRECEDING:e.DOCUMENT_POSITION_FOLLOWING:l===o?e.DOCUMENT_POSITION_PRECEDING:e.DOCUMENT_POSITION_FOLLOWING}}return e.DOCUMENT_POSITION_FOLLOWING}},{key:"contain",value:function(t){return this.contains(t)}},{key:"contains",value:function(t){for(var i=t;i&&this!==i;)i=i.parentNode;return!!i}},{key:"getAncestor",value:function(t){for(var i=this;t>0&&i;)i=i.parentNode,t--;return i}},{key:"forEach",value:function(t){for(var i=[this];i.length>0;){var r=i.pop();if(!1===t(r))break;for(var s=r.childNodes.length-1;s>=0;s--)i.push(r.childNodes[s])}}}],[{key:"isNode",value:function(t){return!!t.childNodes}}])}(Bp);Co.DOCUMENT_POSITION_DISCONNECTED=1,Co.DOCUMENT_POSITION_PRECEDING=2,Co.DOCUMENT_POSITION_FOLLOWING=4,Co.DOCUMENT_POSITION_CONTAINS=8,Co.DOCUMENT_POSITION_CONTAINED_BY=16,Co.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC=32;var Mk=function(){return ri(function n(e,t){var i=this;ti(this,n),this.emitter=new Gx,this.nativeHTMLMap=new WeakMap,this.cursor="default",this.mappingTable={},this.mappingState={trackingData:{}},this.eventPool=new Map,this.tmpMatrix=zt.mat4.create(),this.tmpVec3=zt.vec3.create(),this.onPointerDown=function(r){var o=i.createPointerEvent(r);i.dispatchEvent(o,"pointerdown"),"touch"===o.pointerType?i.dispatchEvent(o,"touchstart"):"mouse"!==o.pointerType&&"pen"!==o.pointerType||i.dispatchEvent(o,2===o.button?"rightdown":"mousedown"),i.trackingData(r.pointerId).pressTargetsByButton[r.button]=o.composedPath(),i.freeEvent(o)},this.onPointerUp=function(r){var o=pb.now(),s=i.createPointerEvent(r,void 0,void 0,i.context.config.alwaysTriggerPointerEventOnCanvas?i.rootTarget:void 0);i.dispatchEvent(s,"pointerup"),"touch"===s.pointerType?i.dispatchEvent(s,"touchend"):"mouse"!==s.pointerType&&"pen"!==s.pointerType||i.dispatchEvent(s,2===s.button?"rightup":"mouseup");var l=i.trackingData(r.pointerId),u=i.findMountedTarget(l.pressTargetsByButton[r.button]),d=u;if(u&&!s.composedPath().includes(u)){for(var f=u;f&&!s.composedPath().includes(f);)s.currentTarget=f,i.notifyTarget(s,"pointerupoutside"),"touch"===s.pointerType?i.notifyTarget(s,"touchendoutside"):"mouse"!==s.pointerType&&"pen"!==s.pointerType||i.notifyTarget(s,2===s.button?"rightupoutside":"mouseupoutside"),Co.isNode(f)&&(f=f.parentNode);delete l.pressTargetsByButton[r.button],d=f}if(d){var y,b=i.clonePointerEvent(s,"click");b.target=d,b.path=[],l.clicksByButton[r.button]||(l.clicksByButton[r.button]={clickCount:0,target:b.target,timeStamp:o});var w=l.clicksByButton[r.button];w.target===b.target&&o-w.timeStamp<i.context.renderingContext.root.ownerDocument.defaultView.dblClickSpeed?++w.clickCount:w.clickCount=1,w.target=b.target,w.timeStamp=o,b.detail=w.clickCount,null!==(y=s.detail)&&void 0!==y&&y.preventClick||(!i.context.config.useNativeClickEvent&&("mouse"===b.pointerType||"touch"===b.pointerType)&&i.dispatchEvent(b,"click"),i.dispatchEvent(b,"pointertap")),i.freeEvent(b)}i.freeEvent(s)},this.onPointerMove=function(r){var o=i.createPointerEvent(r,void 0,void 0,i.context.config.alwaysTriggerPointerEventOnCanvas?i.rootTarget:void 0),s="mouse"===o.pointerType||"pen"===o.pointerType,a=i.trackingData(r.pointerId),l=i.findMountedTarget(a.overTargets);if(a.overTargets&&l!==o.target){var d=i.createPointerEvent(r,"mousemove"===r.type?"mouseout":"pointerout",l||void 0);if(i.dispatchEvent(d,"pointerout"),s&&i.dispatchEvent(d,"mouseout"),!o.composedPath().includes(l)){var f=i.createPointerEvent(r,"pointerleave",l||void 0);for(f.eventPhase=f.AT_TARGET;f.target&&!o.composedPath().includes(f.target);)f.currentTarget=f.target,i.notifyTarget(f),s&&i.notifyTarget(f,"mouseleave"),Co.isNode(f.target)&&(f.target=f.target.parentNode);i.freeEvent(f)}i.freeEvent(d)}if(l!==o.target){var y=i.clonePointerEvent(o,"mousemove"===r.type?"mouseover":"pointerover");i.dispatchEvent(y,"pointerover"),s&&i.dispatchEvent(y,"mouseover");for(var b=l&&Co.isNode(l)&&l.parentNode;b&&b!==(Co.isNode(i.rootTarget)&&i.rootTarget.parentNode)&&b!==o.target;)b=b.parentNode;if(!b||b===(Co.isNode(i.rootTarget)&&i.rootTarget.parentNode)){var w=i.clonePointerEvent(o,"pointerenter");for(w.eventPhase=w.AT_TARGET;w.target&&w.target!==l&&w.target!==(Co.isNode(i.rootTarget)&&i.rootTarget.parentNode);)w.currentTarget=w.target,i.notifyTarget(w),s&&i.notifyTarget(w,"mouseenter"),Co.isNode(w.target)&&(w.target=w.target.parentNode);i.freeEvent(w)}i.freeEvent(y)}i.dispatchEvent(o,"pointermove"),"touch"===o.pointerType&&i.dispatchEvent(o,"touchmove"),s&&(i.dispatchEvent(o,"mousemove"),i.cursor=i.getCursor(o.target)),a.overTargets=o.composedPath(),i.freeEvent(o)},this.onPointerOut=function(r){var o=i.trackingData(r.pointerId);if(o.overTargets){var s="mouse"===r.pointerType||"pen"===r.pointerType,a=i.findMountedTarget(o.overTargets),l=i.createPointerEvent(r,"pointerout",a||void 0);i.dispatchEvent(l),s&&i.dispatchEvent(l,"mouseout");var u=i.createPointerEvent(r,"pointerleave",a||void 0);for(u.eventPhase=u.AT_TARGET;u.target&&u.target!==(Co.isNode(i.rootTarget)&&i.rootTarget.parentNode);)u.currentTarget=u.target,i.notifyTarget(u),s&&i.notifyTarget(u,"mouseleave"),Co.isNode(u.target)&&(u.target=u.target.parentNode);o.overTargets=null,i.freeEvent(l),i.freeEvent(u)}i.cursor=null},this.onPointerOver=function(r){var o=i.trackingData(r.pointerId),s=i.createPointerEvent(r),a="mouse"===s.pointerType||"pen"===s.pointerType;i.dispatchEvent(s,"pointerover"),a&&i.dispatchEvent(s,"mouseover"),"mouse"===s.pointerType&&(i.cursor=i.getCursor(s.target));var l=i.clonePointerEvent(s,"pointerenter");for(l.eventPhase=l.AT_TARGET;l.target&&l.target!==(Co.isNode(i.rootTarget)&&i.rootTarget.parentNode);)l.currentTarget=l.target,i.notifyTarget(l),a&&i.notifyTarget(l,"mouseenter"),Co.isNode(l.target)&&(l.target=l.target.parentNode);o.overTargets=s.composedPath(),i.freeEvent(s),i.freeEvent(l)},this.onPointerUpOutside=function(r){var o=i.trackingData(r.pointerId),s=i.findMountedTarget(o.pressTargetsByButton[r.button]),a=i.createPointerEvent(r);if(s){for(var l=s;l;)a.currentTarget=l,i.notifyTarget(a,"pointerupoutside"),"touch"===a.pointerType||("mouse"===a.pointerType||"pen"===a.pointerType)&&i.notifyTarget(a,2===a.button?"rightupoutside":"mouseupoutside"),Co.isNode(l)&&(l=l.parentNode);delete o.pressTargetsByButton[r.button]}i.freeEvent(a)},this.onWheel=function(r){var o=i.createWheelEvent(r);i.dispatchEvent(o),i.freeEvent(o)},this.onClick=function(r){if(i.context.config.useNativeClickEvent){var o=i.createPointerEvent(r);i.dispatchEvent(o),i.freeEvent(o)}},this.onPointerCancel=function(r){var o=i.createPointerEvent(r,void 0,void 0,i.context.config.alwaysTriggerPointerEventOnCanvas?i.rootTarget:void 0);i.dispatchEvent(o),i.freeEvent(o)},this.globalRuntime=e,this.context=t},[{key:"init",value:function(){this.rootTarget=this.context.renderingContext.root.parentNode,this.addEventMapping("pointerdown",this.onPointerDown),this.addEventMapping("pointerup",this.onPointerUp),this.addEventMapping("pointermove",this.onPointerMove),this.addEventMapping("pointerout",this.onPointerOut),this.addEventMapping("pointerleave",this.onPointerOut),this.addEventMapping("pointercancel",this.onPointerCancel),this.addEventMapping("pointerover",this.onPointerOver),this.addEventMapping("pointerupoutside",this.onPointerUpOutside),this.addEventMapping("wheel",this.onWheel),this.addEventMapping("click",this.onClick)}},{key:"destroy",value:function(){this.emitter.removeAllListeners(),this.mappingTable={},this.mappingState={},this.eventPool.clear()}},{key:"getScale",value:function(){var e=this.context.contextService.getBoundingClientRect(),t=1,i=1,r=this.context.contextService.getDomElement();if(r&&e){var o=r.offsetWidth,s=r.offsetHeight;o&&s&&(t=e.width/o,i=e.height/s)}return{scaleX:t,scaleY:i,bbox:e}}},{key:"client2Viewport",value:function(e){var t=this.getScale(),i=t.scaleX,r=t.scaleY,o=t.bbox;return new ks((e.x-(o?.left||0))/i,(e.y-(o?.top||0))/r)}},{key:"viewport2Client",value:function(e){var t=this.getScale(),i=t.scaleX,r=t.scaleY,o=t.bbox;return new ks((e.x+(o?.left||0))*i,(e.y+(o?.top||0))*r)}},{key:"viewport2Canvas",value:function(e){var t=e.x,i=e.y,o=this.rootTarget.defaultView.getCamera(),s=this.context.config,a=s.width,l=s.height,u=o.getPerspectiveInverse(),d=o.getWorldTransform(),f=zt.mat4.multiply(this.tmpMatrix,d,u),m=zt.vec3.set(this.tmpVec3,t/a*2-1,2*(1-i/l)-1,0);return zt.vec3.transformMat4(m,m,f),new ks(m[0],m[1])}},{key:"canvas2Viewport",value:function(e){var i=this.rootTarget.defaultView.getCamera(),r=i.getPerspective(),o=i.getViewTransform(),s=zt.mat4.multiply(this.tmpMatrix,r,o),a=zt.vec3.set(this.tmpVec3,e.x,e.y,0);zt.vec3.transformMat4(this.tmpVec3,this.tmpVec3,s);var l=this.context.config;return new ks((a[0]+1)/2*l.width,(1-(a[1]+1)/2)*l.height)}},{key:"setPickHandler",value:function(e){this.pickHandler=e}},{key:"addEventMapping",value:function(e,t){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:t,priority:0}),this.mappingTable[e].sort(function(i,r){return i.priority-r.priority})}},{key:"mapEvent",value:function(e){if(this.rootTarget){var t=this.mappingTable[e.type];if(t)for(var i=0,r=t.length;i<r;i++)t[i].fn(e);else console.warn("[EventService]: Event mapping not defined for ".concat(e.type))}}},{key:"dispatchEvent",value:function(e,t,i){i?(e.eventPhase=e.AT_TARGET,e.currentTarget=this.rootTarget.defaultView||null,this.notifyListeners(e,t)):(e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,t)),this.emitter.emit(t||e.type,e)}},{key:"propagate",value:function(e,t){if(e.target){var i=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(var r=i.length-1;r>=1;r--)if(e.currentTarget=i[r],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,t),!e.propagationStopped&&!e.propagationImmediatelyStopped){var o=i.indexOf(e.currentTarget);e.eventPhase=e.BUBBLING_PHASE;for(var s=o+1;s<i.length;s++)if(e.currentTarget=i[s],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return}}}},{key:"propagationPath",value:function(e){var t=[e],i=this.rootTarget.defaultView||null;if(i&&i===e)return t.unshift(i.document),t;for(var r=0;r<2048&&e!==this.rootTarget;r++)Co.isNode(e)&&e.parentNode&&(t.push(e.parentNode),e=e.parentNode);return i&&t.push(i),t}},{key:"hitTest",value:function(e){var t=e.viewportX,i=e.viewportY,r=this.context.config;return t<0||i<0||t>r.width||i>r.height?null:!r.disableHitTesting&&this.pickHandler(e)||this.rootTarget||null}},{key:"isNativeEventFromCanvas",value:function(e,t){var i,r=t?.target;if(null!==(i=r)&&void 0!==i&&i.shadowRoot&&(r=t.composedPath()[0]),r){if(r===e)return!0;if(e&&e.contains)return e.contains(r)}return!(null==t||!t.composedPath)&&t.composedPath().indexOf(e)>-1}},{key:"getExistedHTML",value:function(e){if(e.nativeEvent.composedPath)for(var t=0,i=e.nativeEvent.composedPath();t<i.length;t++){var o=this.nativeHTMLMap.get(i[t]);if(o)return o}return null}},{key:"pickTarget",value:function(e){return this.hitTest({clientX:e.clientX,clientY:e.clientY,viewportX:e.viewportX,viewportY:e.viewportY,x:e.canvasX,y:e.canvasY})}},{key:"createPointerEvent",value:function(e,t,i,r){var o=this.allocateEvent(Sa);this.copyPointerData(e,o),this.copyMouseData(e,o),this.copyData(e,o),o.nativeEvent=e.nativeEvent,o.originalEvent=e;var s=this.getExistedHTML(o),a=this.context.contextService.getDomElement();return o.target=i??(s||this.isNativeEventFromCanvas(a,o.nativeEvent)&&this.pickTarget(o)||r),"string"==typeof t&&(o.type=t),o}},{key:"createWheelEvent",value:function(e){var t=this.allocateEvent(qv);this.copyWheelData(e,t),this.copyMouseData(e,t),this.copyData(e,t),t.nativeEvent=e.nativeEvent,t.originalEvent=e;var i=this.getExistedHTML(t),r=this.context.contextService.getDomElement();return t.target=i||this.isNativeEventFromCanvas(r,t.nativeEvent)&&this.pickTarget(t),t}},{key:"trackingData",value:function(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}},{key:"cloneWheelEvent",value:function(e){var t=this.allocateEvent(qv);return t.nativeEvent=e.nativeEvent,t.originalEvent=e.originalEvent,this.copyWheelData(e,t),this.copyMouseData(e,t),this.copyData(e,t),t.target=e.target,t.path=e.composedPath().slice(),t.type=e.type,t}},{key:"clonePointerEvent",value:function(e,t){var i=this.allocateEvent(Sa);return i.nativeEvent=e.nativeEvent,i.originalEvent=e.originalEvent,this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.target=e.target,i.path=e.composedPath().slice(),i.type=t??i.type,i}},{key:"copyPointerData",value:function(e,t){t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist}},{key:"copyMouseData",value:function(e,t){t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.shiftKey=e.shiftKey,t.client.copyFrom(e.client),t.movement.copyFrom(e.movement),t.canvas.copyFrom(e.canvas),t.screen.copyFrom(e.screen),t.global.copyFrom(e.global),t.offset.copyFrom(e.offset)}},{key:"copyWheelData",value:function(e,t){t.deltaMode=e.deltaMode,t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ}},{key:"copyData",value:function(e,t){t.isTrusted=e.isTrusted,t.timeStamp=pb.now(),t.type=e.type,t.detail=e.detail,t.view=e.view,t.page.copyFrom(e.page),t.viewport.copyFrom(e.viewport)}},{key:"allocateEvent",value:function(e){this.eventPool.has(e)||this.eventPool.set(e,[]);var t=this.eventPool.get(e).pop()||new e(this);return t.eventPhase=t.NONE,t.currentTarget=null,t.path=[],t.target=null,t}},{key:"freeEvent",value:function(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");var t=e.constructor;this.eventPool.has(t)||this.eventPool.set(t,[]),this.eventPool.get(t).push(e)}},{key:"notifyTarget",value:function(e,t){var i;t=null!==(i=t)&&void 0!==i?i:e.type;var r=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?"".concat(t,"capture"):t;this.notifyListeners(e,r),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,t)}},{key:"notifyListeners",value:function(e,t){var i=e.currentTarget.emitter,r=i._events[t];if(r)if("fn"in r)r.once&&i.removeListener(t,r.fn,void 0,!0),r.fn.call(e.currentTarget||r.context,e);else for(var o=0;o<r.length&&!e.propagationImmediatelyStopped;o++)r[o].once&&i.removeListener(t,r[o].fn,void 0,!0),r[o].fn.call(e.currentTarget||r[o].context,e)}},{key:"findMountedTarget",value:function(e){if(!e)return null;for(var t=e[e.length-1],i=e.length-2;i>=0;i--){var r=e[i];if(!(r===this.rootTarget||Co.isNode(r)&&r.parentNode===t))break;t=e[i]}return t}},{key:"getCursor",value:function(e){for(var t=e;t;){var i=J6(t)&&t.getAttribute("cursor");if(i)return i;t=Co.isNode(t)&&t.parentNode}}}])}(),NM=function(){return ri(function n(){ti(this,n)},[{key:"getOrCreateCanvas",value:function(e,t){if(this.canvas)return this.canvas;if(e||Nn.offscreenCanvas)this.canvas=e||Nn.offscreenCanvas,this.context=this.canvas.getContext("2d",vo({willReadFrequently:!0},t));else try{this.canvas=new window.OffscreenCanvas(0,0),this.context=this.canvas.getContext("2d",vo({willReadFrequently:!0},t)),(!this.context||!this.context.measureText)&&(this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"))}catch{this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d",vo({willReadFrequently:!0},t))}return this.canvas.width=10,this.canvas.height=10,this.canvas}},{key:"getOrCreateContext",value:function(e,t){return this.context||this.getOrCreateCanvas(e,t),this.context}}],[{key:"createCanvas",value:function(){try{return new window.OffscreenCanvas(0,0)}catch{}try{return document.createElement("canvas")}catch{}return null}}])}(),sh=function(n){return n[n.CAMERA_CHANGED=0]="CAMERA_CHANGED",n[n.DISPLAY_OBJECT_CHANGED=1]="DISPLAY_OBJECT_CHANGED",n[n.NONE=2]="NONE",n}({}),Ck=function(){return ri(function n(e,t){ti(this,n),this.inited=!1,this.stats={total:0,rendered:0},this.zIndexCounter=0,this.hooks={init:new ol,initAsync:new sF,dirtycheck:new Dm,cull:new Dm,beginFrame:new ol,beforeRender:new ol,render:new ol,afterRender:new ol,endFrame:new ol,destroy:new ol,pick:new aF,pickSync:new Dm,pointerDown:new ol,pointerUp:new ol,pointerMove:new ol,pointerOut:new ol,pointerOver:new ol,pointerWheel:new ol,pointerCancel:new ol,click:new ol},this.globalRuntime=e,this.context=t},[{key:"init",value:function(e){var t=this,i=vo(vo({},this.globalRuntime),this.context);this.context.renderingPlugins.forEach(function(r){r.apply(i,t.globalRuntime)}),this.hooks.init.call(),0===this.hooks.initAsync.getCallbacksNum()?(this.inited=!0,e()):this.hooks.initAsync.promise().then(function(){t.inited=!0,e()}).catch(function(r){})}},{key:"getStats",value:function(){return this.stats}},{key:"disableDirtyRectangleRendering",value:function(){return!this.context.config.renderer.getConfig().enableDirtyRectangleRendering||this.context.renderingContext.renderReasons.has(sh.CAMERA_CHANGED)}},{key:"render",value:function(e,t,i){var r=this;this.stats.total=0,this.stats.rendered=0,this.zIndexCounter=0;var o=this.context.renderingContext;if(this.globalRuntime.sceneGraphService.syncHierarchy(o.root),this.globalRuntime.sceneGraphService.triggerPendingEvents(),o.renderReasons.size&&this.inited){o.dirtyRectangleRenderingDisabled=this.disableDirtyRectangleRendering();var s=1===o.renderReasons.size&&o.renderReasons.has(sh.CAMERA_CHANGED),a=!e.disableRenderHooks||!(e.disableRenderHooks&&s);a&&this.renderDisplayObject(o.root,e,o),this.hooks.beginFrame.call(t),a&&o.renderListCurrentFrame.forEach(function(l){r.hooks.beforeRender.call(l),r.hooks.render.call(l),r.hooks.afterRender.call(l)}),this.hooks.endFrame.call(t),o.renderListCurrentFrame=[],o.renderReasons.clear(),i()}}},{key:"renderDisplayObject",value:function(e,t,i){var r=this,o=t.renderer.getConfig(),s=o.enableDirtyCheck,a=o.enableCulling;function l(y){var b=y.renderable,E=y.sortable,w=s?b.dirty||i.dirtyRectangleRenderingDisabled?y:null:y;if(w){var M=a?r.hooks.cull.call(w,r.context.camera):w;M&&(r.stats.rendered+=1,i.renderListCurrentFrame.push(M))}b.dirty=!1,E.renderOrder=r.zIndexCounter,r.zIndexCounter+=1,r.stats.total+=1,E.dirty&&(r.sort(y,E),E.dirty=!1,E.dirtyChildren=[],E.dirtyReason=void 0)}for(var u=[e];u.length>0;){var d=u.pop();l(d);for(var f=d.sortable.sorted||d.childNodes,m=f.length-1;m>=0;m--)u.push(f[m])}}},{key:"sort",value:function(e,t){t.sorted&&t.dirtyReason!==mm.Z_INDEX_CHANGED?t.dirtyChildren.forEach(function(i){if(-1===e.childNodes.indexOf(i)){var o=t.sorted.indexOf(i);o>=0&&t.sorted.splice(o,1)}else if(0===t.sorted.length)t.sorted.push(i);else{var s=function tF(n,e){for(var t=0,i=n.length;t<i;){var r=t+i>>>1;ck(n[r],e)<0?t=r+1:i=r}return t}(t.sorted,i);t.sorted.splice(s,0,i)}}):t.sorted=e.childNodes.slice().sort(ck)}},{key:"destroy",value:function(){this.inited=!1,this.hooks.destroy.call(),this.globalRuntime.sceneGraphService.clearPendingEvents()}},{key:"dirtify",value:function(){this.context.renderingContext.renderReasons.add(sh.DISPLAY_OBJECT_CHANGED)}}])}(),hF=/\[\s*(.*)=(.*)\s*\]/,Sk=function(){return ri(function n(){ti(this,n)},[{key:"selectOne",value:function(e,t){var i=this;if(e.startsWith("."))return t.find(function(a){return(a?.classList||[]).indexOf(i.getIdOrClassname(e))>-1});if(e.startsWith("#"))return t.find(function(a){return a.id===i.getIdOrClassname(e)});if(e.startsWith("[")){var r=this.getAttribute(e),o=r.name,s=r.value;return o?t.find(function(a){return t!==a&&("name"===o?a.name===s:i.attributeToString(a,o)===s)}):null}return t.find(function(a){return t!==a&&a.nodeName===e})}},{key:"selectAll",value:function(e,t){var i=this;if(e.startsWith("."))return t.findAll(function(a){return t!==a&&(a?.classList||[]).indexOf(i.getIdOrClassname(e))>-1});if(e.startsWith("#"))return t.findAll(function(a){return t!==a&&a.id===i.getIdOrClassname(e)});if(e.startsWith("[")){var r=this.getAttribute(e),o=r.name,s=r.value;return o?t.findAll(function(a){return t!==a&&("name"===o?a.name===s:i.attributeToString(a,o)===s)}):[]}return t.findAll(function(a){return t!==a&&a.nodeName===e})}},{key:"is",value:function(e,t){if(e.startsWith("."))return t.className===this.getIdOrClassname(e);if(e.startsWith("#"))return t.id===this.getIdOrClassname(e);if(e.startsWith("[")){var i=this.getAttribute(e),r=i.name,o=i.value;return"name"===r?t.name===o:this.attributeToString(t,r)===o}return t.nodeName===e}},{key:"getIdOrClassname",value:function(e){return e.substring(1)}},{key:"getAttribute",value:function(e){var t=e.match(hF),i="",r="";return t&&t.length>2&&(i=t[1].replace(/"/g,""),r=t[2].replace(/"/g,"")),{name:i,value:r}}},{key:"attributeToString",value:function(e,t){if(!e.getAttribute)return"";var i=e.getAttribute(t);return zn.isNil(i)?"":i.toString?i.toString():""}}])}(),Is=function(n){return n.REPARENT="reparent",n.DESTROY="destroy",n.ATTR_MODIFIED="DOMAttrModified",n.INSERTED="DOMNodeInserted",n.REMOVED="removed",n.MOUNTED="DOMNodeInsertedIntoDocument",n.UNMOUNTED="DOMNodeRemovedFromDocument",n.BOUNDS_CHANGED="bounds-changed",n.CULLED="culled",n}({}),Nc=function(n){function e(t,i,r,o,s,a,l,u){var d;return ti(this,e),(d=Mo(this,e,[null])).relatedNode=i,d.prevValue=r,d.newValue=o,d.attrName=s,d.attrChange=a,d.prevParsedValue=l,d.newParsedValue=u,d.type=t,d}return so(e,n),ri(e)}(Fp);function LM(n){var e=n.renderable;e&&(e.renderBoundsDirty=!0,e.boundsDirty=!0)}Nc.ADDITION=2,Nc.MODIFICATION=1,Nc.REMOVAL=3;var fF=new Nc(Is.REPARENT,null,"","","",0,"",""),Dk=zt.vec2.create(),_b=zt.vec3.create(),T$=zt.vec3.fromValues(1,1,1),A$=zt.mat4.create(),O$=zt.vec2.create(),jp=zt.vec3.create(),Vp=zt.mat4.create(),bu=zt.quat.create(),pF=zt.vec3.create(),mF=zt.quat.create(),Tk=zt.vec3.create(),ah=zt.vec3.create(),zp=zt.vec3.create(),Eb=zt.mat4.create(),Ak=zt.quat.create(),Ok=zt.quat.create(),FM=zt.quat.create(),BM={affectChildren:!0},jM=function(){return ri(function n(e){ti(this,n),this.pendingEvents=new Map,this.boundsChangedEvent=new Va(Is.BOUNDS_CHANGED),this.displayObjectDependencyMap=new WeakMap,this.runtime=e},[{key:"matches",value:function(e,t){return this.runtime.sceneGraphSelector.is(e,t)}},{key:"querySelector",value:function(e,t){return this.runtime.sceneGraphSelector.selectOne(e,t)}},{key:"querySelectorAll",value:function(e,t){return this.runtime.sceneGraphSelector.selectAll(e,t)}},{key:"attach",value:function(e,t,i){var r,o=!1;e.parentNode&&(o=e.parentNode!==t,this.detach(e));var s=e.nodeName===di.FRAGMENT,a=mb(t);e.parentNode=t;var l=s?e.childNodes:[e];zn.isNumber(i)?l.forEach(function(m){t.childNodes.splice(i,0,m),m.parentNode=t}):l.forEach(function(m){t.childNodes.push(m),m.parentNode=t});var d=t.sortable;if((null!=d&&null!==(r=d.sorted)&&void 0!==r&&r.length||e.parsedStyle.zIndex)&&(-1===d.dirtyChildren.indexOf(e)&&d.dirtyChildren.push(e),d.dirty=!0,d.dirtyReason=mm.ADDED),!a){if(s)this.dirtifyFragment(e);else{var f=e.transformable;f&&this.dirtifyWorld(e,f)}o&&e.dispatchEvent(fF)}}},{key:"detach",value:function(e){if(e.parentNode){var t,i,r=e.transformable,s=e.parentNode.sortable;(null!=s&&null!==(t=s.sorted)&&void 0!==t&&t.length||null!==(i=e.style)&&void 0!==i&&i.zIndex)&&(-1===s.dirtyChildren.indexOf(e)&&s.dirtyChildren.push(e),s.dirty=!0,s.dirtyReason=mm.REMOVED);var a=e.parentNode.childNodes.indexOf(e);a>-1&&e.parentNode.childNodes.splice(a,1),r&&this.dirtifyWorld(e,r),e.parentNode=null}}},{key:"getOrigin",value:function(e){return e.getGeometryBounds(),e.transformable.origin}},{key:"setOrigin",value:function(e,t){"number"==typeof t&&(t=[t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:0]);var o=e.transformable;if(t[0]!==o.origin[0]||t[1]!==o.origin[1]||t[2]!==o.origin[2]){var s=o.origin;s[0]=t[0],s[1]=t[1],s[2]=t[2]||0,this.dirtifyLocal(e,o)}}},{key:"rotate",value:function(e,t){"number"==typeof t&&(t=zt.vec3.fromValues(t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:0));var o=e.transformable;if(null!==e.parentNode&&e.parentNode.transformable){var s=bu;zt.quat.fromEuler(s,t[0],t[1],t[2]);var a=this.getRotation(e),l=this.getRotation(e.parentNode);zt.quat.copy(FM,l),zt.quat.invert(FM,FM),zt.quat.multiply(s,FM,s),zt.quat.multiply(o.localRotation,s,a),zt.quat.normalize(o.localRotation,o.localRotation),this.dirtifyLocal(e,o)}else this.rotateLocal(e,t)}},{key:"rotateLocal",value:function(e,t){"number"==typeof t&&(t=zt.vec3.fromValues(t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:0));var o=e.transformable;zt.quat.fromEuler(Ok,t[0],t[1],t[2]),zt.quat.mul(o.localRotation,o.localRotation,Ok),this.dirtifyLocal(e,o)}},{key:"setEulerAngles",value:function(e,t){"number"==typeof t&&(t=zt.vec3.fromValues(t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:0));var o=e.transformable;if(null!==e.parentNode&&e.parentNode.transformable){zt.quat.fromEuler(o.localRotation,t[0],t[1],t[2]);var s=this.getRotation(e.parentNode);zt.quat.copy(Ak,zt.quat.invert(bu,s)),zt.quat.mul(o.localRotation,o.localRotation,Ak),this.dirtifyLocal(e,o)}else this.setLocalEulerAngles(e,t)}},{key:"setLocalEulerAngles",value:function(e,t){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];"number"==typeof t&&(t=zt.vec3.fromValues(t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:0));var s=e.transformable;zt.quat.fromEuler(s.localRotation,t[0],t[1],t[2]),o&&this.dirtifyLocal(e,s)}},{key:"translateLocal",value:function(e,t){"number"==typeof t&&(t=zt.vec3.fromValues(t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:0));var o=e.transformable;zt.vec3.equals(t,_b)||(zt.vec3.transformQuat(t,t,o.localRotation),zt.vec3.add(o.localPosition,o.localPosition,t),this.dirtifyLocal(e,o))}},{key:"setPosition",value:function(e,t){var i,r=e.transformable;zp[0]=t[0],zp[1]=t[1],zp[2]=null!==(i=t[2])&&void 0!==i?i:0,zt.vec3.equals(this.getPosition(e),zp)||(zt.vec3.copy(r.position,zp),null!==e.parentNode&&e.parentNode.transformable?(zt.mat4.copy(Eb,e.parentNode.transformable.worldTransform),zt.mat4.invert(Eb,Eb),zt.vec3.transformMat4(r.localPosition,zp,Eb)):zt.vec3.copy(r.localPosition,zp),this.dirtifyLocal(e,r))}},{key:"setLocalPosition",value:function(e,t){var i,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=e.transformable;ah[0]=t[0],ah[1]=t[1],ah[2]=null!==(i=t[2])&&void 0!==i?i:0,!zt.vec3.equals(o.localPosition,ah)&&(zt.vec3.copy(o.localPosition,ah),r&&this.dirtifyLocal(e,o))}},{key:"scaleLocal",value:function(e,t){var i,r=e.transformable;zt.vec3.multiply(r.localScale,r.localScale,zt.vec3.set(jp,t[0],t[1],null!==(i=t[2])&&void 0!==i?i:1)),this.dirtifyLocal(e,r)}},{key:"setLocalScale",value:function(e,t){var i,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=e.transformable;zt.vec3.set(jp,t[0],t[1],null!==(i=t[2])&&void 0!==i?i:o.localScale[2]),!zt.vec3.equals(jp,o.localScale)&&(zt.vec3.copy(o.localScale,jp),r&&this.dirtifyLocal(e,o))}},{key:"translate",value:function(e,t){"number"==typeof t&&(t=zt.vec3.set(jp,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:0)),!zt.vec3.equals(t,_b)&&(zt.vec3.add(jp,this.getPosition(e),t),this.setPosition(e,jp))}},{key:"setRotation",value:function(e,t,i,r,o){var s=e.transformable;if("number"==typeof t&&(t=zt.quat.fromValues(t,i,r,o)),null!==e.parentNode&&e.parentNode.transformable){var a=this.getRotation(e.parentNode);zt.quat.copy(bu,a),zt.quat.invert(bu,bu),zt.quat.multiply(s.localRotation,bu,t),zt.quat.normalize(s.localRotation,s.localRotation),this.dirtifyLocal(e,s)}else this.setLocalRotation(e,t)}},{key:"setLocalRotation",value:function(e,t,i,r,o){var s=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];"number"==typeof t&&(t=zt.quat.set(bu,t,i,r,o));var a=e.transformable;zt.quat.copy(a.localRotation,t),s&&this.dirtifyLocal(e,a)}},{key:"setLocalSkew",value:function(e,t,i){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];"number"==typeof t&&(t=zt.vec2.set(O$,t,i));var o=e.transformable;zt.vec2.copy(o.localSkew,t),r&&this.dirtifyLocal(e,o)}},{key:"dirtifyLocal",value:function(e,t){mb(e)||t.localDirtyFlag||(t.localDirtyFlag=!0,t.dirtyFlag||this.dirtifyWorld(e,t))}},{key:"dirtifyWorld",value:function(e,t){t.dirtyFlag||this.unfreezeParentToRoot(e),this.dirtifyWorldInternal(e,t),this.dirtifyToRoot(e,!0)}},{key:"dirtifyFragment",value:function(e){var t=e.transformable;t&&(t.frozen=!1,t.dirtyFlag=!0,t.localDirtyFlag=!0);var i=e.renderable;i&&(i.renderBoundsDirty=!0,i.boundsDirty=!0,i.dirty=!0);for(var r=e.childNodes.length,o=0;o<r;o++)this.dirtifyFragment(e.childNodes[o]);e.nodeName===di.FRAGMENT&&this.pendingEvents.set(e,!1)}},{key:"triggerPendingEvents",value:function(){var e=this,t=new Set,i=function(r,o){!r.isConnected||t.has(r)||r.nodeName===di.FRAGMENT||(e.boundsChangedEvent.detail=o,e.boundsChangedEvent.target=r,r.isMutationObserved?r.dispatchEvent(e.boundsChangedEvent):r.ownerDocument.defaultView.dispatchEvent(e.boundsChangedEvent,!0),t.add(r))};this.pendingEvents.forEach(function(r,o){o.nodeName!==di.FRAGMENT&&(BM.affectChildren=r,r?o.forEach(function(s){i(s,BM)}):i(o,BM))}),t.clear(),this.clearPendingEvents()}},{key:"clearPendingEvents",value:function(){this.pendingEvents.clear()}},{key:"dirtifyToRoot",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=e;for(i.renderable&&(i.renderable.dirty=!0);i;)LM(i),i=i.parentNode;t&&e.forEach(function(r){LM(r)}),this.informDependentDisplayObjects(e),this.pendingEvents.set(e,t)}},{key:"updateDisplayObjectDependency",value:function(e,t,i,r){if(t&&t!==i){var o=this.displayObjectDependencyMap.get(t);if(o&&o[e]){var s=o[e].indexOf(r);o[e].splice(s,1)}}if(i){var a=this.displayObjectDependencyMap.get(i);a||(this.displayObjectDependencyMap.set(i,{}),a=this.displayObjectDependencyMap.get(i)),a[e]||(a[e]=[]),a[e].push(r)}}},{key:"informDependentDisplayObjects",value:function(e){var t=this,i=this.displayObjectDependencyMap.get(e);i&&Object.keys(i).forEach(function(r){i[r].forEach(function(o){t.dirtifyToRoot(o,!0),o.dispatchEvent(new Nc(Is.ATTR_MODIFIED,o,t,t,r,Nc.MODIFICATION,t,t)),o.isCustomElement&&o.isConnected&&o.attributeChangedCallback&&o.attributeChangedCallback(r,t,t)})})}},{key:"getPosition",value:function(e){var t=e.transformable;return zt.mat4.getTranslation(t.position,this.getWorldTransform(e,t))}},{key:"getRotation",value:function(e){var t=e.transformable;return zt.mat4.getRotation(t.rotation,this.getWorldTransform(e,t))}},{key:"getScale",value:function(e){var t=e.transformable;return zt.mat4.getScaling(t.scaling,this.getWorldTransform(e,t))}},{key:"getWorldTransform",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transformable;return!t.localDirtyFlag&&!t.dirtyFlag||(e.parentNode&&e.parentNode.transformable&&this.getWorldTransform(e.parentNode),this.sync(e,t)),t.worldTransform}},{key:"getLocalPosition",value:function(e){return e.transformable.localPosition}},{key:"getLocalRotation",value:function(e){return e.transformable.localRotation}},{key:"getLocalScale",value:function(e){return e.transformable.localScale}},{key:"getLocalSkew",value:function(e){return e.transformable.localSkew}},{key:"calcLocalTransform",value:function(e){if(0!==e.localSkew[0]||0!==e.localSkew[1]){zt.mat4.fromRotationTranslationScaleOrigin(e.localTransform,e.localRotation,e.localPosition,zt.vec3.fromValues(1,1,1),e.origin),(0!==e.localSkew[0]||0!==e.localSkew[1])&&(zt.mat4.identity(Vp),Vp[4]=Math.tan(e.localSkew[0]),Vp[1]=Math.tan(e.localSkew[1]),zt.mat4.multiply(e.localTransform,e.localTransform,Vp));var i=zt.mat4.fromRotationTranslationScaleOrigin(Vp,zt.quat.set(bu,0,0,0,1),zt.vec3.set(jp,1,1,1),e.localScale,e.origin);zt.mat4.multiply(e.localTransform,e.localTransform,i)}else{var r=e.localTransform,o=e.localPosition,s=e.localRotation,a=e.localScale,l=e.origin,u=0!==o[0]||0!==o[1]||0!==o[2];1!==s[3]||0!==s[0]||0!==s[1]||0!==s[2]||1!==a[0]||1!==a[1]||1!==a[2]||0!==l[0]||0!==l[1]||0!==l[2]?zt.mat4.fromRotationTranslationScaleOrigin(r,s,o,a,l):u?zt.mat4.fromTranslation(r,o):zt.mat4.identity(r)}}},{key:"getLocalTransform",value:function(e){var t=e.transformable;return t.localDirtyFlag&&(this.calcLocalTransform(t),t.localDirtyFlag=!1),t.localTransform}},{key:"setLocalTransform",value:function(e,t){var i=zt.mat4.getTranslation(pF,t),r=zt.mat4.getRotation(mF,t),o=zt.mat4.getScaling(Tk,t);this.setLocalScale(e,o,!1),this.setLocalPosition(e,i,!1),this.setLocalRotation(e,r,void 0,void 0,void 0,!1),this.dirtifyLocal(e,e.transformable)}},{key:"resetLocalTransform",value:function(e){this.setLocalScale(e,T$,!1),this.setLocalPosition(e,_b,!1),this.setLocalEulerAngles(e,_b,void 0,void 0,!1),this.setLocalSkew(e,Dk,void 0,!1),this.dirtifyLocal(e,e.transformable)}},{key:"getTransformedGeometryBounds",value:function(e){var i=arguments.length>2?arguments[2]:void 0,r=this.getGeometryBounds(e,arguments.length>1&&void 0!==arguments[1]&&arguments[1]);if(!Ca.isEmpty(r)){var o=i||new Ca;return o.setFromTransformedAABB(r,this.getWorldTransform(e)),o}return null}},{key:"getGeometryBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.geometry;return r.dirty&&Nn.styleValueRegistry.updateGeometry(e),(t?r.renderBounds:r.contentBounds||null)||new Ca}},{key:"getBounds",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=e.renderable;if(!o.boundsDirty&&!i&&o.bounds)return o.bounds;if(!o.renderBoundsDirty&&i&&o.renderBounds)return o.renderBounds;var s=i?o.renderBounds:o.bounds,a=this.getTransformedGeometryBounds(e,i,s);if(e.childNodes.forEach(function(f){var m=t.getBounds(f,i);m&&(a?a.add(m):(a=s||new Ca).update(m.center,m.halfExtents))}),a||(a=new Ca),i){var u=uk(e);if(u){var d=u.parsedStyle.clipPath.getBounds(i);a?d&&(a=d.intersection(a)):a.update(d.center,d.halfExtents)}}return i?(o.renderBounds=a,o.renderBoundsDirty=!1):(o.bounds=a,o.boundsDirty=!1),a}},{key:"getLocalBounds",value:function(e){if(e.parentNode){var t=A$;e.parentNode.transformable&&(t=zt.mat4.invert(Vp,this.getWorldTransform(e.parentNode)));var i=this.getBounds(e);if(!Ca.isEmpty(i)){var r=new Ca;return r.setFromTransformedAABB(i,t),r}}return this.getBounds(e)}},{key:"getBoundingClientRect",value:function(e){var t,i,r=this.getGeometryBounds(e);Ca.isEmpty(r)||(i=new Ca).setFromTransformedAABB(r,this.getWorldTransform(e));var o=null===(t=e.ownerDocument)||void 0===t||null===(t=t.defaultView)||void 0===t?void 0:t.getContextService().getBoundingClientRect();if(i){var s=i.getMin(),a=Vo(s,2),l=a[0],u=a[1],d=i.getMax(),f=Vo(d,2),m=f[0],y=f[1];return new Mp(l+(o?.left||0),u+(o?.top||0),m-l,y-u)}return new Mp(o?.left||0,o?.top||0,0,0)}},{key:"dirtifyWorldInternal",value:function(e,t){var i=this;if(!t.dirtyFlag){t.dirtyFlag=!0,t.frozen=!1,e.childNodes.forEach(function(s){var a=s.transformable;a.dirtyFlag||i.dirtifyWorldInternal(s,a)});var o=e.renderable;o&&(o.renderBoundsDirty=!0,o.boundsDirty=!0,o.dirty=!0)}}},{key:"syncHierarchy",value:function(e){var t=e.transformable;if(!t.frozen){t.frozen=!0,(t.localDirtyFlag||t.dirtyFlag)&&this.sync(e,t);for(var i=e.childNodes,r=0;r<i.length;r++)this.syncHierarchy(i[r])}}},{key:"sync",value:function(e,t){if(t.localDirtyFlag&&(this.calcLocalTransform(t),t.localDirtyFlag=!1),t.dirtyFlag){var i=e.parentNode,r=i&&i.transformable;null!==i&&r?zt.mat4.multiply(t.worldTransform,r.worldTransform,t.localTransform):zt.mat4.copy(t.worldTransform,t.localTransform),t.dirtyFlag=!1}}},{key:"unfreezeParentToRoot",value:function(e){for(var t=e.parentNode;t;){var i=t.transformable;i&&(i.frozen=!1),t=t.parentNode}}}])}(),Up={MetricsString:"|\xc9q\xc5",BaselineSymbol:"M",BaselineMultiplier:1.4,HeightMultiplier:2,Newlines:[10,13],BreakingSpaces:[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]},kk=/[a-zA-Z0-9\u00C0-\u00D6\u00D8-\u00f6\u00f8-\u00ff!"#$%&'()*+,-./:;]/,bF=new RegExp("".concat(/[!%),.:;?\]}\xa2\xb0\xb7'""\u2020\u2021\u203a\u2103\u2236\u3001\u3002\u3003\u3006\u3015\u3017\u301e\ufe5a\ufe5c\uff01\uff02\uff05\uff07\uff09\uff0c\uff0e\uff1a\uff1b\uff1f\uff01\uff3d\uff5d\uff5e]/.source,"|").concat(/[!),.:;?\]}\xa2\xb7\u2013\u2014'"\u2022"\u3001\u3002\u3006\u301e\u3015\u3009\u300b\u300d\ufe30\ufe31\ufe32\ufe33\ufe50\ufe51\ufe52\ufe53\ufe54\ufe55\ufe56\ufe58\ufe5a\ufe5c\uff01\uff09\uff0c\uff0e\uff1a\uff1b\uff1f\ufe36\ufe38\ufe3a\ufe3c\ufe3e\ufe40\ufe42\ufe57\uff3d\uff5c\uff5d\uff64]/.source,"|").concat(/[)\]\uff5d\u3015\u3009\u300b\u300d\u300f\u3011\u3019\u3017\u301f'"\uff60\xbb\u30fd\u30fe\u30fc\u30a1\u30a3\u30a5\u30a7\u30a9\u30c3\u30e3\u30e5\u30e7\u30ee\u30f5\u30f6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308e\u3095\u3096\u31f0\u31f1\u31f2\u31f3\u31f4\u31f5\u31f6\u31f7\u31f8\u31f9\u31fa\u31fb\u31fc\u31fd\u31fe\u31ff\u3005\u303b\u2010\u30a0\u2013\u301c?!\u203c\u2047\u2048\u2049\u30fb\u3001:;,\u3002.]/.source,"|").concat(/[!%),.:;?\]}\xa2\xb0'"\u2020\u2021\u2103\u3006\u3008\u300a\u300c\u300e\u3015\uff01\uff05\uff09\uff0c\uff0e\uff1a\uff1b\uff1f\uff3d\uff5d]/.source)),Nk=new RegExp("".concat(/[$(\xa3\xa5\xb7'"\u3008\u300a\u300c\u300e\u3010\u3014\u3016\u301d\ufe59\ufe5b\uff04\uff08\uff0e\uff3b\uff5b\uffe1\uffe5]/.source,"|").concat(/[([{\xa3\xa5'"\u2035\u3008\u300a\u300c\u300e\u3014\u301d\ufe34\ufe59\ufe5b\uff08\uff5b\ufe35\ufe37\ufe39\ufe3b\ufe3d\ufe3f\ufe41\ufe43\ufe4f]/.source,"|").concat(/[([\uff5b\u3014\u3008\u300a\u300c\u300e\u3010\u3018\u3016\u301d'"\uff5f\xab\u2014...\u2025\u3033\u3034\u3035]/.source,"|").concat(/[$([{\xa3\xa5'"\u3005\u3007\u3009\u300b\u300d\u3014\uff04\uff08\uff3b\uff5b\uff60\uffe5\uffe6#]/.source)),zM=function(){return ri(function n(e){var t=this;ti(this,n),this.fontMetricsCache={},this.shouldBreakByKinsokuShorui=function(i,r){return!t.isBreakingSpace(r)&&!(!i||!Nk.exec(r)&&!bF.exec(i))},this.trimByKinsokuShorui=function(i){var r=Yo(i),o=r[r.length-2];if(!o)return i;var s=o[o.length-1];return r[r.length-2]=o.slice(0,-1),r[r.length-1]=s+r[r.length-1],r},this.runtime=e},[{key:"measureFont",value:function(e,t){if(this.fontMetricsCache[e])return this.fontMetricsCache[e];var i={ascent:0,descent:0,fontSize:0},r=this.runtime.offscreenCanvasCreator.getOrCreateCanvas(t),o=this.runtime.offscreenCanvasCreator.getOrCreateContext(t,{willReadFrequently:!0});o.font=e;var s=Up.MetricsString+Up.BaselineSymbol,a=Math.ceil(o.measureText(s).width),l=Math.ceil(o.measureText(Up.BaselineSymbol).width),u=Up.HeightMultiplier*l;l=l*Up.BaselineMultiplier|0,r.width=a,r.height=u,o.fillStyle="#f00",o.fillRect(0,0,a,u),o.font=e,o.textBaseline="alphabetic",o.fillStyle="#000",o.fillText(s,0,l);var d=o.getImageData(0,0,a||1,u||1).data,f=d.length,m=4*a,y=0,b=0,E=!1;for(y=0;y<l;++y){for(var w=0;w<m;w+=4)if(255!==d[b+w]){E=!0;break}if(E)break;b+=m}for(i.ascent=l-y,b=f-m,E=!1,y=u;y>l;--y){for(var M=0;M<m;M+=4)if(255!==d[b+M]){E=!0;break}if(E)break;b-=m}return i.descent=y-l,i.fontSize=i.ascent+i.descent,this.fontMetricsCache[e]=i,i}},{key:"measureText",value:function(e,t,i){var r=t.fontSize,o=void 0===r?16:r,s=t.wordWrap,a=void 0!==s&&s,l=t.lineHeight,u=t.lineWidth,d=void 0===u?1:u,f=t.textBaseline,m=void 0===f?"alphabetic":f,y=t.textAlign,b=void 0===y?"start":y,E=t.letterSpacing,w=void 0===E?0:E,M=t.textPath,x=t.leading,D=void 0===x?0:x,k=function gk(n){for(var e=n.fontSize,t=void 0===e?16:e,i=n.fontFamily,r=void 0===i?"sans-serif":i,o=n.fontStyle,s=void 0===o?"normal":o,a=n.fontVariant,l=void 0===a?"normal":a,u=n.fontWeight,d=void 0===u?"normal":u,f=zn.isNumber(t)&&"".concat(t,"px")||"16px",m=r.split(","),y=m.length-1;y>=0;y--){var b=m[y].trim();!TM.test(b)&&bb.indexOf(b)<0&&(b='"'.concat(b,'"')),m[y]=b}return"".concat(s," ").concat(l," ").concat(d," ").concat(f," ").concat(m.join(","))}(t),T=this.measureFont(k,i);0===T.fontSize&&(T.fontSize=o,T.ascent=o);var O=this.runtime.offscreenCanvasCreator.getOrCreateContext(i);O.font=k,t.isOverflowing=!1;var L=(a?this.wordWrap(e,t,i):e).split(/(?:\r\n|\r|\n)/),F=new Array(L.length),U=0;if(!M){for(var X=0;X<L.length;X++){var q=O.measureText(L[X]).width+(L[X].length-1)*w;F[X]=q,U=Math.max(U,q)}var gt=U+d,Et=l||T.fontSize+d,at=Math.max(Et,T.fontSize+d)+(L.length-1)*(Et+D),Q=0;return"middle"===m?Q=-at/2:"bottom"===m||"alphabetic"===m||"ideographic"===m?Q=-at:("top"===m||"hanging"===m)&&(Q=0),{font:k,width:gt,height:at,lines:L,lineWidths:F,lineHeight:Et+=D,maxLineWidth:U,fontProperties:T,lineMetrics:F.map(function(et,St){var Yt=0;return"center"===b||"middle"===b?Yt-=et/2:("right"===b||"end"===b)&&(Yt-=et),new Mp(Yt-d/2,Q+St*Et,et+d,Et)})}}M.getTotalLength();for(var $=0;$<L.length;$++)O.measureText(L[$])}},{key:"setGraphemeOnPath",value:function(){}},{key:"wordWrap",value:function(e,t,i){var r=this,o=t.wordWrapWidth,s=void 0===o?0:o,a=t.letterSpacing,l=void 0===a?0:a,u=t.maxLines,d=void 0===u?1/0:u,f=t.textOverflow,m=this.runtime.offscreenCanvasCreator.getOrCreateContext(i),y=s+l,b="";"ellipsis"===f?b="...":f&&"clip"!==f&&(b=f);for(var E=[],w=0,M=0,x={},D=function(at){return r.getFromCache(at,l,x,m)},k=Array.from(b).reduce(function(at,Q){return at+D(Q)},0),T=Array.from(e),O=0;O<T.length;O++){var R=T[O],L=e[O-1],F=e[O+1],U=D(R);if(this.isNewline(R)){if(++w>=d){t.isOverflowing=!0;break}M=0,E[w]=""}else{if(M>0&&M+U>y){if(w+1>=d){if(t.isOverflowing=!0,k>0&&k<=y){for(var $=E[w].length,X=0,q=$,gt=0;gt<$;gt++){var Et=D(E[w][gt]);if(X+Et+k>y){q=gt;break}X+=Et}E[w]=(E[w]||"").slice(0,q)+b}break}if(M=0,E[++w]="",this.isBreakingSpace(R))continue;this.canBreakInLastChar(R)||(E=this.trimToBreakable(E),M=this.sumTextWidthByCache(E[w]||"",x)),this.shouldBreakByKinsokuShorui(R,F)&&(E=this.trimByKinsokuShorui(E),M+=D(L||""))}M+=U,E[w]=(E[w]||"")+R}}return E.join("\n")}},{key:"isBreakingSpace",value:function(e){return"string"==typeof e&&Up.BreakingSpaces.indexOf(e.charCodeAt(0))>=0}},{key:"isNewline",value:function(e){return"string"==typeof e&&Up.Newlines.indexOf(e.charCodeAt(0))>=0}},{key:"trimToBreakable",value:function(e){var t=Yo(e),i=t[t.length-2],r=this.findBreakableIndex(i);if(-1===r||!i)return t;var o=i.slice(r,r+1),l=r+(this.isBreakingSpace(o)?0:1);return t[t.length-1]+=i.slice(r+1,i.length),t[t.length-2]=i.slice(0,l),t}},{key:"canBreakInLastChar",value:function(e){return!(e&&kk.test(e))}},{key:"sumTextWidthByCache",value:function(e,t){return e.split("").reduce(function(i,r){if(!t[r])throw Error("cannot count the word without cache");return i+t[r]},0)}},{key:"findBreakableIndex",value:function(e){for(var t=e.length-1;t>=0;t--)if(!kk.test(e[t]))return t;return-1}},{key:"getFromCache",value:function(e,t,i,r){var o=i[e];if("number"!=typeof o){var s=e.length*t;o=r.measureText(e).width+s,i[e]=o}return o}}])}(),Nn={},_F=function(n){var e=new _k,t=new Lp;return Dr(Dr(Dr(Dr(Dr(Dr(Dr(Dr(Dr(Dr(n={},di.FRAGMENT,null),di.CIRCLE,new lF),di.ELLIPSE,new RM),di.RECT,e),di.IMAGE,e),di.GROUP,new wk),di.LINE,new PM),di.TEXT,new Ek(Nn)),di.POLYLINE,t),di.POLYGON,t),Dr(Dr(Dr(n,di.PATH,new cF),di.HTML,new Qv),di.MESH,null)}(),EF=function(n){var e=new $6,t=new xM;return Dr(Dr(Dr(Dr(Dr(Dr(Dr(Dr(Dr(Dr(n={},Xn.PERCENTAGE,null),Xn.NUMBER,new ok),Xn.ANGLE,new H6),Xn.DEFINED_PATH,new G6),Xn.PAINT,e),Xn.COLOR,e),Xn.FILTER,new wM),Xn.LENGTH,t),Xn.LENGTH_PERCENTAGE,t),Xn.LENGTH_PERCENTAGE_12,new rk),Dr(Dr(Dr(Dr(Dr(Dr(Dr(Dr(Dr(Dr(n,Xn.LENGTH_PERCENTAGE_14,new W6),Xn.COORDINATE,new xM),Xn.OFFSET_DISTANCE,new sk),Xn.OPACITY_VALUE,new db),Xn.PATH,new X6),Xn.LIST_OF_POINTS,new ak),Xn.SHADOW_BLUR,new lk),Xn.TEXT,new Y6),Xn.TEXT_TRANSFORM,new Z6),Xn.TRANSFORM,new Tm),Dr(Dr(Dr(n,Xn.TRANSFORM_ORIGIN,new D$),Xn.Z_INDEX,new IM),Xn.MARKER,new K6)}();Nn.CameraContribution=pm,Nn.AnimationTimeline=null,Nn.EasingFunction=null,Nn.offscreenCanvasCreator=new NM,Nn.sceneGraphSelector=new Sk,Nn.sceneGraphService=new jM(Nn),Nn.textService=new zM(Nn),Nn.geometryUpdaterFactory=_F,Nn.CSSPropertySyntaxFactory=EF,Nn.styleValueRegistry=new ik(Nn),Nn.layoutRegistry=null,Nn.globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof ji<"u"?ji:{},Nn.enableStyleSyntax=!0,Nn.enableSizeAttenuation=!1;var Lk=0,wb=new Nc(Is.INSERTED,null,"","","",0,"",""),xb=new Nc(Is.REMOVED,null,"","","",0,"",""),HM=new Va(Is.DESTROY),Bk=function(n){function e(){var t;ti(this,e);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=Mo(this,e,[].concat(r))).entity=Lk++,t.renderable={bounds:void 0,boundsDirty:!0,renderBounds:void 0,renderBoundsDirty:!0,dirtyRenderBounds:void 0,dirty:!1},t.cullable={strategy:IO.Standard,visibilityPlaneMask:-1,visible:!0,enable:!0},t.transformable={dirtyFlag:!1,localDirtyFlag:!1,frozen:!1,localPosition:[0,0,0],localRotation:[0,0,0,1],localScale:[1,1,1],localTransform:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],localSkew:[0,0],position:[0,0,0],rotation:[0,0,0,1],scaling:[1,1,1],worldTransform:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],origin:[0,0,0]},t.sortable={dirty:!1,sorted:void 0,renderOrder:0,dirtyChildren:[],dirtyReason:void 0},t.geometry={contentBounds:void 0,renderBounds:void 0,dirty:!0},t.rBushNode={aabb:void 0},t.namespaceURI="g",t.scrollLeft=0,t.scrollTop=0,t.clientTop=0,t.clientLeft=0,t.destroyed=!1,t.style={},t.computedStyle={},t.parsedStyle={},t.attributes={},t}return so(e,n),ri(e,[{key:"className",get:function(){return this.getAttribute("class")||""},set:function(t){this.setAttribute("class",t)}},{key:"classList",get:function(){return this.className.split(" ").filter(function(t){return""!==t})}},{key:"tagName",get:function(){return this.nodeName}},{key:"children",get:function(){return this.childNodes}},{key:"childElementCount",get:function(){return this.childNodes.length}},{key:"firstElementChild",get:function(){return this.firstChild}},{key:"lastElementChild",get:function(){return this.lastChild}},{key:"parentElement",get:function(){return this.parentNode}},{key:"nextSibling",get:function(){if(this.parentNode){var t=this.parentNode.childNodes.indexOf(this);return this.parentNode.childNodes[t+1]||null}return null}},{key:"previousSibling",get:function(){if(this.parentNode){var t=this.parentNode.childNodes.indexOf(this);return this.parentNode.childNodes[t-1]||null}return null}},{key:"cloneNode",value:function(t){throw new Error(Zo)}},{key:"appendChild",value:function(t,i){var r;if(t.destroyed)throw new Error("Cannot append a destroyed element.");return Nn.sceneGraphService.attach(t,this,i),null!==(r=this.ownerDocument)&&void 0!==r&&r.defaultView&&(mb(this)||t.nodeName!==di.FRAGMENT?this.ownerDocument.defaultView.mountChildren(t):this.ownerDocument.defaultView.mountFragment(t)),this.isMutationObserved&&(wb.relatedNode=this,t.dispatchEvent(wb)),t}},{key:"insertBefore",value:function(t,i){if(i){t.parentElement&&t.parentElement.removeChild(t);var r=this.childNodes.indexOf(i);-1===r?this.appendChild(t):this.appendChild(t,r)}else this.appendChild(t);return t}},{key:"replaceChild",value:function(t,i){var r=this.childNodes.indexOf(i);return this.removeChild(i),this.appendChild(t,r),i}},{key:"removeChild",value:function(t){var i;return xb.relatedNode=this,t.dispatchEvent(xb),null!==(i=t.ownerDocument)&&void 0!==i&&i.defaultView&&t.ownerDocument.defaultView.unmountChildren(t),Nn.sceneGraphService.detach(t),t}},{key:"removeChildren",value:function(){for(var t=this.childNodes.length-1;t>=0;t--)this.removeChild(this.childNodes[t])}},{key:"destroyChildren",value:function(){for(var t=this.childNodes.length-1;t>=0;t--){var i=this.childNodes[t];i.childNodes.length>0&&i.destroyChildren(),i.destroy()}}},{key:"matches",value:function(t){return Nn.sceneGraphService.matches(t,this)}},{key:"getElementById",value:function(t){return Nn.sceneGraphService.querySelector("#".concat(t),this)}},{key:"getElementsByName",value:function(t){return Nn.sceneGraphService.querySelectorAll('[name="'.concat(t,'"]'),this)}},{key:"getElementsByClassName",value:function(t){return Nn.sceneGraphService.querySelectorAll(".".concat(t),this)}},{key:"getElementsByTagName",value:function(t){return Nn.sceneGraphService.querySelectorAll(t,this)}},{key:"querySelector",value:function(t){return Nn.sceneGraphService.querySelector(t,this)}},{key:"querySelectorAll",value:function(t){return Nn.sceneGraphService.querySelectorAll(t,this)}},{key:"closest",value:function(t){var i=this;do{if(Nn.sceneGraphService.matches(t,i))return i;i=i.parentElement}while(null!==i);return null}},{key:"find",value:function(t){var i=this,r=null;return this.forEach(function(o){return o===i||!t(o)||(r=o,!1)}),r}},{key:"findAll",value:function(t){var i=this,r=[];return this.forEach(function(o){o!==i&&t(o)&&r.push(o)}),r}},{key:"after",value:function(){var t=this;if(this.parentNode){for(var i=this.parentNode.childNodes.indexOf(this),r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];o.forEach(function(a,l){var u;return null===(u=t.parentNode)||void 0===u?void 0:u.appendChild(a,i+l+1)})}}},{key:"before",value:function(){if(this.parentNode){for(var t,i=this.parentNode.childNodes.indexOf(this),r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];var a=o[0],l=o.slice(1);this.parentNode.appendChild(a,i),(t=a).after.apply(t,Yo(l))}}},{key:"replaceWith",value:function(){this.after.apply(this,arguments),this.remove()}},{key:"append",value:function(){for(var t=this,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];r.forEach(function(s){return t.appendChild(s)})}},{key:"prepend",value:function(){for(var t=this,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];r.forEach(function(s,a){return t.appendChild(s,a)})}},{key:"replaceChildren",value:function(){for(;this.childNodes.length&&this.firstChild;)this.removeChild(this.firstChild);this.append.apply(this,arguments)}},{key:"remove",value:function(){return this.parentNode?this.parentNode.removeChild(this):this}},{key:"destroy",value:function(){this.destroyChildren(),this.dispatchEvent(HM),this.remove(),this.emitter.removeAllListeners(),this.destroyed=!0}},{key:"getGeometryBounds",value:function(){return Nn.sceneGraphService.getGeometryBounds(this)}},{key:"getRenderBounds",value:function(){return Nn.sceneGraphService.getBounds(this,!0)}},{key:"getBounds",value:function(){return Nn.sceneGraphService.getBounds(this)}},{key:"getLocalBounds",value:function(){return Nn.sceneGraphService.getLocalBounds(this)}},{key:"getBoundingClientRect",value:function(){return Nn.sceneGraphService.getBoundingClientRect(this)}},{key:"getClientRects",value:function(){return[this.getBoundingClientRect()]}},{key:"computedStyleMap",value:function(){return new Map(Object.entries(this.computedStyle))}},{key:"getAttributeNames",value:function(){return Object.keys(this.attributes)}},{key:"getAttribute",value:function(t){if("symbol"!=typeof t)return this.attributes[t]}},{key:"hasAttribute",value:function(t){return this.getAttributeNames().includes(t)}},{key:"hasAttributes",value:function(){return!!this.getAttributeNames().length}},{key:"removeAttribute",value:function(t){this.setAttribute(t,null),delete this.attributes[t]}},{key:"setAttribute",value:function(t,i,r,o){this.attributes[t]=i}},{key:"getAttributeNS",value:function(t,i){throw new Error(Zo)}},{key:"getAttributeNode",value:function(t){throw new Error(Zo)}},{key:"getAttributeNodeNS",value:function(t,i){throw new Error(Zo)}},{key:"hasAttributeNS",value:function(t,i){throw new Error(Zo)}},{key:"removeAttributeNS",value:function(t,i){throw new Error(Zo)}},{key:"removeAttributeNode",value:function(t){throw new Error(Zo)}},{key:"setAttributeNS",value:function(t,i,r){throw new Error(Zo)}},{key:"setAttributeNode",value:function(t){throw new Error(Zo)}},{key:"setAttributeNodeNS",value:function(t){throw new Error(Zo)}},{key:"toggleAttribute",value:function(t,i){throw new Error(Zo)}}])}(Co);function No(n){return!(null==n||!n.nodeName)}var wF=Nn.globalThis.Proxy?Nn.globalThis.Proxy:function(){},_u=new Nc(Is.ATTR_MODIFIED,null,null,null,null,Nc.MODIFICATION,null,null),t2=zt.vec3.create(),jk=zt.quat.create(),zo=function(n){function e(t){var i;return ti(this,e),(i=Mo(this,e)).isCustomElement=!1,i.isMutationObserved=!1,i.activeAnimations=[],i.config=t,i.id=t.id||"",i.name=t.name||"",(t.className||t.class)&&(i.className=t.className||t.class),i.nodeName=t.type||di.GROUP,t.initialParsedStyle&&Object.assign(i.parsedStyle,t.initialParsedStyle),i.initAttributes(t.style),Nn.enableStyleSyntax&&(i.style=new wF({setProperty:function(r,o){i.setAttribute(r,o)},getPropertyValue:function(r){return i.getAttribute(r)},removeProperty:function(r){i.removeAttribute(r)},item:function(){return""}},{get:function(r,o){return void 0!==r[o]?r[o]:i.getAttribute(o)},set:function(r,o,s){return i.setAttribute(o,s),!0}})),i}return so(e,n),ri(e,[{key:"destroy",value:function(){MO(e,"destroy",this,3)([]),this.getAnimations().forEach(function(t){t.cancel()})}},{key:"cloneNode",value:function(t,i){var r=vo({},this.attributes);for(var o in r){var s=r[o];No(s)&&"clipPath"!==o&&"offsetPath"!==o&&"textPath"!==o&&(r[o]=s.cloneNode(t)),i&&(r[o]=i(o,s))}var a=new this.constructor({id:this.id,name:this.name,className:this.name,interactive:this.interactive,style:r});return a.setLocalTransform(this.getLocalTransform()),t&&this.children.forEach(function(l){if(!l.style.isMarker){var u=l.cloneNode(t);a.appendChild(u)}}),a}},{key:"initAttributes",value:function(){Nn.styleValueRegistry.processProperties(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{forceUpdateGeometry:!0}),this.renderable.dirty=!0}},{key:"setAttribute",value:function(t,i){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];zn.isUndefined(i)||(r||i!==this.attributes[t])&&(this.internalSetAttribute(t,i,{memoize:o}),MO(e,"setAttribute",this,3)([t,i]))}},{key:"internalSetAttribute",value:function(t,i){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=this.renderable,s=this.attributes[t],a=this.parsedStyle[t];Nn.styleValueRegistry.processProperties(this,Dr({},t,i),r),o.dirty=!0;var u,l=this.parsedStyle[t];this.isConnected&&(_u.relatedNode=this,_u.prevValue=s,_u.newValue=i,_u.attrName=t,_u.prevParsedValue=a,_u.newParsedValue=l,this.isMutationObserved?this.dispatchEvent(_u):(_u.target=this,this.ownerDocument.defaultView.dispatchEvent(_u,!0))),(this.isCustomElement&&this.isConnected||!this.isCustomElement)&&(null===(u=this.attributeChangedCallback)||void 0===u||u.call(this,t,s,i,a,l))}},{key:"getBBox",value:function(){var t=this.getBounds(),i=t.getMin(),r=Vo(i,2),o=r[0],s=r[1],a=t.getMax(),l=Vo(a,2);return new Mp(o,s,l[0]-o,l[1]-s)}},{key:"setOrigin",value:function(t){return Nn.sceneGraphService.setOrigin(this,jr(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,!1)),this}},{key:"getOrigin",value:function(){return Nn.sceneGraphService.getOrigin(this)}},{key:"setPosition",value:function(t){return Nn.sceneGraphService.setPosition(this,jr(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,!1)),this}},{key:"setLocalPosition",value:function(t){return Nn.sceneGraphService.setLocalPosition(this,jr(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,!1)),this}},{key:"translate",value:function(t){return Nn.sceneGraphService.translate(this,jr(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,!1)),this}},{key:"translateLocal",value:function(t){return Nn.sceneGraphService.translateLocal(this,jr(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,!1)),this}},{key:"getPosition",value:function(){return Nn.sceneGraphService.getPosition(this)}},{key:"getLocalPosition",value:function(){return Nn.sceneGraphService.getLocalPosition(this)}},{key:"scale",value:function(t,i,r){return this.scaleLocal(t,i,r)}},{key:"scaleLocal",value:function(t,i,r){return"number"==typeof t&&(t=jr(t,i=i||t,r=r||t,!1)),Nn.sceneGraphService.scaleLocal(this,t),this}},{key:"setLocalScale",value:function(t,i,r){return"number"==typeof t&&(t=jr(t,i=i||t,r=r||t,!1)),Nn.sceneGraphService.setLocalScale(this,t),this}},{key:"getLocalScale",value:function(){return Nn.sceneGraphService.getLocalScale(this)}},{key:"getScale",value:function(){return Nn.sceneGraphService.getScale(this)}},{key:"getEulerAngles",value:function(){var t=ss(t2,Nn.sceneGraphService.getWorldTransform(this));return ia(Vo(t,3)[2])}},{key:"getLocalEulerAngles",value:function(){var t=ss(t2,Nn.sceneGraphService.getLocalRotation(this));return ia(Vo(t,3)[2])}},{key:"setEulerAngles",value:function(t){return Nn.sceneGraphService.setEulerAngles(this,0,0,t),this}},{key:"setLocalEulerAngles",value:function(t){return Nn.sceneGraphService.setLocalEulerAngles(this,0,0,t),this}},{key:"rotateLocal",value:function(t,i,r){return zn.isNil(i)&&zn.isNil(r)?Nn.sceneGraphService.rotateLocal(this,0,0,t):Nn.sceneGraphService.rotateLocal(this,t,i,r),this}},{key:"rotate",value:function(t,i,r){return zn.isNil(i)&&zn.isNil(r)?Nn.sceneGraphService.rotate(this,0,0,t):Nn.sceneGraphService.rotate(this,t,i,r),this}},{key:"setRotation",value:function(t,i,r,o){return Nn.sceneGraphService.setRotation(this,t,i,r,o),this}},{key:"setLocalRotation",value:function(t,i,r,o){return Nn.sceneGraphService.setLocalRotation(this,t,i,r,o),this}},{key:"setLocalSkew",value:function(t,i){return Nn.sceneGraphService.setLocalSkew(this,t,i),this}},{key:"getRotation",value:function(){return Nn.sceneGraphService.getRotation(this)}},{key:"getLocalRotation",value:function(){return Nn.sceneGraphService.getLocalRotation(this)}},{key:"getLocalSkew",value:function(){return Nn.sceneGraphService.getLocalSkew(this)}},{key:"getLocalTransform",value:function(){return Nn.sceneGraphService.getLocalTransform(this)}},{key:"getWorldTransform",value:function(){return Nn.sceneGraphService.getWorldTransform(this)}},{key:"setLocalTransform",value:function(t){return Nn.sceneGraphService.setLocalTransform(this,t),this}},{key:"resetLocalTransform",value:function(){Nn.sceneGraphService.resetLocalTransform(this)}},{key:"getAnimations",value:function(){return this.activeAnimations}},{key:"animate",value:function(t,i){var r,o=null===(r=this.ownerDocument)||void 0===r?void 0:r.timeline;return o?o.play(this,t,i):null}},{key:"isVisible",value:function(){var t;return"hidden"!==(null===(t=this.parsedStyle)||void 0===t?void 0:t.visibility)}},{key:"interactive",get:function(){return this.isInteractive()},set:function(t){this.style.pointerEvents=t?"auto":"none"}},{key:"isInteractive",value:function(){var t;return"none"!==(null===(t=this.parsedStyle)||void 0===t?void 0:t.pointerEvents)}},{key:"isCulled",value:function(){return!(!this.cullable||!this.cullable.enable||this.cullable.visible)}},{key:"toFront",value:function(){return this.parentNode&&(this.style.zIndex=Math.max.apply(Math,Yo(this.parentNode.children.map(function(t){return Number(t.style.zIndex)})))+1),this}},{key:"toBack",value:function(){return this.parentNode&&(this.style.zIndex=Math.min.apply(Math,Yo(this.parentNode.children.map(function(t){return Number(t.style.zIndex)})))-1),this}},{key:"getConfig",value:function(){return this.config}},{key:"attr",value:function(){for(var t=this,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];var s=r[0],a=r[1];return s?zn.isObject(s)?(Object.keys(s).forEach(function(l){t.setAttribute(l,s[l])}),this):2===r.length?(this.setAttribute(s,a),this):this.attributes[s]:this.attributes}},{key:"getMatrix",value:function(t){var i=t||this.getWorldTransform(),r=zt.mat4.getTranslation(t2,i),o=Vo(r,2),s=o[0],a=o[1],l=zt.mat4.getScaling(t2,i),u=Vo(l,2),d=u[0],f=u[1],m=zt.mat4.getRotation(jk,i),y=ss(t2,m),b=Vo(y,3);return Qx(b[0]||b[2],s,a,d,f)}},{key:"getLocalMatrix",value:function(){return this.getMatrix(this.getLocalTransform())}},{key:"setMatrix",value:function(t){var i=us(t),r=Vo(i,5),o=r[0],s=r[1],a=r[2],l=r[3];this.setEulerAngles(r[4]).setPosition(o,s).setLocalScale(a,l)}},{key:"setLocalMatrix",value:function(t){var i=us(t),r=Vo(i,5),o=r[0],s=r[1],a=r[2],l=r[3];this.setLocalEulerAngles(r[4]).setLocalPosition(o,s).setLocalScale(a,l)}},{key:"show",value:function(){this.forEach(function(t){t.style.visibility="visible"})}},{key:"hide",value:function(){this.forEach(function(t){t.style.visibility="hidden"})}},{key:"getCount",value:function(){return this.childElementCount}},{key:"getParent",value:function(){return this.parentElement}},{key:"getChildren",value:function(){return this.children}},{key:"getFirst",value:function(){return this.firstElementChild}},{key:"getLast",value:function(){return this.lastElementChild}},{key:"getChildByIndex",value:function(t){return this.children[t]||null}},{key:"add",value:function(t,i){return this.appendChild(t,i)}},{key:"set",value:function(t,i){this.config[t]=i}},{key:"get",value:function(t){return this.config[t]}},{key:"moveTo",value:function(t){return this.setPosition(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0),this}},{key:"move",value:function(t){return this.setPosition(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0),this}},{key:"setZIndex",value:function(t){return this.style.zIndex=t,this}}])}(Bk);zo.PARSED_STYLE_LIST=new Set(["class","className","clipPath","cursor","display","draggable","droppable","fill","fillOpacity","fillRule","filter","increasedLineWidthForHitTesting","lineCap","lineDash","lineDashOffset","lineJoin","lineWidth","miterLimit","hitArea","offsetDistance","offsetPath","offsetX","offsetY","opacity","pointerEvents","shadowColor","shadowType","shadowBlur","shadowOffsetX","shadowOffsetY","stroke","strokeOpacity","strokeWidth","strokeLinecap","strokeLineJoin","strokeDasharray","strokeDashoffset","transform","transformOrigin","textTransform","visibility","zIndex"]);var GM=function(n){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ti(this,e),Mo(this,e,[vo({type:di.CIRCLE},t)])}return so(e,n),ri(e)}(zo);GM.PARSED_STYLE_LIST=new Set([].concat(Yo(zo.PARSED_STYLE_LIST),["cx","cy","cz","r","isBillboard","isSizeAttenuation"]));var xF=["style"],Vk=function(n){function e(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=i.style,o=Ep(i,xF);return ti(this,e),(t=Mo(this,e,[vo({style:r},o)])).isCustomElement=!0,t}return so(e,n),ri(e)}(zo),$M=function(n){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ti(this,e),Mo(this,e,[vo({type:di.ELLIPSE},t)])}return so(e,n),ri(e)}(zo);$M.PARSED_STYLE_LIST=new Set([].concat(Yo(zo.PARSED_STYLE_LIST),["cx","cy","cz","rx","ry","isBillboard","isSizeAttenuation"]));var MF=function(n){function e(){return ti(this,e),Mo(this,e,[{type:di.FRAGMENT}])}return so(e,n),ri(e)}(zo),Om=function(n){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ti(this,e),Mo(this,e,[vo({type:di.GROUP},t)])}return so(e,n),ri(e)}(zo);Om.PARSED_STYLE_LIST=new Set([].concat(Yo(zo.PARSED_STYLE_LIST),["width","height"]));var zk=["style"],e2=function(n){function e(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=i.style,o=Ep(i,zk);return ti(this,e),(t=Mo(this,e,[vo({type:di.HTML,style:r},o)])).cullable.enable=!1,t}return so(e,n),ri(e,[{key:"getDomElement",value:function(){return this.parsedStyle.$el}},{key:"getClientRects",value:function(){return[this.getBoundingClientRect()]}},{key:"getLocalBounds",value:function(){if(this.parentNode){var t=zt.mat4.invert(zt.mat4.create(),this.parentNode.getWorldTransform()),i=this.getBounds();if(!Ca.isEmpty(i)){var r=new Ca;return r.setFromTransformedAABB(i,t),r}}return this.getBounds()}}])}(zo);e2.PARSED_STYLE_LIST=new Set([].concat(Yo(zo.PARSED_STYLE_LIST),["x","y","$el","innerHTML","width","height"]));var n2=function(n){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ti(this,e),Mo(this,e,[vo({type:di.IMAGE},t)])}return so(e,n),ri(e)}(zo);n2.PARSED_STYLE_LIST=new Set([].concat(Yo(zo.PARSED_STYLE_LIST),["x","y","z","src","width","height","isBillboard","billboardRotation","isSizeAttenuation","keepAspectRatio"]));var CF=["style"],r2=function(n){function e(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=i.style,o=Ep(i,CF);ti(this,e),(t=Mo(this,e,[vo({type:di.LINE,style:vo({x1:0,y1:0,x2:0,y2:0,z1:0,z2:0},r)},o)])).markerStartAngle=0,t.markerEndAngle=0;var s=t.parsedStyle,a=s.markerStart,l=s.markerEnd;return a&&No(a)&&(t.markerStartAngle=a.getLocalEulerAngles(),t.appendChild(a)),l&&No(l)&&(t.markerEndAngle=l.getLocalEulerAngles(),t.appendChild(l)),t.transformMarker(!0),t.transformMarker(!1),t}return so(e,n),ri(e,[{key:"attributeChangedCallback",value:function(t,i,r,o,s){"x1"===t||"y1"===t||"x2"===t||"y2"===t||"markerStartOffset"===t||"markerEndOffset"===t?(this.transformMarker(!0),this.transformMarker(!1)):"markerStart"===t?(o&&No(o)&&(this.markerStartAngle=0,o.remove()),s&&No(s)&&(this.markerStartAngle=s.getLocalEulerAngles(),this.appendChild(s),this.transformMarker(!0))):"markerEnd"===t&&(o&&No(o)&&(this.markerEndAngle=0,o.remove()),s&&No(s)&&(this.markerEndAngle=s.getLocalEulerAngles(),this.appendChild(s),this.transformMarker(!1)))}},{key:"transformMarker",value:function(t){var y,b,E,w,M,x,D,i=this.parsedStyle,s=i.markerStartOffset,a=i.markerEndOffset,l=i.x1,u=i.x2,d=i.y1,f=i.y2,m=t?i.markerStart:i.markerEnd;m&&No(m)&&(t?(w=l,M=d,b=u-l,E=f-d,x=s||0,D=this.markerStartAngle):(w=u,M=f,b=l-u,E=d-f,x=a||0,D=this.markerEndAngle),y=Math.atan2(E,b),m.setLocalEulerAngles(180*y/Math.PI+D),m.setLocalPosition(w+Math.cos(y)*x,M+Math.sin(y)*x))}},{key:"getPoint",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.parsedStyle,u=hf.linePointAt(r.x1,r.y1,r.x2,r.y2,t),d=u.x,f=u.y,m=zt.vec3.transformMat4(zt.vec3.create(),zt.vec3.fromValues(d,f,0),i?this.getWorldTransform():this.getLocalTransform());return new ks(m[0],m[1])}},{key:"getPointAtLength",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.getPoint(t/this.getTotalLength(),i)}},{key:"getTotalLength",value:function(){var t=this.parsedStyle;return hf.lineLength(t.x1,t.y1,t.x2,t.y2)}}])}(zo);r2.PARSED_STYLE_LIST=new Set([].concat(Yo(zo.PARSED_STYLE_LIST),["x1","y1","x2","y2","z1","z2","isBillboard","isSizeAttenuation","markerStart","markerEnd","markerStartOffset","markerEndOffset"]));var Uk=["style"],Mb=function(n){function e(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=i.style,o=Ep(i,Uk);ti(this,e),(t=Mo(this,e,[vo({type:di.PATH,style:r,initialParsedStyle:{miterLimit:4,d:vo({},Fv)}},o)])).markerStartAngle=0,t.markerEndAngle=0,t.markerMidList=[];var s=t.parsedStyle,a=s.markerStart,l=s.markerEnd,u=s.markerMid;return a&&No(a)&&(t.markerStartAngle=a.getLocalEulerAngles(),t.appendChild(a)),u&&No(u)&&t.placeMarkerMid(u),l&&No(l)&&(t.markerEndAngle=l.getLocalEulerAngles(),t.appendChild(l)),t.transformMarker(!0),t.transformMarker(!1),t}return so(e,n),ri(e,[{key:"attributeChangedCallback",value:function(t,i,r,o,s){"d"===t?(this.transformMarker(!0),this.transformMarker(!1),this.placeMarkerMid(this.parsedStyle.markerMid)):"markerStartOffset"===t||"markerEndOffset"===t?(this.transformMarker(!0),this.transformMarker(!1)):"markerStart"===t?(o&&No(o)&&(this.markerStartAngle=0,o.remove()),s&&No(s)&&(this.markerStartAngle=s.getLocalEulerAngles(),this.appendChild(s),this.transformMarker(!0))):"markerEnd"===t?(o&&No(o)&&(this.markerEndAngle=0,o.remove()),s&&No(s)&&(this.markerEndAngle=s.getLocalEulerAngles(),this.appendChild(s),this.transformMarker(!1))):"markerMid"===t&&this.placeMarkerMid(s)}},{key:"transformMarker",value:function(t){var i=this.parsedStyle,s=i.markerStartOffset,a=i.markerEndOffset,l=t?i.markerStart:i.markerEnd;if(l&&No(l)){var u,d,f,m,y,b,E;if(t){var w=this.getStartTangent(),M=Vo(w,2),x=M[0],D=M[1];m=D[0],y=D[1],d=x[0]-D[0],f=x[1]-D[1],b=s||0,E=this.markerStartAngle}else{var k=this.getEndTangent(),T=Vo(k,2),O=T[0],R=T[1];m=R[0],y=R[1],d=O[0]-R[0],f=O[1]-R[1],b=a||0,E=this.markerEndAngle}u=Math.atan2(f,d),l.setLocalEulerAngles(180*u/Math.PI+E),l.setLocalPosition(m+Math.cos(u)*b,y+Math.sin(u)*b)}}},{key:"placeMarkerMid",value:function(t){var i=this.parsedStyle.d.segments;if(this.markerMidList.forEach(function(u){u.remove()}),t&&No(t))for(var r=1;r<i.length-1;r++){var o=Vo(i[r].currentPoint,2),s=o[0],a=o[1],l=1===r?t:t.cloneNode(!0);this.markerMidList.push(l),this.appendChild(l),l.setLocalPosition(s,a)}}},{key:"getTotalLength",value:function(){return yf(this)}},{key:"getPointAtLength",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=zn.getPointAtLength(this.parsedStyle.d.absolutePath,t),s=o.x,a=o.y,l=zt.vec3.transformMat4(zt.vec3.create(),zt.vec3.fromValues(s,a,0),i?this.getWorldTransform():this.getLocalTransform());return new ks(l[0],l[1])}},{key:"getPoint",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.getPointAtLength(t*yf(this),i)}},{key:"getStartTangent",value:function(){var t=this.parsedStyle.d.segments,i=[];if(t.length>1){var r=t[0].currentPoint,o=t[1].currentPoint,s=t[1].startTangent;i=[],s?(i.push([r[0]-s[0],r[1]-s[1]]),i.push([r[0],r[1]])):(i.push([o[0],o[1]]),i.push([r[0],r[1]]))}return i}},{key:"getEndTangent",value:function(){var t=this.parsedStyle.d.segments,i=t.length,r=[];if(i>1){var o=t[i-2].currentPoint,s=t[i-1].currentPoint,a=t[i-1].endTangent;r=[],a?(r.push([s[0]-a[0],s[1]-a[1]]),r.push([s[0],s[1]])):(r.push([o[0],o[1]]),r.push([s[0],s[1]]))}return r}}])}(zo);Mb.PARSED_STYLE_LIST=new Set([].concat(Yo(zo.PARSED_STYLE_LIST),["d","markerStart","markerMid","markerEnd","markerStartOffset","markerEndOffset","isBillboard","isSizeAttenuation"]));var k$=["style"],km=function(n){function e(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=i.style,o=Ep(i,k$);ti(this,e),(t=Mo(this,e,[vo({type:di.POLYGON,style:r,initialParsedStyle:{points:{points:[],totalLength:0,segments:[]},miterLimit:4,isClosed:!0}},o)])).markerStartAngle=0,t.markerEndAngle=0,t.markerMidList=[];var s=t.parsedStyle,a=s.markerStart,l=s.markerEnd,u=s.markerMid;return a&&No(a)&&(t.markerStartAngle=a.getLocalEulerAngles(),t.appendChild(a)),u&&No(u)&&t.placeMarkerMid(u),l&&No(l)&&(t.markerEndAngle=l.getLocalEulerAngles(),t.appendChild(l)),t.transformMarker(!0),t.transformMarker(!1),t}return so(e,n),ri(e,[{key:"attributeChangedCallback",value:function(t,i,r,o,s){"points"===t?(this.transformMarker(!0),this.transformMarker(!1),this.placeMarkerMid(this.parsedStyle.markerMid)):"markerStartOffset"===t||"markerEndOffset"===t?(this.transformMarker(!0),this.transformMarker(!1)):"markerStart"===t?(o&&No(o)&&(this.markerStartAngle=0,o.remove()),s&&No(s)&&(this.markerStartAngle=s.getLocalEulerAngles(),this.appendChild(s),this.transformMarker(!0))):"markerEnd"===t?(o&&No(o)&&(this.markerEndAngle=0,o.remove()),s&&No(s)&&(this.markerEndAngle=s.getLocalEulerAngles(),this.appendChild(s),this.transformMarker(!1))):"markerMid"===t&&this.placeMarkerMid(s)}},{key:"transformMarker",value:function(t){var i=this.parsedStyle,s=i.markerStartOffset,a=i.markerEndOffset,d=(i.points||{}).points,f=t?i.markerStart:i.markerEnd;if(f&&No(f)&&d){var m,y,b,E,w,M,x;if(E=d[0][0],w=d[0][1],t)y=d[1][0]-d[0][0],b=d[1][1]-d[0][1],M=s||0,x=this.markerStartAngle;else{var D=d.length;this.parsedStyle.isClosed?(y=d[D-1][0]-d[0][0],b=d[D-1][1]-d[0][1]):(E=d[D-1][0],w=d[D-1][1],y=d[D-2][0]-d[D-1][0],b=d[D-2][1]-d[D-1][1]),M=a||0,x=this.markerEndAngle}m=Math.atan2(b,y),f.setLocalEulerAngles(180*m/Math.PI+x),f.setLocalPosition(E+Math.cos(m)*M,w+Math.sin(m)*M)}}},{key:"placeMarkerMid",value:function(t){var o=(this.parsedStyle.points||{}).points;if(this.markerMidList.forEach(function(d){d.remove()}),this.markerMidList=[],t&&No(t)&&o)for(var s=1;s<(this.parsedStyle.isClosed?o.length:o.length-1);s++){var a=o[s][0],l=o[s][1],u=1===s?t:t.cloneNode(!0);this.markerMidList.push(u),this.appendChild(u),u.setLocalPosition(a,l)}}}])}(zo);km.PARSED_STYLE_LIST=new Set([].concat(Yo(zo.PARSED_STYLE_LIST),["points","markerStart","markerMid","markerEnd","markerStartOffset","markerEndOffset","isClosed","isBillboard","isSizeAttenuation"]));var SF=["style"],Cb=function(n){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.style,r=Ep(t,SF);return ti(this,e),Mo(this,e,[vo({type:di.POLYLINE,style:i,initialParsedStyle:{points:{points:[],totalLength:0,segments:[]},miterLimit:4,isClosed:!1}},r)])}return so(e,n),ri(e,[{key:"getTotalLength",value:function(){return function _m(n){return 0===n.parsedStyle.points.totalLength&&(n.parsedStyle.points.totalLength=hf.polylineLength(n.parsedStyle.points.points)),n.parsedStyle.points.totalLength}(this)}},{key:"getPointAtLength",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.getPoint(t/this.getTotalLength(),i)}},{key:"getPoint",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.parsedStyle.points.points;if(0===this.parsedStyle.points.segments.length){var a,l,o=[],s=0,u=this.getTotalLength();r.forEach(function(w,M){r[M+1]&&((a=[0,0])[0]=s/u,l=hf.lineLength(w[0],w[1],r[M+1][0],r[M+1][1]),a[1]=(s+=l)/u,o.push(a))}),this.parsedStyle.points.segments=o}var d=0,f=0;this.parsedStyle.points.segments.forEach(function(w,M){t>=w[0]&&t<=w[1]&&(d=(t-w[0])/(w[1]-w[0]),f=M)});var m=hf.linePointAt(r[f][0],r[f][1],r[f+1][0],r[f+1][1],d),y=m.x,b=m.y,E=zt.vec3.transformMat4(zt.vec3.create(),zt.vec3.fromValues(y,b,0),i?this.getWorldTransform():this.getLocalTransform());return new ks(E[0],E[1])}},{key:"getStartTangent",value:function(){var t=this.parsedStyle.points.points,i=[];return i.push([t[1][0],t[1][1]]),i.push([t[0][0],t[0][1]]),i}},{key:"getEndTangent",value:function(){var t=this.parsedStyle.points.points,i=t.length-1,r=[];return r.push([t[i-1][0],t[i-1][1]]),r.push([t[i][0],t[i][1]]),r}}])}(km);Cb.PARSED_STYLE_LIST=new Set([].concat(Yo(km.PARSED_STYLE_LIST),["points","markerStart","markerMid","markerEnd","markerStartOffset","markerEndOffset","isBillboard"]));var Sb=function(n){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ti(this,e),Mo(this,e,[vo({type:di.RECT},t)])}return so(e,n),ri(e)}(zo);Sb.PARSED_STYLE_LIST=new Set([].concat(Yo(zo.PARSED_STYLE_LIST),["x","y","z","width","height","isBillboard","isSizeAttenuation","radius"]));var DF=["style"],o2=function(n){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.style,r=Ep(t,DF);return ti(this,e),Mo(this,e,[vo({type:di.TEXT,style:vo({fill:"black"},i)},r)])}return so(e,n),ri(e,[{key:"getComputedTextLength",value:function(){var t;return this.getGeometryBounds(),(null===(t=this.parsedStyle.metrics)||void 0===t?void 0:t.maxLineWidth)||0}},{key:"getLineBoundingRects",value:function(){var t;return this.getGeometryBounds(),(null===(t=this.parsedStyle.metrics)||void 0===t?void 0:t.lineMetrics)||[]}},{key:"isOverflowing",value:function(){return this.getGeometryBounds(),!!this.parsedStyle.isOverflowing}}])}(zo);o2.PARSED_STYLE_LIST=new Set([].concat(Yo(zo.PARSED_STYLE_LIST),["x","y","z","isBillboard","billboardRotation","isSizeAttenuation","text","textAlign","textBaseline","fontStyle","fontSize","fontFamily","fontWeight","fontVariant","lineHeight","letterSpacing","leading","wordWrap","wordWrapWidth","maxLines","textOverflow","isOverflowing","textPath","textDecorationLine","textDecorationColor","textDecorationStyle","textPathSide","textPathStartOffset","metrics","dx","dy"]));var Db=function(){return ri(function n(){ti(this,n),this.registry={},this.define(di.CIRCLE,GM),this.define(di.ELLIPSE,$M),this.define(di.RECT,Sb),this.define(di.IMAGE,n2),this.define(di.LINE,r2),this.define(di.GROUP,Om),this.define(di.PATH,Mb),this.define(di.POLYGON,km),this.define(di.POLYLINE,Cb),this.define(di.TEXT,o2),this.define(di.HTML,e2)},[{key:"define",value:function(e,t){this.registry[e]=t}},{key:"get",value:function(e){return this.registry[e]}}])}(),Hk={number:function(n){return new Vr(n)},percent:function(n){return new Vr(n,"%")},px:function(n){return new Vr(n,"px")},em:function(n){return new Vr(n,"em")},rem:function(n){return new Vr(n,"rem")},deg:function(n){return new Vr(n,"deg")},grad:function(n){return new Vr(n,"grad")},rad:function(n){return new Vr(n,"rad")},turn:function(n){return new Vr(n,"turn")},s:function(n){return new Vr(n,"s")},ms:function(n){return new Vr(n,"ms")},registerProperty:function(n){Nn.styleValueRegistry.registerMetadata({n:n.name,inh:n.inherits,int:n.interpolable,d:n.initialValue,syntax:n.syntax})},registerLayout:function(n,e){Nn.layoutRegistry.registerLayout(n,e)}},WM=function(n){function e(){var t;ti(this,e),(t=Mo(this,e)).defaultView=null,t.ownerDocument=null,t.nodeName="document";try{t.timeline=new Nn.AnimationTimeline(t)}catch{}var i={};return Dl.forEach(function(r){var a=r.d;r.inh&&a&&(i[r.n]=zn.isFunction(a)?a(di.GROUP):a)}),t.documentElement=new Om({id:"g-root",style:i}),t.documentElement.ownerDocument=t,t.documentElement.parentNode=t,t.childNodes=[t.documentElement],t}return so(e,n),ri(e,[{key:"children",get:function(){return this.childNodes}},{key:"childElementCount",get:function(){return this.childNodes.length}},{key:"firstElementChild",get:function(){return this.firstChild}},{key:"lastElementChild",get:function(){return this.lastChild}},{key:"createElement",value:function(t,i){if("svg"===t)return this.documentElement;var r=this.defaultView.customElements.get(t);r||(console.warn("Unsupported tagName: ",t),r="tspan"===t?o2:Om);var o=new r(i);return o.ownerDocument=this,o}},{key:"createElementNS",value:function(t,i,r){return this.createElement(i,r)}},{key:"cloneNode",value:function(t){throw new Error(Zo)}},{key:"destroy",value:function(){try{this.documentElement.destroyChildren(),this.timeline.destroy()}catch{}}},{key:"elementsFromBBox",value:function(t,i,r,o){var a=this.defaultView.context.rBushRoot.search({minX:t,minY:i,maxX:r,maxY:o}),l=[];return a.forEach(function(u){var d=u.displayObject,f=d.parsedStyle.pointerEvents,y=["auto","visiblepainted","visiblefill","visiblestroke","visible"].includes(void 0===f?"auto":f);(!y||y&&d.isVisible())&&!d.isCulled()&&d.isInteractive()&&l.push(d)}),l.sort(function(u,d){return d.sortable.renderOrder-u.sortable.renderOrder}),l}},{key:"elementFromPointSync",value:function(t,i){var r=this.defaultView.canvas2Viewport({x:t,y:i}),o=r.x,s=r.y,a=this.defaultView.getConfig();if(o<0||s<0||o>a.width||s>a.height)return null;var d=this.defaultView.viewport2Client({x:o,y:s}),f=d.x,m=d.y,b=this.defaultView.getRenderingService().hooks.pickSync.call({topmost:!0,position:{x:t,y:i,viewportX:o,viewportY:s,clientX:f,clientY:m},picked:[]}).picked;return b&&b[0]||this.documentElement}},{key:"elementFromPoint",value:(t=$x(cm().mark(function r(o,s){var a,l,u,d,f,m,y,b,E,M;return cm().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(a=this.defaultView.canvas2Viewport({x:o,y:s}),l=a.x,u=a.y,d=this.defaultView.getConfig(),f=d.width,m=d.height,!(l<0||u<0||l>f||u>m)){x.next=4;break}return x.abrupt("return",null);case 4:return y=this.defaultView.viewport2Client({x:l,y:u}),b=y.x,E=y.y,x.next=7,this.defaultView.getRenderingService().hooks.pick.promise({topmost:!0,position:{x:o,y:s,viewportX:l,viewportY:u,clientX:b,clientY:E},picked:[]});case 7:return x.abrupt("return",(M=x.sent.picked)&&M[0]||this.documentElement);case 10:case"end":return x.stop()}},r,this)})),function i(r,o){return t.apply(this,arguments)})},{key:"elementsFromPointSync",value:function(t,i){var r=this.defaultView.canvas2Viewport({x:t,y:i}),o=r.x,s=r.y,a=this.defaultView.getConfig();if(o<0||s<0||o>a.width||s>a.height)return[];var d=this.defaultView.viewport2Client({x:o,y:s}),f=d.x,m=d.y,b=this.defaultView.getRenderingService().hooks.pickSync.call({topmost:!1,position:{x:t,y:i,viewportX:o,viewportY:s,clientX:f,clientY:m},picked:[]}).picked;return b[b.length-1]!==this.documentElement&&b.push(this.documentElement),b}},{key:"elementsFromPoint",value:function(){var t=$x(cm().mark(function r(o,s){var a,l,u,d,f,m,y,b,E,M;return cm().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(a=this.defaultView.canvas2Viewport({x:o,y:s}),l=a.x,u=a.y,d=this.defaultView.getConfig(),f=d.width,m=d.height,!(l<0||u<0||l>f||u>m)){x.next=4;break}return x.abrupt("return",[]);case 4:return y=this.defaultView.viewport2Client({x:l,y:u}),b=y.x,E=y.y,x.next=7,this.defaultView.getRenderingService().hooks.pick.promise({topmost:!1,position:{x:o,y:s,viewportX:l,viewportY:u,clientX:b,clientY:E},picked:[]});case 7:return(M=x.sent.picked)[M.length-1]!==this.documentElement&&M.push(this.documentElement),x.abrupt("return",M);case 11:case"end":return x.stop()}},r,this)}));return function i(r,o){return t.apply(this,arguments)}}()},{key:"appendChild",value:function(t,i){throw new Error(ff)}},{key:"insertBefore",value:function(t,i){throw new Error(ff)}},{key:"removeChild",value:function(t,i){throw new Error(ff)}},{key:"replaceChild",value:function(t,i,r){throw new Error(ff)}},{key:"append",value:function(){throw new Error(ff)}},{key:"prepend",value:function(){throw new Error(ff)}},{key:"getElementById",value:function(t){return this.documentElement.getElementById(t)}},{key:"getElementsByName",value:function(t){return this.documentElement.getElementsByName(t)}},{key:"getElementsByTagName",value:function(t){return this.documentElement.getElementsByTagName(t)}},{key:"getElementsByClassName",value:function(t){return this.documentElement.getElementsByClassName(t)}},{key:"querySelector",value:function(t){return this.documentElement.querySelector(t)}},{key:"querySelectorAll",value:function(t){return this.documentElement.querySelectorAll(t)}},{key:"find",value:function(t){return this.documentElement.find(t)}},{key:"findAll",value:function(t){return this.documentElement.findAll(t)}}]);var t}(Co),KM=function(){function n(e){ti(this,n),this.strategies=e}return ri(n,[{key:"apply",value:function(e){var t=e.camera,i=e.renderingService,r=e.renderingContext,o=this.strategies;i.hooks.cull.tap(n.tag,function(s){return s?(s.cullable.visible=0===o.length?r.unculledEntities.indexOf(s.entity)>-1:o.every(function(l){return l.isVisible(t,s)}),!s.isCulled()&&s.isVisible()?s:(s.dispatchEvent(new Va(Is.CULLED)),null)):s}),i.hooks.afterRender.tap(n.tag,function(s){s.cullable.visibilityPlaneMask=-1})}}])}();KM.tag="Culling";var XM=function(){function n(){var e=this;ti(this,n),this.autoPreventDefault=!1,this.rootPointerEvent=new Sa(null),this.rootWheelEvent=new qv(null),this.onPointerMove=function(t){var i,r=null===(i=e.context.renderingContext.root)||void 0===i||null===(i=i.ownerDocument)||void 0===i?void 0:i.defaultView;if(!r.supportsTouchEvents||"touch"!==t.pointerType){var a,o=e.normalizeToPointerEvent(t,r),s=um(o);try{for(s.s();!(a=s.n()).done;){var u=e.bootstrapEvent(e.rootPointerEvent,a.value,r,t);e.context.eventService.mapEvent(u)}}catch(d){s.e(d)}finally{s.f()}e.setCursor(e.context.eventService.cursor)}},this.onClick=function(t){var i,a,r=null===(i=e.context.renderingContext.root)||void 0===i||null===(i=i.ownerDocument)||void 0===i?void 0:i.defaultView,o=e.normalizeToPointerEvent(t,r),s=um(o);try{for(s.s();!(a=s.n()).done;){var u=e.bootstrapEvent(e.rootPointerEvent,a.value,r,t);e.context.eventService.mapEvent(u)}}catch(d){s.e(d)}finally{s.f()}e.setCursor(e.context.eventService.cursor)}}return ri(n,[{key:"apply",value:function(e){var t=this;this.context=e;var i=e.renderingService,r=this.context.renderingContext.root.ownerDocument.defaultView;this.context.eventService.setPickHandler(function(o){return t.context.renderingService.hooks.pickSync.call({position:o,picked:[],topmost:!0}).picked[0]||null}),i.hooks.pointerWheel.tap(n.tag,function(o){var s=t.normalizeWheelEvent(o);t.context.eventService.mapEvent(s)}),i.hooks.pointerDown.tap(n.tag,function(o){if(!r.supportsTouchEvents||"touch"!==o.pointerType){var s=t.normalizeToPointerEvent(o,r);t.autoPreventDefault&&s[0].isNormalized&&(o.cancelable||!("cancelable"in o))&&o.preventDefault();var u,l=um(s);try{for(l.s();!(u=l.n()).done;){var f=t.bootstrapEvent(t.rootPointerEvent,u.value,r,o);t.context.eventService.mapEvent(f)}}catch(m){l.e(m)}finally{l.f()}t.setCursor(t.context.eventService.cursor)}}),i.hooks.pointerUp.tap(n.tag,function(o){if(!r.supportsTouchEvents||"touch"!==o.pointerType){var f,s=t.context.contextService.getDomElement(),l=t.context.eventService.isNativeEventFromCanvas(s,o)?"":"outside",u=t.normalizeToPointerEvent(o,r),d=um(u);try{for(d.s();!(f=d.n()).done;){var y=t.bootstrapEvent(t.rootPointerEvent,f.value,r,o);y.type+=l,t.context.eventService.mapEvent(y)}}catch(b){d.e(b)}finally{d.f()}t.setCursor(t.context.eventService.cursor)}}),i.hooks.pointerMove.tap(n.tag,this.onPointerMove),i.hooks.pointerOver.tap(n.tag,this.onPointerMove),i.hooks.pointerOut.tap(n.tag,this.onPointerMove),i.hooks.click.tap(n.tag,this.onClick),i.hooks.pointerCancel.tap(n.tag,function(o){var l,s=t.normalizeToPointerEvent(o,r),a=um(s);try{for(a.s();!(l=a.n()).done;){var d=t.bootstrapEvent(t.rootPointerEvent,l.value,r,o);t.context.eventService.mapEvent(d)}}catch(f){a.e(f)}finally{a.f()}t.setCursor(t.context.eventService.cursor)})}},{key:"bootstrapEvent",value:function(e,t,i,r){e.view=i,e.originalEvent=null,e.nativeEvent=r,e.pointerId=t.pointerId,e.width=t.width,e.height=t.height,e.isPrimary=t.isPrimary,e.pointerType=t.pointerType,e.pressure=t.pressure,e.tangentialPressure=t.tangentialPressure,e.tiltX=t.tiltX,e.tiltY=t.tiltY,e.twist=t.twist,this.transferMouseData(e,t);var o=this.context.eventService.client2Viewport({x:t.clientX,y:t.clientY}),a=o.y;e.viewport.x=o.x,e.viewport.y=a;var l=this.context.eventService.viewport2Canvas(e.viewport),d=l.y;return e.canvas.x=l.x,e.canvas.y=d,e.global.copyFrom(e.canvas),e.offset.copyFrom(e.canvas),e.isTrusted=r.isTrusted,"pointerleave"===e.type&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=pk[e.type]||e.type),e}},{key:"normalizeWheelEvent",value:function(e){var t=this.rootWheelEvent;this.transferMouseData(t,e),t.deltaMode=e.deltaMode,t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ;var i=this.context.eventService.client2Viewport({x:e.clientX,y:e.clientY}),o=i.y;t.viewport.x=i.x,t.viewport.y=o;var s=this.context.eventService.viewport2Canvas(t.viewport),l=s.y;return t.canvas.x=s.x,t.canvas.y=l,t.global.copyFrom(t.canvas),t.offset.copyFrom(t.canvas),t.nativeEvent=e,t.type=e.type,t}},{key:"transferMouseData",value:function(e,t){e.isTrusted=t.isTrusted,e.srcElement=t.srcElement,e.timeStamp=pb.now(),e.type=t.type,e.altKey=t.altKey,e.metaKey=t.metaKey,e.shiftKey=t.shiftKey,e.ctrlKey=t.ctrlKey,e.button=t.button,e.buttons=t.buttons,e.client.x=t.clientX,e.client.y=t.clientY,e.movement.x=t.movementX,e.movement.y=t.movementY,e.page.x=t.pageX,e.page.y=t.pageY,e.screen.x=t.screenX,e.screen.y=t.screenY,e.relatedTarget=null}},{key:"setCursor",value:function(e){this.context.contextService.applyCursorStyle(e||this.context.config.cursor||"default")}},{key:"normalizeToPointerEvent",value:function(e,t){var i=[];if(t.isTouchEvent(e))for(var r=0;r<e.changedTouches.length;r++){var o=e.changedTouches[r];zn.isUndefined(o.button)&&(o.button=0),zn.isUndefined(o.buttons)&&(o.buttons=1),zn.isUndefined(o.isPrimary)&&(o.isPrimary=1===e.touches.length&&"touchstart"===e.type),zn.isUndefined(o.width)&&(o.width=o.radiusX||1),zn.isUndefined(o.height)&&(o.height=o.radiusY||1),zn.isUndefined(o.tiltX)&&(o.tiltX=0),zn.isUndefined(o.tiltY)&&(o.tiltY=0),zn.isUndefined(o.pointerType)&&(o.pointerType="touch"),zn.isUndefined(o.pointerId)&&(o.pointerId=o.identifier||0),zn.isUndefined(o.pressure)&&(o.pressure=o.force||.5),zn.isUndefined(o.twist)&&(o.twist=0),zn.isUndefined(o.tangentialPressure)&&(o.tangentialPressure=0),o.isNormalized=!0,o.type=e.type,i.push(o)}else if(t.isMouseEvent(e)){var s=e;zn.isUndefined(s.isPrimary)&&(s.isPrimary=!0),zn.isUndefined(s.width)&&(s.width=1),zn.isUndefined(s.height)&&(s.height=1),zn.isUndefined(s.tiltX)&&(s.tiltX=0),zn.isUndefined(s.tiltY)&&(s.tiltY=0),zn.isUndefined(s.pointerType)&&(s.pointerType="mouse"),zn.isUndefined(s.pointerId)&&(s.pointerId=1),zn.isUndefined(s.pressure)&&(s.pressure=.5),zn.isUndefined(s.twist)&&(s.twist=0),zn.isUndefined(s.tangentialPressure)&&(s.tangentialPressure=0),s.isNormalized=!0,i.push(s)}else i.push(e);return i}}])}();XM.tag="Event";var Gk=[di.CIRCLE,di.ELLIPSE,di.IMAGE,di.RECT,di.LINE,di.POLYLINE,di.POLYGON,di.TEXT,di.PATH,di.HTML],$k=function(){return ri(function n(){ti(this,n)},[{key:"isVisible",value:function(e,t){var i,r=t.cullable;if(!r.enable)return!0;var o=t.getRenderBounds();if(Ca.isEmpty(o))return!1;var s=e.getFrustum(),a=null===(i=t.parentNode)||void 0===i||null===(i=i.cullable)||void 0===i?void 0:i.visibilityPlaneMask;return r.visibilityPlaneMask=this.computeVisibilityWithPlaneMask(t,o,a||xp.INDETERMINATE,s.planes),r.visible=r.visibilityPlaneMask!==xp.OUTSIDE,r.visible}},{key:"computeVisibilityWithPlaneMask",value:function(e,t,i,r){if(i===xp.OUTSIDE||i===xp.INSIDE)return i;for(var o=xp.INSIDE,s=Gk.indexOf(e.nodeName)>-1,a=0,l=r.length;a<l;++a){var u=1<<a;if(i&u&&(!s||4!==a&&5!==a)){var d=r[a],f=d.normal,m=d.distance;if(zt.vec3.dot(f,t.getPositiveFarPoint(r[a]))+m<0)return xp.OUTSIDE;zt.vec3.dot(f,t.getNegativeFarPoint(r[a]))+m<0&&(o|=u)}}return o}}])}(),YM=function(){function n(){ti(this,n),this.syncTasks=new Map,this.isFirstTimeRendering=!0,this.syncing=!1,this.isFirstTimeRenderingFinished=!1}return ri(n,[{key:"apply",value:function(e){var i,t=this,r=e.renderingService,a=e.renderingContext.root.ownerDocument.defaultView;this.rBush=e.rBushRoot;var l=function(y){y.target.renderable.dirty=!0,r.dirtify()},u=function(y){t.syncTasks.set(y.target,y.detail.affectChildren),r.dirtify()},d=function(y){Nn.enableSizeAttenuation&&Nn.styleValueRegistry.updateSizeAttenuation(y.target,a.getCamera().getZoom())},f=function(y){var b=y.target,E=b.rBushNode;E.aabb&&t.rBush.remove(E.aabb),t.syncTasks.delete(b),Nn.sceneGraphService.dirtifyToRoot(b),r.dirtify()};r.hooks.init.tap(n.tag,function(){a.addEventListener(Is.MOUNTED,d),a.addEventListener(Is.UNMOUNTED,f),a.addEventListener(Is.ATTR_MODIFIED,l),a.addEventListener(Is.BOUNDS_CHANGED,u)}),r.hooks.destroy.tap(n.tag,function(){a.removeEventListener(Is.MOUNTED,d),a.removeEventListener(Is.UNMOUNTED,f),a.removeEventListener(Is.ATTR_MODIFIED,l),a.removeEventListener(Is.BOUNDS_CHANGED,u),t.syncTasks.clear()});var m=null!==(i=Nn.globalThis.requestIdleCallback)&&void 0!==i?i:Zv.bind(Nn.globalThis);r.hooks.endFrame.tap(n.tag,function(){t.isFirstTimeRendering?(t.isFirstTimeRendering=!1,t.syncing=!0,m(function(){t.syncRTree(!0),t.isFirstTimeRenderingFinished=!0})):t.syncRTree()})}},{key:"syncNode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.isConnected){var i=e.rBushNode;i.aabb&&this.rBush.remove(i.aabb);var r=e.getRenderBounds();if(r){var o=e.renderable;t&&(o.dirtyRenderBounds||(o.dirtyRenderBounds=new Ca),o.dirtyRenderBounds.update(r.center,r.halfExtents));var s=r.getMin(),a=Vo(s,2),l=a[0],u=a[1],d=r.getMax(),f=Vo(d,2),m=f[0],y=f[1];i.aabb||(i.aabb={}),i.aabb.displayObject=e,i.aabb.minX=l,i.aabb.minY=u,i.aabb.maxX=m,i.aabb.maxY=y}if(i.aabb&&!isNaN(i.aabb.maxX)&&!isNaN(i.aabb.maxX)&&!isNaN(i.aabb.minX)&&!isNaN(i.aabb.minY))return i.aabb}}},{key:"syncRTree",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t||!this.syncing&&0!==this.syncTasks.size){this.syncing=!0;var i=[],r=new Set,o=function(s){if(!r.has(s)&&s.renderable){var a=e.syncNode(s,t);a&&(i.push(a),r.add(s))}};this.syncTasks.forEach(function(s,a){s&&a.forEach(o);for(var l=a;l;)o(l),l=l.parentElement}),this.rBush.load(i),i.length=0,this.syncing=!1}}}])}();YM.tag="Prepare";var Eu=function(n){return n.READY="ready",n.BEFORE_RENDER="beforerender",n.RERENDER="rerender",n.AFTER_RENDER="afterrender",n.BEFORE_DESTROY="beforedestroy",n.AFTER_DESTROY="afterdestroy",n.RESIZE="resize",n.DIRTY_RECTANGLE="dirtyrectangle",n.RENDERER_CHANGED="rendererchanged",n}({}),s2=new Va(Is.MOUNTED),a2=new Va(Is.UNMOUNTED),Tb=new Va(Eu.BEFORE_RENDER),Ab=new Va(Eu.RERENDER),Ob=new Va(Eu.AFTER_RENDER),TF=function(n){function e(t){var i;ti(this,e),(i=Mo(this,e)).Element=zo,i.inited=!1,i.context={},i.document=new WM,i.document.defaultView=i,i.customElements=new Db;var r=t.container,o=t.canvas,s=t.offscreenCanvas,a=t.width,l=t.height,u=t.devicePixelRatio,d=t.renderer,f=t.background,m=t.cursor,y=t.document,b=t.requestAnimationFrame,E=t.cancelAnimationFrame,w=t.createImage,M=t.enableLargeImageOptimization,x=t.supportsPointerEvents,D=t.supportsTouchEvents,k=t.supportsCSSTransform,T=t.cleanUpOnDestroy,O=void 0===T||T,L=t.useNativeClickEvent,F=t.alwaysTriggerPointerEventOnCanvas,U=t.isTouchEvent,$=t.isMouseEvent,X=t.dblClickSpeed;t.supportsMutipleCanvasesInOneContainer||function q6(n,e,t){if(n){var i="string"==typeof n?document.getElementById(n):n;MM.has(i)&&MM.get(i).destroy(t),MM.set(i,e)}}(r,i,O);var q=a,gt=l,Et=u;return o&&(Et=(Et=u||hb&&window.devicePixelRatio||1)>=1?Math.ceil(Et):1,q=a||function CM(n){var e=dk(n,"width");return"auto"===e?n.offsetWidth:parseFloat(e)}(o)||o.width/Et,gt=l||function hk(n){var e=dk(n,"height");return"auto"===e?n.offsetHeight:parseFloat(e)}(o)||o.height/Et),s&&(Nn.offscreenCanvas=s),i.devicePixelRatio=Et,i.requestAnimationFrame=b??Zv.bind(Nn.globalThis),i.cancelAnimationFrame=E??DM.bind(Nn.globalThis),i.supportsTouchEvents=D??"ontouchstart"in Nn.globalThis,i.supportsPointerEvents=x??!!Nn.globalThis.PointerEvent,i.isTouchEvent=U??function(at){return i.supportsTouchEvents&&at instanceof Nn.globalThis.TouchEvent},i.isMouseEvent=$??function(at){return!Nn.globalThis.MouseEvent||at instanceof Nn.globalThis.MouseEvent&&(!i.supportsPointerEvents||!(at instanceof Nn.globalThis.PointerEvent))},i.dblClickSpeed=X??200,i.initRenderingContext({container:r,canvas:o,width:q,height:gt,renderer:d,offscreenCanvas:s,devicePixelRatio:Et,cursor:m||"default",background:f||"transparent",createImage:w,enableLargeImageOptimization:M,document:y,supportsCSSTransform:k,useNativeClickEvent:L,cleanUpOnDestroy:O,alwaysTriggerPointerEventOnCanvas:F}),i.initDefaultCamera(q,gt,d.clipSpaceNearZ),i.initRenderer(d,!0),i}return so(e,n),ri(e,[{key:"initRenderingContext",value:function(t){this.context.config=t,this.context.renderingContext={root:this.document.documentElement,renderListCurrentFrame:[],unculledEntities:[],renderReasons:new Set,force:!1,dirty:!1}}},{key:"initDefaultCamera",value:function(t,i,r){var o=this,s=new Nn.CameraContribution;s.clipSpaceNearZ=r,s.setType(Qo.EXPLORING,Lv.DEFAULT).setPosition(t/2,i/2,500).setFocalPoint(t/2,i/2,0).setOrthographic(t/-2,t/2,i/2,i/-2,.1,1e3),s.canvas=this,s.eventEmitter.on(mf.UPDATED,function(){o.context.renderingContext.renderReasons.add(sh.CAMERA_CHANGED),Nn.enableSizeAttenuation&&o.getConfig().renderer.getConfig().enableSizeAttenuation&&o.updateSizeAttenuation()}),this.context.camera=s}},{key:"updateSizeAttenuation",value:function(){var t=this.getCamera().getZoom();this.document.documentElement.forEach(function(i){Nn.styleValueRegistry.updateSizeAttenuation(i,t)})}},{key:"getConfig",value:function(){return this.context.config}},{key:"getRoot",value:function(){return this.document.documentElement}},{key:"getCamera",value:function(){return this.context.camera}},{key:"getContextService",value:function(){return this.context.contextService}},{key:"getEventService",value:function(){return this.context.eventService}},{key:"getRenderingService",value:function(){return this.context.renderingService}},{key:"getRenderingContext",value:function(){return this.context.renderingContext}},{key:"getStats",value:function(){return this.getRenderingService().getStats()}},{key:"ready",get:function(){var t=this;return this.readyPromise||(this.readyPromise=new Promise(function(i){t.resolveReadyPromise=function(){i(t)}}),this.inited&&this.resolveReadyPromise()),this.readyPromise}},{key:"destroy",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=arguments.length>1?arguments[1]:void 0;void 0===i&&(i=this.getConfig().fastCleanExistingCanvas),i||this.dispatchEvent(new Va(Eu.BEFORE_DESTROY)),this.frameId&&this.cancelAnimationFrame(this.frameId);var r=this.getRoot();this.unmountChildren(r),t&&(this.document.destroy(),this.getEventService().destroy()),this.getRenderingService().destroy(),this.getContextService().destroy(),t&&this.context.rBushRoot&&(this.context.rBushRoot.clear(),this.context.rBushRoot=null,this.context.renderingContext.root=null),i||this.dispatchEvent(new Va(Eu.AFTER_DESTROY));var o=function(s){s.currentTarget=null,s.manager=null,s.target=null,s.relatedNode=null};o(s2),o(a2),o(Tb),o(Ab),o(Ob),o(_u),o(wb),o(xb),o(HM)}},{key:"changeSize",value:function(t,i){this.resize(t,i)}},{key:"resize",value:function(t,i){var r=this.context.config;r.width=t,r.height=i,this.getContextService().resize(t,i);var o=this.context.camera,s=o.getProjectionMode();o.setPosition(t/2,i/2,500).setFocalPoint(t/2,i/2,0),s===tc.ORTHOGRAPHIC?o.setOrthographic(t/-2,t/2,i/2,i/-2,o.getNear(),o.getFar()):o.setAspect(t/i),this.dispatchEvent(new Va(Eu.RESIZE,{width:t,height:i}))}},{key:"appendChild",value:function(t,i){return this.document.documentElement.appendChild(t,i)}},{key:"insertBefore",value:function(t,i){return this.document.documentElement.insertBefore(t,i)}},{key:"removeChild",value:function(t){return this.document.documentElement.removeChild(t)}},{key:"removeChildren",value:function(){this.document.documentElement.removeChildren()}},{key:"destroyChildren",value:function(){this.document.documentElement.destroyChildren()}},{key:"render",value:function(t){var i=this;t&&(Tb.detail=t,Ob.detail=t),this.dispatchEvent(Tb),this.getRenderingService().render(this.getConfig(),t,function(){i.dispatchEvent(Ab)}),this.dispatchEvent(Ob)}},{key:"run",value:function(){var t=this,i=function(r,o){t.render(o),t.frameId=t.requestAnimationFrame(i)};i()}},{key:"initRenderer",value:function(t){var i=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t)throw new Error("Renderer is required.");this.inited=!1,this.readyPromise=void 0,this.context.rBushRoot=new DO,this.context.renderingPlugins=[],this.context.renderingPlugins.push(new XM,new YM,new KM([new $k])),this.loadRendererContainerModule(t),this.context.contextService=new this.context.ContextService(vo(vo({},Nn),this.context)),this.context.renderingService=new Ck(Nn,this.context),this.context.eventService=new Mk(Nn,this.context),this.context.eventService.init(),this.context.contextService.init?(this.context.contextService.init(),this.initRenderingService(t,r,!0)):this.context.contextService.initAsync().then(function(){i.initRenderingService(t,r)})}},{key:"initRenderingService",value:function(t){var i=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.context.renderingService.init(function(){i.inited=!0,r?o?i.requestAnimationFrame(function(){i.dispatchEvent(new Va(Eu.READY))}):i.dispatchEvent(new Va(Eu.READY)):i.dispatchEvent(new Va(Eu.RENDERER_CHANGED)),i.readyPromise&&i.resolveReadyPromise(),r||i.getRoot().forEach(function(s){var l=s.renderable;l&&(l.renderBoundsDirty=!0,l.boundsDirty=!0,l.dirty=!0)}),i.mountChildren(i.getRoot()),t.getConfig().enableAutoRendering&&i.run()})}},{key:"loadRendererContainerModule",value:function(t){var i=this;t.getPlugins().forEach(function(o){o.context=i.context,o.init(Nn)})}},{key:"setRenderer",value:function(t){var i=this.getConfig();if(i.renderer!==t){var r=i.renderer;i.renderer=t,this.destroy(!1,!0),Yo(r?.getPlugins()||[]).reverse().forEach(function(o){o.destroy(Nn)}),this.initRenderer(t)}}},{key:"setCursor",value:function(t){this.getConfig().cursor=t,this.getContextService().applyCursorStyle(t)}},{key:"unmountChildren",value:function(t){var i=this;t.childNodes.forEach(function(r){i.unmountChildren(r)}),this.inited&&(t.isMutationObserved?t.dispatchEvent(a2):(a2.target=t,this.dispatchEvent(a2,!0)),t!==this.document.documentElement&&(t.ownerDocument=null),t.isConnected=!1),t.isCustomElement&&t.disconnectedCallback&&t.disconnectedCallback()}},{key:"mountChildren",value:function(t){var i=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:mb(t);this.inited?t.isConnected||(t.ownerDocument=this.document,t.isConnected=!0,r||(t.isMutationObserved?t.dispatchEvent(s2):(s2.target=t,this.dispatchEvent(s2,!0)))):console.warn("[g]: You are trying to call `canvas.appendChild` before canvas' initialization finished. You can either await `canvas.ready` or listen to `CanvasEvent.READY` manually.","appended child: ",t.nodeName),t.childNodes.forEach(function(o){i.mountChildren(o,r)}),t.isCustomElement&&t.connectedCallback&&t.connectedCallback()}},{key:"mountFragment",value:function(t){this.mountChildren(t,!1)}},{key:"client2Viewport",value:function(t){return this.getEventService().client2Viewport(t)}},{key:"viewport2Client",value:function(t){return this.getEventService().viewport2Client(t)}},{key:"viewport2Canvas",value:function(t){return this.getEventService().viewport2Canvas(t)}},{key:"canvas2Viewport",value:function(t){return this.getEventService().canvas2Viewport(t)}},{key:"getPointByClient",value:function(t,i){return this.client2Viewport({x:t,y:i})}},{key:"getClientByPoint",value:function(t,i){return this.viewport2Client({x:t,y:i})}}])}(Bp);xn.AABB=Ca,xn.AbstractRenderer=wp,xn.AbstractRendererPlugin=TO,xn.BUILT_IN_PROPERTIES=Dl,xn.CSS=Hk,xn.CSSGradientValue=Ap,xn.CSSKeywordValue=ra,xn.CSSRGB=jv,xn.CSSStyleValue=Bv,xn.CSSUnitValue=Vr,xn.Camera=pm,xn.CameraEvent=mf,xn.CameraProjectionMode=tc,xn.CameraTrackingMode=Lv,xn.CameraType=Qo,xn.Canvas=TF,xn.CanvasEvent=Eu;var QM=xn.Circle=GM;xn.CircleUpdater=lF,xn.ClipSpaceNearZ=dm;var AF=xn.CustomElement=Vk;xn.CustomElementRegistry=Db;var kb=xn.CustomEvent=Va;xn.DefaultSceneGraphSelector=Sk,xn.DefaultSceneGraphService=jM;var Yk=xn.DisplayObject=zo;xn.Document=WM,xn.ERROR_MSG_METHOD_NOT_IMPLEMENTED=Zo,xn.Element=Bk;var Hp=xn.ElementEvent=Is,OF=xn.Ellipse=$M;xn.EllipseUpdater=RM,xn.EventService=Mk,xn.EventTarget=Bp,xn.FederatedEvent=Fp,xn.FederatedMouseEvent=Am,xn.FederatedPointerEvent=Sa,xn.FederatedWheelEvent=qv,xn.Fragment=MF,xn.Frustum=d6,xn.GradientType=Tp;var Tl=xn.Group=Om;xn.GroupUpdater=wk;var kF=xn.HTML=e2;xn.HTMLUpdater=Qv;var Lc=xn.Image=n2,qM=xn.Line=r2;xn.LineUpdater=PM,xn.Mask=xp,xn.MutationEvent=Nc,xn.Node=Co,xn.OffscreenCanvasCreator=NM;var Ib=xn.Path=Mb;xn.PathUpdater=cF,xn.Plane=ob,xn.Point=ks;var Zk=xn.Polygon=km,Qk=xn.Polyline=Cb;xn.PolylineUpdater=Lp,xn.PropertySyntax=Xn,xn.RBush=DO;var wu=xn.Rect=Sb;xn.RectUpdater=_k,xn.Rectangle=Mp,xn.RenderReason=sh,xn.RenderingService=Ck,xn.Shape=di,xn.SortReason=mm,xn.Strategy=IO;var Rb=xn.Text=o2;xn.TextService=zM,xn.TextUpdater=Ek,xn.UnitType=Yn,xn.attrModifiedEvent=_u,xn.computeLinearGradient=function E6(n,e,t,i){var r=ao(i.value),a=0+e/2,l=0+t/2,u=Math.abs(e*Math.cos(r))+Math.abs(t*Math.sin(r));return{x1:n[0]+a-Math.cos(r)*u/2,y1:n[1]+l-Math.sin(r)*u/2,x2:n[0]+a+Math.cos(r)*u/2,y2:n[1]+l+Math.sin(r)*u/2}},xn.computeRadialGradient=function w$(n,e,t,i,r,o){var s=i.value,a=r.value;i.unit===Yn.kPercentage&&(s=i.value/100*e),r.unit===Yn.kPercentage&&(a=r.value/100*t);var l=Math.max(zn.distanceSquareRoot([0,0],[s,a]),zn.distanceSquareRoot([0,t],[s,a]),zn.distanceSquareRoot([e,t],[s,a]),zn.distanceSquareRoot([e,0],[s,a]));return o&&(o instanceof Vr?l=o.value:o instanceof ra&&("closest-side"===o.value?l=Math.min(s,e-s,a,t-a):"farthest-side"===o.value?l=Math.max(s,e-s,a,t-a):"closest-corner"===o.value&&(l=Math.min(zn.distanceSquareRoot([0,0],[s,a]),zn.distanceSquareRoot([0,t],[s,a]),zn.distanceSquareRoot([e,t],[s,a]),zn.distanceSquareRoot([e,0],[s,a]))))),{x:s+n[0],y:a+n[1],r:l}},xn.convertToPath=function P6(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.getLocalTransform(),t=[];switch(n.nodeName){case di.LINE:var i=n.parsedStyle,r=i.x1,s=i.y1,l=i.x2,d=i.y2;t=function R6(n,e,t,i){return[["M",n,e],["L",t,i]]}(void 0===r?0:r,void 0===s?0:s,void 0===l?0:l,void 0===d?0:d);break;case di.CIRCLE:var m=n.parsedStyle,y=m.r,b=void 0===y?0:y,E=m.cx,M=m.cy;t=ub(b,b,void 0===E?0:E,void 0===M?0:M);break;case di.ELLIPSE:var D=n.parsedStyle,k=D.rx,O=D.ry,L=D.cx,U=D.cy;t=ub(void 0===k?0:k,void 0===O?0:O,void 0===L?0:L,void 0===U?0:U);break;case di.POLYLINE:case di.POLYGON:t=function Ip(n,e){var t=n.map(function(i,r){return[0===r?"M":"L",i[0],i[1]]});return e&&t.push(["Z"]),t}(n.parsedStyle.points.points,n.nodeName===di.POLYGON);break;case di.RECT:var q=n.parsedStyle,gt=q.width,Et=void 0===gt?0:gt,at=q.height,Q=void 0===at?0:at,et=q.x,St=void 0===et?0:et,Yt=q.y,He=void 0===Yt?0:Yt,Se=q.radius,un=Se&&Se.some(function(Wn){return 0!==Wn});t=function pM(n,e,t,i,r){if(r){var o=Vo(r,4),s=o[0],a=o[1],l=o[2],u=o[3],d=n>0?1:-1,f=e>0?1:-1,m=d+f!==0?1:0;return[["M",d*s+t,i],["L",n-d*a+t,i],a?["A",a,a,0,0,m,n+t,f*a+i]:null,["L",n+t,e-f*l+i],l?["A",l,l,0,0,m,n+t-d*l,e+i]:null,["L",t+d*u,e+i],u?["A",u,u,0,0,m,t,e+i-f*u]:null,["L",t,f*s+i],s?["A",s,s,0,0,m,d*s+t,i]:null,["Z"]].filter(function(y){return y})}return[["M",t,i],["L",t+n,i],["L",t+n,i+e],["L",t,i+e],["Z"]]}(Et,Q,St,He,un&&Se.map(function(Wn){return zn.clamp(Wn,0,Math.min(Math.abs(Et)/2,Math.abs(Q)/2))}));break;case di.PATH:t=Yo(n.parsedStyle.d.absolutePath)}if(t.length)return function I6(n,e,t){return n.reduce(function(i,r){var o="";if("M"===r[0]||"L"===r[0]){var s=zt.vec3.fromValues(r[1],r[2],0);t&&zt.vec3.transformMat4(s,s,t),o="".concat(r[0]).concat(s[0],",").concat(s[1])}else if("Z"===r[0])o=r[0];else if("C"===r[0]){var a=zt.vec3.fromValues(r[1],r[2],0),l=zt.vec3.fromValues(r[3],r[4],0),u=zt.vec3.fromValues(r[5],r[6],0);t&&(zt.vec3.transformMat4(a,a,t),zt.vec3.transformMat4(l,l,t),zt.vec3.transformMat4(u,u,t)),o="".concat(r[0]).concat(a[0],",").concat(a[1],",").concat(l[0],",").concat(l[1],",").concat(u[0],",").concat(u[1])}else if("A"===r[0]){var d=zt.vec3.fromValues(r[6],r[7],0);t&&zt.vec3.transformMat4(d,d,t),o="".concat(r[0]).concat(r[1],",").concat(r[2],",").concat(r[3],",").concat(r[4],",").concat(r[5],",").concat(d[0],",").concat(d[1])}else if("Q"===r[0]){var f=zt.vec3.fromValues(r[1],r[2],0),m=zt.vec3.fromValues(r[3],r[4],0);t&&(zt.vec3.transformMat4(f,f,t),zt.vec3.transformMat4(m,m,t)),o="".concat(r[0]).concat(r[1],",").concat(r[2],",").concat(r[3],",").concat(r[4],"}")}return i+o},"")}(t,0,e)},xn.createVec3=jr,xn.decompose=us,xn.definedProps=function(n){return Object.fromEntries(Object.entries(n).filter(function(e){return void 0!==Vo(e,2)[1]}))},xn.deg2rad=ao,xn.deg2turn=function Yx(n){return n/360},xn.destroyEvent=HM,xn.findClosestClipPathTarget=uk,xn.fromRotationTranslationScale=Qx,xn.getAngle=Jl,xn.getEuler=ss,xn.getOrCalculatePathTotalLength=yf,xn.grad2deg=function Rv(n){return(n%=400)<0&&(n+=400),.9*n},xn.insertedEvent=wb,xn.isBrowser=hb,xn.isCSSGradientValue=function O6(n){return!!n.type&&!!n.value},xn.isCSSRGB=oM,xn.isCanvas=function Wk(n){return!!n.document},xn.isDisplayObject=No,xn.isFederatedEvent=function uF(n){return!!n.type},xn.isFillOrStrokeAffected=function mk(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"auto",e=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0,i=!1,r=!1;return"visiblepainted"===n||"painted"===n||"auto"===n?(i=!!e&&!e.isNone,r=!!t&&!t.isNone):"visiblefill"===n||"fill"===n?i=!0:"visiblestroke"===n||"stroke"===n?r=!0:("visible"===n||"all"===n)&&(i=!0,r=!0),[i,r]},xn.isPattern=HO,xn.mergeColors=GO,xn.parseColor=ym,xn.parseLength=WO,xn.parsePath=gM,xn.parseTransform=vM,xn.parsedTransformToMat4=bk,xn.propertyMetadataCache=EM,xn.rad2deg=ia,xn.removedEvent=xb,xn.resetEntityCounter=function Fk(){Lk=0};var qk=xn.runtime=Nn;xn.setDOMSize=function M$(n,e,t){hb&&n.style&&(n.style.width=e+"px",n.style.height=t+"px")},xn.translatePathToString=function mM(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=n.map(function(s,a){var l=s[0],u=n[a+1],f=(a===n.length-1||u&&("M"===u[0]||"Z"===u[0]))&&0!==i&&0!==r,y=Vo(0!==a||0===e&&0===t?[0,0]:[e,t],2),b=y[0],E=y[1],M=Vo(f?[i,r]:[0,0],2),x=M[0],D=M[1];switch(l){case"M":return"M ".concat(s[1]+b,",").concat(s[2]+E);case"L":return"L ".concat(s[1]+x,",").concat(s[2]+D);case"Q":return"Q ".concat(s[1]," ").concat(s[2],",").concat(s[3]+x," ").concat(s[4]+D);case"C":return"C ".concat(s[1]," ").concat(s[2],",").concat(s[3]," ").concat(s[4],",").concat(s[5]+x," ").concat(s[6]+D);case"A":return"A ".concat(s[1]," ").concat(s[2]," ").concat(s[3]," ").concat(s[4]," ").concat(s[5]," ").concat(s[6]+x," ").concat(s[7]+D);case"Z":return"Z";default:return null}}).filter(function(s){return null!==s}).join(" ");return~o.indexOf("NaN")?"":o},xn.turn2deg=Zx;var JM={exports:{}};!function(n){n.exports=function e(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")},n.exports.__esModule=!0,n.exports.default=n.exports}(JM);var Pb=JM.exports,tC={exports:{}},Jk={exports:{}},tI={exports:{}};!function(n){function e(t){return n.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},n.exports.__esModule=!0,n.exports.default=n.exports,e(t)}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports}(tI);var l2=tI.exports,c2={exports:{}};!function(n){var e=l2.default;n.exports=function t(i,r){if("object"!=e(i)||!i)return i;var o=i[Symbol.toPrimitive];if(void 0!==o){var s=o.call(i,r||"default");if("object"!=e(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(i)},n.exports.__esModule=!0,n.exports.default=n.exports}(c2);var eI=c2.exports;!function(n){var e=l2.default,t=eI;n.exports=function i(r){var o=t(r,"string");return"symbol"==e(o)?o:o+""},n.exports.__esModule=!0,n.exports.default=n.exports}(Jk);var nI=Jk.exports;!function(n){var e=nI;function t(r,o){for(var s=0;s<o.length;s++){var a=o[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,e(a.key),a)}}n.exports=function i(r,o,s){return o&&t(r.prototype,o),s&&t(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r},n.exports.__esModule=!0,n.exports.default=n.exports}(tC);var Nb=tC.exports,eC={exports:{}},nC={exports:{}};!function(n){function e(t){return n.exports=e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},n.exports.__esModule=!0,n.exports.default=n.exports,e(t)}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports}(nC);var iI=nC.exports,iC={exports:{}};!function(n){function e(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n.exports=e=function(){return!!t},n.exports.__esModule=!0,n.exports.default=n.exports)()}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports}(iC);var rI=iC.exports,Lb={exports:{}},rC={exports:{}};!function(n){n.exports=function e(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},n.exports.__esModule=!0,n.exports.default=n.exports}(rC);var oC=rC.exports;!function(n){var e=l2.default,t=oC;n.exports=function i(r,o){if(o&&("object"==e(o)||"function"==typeof o))return o;if(void 0!==o)throw new TypeError("Derived constructors may only return object or undefined");return t(r)},n.exports.__esModule=!0,n.exports.default=n.exports}(Lb);var oI=Lb.exports;!function(n){var e=iI,t=rI,i=oI;n.exports=function r(o,s,a){return s=e(s),i(o,t()?Reflect.construct(s,a||[],e(o).constructor):s.apply(o,a))},n.exports.__esModule=!0,n.exports.default=n.exports}(eC);var Fb=eC.exports,sC={exports:{}},aC={exports:{}};!function(n){function e(t,i){return n.exports=e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},n.exports.__esModule=!0,n.exports.default=n.exports,e(t,i)}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports}(aC);var IF=aC.exports;!function(n){var e=IF;n.exports=function t(i,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(r&&r.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),r&&e(i,r)},n.exports.__esModule=!0,n.exports.default=n.exports}(sC);var Bb=sC.exports,Rs=xn,sI=Pb,lC=Nb,RF=Fb,PF=Bb,jb=Os,Tr=uA,cC=function(n){function e(){var t;sI(this,e);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=RF(this,e,[].concat(r))).landmarks=[],t}return PF(e,n),lC(e,[{key:"rotate",value:function(t,i,r){if(this.relElevation=Rs.getAngle(i),this.relAzimuth=Rs.getAngle(t),this.relRoll=Rs.getAngle(r),this.elevation+=this.relElevation,this.azimuth+=this.relAzimuth,this.roll+=this.relRoll,this.type===Rs.CameraType.EXPLORING){var o=Tr.quat.setAxisAngle(Tr.quat.create(),[1,0,0],Rs.deg2rad((this.rotateWorld?1:-1)*this.relElevation)),s=Tr.quat.setAxisAngle(Tr.quat.create(),[0,1,0],Rs.deg2rad((this.rotateWorld?1:-1)*this.relAzimuth)),a=Tr.quat.setAxisAngle(Tr.quat.create(),[0,0,1],Rs.deg2rad(this.relRoll)),l=Tr.quat.multiply(Tr.quat.create(),s,o);l=Tr.quat.multiply(Tr.quat.create(),l,a);var u=Tr.mat4.fromQuat(Tr.mat4.create(),l);Tr.mat4.translate(this.matrix,this.matrix,[0,0,-this.distance]),Tr.mat4.multiply(this.matrix,this.matrix,u),Tr.mat4.translate(this.matrix,this.matrix,[0,0,this.distance])}else{if(Math.abs(this.elevation)>90)return this;this.computeMatrix()}return this._getAxes(),this.type===Rs.CameraType.ORBITING||this.type===Rs.CameraType.EXPLORING?this._getPosition():this.type===Rs.CameraType.TRACKING&&this._getFocalPoint(),this._update(),this}},{key:"pan",value:function(t,i){var r=Rs.createVec3(t,i,0),o=Tr.vec3.clone(this.position);return Tr.vec3.add(o,o,Tr.vec3.scale(Tr.vec3.create(),this.right,r[0])),Tr.vec3.add(o,o,Tr.vec3.scale(Tr.vec3.create(),this.up,r[1])),this._setPosition(o),this.triggerUpdate(),this}},{key:"dolly",value:function(t){var o,i=this.forward,r=Tr.vec3.clone(this.position);return o=Math.max(Math.min(this.distance+t*this.dollyingStep,this.maxDistance),this.minDistance)-this.distance,r[0]+=o*i[0],r[1]+=o*i[1],r[2]+=o*i[2],this._setPosition(r),this.type===Rs.CameraType.ORBITING||this.type===Rs.CameraType.EXPLORING?this._getDistance():this.type===Rs.CameraType.TRACKING&&Tr.vec3.add(this.focalPoint,r,this.distanceVector),this.triggerUpdate(),this}},{key:"cancelLandmarkAnimation",value:function(){void 0!==this.landmarkAnimationID&&this.canvas.cancelAnimationFrame(this.landmarkAnimationID)}},{key:"createLandmark",value:function(t){var i,r,o,s,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=a.position,u=void 0===l?this.position:l,d=a.focalPoint,f=void 0===d?this.focalPoint:d,m=a.roll,y=a.zoom,b=new Rs.runtime.CameraContribution;b.setType(this.type,void 0),b.setPosition(u[0],null!==(i=u[1])&&void 0!==i?i:this.position[1],null!==(r=u[2])&&void 0!==r?r:this.position[2]),b.setFocalPoint(f[0],null!==(o=f[1])&&void 0!==o?o:this.focalPoint[1],null!==(s=f[2])&&void 0!==s?s:this.focalPoint[2]),b.setRoll(m??this.roll),b.setZoom(y??this.zoom);var E={name:t,matrix:Tr.mat4.clone(b.getWorldTransform()),right:Tr.vec3.clone(b.right),up:Tr.vec3.clone(b.up),forward:Tr.vec3.clone(b.forward),position:Tr.vec3.clone(b.getPosition()),focalPoint:Tr.vec3.clone(b.getFocalPoint()),distanceVector:Tr.vec3.clone(b.getDistanceVector()),distance:b.getDistance(),dollyingStep:b.getDollyingStep(),azimuth:b.getAzimuth(),elevation:b.getElevation(),roll:b.getRoll(),relAzimuth:b.relAzimuth,relElevation:b.relElevation,relRoll:b.relRoll,zoom:b.getZoom()};return this.landmarks.push(E),E}},{key:"gotoLandmark",value:function(t){var i=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=jb.isString(t)?this.landmarks.find(function(U){return U.name===t}):t;if(o){var s=jb.isNumber(r)?{duration:r}:r,a=s.easing,l=void 0===a?"linear":a,u=s.duration,d=void 0===u?100:u,f=s.easingFunction,m=void 0===f?void 0:f,y=s.onfinish,b=void 0===y?void 0:y,E=s.onframe,w=void 0===E?void 0:E;this.cancelLandmarkAnimation();var R,x=o.position,D=o.focalPoint,k=o.zoom,T=o.roll,O=m||Rs.runtime.EasingFunction(l),L=function(){i.setFocalPoint(D),i.setPosition(x),i.setRoll(T),i.setZoom(k),i.computeMatrix(),i.triggerUpdate(),b?.()};if(0===d)return L();var F=function(U){void 0===R&&(R=U);var $=U-R;if($>=d)L();else{var Et,at,X=O($/d),q=Tr.vec3.create(),gt=Tr.vec3.create();if(Tr.vec3.lerp(q,i.focalPoint,D,X),Tr.vec3.lerp(gt,i.position,x,X),at=i.roll*(1-X)+T*X,Et=i.zoom*(1-X)+k*X,i.setFocalPoint(q),i.setPosition(gt),i.setRoll(at),i.setZoom(Et),Tr.vec3.dist(q,D)+Tr.vec3.dist(gt,x)<=.01&&void 0===k&&void 0===T)return L();i.computeMatrix(),i.triggerUpdate(),$<d&&(w?.(X),i.landmarkAnimationID=i.canvas.requestAnimationFrame(F))}};this.canvas.requestAnimationFrame(F)}}}])}(Rs.Camera);Rs.runtime.CameraContribution=cC,xy.AdvancedCamera=cC;var u2,_f,Vb={},zb=Pb,uC=Nb,ic=xn,Im=function(){function n(e,t){zb(this,n),this.addedNodes=[],this.attributeName=null,this.attributeNamespace=null,this.nextSibling=null,this.oldValue=null,this.previousSibling=null,this.removedNodes=[],this.type=e,this.target=t}return uC(n,null,[{key:"copy",value:function(e){var t=new n(e.type,e.target);return t.addedNodes=e.addedNodes.slice(),t.removedNodes=e.removedNodes.slice(),t.previousSibling=e.previousSibling,t.nextSibling=e.nextSibling,t.attributeName=e.attributeName,t.attributeNamespace=e.attributeNamespace,t.oldValue=e.oldValue,t}}])}(),aI=0,lh=new WeakMap,NF=function(){return uC(function n(e,t,i){zb(this,n),this.transientObservedNodes=[],this.observer=e,this.target=t,this.options=i},[{key:"enqueue",value:function(e){var t=this.observer.records,i=t.length;if(t.length>0){var o=function jF(n,e){return n===e?n:_f&&function lI(n){return n===_f||n===u2}(n)?_f:null}(t[i-1],e);if(o)return void(t[i-1]=o)}else!function d2(n){fC.push(n),hC||(hC=!0,typeof ic.runtime.globalThis<"u"?ic.runtime.globalThis.setTimeout(Ub):Ub())}(this.observer);t[i]=e}},{key:"addListeners",value:function(){this.addListeners_(this.target)}},{key:"addListeners_",value:function(e){var t=this.options;t.attributes&&e.addEventListener(ic.ElementEvent.ATTR_MODIFIED,this,!0),t.childList&&e.addEventListener(ic.ElementEvent.INSERTED,this,!0),(t.childList||t.subtree)&&e.addEventListener(ic.ElementEvent.REMOVED,this,!0)}},{key:"removeListeners",value:function(){this.removeListeners_(this.target)}},{key:"removeListeners_",value:function(e){var t=this.options;t.attributes&&e.removeEventListener(ic.ElementEvent.ATTR_MODIFIED,this,!0),t.childList&&e.removeEventListener(ic.ElementEvent.INSERTED,this,!0),(t.childList||t.subtree)&&e.removeEventListener(ic.ElementEvent.REMOVED,this,!0)}},{key:"removeTransientObservers",value:function(){var e=this.transientObservedNodes;this.transientObservedNodes=[],e.forEach(function(t){this.removeListeners_(t);for(var i=lh.get(t),r=0;r<i.length;r++)if(i[r]===this){i.splice(r,1);break}},this)}},{key:"handleEvent",value:function(e){var t,i;switch(e.stopImmediatePropagation(),e.type){case ic.ElementEvent.ATTR_MODIFIED:var r=e.attrName,o=e.relatedNode.namespaceURI;(t=dC("attributes",i=e.target)).attributeName=r,t.attributeNamespace=o;var s=e.attrChange===ic.MutationEvent.ADDITION?null:e.prevValue;cI(i,function(m){if(m.attributes&&(!m.attributeFilter||!m.attributeFilter.length||-1!==m.attributeFilter.indexOf(r)||-1!==m.attributeFilter.indexOf(o)))return m.attributeOldValue?function FF(n){return _f||((_f=Im.copy(u2)).oldValue=n,_f)}(s):t});break;case ic.ElementEvent.REMOVED:case ic.ElementEvent.INSERTED:var l,u,a=e.target;e.type===ic.ElementEvent.INSERTED?(l=[a],u=[]):(l=[],u=[a]);var d=a.previousSibling,f=a.nextSibling;(t=dC("childList",i=e.relatedNode)).addedNodes=l,t.removedNodes=u,t.previousSibling=d,t.nextSibling=f,cI(i,function(m){if(m.childList)return t})}!function BF(){u2=_f=void 0}()}}])}(),LF=function(){return uC(function n(e){zb(this,n),this.nodes=[],this.records=[],this.uid=aI++,this.callback=e},[{key:"observe",value:function(e,t){if(!t.childList&&!t.attributes&&!t.characterData||t.attributeOldValue&&!t.attributes||t.attributeFilter&&t.attributeFilter.length&&!t.attributes||t.characterDataOldValue&&!t.characterData)throw new SyntaxError;var i=lh.get(e);i||lh.set(e,i=[]);for(var r,o=0;o<i.length;o++)if(i[o].observer===this){(r=i[o]).removeListeners(),r.options=t;break}r||(r=new NF(this,e,t),i.push(r),this.nodes.push(e)),r.addListeners()}},{key:"disconnect",value:function(){var e=this;this.nodes.forEach(function(t){for(var i=lh.get(t),r=0;r<i.length;r++){var o=i[r];if(o.observer===e){o.removeListeners(),i.splice(r,1);break}}},this),this.records=[]}},{key:"takeRecords",value:function(){var e=this.records;return this.records=[],e}}])}();function dC(n,e){return u2=new Im(n,e)}function cI(n,e){for(var t=n;t;t=t.parentNode){var i=lh.get(t);if(i)for(var r=0;r<i.length;r++){var o=i[r],s=o.options;if(t===n||s.subtree){var a=e(s);a&&o.enqueue(a)}}}}var hC=!1,fC=[];function Ub(){hC=!1;var n=fC;fC=[],n.sort(function(t,i){return t.uid-i.uid});var e=!1;n.forEach(function(t){var i=t.takeRecords();(function VF(n){n.nodes.forEach(function(e){var t=lh.get(e);t&&t.forEach(function(i){i.observer===n&&i.removeTransientObservers()})})})(t),i.length&&(t.callback(i,t),e=!0)}),e&&Ub()}Vb.MutationObserver=LF,Vb.MutationRecord=Im,Vb.Registration=NF;var Fc={},pC={exports:{}},mC={exports:{}},gC={exports:{}};!function(n){n.exports=function e(t,i){(null==i||i>t.length)&&(i=t.length);for(var r=0,o=Array(i);r<i;r++)o[r]=t[r];return o},n.exports.__esModule=!0,n.exports.default=n.exports}(gC);var vC=gC.exports;!function(n){var e=vC;n.exports=function t(i){if(Array.isArray(i))return e(i)},n.exports.__esModule=!0,n.exports.default=n.exports}(mC);var zF=mC.exports,UF={exports:{}};!function(n){n.exports=function e(t){if(typeof Symbol<"u"&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)},n.exports.__esModule=!0,n.exports.default=n.exports}(UF);var I$=UF.exports,yC={exports:{}};!function(n){var e=vC;n.exports=function t(i,r){if(i){if("string"==typeof i)return e(i,r);var o={}.toString.call(i).slice(8,-1);return"Object"===o&&i.constructor&&(o=i.constructor.name),"Map"===o||"Set"===o?Array.from(i):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?e(i,r):void 0}},n.exports.__esModule=!0,n.exports.default=n.exports}(yC);var uI=yC.exports,dI={exports:{}};!function(n){n.exports=function e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},n.exports.__esModule=!0,n.exports.default=n.exports}(dI);var HF=dI.exports;!function(n){var e=zF,t=I$,i=uI,r=HF;n.exports=function o(s){return e(s)||t(s)||i(s)||r()},n.exports.__esModule=!0,n.exports.default=n.exports}(pC);var GF=pC.exports,Rm={exports:{}},bC={exports:{}};!function(n){n.exports=function e(t){if(Array.isArray(t))return t},n.exports.__esModule=!0,n.exports.default=n.exports}(bC);var $F=bC.exports,hI={exports:{}};!function(n){n.exports=function e(t,i){var r=null==t?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var o,s,a,l,u=[],d=!0,f=!1;try{if(a=(r=r.call(t)).next,0===i){if(Object(r)!==r)return;d=!1}else for(;!(d=(o=a.call(r)).done)&&(u.push(o.value),u.length!==i);d=!0);}catch(m){f=!0,s=m}finally{try{if(!d&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}},n.exports.__esModule=!0,n.exports.default=n.exports}(hI);var sl=hI.exports,Gp={exports:{}};!function(n){n.exports=function e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},n.exports.__esModule=!0,n.exports.default=n.exports}(Gp);var WF=Gp.exports;!function(n){var e=$F,t=sl,i=uI,r=WF;n.exports=function o(s,a){return e(s)||t(s,a)||i(s,a)||r()},n.exports.__esModule=!0,n.exports.default=n.exports}(Rm);var cd=xn,Hb=Pb,ch=Nb,XF=Fb,_C=Bb,fI=GF,h2=Rm.exports,xu=Os,Gb=function(n){function e(t,i,r,o){var s;return Hb(this,e),(s=XF(this,e,[t])).currentTime=r,s.timelineTime=o,s.target=i,s.type="finish",s.bubbles=!1,s.currentTarget=i,s.defaultPrevented=!1,s.eventPhase=s.AT_TARGET,s.timeStamp=Date.now(),s.currentTime=r,s.timelineTime=o,s}return _C(e,n),ch(e)}(cd.FederatedEvent),YF=0,$b=function(){return ch(function n(e,t){var i;Hb(this,n),this.currentTimePending=!1,this._idle=!0,this._paused=!1,this._finishedFlag=!0,this._currentTime=0,this._playbackRate=1,this._inTimeline=!0,this.effect=e,e.animation=this,this.timeline=t,this.id="".concat(YF++),this._inEffect=!!this.effect.update(0),this._totalDuration=Number(null===(i=this.effect)||void 0===i?void 0:i.getComputedTiming().endTime),this._holdTime=0,this._paused=!1,this.oldPlayState="idle",this.updatePromises()},[{key:"pending",get:function(){return null===this._startTime&&!this._paused&&0!==this.playbackRate||this.currentTimePending}},{key:"playState",get:function(){return this._idle?"idle":this._isFinished?"finished":this._paused?"paused":"running"}},{key:"ready",get:function(){var e=this;return this.readyPromise||(-1===this.timeline.animationsWithPromises.indexOf(this)&&this.timeline.animationsWithPromises.push(this),this.readyPromise=new Promise(function(t,i){e.resolveReadyPromise=function(){t(e)},e.rejectReadyPromise=function(){i(new Error)}}),this.pending||this.resolveReadyPromise()),this.readyPromise}},{key:"finished",get:function(){var e=this;return this.finishedPromise||(-1===this.timeline.animationsWithPromises.indexOf(this)&&this.timeline.animationsWithPromises.push(this),this.finishedPromise=new Promise(function(t,i){e.resolveFinishedPromise=function(){t(e)},e.rejectFinishedPromise=function(){i(new Error)}}),"finished"===this.playState&&this.resolveFinishedPromise()),this.finishedPromise}},{key:"currentTime",get:function(){return this.updatePromises(),this._idle||this.currentTimePending?null:this._currentTime},set:function(e){var t;(e=Number(e),isNaN(e))||(this.timeline.restart(),this._paused||null===this._startTime||(this._startTime=Number(null===(t=this.timeline)||void 0===t?void 0:t.currentTime)-e/this.playbackRate),this.currentTimePending=!1,this._currentTime!==e&&(this._idle&&(this._idle=!1,this._paused=!0),this.tickCurrentTime(e,!0),this.timeline.applyDirtiedAnimation(this)))}},{key:"startTime",get:function(){return this._startTime},set:function(e){if(null!==e){if(this.updatePromises(),e=Number(e),isNaN(e)||this._paused||this._idle)return;this._startTime=e,this.tickCurrentTime((Number(this.timeline.currentTime)-this._startTime)*this.playbackRate),this.timeline.applyDirtiedAnimation(this),this.updatePromises()}}},{key:"playbackRate",get:function(){return this._playbackRate},set:function(e){if(e!==this._playbackRate){this.updatePromises();var t=this.currentTime;this._playbackRate=e,this.startTime=null,"paused"!==this.playState&&"idle"!==this.playState&&(this._finishedFlag=!1,this._idle=!1,this.ensureAlive(),this.timeline.applyDirtiedAnimation(this)),null!==t&&(this.currentTime=t),this.updatePromises()}}},{key:"_isFinished",get:function(){return!this._idle&&(this._playbackRate>0&&Number(this._currentTime)>=this._totalDuration||this._playbackRate<0&&Number(this._currentTime)<=0)}},{key:"totalDuration",get:function(){return this._totalDuration}},{key:"_needsTick",get:function(){return this.pending||"running"===this.playState||!this._finishedFlag}},{key:"updatePromises",value:function(){var e=this.oldPlayState,t=this.pending?"pending":this.playState;return this.readyPromise&&t!==e&&("idle"===t?(this.rejectReadyPromise(),this.readyPromise=void 0):"pending"===e?this.resolveReadyPromise():"pending"===t&&(this.readyPromise=void 0)),this.finishedPromise&&t!==e&&("idle"===t?(this.rejectFinishedPromise(),this.finishedPromise=void 0):"finished"===t?this.resolveFinishedPromise():"finished"===e&&(this.finishedPromise=void 0)),this.oldPlayState=t,this.readyPromise||this.finishedPromise}},{key:"play",value:function(){this.updatePromises(),this._paused=!1,(this._isFinished||this._idle)&&(this.rewind(),this._startTime=null),this._finishedFlag=!1,this._idle=!1,this.ensureAlive(),this.timeline.applyDirtiedAnimation(this),-1===this.timeline.animations.indexOf(this)&&this.timeline.animations.push(this),this.updatePromises()}},{key:"pause",value:function(){this.updatePromises(),this.currentTime&&(this._holdTime=this.currentTime),this._isFinished||this._paused||this._idle?this._idle&&(this.rewind(),this._idle=!1):this.currentTimePending=!0,this._startTime=null,this._paused=!0,this.updatePromises()}},{key:"finish",value:function(){this.updatePromises(),!this._idle&&(this.currentTime=this._playbackRate>0?this._totalDuration:0,this._startTime=this._totalDuration-this.currentTime,this.currentTimePending=!1,this.timeline.applyDirtiedAnimation(this),this.updatePromises())}},{key:"cancel",value:function(){var e=this;if(this.updatePromises(),this._inEffect&&(this._inEffect=!1,this._idle=!0,this._paused=!1,this._finishedFlag=!0,this._currentTime=0,this._startTime=null,this.effect.update(null),this.timeline.applyDirtiedAnimation(this),this.updatePromises(),this.oncancel)){var t=new Gb(null,this,this.currentTime,null);setTimeout(function(){e.oncancel(t)})}}},{key:"reverse",value:function(){this.updatePromises();var e=this.currentTime;this.playbackRate*=-1,this.play(),null!==e&&(this.currentTime=e),this.updatePromises()}},{key:"updatePlaybackRate",value:function(e){this.playbackRate=e}},{key:"targetAnimations",value:function(){var e;return(null===(e=this.effect)||void 0===e?void 0:e.target).getAnimations()}},{key:"markTarget",value:function(){var e=this.targetAnimations();-1===e.indexOf(this)&&e.push(this)}},{key:"unmarkTarget",value:function(){var e=this.targetAnimations(),t=e.indexOf(this);-1!==t&&e.splice(t,1)}},{key:"tick",value:function(e,t){!this._idle&&!this._paused&&(null===this._startTime?t&&(this.startTime=e-this._currentTime/this.playbackRate):this._isFinished||this.tickCurrentTime((e-this._startTime)*this.playbackRate)),t&&(this.currentTimePending=!1,this.fireEvents(e))}},{key:"rewind",value:function(){if(this.playbackRate>=0)this.currentTime=0;else{if(!(this._totalDuration<1/0))throw new Error("Unable to rewind negative playback rate animation with infinite duration");this.currentTime=this._totalDuration}}},{key:"persist",value:function(){throw new Error(cd.ERROR_MSG_METHOD_NOT_IMPLEMENTED)}},{key:"addEventListener",value:function(e,t,i){throw new Error(cd.ERROR_MSG_METHOD_NOT_IMPLEMENTED)}},{key:"removeEventListener",value:function(e,t,i){throw new Error(cd.ERROR_MSG_METHOD_NOT_IMPLEMENTED)}},{key:"dispatchEvent",value:function(e){throw new Error(cd.ERROR_MSG_METHOD_NOT_IMPLEMENTED)}},{key:"commitStyles",value:function(){throw new Error(cd.ERROR_MSG_METHOD_NOT_IMPLEMENTED)}},{key:"ensureAlive",value:function(){var e,t;this._inEffect=this.playbackRate<0&&0===this.currentTime?!(null===(e=this.effect)||void 0===e||!e.update(-1)):!(null===(t=this.effect)||void 0===t||!t.update(this.currentTime)),!this._inTimeline&&(this._inEffect||!this._finishedFlag)&&(this._inTimeline=!0,this.timeline.animations.push(this))}},{key:"tickCurrentTime",value:function(e,t){e!==this._currentTime&&(this._currentTime=e,this._isFinished&&!t&&(this._currentTime=this._playbackRate>0?this._totalDuration:0),this.ensureAlive())}},{key:"fireEvents",value:function(e){var t=this;if(this._isFinished){if(!this._finishedFlag){if(this.onfinish){var i=new Gb(null,this,this.currentTime,e);setTimeout(function(){t.onfinish&&t.onfinish(i)})}this._finishedFlag=!0}}else{if(this.onframe&&"running"===this.playState){var r=new Gb(null,this,this.currentTime,e);this.onframe(r)}this._finishedFlag=!1}}}])}(),QF="function"==typeof Float32Array,wC=function(n,e){return 1-3*e+3*n},$p=function(n,e){return 3*e-6*n},mI=function(n){return 3*n},p2=function(n,e,t){return((wC(e,t)*n+$p(e,t))*n+mI(e))*n},Xb=function(n,e,t){return 3*wC(e,t)*n*n+2*$p(e,t)*n+mI(e)},xC=function(n,e,t,i){if(!(n>=0&&n<=1&&t>=0&&t<=1))throw new Error("bezier x values must be in [0, 1] range");if(n===e&&t===i)return function(a){return a};for(var r=QF?new Float32Array(11):new Array(11),o=0;o<11;++o)r[o]=p2(.1*o,n,t);return function(a){return 0===a||1===a?a:p2(function(a){for(var l=0,u=1;10!==u&&r[u]<=a;++u)l+=.1;--u;var m=l+(a-r[u])/(r[u+1]-r[u])*.1,y=Xb(m,n,t);return y>=.001?function(n,e,t,i){for(var r=0;r<4;++r){var o=Xb(e,t,i);if(0===o)return e;e-=(p2(e,t,i)-n)/o}return e}(a,m,n,t):0===y?m:function(n,e,t,i,r){var o,s,a=0;do{(o=p2(s=e+(t-e)/2,i,r)-n)>0?t=s:e=s}while(Math.abs(o)>1e-7&&++a<10);return s}(a,l,l+.1,n,t)}(a),e,i)}},m2=function(n){return Math.pow(n,2)},g2=function(n){return Math.pow(n,3)},Yb=function(n){return Math.pow(n,4)},v2=function(n){return Math.pow(n,5)},y2=function(n){return Math.pow(n,6)},Zb=function(n){return 1-Math.cos(n*Math.PI/2)},Qb=function(n){return 1-Math.sqrt(1-n*n)},b2=function(n){return n*n*(3*n-2)},qb=function(n){for(var e,t=4;n<((e=Math.pow(2,--t))-1)/11;);return 1/Math.pow(4,3-t)-7.5625*Math.pow((3*e-2)/22-n,2)},_2=function(n){var t=h2(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],2),i=t[0],o=t[1],s=void 0===o?.5:o,a=xu.clamp(Number(void 0===i?1:i),1,10),l=xu.clamp(Number(s),.1,2);return 0===n||1===n?n:-a*Math.pow(2,10*(n-1))*Math.sin((n-1-l/(2*Math.PI)*Math.asin(1/a))*(2*Math.PI)/l)},Pm=function(n){var t=arguments.length>2?arguments[2]:void 0,i=h2(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],4),r=i[0],o=void 0===r?1:r,s=i[1],a=void 0===s?100:s,l=i[2],u=void 0===l?10:l,d=i[3],f=void 0===d?0:d;o=xu.clamp(o,.1,1e3),a=xu.clamp(a,.1,1e3),u=xu.clamp(u,.1,1e3),f=xu.clamp(f,.1,1e3);var m=Math.sqrt(a/o),y=u/(2*Math.sqrt(a*o)),b=y<1?m*Math.sqrt(1-y*y):0,w=y<1?(y*m-f)/b:-f+m,M=t?t*n/1e3:n;return M=y<1?Math.exp(-M*y*m)*(1*Math.cos(b*M)+w*Math.sin(b*M)):(1+w*M)*Math.exp(-M*m),0===n||1===n?n:1-M},Jb=function(n){var i=h2(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],2),r=i[0],o=void 0===r?10:r;return("start"===i[1]?Math.ceil:Math.floor)(xu.clamp(n,0,1)*o)/o},MC=function(n){var t=h2(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],4);return xC(t[0],t[1],t[2],t[3])(n)},t_=xC(.42,0,1,1),Bc=function(n){return function(e){return 1-n(1-e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],arguments.length>2?arguments[2]:void 0)}},Mu=function(n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0;return e<.5?n(2*e,t,i)/2:1-n(-2*e+2,t,i)/2}},rc=function(n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0;return e<.5?(1-n(1-2*e,t,i))/2:(n(2*e-1,t,i)+1)/2}},gI={steps:Jb,"step-start":function(n){return Jb(n,[1,"start"])},"step-end":function(n){return Jb(n,[1,"end"])},linear:function(n){return n},"cubic-bezier":MC,ease:function(n){return MC(n,[.25,.1,.25,1])},in:t_,out:Bc(t_),"in-out":Mu(t_),"out-in":rc(t_),"in-quad":m2,"out-quad":Bc(m2),"in-out-quad":Mu(m2),"out-in-quad":rc(m2),"in-cubic":g2,"out-cubic":Bc(g2),"in-out-cubic":Mu(g2),"out-in-cubic":rc(g2),"in-quart":Yb,"out-quart":Bc(Yb),"in-out-quart":Mu(Yb),"out-in-quart":rc(Yb),"in-quint":v2,"out-quint":Bc(v2),"in-out-quint":Mu(v2),"out-in-quint":rc(v2),"in-expo":y2,"out-expo":Bc(y2),"in-out-expo":Mu(y2),"out-in-expo":rc(y2),"in-sine":Zb,"out-sine":Bc(Zb),"in-out-sine":Mu(Zb),"out-in-sine":rc(Zb),"in-circ":Qb,"out-circ":Bc(Qb),"in-out-circ":Mu(Qb),"out-in-circ":rc(Qb),"in-back":b2,"out-back":Bc(b2),"in-out-back":Mu(b2),"out-in-back":rc(b2),"in-bounce":qb,"out-bounce":Bc(qb),"in-out-bounce":Mu(qb),"out-in-bounce":rc(qb),"in-elastic":_2,"out-elastic":Bc(_2),"in-out-elastic":Mu(_2),"out-in-elastic":rc(_2),spring:Pm,"spring-in":Pm,"spring-out":Bc(Pm),"spring-in-out":Mu(Pm),"spring-out-in":rc(Pm)},N$=function(n){return gI[function(n){return function(n){return"-"===(n=n.replace(/([A-Z])/g,function(e){return"-".concat(e.toLowerCase())})).charAt(0)?n.substring(1):n}(n).replace(/^ease-/,"").replace(/(\(|\s).+/,"").toLowerCase().trim()}(n)]||gI.linear},L$=function(n){return n},F$=1,B$=.5,t8=0;function e8(n,e){return function(t){if(t>=1)return 1;var i=1/n;return(t+=e*i)-t%i}}var E2="\\s*(-?\\d+\\.?\\d*|-?\\.\\d+)\\s*",j$=new RegExp("cubic-bezier\\(".concat(E2,",").concat(E2,",").concat(E2,",").concat(E2,"\\)")),V$=/steps\(\s*(\d+)\s*\)/,vI=/steps\(\s*(\d+)\s*,\s*(start|middle|end)\s*\)/;function CC(n){var e=j$.exec(n);if(e)return xC.apply(void 0,fI(e.slice(1).map(Number)));var t=V$.exec(n);if(t)return e8(Number(t[1]),t8);var i=vI.exec(n);return i?e8(Number(i[1]),{start:F$,middle:B$,end:t8}[i[2]]):N$(n)}function EI(n){return"offset"!==n&&"easing"!==n&&"composite"!==n&&"computedOffset"!==n}var wI=function(n,e,t){return function(i){var r=xI(n,e,i);return xu.isNumber(r)?r:t(r)}};function d8(n,e,t,i){var r=cd.propertyMetadataCache[n];if(r&&r.syntax&&r.int){var o=cd.runtime.styleValueRegistry.getPropertySyntax(r.syntax);if(o){var s=o.parser,a=s?s(e,i):e,l=s?s(t,i):t,u=o.mixer(a,l,i);if(u){var d=wI.apply(void 0,fI(u));return function(f){return 0===f?e:1===f?t:d(f)}}}}return wI(!1,!0,function(f){return f?t:e})}function xI(n,e,t){if("number"==typeof n&&"number"==typeof e)return n*(1-t)+e*t;if("boolean"==typeof n&&"boolean"==typeof e||"string"==typeof n&&"string"==typeof e)return t<.5?n:e;if(Array.isArray(n)&&Array.isArray(e)){for(var i=n.length,r=e.length,o=Math.max(i,r),s=[],a=0;a<o;a++)s.push(xI(n[a<i?a:i-1],e[a<r?a:r-1],t));return s}throw new Error("Mismatched interpolation arguments ".concat(n,":").concat(e))}var h8=function(){return ch(function n(){Hb(this,n),this.delay=0,this.direction="normal",this.duration="auto",this._easing="linear",this.easingFunction=L$,this.endDelay=0,this.fill="auto",this.iterationStart=0,this.iterations=1,this.currentIteration=null,this.progress=null},[{key:"easing",get:function(){return this._easing},set:function(e){this.easingFunction=CC(e),this._easing=e}}])}();function DC(n,e){if(null===n)return[];Array.isArray(n)||(n=function f8(n){var e=[];for(var t in n)if(!(t in["easing","offset","composite"])){var i=n[t];Array.isArray(i)||(i=[i]);for(var r=i.length,o=0;o<r;o++){if(!e[o]){var s={};"offset"in n&&(s.offset=Number(n.offset)),"easing"in n&&(s.easing=n.easing),"composite"in n&&(s.composite=n.composite),e[o]=s}null!=i[o]&&(e[o][t]=i[o])}}return e.sort(function(a,l){return(a.computedOffset||0)-(l.computedOffset||0)}),e}(n));for(var t=n.map(function(l){var u={};for(var d in null!=e&&e.composite&&(u.composite="auto"),l){var f=l[d];if("offset"===d){if(null!==f){if(f=Number(f),!isFinite(f))throw new Error("Keyframe offsets must be numbers.");if(f<0||f>1)throw new Error("Keyframe offsets must be between 0 and 1.");u.computedOffset=f}}else if("composite"===d&&-1===["replace","add","accumulate","auto"].indexOf(f))throw new Error("".concat(f," compositing is not supported"));u[d]=f}return void 0===u.offset&&(u.offset=null),void 0===u.easing&&(u.easing=e?.easing||"linear"),void 0===u.composite&&(u.composite="auto"),u}),i=!0,r=-1/0,o=0;o<t.length;o++){var s=t[o].offset;if(xu.isNil(s))i=!1;else{if(s<r)throw new TypeError("Keyframes are not loosely sorted by offset. Sort or specify offsets.");r=s}}return t=t.filter(function(l){return Number(l.offset)>=0&&Number(l.offset)<=1}),i||function a(){var l,f,d=t.length;t[d-1].computedOffset=Number(null!==(l=t[d-1].offset)&&void 0!==l?l:1),d>1&&(t[0].computedOffset=Number(null!==(f=t[0].offset)&&void 0!==f?f:0));for(var m=0,y=Number(t[0].computedOffset),b=1;b<d;b++){var E=t[b].computedOffset;if(!xu.isNil(E)&&!xu.isNil(y)){for(var w=1;w<b-m;w++)t[m+w].computedOffset=y+(Number(E)-y)*w/(b-m);m=b,y=Number(E)}}}(),t}var MI="backwards|forwards|both|none".split("|"),TC="reverse|alternate|alternate-reverse".split("|");function CI(n,e){var t=new h8;return e&&(t.fill="both",t.duration="auto"),"number"!=typeof n||isNaN(n)?void 0!==n&&Object.keys(n).forEach(function(i){if(null!=n[i]&&"auto"!==n[i]){if(("number"==typeof t[i]||"duration"===i)&&("number"!=typeof n[i]||isNaN(n[i]))||"fill"===i&&-1===MI.indexOf(n[i])||"direction"===i&&-1===TC.indexOf(n[i]))return;t[i]=n[i]}}):t.duration=n,t}function SI(n,e){var t;return CI(n=AC(null!==(t=n)&&void 0!==t?t:{duration:"auto"}),e)}function AC(n){return"number"==typeof n&&(n=isNaN(n)?{duration:"auto"}:{duration:n}),n}var DI=function(){return ch(function n(e,t,i){var r=this;Hb(this,n),this.composite="replace",this.iterationComposite="replace",this.target=e,this.timing=SI(i,!1),this.timing.effect=this,this.timing.activeDuration=function w2(n){return Math.abs(function e_(n){var e;return 0===n.duration||0===n.iterations?0:("auto"===n.duration?0:Number(n.duration))*(null!==(e=n.iterations)&&void 0!==e?e:1)}(n)/(n.playbackRate||1))}(this.timing),this.timing.endTime=Math.max(0,this.timing.delay+this.timing.activeDuration+this.timing.endDelay),this.normalizedKeyframes=DC(t,this.timing),this.interpolations=function l8(n,e,t){var i=function c8(n,e){for(var t={},i=0;i<n.length;i++)for(var r in n[i])if(EI(r)){var o={offset:n[i].offset,computedOffset:n[i].computedOffset,easing:n[i].easing,easingFunction:CC(n[i].easing)||e.easingFunction,value:n[i][r]};t[r]=t[r]||[],t[r].push(o)}return t}(n,e),r=function u8(n,e){var t=[];for(var i in n)for(var r=n[i],o=0;o<r.length-1;o++){var s=o,a=o+1,l=r[s].computedOffset,u=r[a].computedOffset,d=l,f=u;0===o&&(d=-1/0,0===u&&(a=s)),o===r.length-2&&(f=1/0,1===l&&(s=a)),t.push({applyFrom:d,applyTo:f,startOffset:r[s].computedOffset,endOffset:r[a].computedOffset,easingFunction:r[s].easingFunction,property:i,interpolation:d8(i,r[s].value,r[a].value,e)})}return t.sort(function(m,y){return m.startOffset-y.startOffset}),t}(i,t);return function(o,s){if(null!==s)r.filter(function(l){return s>=l.applyFrom&&s<l.applyTo}).forEach(function(l){var d=l.endOffset-l.startOffset;o.setAttribute(l.property,l.interpolation(0===d?0:(s-l.startOffset)/d),!1,!1)});else for(var a in i)EI(a)&&o.setAttribute(a,null)}}(this.normalizedKeyframes,this.timing,this.target);var o=cd.runtime.globalThis.Proxy;this.computedTiming=o?new o(this.timing,{get:function(s,a){return"duration"===a?"auto"===s.duration?0:s.duration:"fill"===a?"auto"===s.fill?"none":s.fill:"localTime"===a?r.animation&&r.animation.currentTime||null:"currentIteration"===a?r.animation&&"running"===r.animation.playState?s.currentIteration||0:null:"progress"===a?r.animation&&"running"===r.animation.playState?s.progress||0:null:s[a]},set:function(){return!0}}):this.timing},[{key:"applyInterpolations",value:function(){this.interpolations(this.target,Number(this.timeFraction))}},{key:"update",value:function(e){return null!==e&&(this.timeFraction=function a8(n,e,t){var i=function n8(n,e,t){if(null===e)return 0;var i=t.endTime;return e<Math.min(t.delay,i)?1:e>=Math.min(t.delay+n+t.endDelay,i)?2:3}(n,e,t),r=function i8(n,e,t,i,r){switch(i){case 1:return"backwards"===e||"both"===e?0:null;case 3:return t-r;case 2:return"forwards"===e||"both"===e?n:null;case 0:return null}}(n,t.fill,e,i,t.delay);if(null===r)return null;var o="auto"===t.duration?0:t.duration,s=function r8(n,e,t,i,r){var o=r;return 0===n?1!==e&&(o+=t):o+=i/n,o}(o,i,t.iterations,r,t.iterationStart),a=function _I(n,e,t,i,r,o){var s=n===1/0?e%1:n%1;return 0===s&&2===t&&0!==i&&(0!==r||0===o)&&(s=1),s}(s,t.iterationStart,i,t.iterations,r,o),l=function o8(n,e,t,i){return 2===n&&e===1/0?1/0:1===t?Math.floor(i)-1:Math.floor(i)}(i,t.iterations,a,s),u=function s8(n,e,t){var i=n;if("normal"!==n&&"reverse"!==n){var r=e;"alternate-reverse"===n&&(r+=1),i="normal",r!==1/0&&r%2!=0&&(i="reverse")}return"normal"===i?t:1-t}(t.direction,l,a);return t.currentIteration=l,t.progress=u,t.easingFunction(u)}(this.timing.activeDuration,e,this.timing),null!==this.timeFraction)}},{key:"getKeyframes",value:function(){return this.normalizedKeyframes}},{key:"setKeyframes",value:function(e){this.normalizedKeyframes=DC(e)}},{key:"getComputedTiming",value:function(){return this.computedTiming}},{key:"getTiming",value:function(){return this.timing}},{key:"updateTiming",value:function(e){var t=this;Object.keys(e||{}).forEach(function(i){t.timing[i]=e[i]})}}])}();function i_(n,e){return Number(n.id)-Number(e.id)}var p8=function(){return ch(function n(e){var t=this;Hb(this,n),this.animations=[],this.ticking=!1,this.timelineTicking=!1,this.hasRestartedThisFrame=!1,this.animationsWithPromises=[],this.inTick=!1,this.pendingEffects=[],this.currentTime=null,this.rafId=0,this.rafCallbacks=[],this.webAnimationsNextTick=function(i){t.currentTime=i,t.discardAnimations(),0===t.animations.length?t.timelineTicking=!1:t.requestAnimationFrame(t.webAnimationsNextTick)},this.processRafCallbacks=function(i){var r=t.rafCallbacks;t.rafCallbacks=[],i<Number(t.currentTime)&&(i=Number(t.currentTime)),t.animations.sort(i_),t.animations=t.tick(i,!0,t.animations)[0],r.forEach(function(o){o[1](i)}),t.applyPendingEffects()},this.document=e},[{key:"getAnimations",value:function(){return this.discardAnimations(),this.animations.slice()}},{key:"isTicking",value:function(){return this.inTick}},{key:"play",value:function(e,t,i){var r=new DI(e,t,i),o=new $b(r,this);return this.animations.push(o),this.restartWebAnimationsNextTick(),o.updatePromises(),o.play(),o.updatePromises(),o}},{key:"applyDirtiedAnimation",value:function(e){var t=this;if(!this.inTick){e.markTarget();var i=e.targetAnimations();i.sort(i_),this.tick(Number(this.currentTime),!1,i.slice())[1].forEach(function(o){var s=t.animations.indexOf(o);-1!==s&&t.animations.splice(s,1)}),this.applyPendingEffects()}}},{key:"restart",value:function(){return this.ticking||(this.ticking=!0,this.requestAnimationFrame(function(){}),this.hasRestartedThisFrame=!0),this.hasRestartedThisFrame}},{key:"destroy",value:function(){this.document.defaultView.cancelAnimationFrame(this.frameId)}},{key:"applyPendingEffects",value:function(){this.pendingEffects.forEach(function(e){e?.applyInterpolations()}),this.pendingEffects=[]}},{key:"updateAnimationsPromises",value:function(){this.animationsWithPromises=this.animationsWithPromises.filter(function(e){return e.updatePromises()})}},{key:"discardAnimations",value:function(){this.updateAnimationsPromises(),this.animations=this.animations.filter(function(e){return"finished"!==e.playState&&"idle"!==e.playState})}},{key:"restartWebAnimationsNextTick",value:function(){this.timelineTicking||(this.timelineTicking=!0,this.requestAnimationFrame(this.webAnimationsNextTick))}},{key:"rAF",value:function(e){var t=this.rafId++;return 0===this.rafCallbacks.length&&(this.frameId=this.document.defaultView.requestAnimationFrame(this.processRafCallbacks)),this.rafCallbacks.push([t,e]),t}},{key:"requestAnimationFrame",value:function(e){var t=this;return this.rAF(function(i){t.updateAnimationsPromises(),e(i),t.updateAnimationsPromises()})}},{key:"tick",value:function(e,t,i){var o,s,r=this;this.inTick=!0,this.hasRestartedThisFrame=!1,this.currentTime=e,this.ticking=!1;var a=[],l=[],u=[],d=[];return i.forEach(function(f){f.tick(e,t),f._inEffect?(l.push(f.effect),f.markTarget()):(a.push(f.effect),f.unmarkTarget()),f._needsTick&&(r.ticking=!0);var m=f._inEffect||f._needsTick;f._inTimeline=m,m?u.push(f):d.push(f)}),(o=this.pendingEffects).push.apply(o,a),(s=this.pendingEffects).push.apply(s,l),this.ticking&&this.requestAnimationFrame(function(){}),this.inTick=!1,[u,d]}}])}();cd.runtime.EasingFunction=CC,cd.runtime.AnimationTimeline=p8,Fc.Animation=$b,Fc.AnimationEvent=Gb,Fc.AnimationTimeline=p8,Fc.EasingFunctions=gI,Fc.KeyframeEffect=DI,Fc.compareAnimations=i_,Fc.makeTiming=CI,Fc.normalizeKeyframes=DC,Fc.normalizeTimingInput=SI,Fc.numericTimingToObject=AC;var pi={};!function(n){var e=xy,t=Vb,i=xn,r=Fc;Object.keys(e).forEach(function(o){"default"!==o&&!Object.prototype.hasOwnProperty.call(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:function(){return e[o]}})}),Object.keys(t).forEach(function(o){"default"!==o&&!Object.prototype.hasOwnProperty.call(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:function(){return t[o]}})}),Object.keys(i).forEach(function(o){"default"!==o&&!Object.prototype.hasOwnProperty.call(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:function(){return i[o]}})}),Object.keys(r).forEach(function(o){"default"!==o&&!Object.prototype.hasOwnProperty.call(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:function(){return r[o]}})})}(pi);const TI={duration:500},AI={duration:1e3,easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",iterations:1,fill:"both"};var Jo,al,to,yo,gn,Wp,Ms,Dn,Cu,eo;!function(n){n.NodeAdded="NodeAdded",n.NodeUpdated="NodeUpdated",n.NodeRemoved="NodeRemoved",n.EdgeAdded="EdgeAdded",n.EdgeUpdated="EdgeUpdated",n.EdgeRemoved="EdgeRemoved",n.ComboAdded="ComboAdded",n.ComboUpdated="ComboUpdated",n.ComboRemoved="ComboRemoved"}(Jo||(Jo={})),function(n){n.DRAW="draw",n.COLLAPSE="collapse",n.EXPAND="expand",n.TRANSFORM="transform"}(al||(al={})),function(n){n.CLICK="canvas:click",n.DBLCLICK="canvas:dblclick",n.POINTER_OVER="canvas:pointerover",n.POINTER_LEAVE="canvas:pointerleave",n.POINTER_ENTER="canvas:pointerenter",n.POINTER_MOVE="canvas:pointermove",n.POINTER_OUT="canvas:pointerout",n.POINTER_DOWN="canvas:pointerdown",n.POINTER_UP="canvas:pointerup",n.CONTEXT_MENU="canvas:contextmenu",n.DRAG_START="canvas:dragstart",n.DRAG="canvas:drag",n.DRAG_END="canvas:dragend",n.DRAG_ENTER="canvas:dragenter",n.DRAG_OVER="canvas:dragover",n.DRAG_LEAVE="canvas:dragleave",n.DROP="canvas:drop",n.WHEEL="canvas:wheel"}(to||(to={})),function(n){n.CLICK="combo:click",n.DBLCLICK="combo:dblclick",n.POINTER_OVER="combo:pointerover",n.POINTER_LEAVE="combo:pointerleave",n.POINTER_ENTER="combo:pointerenter",n.POINTER_MOVE="combo:pointermove",n.POINTER_OUT="combo:pointerout",n.POINTER_DOWN="combo:pointerdown",n.POINTER_UP="combo:pointerup",n.CONTEXT_MENU="combo:contextmenu",n.DRAG_START="combo:dragstart",n.DRAG="combo:drag",n.DRAG_END="combo:dragend",n.DRAG_ENTER="combo:dragenter",n.DRAG_OVER="combo:dragover",n.DRAG_LEAVE="combo:dragleave",n.DROP="combo:drop"}(yo||(yo={})),function(n){n.CLICK="click",n.DBLCLICK="dblclick",n.POINTER_OVER="pointerover",n.POINTER_LEAVE="pointerleave",n.POINTER_ENTER="pointerenter",n.POINTER_MOVE="pointermove",n.POINTER_OUT="pointerout",n.POINTER_DOWN="pointerdown",n.POINTER_UP="pointerup",n.CONTEXT_MENU="contextmenu",n.DRAG_START="dragstart",n.DRAG="drag",n.DRAG_END="dragend",n.DRAG_ENTER="dragenter",n.DRAG_OVER="dragover",n.DRAG_LEAVE="dragleave",n.DROP="drop",n.KEY_DOWN="keydown",n.KEY_UP="keyup",n.WHEEL="wheel"}(gn||(gn={})),function(n){n.KEY_DOWN="keydown",n.KEY_UP="keyup"}(Wp||(Wp={})),function(n){n.CLICK="edge:click",n.DBLCLICK="edge:dblclick",n.POINTER_OVER="edge:pointerover",n.POINTER_LEAVE="edge:pointerleave",n.POINTER_ENTER="edge:pointerenter",n.POINTER_MOVE="edge:pointermove",n.POINTER_OUT="edge:pointerout",n.POINTER_DOWN="edge:pointerdown",n.POINTER_UP="edge:pointerup",n.CONTEXT_MENU="edge:contextmenu",n.DRAG_ENTER="edge:dragenter",n.DRAG_OVER="edge:dragover",n.DRAG_LEAVE="edge:dragleave",n.DROP="edge:drop"}(Ms||(Ms={})),function(n){n.BEFORE_CANVAS_INIT="beforecanvasinit",n.AFTER_CANVAS_INIT="aftercanvasinit",n.BEFORE_SIZE_CHANGE="beforesizechange",n.AFTER_SIZE_CHANGE="aftersizechange",n.BEFORE_ELEMENT_CREATE="beforeelementcreate",n.AFTER_ELEMENT_CREATE="afterelementcreate",n.BEFORE_ELEMENT_UPDATE="beforeelementupdate",n.AFTER_ELEMENT_UPDATE="afterelementupdate",n.BEFORE_ELEMENT_DESTROY="beforeelementdestroy",n.AFTER_ELEMENT_DESTROY="afterelementdestroy",n.BEFORE_ELEMENT_TRANSLATE="beforeelementtranslate",n.AFTER_ELEMENT_TRANSLATE="afterelementtranslate",n.BEFORE_DRAW="beforedraw",n.AFTER_DRAW="afterdraw",n.BEFORE_RENDER="beforerender",n.AFTER_RENDER="afterrender",n.BEFORE_ANIMATE="beforeanimate",n.AFTER_ANIMATE="afteranimate",n.BEFORE_LAYOUT="beforelayout",n.AFTER_LAYOUT="afterlayout",n.BEFORE_STAGE_LAYOUT="beforestagelayout",n.AFTER_STAGE_LAYOUT="afterstagelayout",n.BEFORE_TRANSFORM="beforetransform",n.AFTER_TRANSFORM="aftertransform",n.BATCH_START="batchstart",n.BATCH_END="batchend",n.BEFORE_DESTROY="beforedestroy",n.AFTER_DESTROY="afterdestroy",n.BEFORE_RENDERER_CHANGE="beforerendererchange",n.AFTER_RENDERER_CHANGE="afterrendererchange"}(Dn||(Dn={})),function(n){n.UNDO="undo",n.REDO="redo",n.CANCEL="cancel",n.ADD="add",n.CLEAR="clear",n.CHANGE="change"}(Cu||(Cu={})),function(n){n.CLICK="node:click",n.DBLCLICK="node:dblclick",n.POINTER_OVER="node:pointerover",n.POINTER_LEAVE="node:pointerleave",n.POINTER_ENTER="node:pointerenter",n.POINTER_MOVE="node:pointermove",n.POINTER_OUT="node:pointerout",n.POINTER_DOWN="node:pointerdown",n.POINTER_UP="node:pointerup",n.CONTEXT_MENU="node:contextmenu",n.DRAG_START="node:dragstart",n.DRAG="node:drag",n.DRAG_END="node:dragend",n.DRAG_ENTER="node:dragenter",n.DRAG_OVER="node:dragover",n.DRAG_LEAVE="node:dragleave",n.DROP="node:drop"}(eo||(eo={}));const So="combo",Su="tree";var oa;!function(n){n.NODE="node",n.EDGE="edge",n.COMBO="combo",n.THEME="theme",n.PALETTE="palette",n.LAYOUT="layout",n.BEHAVIOR="behavior",n.PLUGIN="plugin",n.ANIMATION="animation",n.TRANSFORM="transform",n.SHAPE="shape"}(oa||(oa={}));const OC={animation:{},behavior:{},combo:{},edge:{},layout:{},node:{},palette:{},theme:{},plugin:{},transform:{},shape:{}};function uh(n,e){var t;const i=null===(t=OC[n])||void 0===t?void 0:t[e];if(i)return i}const OI="5.0.29",ud="G6";function jc(n){return`[${ud} v${OI}] ${n}`}const oc={mute:!1,debug:n=>{console.debug(jc(n))},info:n=>{console.info(jc(n))},warn:n=>{console.warn(jc(n))},error:n=>{console.error(jc(n))}};function kC(n){const{theme:e}=n;return e?uh(oa.THEME,e)||(oc.warn(`The theme of ${e} is not registered.`),{}):{}}function IC(n,e){if(Array.isArray(n)&&0===n.length)return null;const t=Array.isArray(n)?n[0]:n,i=Array.isArray(n)?n.slice(1):e||[];return new Proxy(t,{get:(r,o)=>"function"!=typeof r[o]||["onframe","onfinish"].includes(o)?"finished"===o?Promise.all([t.finished,...i.map(s=>s.finished)]):Reflect.get(r,o):(...s)=>{r[o](...s),i.forEach(a=>{var l;return null===(l=a[o])||void 0===l?void 0:l.call(a,...s)})},set:(r,o,s)=>(["onframe","onfinish"].includes(o)||i.forEach(a=>{a[o]=s}),Reflect.set(r,o,s))})}function RC(n){const e=n.reduce((i,r)=>(Object.entries(r).forEach(([o,s])=>{void 0===i[o]?i[o]=[s]:i[o].push(s)}),i),{});Object.entries(e).forEach(([i,r])=>{(r.length!==n.length||r.some(o=>Oi(o))||r.every(o=>!["sourceNode","targetNode","childrenNode"].includes(i)&&Xo(o,r[0])))&&delete e[i]});const t=Object.entries(e).reduce((i,[r,o])=>(o.forEach((s,a)=>{i[a]?i[a][r]=s:i[a]={[r]:s}}),i),[]);return 0!==n.length&&0===t.length&&t.push({_:0},{_:0}),t}function x2(n){switch(n){case"opacity":return 1;case"x":case"y":case"z":case"zIndex":return 0;case"visibility":return"visible";case"collapsed":return!1;case"states":return[];default:return}}function kI(n,e){const{animation:t}=n;if(!1===t||!1===e)return!1;const i=Object.assign({},TI);return mo(t)&&Object.assign(i,t),mo(e)&&Object.assign(i,e),i}function PC(n,e,t,i){if(Array.isArray(i)){let o=!1;const s=[];for(let a=0;a<i.length;a++){const l=i[a];if("translate"===l[0]){if(l[1]===n&&l[2]===e)return null;o=!0,s.push(["translate",n,e])}else if("translate3d"===l[0]){if(l[1]===n&&l[2]===e&&l[3]===t)return null;o=!0,s.push(["translate3d",n,e,t])}else s.push(l)}return o||s.splice(0,0,0===t?["translate",n,e]:["translate3d",n,e,t]),s}const r=i?i.replace(/translate(3d)?\([^)]*\)/g,""):"";return 0===t?`translate(${n}, ${e})${r}`:`translate3d(${n}, ${e}, ${t})${r}`}const r_=[{fields:["x","y"]}],y8=r_,LC=[{fields:["sourceNode","targetNode"]}],FC=LC,BC=[{fields:["childrenNode","x","y"]}],H$=BC;function Nm(n){return n instanceof Float32Array||!(!Array.isArray(n)||2!==n.length&&3!==n.length)&&n.every(e=>"number"==typeof e)}function Vc(n,e,t){return n>=e&&n<=t}function dh(n=0){if(Array.isArray(n)){const[e=0,t=e,i=e,r=t]=n;return[e,t,i,r]}return[n,n,n,n]}function $$(n=0){const e=dh(n);return e[0]+e[2]}function hh(n){return n.max[0]-n.min[0]}function dd(n){return n.max[1]-n.min[1]}function Ef(n){return[hh(n),dd(n)]}function fh(n,e){const t=Nm(n)?II(n):n.getShape("key").getBounds();return e?wf(t,e):t}function II(n){const[e,t,i=0]=n,r=new pi.AABB;return r.setMinMax([e,t,i],[e,t,i]),r}function wf(n,e){const[t,i,r,o]=dh(e),[s,a,l]=n.min,[u,d,f]=n.max,m=new pi.AABB;return m.setMinMax([s-o,a-t,l],[u+i,d+r,f]),m}function C2(n){if(0===n.length)return new pi.AABB;if(1===n.length)return n[0];const e=new pi.AABB;e.setMinMax(n[0].min,n[0].max);for(let t=1;t<n.length;t++){const i=n[t];e.setMinMax([Math.min(e.min[0],i.min[0]),Math.min(e.min[1],i.min[1]),Math.min(e.min[2],i.min[2])],[Math.max(e.max[0],i.max[0]),Math.max(e.max[1],i.max[1]),Math.max(e.max[2],i.max[2])])}return e}function Al(n,e){return Vc(n[0],e.min[0],e.max[0])&&Vc(n[1],e.min[1],e.max[1])}function jC(n,e,t=!1){const{min:[i,r],max:[o,s]}=e,a=(n[1]===r||n[1]===s)&&(t||Vc(n[0],i,o)),l=(n[0]===i||n[0]===o)&&(t||Vc(n[1],r,s));return a||l}function S2(n,e){const{center:t}=e;return n[0]===t[0]&&n[1]===t[1]}function zc(n,e){const[t,i]=n,[r,o]=e.min,[s,a]=e.max,l=t-r,u=s-t,d=i-o,f=a-i,m=Math.min(l,u,d,f);return m===l?"left":m===u?"right":m===d?"top":m===f?"bottom":"left"}function xf(n,e){const t=Jd(n);if(Al(n,e))switch(zc(n,e)){case"left":t[0]=e.min[0];break;case"right":t[0]=e.max[0];break;case"top":t[1]=e.min[1];break;case"bottom":t[1]=e.max[1]}else{const[i,r]=n,[o,s]=e.min,[a,l]=e.max;t[0]=Vc(i,o,a)?i:i<o?o:a,t[1]=Vc(r,s,l)?r:r<s?s:l}return t}var E8=function(n,e){return n===e},s_=function(){function n(e,t){void 0===t&&(t=null),this.value=e,this.next=t}return n.prototype.toString=function(e){return e?e(this.value):"".concat(this.value)},n}(),K$=function(){function n(e){void 0===e&&(e=E8),this.head=null,this.tail=null,this.compare=e}return n.prototype.prepend=function(e){var t=new s_(e,this.head);return this.head=t,this.tail||(this.tail=t),this},n.prototype.append=function(e){var t=new s_(e);return this.head?(this.tail.next=t,this.tail=t,this):(this.head=t,this.tail=t,this)},n.prototype.delete=function(e){if(!this.head)return null;for(var t=null;this.head&&this.compare(this.head.value,e);)t=this.head,this.head=this.head.next;var i=this.head;if(null!==i)for(;i.next;)this.compare(i.next.value,e)?(t=i.next,i.next=i.next.next):i=i.next;return this.compare(this.tail.value,e)&&(this.tail=i),t},n.prototype.find=function(e){var t=e.value,i=void 0===t?void 0:t,r=e.callback,o=void 0===r?void 0:r;if(!this.head)return null;for(var s=this.head;s;){if(o&&o(s.value)||void 0!==i&&this.compare(s.value,i))return s;s=s.next}return null},n.prototype.deleteTail=function(){var e=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,e;for(var t=this.head;t.next;)t.next.next?t=t.next:t.next=null;return this.tail=t,e},n.prototype.deleteHead=function(){if(!this.head)return null;var e=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),e},n.prototype.fromArray=function(e){var t=this;return e.forEach(function(i){return t.append(i)}),this},n.prototype.toArray=function(){for(var e=[],t=this.head;t;)e.push(t),t=t.next;return e},n.prototype.reverse=function(){for(var e=this.head,t=null,i=null;e;)i=e.next,e.next=t,t=e,e=i;this.tail=this.head,this.head=t},n.prototype.toString=function(e){return void 0===e&&(e=void 0),this.toArray().map(function(t){return t.toString(e)}).toString()},n}(),w8=function(n,e,t){void 0===e&&(e=[]);var i=e.filter(function(a){return a.source===n||a.target===n});return"target"===t?i.filter(function(a){return a.source===n}).map(function(a){return a.target}):"source"===t?i.filter(function(a){return a.target===n}).map(function(a){return a.source}):i.map(function(a){return a.source===n?a.target:a.source})},Z$={}.toString,VC=function(n,e){return Z$.call(n)==="[object "+e+"]"};const x8=function(n){return VC(n,"Function")},M8=function(n){return Array.isArray?Array.isArray(n):VC(n,"Array")};var zC,C8=Object.values?function(n){return Object.values(n)}:function(n){var e=[];return function NI(n,e){if(n)if(M8(n))for(var i=0,r=n.length;i<r&&!1!==e(n[i],i);i++);else if(function(n){var e=typeof n;return null!==n&&"object"===e||"function"===e}(n))for(var o in n)if(n.hasOwnProperty(o)&&!1===e(n[o],o))break}(n,function(t,i){x8(n)&&"prototype"===i||e.push(t)}),e};function D8(n,e,t,i){if(n===e)return[n];if(i[e])return i[e];for(var r=[],o=0,s=t[e];o<s.length;o++){var l=D8(n,s[o],t,i);if(!l)return;for(var u=0,d=l;u<d.length;u++){var f=d[u];M8(f)?r.push(Qn(Qn([],f,!0),[e],!1)):r.push([f,e])}}return i[e]=r,i[e]}!function(n,e){if(!x8(n))throw new TypeError("Expected a function");var t=function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];var o=e?e.apply(this,i):i[0],s=t.cache;if(s.has(o))return s.get(o);var a=n.apply(this,i);return s.set(o,a),a};t.cache=new Map}(function(n,e){void 0===e&&(e={});var t=e.fontSize,i=e.fontFamily,r=e.fontWeight,o=e.fontStyle,s=e.fontVariant;return zC||(zC=document.createElement("canvas").getContext("2d")),zC.font=[o,s,r,t+"px",i].join(" "),zC.measureText(function(n){return VC(n,"String")}(n)?n:"").width},function(n,e){return void 0===e&&(e={}),function C1(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;var i=Array(n),r=0;for(e=0;e<t;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i}([n],C8(e)).join("")});var UC,T8=function(n,e,t,i,r){var o=function(n,e,t,i){var r=n.nodes,o=void 0===r?[]:r,s=n.edges,a=void 0===s?[]:s,l={},u={},d={};o.forEach(function(M,x){var D=M.id;u[D]=1/0,D===e&&(u[D]=0)});for(var f=o.length,m=function(M){var x=function(n,e,t){for(var r,i=1/0,o=0;o<e.length;o++){var s=e[o].id;!t[s]&&n[s]<=i&&(i=n[s],r=e[o])}return r}(u,o,l),D=x.id;if(l[D]=!0,u[D]===1/0)return"continue";var k=[];k=t?function(n,e){return e.filter(function(t){return t.source===n})}(D,a):function(n,e){return e.filter(function(t){return t.source===n||t.target===n})}(D,a),k.forEach(function(T){var O=T.target,L=O===D?T.source:O,F=i&&T[i]?T[i]:1;u[L]>u[x.id]+F?(u[L]=u[x.id]+F,d[L]=[x.id]):u[L]===u[x.id]+F&&d[L].push(x.id)})},y=0;y<f;y++)m();d[e]=[e];var b={};for(var E in u)u[E]!==1/0&&D8(e,E,d,b);var w={};for(var E in b)w[E]=b[E][0];return{length:u,path:w,allPath:b}}(n,e,i,r);return{length:o.length[t],path:o.path[t],allPath:o.allPath[t]}};function We(n){if(void 0!==n.id)return n.id;if(void 0!==n.source&&void 0!==n.target)return`${n.source}-${n.target}`;throw new Error(jc("The datum does not have available id."))}function l_(n){return n.combo}function HC(n,e){const t={nodes:(n.nodes||[]).map(We),edges:(n.edges||[]).map(We),combos:(n.combos||[]).map(We)};return e?Object.values(t).flat():t}!function(n){n.EuclideanDistance="euclideanDistance"}(UC||(UC={})),function(){function n(e){void 0===e&&(e=10),this.linkedList=new K$,this.maxStep=e}Object.defineProperty(n.prototype,"length",{get:function(){return this.linkedList.toArray().length},enumerable:!1,configurable:!0}),n.prototype.isEmpty=function(){return!this.linkedList.head},n.prototype.isMaxStack=function(){return this.toArray().length>=this.maxStep},n.prototype.peek=function(){return this.isEmpty()?null:this.linkedList.head.value},n.prototype.push=function(e){this.linkedList.prepend(e),this.length>this.maxStep&&this.linkedList.deleteTail()},n.prototype.pop=function(){var e=this.linkedList.deleteHead();return e?e.value:null},n.prototype.toArray=function(){return this.linkedList.toArray().map(function(e){return e.value})},n.prototype.clear=function(){for(;!this.isEmpty();)this.pop()}}();const Mf=(n,e,t)=>{var i;switch(t.type){case"degree":{const r=new Map;return null===(i=n.nodes)||void 0===i||i.forEach(o=>{const s=e(We(o),t.direction).length;r.set(We(o),s)}),r}case"betweenness":return $C(n,t.directed,t.weightPropertyName);case"closeness":return WC(n,t.directed,t.weightPropertyName);case"eigenvector":return KC(n,t.directed);case"pagerank":return A8(n,t.epsilon,t.linkProb);default:return GC(n)}},GC=n=>{var e;const t=new Map;return null===(e=n.nodes)||void 0===e||e.forEach(i=>{t.set(We(i),0)}),t},$C=(n,e,t)=>{const i=GC(n),{nodes:r=[]}=n;return r.forEach(o=>{r.forEach(s=>{if(o!==s){const{allPath:a}=T8(n,We(o),We(s),e,t),l=a.length;a.flat().forEach(u=>{u!==We(o)&&u!==We(s)&&i.set(u,i.get(u)+1/l)})}})}),i},WC=(n,e,t)=>{const i=new Map,{nodes:r=[]}=n;return r.forEach(o=>{const s=r.reduce((a,l)=>{if(o!==l){const{length:u}=T8(n,We(o),We(l),e,t);a+=u}return a},0);i.set(We(o),1/s)}),i},A8=(n,e,t)=>{var i;const r=new Map,o=function(n,e,t){"number"!=typeof e&&(e=1e-6),"number"!=typeof t&&(t=.85);for(var f,i=1,r=0,o=1e3,s=n.nodes,a=void 0===s?[]:s,l=n.edges,u=void 0===l?[]:l,d=a.length,m={},y={},b=0;b<d;++b)m[w=(E=a[b]).id]=1/d,y[w]=1/d;for(var M=function(n){var e={},t=n.nodes,r=n.edges,o=void 0===r?[]:r;return(void 0===t?[]:t).forEach(function(s){e[s.id]={degree:0,inDegree:0,outDegree:0}}),o.forEach(function(s){e[s.source].degree++,e[s.source].outDegree++,e[s.target].degree++,e[s.target].inDegree++}),e}(n);o>0&&i>e;){for(r=0,b=0;b<d;++b){var w=(E=a[b]).id;if(f=0,0===M[E.id].inDegree)m[w]=0;else{for(var x=w8(w,u,"source"),D=0;D<x.length;++D){var k=x[D],T=M[k].outDegree;T>0&&(f+=y[k]/T)}m[w]=t*f,r+=m[w]}}for(r=(1-r)/d,i=0,b=0;b<d;++b){var E;f=m[w=(E=a[b]).id]+r,i+=Math.abs(f-y[w]),y[w]=f}o-=1}return y}(n,e,t);return null===(i=n.nodes)||void 0===i||i.forEach(s=>{r.set(We(s),o[We(s)])}),r},KC=(n,e)=>{const{nodes:t=[]}=n,i=XC(n,e),r=c_(i,t.length),o=new Map;return t.forEach((s,a)=>{o.set(We(s),r[a])}),o},XC=(n,e)=>{const{nodes:t=[],edges:i=[]}=n,r=Array(t.length).fill(null).map(()=>Array(t.length).fill(0));return i.forEach(({source:o,target:s})=>{const a=t.findIndex(u=>We(u)===o),l=t.findIndex(u=>We(u)===s);e?r[a][l]=1:(r[a][l]=1,r[l][a]=1)}),r},c_=(n,e,t=100,i=1e-6)=>{let r=Array(e).fill(1),o=1/0;for(let s=0;s<t&&o>i;s++){const a=Array(e).fill(0);for(let u=0;u<e;u++)for(let d=0;d<e;d++)a[u]+=n[u][d]*r[d];const l=Math.sqrt(a.reduce((u,d)=>u+d*d,0));for(let u=0;u<e;u++)a[u]/=l;o=Math.sqrt(a.reduce((u,d,f)=>u+(d-r[f])*d,0)),r=a}return r};function Kp(n,e,t,i=Xo){const r=new Map(n.map(m=>[t(m),m])),o=new Map(e.map(m=>[t(m),m])),s=new Set(r.keys()),a=new Set(o.keys()),l=[],u=[],d=[],f=[];return a.forEach(m=>{s.has(m)?i(r.get(m),o.get(m))?f.push(o.get(m)):u.push(o.get(m)):l.push(o.get(m))}),s.forEach(m=>{a.has(m)||d.push(r.get(m))}),{enter:l,exit:d,keep:f,update:u}}const u_=new WeakMap;function Lm(n,e,t=!1,i){if(void 0===e)return;const r=(o,s=e)=>{const a=(l=s)=>o.childNodes.forEach(u=>r(u,l));if(i&&!i(o))return a();if(t||o!==n){u_.has(o)||u_.set(o,o.style.visibility);const l="hidden"===s||"hidden"===function FI(n){return u_.has(n)?u_.get(n):n.style.visibility}(o)?"hidden":"visible";o.style.visibility=l,a(l)}else n.style.visibility=e,u_.delete(n),a(e)};r(n)}class YC{constructor(e){this.extensions=[],this.extensionMap={},this.context=e}setExtensions(e){const t=function O8(n,e,t){const i={},r=o=>(o in i||(i[o]=0),`${e}-${o}-${i[o]++}`);return t.map(o=>"string"==typeof o?{type:o,key:r(o)}:"function"==typeof o?o.call(n):o.key?o:Object.assign(Object.assign({},o),{key:r(o.type)}))}(this.context.graph,this.category,e),{enter:i,update:r,exit:o,keep:s}=Kp(this.extensions,t,a=>a.key);this.createExtensions(i),this.updateExtensions([...r,...s]),this.destroyExtensions(o),this.extensions=t}createExtension(e){const{category:t}=this,{key:i,type:r}=e,o=uh(t,r);if(!o)return oc.warn(`The extension ${r} of ${t} is not registered.`);const s=new o(this.context,e);this.extensionMap[i]=s}createExtensions(e){e.forEach(t=>this.createExtension(t))}updateExtension(e){const{key:t}=e,i=this.extensionMap[t];i&&i.update(e)}updateExtensions(e){e.forEach(t=>this.updateExtension(t))}destroyExtension(e){const t=this.extensionMap[e];t&&(t.destroy(),delete this.extensionMap[e])}destroyExtensions(e){e.forEach(({key:t})=>this.destroyExtension(t))}destroy(){Object.values(this.extensionMap).forEach(e=>e.destroy()),this.context={},this.extensions=[],this.extensionMap={}}}class ZC{constructor(e,t){this.events=[],this.destroyed=!1,this.context=e,this.options=t}update(e){this.options=Object.assign(this.options,e)}destroy(){this.context={},this.options={},this.destroyed=!0}}class za extends ZC{}let BI=(()=>{class n extends za{constructor(t,i){super(t,Object.assign({},n.defaultOptions,i)),this.isOverlapping=(r,o)=>o.some(s=>r.intersects(s)),this.occupiedBounds=[],this.detectLabelCollision=r=>{const o=this.context.viewport,s={show:[],hide:[]};return this.occupiedBounds=[],r.forEach(a=>{const l=a.getShape("label").getRenderBounds();o.isInViewport(l,!0)&&!this.isOverlapping(l,this.occupiedBounds)?(s.show.push(a),this.occupiedBounds.push(wf(l,this.options.padding))):s.hide.push(a)}),s},this.hideLabelIfExceedViewport=(r,o)=>{const{exit:s}=Kp(r,o,a=>a.id);s?.forEach(this.hideLabel)},this.nodeCentralities=new Map,this.sortNodesByCentrality=(r,o)=>{const{model:s}=this.context,a=s.getData(),l=s.getRelatedEdgesData.bind(s);return r.map(u=>(this.nodeCentralities.has(u.id)||(this.nodeCentralities=Mf(a,l,o)),{node:u,centrality:this.nodeCentralities.get(u.id)})).sort((u,d)=>d.centrality-u.centrality).map(u=>u.node)},this.sortLabelElementsInView=r=>{const{sort:o,sortNode:s,sortCombo:a,sortEdge:l}=this.options,{model:u}=this.context;if(ii(o))return r.sort((w,M)=>o(u.getElementDataById(w.id),u.getElementDataById(M.id)));const{node:d=[],edge:f=[],combo:m=[]}=id(r,w=>w.type);return[...ii(a)?m.sort((w,M)=>a(...u.getComboData([w.id,M.id]))):m,...ii(s)?d.sort((w,M)=>s(...u.getNodeData([w.id,M.id]))):this.sortNodesByCentrality(d,s),...ii(l)?f.sort((w,M)=>l(...u.getEdgeData([w.id,M.id]))):f]},this.labelElementsInView=[],this.isFirstRender=!0,this.onToggleVisibility=r=>{var o;if("zIndex"===(null===(o=r.data)||void 0===o?void 0:o.stage))return;if(!this.validate(r))return void(this.hiddenElements.size>0&&(this.hiddenElements.forEach(this.showLabel),this.hiddenElements.clear()));const s=this.isFirstRender?this.getLabelElements():this.getLabelElementsInView();this.hideLabelIfExceedViewport(this.labelElementsInView,s),this.labelElementsInView=s;const a=this.sortLabelElementsInView(this.labelElementsInView),{show:l,hide:u}=this.detectLabelCollision(a);for(let d=l.length-1;d>=0;d--)this.showLabel(l[d]);u.forEach(this.hideLabel)},this.hiddenElements=new Map,this.hideLabel=r=>{const o=r.getShape("label");o&&Lm(o,"hidden"),this.hiddenElements.set(r.id,r)},this.showLabel=r=>{const o=r.getShape("label");o&&Lm(o,"visible"),r.toFront(),this.hiddenElements.delete(r.id)},this.onTransform=Xw(this.onToggleVisibility,this.options.throttle,{leading:!0}),this.enableToggle=!0,this.toggle=r=>{this.enableToggle&&this.onToggleVisibility(r)},this.onBeforeRender=()=>{this.enableToggle=!1},this.onAfterRender=r=>{this.onToggleVisibility(r),this.enableToggle=!0},this.bindEvents()}update(t){this.unbindEvents(),super.update(t),this.bindEvents(),this.onToggleVisibility({})}getLabelElements(){const{elementMap:t}=this.context.element,i=[];for(const r in t){const o=t[r];o.isVisible()&&o.getShape("label")&&i.push(o)}return i}getLabelElementsInView(){const t=this.context.viewport;return this.getLabelElements().filter(i=>t.isInViewport(i.getShape("key").getRenderBounds()))}bindEvents(){const{graph:t}=this.context;t.on(Dn.BEFORE_RENDER,this.onBeforeRender),t.on(Dn.AFTER_RENDER,this.onAfterRender),t.on(Dn.AFTER_DRAW,this.toggle),t.on(Dn.AFTER_LAYOUT,this.toggle),t.on(Dn.AFTER_TRANSFORM,this.onTransform)}unbindEvents(){const{graph:t}=this.context;t.off(Dn.BEFORE_RENDER,this.onBeforeRender),t.off(Dn.AFTER_RENDER,this.onAfterRender),t.off(Dn.AFTER_DRAW,this.toggle),t.off(Dn.AFTER_LAYOUT,this.toggle),t.off(Dn.AFTER_TRANSFORM,this.onTransform)}validate(t){if(this.destroyed)return!1;const{enable:i}=this.options;return ii(i)?i(t):!!i}destroy(){this.unbindEvents(),super.destroy()}}return n.defaultOptions={enable:!0,throttle:100,padding:0,sortNode:{type:"degree"}},n})();const QC=[0,0,0];function ir(n,e){return n.map((t,i)=>t+e[i])}function Do(n,e){return n.map((t,i)=>t-e[i])}function ph(n,e){return n.map("number"==typeof e?t=>t*e:(t,i)=>t*e[i])}function Uc(n,e){return n.map("number"==typeof e?t=>t/e:(t,i)=>t/e[i])}function mh(n,e){return n.map(t=>t*e)}function To(n,e){return Math.sqrt(n.reduce((t,i,r)=>t+Math.pow(i-e[r]||0,2),0))}function d_(n,e){return n.reduce((t,i,r)=>t+Math.abs(i-e[r]),0)}function gh(n){const e=n.reduce((t,i)=>t+Math.pow(i,2),0);return n.map(t=>t/Math.sqrt(e))}function jI(n,e,t=!1){const i=n[0]*e[1]-n[1]*e[0];let r=Math.acos(ph(n,e).reduce((o,s)=>o+s,0)/(To(n,QC)*To(e,QC)));return t&&i<0&&(r=2*Math.PI-r),r}function JC(n,e=!0){return e?[-n[1],n[0]]:[n[1],-n[0]]}function Fm(n){return[n[0],n[1]]}function h_(n){return function G$(n){return 2===n.length}(n)?[n[0],n[1],0]:n}function Ps(n){const[e,t]=n;return e||t?Math.atan2(t,e):0}function Bm(n,e){const[t,i]=n,[r,o]=e;return function tW(n,e){const t=h_(n),i=h_(e);return[t[1]*i[2]-t[2]*i[1],t[2]*i[0]-t[0]*i[2],t[0]*i[1]-t[1]*i[0]]}(Do(t,i),Do(r,o)).every(l=>0===l)}function jm(n,e,t=!1){if(Bm(n,e))return;const[i,r]=n,[o,s]=e,a=((i[0]-o[0])*(o[1]-s[1])-(i[1]-o[1])*(o[0]-s[0]))/((i[0]-r[0])*(o[1]-s[1])-(i[1]-r[1])*(o[0]-s[0])),l=s[0]-o[0]?(i[0]-o[0]+a*(r[0]-i[0]))/(s[0]-o[0]):(i[1]-o[1]+a*(r[1]-i[1]))/(s[1]-o[1]);return t||Vc(a,0,1)&&Vc(l,0,1)?[i[0]+a*(r[0]-i[0]),i[1]+a*(r[1]-i[1])]:void 0}function D2(n){if(Array.isArray(n))return Vc(n[0],0,1)&&Vc(n[1],0,1)?n:[.5,.5];const e=n.split("-");return[e.includes("left")?0:e.includes("right")?1:.5,e.includes("top")?0:e.includes("bottom")?1:.5]}function sa(n){const{x:e=0,y:t=0,z:i=0}=n.style||{};return[+e,+t,+i]}function nW(n){const{x:e,y:t,z:i}=n.style||{};return void 0!==e||void 0!==t||void 0!==i}function Cf(n,e="center"){return function k8(n,e){const[t,i]=e,{min:r,max:o}=n;return[r[0]+t*(o[0]-r[0]),r[1]+i*(o[1]-r[1])]}(n,D2(e))}function Ua(n){var e;return[n.x,n.y,null!==(e=n.z)&&void 0!==e?e:0]}function sc(n){var e;return{x:n[0],y:n[1],z:null!==(e=n[2])&&void 0!==e?e:0}}function T2(n,e=0){return n.map(t=>parseFloat(t.toFixed(e)))}function vh(n,e,t,i=!1){if(Xo(n,e))return n;const o=gh(i?Do(n,e):Do(e,n)),s=[o[0]*t,o[1]*t];return ir(Fm(n),s)}function t3(n,e){return n[1]===e[1]}function zI(n,e){return t3(n,e)||function VI(n,e){return n[0]===e[0]}(n,e)}function UI(n,e){return[2*e[0]-n[0],2*e[1]-n[1]]}function e3(n,e,t,i=!0,r=!1){for(let o=0;o<t.length;o++){let s=t[o],a=t[(o+1)%t.length];i&&(s=ir(e,s),a=ir(e,a));const u=jm([e,r?UI(n,e):n],[s,a]);if(u)return{point:u,line:[s,a]}}return{point:e,line:void 0}}function Xp(n,e,t=!1){const i=e.center,o=Do(t?UI(n,i):n,e.center),s=Math.atan2(o[1],o[0]);if(isNaN(s))return i;const a=hh(e)/2,l=dd(e)/2;return[i[0]+a*Math.cos(s),i[1]+l*Math.sin(s)]}function n3(n,e){const[t,i]=e[0],[r,o]=e[1],[s,a]=n,l=r-t,u=o-i;if(0===l&&0===u)return[t,i];let d=((s-t)*l+(a-i)*u)/(l*l+u*u);return d>1?d=1:d<0&&(d=0),[t+d*l,i+d*u]}function P8(n,e=!0){const t=function iW(n){return Uc(n.reduce((t,i)=>ir(t,i),[0,0]),n.length)}(n);return n.sort(([i,r],[o,s])=>{const a=Math.atan2(r-t[1],i-t[0]),l=Math.atan2(s-t[1],o-t[0]);return e?l-a:a-l})}function N8(n,e){return[n,[n[0],e[1]],e,[e[0],n[1]]]}const $I=n=>n.map(e=>Ki(e)?e.toLocaleLowerCase():e);class Sf{constructor(e){this.map=new Map,this.recordKey=new Set,this.onKeyDown=t=>{null!=t&&t.key&&(this.recordKey.add(t.key),this.trigger(t))},this.onKeyUp=t=>{null!=t&&t.key&&this.recordKey.delete(t.key)},this.onWheel=t=>{this.triggerExtendKey(gn.WHEEL,t)},this.onDrag=t=>{this.triggerExtendKey(gn.DRAG,t)},this.onFocus=()=>{this.recordKey.clear()},this.emitter=e,this.bindEvents()}bind(e,t){0!==e.length&&this.map.set(e,t)}unbind(e,t){this.map.forEach((i,r)=>{Xo(r,e)&&(!t||t===i)&&this.map.delete(r)})}unbindAll(){this.map.clear()}match(e){const t=$I(Array.from(this.recordKey)).sort(),i=$I(e).sort();return Xo(t,i)}bindEvents(){var e;const{emitter:t}=this;t.on(gn.KEY_DOWN,this.onKeyDown),t.on(gn.KEY_UP,this.onKeyUp),t.on(gn.WHEEL,this.onWheel),t.on(gn.DRAG,this.onDrag),null===(e=globalThis.addEventListener)||void 0===e||e.call(globalThis,"focus",this.onFocus)}trigger(e){this.map.forEach((t,i)=>{this.match(i)&&t(e)})}triggerExtendKey(e,t){this.map.forEach((i,r)=>{r.includes(e)&&Xo(Array.from(this.recordKey),r.filter(o=>o!==e))&&i(t)})}destroy(){var e;this.unbindAll(),this.emitter.off(gn.KEY_DOWN,this.onKeyDown),this.emitter.off(gn.KEY_UP,this.onKeyUp),this.emitter.off(gn.WHEEL,this.onWheel),this.emitter.off(gn.DRAG,this.onDrag),null===(e=globalThis.removeEventListener)||void 0===e||e.call(globalThis,"blur",this.onFocus)}}let L8=(()=>{class n extends za{constructor(t,i){super(t,La({},n.defaultOptions,i)),this.shortcut=new Sf(t.graph),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.clearStates=this.clearStates.bind(this),this.bindEvents()}onPointerDown(t){if(!this.validate(t)||!this.isKeydown()||this.startPoint)return;const{canvas:i,graph:r}=this.context,o=Object.assign({},this.options.style);this.options.style.lineWidth&&(o.lineWidth=+this.options.style.lineWidth/r.getZoom()),this.rectShape=new pi.Rect({id:"g6-brush-select",style:o}),i.appendChild(this.rectShape),this.startPoint=[t.canvas.x,t.canvas.y]}onPointerMove(t){var i;if(!this.startPoint)return;const{immediately:r,mode:o}=this.options;this.endPoint=O2(t),null===(i=this.rectShape)||void 0===i||i.attr({x:Math.min(this.endPoint[0],this.startPoint[0]),y:Math.min(this.endPoint[1],this.startPoint[1]),width:Math.abs(this.endPoint[0]-this.startPoint[0]),height:Math.abs(this.endPoint[1]-this.startPoint[1])}),r&&"default"===o&&this.updateElementsStates(N8(this.startPoint,this.endPoint))}onPointerUp(t){if(this.startPoint){if(!this.endPoint)return void this.clearBrush();this.endPoint=O2(t),this.updateElementsStates(N8(this.startPoint,this.endPoint)),this.clearBrush()}}clearStates(){this.endPoint||this.clearElementsStates()}clearElementsStates(){const{graph:t}=this.context,i=Object.values(t.getData()).reduce((r,o)=>Object.assign({},r,o.reduce((s,a)=>(s[We(a)]=[],s),{})),{});t.setElementState(i,this.options.animation)}updateElementsStates(t){const{graph:i}=this.context,{enableElements:r,state:o,mode:s,onSelect:a}=this.options,l=this.selector(i,t,r);let u={};switch(s){case"union":l.forEach(d=>{u[d]=[...i.getElementState(d),o]});break;case"diff":l.forEach(d=>{const f=i.getElementState(d);u[d]=f.includes(o)?f.filter(m=>m!==o):[...f,o]});break;case"intersect":l.forEach(d=>{const f=i.getElementState(d);u[d]=f.includes(o)?[o]:[]});break;default:l.forEach(d=>{u[d]=[o]})}ii(a)&&(u=a(u)),i.setElementState(u,this.options.animation)}selector(t,i,r){if(!r||0===r.length)return[];const o=[],s=t.getData();if(r.forEach(a=>{s[`${a}s`].forEach(l=>{const u=We(l);"hidden"!==t.getElementVisibility(u)&&function R8(n,e,t,i){const r=n[0],o=n[1];let s=!1;void 0===t&&(t=0),void 0===i&&(i=e.length);const a=i-t;for(let l=0,u=a-1;l<a;u=l++){const d=e[l+t][0],f=e[l+t][1],y=e[u+t][1];f>o!=y>o&&r<(e[u+t][0]-d)*(o-f)/(y-f)+d&&(s=!s)}return s}(t.getElementPosition(u),i)&&o.push(u)})}),r.includes("edge")){const a=s.edges;a?.forEach(l=>{const{source:u,target:d}=l;o.includes(u)&&o.includes(d)&&o.push(We(l))})}return o}clearBrush(){var t;null===(t=this.rectShape)||void 0===t||t.remove(),this.rectShape=void 0,this.startPoint=void 0,this.endPoint=void 0}isKeydown(){const{trigger:t}=this.options,i=Array.isArray(t)?t:[t];return this.shortcut.match(i.filter(r=>"drag"!==r))}validate(t){if(this.destroyed)return!1;const{enable:i}=this.options;return ii(i)?i(t):!!i}bindEvents(){const{graph:t}=this.context;t.on(gn.POINTER_DOWN,this.onPointerDown),t.on(gn.POINTER_MOVE,this.onPointerMove),t.on(gn.POINTER_UP,this.onPointerUp),t.on(to.CLICK,this.clearStates)}unbindEvents(){const{graph:t}=this.context;t.off(gn.POINTER_DOWN,this.onPointerDown),t.off(gn.POINTER_MOVE,this.onPointerMove),t.off(gn.POINTER_UP,this.onPointerUp),t.off(to.CLICK,this.clearStates)}update(t){this.unbindEvents(),this.options=La(this.options,t),this.bindEvents()}destroy(){this.unbindEvents(),super.destroy()}}return n.defaultOptions={animation:!1,enable:!0,enableElements:["node","combo","edge"],immediately:!1,mode:"default",state:"selected",trigger:["shift"],style:{width:0,height:0,lineWidth:1,fill:"#1677FF",stroke:"#1677FF",fillOpacity:.1,zIndex:2,pointerEvents:"none"}},n})();const O2=n=>[n.canvas.x,n.canvas.y],hd=.8,Vm=["node","edge","combo"];function fd(n,e,t,i,r=0){"TB"===i&&e(n,r);const o=t(n);if(o)for(const s of o)fd(s,e,t,i,r+1);"BT"===i&&e(n,r)}function F8(n,e,t,i,r="both"){if("combo"===e||"node"===e)return WI(n,t,i,r);const o=n.getEdgeData(t);if(!o)return[];const s=WI(n,o.source,i-1,r),a=WI(n,o.target,i-1,r);return Array.from(new Set([...s,...a,t]))}function WI(n,e,t,i="both"){const r=new Set,o=new Set,s=new Set;return function rW(n,e,t){const i=[[n,0]];for(;i.length;){const[r,o]=i.shift();e(r,o);const s=t(r);if(s)for(const a of s)i.push([a,o+1])}}(e,(a,l)=>{l>t||(s.add(a),n.getRelatedEdgesData(a,i).forEach(u=>{const d=We(u);!o.has(d)&&l<t&&(s.add(d),o.add(d))}))},a=>n.getRelatedEdgesData(a,i).map(l=>l.source===a?l.target:l.source).filter(l=>!r.has(l)&&(r.add(l),!0))),Array.from(s)}function r3(n){return n.states||[]}var o3=function(n,e,t,i){return new(t||(t=Promise))(function(o,s){function a(d){try{u(i.next(d))}catch(f){s(f)}}function l(d){try{u(i.throw(d))}catch(f){s(f)}}function u(d){d.done?o(d.value):function r(o){return o instanceof t?o:new t(function(s){s(o)})}(d.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};let oW=(()=>{let n=class sut extends za{constructor(t,i){super(t,Object.assign({},sut.defaultOptions,i)),this.onClickSelect=r=>o3(this,void 0,void 0,function*(){var o,s;this.validate(r)&&(yield this.updateState(r),null===(s=(o=this.options).onClick)||void 0===s||s.call(o,r))}),this.onClickCanvas=r=>o3(this,void 0,void 0,function*(){var o,s;this.validate(r)&&(yield this.clearState(),null===(s=(o=this.options).onClick)||void 0===s||s.call(o,r))}),this.shortcut=new Sf(t.graph),this.bindEvents()}bindEvents(){const{graph:t}=this.context;this.unbindEvents(),Vm.forEach(i=>{t.on(`${i}:${gn.CLICK}`,this.onClickSelect)}),t.on(to.CLICK,this.onClickCanvas)}get isMultipleSelect(){const{multiple:t,trigger:i}=this.options;return t&&this.shortcut.match(i)}getNeighborIds(t){const{target:i,targetType:r}=t,{graph:o}=this.context,{degree:s}=this.options;return F8(o,r,i.id,"function"==typeof s?s(t):s).filter(a=>a!==i.id)}updateState(t){return o3(this,void 0,void 0,function*(){const{state:i,unselectedState:r,neighborState:o,animation:s}=this.options;if(!i&&!o&&!r)return;const{target:a}=t,{graph:l}=this.context,d=r3(l.getElementData(a.id)).includes(i)?"unselect":"select",f={},m=this.isMultipleSelect,y=[a.id],b=this.getNeighborIds(t);if(m)if(Object.assign(f,this.getDataStates()),"select"===d){const E=(w,M)=>{w.forEach(x=>{const D=new Set(l.getElementState(x));D.add(M),D.delete(r),f[x]=Array.from(D)})};E(y,i),E(b,o),r&&Object.keys(f).forEach(w=>{const M=f[w];!M.includes(i)&&!M.includes(o)&&!M.includes(r)&&f[w].push(r)})}else{const E=f[a.id];f[a.id]=E.filter(w=>w!==i&&w!==o),E.includes(r)||f[a.id].push(r),b.forEach(w=>{f[w]=f[w].filter(M=>M!==o),f[w].includes(i)||f[w].push(r)})}else if("select"===d){Object.assign(f,this.getClearStates(!!r));const E=(w,M)=>{w.forEach(x=>{f[x]||(f[x]=l.getElementState(x)),f[x].push(M)})};E(y,i),E(b,o),r&&Object.keys(f).forEach(w=>{!y.includes(w)&&!b.includes(w)&&f[w].push(r)})}else Object.assign(f,this.getClearStates());yield l.setElementState(f,s)})}getDataStates(){const{graph:t}=this.context,{nodes:i,edges:r,combos:o}=t.getData(),s={};return[...i,...r,...o].forEach(a=>{s[We(a)]=r3(a)}),s}getClearStates(t=!1){const{graph:i}=this.context,{state:r,unselectedState:o,neighborState:s}=this.options,a=new Set([r,o,s]),{nodes:l,edges:u,combos:d}=i.getData(),f={};return[...l,...u,...d].forEach(m=>{const y=r3(m),b=y.filter(E=>!a.has(E));(t||b.length!==y.length)&&(f[We(m)]=b)}),f}clearState(){return o3(this,void 0,void 0,function*(){const{graph:t}=this.context;yield t.setElementState(this.getClearStates(),this.options.animation)})}validate(t){if(this.destroyed)return!1;const{enable:i}=this.options;return ii(i)?i(t):!!i}unbindEvents(){const{graph:t}=this.context;Vm.forEach(i=>{t.off(`${i}:${gn.CLICK}`,this.onClickSelect)}),t.off(to.CLICK,this.onClickCanvas)}destroy(){this.unbindEvents(),super.destroy()}};return n.defaultOptions={animation:!0,enable:!0,multiple:!1,trigger:["shift"],state:"selected",neighborState:"selected",unselectedState:void 0,degree:0},n})();function ac(n){var e;return!(null===(e=n.style)||void 0===e||!e.collapsed)}function p_(n,e){if(!n.startsWith(e))return!1;const t=n[e.length];return t>="A"&&t<="Z"}function KI(n,e,t=!0){if(!e||!p_(n,e))return n;const i=n.slice(e.length);return t?nr(i):i}function qr(n,e){const t=Object.entries(n).reduce((i,[r,o])=>("className"===r||"class"===r||p_(r,e)&&Object.assign(i,{[KI(r,e)]:o}),i),{});if("opacity"in n){const i=function sW(n,e){return`${e}${rd(n)}`}("opacity",e),r=n.opacity;Object.assign(t,i in n?{opacity:r*n[i]}:{opacity:r})}return t}function XI(n,e){const t=e.length;return Object.keys(n).reduce((i,r)=>(r.startsWith(e)&&(i[r.slice(t)]=n[r]),i),{})}function s3(n,e){const t="string"==typeof e?[e]:e,i={};return Object.keys(n).forEach(r=>{t.find(o=>r.startsWith(o))||(i[r]=n[r])}),i}function Hc(n=0){if("number"==typeof n)return[n,n,n];const[e,t=e,i=e]=n;return[e,t,i]}function YI(n,e){const{datum:t,graph:i}=e;return"function"==typeof n?n.call(i,t):Object.fromEntries(Object.entries(n).map(([r,o])=>"function"==typeof o?[r,o.call(i,t)]:[r,o]))}function aa(n,e){return Object.assign({},n,e,{style:Object.assign({},n?.style||{},e?.style||{})})}const a3=new WeakMap;function Gc(n,e,t){a3.has(n)||a3.set(n,{});const i=a3.get(n);return i[e]?!l3(i[e],t)&&(i[e]=t,!0):(i[e]=t,!0)}const l3=(n,e,t=2)=>{if("object"!=typeof n||"object"!=typeof e)return n===e;const i=Object.keys(n),r=Object.keys(e);if(i.length!==r.length)return!1;for(const o of i){const s=n[o],a=e[o];if(t>1&&"object"==typeof s&&"object"==typeof a){if(!l3(s,a,t-1))return!1}else if(s!==a)return!1}return!0};function ZI(n){if(n)return"string"==typeof n||"function"==typeof n||Array.isArray(n)?{type:"group",field:e=>e.id,color:n,invert:!1}:n}function QI(n){const e="string"==typeof n?uh("palette",n):n;if("function"!=typeof e)return e}function qI(n,e){let t=2*n;return"string"==typeof e?t=n*Number(e.replace("%",""))/100:"number"==typeof e&&(t=e),isNaN(t)&&(t=2*n),t}function c3(n,e,t=1,i=!1){return qI((n.max[0]-n.min[0])*(i?t:1),e)}class k2 extends pi.CustomElement{constructor(e){super(e),this.shapeMap={},this.animateMap={},this.transformPosition(this.attributes),this.render(this.attributes,this),this.setVisibility(),this.bindEvents()}get parsedAttributes(){return this.attributes}upsert(e,t,i,r,o){var s,a,l,u,d,f,m,y;const b=this.shapeMap[e];if(!1===i)return void(b&&(null===(s=o?.beforeDestroy)||void 0===s||s.call(o,b),r.removeChild(b),delete this.shapeMap[e],null===(a=o?.afterDestroy)||void 0===a||a.call(o,b)));const E="string"==typeof t?uh(oa.SHAPE,t):t;if(!E)throw new Error(jc(`Shape ${t} not found`));if(!b||b.destroyed||!(b instanceof E)){b&&(null===(l=o?.beforeDestroy)||void 0===l||l.call(o,b),b?.destroy(),null===(u=o?.afterDestroy)||void 0===u||u.call(o,b)),null===(d=o?.beforeCreate)||void 0===d||d.call(o);const w=new E({className:e,style:i});return r.appendChild(w),this.shapeMap[e]=w,null===(f=o?.afterCreate)||void 0===f||f.call(o,w),w}return null===(m=o?.beforeUpdate)||void 0===m||m.call(o,b),L9(b,i),null===(y=o?.afterUpdate)||void 0===y||y.call(o,b),b}transformPosition(e){if("x"in e||"y"in e||"z"in e){const{x:t=0,y:i=0,z:r=0,transform:o}=e,s=PC(+t,+i,+r,o);s&&(this.style.transform=s)}}update(e={}){const t=Object.assign({},this.attributes,e);this.attr(t),this.render(t,this),this.transformPosition(t),this.setVisibility()}bindEvents(){}getGraphicStyle(e){return function j8(n){return function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t}(n,["x","y","z","class","className","transform","transformOrigin","context","zIndex","visibility"])}(e)}get compositeShapes(){return[["badges","badge-"],["ports","port-"]]}animate(e,t){if(0===e.length)return null;const i=[];if(void 0!==e[0].x||void 0!==e[0].y||void 0!==e[0].z){const{x:o=0,y:s=0,z:a=0}=this.attributes;e.forEach(l=>{const{x:u=o,y:d=s,z:f=a}=l;Object.assign(l,{transform:f?[["translate3d",u,d,f]]:[["translate",u,d]]})})}const r=super.animate(e,t);if(r&&(m_(this,r),i.push(r)),Array.isArray(e)&&e.length>0){const o=["transform","transformOrigin","x","y","z","zIndex"];if(Object.keys(e[0]).some(s=>!o.includes(s))){Object.entries(this.shapeMap).forEach(([a,l])=>{const d=this[`get${rd(a)}Style`];if(ii(d)){const f=e.map(y=>d.call(this,Object.assign(Object.assign({},this.attributes),y))),m=l.animate(RC(f),t);m&&(m_(l,m),i.push(m))}});const s=(a,l)=>{if(!dp(a)){const d=this[`get${rd(l)}Style`];if(ii(d)){const f=e.map(m=>d.call(this,Object.assign(Object.assign({},this.attributes),m)));Object.entries(f[0]).map(([m])=>{const y=f.map(E=>E[m]),b=a[m];if(b){const E=b.animate(RC(y),t);E&&(m_(b,E),i.push(E))}})}}};this.compositeShapes.forEach(([a,l])=>{const u=XI(this.shapeMap,l);s(u,a)})}}return IC(i)}getShape(e){return this.shapeMap[e]}setVisibility(){const{visibility:e}=this.attributes;Lm(this,e,!0)}destroy(){this.shapeMap={},this.animateMap={},super.destroy()}}function m_(n,e){e?.finished.then(()=>{const t=n.activeAnimations.findIndex(i=>i===e);t>-1&&n.activeAnimations.splice(t,1)})}let Yp=(()=>{class n extends k2{constructor(t){super(aa({style:n.defaultStyleProps},t))}isTextStyle(t){return p_(t,"label")}isBackgroundStyle(t){return p_(t,"background")}getTextStyle(t){const r=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t}(this.getGraphicStyle(t),["padding"]);return s3(r,"background")}getBackgroundStyle(t){if(!1===t.background)return!1;const i=this.getGraphicStyle(t),{wordWrap:r,wordWrapWidth:o,padding:s}=i,a=qr(i,"background"),{min:[l,u],center:[d,f],halfExtents:[m,y]}=this.shapeMap.text.getGeometryBounds(),[b,E,w,M]=dh(s),x=2*m+M+E,{width:D,height:k}=a;Object.assign(a,D&&k?{x:d-Number(D)/2,y:f-Number(k)/2}:{x:l-M,y:u-b,width:r?Math.min(x,o+M+E):x,height:2*y+b+w});const{radius:T}=a;if("string"==typeof T&&T.endsWith("%")){const O=Number(T.replace("%",""))/100;a.radius=Math.min(+a.width,+a.height)*O}return a}render(t=this.parsedAttributes,i=this){this.upsert("text",pi.Text,this.getTextStyle(t),i),this.upsert("background",pi.Rect,this.getBackgroundStyle(t),i)}getGeometryBounds(){return(this.getShape("background")||this.getShape("text")).getGeometryBounds()}}return n.defaultStyleProps={padding:0,fontSize:12,fontFamily:"system-ui, sans-serif",wordWrap:!0,maxLines:1,wordWrapWidth:128,textOverflow:"...",textBaseline:"middle",backgroundOpacity:.75,backgroundZIndex:-1,backgroundLineWidth:0},n})(),u3=(()=>{class n extends k2{constructor(t){super(aa({style:n.defaultStyleProps},t))}getBadgeStyle(t){return this.getGraphicStyle(t)}render(t=this.parsedAttributes,i=this){this.upsert("label",Yp,this.getBadgeStyle(t),i)}getGeometryBounds(){const t=this.getShape("label");return(t.getShape("background")||t.getShape("text")).getGeometryBounds()}}return n.defaultStyleProps={padding:[2,4,2,4],fontSize:10,wordWrap:!1,backgroundRadius:"50%",backgroundOpacity:1},n})();const g_={M:["x","y"],m:["dx","dy"],H:["x"],h:["dx"],V:["y"],v:["dy"],L:["x","y"],l:["dx","dy"],Z:[],z:[],C:["x1","y1","x2","y2","x","y"],c:["dx1","dy1","dx2","dy2","dx","dy"],S:["x2","y2","x","y"],s:["dx2","dy2","dx","dy"],Q:["x1","y1","x","y"],q:["dx1","dy1","dx","dy"],T:["x","y"],t:["dx","dy"],A:["rx","ry","rotation","large-arc","sweep","x","y"],a:["rx","ry","rotation","large-arc","sweep","dx","dy"]};const nR=n=>{if(n.length<2)return[["M",0,0],["L",0,0]];const e=n[0],t=n[1],i=n[n.length-1];n.unshift(n[n.length-2],i),n.push(e,t);const o=[["M",i[0],i[1]]];for(let s=1;s<n.length-2;s+=1){const[a,l]=n[s-1],[u,d]=n[s],[f,m]=n[s+1],[y,b]=s!==n.length-2?n[s+2]:[f,m];o.push(["C",u+(f-a)/6,d+(m-l)/6,f-(y-u)/6,m-(b-d)/6,f,m])}return o};let iR=(()=>{class n extends k2{constructor(t){super(aa({style:n.defaultStyleProps},t))}getLabelStyle(t){if(!t.label||!t.d||0===t.d.length)return!1;const i=qr(this.getGraphicStyle(t),"label"),{maxWidth:r,offsetX:o,offsetY:s,autoRotate:a,placement:l,closeToPath:u}=i,d=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t}(i,["maxWidth","offsetX","offsetY","autoRotate","placement","closeToPath"]),f=this.shapeMap.key,m=f?.getRenderBounds();return Object.assign(function v_(n,e,t,i,r,o,s){const[a,l]=Cf(n,e),u={textAlign:"left"===e?"right":"right"===e?"left":"center",textBaseline:"top"===e?"bottom":"bottom"===e?"top":"middle",transform:[["translate",a+t,l+i]]};if("center"===e||!r)return u;const d=function z8(n){const e=[];return("string"==typeof n?function eR(n){const e=n.replace(/[\n\r]/g,"").replace(/-/g," -").replace(/(\d*\.)(\d+)(?=\.)/g,"$1$2 ").trim().split(/\s*,|\s+/),t=[];let i="",r={};for(;e.length>0;){let o=e.shift();o in g_?i=o:e.unshift(o),r={type:i},g_[i].forEach(l=>{o=e.shift(),r[l]=o}),"M"===i?i="L":"m"===i&&(i="l");const[s,...a]=Object.values(r);t.push([s,...a.map(Number)])}return t}(n):n).forEach(t=>{const i=t[0];if("Z"!==i)if("A"!==i)for(let r=1;r<t.length;r+=2)e.push([t[r],t[r+1],0]);else{const r=t.length;e.push([t[r-2],t[r-1],0])}else e.push(e[0])}),e}(o);if(!d||d.length<=3)return u;const m=function f_(n,e){let t=1/0,i=[[0,0],[0,0]];return e.forEach(r=>{const o=function GI(n,e){return To(n,n3(n,e))}(n,r);o<t&&(t=o,i=r)}),i}([a,l],d.map((b,E)=>{const w=b,M=d[(E+1)%d.length];return Xo(w,M)?null:[w,M]}).filter(Boolean)),y=n3([a,l],m);if(y&&m&&(u.transform=[["translate",y[0]+t,y[1]+i]],s)){const b=Math.atan((m[0][1]-m[1][1])/(m[0][0]-m[1][0]));u.transform.push(["rotate",b/Math.PI*180]),u.textAlign="center",("right"===e||"left"===e)&&(u.textBaseline=b>0?"right"===e?"bottom":"top":"right"===e?"top":"bottom")}return u}(m,l,o,s,u,t.d,a),{wordWrapWidth:c3(m,r)},d)}getKeyStyle(t){return this.getGraphicStyle(t)}render(t,i){this.upsert("key",pi.Path,this.getKeyStyle(t),i),this.upsert("label",Yp,this.getLabelStyle(t),i)}}return n.defaultStyleProps={label:!0,labelPlacement:"bottom",labelCloseToPath:!0,labelAutoRotate:!0,labelOffsetX:0,labelOffsetY:0},n})(),sR=class extends pi.Image{constructor(n){super(n),this.onMounted=()=>{this.handleRadius()},this.onAttrModified=()=>{this.handleRadius()},zm=this,this.isMutationObserved=!0,this.addEventListener(pi.ElementEvent.MOUNTED,this.onMounted),this.addEventListener(pi.ElementEvent.ATTR_MODIFIED,this.onAttrModified)}handleRadius(){const{radius:n,clipPath:e,width:t=0,height:i=0}=this.attributes;if(n&&t&&i){const[r,o]=this.getBounds().min,s={x:r,y:o,radius:n,width:t,height:i};if(e)Object.assign(this.parsedStyle.clipPath.style,s);else{const a=new pi.Rect({style:s});this.style.clipPath=a}}else e&&(this.style.clipPath=null)}};const d3=new WeakMap;let zm=null;const aR=n=>{if(zm&&function oR(n){const e=[];let t=n.parentNode;for(;t;)e.push(t),t=t.parentNode;return e}(zm).includes(n)){const e=d3.get(n);e?e.includes(zm)||e.push(zm):d3.set(n,[zm])}},h3=n=>{const e=d3.get(n);e&&e.forEach(t=>t.handleRadius())};class H8 extends k2{constructor(e){super(e)}isImage(){const{src:e}=this.attributes;return!!e}getIconStyle(e=this.attributes){const{width:t=0,height:i=0}=e,r=this.getGraphicStyle(e);return this.isImage()?Object.assign({x:-t/2,y:-i/2},r):Object.assign({textBaseline:"middle",textAlign:"center"},r)}render(e=this.attributes,t=this){this.upsert("icon",this.isImage()?sR:pi.Text,this.getIconStyle(e),t)}}class G8 extends k2{get context(){return this.attributes.context}get parsedAttributes(){return this.attributes}onframe(){}animate(e,t){const i=super.animate(e,t);return i&&(i.onframe=()=>this.onframe(),i.finished.then(()=>this.onframe())),i}}var f3=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t};let Df=(()=>{class n extends G8{constructor(t){super(aa({style:n.defaultStyleProps},t)),this.type="node"}getSize(t=this.attributes){const{size:i}=t;return Hc(i)}getKeyStyle(t){const i=this.getGraphicStyle(t);return Object.assign(s3(i,["label","halo","icon","badge","port"]))}getLabelStyle(t){if(!1===t.label||!t.labelText)return!1;const i=qr(this.getGraphicStyle(t),"label"),{placement:r,maxWidth:o,offsetX:s,offsetY:a}=i,l=f3(i,["placement","maxWidth","offsetX","offsetY"]),u=this.getShape("key").getLocalBounds();return Object.assign(qK(u,r,s,a),{wordWrapWidth:c3(u,o)},l)}getHaloStyle(t){if(!1===t.halo)return!1;const i=this.getKeyStyle(t),{fill:r}=i,o=f3(i,["fill"]),s=qr(this.getGraphicStyle(t),"halo");return Object.assign(Object.assign(Object.assign({},o),{stroke:r}),s)}getIconStyle(t){if(!1===t.icon||!t.iconText&&!t.iconSrc)return!1;const i=qr(this.getGraphicStyle(t),"icon");return Object.assign(function aW(n,e){const t=Hc(n);let i={};return e.text&&!e.fontSize&&(i={fontSize:.5*Math.min(...t)}),e.src&&(!e.width||!e.height)&&(i={width:.5*t[0],height:.5*t[1]}),i}(t.size,i),i)}getBadgesStyle(t){var i;const r=XI(this.shapeMap,"badge-"),o={};if(Object.keys(r).forEach(m=>{o[m]=!1}),!1===t.badge||null===(i=t.badges)||void 0===i||!i.length)return o;const{badges:s=[],badgePalette:a,opacity:l=1}=t,u=f3(t,["badges","badgePalette","opacity"]),d=QI(a),f=qr(this.getGraphicStyle(u),"badge");return s.forEach((m,y)=>{o[y]=Object.assign(Object.assign({backgroundFill:d?d[y%d?.length]:void 0,opacity:l},f),this.getBadgeStyle(m))}),o}getBadgeStyle(t){const i=this.getShape("key"),{placement:r="top",offsetX:o,offsetY:s}=t,a=f3(t,["placement","offsetX","offsetY"]),l=qK(i.getLocalBounds(),r,o,s,!0);return Object.assign(Object.assign({},l),a)}getPortsStyle(t){var i;const r=this.getPorts(),o={};if(Object.keys(r).forEach(l=>{o[l]=!1}),!1===t.port||null===(i=t.ports)||void 0===i||!i.length)return o;const s=qr(this.getGraphicStyle(t),"port"),{ports:a=[]}=t;return a.forEach((l,u)=>{const d=l.key||u,f=Object.assign(Object.assign({},s),l);if(YK(f))o[d]=!1;else{const[m,y]=this.getPortXY(t,l);o[d]=Object.assign({transform:[["translate",m,y]]},f)}}),o}getPortXY(t,i){const{placement:r="left"}=i,o=this.getShape("key");return R9(function $8(n,e){if(!n)return e.getLocalBounds();const t=n.canvas.getLayer(),i=e.cloneNode();Lm(i,"hidden"),t.appendChild(i);const r=i.getLocalBounds();return i.destroy(),r}(this.context,o),r)}getPorts(){return XI(this.shapeMap,"port-")}getCenter(){return this.getShape("key").getBounds().center}getIntersectPoint(t,i=!1){return function HI(n,e,t=!1){return e3(n,Cf(e,"center"),[Cf(e,"left-top"),Cf(e,"right-top"),Cf(e,"right-bottom"),Cf(e,"left-bottom")],!1,t).point}(t,this.getShape("key").getBounds(),i)}drawHaloShape(t,i){const r=this.getHaloStyle(t);if(!Gc(this,"halo",r))return;const o=this.getShape("key");this.upsert("halo",o.constructor,r,i)}drawIconShape(t,i){const r=this.getIconStyle(t);Gc(this,"icon",r)&&(this.upsert("icon",H8,r,i),aR(this))}drawBadgeShapes(t,i){const r=this.getBadgesStyle(t);Object.keys(r).forEach(o=>{const s=r[o];Gc(this,`badge-${o}`,s)&&this.upsert(`badge-${o}`,u3,s,i)})}drawPortShapes(t,i){const r=this.getPortsStyle(t);Object.keys(r).forEach(o=>{const s=r[o],a=`port-${o}`;Gc(this,a,s)&&this.upsert(a,pi.Circle,s,i)})}drawLabelShape(t,i){const r=this.getLabelStyle(t);Gc(this,"label",r)&&this.upsert("label",Yp,r,i)}_drawKeyShape(t,i){return this.drawKeyShape(t,i)}render(t=this.parsedAttributes,i=this){this._drawKeyShape(t,i),this.getShape("key")&&(this.drawHaloShape(t,i),this.drawIconShape(t,i),this.drawBadgeShapes(t,i),this.drawLabelShape(t,i),this.drawPortShapes(t,i))}update(t){super.update(t),t&&("x"in t||"y"in t||"z"in t)&&h3(this)}onframe(){this.drawBadgeShapes(this.parsedAttributes,this),this.drawLabelShape(this.parsedAttributes,this)}}return n.defaultStyleProps={x:0,y:0,size:32,droppable:!0,draggable:!0,port:!0,ports:[],portZIndex:2,portLinkToCenter:!1,badge:!0,badges:[],badgeZIndex:3,halo:!1,haloDroppable:!1,haloLineDash:0,haloLineWidth:12,haloStrokeOpacity:.25,haloPointerEvents:"none",haloZIndex:-1,icon:!0,iconZIndex:1,label:!0,labelIsBillboard:!0,labelMaxWidth:"200%",labelPlacement:"bottom",labelWordWrap:!1,labelZIndex:0},n})(),R2=(()=>{let n=class aut extends Df{constructor(t){super(aa({style:aut.defaultStyleProps},t))}drawKeyShape(t,i){return this.upsert("key",pi.Circle,this.getKeyStyle(t),i)}getKeyStyle(t){const i=super.getKeyStyle(t);return Object.assign(Object.assign({},i),{r:Math.min(...this.getSize(t))/2})}getIconStyle(t){const i=super.getIconStyle(t),{r}=this.getShape("key").attributes,o=2*r*hd;return!!i&&Object.assign({width:o,height:o},i)}getIntersectPoint(t,i=!1){return Xp(t,this.getShape("key").getBounds(),i)}};return n.defaultStyleProps={size:32},n})(),p3=class extends Df{constructor(n){super(n)}get parsedAttributes(){return this.attributes}drawKeyShape(n,e){return this.upsert("key",pi.Polygon,this.getKeyStyle(n),e)}getKeyStyle(n){const e=super.getKeyStyle(n);return Object.assign(Object.assign({},e),{points:this.getPoints(n)})}getIntersectPoint(n,e=!1){var t,i;const{points:r}=this.getShape("key").attributes;return e3(n,[+((null===(t=this.attributes)||void 0===t?void 0:t.x)||0),+((null===(i=this.attributes)||void 0===i?void 0:i.y)||0)],r,!0,e).point}},uW=(()=>{class n extends R2{constructor(t){super(aa({style:n.defaultStyleProps},t))}parseOuterR(){const{size:t}=this.parsedAttributes;return Math.min(...Hc(t))/2}parseInnerR(){const{innerR:t}=this.parsedAttributes;return Ki(t)?parseInt(t)/100*this.parseOuterR():t}drawDonutShape(t,i){const{donuts:r}=t;if(null==r||!r.length)return;const o=r.map(m=>oi(m)?{value:m}:m),s=qr(this.getGraphicStyle(t),"donut"),a=QI(t.donutPalette);if(!a)return;const l=o.reduce((m,y)=>{var b;return m+(null!==(b=y.value)&&void 0!==b?b:0)},0),u=this.parseOuterR(),d=this.parseInnerR();let f=0;o.forEach((m,y)=>{const{value:b=0,color:E=a[y%a.length]}=m,w=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t}(m,["value","color"]),M=360*(0===l?1/o.length:b/l);this.upsert(`round${y}`,pi.Path,Object.assign(Object.assign(Object.assign({},s),{d:hW(u,d,f,f+M),fill:E}),w),i),f+=M})}render(t,i=this){super.render(t,i),this.drawDonutShape(t,i)}}return n.defaultStyleProps={innerR:"50%",donuts:[],donutPalette:"tableau"},n})();const m3=(n,e,t,i)=>[n+Math.sin(i)*t,e-Math.cos(i)*t],hW=(n=0,e=0,t,i)=>{const[r,o]=[0,0];return Math.abs(t-i)%360<1e-6?((n,e,t,i)=>i<=0||t<=i?[["M",n-t,e],["A",t,t,0,1,1,n+t,e],["A",t,t,0,1,1,n-t,e],["Z"]]:[["M",n-t,e],["A",t,t,0,1,1,n+t,e],["A",t,t,0,1,1,n-t,e],["Z"],["M",n+i,e],["A",i,i,0,1,0,n-i,e],["A",i,i,0,1,0,n+i,e],["Z"]])(r,o,n,e):((n,e,t,i,r,o)=>{const[s,a]=[r/360*2*Math.PI,o/360*2*Math.PI],l=[m3(n,e,i,s),m3(n,e,t,s),m3(n,e,t,a),m3(n,e,i,a)],u=a-s>Math.PI?1:0;return[["M",l[0][0],l[0][1]],["L",l[1][0],l[1][1]],["A",t,t,0,u,1,l[2][0],l[2][1]],["L",l[3][0],l[3][1]],["A",i,i,0,u,0,l[0][0],l[0][1]],["Z"]]})(r,o,n,e,t,i)};let fW=(()=>{let n=class lut extends Df{constructor(t){super(aa({style:lut.defaultStyleProps},t))}drawKeyShape(t,i){return this.upsert("key",pi.Ellipse,this.getKeyStyle(t),i)}getKeyStyle(t){const i=super.getKeyStyle(t),[r,o]=this.getSize(t);return Object.assign(Object.assign({},i),{rx:r/2,ry:o/2})}getIconStyle(t){const i=super.getIconStyle(t),{rx:r,ry:o}=this.getShape("key").attributes,s=2*Math.min(+r,+o)*hd;return!!i&&Object.assign({width:s,height:s},i)}getIntersectPoint(t,i=!1){return Xp(t,this.getShape("key").getBounds(),i)}};return n.defaultStyleProps={size:[45,35]},n})();typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"&&self,function(){function t(T,O,R,L,F){i(T,O,R||0,L||T.length-1,F||o)}function i(T,O,R,L,F){for(;L>R;){if(L-R>600){var U=L-R+1,$=O-R+1,X=Math.log(U),q=.5*Math.exp(2*X/3),gt=.5*Math.sqrt(X*q*(U-q)/U)*($-U/2<0?-1:1);i(T,O,Math.max(R,Math.floor(O-$*q/U+gt)),Math.min(L,Math.floor(O+(U-$)*q/U+gt)),F)}var Q=T[O],et=R,St=L;for(r(T,R,O),F(T[L],Q)>0&&r(T,R,L);et<St;){for(r(T,et,St),et++,St--;F(T[et],Q)<0;)et++;for(;F(T[St],Q)>0;)St--}0===F(T[R],Q)?r(T,R,St):r(T,++St,L),St<=O&&(R=St+1),O<=St&&(L=St-1)}}function r(T,O,R){var L=T[O];T[O]=T[R],T[R]=L}function o(T,O){return T<O?-1:T>O?1:0}var s=function(T){void 0===T&&(T=9),this._maxEntries=Math.max(4,T),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function a(T,O,R){if(!R)return O.indexOf(T);for(var L=0;L<O.length;L++)if(R(T,O[L]))return L;return-1}function l(T,O){u(T,0,T.children.length,O,T)}function u(T,O,R,L,F){F||(F=D(null)),F.minX=1/0,F.minY=1/0,F.maxX=-1/0,F.maxY=-1/0;for(var U=O;U<R;U++){var $=T.children[U];d(F,T.leaf?L($):$)}return F}function d(T,O){return T.minX=Math.min(T.minX,O.minX),T.minY=Math.min(T.minY,O.minY),T.maxX=Math.max(T.maxX,O.maxX),T.maxY=Math.max(T.maxY,O.maxY),T}function f(T,O){return T.minX-O.minX}function m(T,O){return T.minY-O.minY}function y(T){return(T.maxX-T.minX)*(T.maxY-T.minY)}function b(T){return T.maxX-T.minX+(T.maxY-T.minY)}function E(T,O){return(Math.max(O.maxX,T.maxX)-Math.min(O.minX,T.minX))*(Math.max(O.maxY,T.maxY)-Math.min(O.minY,T.minY))}function w(T,O){var R=Math.max(T.minX,O.minX),L=Math.max(T.minY,O.minY),F=Math.min(T.maxX,O.maxX),U=Math.min(T.maxY,O.maxY);return Math.max(0,F-R)*Math.max(0,U-L)}function M(T,O){return T.minX<=O.minX&&T.minY<=O.minY&&O.maxX<=T.maxX&&O.maxY<=T.maxY}function x(T,O){return O.minX<=T.maxX&&O.minY<=T.maxY&&O.maxX>=T.minX&&O.maxY>=T.minY}function D(T){return{children:T,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function k(T,O,R,L,F){for(var U=[O,R];U.length;)if(!((R=U.pop())-(O=U.pop())<=L)){var $=O+Math.ceil((R-O)/L/2)*L;t(T,$,O,R,F),U.push(O,$,$,R)}}s.prototype.all=function(){return this._all(this.data,[])},s.prototype.search=function(T){var O=this.data,R=[];if(!x(T,O))return R;for(var L=this.toBBox,F=[];O;){for(var U=0;U<O.children.length;U++){var $=O.children[U],X=O.leaf?L($):$;x(T,X)&&(O.leaf?R.push($):M(T,X)?this._all($,R):F.push($))}O=F.pop()}return R},s.prototype.collides=function(T){var O=this.data;if(!x(T,O))return!1;for(var R=[];O;){for(var L=0;L<O.children.length;L++){var F=O.children[L],U=O.leaf?this.toBBox(F):F;if(x(T,U)){if(O.leaf||M(T,U))return!0;R.push(F)}}O=R.pop()}return!1},s.prototype.load=function(T){if(!T||!T.length)return this;if(T.length<this._minEntries){for(var O=0;O<T.length;O++)this.insert(T[O]);return this}var R=this._build(T.slice(),0,T.length-1,0);if(this.data.children.length)if(this.data.height===R.height)this._splitRoot(this.data,R);else{if(this.data.height<R.height){var L=this.data;this.data=R,R=L}this._insert(R,this.data.height-R.height-1,!0)}else this.data=R;return this},s.prototype.insert=function(T){return T&&this._insert(T,this.data.height-1),this},s.prototype.clear=function(){return this.data=D([]),this},s.prototype.remove=function(T,O){if(!T)return this;for(var $,X,q,R=this.data,L=this.toBBox(T),F=[],U=[];R||F.length;){if(R||(R=F.pop(),X=F[F.length-1],$=U.pop(),q=!0),R.leaf){var gt=a(T,R.children,O);if(-1!==gt)return R.children.splice(gt,1),F.push(R),this._condense(F),this}q||R.leaf||!M(R,L)?X?($++,R=X.children[$],q=!1):R=null:(F.push(R),U.push($),$=0,X=R,R=R.children[0])}return this},s.prototype.toBBox=function(T){return T},s.prototype.compareMinX=function(T,O){return T.minX-O.minX},s.prototype.compareMinY=function(T,O){return T.minY-O.minY},s.prototype.toJSON=function(){return this.data},s.prototype.fromJSON=function(T){return this.data=T,this},s.prototype._all=function(T,O){for(var R=[];T;)T.leaf?O.push.apply(O,T.children):R.push.apply(R,T.children),T=R.pop();return O},s.prototype._build=function(T,O,R,L){var $,F=R-O+1,U=this._maxEntries;if(F<=U)return l($=D(T.slice(O,R+1)),this.toBBox),$;L||(L=Math.ceil(Math.log(F)/Math.log(U)),U=Math.ceil(F/Math.pow(U,L-1))),($=D([])).leaf=!1,$.height=L;var X=Math.ceil(F/U),q=X*Math.ceil(Math.sqrt(U));k(T,O,R,q,this.compareMinX);for(var gt=O;gt<=R;gt+=q){var Et=Math.min(gt+q-1,R);k(T,gt,Et,X,this.compareMinY);for(var at=gt;at<=Et;at+=X){var Q=Math.min(at+X-1,Et);$.children.push(this._build(T,at,Q,L-1))}}return l($,this.toBBox),$},s.prototype._chooseSubtree=function(T,O,R,L){for(;L.push(O),!O.leaf&&L.length-1!==R;){for(var F=1/0,U=1/0,$=void 0,X=0;X<O.children.length;X++){var q=O.children[X],gt=y(q),Et=E(T,q)-gt;Et<U?(U=Et,F=gt<F?gt:F,$=q):Et===U&&gt<F&&(F=gt,$=q)}O=$||O.children[0]}return O},s.prototype._insert=function(T,O,R){var L=R?T:this.toBBox(T),F=[],U=this._chooseSubtree(L,this.data,O,F);for(U.children.push(T),d(U,L);O>=0&&F[O].children.length>this._maxEntries;)this._split(F,O),O--;this._adjustParentBBoxes(L,F,O)},s.prototype._split=function(T,O){var R=T[O],L=R.children.length,F=this._minEntries;this._chooseSplitAxis(R,F,L);var U=this._chooseSplitIndex(R,F,L),$=D(R.children.splice(U,R.children.length-U));$.height=R.height,$.leaf=R.leaf,l(R,this.toBBox),l($,this.toBBox),O?T[O-1].children.push($):this._splitRoot(R,$)},s.prototype._splitRoot=function(T,O){this.data=D([T,O]),this.data.height=T.height+1,this.data.leaf=!1,l(this.data,this.toBBox)},s.prototype._chooseSplitIndex=function(T,O,R){for(var L,F=1/0,U=1/0,$=O;$<=R-O;$++){var X=u(T,0,$,this.toBBox),q=u(T,$,R,this.toBBox),gt=w(X,q),Et=y(X)+y(q);gt<F?(F=gt,L=$,U=Et<U?Et:U):gt===F&&Et<U&&(U=Et,L=$)}return L||R-O},s.prototype._chooseSplitAxis=function(T,O,R){var L=T.leaf?this.compareMinX:f,F=T.leaf?this.compareMinY:m;this._allDistMargin(T,O,R,L)<this._allDistMargin(T,O,R,F)&&T.children.sort(L)},s.prototype._allDistMargin=function(T,O,R,L){T.children.sort(L);for(var F=this.toBBox,U=u(T,0,O,F),$=u(T,R-O,R,F),X=b(U)+b($),q=O;q<R-O;q++){var gt=T.children[q];d(U,T.leaf?F(gt):gt),X+=b(U)}for(var Et=R-O-1;Et>=O;Et--){var at=T.children[Et];d($,T.leaf?F(at):at),X+=b($)}return X},s.prototype._adjustParentBBoxes=function(T,O,R){for(var L=R;L>=0;L--)d(O[L],T)},s.prototype._condense=function(T){for(var O=T.length-1,R=void 0;O>=0;O--)0===T[O].children.length?O>0?(R=T[O-1].children).splice(R.indexOf(T[O]),1):this.clear():l(T[O],this.toBBox)}}();var Je=function(n){return n.GROUP="g",n.FRAGMENT="fragment",n.CIRCLE="circle",n.ELLIPSE="ellipse",n.IMAGE="image",n.RECT="rect",n.LINE="line",n.POLYLINE="polyline",n.POLYGON="polygon",n.TEXT="text",n.PATH="path",n.HTML="html",n.MESH="mesh",n}({}),y_=function(n){return n[n.ZERO=0]="ZERO",n[n.NEGATIVE_ONE=1]="NEGATIVE_ONE",n}({}),Du=function(){return On(function n(){In(this,n),this.plugins=[]},[{key:"addRenderingPlugin",value:function(e){this.plugins.push(e),this.context.renderingPlugins.push(e)}},{key:"removeAllRenderingPlugins",value:function(){var e=this;this.plugins.forEach(function(t){var i=e.context.renderingPlugins.indexOf(t);i>=0&&e.context.renderingPlugins.splice(i,1)})}}])}(),lR=function(){return On(function n(e){In(this,n),this.clipSpaceNearZ=y_.NEGATIVE_ONE,this.plugins=[],this.config=xr({enableDirtyCheck:!0,enableCulling:!1,enableAutoRendering:!0,enableDirtyRectangleRendering:!0,enableDirtyRectangleRenderingDebug:!1,enableSizeAttenuation:!0,enableRenderingOptimization:!1},e)},[{key:"registerPlugin",value:function(e){-1===this.plugins.findIndex(function(i){return i===e})&&this.plugins.push(e)}},{key:"unregisterPlugin",value:function(e){var t=this.plugins.findIndex(function(i){return i===e});t>-1&&this.plugins.splice(t,1)}},{key:"getPlugins",value:function(){return this.plugins}},{key:"getPlugin",value:function(e){return this.plugins.find(function(t){return t.name===e})}},{key:"getConfig",value:function(){return this.config}},{key:"setConfig",value:function(e){Object.assign(this.config,e)}}])}(),b_=O0,Um=$l,mW=mT,gW=HN,c=iw,h=Kg,p=function(){function n(){In(this,n),this.center=[0,0,0],this.halfExtents=[0,0,0],this.min=[0,0,0],this.max=[0,0,0]}return On(n,[{key:"update",value:function(e,t){Um(this.center,e),Um(this.halfExtents,t),h(this.min,this.center,this.halfExtents),b_(this.max,this.center,this.halfExtents)}},{key:"setMinMax",value:function(e,t){b_(this.center,t,e),c(this.center,this.center,.5),h(this.halfExtents,t,e),c(this.halfExtents,this.halfExtents,.5),Um(this.min,e),Um(this.max,t)}},{key:"getMin",value:function(){return this.min}},{key:"getMax",value:function(){return this.max}},{key:"add",value:function(e){if(!n.isEmpty(e)){if(n.isEmpty(this))return void this.setMinMax(e.getMin(),e.getMax());var t=this.center,i=t[0],r=t[1],o=t[2],s=this.halfExtents,a=s[0],l=s[1],u=s[2],d=i-a,f=i+a,m=r-l,y=r+l,b=o-u,E=o+u,w=e.center,M=w[0],x=w[1],D=w[2],k=e.halfExtents,T=k[0],O=k[1],R=k[2],L=M-T,F=M+T,U=x-O,$=x+O,X=D-R,q=D+R;L<d&&(d=L),F>f&&(f=F),U<m&&(m=U),$>y&&(y=$),X<b&&(b=X),q>E&&(E=q),t[0]=.5*(d+f),t[1]=.5*(m+y),t[2]=.5*(b+E),s[0]=.5*(f-d),s[1]=.5*(y-m),s[2]=.5*(E-b),this.min[0]=d,this.min[1]=m,this.min[2]=b,this.max[0]=f,this.max[1]=y,this.max[2]=E}}},{key:"setFromTransformedAABB",value:function(e,t){var i=this.center,r=this.halfExtents,o=e.center,s=e.halfExtents,a=t[0],l=t[4],u=t[8],d=t[1],f=t[5],m=t[9],y=t[2],b=t[6],E=t[10],w=Math.abs(a),M=Math.abs(l),x=Math.abs(u),D=Math.abs(d),k=Math.abs(f),T=Math.abs(m),O=Math.abs(y),R=Math.abs(b),L=Math.abs(E);i[0]=t[12]+a*o[0]+l*o[1]+u*o[2],i[1]=t[13]+d*o[0]+f*o[1]+m*o[2],i[2]=t[14]+y*o[0]+b*o[1]+E*o[2],r[0]=w*s[0]+M*s[1]+x*s[2],r[1]=D*s[0]+k*s[1]+T*s[2],r[2]=O*s[0]+R*s[1]+L*s[2],h(this.min,i,r),b_(this.max,i,r)}},{key:"intersects",value:function(e){var t=this.getMax(),i=this.getMin(),r=e.getMax(),o=e.getMin();return i[0]<=r[0]&&t[0]>=o[0]&&i[1]<=r[1]&&t[1]>=o[1]&&i[2]<=r[2]&&t[2]>=o[2]}},{key:"intersection",value:function(e){if(!this.intersects(e))return null;var t=new n,i=mW([0,0,0],this.getMin(),e.getMin()),r=gW([0,0,0],this.getMax(),e.getMax());return t.setMinMax(i,r),t}},{key:"getNegativeFarPoint",value:function(e){return 273===e.pnVertexFlag?Um([0,0,0],this.min):272===e.pnVertexFlag?[this.min[0],this.min[1],this.max[2]]:257===e.pnVertexFlag?[this.min[0],this.max[1],this.min[2]]:256===e.pnVertexFlag?[this.min[0],this.max[1],this.max[2]]:17===e.pnVertexFlag?[this.max[0],this.min[1],this.min[2]]:16===e.pnVertexFlag?[this.max[0],this.min[1],this.max[2]]:1===e.pnVertexFlag?[this.max[0],this.max[1],this.min[2]]:[this.max[0],this.max[1],this.max[2]]}},{key:"getPositiveFarPoint",value:function(e){return 273===e.pnVertexFlag?Um([0,0,0],this.max):272===e.pnVertexFlag?[this.max[0],this.max[1],this.min[2]]:257===e.pnVertexFlag?[this.max[0],this.min[1],this.max[2]]:256===e.pnVertexFlag?[this.max[0],this.min[1],this.min[2]]:17===e.pnVertexFlag?[this.min[0],this.max[1],this.max[2]]:16===e.pnVertexFlag?[this.min[0],this.max[1],this.min[2]]:1===e.pnVertexFlag?[this.min[0],this.min[1],this.max[2]]:[this.min[0],this.min[1],this.min[2]]}}],[{key:"isEmpty",value:function(e){return!e||0===e.halfExtents[0]&&0===e.halfExtents[1]&&0===e.halfExtents[2]}}])}(),v=function(){return On(function n(e,t){In(this,n),this.distance=e||0,this.normal=t||xo(0,1,0),this.updatePNVertexFlag()},[{key:"updatePNVertexFlag",value:function(){this.pnVertexFlag=(+(this.normal[0]>=0)<<8)+(+(this.normal[1]>=0)<<4)+ +(this.normal[2]>=0)}},{key:"distanceToPoint",value:function(e){return _l(e,this.normal)-this.distance}},{key:"normalize",value:function(){var e=1/Ky(this.normal);iw(this.normal,this.normal,e),this.distance*=e}},{key:"intersectsLine",value:function(e,t,i){var r=this.distanceToPoint(e),s=r/(r-this.distanceToPoint(t)),a=s>=0&&s<=1;return a&&i&&$y(i,e,t,s),a}}])}(),_=function(){return On(function n(e){if(In(this,n),this.planes=[],e)this.planes=e;else for(var t=0;t<6;t++)this.planes.push(new v)},[{key:"extractFromVPMatrix",value:function(e){var t=Yi(e,16),i=t[0],r=t[1],o=t[2],s=t[3],a=t[4],l=t[5],u=t[6],d=t[7],f=t[8],m=t[9],y=t[10],b=t[11],E=t[12],w=t[13],M=t[14],x=t[15];el(this.planes[0].normal,s-i,d-a,b-f),this.planes[0].distance=x-E,el(this.planes[1].normal,s+i,d+a,b+f),this.planes[1].distance=x+E,el(this.planes[2].normal,s+r,d+l,b+m),this.planes[2].distance=x+w,el(this.planes[3].normal,s-r,d-l,b-m),this.planes[3].distance=x-w,el(this.planes[4].normal,s-o,d-u,b-y),this.planes[4].distance=x-M,el(this.planes[5].normal,s+o,d+u,b+y),this.planes[5].distance=x+M,this.planes.forEach(function(D){D.normalize(),D.updatePNVertexFlag()})}}])}(),S=function(){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;In(this,n),this.x=0,this.y=0,this.x=e,this.y=t}return On(n,[{key:"clone",value:function(){return new n(this.x,this.y)}},{key:"copyFrom",value:function(e){this.x=e.x,this.y=e.y}}])}(),A=function(){function n(e,t,i,r){In(this,n),this.x=e,this.y=t,this.width=i,this.height=r,this.left=e,this.right=e+i,this.top=t,this.bottom=t+r}return On(n,[{key:"toJSON",value:function(){}}],[{key:"fromRect",value:function(e){return new n(e.x,e.y,e.width,e.height)}},{key:"applyTransform",value:function(e,t){var i=R0(e.x,e.y,0,1),r=R0(e.x+e.width,e.y,0,1),o=R0(e.x,e.y+e.height,0,1),s=R0(e.x+e.width,e.y+e.height,0,1),a=fu(),l=fu(),u=fu(),d=fu();pu(a,i,t),pu(l,r,t),pu(u,o,t),pu(d,s,t);var f=Math.min(a[0],l[0],u[0],d[0]),m=Math.min(a[1],l[1],u[1],d[1]),y=Math.max(a[0],l[0],u[0],d[0]),b=Math.max(a[1],l[1],u[1],d[1]);return n.fromRect({x:f,y:m,width:y-f,height:b-m})}}])}(),I="Method not implemented.";function Y(n){return void 0===n?0:n>360||n<-360?n%360:n}var nt=Br();function xt(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return Array.isArray(n)&&3===n.length?i?Gy(n):$l(nt,n):oi(n)?i?xo(n,e,t):el(nt,n,e,t):i?xo(n[0],n[1]||e,n[2]||t):el(nt,n[0],n[1]||e,n[2]||t)}var ce=Math.PI/180;function de(n){return n*ce}var Be=180/Math.PI;function dn(n){return n*Be}var $n=Math.PI/2;function Cr(n,e){return 16===e.length?function Zi(n,e){var t,i,o=Yi(Es(Br(),e),3),s=o[0],a=o[1],l=o[2],u=Math.asin(-e[2]/s);return u<$n?u>-$n?(t=Math.atan2(e[6]/a,e[10]/l),i=Math.atan2(e[1]/s,e[0]/s)):(i=0,t=-Math.atan2(e[4]/a,e[5]/a)):(i=0,t=Math.atan2(e[4]/a,e[5]/a)),n[0]=t,n[1]=u,n[2]=i,n}(n,e):function vn(n,e){var t=e[0],i=e[1],r=e[2],o=e[3],a=i*i,l=r*r,u=o*o,d=t*t+a+l+u,f=t*o-i*r;return f>.499995*d?(n[0]=$n,n[1]=2*Math.atan2(i,t),n[2]=0):f<-.499995*d?(n[0]=-$n,n[1]=2*Math.atan2(i,t),n[2]=0):(n[0]=Math.asin(2*(t*r-o*i)),n[1]=Math.atan2(2*(t*o+i*r),1-2*(l+u)),n[2]=Math.atan2(2*(t*i+r*o),1-2*(a+l))),n}(n,e)}function ll(n){var e=n[0],t=n[1],i=n[3],r=n[4],o=Math.sqrt(e*e+t*t),s=Math.sqrt(i*i+r*r);if(e*r-t*i<0&&(e<r?o=-o:s=-s),o){var l=1/o;e*=l,t*=l}if(s){var u=1/s;i*=u,r*=u}var f=dn(Math.atan2(t,e));return[n[6],n[7],o,s,f]}var cl=wo(),$c=wo(),g3=fu(),Ji=[Br(),Br(),Br()],vW=Br();function Y8(n,e,t,i,r){n[0]=e[0]*i+t[0]*r,n[1]=e[1]*i+t[1]*r,n[2]=e[2]*i+t[2]*r}var Zs=function(n){return n[n.ORBITING=0]="ORBITING",n[n.EXPLORING=1]="EXPLORING",n[n.TRACKING=2]="TRACKING",n}({}),yW=function(n){return n[n.DEFAULT=0]="DEFAULT",n[n.ROTATIONAL=1]="ROTATIONAL",n[n.TRANSLATIONAL=2]="TRANSLATIONAL",n[n.CINEMATIC=3]="CINEMATIC",n}({}),yh=function(n){return n[n.ORTHOGRAPHIC=0]="ORTHOGRAPHIC",n[n.PERSPECTIVE=1]="PERSPECTIVE",n}({}),Eut=function(){return On(function n(){In(this,n),this.clipSpaceNearZ=y_.NEGATIVE_ONE,this.eventEmitter=new hn,this.matrix=wo(),this.right=xo(1,0,0),this.up=xo(0,1,0),this.forward=xo(0,0,1),this.position=xo(0,0,1),this.focalPoint=xo(0,0,0),this.distanceVector=xo(0,0,-1),this.distance=1,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.dollyingStep=0,this.maxDistance=1/0,this.minDistance=-1/0,this.zoom=1,this.rotateWorld=!1,this.fov=30,this.near=.1,this.far=1e3,this.aspect=1,this.projectionMatrix=wo(),this.projectionMatrixInverse=wo(),this.jitteredProjectionMatrix=void 0,this.enableUpdate=!0,this.type=Zs.EXPLORING,this.trackingMode=yW.DEFAULT,this.projectionMode=yh.PERSPECTIVE,this.frustum=new _,this.orthoMatrix=wo()},[{key:"isOrtho",value:function(){return this.projectionMode===yh.ORTHOGRAPHIC}},{key:"getProjectionMode",value:function(){return this.projectionMode}},{key:"getPerspective",value:function(){return this.jitteredProjectionMatrix||this.projectionMatrix}},{key:"getPerspectiveInverse",value:function(){return this.projectionMatrixInverse}},{key:"getFrustum",value:function(){return this.frustum}},{key:"getPosition",value:function(){return this.position}},{key:"getFocalPoint",value:function(){return this.focalPoint}},{key:"getDollyingStep",value:function(){return this.dollyingStep}},{key:"getNear",value:function(){return this.near}},{key:"getFar",value:function(){return this.far}},{key:"getZoom",value:function(){return this.zoom}},{key:"getOrthoMatrix",value:function(){return this.orthoMatrix}},{key:"getView",value:function(){return this.view}},{key:"setEnableUpdate",value:function(e){this.enableUpdate=e}},{key:"setType",value:function(e,t){return this.type=e,this.setWorldRotation(this.type===Zs.EXPLORING),this._getAngles(),this.type===Zs.TRACKING&&void 0!==t&&this.setTrackingMode(t),this}},{key:"setProjectionMode",value:function(e){return this.projectionMode=e,this}},{key:"setTrackingMode",value:function(e){if(this.type!==Zs.TRACKING)throw new Error("Impossible to set a tracking mode if the camera is not of tracking type");return this.trackingMode=e,this}},{key:"setWorldRotation",value:function(e){return this.rotateWorld=e,this._getAngles(),this}},{key:"getViewTransform",value:function(){return kc(wo(),this.matrix)}},{key:"getWorldTransform",value:function(){return this.matrix}},{key:"jitterProjectionMatrix",value:function(e,t){var i=Xh(wo(),[e,t,0]);this.jitteredProjectionMatrix=Gl(wo(),i,this.projectionMatrix)}},{key:"clearJitterProjectionMatrix",value:function(){this.jitteredProjectionMatrix=void 0}},{key:"setMatrix",value:function(e){return this.matrix=e,this._update(),this}},{key:"setProjectionMatrix",value:function(e){this.projectionMatrix=e}},{key:"setFov",value:function(e){return this.setPerspective(this.near,this.far,e,this.aspect),this}},{key:"setAspect",value:function(e){return this.setPerspective(this.near,this.far,this.fov,e),this}},{key:"setNear",value:function(e){return this.projectionMode===yh.PERSPECTIVE?this.setPerspective(e,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,e,this.far),this}},{key:"setFar",value:function(e){return this.projectionMode===yh.PERSPECTIVE?this.setPerspective(this.near,e,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,e),this}},{key:"setViewOffset",value:function(e,t,i,r,o,s){return this.aspect=e/t,void 0===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=o,this.view.height=s,this.projectionMode===yh.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"clearViewOffset",value:function(){return void 0!==this.view&&(this.view.enabled=!1),this.projectionMode===yh.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"setZoom",value:function(e){return this.zoom=e,this.projectionMode===yh.ORTHOGRAPHIC?this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far):this.projectionMode===yh.PERSPECTIVE&&this.setPerspective(this.near,this.far,this.fov,this.aspect),this}},{key:"setZoomByViewportPoint",value:function(e,t){var i=this.canvas.viewport2Canvas({x:t[0],y:t[1]}),r=i.x,o=i.y,s=this.roll;this.rotate(0,0,-s),this.setPosition(r,o),this.setFocalPoint(r,o),this.setZoom(e),this.rotate(0,0,s);var a=this.canvas.viewport2Canvas({x:t[0],y:t[1]}),d=xo(a.x-r,a.y-o,0),f=_l(d,this.right)/du(this.right),m=_l(d,this.up)/du(this.up),b=Yi(this.getPosition(),2),E=b[0],w=b[1],x=Yi(this.getFocalPoint(),2),D=x[0],k=x[1];return this.setPosition(E-f,w-m),this.setFocalPoint(D-f,k-m),this}},{key:"setPerspective",value:function(e,t,i,r){var o;this.projectionMode=yh.PERSPECTIVE,this.fov=i,this.near=e,this.far=t,this.aspect=r;var s=this.near*Math.tan(de(.5*this.fov))/this.zoom,a=2*s,l=this.aspect*a,u=-.5*l;if(null!==(o=this.view)&&void 0!==o&&o.enabled){var d=this.view.fullWidth,f=this.view.fullHeight;u+=this.view.offsetX*l/d,s-=this.view.offsetY*a/f,l*=this.view.width/d,a*=this.view.height/f}return function Cs(n,e,t,i,r,o,s){var E,w,l=2*o,u=t-e,d=i-r,m=l/d,y=(t+e)/u,b=(i+r)/d,M=s-o,x=s*o;arguments.length>7&&void 0!==arguments[7]&&arguments[7]?(E=-s/M,w=-x/M):(E=-(s+o)/M,w=-2*x/M),n[0]=l/u,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=m,n[6]=0,n[7]=0,n[8]=y,n[9]=b,n[10]=E,n[11]=-1,n[12]=0,n[13]=0,n[14]=w,n[15]=0}(this.projectionMatrix,u,u+l,s-a,s,e,this.far,this.clipSpaceNearZ===y_.ZERO),kc(this.projectionMatrixInverse,this.projectionMatrix),this.triggerUpdate(),this}},{key:"setOrthographic",value:function(e,t,i,r,o,s){var a;this.projectionMode=yh.ORTHOGRAPHIC,this.rright=t,this.left=e,this.top=i,this.bottom=r,this.near=o,this.far=s;var l=(this.rright-this.left)/(2*this.zoom),u=(this.top-this.bottom)/(2*this.zoom),d=(this.rright+this.left)/2,f=(this.top+this.bottom)/2,m=d-l,y=d+l,b=f+u,E=f-u;if(null!==(a=this.view)&&void 0!==a&&a.enabled){var w=(this.rright-this.left)/this.view.fullWidth/this.zoom,M=(this.top-this.bottom)/this.view.fullHeight/this.zoom;y=(m+=w*this.view.offsetX)+w*this.view.width,E=(b-=M*this.view.offsetY)-M*this.view.height}return this.clipSpaceNearZ===y_.NEGATIVE_ONE?Zh(this.projectionMatrix,m,y,b,E,o,s):VN(this.projectionMatrix,m,y,b,E,o,s),kc(this.projectionMatrixInverse,this.projectionMatrix),this._getOrthoMatrix(),this.triggerUpdate(),this}},{key:"setPosition",value:function(e){var r=xt(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.position[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.position[2]);return this._setPosition(r),this.setFocalPoint(this.focalPoint),this.triggerUpdate(),this}},{key:"setFocalPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.focalPoint[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.focalPoint[2],r=xo(0,1,0);if(this.focalPoint=xt(e,t,i),this.trackingMode===yW.CINEMATIC){var o=Hg(Br(),this.focalPoint,this.position);e=o[0],t=o[1],i=o[2];var s=du(o),a=dn(Math.asin(t/s)),l=90+dn(Math.atan2(i,e)),u=wo();iT(u,u,de(l)),YE(u,u,de(a)),r=Pa(Br(),[0,1,0],u)}return kc(this.matrix,cT(wo(),this.position,this.focalPoint,r)),this._getAxes(),this._getDistance(),this._getAngles(),this.triggerUpdate(),this}},{key:"getDistance",value:function(){return this.distance}},{key:"getDistanceVector",value:function(){return this.distanceVector}},{key:"setDistance",value:function(e){if(this.distance===e||e<0)return this;this.distance=e,this.distance<2e-4&&(this.distance=2e-4),this.dollyingStep=this.distance/100;var t=Br(),i=this.forward,r=this.focalPoint;return t[0]=(e=this.distance)*i[0]+r[0],t[1]=e*i[1]+r[1],t[2]=e*i[2]+r[2],this._setPosition(t),this.triggerUpdate(),this}},{key:"setMaxDistance",value:function(e){return this.maxDistance=e,this}},{key:"setMinDistance",value:function(e){return this.minDistance=e,this}},{key:"setAzimuth",value:function(e){return this.azimuth=Y(e),this.computeMatrix(),this._getAxes(),this.type===Zs.ORBITING||this.type===Zs.EXPLORING?this._getPosition():this.type===Zs.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this}},{key:"getAzimuth",value:function(){return this.azimuth}},{key:"setElevation",value:function(e){return this.elevation=Y(e),this.computeMatrix(),this._getAxes(),this.type===Zs.ORBITING||this.type===Zs.EXPLORING?this._getPosition():this.type===Zs.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this}},{key:"getElevation",value:function(){return this.elevation}},{key:"setRoll",value:function(e){return this.roll=Y(e),this.computeMatrix(),this._getAxes(),this.type===Zs.ORBITING||this.type===Zs.EXPLORING?this._getPosition():this.type===Zs.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this}},{key:"getRoll",value:function(){return this.roll}},{key:"_update",value:function(){this._getAxes(),this._getPosition(),this._getDistance(),this._getAngles(),this._getOrthoMatrix(),this.triggerUpdate()}},{key:"computeMatrix",value:function(){var e=qh(Xs(),[0,0,1],de(this.roll));Yd(this.matrix);var t=qh(Xs(),[1,0,0],de((this.rotateWorld&&this.type!==Zs.TRACKING||this.type===Zs.TRACKING?1:-1)*this.elevation)),i=qh(Xs(),[0,1,0],de((this.rotateWorld&&this.type!==Zs.TRACKING||this.type===Zs.TRACKING?1:-1)*this.azimuth)),r=nd(Xs(),i,t);r=nd(Xs(),r,e);var o=qE(wo(),r);this.type===Zs.ORBITING||this.type===Zs.EXPLORING?(Ug(this.matrix,this.matrix,this.focalPoint),Gl(this.matrix,this.matrix,o),Ug(this.matrix,this.matrix,[0,0,this.distance])):this.type===Zs.TRACKING&&(Ug(this.matrix,this.matrix,this.position),Gl(this.matrix,this.matrix,o))}},{key:"_setPosition",value:function(e,t,i){this.position=xt(e,t,i);var r=this.matrix;r[12]=this.position[0],r[13]=this.position[1],r[14]=this.position[2],r[15]=1,this._getOrthoMatrix()}},{key:"_getAxes",value:function(){$l(this.right,xt(pu(fu(),[1,0,0,0],this.matrix))),$l(this.up,xt(pu(fu(),[0,1,0,0],this.matrix))),$l(this.forward,xt(pu(fu(),[0,0,1,0],this.matrix))),hu(this.right,this.right),hu(this.up,this.up),hu(this.forward,this.forward)}},{key:"_getAngles",value:function(){var e=this.distanceVector[0],t=this.distanceVector[1],i=this.distanceVector[2],r=du(this.distanceVector);if(0===r)return this.elevation=0,void(this.azimuth=0);this.type===Zs.TRACKING||this.rotateWorld?(this.elevation=dn(Math.asin(t/r)),this.azimuth=dn(Math.atan2(-e,-i))):(this.elevation=-dn(Math.asin(t/r)),this.azimuth=-dn(Math.atan2(-e,-i)))}},{key:"_getPosition",value:function(){$l(this.position,xt(pu(fu(),[0,0,0,1],this.matrix))),this._getDistance()}},{key:"_getFocalPoint",value:function(){Wy(this.distanceVector,[0,0,-this.distance],ON(zE(),this.matrix)),O0(this.focalPoint,this.position,this.distanceVector),this._getDistance()}},{key:"_getDistance",value:function(){this.distanceVector=Hg(Br(),this.focalPoint,this.position),this.distance=du(this.distanceVector),this.dollyingStep=this.distance/100}},{key:"_getOrthoMatrix",value:function(){if(this.projectionMode===yh.ORTHOGRAPHIC){var e=this.position,t=qh(Xs(),[0,0,1],-this.roll*Math.PI/180);Vy(this.orthoMatrix,t,xo((this.rright-this.left)/2-e[0],(this.top-this.bottom)/2-e[1],0),xo(this.zoom,this.zoom,1),e)}}},{key:"triggerUpdate",value:function(){if(this.enableUpdate){var e=this.getViewTransform(),t=Gl(wo(),this.getPerspective(),e);this.getFrustum().extractFromVPMatrix(t),this.eventEmitter.emit("updated")}}},{key:"rotate",value:function(e,t,i){throw new Error(I)}},{key:"pan",value:function(e,t){throw new Error(I)}},{key:"dolly",value:function(e){throw new Error(I)}},{key:"createLandmark",value:function(e,t){throw new Error(I)}},{key:"gotoLandmark",value:function(e,t){throw new Error(I)}},{key:"cancelLandmarkAnimation",value:function(){throw new Error(I)}}])}(),wut=function(n){return n[n.Standard=0]="Standard",n}({}),Z8=function(n){return n[n.ADDED=0]="ADDED",n[n.REMOVED=1]="REMOVED",n[n.Z_INDEX_CHANGED=2]="Z_INDEX_CHANGED",n}({}),_W={absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:new A(0,0,0,0)},qn=function(n){return n.COORDINATE="<coordinate>",n.COLOR="<color>",n.PAINT="<paint>",n.NUMBER="<number>",n.ANGLE="<angle>",n.OPACITY_VALUE="<opacity-value>",n.SHADOW_BLUR="<shadow-blur>",n.LENGTH="<length>",n.PERCENTAGE="<percentage>",n.LENGTH_PERCENTAGE="<length> | <percentage>",n.LENGTH_PERCENTAGE_12="[<length> | <percentage>]{1,2}",n.LENGTH_PERCENTAGE_14="[<length> | <percentage>]{1,4}",n.LIST_OF_POINTS="<list-of-points>",n.PATH="<path>",n.FILTER="<filter>",n.Z_INDEX="<z-index>",n.OFFSET_DISTANCE="<offset-distance>",n.DEFINED_PATH="<defined-path>",n.MARKER="<marker>",n.TRANSFORM="<transform>",n.TRANSFORM_ORIGIN="<transform-origin>",n.TEXT="<text>",n.TEXT_TRANSFORM="<text-transform>",n}({});function lc(n,e){if("function"!=typeof n||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var t=function(){for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];var s=e?e.apply(this,r):r[0],a=t.cache;if(a.has(s))return a.get(s);var l=n.apply(this,r);return t.cache=a.set(s,l)||a,l};return t.cache=new(lc.Cache||Map),t}lc.Cache=Map;var Jn=function(n){return n[n.kUnknown=0]="kUnknown",n[n.kNumber=1]="kNumber",n[n.kPercentage=2]="kPercentage",n[n.kEms=3]="kEms",n[n.kPixels=4]="kPixels",n[n.kRems=5]="kRems",n[n.kDegrees=6]="kDegrees",n[n.kRadians=7]="kRadians",n[n.kGradians=8]="kGradians",n[n.kTurns=9]="kTurns",n[n.kMilliseconds=10]="kMilliseconds",n[n.kSeconds=11]="kSeconds",n[n.kInteger=12]="kInteger",n}({}),bh=function(n){return n[n.kUNumber=0]="kUNumber",n[n.kUPercent=1]="kUPercent",n[n.kULength=2]="kULength",n[n.kUAngle=3]="kUAngle",n[n.kUTime=4]="kUTime",n[n.kUOther=5]="kUOther",n}({}),xut=function(n){return n[n.kYes=0]="kYes",n[n.kNo=1]="kNo",n}({}),Mut=function(n){return n[n.kYes=0]="kYes",n[n.kNo=1]="kNo",n}({}),Cut=[{name:"em",unit_type:Jn.kEms},{name:"px",unit_type:Jn.kPixels},{name:"deg",unit_type:Jn.kDegrees},{name:"rad",unit_type:Jn.kRadians},{name:"grad",unit_type:Jn.kGradians},{name:"ms",unit_type:Jn.kMilliseconds},{name:"s",unit_type:Jn.kSeconds},{name:"rem",unit_type:Jn.kRems},{name:"turn",unit_type:Jn.kTurns}],__=function(n){return n[n.kUnknownType=0]="kUnknownType",n[n.kUnparsedType=1]="kUnparsedType",n[n.kKeywordType=2]="kKeywordType",n[n.kUnitType=3]="kUnitType",n[n.kSumType=4]="kSumType",n[n.kProductType=5]="kProductType",n[n.kNegateType=6]="kNegateType",n[n.kInvertType=7]="kInvertType",n[n.kMinType=8]="kMinType",n[n.kMaxType=9]="kMaxType",n[n.kClampType=10]="kClampType",n[n.kTransformType=11]="kTransformType",n[n.kPositionType=12]="kPositionType",n[n.kURLImageType=13]="kURLImageType",n[n.kColorType=14]="kColorType",n[n.kUnsupportedColorType=15]="kUnsupportedColorType",n}({}),EW=function(n){var e=1;switch(n){case Jn.kPixels:case Jn.kDegrees:case Jn.kSeconds:break;case Jn.kMilliseconds:e=.001;break;case Jn.kRadians:e=180/Math.PI;break;case Jn.kGradians:e=.9;break;case Jn.kTurns:e=360}return e},Q8=function(n){switch(n){case Jn.kNumber:case Jn.kInteger:return"";case Jn.kPercentage:return"%";case Jn.kEms:return"em";case Jn.kRems:return"rem";case Jn.kPixels:return"px";case Jn.kDegrees:return"deg";case Jn.kRadians:return"rad";case Jn.kGradians:return"grad";case Jn.kMilliseconds:return"ms";case Jn.kSeconds:return"s";case Jn.kTurns:return"turn"}return""},cR=function(){return On(function n(){In(this,n)},[{key:"toString",value:function(){return this.buildCSSText(xut.kNo,Mut.kNo,"")}},{key:"isNumericValue",value:function(){return this.getType()>=__.kUnitType&&this.getType()<=__.kClampType}}],[{key:"isAngle",value:function(e){return e===Jn.kDegrees||e===Jn.kRadians||e===Jn.kGradians||e===Jn.kTurns}},{key:"isLength",value:function(e){return e>=Jn.kEms&&e<Jn.kDegrees}},{key:"isRelativeUnit",value:function(e){return e===Jn.kPercentage||e===Jn.kEms||e===Jn.kRems}},{key:"isTime",value:function(e){return e===Jn.kSeconds||e===Jn.kMilliseconds}}])}(),Out=function(n){function e(t){var i;return In(this,e),(i=Kn(this,e)).colorSpace=t,i}return br(e,n),On(e,[{key:"getType",value:function(){return __.kColorType}},{key:"to",value:function(t){return this}}])}(cR),pd=function(n){return n[n.Constant=0]="Constant",n[n.LinearGradient=1]="LinearGradient",n[n.RadialGradient=2]="RadialGradient",n}({}),uR=function(n){function e(t,i){var r;return In(this,e),(r=Kn(this,e)).type=t,r.value=i,r}return br(e,n),On(e,[{key:"clone",value:function(){return new e(this.type,this.value)}},{key:"buildCSSText",value:function(t,i,r){return r}},{key:"getType",value:function(){return __.kColorType}}])}(cR),md=function(n){function e(t){var i;return In(this,e),(i=Kn(this,e)).value=t,i}return br(e,n),On(e,[{key:"clone",value:function(){return new e(this.value)}},{key:"getType",value:function(){return __.kKeywordType}},{key:"buildCSSText",value:function(t,i,r){return r+this.value}}])}(cR),q8=function(n){return function(n){switch(n){case bh.kUNumber:return Jn.kNumber;case bh.kULength:return Jn.kPixels;case bh.kUPercent:return Jn.kPercentage;case bh.kUTime:return Jn.kSeconds;case bh.kUAngle:return Jn.kDegrees;default:return Jn.kUnknown}}(function(n){switch(n){case Jn.kNumber:case Jn.kInteger:return bh.kUNumber;case Jn.kPercentage:return bh.kUPercent;case Jn.kPixels:return bh.kULength;case Jn.kMilliseconds:case Jn.kSeconds:return bh.kUTime;case Jn.kDegrees:case Jn.kRadians:case Jn.kGradians:case Jn.kTurns:return bh.kUAngle;default:return bh.kUOther}}(n))},Ha=function(n){function e(t){var i,o,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Jn.kNumber;return In(this,e),i=Kn(this,e),o="string"==typeof r?function(n){return n?"number"===n?Jn.kNumber:"percent"===n||"%"===n?Jn.kPercentage:function(n){return Cut.find(function(e){return e.name===n}).unit_type}(n):Jn.kUnknown}(r):r,i.unit=o,i.value=t,i}return br(e,n),On(e,[{key:"clone",value:function(){return new e(this.value,this.unit)}},{key:"equals",value:function(t){return this.value===t.value&&this.unit===t.unit}},{key:"getType",value:function(){return __.kUnitType}},{key:"convertTo",value:function(t){if(this.unit===t)return new e(this.value,this.unit);var i=q8(this.unit);if(i!==q8(t)||i===Jn.kUnknown)return null;var r=EW(this.unit)/EW(t);return new e(this.value*r,t)}},{key:"buildCSSText",value:function(t,i,r){var o;switch(this.unit){case Jn.kUnknown:break;case Jn.kInteger:o=Number(this.value).toFixed(0);break;case Jn.kNumber:case Jn.kPercentage:case Jn.kEms:case Jn.kRems:case Jn.kPixels:case Jn.kDegrees:case Jn.kRadians:case Jn.kGradians:case Jn.kMilliseconds:case Jn.kSeconds:case Jn.kTurns:var l=this.value,u=Q8(this.unit);if(l<-999999||l>999999){var d=Q8(this.unit);o=!Number.isFinite(l)||Number.isNaN(l)?function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(Number.isFinite(n)?"NaN":n>0?"infinity":"-infinity")+e}(l,d):l+(d||"")}else o="".concat(l).concat(u)}return r+o}}])}(cR),_h=new Ha(0,"px");new Ha(1,"px");var P2=new Ha(0,"deg"),J8=function(n){function e(t,i,r){var o,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return In(this,e),(o=Kn(this,e,["rgb"])).r=t,o.g=i,o.b=r,o.alpha=s,o.isNone=a,o}return br(e,n),On(e,[{key:"clone",value:function(){return new e(this.r,this.g,this.b,this.alpha)}},{key:"buildCSSText",value:function(t,i,r){return"".concat(r,"rgba(").concat(this.r,",").concat(this.g,",").concat(this.b,",").concat(this.alpha,")")}}])}(Out),wW=new md("unset"),t9={"":wW,unset:wW,initial:new md("initial"),inherit:new md("inherit")},xW=new J8(0,0,0,0,!0),MW=new J8(0,0,0,0),Nut=lc(function(n,e,t,i){return new J8(n,e,t,i)},function(n,e,t,i){return"rgba(".concat(n,",").concat(e,",").concat(t,",").concat(i,")")}),ds=function(n){return new Ha(n,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Jn.kNumber)};function Lut(n){var e=n.type,t=n.value;return"hex"===e?"#".concat(t):"literal"===e?t:"rgb"===e?"rgb(".concat(t.join(","),")"):"rgba(".concat(t.join(","),")")}new Ha(50,"%");var Fut=function(){var n={linearGradient:/^(linear\-gradient)/i,repeatingLinearGradient:/^(repeating\-linear\-gradient)/i,radialGradient:/^(radial\-gradient)/i,repeatingRadialGradient:/^(repeating\-radial\-gradient)/i,conicGradient:/^(conic\-gradient)/i,sideOrCorner:/^to (left (top|bottom)|right (top|bottom)|top (left|right)|bottom (left|right)|left|right|top|bottom)/i,extentKeywords:/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,positionKeywords:/^(left|center|right|top|bottom)/i,pixelValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,percentageValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,emValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,angleValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,startCall:/^\(/,endCall:/^\)/,comma:/^,/,hexColor:/^\#([0-9a-fA-F]+)/,literalColor:/^([a-zA-Z]+)/,rgbColor:/^rgb/i,rgbaColor:/^rgba/i,number:/^(([0-9]*\.[0-9]+)|([0-9]+\.?))/},e="";function t(Q){throw new Error("".concat(e,": ").concat(Q))}function o(){return s("linear-gradient",n.linearGradient,l)||s("repeating-linear-gradient",n.repeatingLinearGradient,l)||s("radial-gradient",n.radialGradient,f)||s("repeating-radial-gradient",n.repeatingRadialGradient,f)||s("conic-gradient",n.conicGradient,f)}function s(Q,et,St){return a(et,function(Yt){var He=St();return He&&(Et(n.comma)||t("Missing comma before color stops")),{type:Q,orientation:He,colorStops:D(k)}})}function a(Q,et){var St=Et(Q);if(St){Et(n.startCall)||t("Missing (");var Yt=et(St);return Et(n.endCall)||t("Missing )"),Yt}}function l(){return function u(){return gt("directional",n.sideOrCorner,1)}()||function d(){return gt("angular",n.angleValue,1)}()}function f(){var Q,St,et=m();return et&&((Q=[]).push(et),St=e,Et(n.comma)&&((et=m())?Q.push(et):e=St)),Q}function m(){var Q=function y(){var Q=gt("shape",/^(circle)/i,0);return Q&&(Q.style=q()||E()),Q}()||function b(){var Q=gt("shape",/^(ellipse)/i,0);return Q&&(Q.style=$()||E()),Q}();if(Q)Q.at=w();else{var et=E();if(et){Q=et;var St=w();St&&(Q.at=St)}else{var Yt=M();Yt&&(Q={type:"default-radial",at:Yt})}}return Q}function E(){return gt("extent-keyword",n.extentKeywords,1)}function w(){if(gt("position",/^at/,0)){var Q=M();return Q||t("Missing positioning value"),Q}}function M(){var Q=function x(){return{x:$(),y:$()}}();if(Q.x||Q.y)return{type:"position",value:Q}}function D(Q){var et=Q(),St=[];if(et)for(St.push(et);Et(n.comma);)(et=Q())?St.push(et):t("One extra comma");return St}function k(){var Q=function T(){return function R(){return gt("hex",n.hexColor,1)}()||function F(){return a(n.rgbaColor,function(){return{type:"rgba",value:D(U)}})}()||function L(){return a(n.rgbColor,function(){return{type:"rgb",value:D(U)}})}()||function O(){return gt("literal",n.literalColor,0)}()}();return Q||t("Expected color definition"),Q.length=$(),Q}function U(){return Et(n.number)[1]}function $(){return gt("%",n.percentageValue,1)||function X(){return gt("position-keyword",n.positionKeywords,1)}()||q()}function q(){return gt("px",n.pixelValue,1)||gt("em",n.emValue,1)}function gt(Q,et,St){var Yt=Et(et);if(Yt)return{type:Q,value:Yt[St]}}function Et(Q){var et=/^[\n\r\t\s]+/.exec(e);et&&at(et[0].length);var St=Q.exec(e);return St&&at(St[0].length),St}function at(Q){e=e.substring(Q)}return function(Q){return e=Q,function i(){var Q=function r(){return D(o)}();return e.length>0&&t("Invalid input not EOF"),Q}()}}();function CW(n,e,t,i){var r=de(i.value),a=0+e/2,l=0+t/2,u=Math.abs(e*Math.cos(r))+Math.abs(t*Math.sin(r));return{x1:n[0]+a-Math.cos(r)*u/2,y1:n[1]+l-Math.sin(r)*u/2,x2:n[0]+a+Math.cos(r)*u/2,y2:n[1]+l+Math.sin(r)*u/2}}function SW(n,e,t,i,r,o){var s=i.value,a=r.value;i.unit===Jn.kPercentage&&(s=i.value/100*e),r.unit===Jn.kPercentage&&(a=r.value/100*t);var l=Math.max(Fa([0,0],[s,a]),Fa([0,t],[s,a]),Fa([e,t],[s,a]),Fa([e,0],[s,a]));return o&&(o instanceof Ha?l=o.value:o instanceof md&&("closest-side"===o.value?l=Math.min(s,e-s,a,t-a):"farthest-side"===o.value?l=Math.max(s,e-s,a,t-a):"closest-corner"===o.value&&(l=Math.min(Fa([0,0],[s,a]),Fa([0,t],[s,a]),Fa([e,t],[s,a]),Fa([e,0],[s,a]))))),{x:s+n[0],y:a+n[1],r:l}}var But=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,jut=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,Vut=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,DW=/[\d.]+:(#[^\s]+|[^\)]+\))/gi,Uut={left:180,top:-90,bottom:90,right:0,"left top":225,"top left":225,"left bottom":135,"bottom left":135,"right top":-45,"top right":-45,"right bottom":45,"bottom right":45},Hut=lc(function(n){var e;return e="angular"===n.type?Number(n.value):Uut[n.value]||0,ds(e,"deg")}),Gut=lc(function(n){var e=50,t=50,i="%",r="%";if("position"===n?.type){var o=n.value,s=o.x,a=o.y;"position-keyword"===s?.type&&("left"===s.value?e=0:"center"===s.value?e=50:"right"===s.value?e=100:"top"===s.value?t=0:"bottom"===s.value&&(t=100)),"position-keyword"===a?.type&&("left"===a.value?e=0:"center"===a.value?t=50:"right"===a.value?e=100:"top"===a.value?t=0:"bottom"===a.value&&(t=100)),("px"===s?.type||"%"===s?.type||"em"===s?.type)&&(i=s?.type,e=Number(s.value)),("px"===a?.type||"%"===a?.type||"em"===a?.type)&&(r=a?.type,t=Number(a.value))}return{cx:ds(e,i),cy:ds(t,r)}}),$ut=lc(function(n){if(n.indexOf("linear")>-1||n.indexOf("radial")>-1)return Fut(n).map(function(a){var l=a.type,u=a.orientation,d=a.colorStops;!function zut(n){var e,i,t=n.length;n[t-1].length=null!==(e=n[t-1].length)&&void 0!==e?e:{type:"%",value:"100"},t>1&&(n[0].length=null!==(i=n[0].length)&&void 0!==i?i:{type:"%",value:"0"});for(var r=0,o=Number(n[0].length.value),s=1;s<t;s++){var a,l=null===(a=n[s].length)||void 0===a?void 0:a.value;if(!Oi(l)&&!Oi(o)){for(var u=1;u<s-r;u++)n[r+u].length={type:"%",value:"".concat(o+(Number(l)-o)*u/(s-r))};r=s,o=Number(l)}}}(d);var f=d.map(function(D){return{offset:ds(Number(D.length.value),"%"),color:Lut(D)}});if("linear-gradient"===l)return new uR(pd.LinearGradient,{angle:u?Hut(u):P2,steps:f});if("radial-gradient"===l&&(u||(u=[{type:"shape",value:"circle"}]),"shape"===u[0].type&&"circle"===u[0].value)){var E,m=Gut(u[0].at),y=m.cx,b=m.cy;if(u[0].style){var w=u[0].style,M=w.type,x=w.value;E="extent-keyword"===M?function(n){return t9[n]||(t9[n]=new md(n)),t9[n]}(x):ds(x,M)}return new uR(pd.RadialGradient,{cx:y,cy:b,size:E,steps:f})}});var t=n[0];if("("===n[1]||"("===n[2])if("l"===t){var i=But.exec(n);if(i){var r,o=(null===(r=i[2].match(DW))||void 0===r?void 0:r.map(function(a){return a.split(":")}))||[];return[new uR(pd.LinearGradient,{angle:ds(parseFloat(i[1]),"deg"),steps:o.map(function(a){var l=Yi(a,2),d=l[1];return{offset:ds(100*Number(l[0]),"%"),color:d}})})]}}else if("r"===t){var s=function Wut(n){var e=jut.exec(n);if(e){var t,i=(null===(t=e[4].match(DW))||void 0===t?void 0:t.map(function(r){return r.split(":")}))||[];return{cx:ds(50,"%"),cy:ds(50,"%"),steps:i.map(function(r){var o=Yi(r,2),a=o[1];return{offset:ds(100*Number(o[0]),"%"),color:a}})}}return null}(n);if(s){if(!Ki(s))return[new uR(pd.RadialGradient,s)];n=s}}else if("p"===t)return function Kut(n){var e=Vut.exec(n);if(e){var t=e[1],i=e[2];switch(t){case"a":t="repeat";break;case"x":t="repeat-x";break;case"y":t="repeat-y";break;default:t="no-repeat"}return{image:i,repetition:t}}return null}(n)});function Tf(n){return n&&!!n.image}function N2(n){return n&&!Oi(n.r)&&!Oi(n.g)&&!Oi(n.b)}var v3=lc(function(n){if(Tf(n))return xr({repetition:"repeat"},n);if(Oi(n)&&(n=""),"transparent"===n)return MW;if("currentColor"===n)n="black";else if("none"===n)return xW;var e=$ut(n);if(e)return e;var t=xv(n),i=[0,0,0,0];return null!==t&&(i[0]=t.r||0,i[1]=t.g||0,i[2]=t.b||0,i[3]=t.opacity),Nut.apply(void 0,i)});function Yut(n,e){if(N2(n)&&N2(e))return[[Number(n.r),Number(n.g),Number(n.b),Number(n.alpha)],[Number(e.r),Number(e.g),Number(e.b),Number(e.alpha)],function(t){var i=t.slice();if(i[3])for(var r=0;r<3;r++)i[r]=Math.round(Ys(i[r],0,255));return i[3]=Ys(i[3],0,1),"rgba(".concat(i.join(","),")")}]}function y3(n,e){if(Oi(e))return ds(0,"px");if(e="".concat(e).trim().toLowerCase(),isFinite(Number(e))){if("px".search(n)>=0)return ds(Number(e),"px");if("deg".search(n)>=0)return ds(Number(e),"deg")}var t=[];e=e.replace(n,function(r){return t.push(r),"U".concat(r)});var i="U(".concat(n.source,")");return t.map(function(r){return ds(Number(e.replace(new RegExp("U".concat(r),"g"),"").replace(new RegExp(i,"g"),"*0")),r)})[0]}var TW=function(n){return y3(new RegExp("px","g"),n)},Zut=lc(TW);lc(function(n){return y3(new RegExp("%","g"),n)});var AW=function(n){return oi(n)||isFinite(Number(n))?ds(Number(n)||0,"px"):y3(new RegExp("px|%|em|rem","g"),n)},e9=lc(AW),OW=function(n){return y3(new RegExp("deg|rad|grad|turn","g"),n)},qut=lc(OW);function Jut(n,e,t,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o="",s=n.value||0,a=e.value||0,l=q8(n.unit),u=n.convertTo(l),d=e.convertTo(l);return u&&d?(s=u.value,a=d.value,o=Q8(n.unit)):(Ha.isLength(n.unit)||Ha.isLength(e.unit))&&(s=Tu(n,r,t),a=Tu(e,r,t),o="px"),[s,a,function(f){return f+o}]}function Wc(n){var e=0;return n.unit===Jn.kDegrees?e=n.value:n.unit===Jn.kRadians?e=dn(Number(n.value)):n.unit===Jn.kTurns?e=function Gn(n){return 360*n}(Number(n.value)):n.value&&(e=n.value),e}function kW(n,e){var t;return Array.isArray(n)?t=n.map(function(i){return Number(i)}):Ki(n)?t=n.split(" ").map(function(i){return Number(i)}):oi(n)&&(t=[n]),2===e?1===t.length?[t[0],t[0]]:[t[0],t[1]]:1===t.length?[t[0],t[0],t[0],t[0]]:2===t.length?[t[0],t[1],t[0],t[1]]:3===t.length?[t[0],t[1],t[2],t[1]]:[t[0],t[1],t[2],t[3]]}function Tu(n,e,t){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(n.unit===Jn.kPixels)return Number(n.value);if(n.unit===Jn.kPercentage&&t){var r=t.nodeName===Je.GROUP?t.getLocalBounds():t.getGeometryBounds();return(i?r.min[e]:0)+n.value/100*r.halfExtents[e]*2}return 0}var tdt=function(n){return y3(/deg|rad|grad|turn|px|%/g,n)},edt=["blur","brightness","drop-shadow","contrast","grayscale","sepia","saturate","hue-rotate","invert"];function IW(n){return n.toString()}var RW=function(n){return"number"==typeof n?ds(n):/^\s*[-+]?(\d*\.)?\d+\s*$/.test(n)?ds(Number(n)):ds(0)},n9=lc(RW);function i9(n,e){return[n,e,IW]}function r9(n,e){return function(t,i){return[t,i,function(r){return IW(Ys(r,n,e))}]}}function PW(n,e){if(n.length===e.length)return[n,e,function(t){return t}]}function o9(n){return 0===n.parsedStyle.d.totalLength&&(n.parsedStyle.d.totalLength=tm(n.parsedStyle.d.absolutePath)),n.parsedStyle.d.totalLength}function dR(n,e){return n[0]===e[0]&&n[1]===e[1]}function hR(n,e){var t=n.prePoint,i=n.currentPoint,r=n.nextPoint,o=Math.pow(i[0]-t[0],2)+Math.pow(i[1]-t[1],2),s=Math.pow(i[0]-r[0],2)+Math.pow(i[1]-r[1],2),a=Math.pow(t[0]-r[0],2)+Math.pow(t[1]-r[1],2),l=Math.acos((o+s-a)/(2*Math.sqrt(o)*Math.sqrt(s)));if(!l||0===Math.sin(l)||ap(l,0))return{xExtra:0,yExtra:0};var u=Math.abs(Math.atan2(r[1]-i[1],r[0]-i[0])),d=Math.abs(Math.atan2(r[0]-i[0],r[1]-i[1]));return u=u>Math.PI/2?Math.PI-u:u,d=d>Math.PI/2?Math.PI-d:d,{xExtra:Math.cos(l/2-u)*(e/2*(1/Math.sin(l/2)))-e/2||0,yExtra:Math.cos(d-l/2)*(e/2*(1/Math.sin(l/2)))-e/2||0}}function NW(n,e){return[e[0]+(e[0]-n[0]),e[1]+(e[1]-n[1])]}lc(function(n){return Ki(n)?n.split(" ").map(n9):n.map(n9)});var LW=function(n,e){var t=n.x*e.x+n.y*e.y,i=Math.sqrt((Math.pow(n.x,2)+Math.pow(n.y,2))*(Math.pow(e.x,2)+Math.pow(e.y,2)));return(n.x*e.y-n.y*e.x<0?-1:1)*Math.acos(t/i)},FW=function(n,e,t,i,r,o,s,a){e=Math.abs(e),t=Math.abs(t);var l=de(i=cp(i,360));if(n.x===s.x&&n.y===s.y)return{x:n.x,y:n.y,ellipticalArcAngle:0};if(0===e||0===t)return{x:0,y:0,ellipticalArcAngle:0};var u=(n.x-s.x)/2,d=(n.y-s.y)/2,f={x:Math.cos(l)*u+Math.sin(l)*d,y:-Math.sin(l)*u+Math.cos(l)*d},m=Math.pow(f.x,2)/Math.pow(e,2)+Math.pow(f.y,2)/Math.pow(t,2);m>1&&(e*=Math.sqrt(m),t*=Math.sqrt(m));var E=(Math.pow(e,2)*Math.pow(t,2)-Math.pow(e,2)*Math.pow(f.y,2)-Math.pow(t,2)*Math.pow(f.x,2))/(Math.pow(e,2)*Math.pow(f.y,2)+Math.pow(t,2)*Math.pow(f.x,2));E=E<0?0:E;var w=(r!==o?1:-1)*Math.sqrt(E),M_x=w*(e*f.y/t),M_y=w*(-t*f.x/e),x={x:Math.cos(l)*M_x-Math.sin(l)*M_y+(n.x+s.x)/2,y:Math.sin(l)*M_x+Math.cos(l)*M_y+(n.y+s.y)/2},D={x:(f.x-M_x)/e,y:(f.y-M_y)/t},k=LW({x:1,y:0},D),O=LW(D,{x:(-f.x-M_x)/e,y:(-f.y-M_y)/t});!o&&O>0?O-=2*Math.PI:o&&O<0&&(O+=2*Math.PI);var R=k+(O%=2*Math.PI)*a,L=e*Math.cos(R),F=t*Math.sin(R);return{x:Math.cos(l)*L-Math.sin(l)*F+x.x,y:Math.sin(l)*L+Math.cos(l)*F+x.y,ellipticalArcStartAngle:k,ellipticalArcEndAngle:k+O,ellipticalArcAngle:R,ellipticalArcCenter:x,resultantRx:e,resultantRy:t}};function BW(n,e){var t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=n.arcParams,r=i.rx,o=void 0===r?0:r,s=i.ry,a=void 0===s?0:s,l=i.xRotation,u=i.arcFlag,d=i.sweepFlag,f=FW({x:n.prePoint[0],y:n.prePoint[1]},o,a,l,!!u,!!d,{x:n.currentPoint[0],y:n.currentPoint[1]},e),m=FW({x:n.prePoint[0],y:n.prePoint[1]},o,a,l,!!u,!!d,{x:n.currentPoint[0],y:n.currentPoint[1]},t?e+.005:e-.005),y=m.x-f.x,b=m.y-f.y,E=Math.sqrt(y*y+b*b);return{x:-y/E,y:-b/E}}function fR(n){return Math.sqrt(n[0]*n[0]+n[1]*n[1])}function s9(n,e){return fR(n)*fR(e)?(n[0]*e[0]+n[1]*e[1])/(fR(n)*fR(e)):1}function jW(n,e){return(n[0]*e[1]<n[1]*e[0]?-1:1)*Math.acos(s9(n,e))}function cdt(n,e){var t=e[1],i=e[2],r=cp(de(e[3]),2*Math.PI),o=e[4],s=e[5],a=n[0],l=n[1],u=e[6],d=e[7],f=Math.cos(r)*(a-u)/2+Math.sin(r)*(l-d)/2,m=-1*Math.sin(r)*(a-u)/2+Math.cos(r)*(l-d)/2,y=f*f/(t*t)+m*m/(i*i);y>1&&(t*=Math.sqrt(y),i*=Math.sqrt(y));var b=t*t*(m*m)+i*i*(f*f),E=b?Math.sqrt((t*t*(i*i)-b)/b):1;o===s&&(E*=-1),isNaN(E)&&(E=0);var w=i?E*t*m/i:0,M=t?E*-i*f/t:0,x=(a+u)/2+Math.cos(r)*w-Math.sin(r)*M,D=(l+d)/2+Math.sin(r)*w+Math.cos(r)*M,k=[(f-w)/t,(m-M)/i],T=[(-1*f-w)/t,(-1*m-M)/i],O=jW([1,0],k),R=jW(k,T);return s9(k,T)<=-1&&(R=Math.PI),s9(k,T)>=1&&(R=0),0===s&&R>0&&(R-=2*Math.PI),1===s&&R<0&&(R+=2*Math.PI),{cx:x,cy:D,rx:dR(n,[u,d])?0:t,ry:dR(n,[u,d])?0:i,startAngle:O,endAngle:O+R,xRotation:r,arcFlag:o,sweepFlag:s}}var VW=function(n){if(""===n||Array.isArray(n)&&0===n.length)return{absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:{x:0,y:0,width:0,height:0}};var e;try{e=mv(n)}catch{e=mv(""),console.error("[g]: Invalid SVG Path definition: ".concat(n))}!function rdt(n){for(var e=0;e<n.length;e++){var t=n[e-1],i=n[e];if("M"===i[0]&&t){var o=t[0],a=void 0;"L"===o||"M"===o?a=[t[1],t[2]]:("C"===o||"A"===o||"Q"===o)&&(a=[t[t.length-2],t[t.length-1]]),a&&dR([i[1],i[2]],a)&&(n.splice(e,1),e--)}}}(e);var t=function odt(n){for(var e=!1,t=n.length,i=0;i<t;i++){var o=n[i][0];if("C"===o||"A"===o||"Q"===o){e=!0;break}}return e}(e),i=function sdt(n){for(var e=[],t=[],i=[],r=0;r<n.length;r++){var o=n[r],s=o[0];"M"===s?(i.length&&(t.push(i),i=[]),i.push([o[1],o[2]])):"Z"===s?i.length&&(e.push(i),i=[]):i.push([o[1],o[2]])}return i.length>0&&t.push(i),{polygons:e,polylines:t}}(e),r=i.polygons,o=i.polylines,s=function ldt(n){for(var e=[],t=null,i=null,r=null,o=0,s=n.length,a=0;a<s;a++){var l=n[a];i=n[a+1];var u=l[0],d={command:u,prePoint:t,params:l,startTangent:null,endTangent:null,currentPoint:null,nextPoint:null,arcParams:null,box:null,cubicParams:null};switch(u){case"M":r=[l[1],l[2]],o=a;break;case"A":var f=cdt(t,l);d.arcParams=f}if("Z"===u)t=r,i=n[o+1];else{var m=l.length;t=[l[m-2],l[m-1]]}i&&"Z"===i[0]&&(i=n[o],e[o]&&(e[o].prePoint=t)),d.currentPoint=t,e[o]&&dR(t,e[o].currentPoint)&&(e[o].prePoint=d.prePoint),d.nextPoint=i?[i[i.length-2],i[i.length-1]]:null;var b=d.prePoint;if(["L","H","V"].includes(u))d.startTangent=[b[0]-t[0],b[1]-t[1]],d.endTangent=[t[0]-b[0],t[1]-b[1]];else if("Q"===u){var E=[l[1],l[2]];d.startTangent=[b[0]-E[0],b[1]-E[1]],d.endTangent=[t[0]-E[0],t[1]-E[1]]}else if("T"===u){var w=e[a-1],M=NW(w.currentPoint,b);"Q"===w.command?(d.command="Q",d.startTangent=[b[0]-M[0],b[1]-M[1]],d.endTangent=[t[0]-M[0],t[1]-M[1]]):(d.command="TL",d.startTangent=[b[0]-t[0],b[1]-t[1]],d.endTangent=[t[0]-b[0],t[1]-b[1]])}else if("C"===u){var x=[l[1],l[2]],D=[l[3],l[4]];d.startTangent=[b[0]-x[0],b[1]-x[1]],d.endTangent=[t[0]-D[0],t[1]-D[1]],0===d.startTangent[0]&&0===d.startTangent[1]&&(d.startTangent=[x[0]-D[0],x[1]-D[1]]),0===d.endTangent[0]&&0===d.endTangent[1]&&(d.endTangent=[D[0]-x[0],D[1]-x[1]])}else if("S"===u){var k=e[a-1],T=NW(k.currentPoint,b),O=[l[1],l[2]];"C"===k.command?(d.command="C",d.startTangent=[b[0]-T[0],b[1]-T[1]],d.endTangent=[t[0]-O[0],t[1]-O[1]]):(d.command="SQ",d.startTangent=[b[0]-O[0],b[1]-O[1]],d.endTangent=[t[0]-O[0],t[1]-O[1]])}else if("A"===u){var R=BW(d,0),L=R.x,F=R.y,U=BW(d,1,!1),$=U.x,X=U.y;d.startTangent=[L,F],d.endTangent=[$,X]}e.push(d)}return e}(e),a=function adt(n,e){for(var t=[],i=[],r=[],o=0;o<n.length;o++){var s=n[o],a=s.currentPoint,l=s.params,u=s.prePoint,d=void 0;switch(s.command){case"Q":d=i6(u[0],u[1],l[1],l[2],l[3],l[4]);break;case"C":d=J1(u[0],u[1],l[1],l[2],l[3],l[4],l[5],l[6]);break;case"A":var f=s.arcParams;d=Q1(f.cx,f.cy,f.rx,f.ry,f.xRotation,f.startAngle,f.endAngle);break;default:t.push(a[0]),i.push(a[1])}d&&(s.box=d,t.push(d.x,d.x+d.width),i.push(d.y,d.y+d.height))}t=t.filter(function(k){return!Number.isNaN(k)&&k!==1/0&&k!==-1/0}),i=i.filter(function(k){return!Number.isNaN(k)&&k!==1/0&&k!==-1/0});var m=$0(t),y=$0(i),b=av(t),E=av(i);if(0===r.length)return{x:m,y,width:b-m,height:E-y};for(var w=0;w<r.length;w++){var M=r[w],x=M.currentPoint;x[0]===m?m-=hR(M,e).xExtra:x[0]===b&&(b+=hR(M,e).xExtra),x[1]===y?y-=hR(M,e).yExtra:x[1]===E&&(E+=hR(M,e).yExtra)}return{x:m,y,width:b-m,height:E-y}}(s,0),l=a.x,u=a.y,d=a.width,f=a.height;return{absolutePath:e,hasArc:t,segments:s,polygons:r,polylines:o,totalLength:0,rect:{x:Number.isFinite(l)?l:0,y:Number.isFinite(u)?u:0,width:Number.isFinite(d)?d:0,height:Number.isFinite(f)?f:0}}},ddt=lc(VW);function zW(n){return Ki(n)?ddt(n):VW(n)}function hdt(n,e,t){var i=n.curve,r=e.curve;(!i||0===i.length)&&(i=Q0(n.absolutePath,!1),n.curve=i),(!r||0===r.length)&&(r=Q0(e.absolutePath,!1),e.curve=r);var o=[i,r];i.length!==r.length&&(o=ux(i,r));var s=P1(o[0])!==P1(o[1])?q0(o[0]):ox(o[0]);return[s,yv(o[1],s),function(a){return a}]}function pdt(n,e){return[n.points,e.points,function(t){return t}]}var Ss=null,E_=/\s*(\w+)\(([^)]*)\)/g;function Kc(n){return function(e){var t=0;return n.map(function(i){return i===Ss?e[t++]:i})}}function L2(n){return n}var b3={matrix:["NNNNNN",[Ss,Ss,0,0,Ss,Ss,0,0,0,0,1,0,Ss,Ss,0,1],L2],matrix3d:["NNNNNNNNNNNNNNNN",L2],rotate:["A"],rotateX:["A"],rotateY:["A"],rotateZ:["A"],rotate3d:["NNNA"],perspective:["L"],scale:["Nn",Kc([Ss,Ss,new Ha(1)]),L2],scaleX:["N",Kc([Ss,new Ha(1),new Ha(1)]),Kc([Ss,new Ha(1)])],scaleY:["N",Kc([new Ha(1),Ss,new Ha(1)]),Kc([new Ha(1),Ss])],scaleZ:["N",Kc([new Ha(1),new Ha(1),Ss])],scale3d:["NNN",L2],skew:["Aa",null,L2],skewX:["A",null,Kc([Ss,P2])],skewY:["A",null,Kc([P2,Ss])],translate:["Tt",Kc([Ss,Ss,_h]),L2],translateX:["T",Kc([Ss,_h,_h]),Kc([Ss,_h])],translateY:["T",Kc([_h,Ss,_h]),Kc([_h,Ss])],translateZ:["L",Kc([_h,_h,Ss])],translate3d:["TTL",L2]};function UW(n){for(var e=[],t=n.length,i=0;i<t;i++){var r=n[i],o=r[0],s=r.slice(1);if("translate"===o||"skew"===o?1===s.length&&s.push(0):"scale"===o&&1===s.length&&s.push(s[0]),!b3[o])return[];var l=s.map(function(u){return ds(u)});e.push({t:o,d:l})}return e}function a9(n){if(Array.isArray(n))return UW(n);if("none"===(n=(n||"none").trim()))return[];var t,e=[],i=0;for(E_.lastIndex=0;t=E_.exec(n);){if(t.index!==i)return[];i=t.index+t[0].length;var r=t[1],o=b3[r];if(!o)return[];var s=t[2].split(","),a=o[0];if(a.length<s.length)return[];for(var l=[],u=0;u<a.length;u++){var m,d=s[u],f=a[u];if(void 0===(m=d?{A:function(y){return"0"===y.trim()?P2:qut(y)},N:n9,T:e9,L:Zut}[f.toUpperCase()](d):{a:P2,n:l[0],t:_h}[f]))return[];l.push(m)}if(e.push({t:r,d:l}),E_.lastIndex===n.length)return e}return[]}function mdt(n){if(Array.isArray(n))return UW(n);if("none"===(n=(n||"none").trim()))return[];var t,e=[],i=0;for(E_.lastIndex=0;t=E_.exec(n);){if(t.index!==i)return[];i=t.index+t[0].length;var r=t[1],o=b3[r];if(!o)return[];var s=t[2].split(","),a=o[0];if(a.length<s.length)return[];for(var l=[],u=0;u<a.length;u++){var m,d=s[u],f=a[u];if(void 0===(m=d?{A:function(y){return"0"===y.trim()?P2:OW(y)},N:RW,T:AW,L:TW}[f.toUpperCase()](d):{a:P2,n:l[0],t:_h}[f]))return[];l.push(m)}if(e.push({t:r,d:l}),E_.lastIndex===n.length)return e}return[]}function gdt(n){var e,t,i,r;switch(n.t){case"rotateX":return r=de(Wc(n.d[0])),[1,0,0,0,0,Math.cos(r),Math.sin(r),0,0,-Math.sin(r),Math.cos(r),0,0,0,0,1];case"rotateY":return r=de(Wc(n.d[0])),[Math.cos(r),0,-Math.sin(r),0,0,1,0,0,Math.sin(r),0,Math.cos(r),0,0,0,0,1];case"rotate":case"rotateZ":return r=de(Wc(n.d[0])),[Math.cos(r),Math.sin(r),0,0,-Math.sin(r),Math.cos(r),0,0,0,0,1,0,0,0,0,1];case"rotate3d":e=n.d[0].value,t=n.d[1].value,i=n.d[2].value,r=de(Wc(n.d[3]));var o=e*e+t*t+i*i;if(0===o)e=1,t=0,i=0;else if(1!==o){var s=Math.sqrt(o);e/=s,t/=s,i/=s}var a=Math.sin(r/2),l=a*Math.cos(r/2),u=a*a;return[1-2*(t*t+i*i)*u,2*(e*t*u+i*l),2*(e*i*u-t*l),0,2*(e*t*u-i*l),1-2*(e*e+i*i)*u,2*(t*i*u+e*l),0,2*(e*i*u+t*l),2*(t*i*u-e*l),1-2*(e*e+t*t)*u,0,0,0,0,1];case"scale":return[n.d[0].value,0,0,0,0,n.d[1].value,0,0,0,0,1,0,0,0,0,1];case"scaleX":return[n.d[0].value,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"scaleY":return[1,0,0,0,0,n.d[0].value,0,0,0,0,1,0,0,0,0,1];case"scaleZ":return[1,0,0,0,0,1,0,0,0,0,n.d[0].value,0,0,0,0,1];case"scale3d":return[n.d[0].value,0,0,0,0,n.d[1].value,0,0,0,0,n.d[2].value,0,0,0,0,1];case"skew":var d=de(Wc(n.d[0])),f=de(Wc(n.d[1]));return[1,Math.tan(f),0,0,Math.tan(d),1,0,0,0,0,1,0,0,0,0,1];case"skewX":return r=de(Wc(n.d[0])),[1,0,0,0,Math.tan(r),1,0,0,0,0,1,0,0,0,0,1];case"skewY":return r=de(Wc(n.d[0])),[1,Math.tan(r),0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"translate":return[1,0,0,0,0,1,0,0,0,0,1,0,e=Tu(n.d[0],0,null)||0,t=Tu(n.d[1],0,null)||0,0,1];case"translateX":return[1,0,0,0,0,1,0,0,0,0,1,0,e=Tu(n.d[0],0,null)||0,0,0,1];case"translateY":return[1,0,0,0,0,1,0,0,0,0,1,0,0,t=Tu(n.d[0],0,null)||0,0,1];case"translateZ":return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,i=Tu(n.d[0],0,null)||0,1];case"translate3d":return[1,0,0,0,0,1,0,0,0,0,1,0,e=Tu(n.d[0],0,null)||0,t=Tu(n.d[1],0,null)||0,i=Tu(n.d[2],0,null)||0,1];case"perspective":var m=Tu(n.d[0],0,null)||0;return[1,0,0,0,0,1,0,0,0,0,1,m?-1/m:0,0,0,0,1];case"matrix":return[n.d[0].value,n.d[1].value,0,0,n.d[2].value,n.d[3].value,0,0,0,0,1,0,n.d[4].value,n.d[5].value,0,1];case"matrix3d":return n.d.map(function(b){return b.value})}}function vdt(n,e){return[n[0]*e[0]+n[4]*e[1]+n[8]*e[2]+n[12]*e[3],n[1]*e[0]+n[5]*e[1]+n[9]*e[2]+n[13]*e[3],n[2]*e[0]+n[6]*e[1]+n[10]*e[2]+n[14]*e[3],n[3]*e[0]+n[7]*e[1]+n[11]*e[2]+n[15]*e[3],n[0]*e[4]+n[4]*e[5]+n[8]*e[6]+n[12]*e[7],n[1]*e[4]+n[5]*e[5]+n[9]*e[6]+n[13]*e[7],n[2]*e[4]+n[6]*e[5]+n[10]*e[6]+n[14]*e[7],n[3]*e[4]+n[7]*e[5]+n[11]*e[6]+n[15]*e[7],n[0]*e[8]+n[4]*e[9]+n[8]*e[10]+n[12]*e[11],n[1]*e[8]+n[5]*e[9]+n[9]*e[10]+n[13]*e[11],n[2]*e[8]+n[6]*e[9]+n[10]*e[10]+n[14]*e[11],n[3]*e[8]+n[7]*e[9]+n[11]*e[10]+n[15]*e[11],n[0]*e[12]+n[4]*e[13]+n[8]*e[14]+n[12]*e[15],n[1]*e[12]+n[5]*e[13]+n[9]*e[14]+n[13]*e[15],n[2]*e[12]+n[6]*e[13]+n[10]*e[14]+n[14]*e[15],n[3]*e[12]+n[7]*e[13]+n[11]*e[14]+n[15]*e[15]]}function HW(n){var e=[0,0,0],t=[1,1,1],i=[0,0,0],r=[0,0,0,1],o=[0,0,0,1];return function vut(n,e,t,i,r,o){if(!function yut(n,e){var t=e[15];if(0===t)return!1;for(var i=1/t,r=0;r<16;r++)n[r]=e[r]*i;return!0}(cl,n)||(uu($c,cl),$c[3]=0,$c[7]=0,$c[11]=0,$c[15]=1,Math.abs(zg($c))<1e-8))return!1;var s=cl[3],a=cl[7],l=cl[11],u=cl[12],d=cl[13],f=cl[14],m=cl[15];if(0!==s||0!==a||0!==l){if(g3[0]=s,g3[1]=a,g3[2]=l,g3[3]=m,!kc($c,$c))return!1;Ly($c,$c),pu(r,g3,$c)}else r[0]=r[1]=r[2]=0,r[3]=1;if(e[0]=u,e[1]=d,e[2]=f,function but(n,e){n[0][0]=e[0],n[0][1]=e[1],n[0][2]=e[2],n[1][0]=e[4],n[1][1]=e[5],n[1][2]=e[6],n[2][0]=e[8],n[2][1]=e[9],n[2][2]=e[10]}(Ji,cl),t[0]=du(Ji[0]),hu(Ji[0],Ji[0]),i[0]=_l(Ji[0],Ji[1]),Y8(Ji[1],Ji[1],Ji[0],1,-i[0]),t[1]=du(Ji[1]),hu(Ji[1],Ji[1]),i[0]/=t[1],i[1]=_l(Ji[0],Ji[2]),Y8(Ji[2],Ji[2],Ji[0],1,-i[1]),i[2]=_l(Ji[1],Ji[2]),Y8(Ji[2],Ji[2],Ji[1],1,-i[2]),t[2]=du(Ji[2]),hu(Ji[2],Ji[2]),i[1]/=t[2],i[2]/=t[2],Gg(vW,Ji[1],Ji[2]),_l(Ji[0],vW)<0)for(var b=0;b<3;b++)t[b]*=-1,Ji[b][0]*=-1,Ji[b][1]*=-1,Ji[b][2]*=-1;o[0]=.5*Math.sqrt(Math.max(1+Ji[0][0]-Ji[1][1]-Ji[2][2],0)),o[1]=.5*Math.sqrt(Math.max(1-Ji[0][0]+Ji[1][1]-Ji[2][2],0)),o[2]=.5*Math.sqrt(Math.max(1-Ji[0][0]-Ji[1][1]+Ji[2][2],0)),o[3]=.5*Math.sqrt(Math.max(1+Ji[0][0]+Ji[1][1]+Ji[2][2],0)),Ji[2][1]>Ji[1][2]&&(o[0]=-o[0]),Ji[0][2]>Ji[2][0]&&(o[1]=-o[1]),Ji[1][0]>Ji[0][1]&&(o[2]=-o[2])}(function ydt(n){return 0===n.length?[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]:n.map(gdt).reduce(vdt)}(n),e,t,i,r,o),[[e,t,i,o,r]]}var bdt=function(){function n(i,r){for(var o=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],s=0;s<4;s++)for(var a=0;a<4;a++)for(var l=0;l<4;l++)o[s][a]+=r[s][l]*i[l][a];return o}return function t(i,r,o,s,a){for(var l=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],u=0;u<4;u++)l[u][3]=a[u];for(var d=0;d<3;d++)for(var f=0;f<3;f++)l[3][d]+=i[f]*l[f][d];var m=s[0],y=s[1],b=s[2],E=s[3],w=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];w[0][0]=1-2*(y*y+b*b),w[0][1]=2*(m*y-b*E),w[0][2]=2*(m*b+y*E),w[1][0]=2*(m*y+b*E),w[1][1]=1-2*(m*m+b*b),w[1][2]=2*(y*b-m*E),w[2][0]=2*(m*b-y*E),w[2][1]=2*(y*b+m*E),w[2][2]=1-2*(m*m+y*y),l=n(l,w);var M=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];o[2]&&(M[2][1]=o[2],l=n(l,M)),o[1]&&(M[2][1]=0,M[2][0]=o[0],l=n(l,M)),o[0]&&(M[2][0]=0,M[1][0]=o[0],l=n(l,M));for(var x=0;x<3;x++)for(var D=0;D<3;D++)l[x][D]*=r[x];return function e(i){return 0===i[0][2]&&0===i[0][3]&&0===i[1][2]&&0===i[1][3]&&0===i[2][0]&&0===i[2][1]&&1===i[2][2]&&0===i[2][3]&&0===i[3][2]&&1===i[3][3]}(l)?[l[0][0],l[0][1],l[1][0],l[1][1],l[3][0],l[3][1]]:l[0].concat(l[1],l[2],l[3])}}();function _dt(n){return n.toFixed(6).replace(".000000","")}function l9(n,e){var t,i;return n.decompositionPair!==e&&(n.decompositionPair=e,t=HW(n)),e.decompositionPair!==n&&(e.decompositionPair=n,i=HW(e)),null===t[0]||null===i[0]?[[!1],[!0],function(r){return r?e[0].d:n[0].d}]:(t[0].push(0),i[0].push(1),[t,i,function(r){var o=function wdt(n,e,t){var i=function Edt(n,e){for(var t=0,i=0;i<n.length;i++)t+=n[i]*e[i];return t}(n,e),r=[];if(1===(i=Ys(i,-1,1)))r=n;else for(var o=Math.acos(i),s=1*Math.sin(t*o)/Math.sqrt(1-i*i),a=0;a<4;a++)r.push(n[a]*(Math.cos(t*o)-i*s)+e[a]*s);return r}(t[0][3],i[0][3],r[5]);return bdt(r[0],r[1],r[2],o,r[4]).map(_dt).join(",")}])}function c9(n){return n.replace(/[XY]/,"")}function u9(n){return n.replace(/(X|Y|Z|3d)?$/,"3d")}var xdt=function(n,e){return"perspective"===n&&"perspective"===e||("matrix"===n||"matrix3d"===n)&&("matrix"===e||"matrix3d"===e)};function Mdt(n,e,t){var i=!1;if(!n.length||!e.length){n.length||(i=!0,n=e,e=[]);for(var r=function(){var U=n[o],$=U.t,X=U.d,q="scale"===$.substring(0,5)?1:0;e.push({t:$,d:X.map(function(gt){return"number"==typeof gt?ds(q):ds(q,gt.unit)})})},o=0;o<n.length;o++)r()}var s=[],a=[],l=[];if(n.length!==e.length){var u=l9(n,e);s=[u[0]],a=[u[1]],l=[["matrix",[u[2]]]]}else for(var d=0;d<n.length;d++){var f=n[d].t,m=e[d].t,y=n[d].d,b=e[d].d,E=b3[f],w=b3[m],M=void 0;if(xdt(f,m)){var x=l9([n[d]],[e[d]]);s.push(x[0]),a.push(x[1]),l.push(["matrix",[x[2]]])}else{if(f===m)M=f;else if(E[2]&&w[2]&&c9(f)===c9(m))M=c9(f),y=E[2](y),b=w[2](b);else{if(!E[1]||!w[1]||u9(f)!==u9(m)){var D=l9(n,e);s=[D[0]],a=[D[1]],l=[["matrix",[D[2]]]];break}M=u9(f),y=E[1](y),b=w[1](b)}for(var k=[],T=[],O=[],R=0;R<y.length;R++){var L=Jut(y[R],b[R],t,!1,R);k[R]=L[0],T[R]=L[1],O.push(L[2])}s.push(k),a.push(T),l.push([M,O])}}if(i){var F=s;s=a,a=F}return[s,a,function(U){return U.map(function($,X){var q=$.map(function(gt,Et){return l[X][1][Et](gt)}).join(",");return"matrix"===l[X][0]&&16===q.split(",").length&&(l[X][0]="matrix3d"),"matrix3d"===l[X][0]&&6===q.split(",").length&&(l[X][0]="matrix"),"".concat(l[X][0],"(").concat(q,")")}).join(" ")}]}var Cdt=lc(function(n){if(Ki(n)){if("text-anchor"===n)return[ds(0,"px"),ds(0,"px")];var e=n.split(" ");return 1===e.length&&("top"===e[0]||"bottom"===e[0]?(e[1]=e[0],e[0]="center"):e[1]="center"),2!==e.length?null:[e9(GW(e[0])),e9(GW(e[1]))]}return[ds(n[0]||0,"px"),ds(n[1]||0,"px")]});function GW(n){return"center"===n?"50%":"left"===n||"top"===n?"0%":"right"===n||"bottom"===n?"100%":n}var $W=[{n:"display",k:["none"]},{n:"opacity",int:!0,inh:!0,d:"1",syntax:qn.OPACITY_VALUE},{n:"fillOpacity",int:!0,inh:!0,d:"1",syntax:qn.OPACITY_VALUE},{n:"strokeOpacity",int:!0,inh:!0,d:"1",syntax:qn.OPACITY_VALUE},{n:"fill",int:!0,k:["none"],d:"none",syntax:qn.PAINT},{n:"fillRule",k:["nonzero","evenodd"],d:"nonzero"},{n:"stroke",int:!0,k:["none"],d:"none",syntax:qn.PAINT,l:!0},{n:"shadowType",k:["inner","outer","both"],d:"outer",l:!0},{n:"shadowColor",int:!0,syntax:qn.COLOR},{n:"shadowOffsetX",int:!0,l:!0,d:"0",syntax:qn.LENGTH_PERCENTAGE},{n:"shadowOffsetY",int:!0,l:!0,d:"0",syntax:qn.LENGTH_PERCENTAGE},{n:"shadowBlur",int:!0,l:!0,d:"0",syntax:qn.SHADOW_BLUR},{n:"lineWidth",int:!0,inh:!0,d:"1",l:!0,a:["strokeWidth"],syntax:qn.LENGTH_PERCENTAGE},{n:"increasedLineWidthForHitTesting",inh:!0,d:"0",l:!0,syntax:qn.LENGTH_PERCENTAGE},{n:"lineJoin",inh:!0,l:!0,a:["strokeLinejoin"],k:["miter","bevel","round"],d:"miter"},{n:"lineCap",inh:!0,l:!0,a:["strokeLinecap"],k:["butt","round","square"],d:"butt"},{n:"lineDash",int:!0,inh:!0,k:["none"],a:["strokeDasharray"],syntax:qn.LENGTH_PERCENTAGE_12},{n:"lineDashOffset",int:!0,inh:!0,d:"0",a:["strokeDashoffset"],syntax:qn.LENGTH_PERCENTAGE},{n:"offsetPath",syntax:qn.DEFINED_PATH},{n:"offsetDistance",int:!0,syntax:qn.OFFSET_DISTANCE},{n:"dx",int:!0,l:!0,d:"0",syntax:qn.LENGTH_PERCENTAGE},{n:"dy",int:!0,l:!0,d:"0",syntax:qn.LENGTH_PERCENTAGE},{n:"zIndex",ind:!0,int:!0,d:"0",k:["auto"],syntax:qn.Z_INDEX},{n:"visibility",k:["visible","hidden"],ind:!0,inh:!0,int:!0,d:"visible"},{n:"pointerEvents",inh:!0,k:["none","auto","stroke","fill","painted","visible","visiblestroke","visiblefill","visiblepainted","all"],d:"auto"},{n:"filter",ind:!0,l:!0,k:["none"],d:"none",syntax:qn.FILTER},{n:"clipPath",syntax:qn.DEFINED_PATH},{n:"textPath",syntax:qn.DEFINED_PATH},{n:"textPathSide",k:["left","right"],d:"left"},{n:"textPathStartOffset",l:!0,d:"0",syntax:qn.LENGTH_PERCENTAGE},{n:"transform",p:100,int:!0,k:["none"],d:"none",syntax:qn.TRANSFORM},{n:"transformOrigin",p:100,d:"0 0",l:!0,syntax:qn.TRANSFORM_ORIGIN},{n:"cx",int:!0,l:!0,d:"0",syntax:qn.COORDINATE},{n:"cy",int:!0,l:!0,d:"0",syntax:qn.COORDINATE},{n:"cz",int:!0,l:!0,d:"0",syntax:qn.COORDINATE},{n:"r",int:!0,l:!0,d:"0",syntax:qn.LENGTH_PERCENTAGE},{n:"rx",int:!0,l:!0,d:"0",syntax:qn.LENGTH_PERCENTAGE},{n:"ry",int:!0,l:!0,d:"0",syntax:qn.LENGTH_PERCENTAGE},{n:"x",int:!0,l:!0,d:"0",syntax:qn.COORDINATE},{n:"y",int:!0,l:!0,d:"0",syntax:qn.COORDINATE},{n:"z",int:!0,l:!0,d:"0",syntax:qn.COORDINATE},{n:"width",int:!0,l:!0,k:["auto","fit-content","min-content","max-content"],d:"0",syntax:qn.LENGTH_PERCENTAGE},{n:"height",int:!0,l:!0,k:["auto","fit-content","min-content","max-content"],d:"0",syntax:qn.LENGTH_PERCENTAGE},{n:"radius",int:!0,l:!0,d:"0",syntax:qn.LENGTH_PERCENTAGE_14},{n:"x1",int:!0,l:!0,syntax:qn.COORDINATE},{n:"y1",int:!0,l:!0,syntax:qn.COORDINATE},{n:"z1",int:!0,l:!0,syntax:qn.COORDINATE},{n:"x2",int:!0,l:!0,syntax:qn.COORDINATE},{n:"y2",int:!0,l:!0,syntax:qn.COORDINATE},{n:"z2",int:!0,l:!0,syntax:qn.COORDINATE},{n:"d",int:!0,l:!0,d:"",syntax:qn.PATH,p:50},{n:"points",int:!0,l:!0,syntax:qn.LIST_OF_POINTS,p:50},{n:"text",l:!0,d:"",syntax:qn.TEXT,p:50},{n:"textTransform",l:!0,inh:!0,k:["capitalize","uppercase","lowercase","none"],d:"none",syntax:qn.TEXT_TRANSFORM,p:51},{n:"font",l:!0},{n:"fontSize",int:!0,inh:!0,d:"16px",l:!0,syntax:qn.LENGTH_PERCENTAGE},{n:"fontFamily",l:!0,inh:!0,d:"sans-serif"},{n:"fontStyle",l:!0,inh:!0,k:["normal","italic","oblique"],d:"normal"},{n:"fontWeight",l:!0,inh:!0,k:["normal","bold","bolder","lighter"],d:"normal"},{n:"fontVariant",l:!0,inh:!0,k:["normal","small-caps"],d:"normal"},{n:"lineHeight",l:!0,syntax:qn.LENGTH,int:!0,d:"0"},{n:"letterSpacing",l:!0,syntax:qn.LENGTH,int:!0,d:"0"},{n:"miterLimit",l:!0,syntax:qn.NUMBER,d:function(n){return n===Je.PATH||n===Je.POLYGON||n===Je.POLYLINE?"4":"10"}},{n:"wordWrap",l:!0},{n:"wordWrapWidth",l:!0},{n:"maxLines",l:!0},{n:"textOverflow",l:!0,d:"clip"},{n:"leading",l:!0},{n:"textBaseline",l:!0,inh:!0,k:["top","hanging","middle","alphabetic","ideographic","bottom"],d:"alphabetic"},{n:"textAlign",l:!0,inh:!0,k:["start","center","middle","end","left","right"],d:"start"},{n:"markerStart",syntax:qn.MARKER},{n:"markerEnd",syntax:qn.MARKER},{n:"markerMid",syntax:qn.MARKER},{n:"markerStartOffset",syntax:qn.LENGTH,l:!0,int:!0,d:"0"},{n:"markerEndOffset",syntax:qn.LENGTH,l:!0,int:!0,d:"0"}],Sdt=new Set($W.filter(function(n){return!!n.l}).map(function(n){return n.n})),d9={},Ddt=function(){return On(function n(e){var t=this;In(this,n),this.runtime=e,$W.forEach(function(i){t.registerMetadata(i)})},[{key:"registerMetadata",value:function(e){[e.n].concat(Ko(e.a||[])).forEach(function(t){d9[t]=e})}},{key:"getPropertySyntax",value:function(e){return this.runtime.CSSPropertySyntaxFactory[e]}},{key:"processProperties",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{skipUpdateAttribute:!1,skipParse:!1,forceUpdateGeometry:!1,usedAttributes:[],memoize:!0};Object.assign(e.attributes,t);var r=e.parsedStyle.clipPath,o=e.parsedStyle.offsetPath;!function Tdt(n,e){if(ui.enableMassiveParsedStyleAssignOptimization){var t=n.constructor.PARSED_STYLE_LIST;for(var i in e)t.has(i)&&(n.parsedStyle[i]=e[i])}else Object.assign(n.parsedStyle,e)}(e,t);var s=!!i.forceUpdateGeometry;if(!s)for(var a in t)if(Sdt.has(a)){s=!0;break}t.fill&&(e.parsedStyle.fill=v3(t.fill)),t.stroke&&(e.parsedStyle.stroke=v3(t.stroke)),t.shadowColor&&(e.parsedStyle.shadowColor=v3(t.shadowColor)),t.filter&&(e.parsedStyle.filter=function ndt(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if("none"===(n=n.toLowerCase().trim()))return[];for(var i,e=/\s*([\w-]+)\(([^)]*)\)/g,t=[],r=0;i=e.exec(n);){if(i.index!==r)return[];if(r=i.index+i[0].length,edt.indexOf(i[1])>-1&&t.push({name:i[1],params:i[2].split(" ").map(function(o){return tdt(o)||v3(o)})}),e.lastIndex===n.length)return t}return[]}(t.filter)),Oi(t.radius)||(e.parsedStyle.radius=kW(t.radius,4)),Oi(t.lineDash)||(e.parsedStyle.lineDash=kW(t.lineDash,2)),t.points&&(e.parsedStyle.points=function fdt(n){return{points:Ki(n)?n.split(" ").map(function(i){var o=Yi(i.split(","),2),a=o[1];return[Number(o[0]),Number(a)]}):n,totalLength:0,segments:[]}}(t.points)),""===t.d&&(e.parsedStyle.d=xr({},_W)),t.d&&(e.parsedStyle.d=zW(t.d)),t.textTransform&&this.runtime.CSSPropertySyntaxFactory[qn.TEXT_TRANSFORM].calculator(null,null,{value:t.textTransform},e,null),_i(t.clipPath)||this.runtime.CSSPropertySyntaxFactory[qn.DEFINED_PATH].calculator("clipPath",r,t.clipPath,e,this.runtime),t.offsetPath&&this.runtime.CSSPropertySyntaxFactory[qn.DEFINED_PATH].calculator("offsetPath",o,t.offsetPath,e,this.runtime),t.transform&&(e.parsedStyle.transform=a9(t.transform)),t.transformOrigin&&(e.parsedStyle.transformOrigin=Cdt(t.transformOrigin)),t.markerStart&&(e.parsedStyle.markerStart=this.runtime.CSSPropertySyntaxFactory[qn.MARKER].calculator(null,t.markerStart,t.markerStart,null,null)),t.markerEnd&&(e.parsedStyle.markerEnd=this.runtime.CSSPropertySyntaxFactory[qn.MARKER].calculator(null,t.markerEnd,t.markerEnd,null,null)),t.markerMid&&(e.parsedStyle.markerMid=this.runtime.CSSPropertySyntaxFactory[qn.MARKER].calculator("",t.markerMid,t.markerMid,null,null)),Oi(t.zIndex)||this.runtime.CSSPropertySyntaxFactory[qn.Z_INDEX].postProcessor(e),Oi(t.offsetDistance)||this.runtime.CSSPropertySyntaxFactory[qn.OFFSET_DISTANCE].postProcessor(e),t.transform&&this.runtime.CSSPropertySyntaxFactory[qn.TRANSFORM].postProcessor(e),t.transformOrigin&&this.runtime.CSSPropertySyntaxFactory[qn.TRANSFORM_ORIGIN].postProcessor(e),s&&(e.geometry.dirty=!0,e.renderable.boundsDirty=!0,e.renderable.renderBoundsDirty=!0,i.forceUpdateGeometry||this.runtime.sceneGraphService.dirtifyToRoot(e))}},{key:"updateGeometry",value:function(e){var t=e.nodeName,i=this.runtime.geometryUpdaterFactory[t];if(i){var r=e.geometry;r.contentBounds||(r.contentBounds=new p),r.renderBounds||(r.renderBounds=new p);var o=e.parsedStyle,s=i.update(o,e),a=s.cx,l=void 0===a?0:a,u=s.cy,d=void 0===u?0:u,f=s.cz,m=void 0===f?0:f,y=s.hwidth,b=void 0===y?0:y,E=s.hheight,w=void 0===E?0:E,M=s.hdepth,x=void 0===M?0:M,D=[Math.abs(b),Math.abs(w),x],k=o.stroke,T=o.lineWidth,O=void 0===T?1:T,R=o.increasedLineWidthForHitTesting,L=void 0===R?0:R,F=o.shadowType,U=void 0===F?"outer":F,$=o.shadowColor,X=o.filter,q=void 0===X?[]:X,gt=o.transformOrigin,Et=[l,d,m];r.contentBounds.update(Et,D);var at=t===Je.POLYLINE||t===Je.POLYGON||t===Je.PATH?Math.SQRT2:.5;if(k&&!k.isNone){var et=((O||0)+(L||0))*at;D[0]+=et,D[1]+=et}if(r.renderBounds.update(Et,D),$&&U&&"inner"!==U){var St=r.renderBounds,Yt=St.min,He=St.max,Wn=o.shadowBlur||0,Ln=o.shadowOffsetX||0,yi=o.shadowOffsetY||0,co=He[0]+Wn+Ln,as=Yt[1]-Wn+yi,Vs=He[1]+Wn+yi;Yt[0]=Math.min(Yt[0],Yt[0]-Wn+Ln),He[0]=Math.max(He[0],co),Yt[1]=Math.min(Yt[1],as),He[1]=Math.max(He[1],Vs),r.renderBounds.setMinMax(Yt,He)}q.forEach(function(Od){var Yr=Od.name,Ll=Od.params;if("blur"===Yr){var kd=Ll[0].value;r.renderBounds.update(r.renderBounds.center,O0(r.renderBounds.halfExtents,r.renderBounds.halfExtents,[kd,kd,0]))}else if("drop-shadow"===Yr){var my=Ll[0].value,jf=Ll[1].value,Xa=Ll[2].value,pa=r.renderBounds,ma=pa.min,ga=pa.max,EE=ga[0]+Xa+my,Vf=ma[1]-Xa+jf,wE=ga[1]+Xa+jf;ma[0]=Math.min(ma[0],ma[0]-Xa+my),ga[0]=Math.max(ga[0],EE),ma[1]=Math.min(ma[1],Vf),ga[1]=Math.max(ga[1],wE),r.renderBounds.setMinMax(ma,ga)}}),e.geometry.dirty=!1;var Bf=w<0,m0=(b<0?-1:1)*(gt?Tu(gt[0],0,e,!0):0),Jr=(Bf?-1:1)*(gt?Tu(gt[1],1,e,!0):0);(m0||Jr)&&e.setOrigin(m0,Jr)}}},{key:"updateSizeAttenuation",value:function(e,t){e.style.isSizeAttenuation?(e.style.rawLineWidth||(e.style.rawLineWidth=e.style.lineWidth),e.style.lineWidth=(e.style.rawLineWidth||1)/t,e.nodeName===Je.CIRCLE&&(e.style.rawR||(e.style.rawR=e.style.r),e.style.r=(e.style.rawR||1)/t)):(e.style.rawLineWidth&&(e.style.lineWidth=e.style.rawLineWidth,delete e.style.rawLineWidth),e.nodeName===Je.CIRCLE&&e.style.rawR&&(e.style.r=e.style.rawR,delete e.style.rawR))}}])}(),Adt=function(){return On(function n(){In(this,n),this.mixer=i9},[{key:"calculator",value:function(e,t,i,r){return Wc(i)}}])}(),Odt=function(){return On(function n(){In(this,n)},[{key:"calculator",value:function(e,t,i,r,o){return i instanceof md&&(i=null),o.sceneGraphService.updateDisplayObjectDependency(e,t,i,r),"clipPath"===e&&r.forEach(function(s){0===s.childNodes.length&&o.sceneGraphService.dirtifyToRoot(s)}),i}}])}(),kdt=function(){return On(function n(){In(this,n),this.parser=v3,this.mixer=Yut},[{key:"calculator",value:function(e,t,i,r){return i instanceof md?"none"===i.value?xW:MW:i}}])}(),Idt=function(){return On(function n(){In(this,n)},[{key:"calculator",value:function(e,t,i){return i instanceof md?[]:i}}])}();function WW(n){var t=n.parsedStyle.fontSize;return Oi(t)?null:t}var h9=function(){return On(function n(){In(this,n),this.mixer=i9},[{key:"calculator",value:function(e,t,i,r,o){if(oi(i))return i;if(!Ha.isRelativeUnit(i.unit))return i.value;if(i.unit===Jn.kPercentage)return 0;if(i.unit===Jn.kEms){if(r.parentNode){var s=WW(r.parentNode);if(s)return s*i.value}return 0}if(i.unit===Jn.kRems){var a;if(null!=r&&null!==(a=r.ownerDocument)&&void 0!==a&&a.documentElement){var l=WW(r.ownerDocument.documentElement);if(l)return l*i.value}return 0}}}])}(),Rdt=function(){return On(function n(){In(this,n),this.mixer=PW},[{key:"calculator",value:function(e,t,i){return i.map(function(r){return r.value})}}])}(),Pdt=function(){return On(function n(){In(this,n),this.mixer=PW},[{key:"calculator",value:function(e,t,i){return i.map(function(r){return r.value})}}])}(),Ndt=function(){return On(function n(){In(this,n)},[{key:"calculator",value:function(e,t,i,r){var o;i instanceof md&&(i=null);var s=null===(o=i)||void 0===o?void 0:o.cloneNode(!0);return s&&(s.style.isMarker=!0),s}}])}(),Ldt=function(){return On(function n(){In(this,n),this.mixer=i9},[{key:"calculator",value:function(e,t,i){return i.value}}])}(),Fdt=function(){return On(function n(){In(this,n),this.mixer=r9(0,1)},[{key:"calculator",value:function(e,t,i){return i.value}},{key:"postProcessor",value:function(e){var t=e.parsedStyle,i=t.offsetPath;if(i){var o=i.nodeName;if(o===Je.LINE||o===Je.PATH||o===Je.POLYLINE){var s=i.getPoint(t.offsetDistance);s&&e.setLocalPosition(s.x,s.y)}}}}])}(),Bdt=function(){return On(function n(){In(this,n),this.mixer=r9(0,1)},[{key:"calculator",value:function(e,t,i){return i.value}}])}(),jdt=function(){return On(function n(){In(this,n),this.parser=zW,this.mixer=hdt},[{key:"calculator",value:function(e,t,i){return i instanceof md&&"unset"===i.value?{absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:new A(0,0,0,0)}:i}}])}(),Vdt=On(function n(){In(this,n),this.mixer=pdt}),zdt=function(n){function e(){var t;In(this,e);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=Kn(this,e,[].concat(r))).mixer=r9(0,1/0),t}return br(e,n),On(e)}(h9),Udt=function(){return On(function n(){In(this,n)},[{key:"calculator",value:function(e,t,i,r){return i instanceof md?"unset"===i.value?"":i.value:"".concat(i)}},{key:"postProcessor",value:function(e){e.nodeValue="".concat(e.parsedStyle.text)||""}}])}(),Hdt=function(){return On(function n(){In(this,n)},[{key:"calculator",value:function(e,t,i,r){var o=r.getAttribute("text");if(o){var s=o;"capitalize"===i.value?s=o.charAt(0).toUpperCase()+o.slice(1):"lowercase"===i.value?s=o.toLowerCase():"uppercase"===i.value&&(s=o.toUpperCase()),r.parsedStyle.text=s}return i.value}}])}(),w_=typeof window<"u"&&typeof window.document<"u";function KW(n){var e=n;do{var t;if(null===(t=e.parsedStyle)||void 0===t?void 0:t.clipPath)return e;e=e.parentElement}while(null!==e);return null}var Wdt={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},Kdt="object"==typeof performance&&performance.now?performance:Date;function f9(n){return n.nodeName===Je.FRAGMENT||n.getRootNode().nodeName===Je.FRAGMENT}function F2(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"auto",e=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0,i=!1,r=!1;return"visiblepainted"===n||"painted"===n||"auto"===n?(i=!!e&&!e.isNone,r=!!t&&!t.isNone):"visiblefill"===n||"fill"===n?i=!0:"visiblestroke"===n||"stroke"===n?r=!0:("visible"===n||"all"===n)&&(i=!0,r=!0),[i,r]}var Xdt=1,Af="object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:{},Zdt=Date.now(),_3={},YW=Date.now(),qdt=function(n){if("function"!=typeof n)throw new TypeError("".concat(n," is not a function"));var e=Date.now(),t=e-YW,i=t>16?0:16-t,r=Xdt++;return _3[r]=n,Object.keys(_3).length>1||setTimeout(function(){YW=e;var o=_3;_3={},Object.keys(o).forEach(function(s){return o[s](Af.performance&&"function"==typeof Af.performance.now?Af.performance.now():Date.now()-Zdt)})},i),r},Jdt=function(n){delete _3[n]},ZW=function(n){return"string"!=typeof n?qdt:""===n?Af.requestAnimationFrame:Af["".concat(n,"RequestAnimationFrame")]},QW=function(n,e){for(var t=0;void 0!==n[t];){if(e(n[t]))return n[t];t+=1}}(["","webkit","moz","ms","o"],function(n){return!!ZW(n)}),qW=ZW(QW),iht=function(n){return"string"!=typeof n?Jdt:""===n?Af.cancelAnimationFrame:Af["".concat(n,"CancelAnimationFrame")]||Af["".concat(n,"CancelRequestAnimationFrame")]}(QW);Af.requestAnimationFrame=qW,Af.cancelAnimationFrame=iht;var rht=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],oht=/([\"\'])[^\'\"]+\1/;function p9(n,e,t){return Yd(n),n[4]=Math.tan(e),n[1]=Math.tan(t),n}var Qs=wo(),aht=wo(),lht={scale:function(n){Yh(Qs,[n[0].value,n[1].value,1])},scaleX:function(n){Yh(Qs,[n[0].value,1,1])},scaleY:function(n){Yh(Qs,[1,n[0].value,1])},scaleZ:function(n){Yh(Qs,[1,1,n[0].value])},scale3d:function(n){Yh(Qs,[n[0].value,n[1].value,n[2].value])},translate:function(n){Xh(Qs,[n[0].value,n[1].value,0])},translateX:function(n){Xh(Qs,[n[0].value,0,0])},translateY:function(n){Xh(Qs,[0,n[0].value,0])},translateZ:function(n){Xh(Qs,[0,0,n[0].value])},translate3d:function(n){Xh(Qs,[n[0].value,n[1].value,n[2].value])},rotate:function(n){QE(Qs,de(Wc(n[0])))},rotateX:function(n){ZE(Qs,de(Wc(n[0])))},rotateY:function(n){oT(Qs,de(Wc(n[0])))},rotateZ:function(n){QE(Qs,de(Wc(n[0])))},rotate3d:function(n){rT(Qs,de(Wc(n[3])),[n[0].value,n[1].value,n[2].value])},skew:function(n){p9(Qs,de(n[0].value),de(n[1].value))},skewX:function(n){p9(Qs,de(n[0].value),0)},skewY:function(n){p9(Qs,0,de(n[0].value))},matrix:function(n){XE(Qs,n[0].value,n[1].value,0,0,n[2].value,n[3].value,0,0,0,0,1,0,n[4].value,n[5].value,0,1)},matrix3d:function(n){XE.apply(fT,[Qs].concat(Ko(n.map(function(e){return e.value}))))}},cht=xo(1,1,1),uht=Br(),JW={translate:function(n,e){ui.sceneGraphService.setLocalScale(n,cht,!1),ui.sceneGraphService.setLocalEulerAngles(n,uht,void 0,void 0,!1),ui.sceneGraphService.setLocalPosition(n,[e[0].value,e[1].value,0],!1),ui.sceneGraphService.dirtifyLocal(n,n.transformable)}};function tK(n,e){if(n.length){if(1===n.length&&JW[n[0].t])return void JW[n[0].t](e,n[0].d);for(var t=Yd(aht),i=0;i<n.length;i++){var r=n[i],a=lht[r.t];a&&(a(r.d),hT(t,t,Qs))}e.setLocalTransform(t)}else e.resetLocalTransform();return e.getLocalTransform()}var dht=function(){return On(function n(){In(this,n),this.parser=mdt,this.mixer=Mdt},[{key:"calculator",value:function(e,t,i,r){return i instanceof md?[]:i}},{key:"postProcessor",value:function(e){tK(e.parsedStyle.transform,e)}}])}(),hht=function(){return On(function n(){In(this,n)},[{key:"postProcessor",value:function(e){var t=e.parsedStyle.transformOrigin;t[0].unit===Jn.kPixels&&t[1].unit===Jn.kPixels?e.setOrigin(t[0].value,t[1].value):e.getGeometryBounds()}}])}(),fht=function(){return On(function n(){In(this,n)},[{key:"calculator",value:function(e,t,i,r){return i.value}},{key:"postProcessor",value:function(e){if(e.parentNode){var t=e.parentNode,i=t.renderable,r=t.sortable;i&&(i.dirty=!0),r&&(r.dirty=!0,r.dirtyReason=Z8.Z_INDEX_CHANGED)}}}])}(),pht=function(){return On(function n(){In(this,n)},[{key:"update",value:function(e,t){var i=e.cx,o=e.cy,a=e.r,l=void 0===a?0:a;return{cx:void 0===i?0:i,cy:void 0===o?0:o,hwidth:l,hheight:l}}}])}(),mht=function(){return On(function n(){In(this,n)},[{key:"update",value:function(e,t){var i=e.cx,o=e.cy,a=e.rx,u=e.ry;return{cx:void 0===i?0:i,cy:void 0===o?0:o,hwidth:void 0===a?0:a,hheight:void 0===u?0:u}}}])}(),ght=function(){return On(function n(){In(this,n)},[{key:"update",value:function(e){var t=e.x1,i=e.y1,r=e.x2,o=e.y2,s=Math.min(t,r),a=Math.max(t,r),l=Math.min(i,o),m=(a-s)/2,y=(Math.max(i,o)-l)/2;return{cx:s+m,cy:l+y,hwidth:m,hheight:y}}}])}(),vht=function(){return On(function n(){In(this,n)},[{key:"update",value:function(e){var i=e.d.rect,l=i.width/2,u=i.height/2;return{cx:i.x+l,cy:i.y+u,hwidth:l,hheight:u}}}])}(),yht=function(){return On(function n(){In(this,n)},[{key:"update",value:function(e){if(e.points&&qi(e.points.points)){var t=e.points.points,i=Math.min.apply(Math,Ko(t.map(function(f){return f[0]}))),r=Math.max.apply(Math,Ko(t.map(function(f){return f[0]}))),o=Math.min.apply(Math,Ko(t.map(function(f){return f[1]}))),u=(r-i)/2,d=(Math.max.apply(Math,Ko(t.map(function(f){return f[1]})))-o)/2;return{cx:i+u,cy:o+d,hwidth:u,hheight:d}}return{cx:0,cy:0,hwidth:0,hheight:0}}}])}(),bht=function(){return On(function n(){In(this,n)},[{key:"update",value:function(e,t){var i=e.x,r=void 0===i?0:i,o=e.y,s=void 0===o?0:o,a=e.src,l=e.width,d=e.height,m=void 0===l?0:l,y=void 0===d?0:d;return a&&!Ki(a)&&(m||(e.width=m=a.width),y||(e.height=y=a.height)),{cx:r+m/2,cy:s+y/2,hwidth:m/2,hheight:y/2}}}])}(),_ht=function(){return On(function n(e){In(this,n),this.globalRuntime=e},[{key:"isReadyToMeasure",value:function(e,t){return e.text}},{key:"update",value:function(e,t){var i,r=e.text,o=e.textAlign,s=void 0===o?"start":o,a=e.lineWidth,l=void 0===a?1:a,u=e.textBaseline,d=void 0===u?"alphabetic":u,f=e.dx,m=void 0===f?0:f,y=e.dy,b=void 0===y?0:y,E=e.x,w=void 0===E?0:E,M=e.y,x=void 0===M?0:M;if(!this.isReadyToMeasure(e,t))return e.metrics={font:"",width:0,height:0,lines:[],lineWidths:[],lineHeight:0,maxLineWidth:0,fontProperties:{ascent:0,descent:0,fontSize:0},lineMetrics:[]},{hwidth:0,hheight:0,cx:0,cy:0};var D=(null==t||null===(i=t.ownerDocument)||void 0===i||null===(i=i.defaultView)||void 0===i?void 0:i.getConfig())||{},T=this.globalRuntime.textService.measureText(r,e,D.offscreenCanvas);e.metrics=T;var L=T.width/2,F=T.height/2,U=w+L;"center"===s||"middle"===s?U+=l/2-L:("right"===s||"end"===s)&&(U+=l-2*L);var $=x-F;return"middle"===d?$+=F:"top"===d||"hanging"===d?$+=2*F:"alphabetic"===d||("bottom"===d||"ideographic"===d)&&($+=0),m&&(U+=m),b&&($+=b),{cx:U,cy:$,hwidth:L,hheight:F}}}])}(),Eht=function(){return On(function n(){In(this,n)},[{key:"update",value:function(e,t){return{cx:0,cy:0,hwidth:0,hheight:0}}}])}(),wht=function(){return On(function n(){In(this,n)},[{key:"update",value:function(e,t){var i=e.x,o=e.y,a=e.width,l=void 0===a?0:a,u=e.height,d=void 0===u?0:u;return{cx:(void 0===i?0:i)+l/2,cy:(void 0===o?0:o)+d/2,hwidth:l/2,hheight:d/2}}}])}(),m9=function(){return On(function n(e){In(this,n),this.eventPhase=n.prototype.NONE,this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.defaultPrevented=!1,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new S,this.page=new S,this.canvas=new S,this.viewport=new S,this.composed=!1,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e},[{key:"name",get:function(){return this.type}},{key:"layerX",get:function(){return this.layer.x}},{key:"layerY",get:function(){return this.layer.y}},{key:"pageX",get:function(){return this.page.x}},{key:"pageY",get:function(){return this.page.y}},{key:"x",get:function(){return this.canvas.x}},{key:"y",get:function(){return this.canvas.y}},{key:"canvasX",get:function(){return this.canvas.x}},{key:"canvasY",get:function(){return this.canvas.y}},{key:"viewportX",get:function(){return this.viewport.x}},{key:"viewportY",get:function(){return this.viewport.y}},{key:"composedPath",value:function(){return this.manager&&(!this.path||this.path[0]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}},{key:"propagationPath",get:function(){return this.composedPath()}},{key:"preventDefault",value:function(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}},{key:"stopImmediatePropagation",value:function(){this.propagationImmediatelyStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"initEvent",value:function(){}},{key:"initUIEvent",value:function(){}},{key:"clone",value:function(){throw new Error(I)}}])}(),eK=function(n){function e(){var t;In(this,e);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=Kn(this,e,[].concat(r))).client=new S,t.movement=new S,t.offset=new S,t.global=new S,t.screen=new S,t}return br(e,n),On(e,[{key:"clientX",get:function(){return this.client.x}},{key:"clientY",get:function(){return this.client.y}},{key:"movementX",get:function(){return this.movement.x}},{key:"movementY",get:function(){return this.movement.y}},{key:"offsetX",get:function(){return this.offset.x}},{key:"offsetY",get:function(){return this.offset.y}},{key:"globalX",get:function(){return this.global.x}},{key:"globalY",get:function(){return this.global.y}},{key:"screenX",get:function(){return this.screen.x}},{key:"screenY",get:function(){return this.screen.y}},{key:"getModifierState",value:function(t){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(t)}},{key:"initMouseEvent",value:function(){throw new Error(I)}}])}(m9),xht=function(n){function e(){var t;In(this,e);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=Kn(this,e,[].concat(r))).width=0,t.height=0,t.isPrimary=!1,t}return br(e,n),On(e,[{key:"getCoalescedEvents",value:function(){return"pointermove"===this.type||"mousemove"===this.type||"touchmove"===this.type?[this]:[]}},{key:"getPredictedEvents",value:function(){throw new Error("getPredictedEvents is not supported!")}},{key:"clone",value:function(){return this.manager.clonePointerEvent(this)}}])}(eK),Mht=function(n){function e(){return In(this,e),Kn(this,e,arguments)}return br(e,n),On(e,[{key:"clone",value:function(){return this.manager.cloneWheelEvent(this)}}])}(eK),Of=function(n){function e(t,i){var r;return In(this,e),(r=Kn(this,e,[null])).type=t,r.detail=i,Object.assign(r,i),r}return br(e,n),On(e)}(m9),nK=new WeakMap,Cht=function(){return On(function n(){In(this,n),this.emitter=new hn},[{key:"on",value:function(e,t,i){return this.addEventListener(e,t,i),this}},{key:"addEventListener",value:function(e,t,i){var r=!1,o=!1;if(rf(i))r=i;else if(i){var s=i.capture;r=void 0!==s&&s;var a=i.once;o=void 0!==a&&a}r&&(e+="capture"),t=ii(t)?t:t.handleEvent;var l=ii(t)?void 0:t;return o?this.emitter.once(e,t,l):this.emitter.on(e,t,l),this}},{key:"off",value:function(e,t,i){return e?this.removeEventListener(e,t,i):this.removeAllEventListeners(),this}},{key:"removeAllEventListeners",value:function(){var e;null===(e=this.emitter)||void 0===e||e.removeAllListeners()}},{key:"removeEventListener",value:function(e,t,i){var r;if(!this.emitter)return this;(rf(i)?i:i?.capture)&&(e+="capture"),t=ii(t)?t:null===(r=t)||void 0===r?void 0:r.handleEvent;var s=ii(t)?void 0:t;return this.emitter.off(e,t,s),this}},{key:"emit",value:function(e,t){this.dispatchEvent(new Of(e,t))}},{key:"dispatchEvent",value:function(e){var r,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=nK.get(this);if(i||(i=this.document?this:this.defaultView?this.defaultView:null===(r=this.ownerDocument)||void 0===r?void 0:r.defaultView)&&nK.set(this,i),i){if(e.manager=i.getEventService(),!e.manager)return!1;e.defaultPrevented=!1,e.path?e.path.length=0:e.page=[],t||(e.target=this),e.manager.dispatchEvent(e,e.type,t)}else this.emitter.emit(e.type,e);return!e.defaultPrevented}}])}(),Hm=function(n){function e(){var t;In(this,e);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=Kn(this,e,[].concat(r))).shadow=!1,t.ownerDocument=null,t.isConnected=!1,t.baseURI="",t.childNodes=[],t.nodeType=0,t.nodeName="",t.nodeValue=null,t.parentNode=null,t}return br(e,n),On(e,[{key:"textContent",get:function(){var t="";this.nodeName===Je.TEXT&&(t+=this.style.text);var r,i=df(this.childNodes);try{for(i.s();!(r=i.n()).done;){var o=r.value;t+=o.nodeName===Je.TEXT?o.nodeValue:o.textContent}}catch(s){i.e(s)}finally{i.f()}return t},set:function(t){var i=this;this.childNodes.slice().forEach(function(r){i.removeChild(r)}),this.nodeName===Je.TEXT&&(this.style.text="".concat(t))}},{key:"getRootNode",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.parentNode?this.parentNode.getRootNode(t):t.composed&&this.host?this.host.getRootNode(t):this}},{key:"hasChildNodes",value:function(){return this.childNodes.length>0}},{key:"isDefaultNamespace",value:function(t){throw new Error(I)}},{key:"lookupNamespaceURI",value:function(t){throw new Error(I)}},{key:"lookupPrefix",value:function(t){throw new Error(I)}},{key:"normalize",value:function(){throw new Error(I)}},{key:"isEqualNode",value:function(t){return this===t}},{key:"isSameNode",value:function(t){return this.isEqualNode(t)}},{key:"parent",get:function(){return this.parentNode}},{key:"parentElement",get:function(){return null}},{key:"nextSibling",get:function(){return null}},{key:"previousSibling",get:function(){return null}},{key:"firstChild",get:function(){return this.childNodes.length>0?this.childNodes[0]:null}},{key:"lastChild",get:function(){return this.childNodes.length>0?this.childNodes[this.childNodes.length-1]:null}},{key:"compareDocumentPosition",value:function(t){if(t===this)return 0;for(var i=t,r=this,o=[i],s=[r];null!==(a=i.parentNode)&&void 0!==a?a:r.parentNode;){var a;i=i.parentNode?(o.push(i.parentNode),i.parentNode):i,r=r.parentNode?(s.push(r.parentNode),r.parentNode):r}if(i!==r)return e.DOCUMENT_POSITION_DISCONNECTED|e.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC|e.DOCUMENT_POSITION_PRECEDING;var l=o.length>s.length?o:s,u=l===o?s:o;if(l[l.length-u.length]===u[0])return l===o?e.DOCUMENT_POSITION_CONTAINED_BY|e.DOCUMENT_POSITION_FOLLOWING:e.DOCUMENT_POSITION_CONTAINS|e.DOCUMENT_POSITION_PRECEDING;for(var d=l.length-u.length,f=u.length-1;f>=0;f--){var m=u[f],y=l[d+f];if(y!==m){var b=m.parentNode.childNodes;return b.indexOf(m)<b.indexOf(y)?u===o?e.DOCUMENT_POSITION_PRECEDING:e.DOCUMENT_POSITION_FOLLOWING:l===o?e.DOCUMENT_POSITION_PRECEDING:e.DOCUMENT_POSITION_FOLLOWING}}return e.DOCUMENT_POSITION_FOLLOWING}},{key:"contain",value:function(t){return this.contains(t)}},{key:"contains",value:function(t){for(var i=t;i&&this!==i;)i=i.parentNode;return!!i}},{key:"getAncestor",value:function(t){for(var i=this;t>0&&i;)i=i.parentNode,t--;return i}},{key:"forEach",value:function(t){for(var i=[this];i.length>0;){var r=i.pop();if(!1===t(r))break;for(var s=r.childNodes.length-1;s>=0;s--)i.push(r.childNodes[s])}}}],[{key:"isNode",value:function(t){return!!t.childNodes}}])}(Cht);Hm.DOCUMENT_POSITION_DISCONNECTED=1,Hm.DOCUMENT_POSITION_PRECEDING=2,Hm.DOCUMENT_POSITION_FOLLOWING=4,Hm.DOCUMENT_POSITION_CONTAINS=8,Hm.DOCUMENT_POSITION_CONTAINED_BY=16,Hm.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC=32;var g9=function(){return On(function n(){In(this,n)},[{key:"getOrCreateCanvas",value:function(e,t){if(this.canvas)return this.canvas;if(e||ui.offscreenCanvas)this.canvas=e||ui.offscreenCanvas,this.context=this.canvas.getContext("2d",xr({willReadFrequently:!0},t));else try{this.canvas=new window.OffscreenCanvas(0,0),this.context=this.canvas.getContext("2d",xr({willReadFrequently:!0},t)),(!this.context||!this.context.measureText)&&(this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"))}catch{this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d",xr({willReadFrequently:!0},t))}return this.canvas.width=10,this.canvas.height=10,this.canvas}},{key:"getOrCreateContext",value:function(e,t){return this.context||this.getOrCreateCanvas(e,t),this.context}}],[{key:"createCanvas",value:function(){try{return new window.OffscreenCanvas(0,0)}catch{}try{return document.createElement("canvas")}catch{}return null}}])}(),v9=function(n){return n[n.CAMERA_CHANGED=0]="CAMERA_CHANGED",n[n.DISPLAY_OBJECT_CHANGED=1]="DISPLAY_OBJECT_CHANGED",n[n.NONE=2]="NONE",n}({}),Sht=/\[\s*(.*)=(.*)\s*\]/,Dht=function(){return On(function n(){In(this,n)},[{key:"selectOne",value:function(e,t){var i=this;if(e.startsWith("."))return t.find(function(a){return(a?.classList||[]).indexOf(i.getIdOrClassname(e))>-1});if(e.startsWith("#"))return t.find(function(a){return a.id===i.getIdOrClassname(e)});if(e.startsWith("[")){var r=this.getAttribute(e),o=r.name,s=r.value;return o?t.find(function(a){return t!==a&&("name"===o?a.name===s:i.attributeToString(a,o)===s)}):null}return t.find(function(a){return t!==a&&a.nodeName===e})}},{key:"selectAll",value:function(e,t){var i=this;if(e.startsWith("."))return t.findAll(function(a){return t!==a&&(a?.classList||[]).indexOf(i.getIdOrClassname(e))>-1});if(e.startsWith("#"))return t.findAll(function(a){return t!==a&&a.id===i.getIdOrClassname(e)});if(e.startsWith("[")){var r=this.getAttribute(e),o=r.name,s=r.value;return o?t.findAll(function(a){return t!==a&&("name"===o?a.name===s:i.attributeToString(a,o)===s)}):[]}return t.findAll(function(a){return t!==a&&a.nodeName===e})}},{key:"is",value:function(e,t){if(e.startsWith("."))return t.className===this.getIdOrClassname(e);if(e.startsWith("#"))return t.id===this.getIdOrClassname(e);if(e.startsWith("[")){var i=this.getAttribute(e),r=i.name,o=i.value;return"name"===r?t.name===o:this.attributeToString(t,r)===o}return t.nodeName===e}},{key:"getIdOrClassname",value:function(e){return e.substring(1)}},{key:"getAttribute",value:function(e){var t=e.match(Sht),i="",r="";return t&&t.length>2&&(i=t[1].replace(/"/g,""),r=t[2].replace(/"/g,"")),{name:i,value:r}}},{key:"attributeToString",value:function(e,t){if(!e.getAttribute)return"";var i=e.getAttribute(t);return Oi(i)?"":i.toString?i.toString():""}}])}(),cr=function(n){return n.REPARENT="reparent",n.DESTROY="destroy",n.ATTR_MODIFIED="DOMAttrModified",n.INSERTED="DOMNodeInserted",n.REMOVED="removed",n.MOUNTED="DOMNodeInsertedIntoDocument",n.UNMOUNTED="DOMNodeRemovedFromDocument",n.BOUNDS_CHANGED="bounds-changed",n.CULLED="culled",n}({}),kf=function(n){function e(t,i,r,o,s,a,l,u){var d;return In(this,e),(d=Kn(this,e,[null])).relatedNode=i,d.prevValue=r,d.newValue=o,d.attrName=s,d.attrChange=a,d.prevParsedValue=l,d.newParsedValue=u,d.type=t,d}return br(e,n),On(e)}(m9);function iK(n){var e=n.renderable;e&&(e.renderBoundsDirty=!0,e.boundsDirty=!0)}kf.ADDITION=2,kf.MODIFICATION=1,kf.REMOVAL=3;var Tht=new kf(cr.REPARENT,null,"","","",0,"",""),Aht=ef(),pR=Br(),Oht=xo(1,1,1),kht=wo(),Iht=ef(),Gm=Br(),x_=wo(),$m=Xs(),Rht=Br(),Pht=Xs(),Nht=Br(),E3=Br(),B2=Br(),mR=wo(),rK=Xs(),oK=Xs(),gR=Xs(),y9={affectChildren:!0},Lht=function(){return On(function n(e){In(this,n),this.pendingEvents=new Map,this.boundsChangedEvent=new Of(cr.BOUNDS_CHANGED),this.displayObjectDependencyMap=new WeakMap,this.runtime=e},[{key:"matches",value:function(e,t){return this.runtime.sceneGraphSelector.is(e,t)}},{key:"querySelector",value:function(e,t){return this.runtime.sceneGraphSelector.selectOne(e,t)}},{key:"querySelectorAll",value:function(e,t){return this.runtime.sceneGraphSelector.selectAll(e,t)}},{key:"attach",value:function(e,t,i){var r,o=!1;e.parentNode&&(o=e.parentNode!==t,this.detach(e));var s=e.nodeName===Je.FRAGMENT,a=f9(t);e.parentNode=t;var l=s?e.childNodes:[e];oi(i)?l.forEach(function(m){t.childNodes.splice(i,0,m),m.parentNode=t}):l.forEach(function(m){t.childNodes.push(m),m.parentNode=t});var d=t.sortable;if((null!=d&&null!==(r=d.sorted)&&void 0!==r&&r.length||e.parsedStyle.zIndex)&&(-1===d.dirtyChildren.indexOf(e)&&d.dirtyChildren.push(e),d.dirty=!0,d.dirtyReason=Z8.ADDED),!a){if(s)this.dirtifyFragment(e);else{var f=e.transformable;f&&this.dirtifyWorld(e,f)}o&&e.dispatchEvent(Tht)}}},{key:"detach",value:function(e){if(e.parentNode){var t,i,r=e.transformable,s=e.parentNode.sortable;(null!=s&&null!==(t=s.sorted)&&void 0!==t&&t.length||null!==(i=e.style)&&void 0!==i&&i.zIndex)&&(-1===s.dirtyChildren.indexOf(e)&&s.dirtyChildren.push(e),s.dirty=!0,s.dirtyReason=Z8.REMOVED);var a=e.parentNode.childNodes.indexOf(e);a>-1&&e.parentNode.childNodes.splice(a,1),r&&this.dirtifyWorld(e,r),e.parentNode=null}}},{key:"getOrigin",value:function(e){return e.getGeometryBounds(),e.transformable.origin}},{key:"setOrigin",value:function(e,t){"number"==typeof t&&(t=[t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:0]);var o=e.transformable;if(t[0]!==o.origin[0]||t[1]!==o.origin[1]||t[2]!==o.origin[2]){var s=o.origin;s[0]=t[0],s[1]=t[1],s[2]=t[2]||0,this.dirtifyLocal(e,o)}}},{key:"rotate",value:function(e,t){"number"==typeof t&&(t=xo(t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:0));var o=e.transformable;if(null!==e.parentNode&&e.parentNode.transformable){var s=$m;j0(s,t[0],t[1],t[2]);var a=this.getRotation(e),l=this.getRotation(e.parentNode);Jh(gR,l),B0(gR,gR),nd(s,gR,s),nd(o.localRotation,s,a),tf(o.localRotation,o.localRotation),this.dirtifyLocal(e,o)}else this.rotateLocal(e,t)}},{key:"rotateLocal",value:function(e,t){"number"==typeof t&&(t=xo(t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:0));var o=e.transformable;j0(oK,t[0],t[1],t[2]),ep(o.localRotation,o.localRotation,oK),this.dirtifyLocal(e,o)}},{key:"setEulerAngles",value:function(e,t){"number"==typeof t&&(t=xo(t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:0));var o=e.transformable;if(null!==e.parentNode&&e.parentNode.transformable){j0(o.localRotation,t[0],t[1],t[2]);var s=this.getRotation(e.parentNode);Jh(rK,B0($m,s)),ep(o.localRotation,o.localRotation,rK),this.dirtifyLocal(e,o)}else this.setLocalEulerAngles(e,t)}},{key:"setLocalEulerAngles",value:function(e,t){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];"number"==typeof t&&(t=xo(t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:0));var s=e.transformable;j0(s.localRotation,t[0],t[1],t[2]),o&&this.dirtifyLocal(e,s)}},{key:"translateLocal",value:function(e,t){"number"==typeof t&&(t=xo(t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:0));var o=e.transformable;tp(t,pR)||(_T(t,t,o.localRotation),O0(o.localPosition,o.localPosition,t),this.dirtifyLocal(e,o))}},{key:"setPosition",value:function(e,t){var i,r=e.transformable;B2[0]=t[0],B2[1]=t[1],B2[2]=null!==(i=t[2])&&void 0!==i?i:0,tp(this.getPosition(e),B2)||($l(r.position,B2),null!==e.parentNode&&e.parentNode.transformable?(uu(mR,e.parentNode.transformable.worldTransform),kc(mR,mR),Pa(r.localPosition,B2,mR)):$l(r.localPosition,B2),this.dirtifyLocal(e,r))}},{key:"setLocalPosition",value:function(e,t){var i,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=e.transformable;E3[0]=t[0],E3[1]=t[1],E3[2]=null!==(i=t[2])&&void 0!==i?i:0,!tp(o.localPosition,E3)&&($l(o.localPosition,E3),r&&this.dirtifyLocal(e,o))}},{key:"scaleLocal",value:function(e,t){var i,r=e.transformable;nw(r.localScale,r.localScale,el(Gm,t[0],t[1],null!==(i=t[2])&&void 0!==i?i:1)),this.dirtifyLocal(e,r)}},{key:"setLocalScale",value:function(e,t){var i,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=e.transformable;el(Gm,t[0],t[1],null!==(i=t[2])&&void 0!==i?i:o.localScale[2]),!tp(Gm,o.localScale)&&($l(o.localScale,Gm),r&&this.dirtifyLocal(e,o))}},{key:"translate",value:function(e,t){"number"==typeof t&&(t=el(Gm,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:0)),!tp(t,pR)&&(O0(Gm,this.getPosition(e),t),this.setPosition(e,Gm))}},{key:"setRotation",value:function(e,t,i,r,o){var s=e.transformable;if("number"==typeof t&&(t=qy(t,i,r,o)),null!==e.parentNode&&e.parentNode.transformable){var a=this.getRotation(e.parentNode);Jh($m,a),B0($m,$m),nd(s.localRotation,$m,t),tf(s.localRotation,s.localRotation),this.dirtifyLocal(e,s)}else this.setLocalRotation(e,t)}},{key:"setLocalRotation",value:function(e,t,i,r,o){var s=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];"number"==typeof t&&(t=mw($m,t,i,r,o));var a=e.transformable;Jh(a.localRotation,t),s&&this.dirtifyLocal(e,a)}},{key:"setLocalSkew",value:function(e,t,i){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];"number"==typeof t&&(t=C5(Iht,t,i));var o=e.transformable;xw(o.localSkew,t),r&&this.dirtifyLocal(e,o)}},{key:"dirtifyLocal",value:function(e,t){f9(e)||t.localDirtyFlag||(t.localDirtyFlag=!0,t.dirtyFlag||this.dirtifyWorld(e,t))}},{key:"dirtifyWorld",value:function(e,t){t.dirtyFlag||this.unfreezeParentToRoot(e),this.dirtifyWorldInternal(e,t),this.dirtifyToRoot(e,!0)}},{key:"dirtifyFragment",value:function(e){var t=e.transformable;t&&(t.frozen=!1,t.dirtyFlag=!0,t.localDirtyFlag=!0);var i=e.renderable;i&&(i.renderBoundsDirty=!0,i.boundsDirty=!0,i.dirty=!0);for(var r=e.childNodes.length,o=0;o<r;o++)this.dirtifyFragment(e.childNodes[o]);e.nodeName===Je.FRAGMENT&&this.pendingEvents.set(e,!1)}},{key:"triggerPendingEvents",value:function(){var e=this,t=new Set,i=function(r,o){!r.isConnected||t.has(r)||r.nodeName===Je.FRAGMENT||(e.boundsChangedEvent.detail=o,e.boundsChangedEvent.target=r,r.isMutationObserved?r.dispatchEvent(e.boundsChangedEvent):r.ownerDocument.defaultView.dispatchEvent(e.boundsChangedEvent,!0),t.add(r))};this.pendingEvents.forEach(function(r,o){o.nodeName!==Je.FRAGMENT&&(y9.affectChildren=r,r?o.forEach(function(s){i(s,y9)}):i(o,y9))}),t.clear(),this.clearPendingEvents()}},{key:"clearPendingEvents",value:function(){this.pendingEvents.clear()}},{key:"dirtifyToRoot",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=e;for(i.renderable&&(i.renderable.dirty=!0);i;)iK(i),i=i.parentNode;t&&e.forEach(function(r){iK(r)}),this.informDependentDisplayObjects(e),this.pendingEvents.set(e,t)}},{key:"updateDisplayObjectDependency",value:function(e,t,i,r){if(t&&t!==i){var o=this.displayObjectDependencyMap.get(t);if(o&&o[e]){var s=o[e].indexOf(r);o[e].splice(s,1)}}if(i){var a=this.displayObjectDependencyMap.get(i);a||(this.displayObjectDependencyMap.set(i,{}),a=this.displayObjectDependencyMap.get(i)),a[e]||(a[e]=[]),a[e].push(r)}}},{key:"informDependentDisplayObjects",value:function(e){var t=this,i=this.displayObjectDependencyMap.get(e);i&&Object.keys(i).forEach(function(r){i[r].forEach(function(o){t.dirtifyToRoot(o,!0),o.dispatchEvent(new kf(cr.ATTR_MODIFIED,o,t,t,r,kf.MODIFICATION,t,t)),o.isCustomElement&&o.isConnected&&o.attributeChangedCallback&&o.attributeChangedCallback(r,t,t)})})}},{key:"getPosition",value:function(e){var t=e.transformable;return T0(t.position,this.getWorldTransform(e,t))}},{key:"getRotation",value:function(e){var t=e.transformable;return jy(t.rotation,this.getWorldTransform(e,t))}},{key:"getScale",value:function(e){var t=e.transformable;return Es(t.scaling,this.getWorldTransform(e,t))}},{key:"getWorldTransform",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transformable;return!t.localDirtyFlag&&!t.dirtyFlag||(e.parentNode&&e.parentNode.transformable&&this.getWorldTransform(e.parentNode),this.sync(e,t)),t.worldTransform}},{key:"getLocalPosition",value:function(e){return e.transformable.localPosition}},{key:"getLocalRotation",value:function(e){return e.transformable.localRotation}},{key:"getLocalScale",value:function(e){return e.transformable.localScale}},{key:"getLocalSkew",value:function(e){return e.transformable.localSkew}},{key:"calcLocalTransform",value:function(e){if(0!==e.localSkew[0]||0!==e.localSkew[1]){Vy(e.localTransform,e.localRotation,e.localPosition,xo(1,1,1),e.origin),(0!==e.localSkew[0]||0!==e.localSkew[1])&&(Yd(x_),x_[4]=Math.tan(e.localSkew[0]),x_[1]=Math.tan(e.localSkew[1]),Gl(e.localTransform,e.localTransform,x_));var i=Vy(x_,mw($m,0,0,0,1),el(Gm,1,1,1),e.localScale,e.origin);Gl(e.localTransform,e.localTransform,i)}else{var r=e.localTransform,o=e.localPosition,s=e.localRotation,a=e.localScale,l=e.origin,u=0!==o[0]||0!==o[1]||0!==o[2];1!==s[3]||0!==s[0]||0!==s[1]||0!==s[2]||1!==a[0]||1!==a[1]||1!==a[2]||0!==l[0]||0!==l[1]||0!==l[2]?Vy(r,s,o,a,l):u?Xh(r,o):Yd(r)}}},{key:"getLocalTransform",value:function(e){var t=e.transformable;return t.localDirtyFlag&&(this.calcLocalTransform(t),t.localDirtyFlag=!1),t.localTransform}},{key:"setLocalTransform",value:function(e,t){var i=T0(Rht,t),r=jy(Pht,t),o=Es(Nht,t);this.setLocalScale(e,o,!1),this.setLocalPosition(e,i,!1),this.setLocalRotation(e,r,void 0,void 0,void 0,!1),this.dirtifyLocal(e,e.transformable)}},{key:"resetLocalTransform",value:function(e){this.setLocalScale(e,Oht,!1),this.setLocalPosition(e,pR,!1),this.setLocalEulerAngles(e,pR,void 0,void 0,!1),this.setLocalSkew(e,Aht,void 0,!1),this.dirtifyLocal(e,e.transformable)}},{key:"getTransformedGeometryBounds",value:function(e){var i=arguments.length>2?arguments[2]:void 0,r=this.getGeometryBounds(e,arguments.length>1&&void 0!==arguments[1]&&arguments[1]);if(!p.isEmpty(r)){var o=i||new p;return o.setFromTransformedAABB(r,this.getWorldTransform(e)),o}return null}},{key:"getGeometryBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.geometry;return r.dirty&&ui.styleValueRegistry.updateGeometry(e),(t?r.renderBounds:r.contentBounds||null)||new p}},{key:"getBounds",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=e.renderable;if(!o.boundsDirty&&!i&&o.bounds)return o.bounds;if(!o.renderBoundsDirty&&i&&o.renderBounds)return o.renderBounds;var s=i?o.renderBounds:o.bounds,a=this.getTransformedGeometryBounds(e,i,s);if(e.childNodes.forEach(function(f){var m=t.getBounds(f,i);m&&(a?a.add(m):(a=s||new p).update(m.center,m.halfExtents))}),a||(a=new p),i){var u=KW(e);if(u){var d=u.parsedStyle.clipPath.getBounds(i);a?d&&(a=d.intersection(a)):a.update(d.center,d.halfExtents)}}return i?(o.renderBounds=a,o.renderBoundsDirty=!1):(o.bounds=a,o.boundsDirty=!1),a}},{key:"getLocalBounds",value:function(e){if(e.parentNode){var t=kht;e.parentNode.transformable&&(t=kc(x_,this.getWorldTransform(e.parentNode)));var i=this.getBounds(e);if(!p.isEmpty(i)){var r=new p;return r.setFromTransformedAABB(i,t),r}}return this.getBounds(e)}},{key:"getBoundingClientRect",value:function(e){var t,i,r=this.getGeometryBounds(e);p.isEmpty(r)||(i=new p).setFromTransformedAABB(r,this.getWorldTransform(e));var o=null===(t=e.ownerDocument)||void 0===t||null===(t=t.defaultView)||void 0===t?void 0:t.getContextService().getBoundingClientRect();if(i){var a=Yi(i.getMin(),2),l=a[0],u=a[1],f=Yi(i.getMax(),2),m=f[0],y=f[1];return new A(l+(o?.left||0),u+(o?.top||0),m-l,y-u)}return new A(o?.left||0,o?.top||0,0,0)}},{key:"dirtifyWorldInternal",value:function(e,t){var i=this;if(!t.dirtyFlag){t.dirtyFlag=!0,t.frozen=!1,e.childNodes.forEach(function(s){var a=s.transformable;a.dirtyFlag||i.dirtifyWorldInternal(s,a)});var o=e.renderable;o&&(o.renderBoundsDirty=!0,o.boundsDirty=!0,o.dirty=!0)}}},{key:"syncHierarchy",value:function(e){var t=e.transformable;if(!t.frozen){t.frozen=!0,(t.localDirtyFlag||t.dirtyFlag)&&this.sync(e,t);for(var i=e.childNodes,r=0;r<i.length;r++)this.syncHierarchy(i[r])}}},{key:"sync",value:function(e,t){if(t.localDirtyFlag&&(this.calcLocalTransform(t),t.localDirtyFlag=!1),t.dirtyFlag){var i=e.parentNode,r=i&&i.transformable;null!==i&&r?Gl(t.worldTransform,r.worldTransform,t.localTransform):uu(t.worldTransform,t.localTransform),t.dirtyFlag=!1}}},{key:"unfreezeParentToRoot",value:function(e){for(var t=e.parentNode;t;){var i=t.transformable;i&&(i.frozen=!1),t=t.parentNode}}}])}(),j2={MetricsString:"|\xc9q\xc5",BaselineSymbol:"M",BaselineMultiplier:1.4,HeightMultiplier:2,Newlines:[10,13],BreakingSpaces:[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]},sK=/[a-zA-Z0-9\u00C0-\u00D6\u00D8-\u00f6\u00f8-\u00ff!"#$%&'()*+,-./:;]/,$ht=new RegExp("".concat(/[!%),.:;?\]}\xa2\xb0\xb7'""\u2020\u2021\u203a\u2103\u2236\u3001\u3002\u3003\u3006\u3015\u3017\u301e\ufe5a\ufe5c\uff01\uff02\uff05\uff07\uff09\uff0c\uff0e\uff1a\uff1b\uff1f\uff01\uff3d\uff5d\uff5e]/.source,"|").concat(/[!),.:;?\]}\xa2\xb7\u2013\u2014'"\u2022"\u3001\u3002\u3006\u301e\u3015\u3009\u300b\u300d\ufe30\ufe31\ufe32\ufe33\ufe50\ufe51\ufe52\ufe53\ufe54\ufe55\ufe56\ufe58\ufe5a\ufe5c\uff01\uff09\uff0c\uff0e\uff1a\uff1b\uff1f\ufe36\ufe38\ufe3a\ufe3c\ufe3e\ufe40\ufe42\ufe57\uff3d\uff5c\uff5d\uff64]/.source,"|").concat(/[)\]\uff5d\u3015\u3009\u300b\u300d\u300f\u3011\u3019\u3017\u301f'"\uff60\xbb\u30fd\u30fe\u30fc\u30a1\u30a3\u30a5\u30a7\u30a9\u30c3\u30e3\u30e5\u30e7\u30ee\u30f5\u30f6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308e\u3095\u3096\u31f0\u31f1\u31f2\u31f3\u31f4\u31f5\u31f6\u31f7\u31f8\u31f9\u31fa\u31fb\u31fc\u31fd\u31fe\u31ff\u3005\u303b\u2010\u30a0\u2013\u301c?!\u203c\u2047\u2048\u2049\u30fb\u3001:;,\u3002.]/.source,"|").concat(/[!%),.:;?\]}\xa2\xb0'"\u2020\u2021\u2103\u3006\u3008\u300a\u300c\u300e\u3015\uff01\uff05\uff09\uff0c\uff0e\uff1a\uff1b\uff1f\uff3d\uff5d]/.source)),Wht=new RegExp("".concat(/[$(\xa3\xa5\xb7'"\u3008\u300a\u300c\u300e\u3010\u3014\u3016\u301d\ufe59\ufe5b\uff04\uff08\uff0e\uff3b\uff5b\uffe1\uffe5]/.source,"|").concat(/[([{\xa3\xa5'"\u2035\u3008\u300a\u300c\u300e\u3014\u301d\ufe34\ufe59\ufe5b\uff08\uff5b\ufe35\ufe37\ufe39\ufe3b\ufe3d\ufe3f\ufe41\ufe43\ufe4f]/.source,"|").concat(/[([\uff5b\u3014\u3008\u300a\u300c\u300e\u3010\u3018\u3016\u301d'"\uff5f\xab\u2014...\u2025\u3033\u3034\u3035]/.source,"|").concat(/[$([{\xa3\xa5'"\u3005\u3007\u3009\u300b\u300d\u3014\uff04\uff08\uff3b\uff5b\uff60\uffe5\uffe6#]/.source)),Kht=function(){return On(function n(e){var t=this;In(this,n),this.fontMetricsCache={},this.shouldBreakByKinsokuShorui=function(i,r){return!t.isBreakingSpace(r)&&!(!i||!Wht.exec(r)&&!$ht.exec(i))},this.trimByKinsokuShorui=function(i){var r=Ko(i),o=r[r.length-2];if(!o)return i;var s=o[o.length-1];return r[r.length-2]=o.slice(0,-1),r[r.length-1]=s+r[r.length-1],r},this.runtime=e},[{key:"measureFont",value:function(e,t){if(this.fontMetricsCache[e])return this.fontMetricsCache[e];var i={ascent:0,descent:0,fontSize:0},r=this.runtime.offscreenCanvasCreator.getOrCreateCanvas(t),o=this.runtime.offscreenCanvasCreator.getOrCreateContext(t,{willReadFrequently:!0});o.font=e;var s=j2.MetricsString+j2.BaselineSymbol,a=Math.ceil(o.measureText(s).width),l=Math.ceil(o.measureText(j2.BaselineSymbol).width),u=j2.HeightMultiplier*l;l=l*j2.BaselineMultiplier|0,r.width=a,r.height=u,o.fillStyle="#f00",o.fillRect(0,0,a,u),o.font=e,o.textBaseline="alphabetic",o.fillStyle="#000",o.fillText(s,0,l);var d=o.getImageData(0,0,a||1,u||1).data,f=d.length,m=4*a,y=0,b=0,E=!1;for(y=0;y<l;++y){for(var w=0;w<m;w+=4)if(255!==d[b+w]){E=!0;break}if(E)break;b+=m}for(i.ascent=l-y,b=f-m,E=!1,y=u;y>l;--y){for(var M=0;M<m;M+=4)if(255!==d[b+M]){E=!0;break}if(E)break;b-=m}return i.descent=y-l,i.fontSize=i.ascent+i.descent,this.fontMetricsCache[e]=i,i}},{key:"measureText",value:function(e,t,i){var r=t.fontSize,o=void 0===r?16:r,s=t.wordWrap,a=void 0!==s&&s,l=t.lineHeight,u=t.lineWidth,d=void 0===u?1:u,f=t.textBaseline,m=void 0===f?"alphabetic":f,y=t.textAlign,b=void 0===y?"start":y,E=t.letterSpacing,w=void 0===E?0:E,M=t.textPath,x=t.leading,D=void 0===x?0:x,k=function sht(n){for(var e=n.fontSize,t=void 0===e?16:e,i=n.fontFamily,r=void 0===i?"sans-serif":i,o=n.fontStyle,s=void 0===o?"normal":o,a=n.fontVariant,l=void 0===a?"normal":a,u=n.fontWeight,d=void 0===u?"normal":u,f=oi(t)&&"".concat(t,"px")||"16px",m=r.split(","),y=m.length-1;y>=0;y--){var b=m[y].trim();!oht.test(b)&&rht.indexOf(b)<0&&(b='"'.concat(b,'"')),m[y]=b}return"".concat(s," ").concat(l," ").concat(d," ").concat(f," ").concat(m.join(","))}(t),T=this.measureFont(k,i);0===T.fontSize&&(T.fontSize=o,T.ascent=o);var O=this.runtime.offscreenCanvasCreator.getOrCreateContext(i);O.font=k,t.isOverflowing=!1;var L=(a?this.wordWrap(e,t,i):e).split(/(?:\r\n|\r|\n)/),F=new Array(L.length),U=0;if(!M){for(var X=0;X<L.length;X++){var q=O.measureText(L[X]).width+(L[X].length-1)*w;F[X]=q,U=Math.max(U,q)}var gt=U+d,Et=l||T.fontSize+d,at=Math.max(Et,T.fontSize+d)+(L.length-1)*(Et+D),Q=0;return"middle"===m?Q=-at/2:"bottom"===m||"alphabetic"===m||"ideographic"===m?Q=-at:("top"===m||"hanging"===m)&&(Q=0),{font:k,width:gt,height:at,lines:L,lineWidths:F,lineHeight:Et+=D,maxLineWidth:U,fontProperties:T,lineMetrics:F.map(function(et,St){var Yt=0;return"center"===b||"middle"===b?Yt-=et/2:("right"===b||"end"===b)&&(Yt-=et),new A(Yt-d/2,Q+St*Et,et+d,Et)})}}M.getTotalLength();for(var $=0;$<L.length;$++)O.measureText(L[$])}},{key:"setGraphemeOnPath",value:function(){}},{key:"wordWrap",value:function(e,t,i){var r=this,o=t.wordWrapWidth,s=void 0===o?0:o,a=t.letterSpacing,l=void 0===a?0:a,u=t.maxLines,d=void 0===u?1/0:u,f=t.textOverflow,m=this.runtime.offscreenCanvasCreator.getOrCreateContext(i),y=s+l,b="";"ellipsis"===f?b="...":f&&"clip"!==f&&(b=f);for(var E=[],w=0,M=0,x={},D=function(at){return r.getFromCache(at,l,x,m)},k=Array.from(b).reduce(function(at,Q){return at+D(Q)},0),T=Array.from(e),O=0;O<T.length;O++){var R=T[O],L=e[O-1],F=e[O+1],U=D(R);if(this.isNewline(R)){if(++w>=d){t.isOverflowing=!0;break}M=0,E[w]=""}else{if(M>0&&M+U>y){if(w+1>=d){if(t.isOverflowing=!0,k>0&&k<=y){for(var $=E[w].length,X=0,q=$,gt=0;gt<$;gt++){var Et=D(E[w][gt]);if(X+Et+k>y){q=gt;break}X+=Et}E[w]=(E[w]||"").slice(0,q)+b}break}if(M=0,E[++w]="",this.isBreakingSpace(R))continue;this.canBreakInLastChar(R)||(E=this.trimToBreakable(E),M=this.sumTextWidthByCache(E[w]||"",x)),this.shouldBreakByKinsokuShorui(R,F)&&(E=this.trimByKinsokuShorui(E),M+=D(L||""))}M+=U,E[w]=(E[w]||"")+R}}return E.join("\n")}},{key:"isBreakingSpace",value:function(e){return"string"==typeof e&&j2.BreakingSpaces.indexOf(e.charCodeAt(0))>=0}},{key:"isNewline",value:function(e){return"string"==typeof e&&j2.Newlines.indexOf(e.charCodeAt(0))>=0}},{key:"trimToBreakable",value:function(e){var t=Ko(e),i=t[t.length-2],r=this.findBreakableIndex(i);if(-1===r||!i)return t;var o=i.slice(r,r+1),l=r+(this.isBreakingSpace(o)?0:1);return t[t.length-1]+=i.slice(r+1,i.length),t[t.length-2]=i.slice(0,l),t}},{key:"canBreakInLastChar",value:function(e){return!(e&&sK.test(e))}},{key:"sumTextWidthByCache",value:function(e,t){return e.split("").reduce(function(i,r){if(!t[r])throw Error("cannot count the word without cache");return i+t[r]},0)}},{key:"findBreakableIndex",value:function(e){for(var t=e.length-1;t>=0;t--)if(!sK.test(e[t]))return t;return-1}},{key:"getFromCache",value:function(e,t,i,r){var o=i[e];if("number"!=typeof o){var s=e.length*t;o=r.measureText(e).width+s,i[e]=o}return o}}])}(),ui={},Xht=function(n){var e=new bht,t=new yht;return Vn(Vn(Vn(Vn(Vn(Vn(Vn(Vn(Vn(Vn(n={},Je.FRAGMENT,null),Je.CIRCLE,new pht),Je.ELLIPSE,new mht),Je.RECT,e),Je.IMAGE,e),Je.GROUP,new Eht),Je.LINE,new ght),Je.TEXT,new _ht(ui)),Je.POLYLINE,t),Je.POLYGON,t),Vn(Vn(Vn(n,Je.PATH,new vht),Je.HTML,new wht),Je.MESH,null)}(),Yht=function(n){var e=new kdt,t=new h9;return Vn(Vn(Vn(Vn(Vn(Vn(Vn(Vn(Vn(Vn(n={},qn.PERCENTAGE,null),qn.NUMBER,new Ldt),qn.ANGLE,new Adt),qn.DEFINED_PATH,new Odt),qn.PAINT,e),qn.COLOR,e),qn.FILTER,new Idt),qn.LENGTH,t),qn.LENGTH_PERCENTAGE,t),qn.LENGTH_PERCENTAGE_12,new Rdt),Vn(Vn(Vn(Vn(Vn(Vn(Vn(Vn(Vn(Vn(n,qn.LENGTH_PERCENTAGE_14,new Pdt),qn.COORDINATE,new h9),qn.OFFSET_DISTANCE,new Fdt),qn.OPACITY_VALUE,new Bdt),qn.PATH,new jdt),qn.LIST_OF_POINTS,new Vdt),qn.SHADOW_BLUR,new zdt),qn.TEXT,new Udt),qn.TEXT_TRANSFORM,new Hdt),qn.TRANSFORM,new dht),Vn(Vn(Vn(n,qn.TRANSFORM_ORIGIN,new hht),qn.Z_INDEX,new fht),qn.MARKER,new Ndt)}();ui.CameraContribution=Eut,ui.AnimationTimeline=null,ui.EasingFunction=null,ui.offscreenCanvasCreator=new g9,ui.sceneGraphSelector=new Dht,ui.sceneGraphService=new Lht(ui),ui.textService=new Kht(ui),ui.geometryUpdaterFactory=Xht,ui.CSSPropertySyntaxFactory=Yht,ui.styleValueRegistry=new Ddt(ui),ui.layoutRegistry=null,ui.globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{},ui.enableStyleSyntax=!0,ui.enableSizeAttenuation=!1;var Qht=0,aK=new kf(cr.INSERTED,null,"","","",0,"",""),lK=new kf(cr.REMOVED,null,"","","",0,"",""),qht=new Of(cr.DESTROY),Jht=function(n){function e(){var t;In(this,e);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=Kn(this,e,[].concat(r))).entity=Qht++,t.renderable={bounds:void 0,boundsDirty:!0,renderBounds:void 0,renderBoundsDirty:!0,dirtyRenderBounds:void 0,dirty:!1},t.cullable={strategy:wut.Standard,visibilityPlaneMask:-1,visible:!0,enable:!0},t.transformable={dirtyFlag:!1,localDirtyFlag:!1,frozen:!1,localPosition:[0,0,0],localRotation:[0,0,0,1],localScale:[1,1,1],localTransform:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],localSkew:[0,0],position:[0,0,0],rotation:[0,0,0,1],scaling:[1,1,1],worldTransform:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],origin:[0,0,0]},t.sortable={dirty:!1,sorted:void 0,renderOrder:0,dirtyChildren:[],dirtyReason:void 0},t.geometry={contentBounds:void 0,renderBounds:void 0,dirty:!0},t.rBushNode={aabb:void 0},t.namespaceURI="g",t.scrollLeft=0,t.scrollTop=0,t.clientTop=0,t.clientLeft=0,t.destroyed=!1,t.style={},t.computedStyle={},t.parsedStyle={},t.attributes={},t}return br(e,n),On(e,[{key:"className",get:function(){return this.getAttribute("class")||""},set:function(t){this.setAttribute("class",t)}},{key:"classList",get:function(){return this.className.split(" ").filter(function(t){return""!==t})}},{key:"tagName",get:function(){return this.nodeName}},{key:"children",get:function(){return this.childNodes}},{key:"childElementCount",get:function(){return this.childNodes.length}},{key:"firstElementChild",get:function(){return this.firstChild}},{key:"lastElementChild",get:function(){return this.lastChild}},{key:"parentElement",get:function(){return this.parentNode}},{key:"nextSibling",get:function(){if(this.parentNode){var t=this.parentNode.childNodes.indexOf(this);return this.parentNode.childNodes[t+1]||null}return null}},{key:"previousSibling",get:function(){if(this.parentNode){var t=this.parentNode.childNodes.indexOf(this);return this.parentNode.childNodes[t-1]||null}return null}},{key:"cloneNode",value:function(t){throw new Error(I)}},{key:"appendChild",value:function(t,i){var r;if(t.destroyed)throw new Error("Cannot append a destroyed element.");return ui.sceneGraphService.attach(t,this,i),null!==(r=this.ownerDocument)&&void 0!==r&&r.defaultView&&(f9(this)||t.nodeName!==Je.FRAGMENT?this.ownerDocument.defaultView.mountChildren(t):this.ownerDocument.defaultView.mountFragment(t)),this.isMutationObserved&&(aK.relatedNode=this,t.dispatchEvent(aK)),t}},{key:"insertBefore",value:function(t,i){if(i){t.parentElement&&t.parentElement.removeChild(t);var r=this.childNodes.indexOf(i);-1===r?this.appendChild(t):this.appendChild(t,r)}else this.appendChild(t);return t}},{key:"replaceChild",value:function(t,i){var r=this.childNodes.indexOf(i);return this.removeChild(i),this.appendChild(t,r),i}},{key:"removeChild",value:function(t){var i;return lK.relatedNode=this,t.dispatchEvent(lK),null!==(i=t.ownerDocument)&&void 0!==i&&i.defaultView&&t.ownerDocument.defaultView.unmountChildren(t),ui.sceneGraphService.detach(t),t}},{key:"removeChildren",value:function(){for(var t=this.childNodes.length-1;t>=0;t--)this.removeChild(this.childNodes[t])}},{key:"destroyChildren",value:function(){for(var t=this.childNodes.length-1;t>=0;t--){var i=this.childNodes[t];i.childNodes.length>0&&i.destroyChildren(),i.destroy()}}},{key:"matches",value:function(t){return ui.sceneGraphService.matches(t,this)}},{key:"getElementById",value:function(t){return ui.sceneGraphService.querySelector("#".concat(t),this)}},{key:"getElementsByName",value:function(t){return ui.sceneGraphService.querySelectorAll('[name="'.concat(t,'"]'),this)}},{key:"getElementsByClassName",value:function(t){return ui.sceneGraphService.querySelectorAll(".".concat(t),this)}},{key:"getElementsByTagName",value:function(t){return ui.sceneGraphService.querySelectorAll(t,this)}},{key:"querySelector",value:function(t){return ui.sceneGraphService.querySelector(t,this)}},{key:"querySelectorAll",value:function(t){return ui.sceneGraphService.querySelectorAll(t,this)}},{key:"closest",value:function(t){var i=this;do{if(ui.sceneGraphService.matches(t,i))return i;i=i.parentElement}while(null!==i);return null}},{key:"find",value:function(t){var i=this,r=null;return this.forEach(function(o){return o===i||!t(o)||(r=o,!1)}),r}},{key:"findAll",value:function(t){var i=this,r=[];return this.forEach(function(o){o!==i&&t(o)&&r.push(o)}),r}},{key:"after",value:function(){var t=this;if(this.parentNode){for(var i=this.parentNode.childNodes.indexOf(this),r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];o.forEach(function(a,l){var u;return null===(u=t.parentNode)||void 0===u?void 0:u.appendChild(a,i+l+1)})}}},{key:"before",value:function(){if(this.parentNode){for(var t,i=this.parentNode.childNodes.indexOf(this),r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];var a=o[0],l=o.slice(1);this.parentNode.appendChild(a,i),(t=a).after.apply(t,Ko(l))}}},{key:"replaceWith",value:function(){this.after.apply(this,arguments),this.remove()}},{key:"append",value:function(){for(var t=this,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];r.forEach(function(s){return t.appendChild(s)})}},{key:"prepend",value:function(){for(var t=this,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];r.forEach(function(s,a){return t.appendChild(s,a)})}},{key:"replaceChildren",value:function(){for(;this.childNodes.length&&this.firstChild;)this.removeChild(this.firstChild);this.append.apply(this,arguments)}},{key:"remove",value:function(){return this.parentNode?this.parentNode.removeChild(this):this}},{key:"destroy",value:function(){this.destroyChildren(),this.dispatchEvent(qht),this.remove(),this.emitter.removeAllListeners(),this.destroyed=!0}},{key:"getGeometryBounds",value:function(){return ui.sceneGraphService.getGeometryBounds(this)}},{key:"getRenderBounds",value:function(){return ui.sceneGraphService.getBounds(this,!0)}},{key:"getBounds",value:function(){return ui.sceneGraphService.getBounds(this)}},{key:"getLocalBounds",value:function(){return ui.sceneGraphService.getLocalBounds(this)}},{key:"getBoundingClientRect",value:function(){return ui.sceneGraphService.getBoundingClientRect(this)}},{key:"getClientRects",value:function(){return[this.getBoundingClientRect()]}},{key:"computedStyleMap",value:function(){return new Map(Object.entries(this.computedStyle))}},{key:"getAttributeNames",value:function(){return Object.keys(this.attributes)}},{key:"getAttribute",value:function(t){if("symbol"!=typeof t)return this.attributes[t]}},{key:"hasAttribute",value:function(t){return this.getAttributeNames().includes(t)}},{key:"hasAttributes",value:function(){return!!this.getAttributeNames().length}},{key:"removeAttribute",value:function(t){this.setAttribute(t,null),delete this.attributes[t]}},{key:"setAttribute",value:function(t,i,r,o){this.attributes[t]=i}},{key:"getAttributeNS",value:function(t,i){throw new Error(I)}},{key:"getAttributeNode",value:function(t){throw new Error(I)}},{key:"getAttributeNodeNS",value:function(t,i){throw new Error(I)}},{key:"hasAttributeNS",value:function(t,i){throw new Error(I)}},{key:"removeAttributeNS",value:function(t,i){throw new Error(I)}},{key:"removeAttributeNode",value:function(t){throw new Error(I)}},{key:"setAttributeNS",value:function(t,i,r){throw new Error(I)}},{key:"setAttributeNode",value:function(t){throw new Error(I)}},{key:"setAttributeNodeNS",value:function(t){throw new Error(I)}},{key:"toggleAttribute",value:function(t,i){throw new Error(I)}}])}(Hm);function Sr(n){return!(null==n||!n.nodeName)}var tft=ui.globalThis.Proxy?ui.globalThis.Proxy:function(){},Zp=new kf(cr.ATTR_MODIFIED,null,null,null,null,kf.MODIFICATION,null,null),w3=Br(),eft=Xs(),Ns=function(n){function e(t){var i;return In(this,e),(i=Kn(this,e)).isCustomElement=!1,i.isMutationObserved=!1,i.activeAnimations=[],i.config=t,i.id=t.id||"",i.name=t.name||"",(t.className||t.class)&&(i.className=t.className||t.class),i.nodeName=t.type||Je.GROUP,t.initialParsedStyle&&Object.assign(i.parsedStyle,t.initialParsedStyle),i.initAttributes(t.style),ui.enableStyleSyntax&&(i.style=new tft({setProperty:function(r,o){i.setAttribute(r,o)},getPropertyValue:function(r){return i.getAttribute(r)},removeProperty:function(r){i.removeAttribute(r)},item:function(){return""}},{get:function(r,o){return void 0!==r[o]?r[o]:i.getAttribute(o)},set:function(r,o,s){return i.setAttribute(o,s),!0}})),i}return br(e,n),On(e,[{key:"destroy",value:function(){j1(e,"destroy",this,3)([]),this.getAnimations().forEach(function(t){t.cancel()})}},{key:"cloneNode",value:function(t,i){var r=xr({},this.attributes);for(var o in r){var s=r[o];Sr(s)&&"clipPath"!==o&&"offsetPath"!==o&&"textPath"!==o&&(r[o]=s.cloneNode(t)),i&&(r[o]=i(o,s))}var a=new this.constructor({id:this.id,name:this.name,className:this.name,interactive:this.interactive,style:r});return a.setLocalTransform(this.getLocalTransform()),t&&this.children.forEach(function(l){if(!l.style.isMarker){var u=l.cloneNode(t);a.appendChild(u)}}),a}},{key:"initAttributes",value:function(){ui.styleValueRegistry.processProperties(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{forceUpdateGeometry:!0}),this.renderable.dirty=!0}},{key:"setAttribute",value:function(t,i){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];_i(i)||(r||i!==this.attributes[t])&&(this.internalSetAttribute(t,i,{memoize:o}),j1(e,"setAttribute",this,3)([t,i]))}},{key:"internalSetAttribute",value:function(t,i){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=this.renderable,s=this.attributes[t],a=this.parsedStyle[t];ui.styleValueRegistry.processProperties(this,Vn({},t,i),r),o.dirty=!0;var u,l=this.parsedStyle[t];this.isConnected&&(Zp.relatedNode=this,Zp.prevValue=s,Zp.newValue=i,Zp.attrName=t,Zp.prevParsedValue=a,Zp.newParsedValue=l,this.isMutationObserved?this.dispatchEvent(Zp):(Zp.target=this,this.ownerDocument.defaultView.dispatchEvent(Zp,!0))),(this.isCustomElement&&this.isConnected||!this.isCustomElement)&&(null===(u=this.attributeChangedCallback)||void 0===u||u.call(this,t,s,i,a,l))}},{key:"getBBox",value:function(){var t=this.getBounds(),r=Yi(t.getMin(),2),o=r[0],s=r[1],l=Yi(t.getMax(),2);return new A(o,s,l[0]-o,l[1]-s)}},{key:"setOrigin",value:function(t){return ui.sceneGraphService.setOrigin(this,xt(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,!1)),this}},{key:"getOrigin",value:function(){return ui.sceneGraphService.getOrigin(this)}},{key:"setPosition",value:function(t){return ui.sceneGraphService.setPosition(this,xt(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,!1)),this}},{key:"setLocalPosition",value:function(t){return ui.sceneGraphService.setLocalPosition(this,xt(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,!1)),this}},{key:"translate",value:function(t){return ui.sceneGraphService.translate(this,xt(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,!1)),this}},{key:"translateLocal",value:function(t){return ui.sceneGraphService.translateLocal(this,xt(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,!1)),this}},{key:"getPosition",value:function(){return ui.sceneGraphService.getPosition(this)}},{key:"getLocalPosition",value:function(){return ui.sceneGraphService.getLocalPosition(this)}},{key:"scale",value:function(t,i,r){return this.scaleLocal(t,i,r)}},{key:"scaleLocal",value:function(t,i,r){return"number"==typeof t&&(t=xt(t,i=i||t,r=r||t,!1)),ui.sceneGraphService.scaleLocal(this,t),this}},{key:"setLocalScale",value:function(t,i,r){return"number"==typeof t&&(t=xt(t,i=i||t,r=r||t,!1)),ui.sceneGraphService.setLocalScale(this,t),this}},{key:"getLocalScale",value:function(){return ui.sceneGraphService.getLocalScale(this)}},{key:"getScale",value:function(){return ui.sceneGraphService.getScale(this)}},{key:"getEulerAngles",value:function(){return dn(Yi(Cr(w3,ui.sceneGraphService.getWorldTransform(this)),3)[2])}},{key:"getLocalEulerAngles",value:function(){return dn(Yi(Cr(w3,ui.sceneGraphService.getLocalRotation(this)),3)[2])}},{key:"setEulerAngles",value:function(t){return ui.sceneGraphService.setEulerAngles(this,0,0,t),this}},{key:"setLocalEulerAngles",value:function(t){return ui.sceneGraphService.setLocalEulerAngles(this,0,0,t),this}},{key:"rotateLocal",value:function(t,i,r){return Oi(i)&&Oi(r)?ui.sceneGraphService.rotateLocal(this,0,0,t):ui.sceneGraphService.rotateLocal(this,t,i,r),this}},{key:"rotate",value:function(t,i,r){return Oi(i)&&Oi(r)?ui.sceneGraphService.rotate(this,0,0,t):ui.sceneGraphService.rotate(this,t,i,r),this}},{key:"setRotation",value:function(t,i,r,o){return ui.sceneGraphService.setRotation(this,t,i,r,o),this}},{key:"setLocalRotation",value:function(t,i,r,o){return ui.sceneGraphService.setLocalRotation(this,t,i,r,o),this}},{key:"setLocalSkew",value:function(t,i){return ui.sceneGraphService.setLocalSkew(this,t,i),this}},{key:"getRotation",value:function(){return ui.sceneGraphService.getRotation(this)}},{key:"getLocalRotation",value:function(){return ui.sceneGraphService.getLocalRotation(this)}},{key:"getLocalSkew",value:function(){return ui.sceneGraphService.getLocalSkew(this)}},{key:"getLocalTransform",value:function(){return ui.sceneGraphService.getLocalTransform(this)}},{key:"getWorldTransform",value:function(){return ui.sceneGraphService.getWorldTransform(this)}},{key:"setLocalTransform",value:function(t){return ui.sceneGraphService.setLocalTransform(this,t),this}},{key:"resetLocalTransform",value:function(){ui.sceneGraphService.resetLocalTransform(this)}},{key:"getAnimations",value:function(){return this.activeAnimations}},{key:"animate",value:function(t,i){var r,o=null===(r=this.ownerDocument)||void 0===r?void 0:r.timeline;return o?o.play(this,t,i):null}},{key:"isVisible",value:function(){var t;return"hidden"!==(null===(t=this.parsedStyle)||void 0===t?void 0:t.visibility)}},{key:"interactive",get:function(){return this.isInteractive()},set:function(t){this.style.pointerEvents=t?"auto":"none"}},{key:"isInteractive",value:function(){var t;return"none"!==(null===(t=this.parsedStyle)||void 0===t?void 0:t.pointerEvents)}},{key:"isCulled",value:function(){return!(!this.cullable||!this.cullable.enable||this.cullable.visible)}},{key:"toFront",value:function(){return this.parentNode&&(this.style.zIndex=Math.max.apply(Math,Ko(this.parentNode.children.map(function(t){return Number(t.style.zIndex)})))+1),this}},{key:"toBack",value:function(){return this.parentNode&&(this.style.zIndex=Math.min.apply(Math,Ko(this.parentNode.children.map(function(t){return Number(t.style.zIndex)})))-1),this}},{key:"getConfig",value:function(){return this.config}},{key:"attr",value:function(){for(var t=this,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];var s=r[0],a=r[1];return s?mo(s)?(Object.keys(s).forEach(function(l){t.setAttribute(l,s[l])}),this):2===r.length?(this.setAttribute(s,a),this):this.attributes[s]:this.attributes}},{key:"getMatrix",value:function(t){var i=t||this.getWorldTransform(),o=Yi(T0(w3,i),2),s=o[0],a=o[1],u=Yi(Es(w3,i),2),d=u[0],f=u[1],m=jy(eft,i),b=Yi(Cr(w3,m),3);return function Ao(n,e,t,i,r){var o=Math.cos(n),s=Math.sin(n);return Kh(i*o,r*s,0,-i*s,r*o,0,e,t,1)}(b[0]||b[2],s,a,d,f)}},{key:"getLocalMatrix",value:function(){return this.getMatrix(this.getLocalTransform())}},{key:"setMatrix",value:function(t){var r=Yi(ll(t),5),o=r[0],s=r[1],a=r[2],l=r[3];this.setEulerAngles(r[4]).setPosition(o,s).setLocalScale(a,l)}},{key:"setLocalMatrix",value:function(t){var r=Yi(ll(t),5),o=r[0],s=r[1],a=r[2],l=r[3];this.setLocalEulerAngles(r[4]).setLocalPosition(o,s).setLocalScale(a,l)}},{key:"show",value:function(){this.forEach(function(t){t.style.visibility="visible"})}},{key:"hide",value:function(){this.forEach(function(t){t.style.visibility="hidden"})}},{key:"getCount",value:function(){return this.childElementCount}},{key:"getParent",value:function(){return this.parentElement}},{key:"getChildren",value:function(){return this.children}},{key:"getFirst",value:function(){return this.firstElementChild}},{key:"getLast",value:function(){return this.lastElementChild}},{key:"getChildByIndex",value:function(t){return this.children[t]||null}},{key:"add",value:function(t,i){return this.appendChild(t,i)}},{key:"set",value:function(t,i){this.config[t]=i}},{key:"get",value:function(t){return this.config[t]}},{key:"moveTo",value:function(t){return this.setPosition(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0),this}},{key:"move",value:function(t){return this.setPosition(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0),this}},{key:"setZIndex",value:function(t){return this.style.zIndex=t,this}}])}(Jht);Ns.PARSED_STYLE_LIST=new Set(["class","className","clipPath","cursor","display","draggable","droppable","fill","fillOpacity","fillRule","filter","increasedLineWidthForHitTesting","lineCap","lineDash","lineDashOffset","lineJoin","lineWidth","miterLimit","hitArea","offsetDistance","offsetPath","offsetX","offsetY","opacity","pointerEvents","shadowColor","shadowType","shadowBlur","shadowOffsetX","shadowOffsetY","stroke","strokeOpacity","strokeWidth","strokeLinecap","strokeLineJoin","strokeDasharray","strokeDashoffset","transform","transformOrigin","textTransform","visibility","zIndex"]);var nft=function(n){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return In(this,e),Kn(this,e,[xr({type:Je.CIRCLE},t)])}return br(e,n),On(e)}(Ns);nft.PARSED_STYLE_LIST=new Set([].concat(Ko(Ns.PARSED_STYLE_LIST),["cx","cy","cz","r","isBillboard","isSizeAttenuation"]));var ift=function(n){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return In(this,e),Kn(this,e,[xr({type:Je.ELLIPSE},t)])}return br(e,n),On(e)}(Ns);ift.PARSED_STYLE_LIST=new Set([].concat(Ko(Ns.PARSED_STYLE_LIST),["cx","cy","cz","rx","ry","isBillboard","isSizeAttenuation"]));var rft=function(n){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return In(this,e),Kn(this,e,[xr({type:Je.GROUP},t)])}return br(e,n),On(e)}(Ns);rft.PARSED_STYLE_LIST=new Set([].concat(Ko(Ns.PARSED_STYLE_LIST),["width","height"]));var oft=["style"],sft=function(n){function e(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=i.style,o=mu(i,oft);return In(this,e),(t=Kn(this,e,[xr({type:Je.HTML,style:r},o)])).cullable.enable=!1,t}return br(e,n),On(e,[{key:"getDomElement",value:function(){return this.parsedStyle.$el}},{key:"getClientRects",value:function(){return[this.getBoundingClientRect()]}},{key:"getLocalBounds",value:function(){if(this.parentNode){var t=kc(wo(),this.parentNode.getWorldTransform()),i=this.getBounds();if(!p.isEmpty(i)){var r=new p;return r.setFromTransformedAABB(i,t),r}}return this.getBounds()}}])}(Ns);sft.PARSED_STYLE_LIST=new Set([].concat(Ko(Ns.PARSED_STYLE_LIST),["x","y","$el","innerHTML","width","height"]));var aft=function(n){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return In(this,e),Kn(this,e,[xr({type:Je.IMAGE},t)])}return br(e,n),On(e)}(Ns);aft.PARSED_STYLE_LIST=new Set([].concat(Ko(Ns.PARSED_STYLE_LIST),["x","y","z","src","width","height","isBillboard","billboardRotation","isSizeAttenuation","keepAspectRatio"]));var lft=["style"],cft=function(n){function e(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=i.style,o=mu(i,lft);In(this,e),(t=Kn(this,e,[xr({type:Je.LINE,style:xr({x1:0,y1:0,x2:0,y2:0,z1:0,z2:0},r)},o)])).markerStartAngle=0,t.markerEndAngle=0;var s=t.parsedStyle,a=s.markerStart,l=s.markerEnd;return a&&Sr(a)&&(t.markerStartAngle=a.getLocalEulerAngles(),t.appendChild(a)),l&&Sr(l)&&(t.markerEndAngle=l.getLocalEulerAngles(),t.appendChild(l)),t.transformMarker(!0),t.transformMarker(!1),t}return br(e,n),On(e,[{key:"attributeChangedCallback",value:function(t,i,r,o,s){"x1"===t||"y1"===t||"x2"===t||"y2"===t||"markerStartOffset"===t||"markerEndOffset"===t?(this.transformMarker(!0),this.transformMarker(!1)):"markerStart"===t?(o&&Sr(o)&&(this.markerStartAngle=0,o.remove()),s&&Sr(s)&&(this.markerStartAngle=s.getLocalEulerAngles(),this.appendChild(s),this.transformMarker(!0))):"markerEnd"===t&&(o&&Sr(o)&&(this.markerEndAngle=0,o.remove()),s&&Sr(s)&&(this.markerEndAngle=s.getLocalEulerAngles(),this.appendChild(s),this.transformMarker(!1)))}},{key:"transformMarker",value:function(t){var y,b,E,w,M,x,D,i=this.parsedStyle,s=i.markerStartOffset,a=i.markerEndOffset,l=i.x1,u=i.x2,d=i.y1,f=i.y2,m=t?i.markerStart:i.markerEnd;m&&Sr(m)&&(t?(w=l,M=d,b=u-l,E=f-d,x=s||0,D=this.markerStartAngle):(w=u,M=f,b=l-u,E=d-f,x=a||0,D=this.markerEndAngle),y=Math.atan2(E,b),m.setLocalEulerAngles(180*y/Math.PI+D),m.setLocalPosition(w+Math.cos(y)*x,M+Math.sin(y)*x))}},{key:"getPoint",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.parsedStyle,u=Rc(r.x1,r.y1,r.x2,r.y2,t),d=u.x,f=u.y,m=Pa(Br(),xo(d,f,0),i?this.getWorldTransform():this.getLocalTransform());return new S(m[0],m[1])}},{key:"getPointAtLength",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.getPoint(t/this.getTotalLength(),i)}},{key:"getTotalLength",value:function(){var t=this.parsedStyle;return Px(t.x1,t.y1,t.x2,t.y2)}}])}(Ns);cft.PARSED_STYLE_LIST=new Set([].concat(Ko(Ns.PARSED_STYLE_LIST),["x1","y1","x2","y2","z1","z2","isBillboard","isSizeAttenuation","markerStart","markerEnd","markerStartOffset","markerEndOffset"]));var uft=["style"],dft=function(n){function e(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=i.style,o=mu(i,uft);In(this,e),(t=Kn(this,e,[xr({type:Je.PATH,style:r,initialParsedStyle:{miterLimit:4,d:xr({},_W)}},o)])).markerStartAngle=0,t.markerEndAngle=0,t.markerMidList=[];var s=t.parsedStyle,a=s.markerStart,l=s.markerEnd,u=s.markerMid;return a&&Sr(a)&&(t.markerStartAngle=a.getLocalEulerAngles(),t.appendChild(a)),u&&Sr(u)&&t.placeMarkerMid(u),l&&Sr(l)&&(t.markerEndAngle=l.getLocalEulerAngles(),t.appendChild(l)),t.transformMarker(!0),t.transformMarker(!1),t}return br(e,n),On(e,[{key:"attributeChangedCallback",value:function(t,i,r,o,s){"d"===t?(this.transformMarker(!0),this.transformMarker(!1),this.placeMarkerMid(this.parsedStyle.markerMid)):"markerStartOffset"===t||"markerEndOffset"===t?(this.transformMarker(!0),this.transformMarker(!1)):"markerStart"===t?(o&&Sr(o)&&(this.markerStartAngle=0,o.remove()),s&&Sr(s)&&(this.markerStartAngle=s.getLocalEulerAngles(),this.appendChild(s),this.transformMarker(!0))):"markerEnd"===t?(o&&Sr(o)&&(this.markerEndAngle=0,o.remove()),s&&Sr(s)&&(this.markerEndAngle=s.getLocalEulerAngles(),this.appendChild(s),this.transformMarker(!1))):"markerMid"===t&&this.placeMarkerMid(s)}},{key:"transformMarker",value:function(t){var i=this.parsedStyle,s=i.markerStartOffset,a=i.markerEndOffset,l=t?i.markerStart:i.markerEnd;if(l&&Sr(l)){var u,d,f,m,y,b,E;if(t){var M=Yi(this.getStartTangent(),2),x=M[0],D=M[1];m=D[0],y=D[1],d=x[0]-D[0],f=x[1]-D[1],b=s||0,E=this.markerStartAngle}else{var T=Yi(this.getEndTangent(),2),O=T[0],R=T[1];m=R[0],y=R[1],d=O[0]-R[0],f=O[1]-R[1],b=a||0,E=this.markerEndAngle}u=Math.atan2(f,d),l.setLocalEulerAngles(180*u/Math.PI+E),l.setLocalPosition(m+Math.cos(u)*b,y+Math.sin(u)*b)}}},{key:"placeMarkerMid",value:function(t){var i=this.parsedStyle.d.segments;if(this.markerMidList.forEach(function(u){u.remove()}),t&&Sr(t))for(var r=1;r<i.length-1;r++){var o=Yi(i[r].currentPoint,2),s=o[0],a=o[1],l=1===r?t:t.cloneNode(!0);this.markerMidList.push(l),this.appendChild(l),l.setLocalPosition(s,a)}}},{key:"getTotalLength",value:function(){return o9(this)}},{key:"getPointAtLength",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=bv(this.parsedStyle.d.absolutePath,t),s=o.x,a=o.y,l=Pa(Br(),xo(s,a,0),i?this.getWorldTransform():this.getLocalTransform());return new S(l[0],l[1])}},{key:"getPoint",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.getPointAtLength(t*o9(this),i)}},{key:"getStartTangent",value:function(){var t=this.parsedStyle.d.segments,i=[];if(t.length>1){var r=t[0].currentPoint,o=t[1].currentPoint,s=t[1].startTangent;i=[],s?(i.push([r[0]-s[0],r[1]-s[1]]),i.push([r[0],r[1]])):(i.push([o[0],o[1]]),i.push([r[0],r[1]]))}return i}},{key:"getEndTangent",value:function(){var t=this.parsedStyle.d.segments,i=t.length,r=[];if(i>1){var o=t[i-2].currentPoint,s=t[i-1].currentPoint,a=t[i-1].endTangent;r=[],a?(r.push([s[0]-a[0],s[1]-a[1]]),r.push([s[0],s[1]])):(r.push([o[0],o[1]]),r.push([s[0],s[1]]))}return r}}])}(Ns);dft.PARSED_STYLE_LIST=new Set([].concat(Ko(Ns.PARSED_STYLE_LIST),["d","markerStart","markerMid","markerEnd","markerStartOffset","markerEndOffset","isBillboard","isSizeAttenuation"]));var hft=["style"],b9=function(n){function e(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=i.style,o=mu(i,hft);In(this,e),(t=Kn(this,e,[xr({type:Je.POLYGON,style:r,initialParsedStyle:{points:{points:[],totalLength:0,segments:[]},miterLimit:4,isClosed:!0}},o)])).markerStartAngle=0,t.markerEndAngle=0,t.markerMidList=[];var s=t.parsedStyle,a=s.markerStart,l=s.markerEnd,u=s.markerMid;return a&&Sr(a)&&(t.markerStartAngle=a.getLocalEulerAngles(),t.appendChild(a)),u&&Sr(u)&&t.placeMarkerMid(u),l&&Sr(l)&&(t.markerEndAngle=l.getLocalEulerAngles(),t.appendChild(l)),t.transformMarker(!0),t.transformMarker(!1),t}return br(e,n),On(e,[{key:"attributeChangedCallback",value:function(t,i,r,o,s){"points"===t?(this.transformMarker(!0),this.transformMarker(!1),this.placeMarkerMid(this.parsedStyle.markerMid)):"markerStartOffset"===t||"markerEndOffset"===t?(this.transformMarker(!0),this.transformMarker(!1)):"markerStart"===t?(o&&Sr(o)&&(this.markerStartAngle=0,o.remove()),s&&Sr(s)&&(this.markerStartAngle=s.getLocalEulerAngles(),this.appendChild(s),this.transformMarker(!0))):"markerEnd"===t?(o&&Sr(o)&&(this.markerEndAngle=0,o.remove()),s&&Sr(s)&&(this.markerEndAngle=s.getLocalEulerAngles(),this.appendChild(s),this.transformMarker(!1))):"markerMid"===t&&this.placeMarkerMid(s)}},{key:"transformMarker",value:function(t){var i=this.parsedStyle,s=i.markerStartOffset,a=i.markerEndOffset,d=(i.points||{}).points,f=t?i.markerStart:i.markerEnd;if(f&&Sr(f)&&d){var m,y,b,E,w,M,x;if(E=d[0][0],w=d[0][1],t)y=d[1][0]-d[0][0],b=d[1][1]-d[0][1],M=s||0,x=this.markerStartAngle;else{var D=d.length;this.parsedStyle.isClosed?(y=d[D-1][0]-d[0][0],b=d[D-1][1]-d[0][1]):(E=d[D-1][0],w=d[D-1][1],y=d[D-2][0]-d[D-1][0],b=d[D-2][1]-d[D-1][1]),M=a||0,x=this.markerEndAngle}m=Math.atan2(b,y),f.setLocalEulerAngles(180*m/Math.PI+x),f.setLocalPosition(E+Math.cos(m)*M,w+Math.sin(m)*M)}}},{key:"placeMarkerMid",value:function(t){var o=(this.parsedStyle.points||{}).points;if(this.markerMidList.forEach(function(d){d.remove()}),this.markerMidList=[],t&&Sr(t)&&o)for(var s=1;s<(this.parsedStyle.isClosed?o.length:o.length-1);s++){var a=o[s][0],l=o[s][1],u=1===s?t:t.cloneNode(!0);this.markerMidList.push(u),this.appendChild(u),u.setLocalPosition(a,l)}}}])}(Ns);b9.PARSED_STYLE_LIST=new Set([].concat(Ko(Ns.PARSED_STYLE_LIST),["points","markerStart","markerMid","markerEnd","markerStartOffset","markerEndOffset","isClosed","isBillboard","isSizeAttenuation"]));var fft=["style"],pft=function(n){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.style,r=mu(t,fft);return In(this,e),Kn(this,e,[xr({type:Je.POLYLINE,style:i,initialParsedStyle:{points:{points:[],totalLength:0,segments:[]},miterLimit:4,isClosed:!1}},r)])}return br(e,n),On(e,[{key:"getTotalLength",value:function(){return function idt(n){return 0===n.parsedStyle.points.totalLength&&(n.parsedStyle.points.totalLength=Hx(n.parsedStyle.points.points)),n.parsedStyle.points.totalLength}(this)}},{key:"getPointAtLength",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.getPoint(t/this.getTotalLength(),i)}},{key:"getPoint",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.parsedStyle.points.points;if(0===this.parsedStyle.points.segments.length){var a,l,o=[],s=0,u=this.getTotalLength();r.forEach(function(w,M){r[M+1]&&((a=[0,0])[0]=s/u,l=Px(w[0],w[1],r[M+1][0],r[M+1][1]),a[1]=(s+=l)/u,o.push(a))}),this.parsedStyle.points.segments=o}var d=0,f=0;this.parsedStyle.points.segments.forEach(function(w,M){t>=w[0]&&t<=w[1]&&(d=(t-w[0])/(w[1]-w[0]),f=M)});var m=Rc(r[f][0],r[f][1],r[f+1][0],r[f+1][1],d),y=m.x,b=m.y,E=Pa(Br(),xo(y,b,0),i?this.getWorldTransform():this.getLocalTransform());return new S(E[0],E[1])}},{key:"getStartTangent",value:function(){var t=this.parsedStyle.points.points,i=[];return i.push([t[1][0],t[1][1]]),i.push([t[0][0],t[0][1]]),i}},{key:"getEndTangent",value:function(){var t=this.parsedStyle.points.points,i=t.length-1,r=[];return r.push([t[i-1][0],t[i-1][1]]),r.push([t[i][0],t[i][1]]),r}}])}(b9);pft.PARSED_STYLE_LIST=new Set([].concat(Ko(b9.PARSED_STYLE_LIST),["points","markerStart","markerMid","markerEnd","markerStartOffset","markerEndOffset","isBillboard"]));var mft=function(n){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return In(this,e),Kn(this,e,[xr({type:Je.RECT},t)])}return br(e,n),On(e)}(Ns);mft.PARSED_STYLE_LIST=new Set([].concat(Ko(Ns.PARSED_STYLE_LIST),["x","y","z","width","height","isBillboard","isSizeAttenuation","radius"]));var gft=["style"],vft=function(n){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.style,r=mu(t,gft);return In(this,e),Kn(this,e,[xr({type:Je.TEXT,style:xr({fill:"black"},i)},r)])}return br(e,n),On(e,[{key:"getComputedTextLength",value:function(){var t;return this.getGeometryBounds(),(null===(t=this.parsedStyle.metrics)||void 0===t?void 0:t.maxLineWidth)||0}},{key:"getLineBoundingRects",value:function(){var t;return this.getGeometryBounds(),(null===(t=this.parsedStyle.metrics)||void 0===t?void 0:t.lineMetrics)||[]}},{key:"isOverflowing",value:function(){return this.getGeometryBounds(),!!this.parsedStyle.isOverflowing}}])}(Ns);vft.PARSED_STYLE_LIST=new Set([].concat(Ko(Ns.PARSED_STYLE_LIST),["x","y","z","isBillboard","billboardRotation","isSizeAttenuation","text","textAlign","textBaseline","fontStyle","fontSize","fontFamily","fontWeight","fontVariant","lineHeight","letterSpacing","leading","wordWrap","wordWrapWidth","maxLines","textOverflow","isOverflowing","textPath","textDecorationLine","textDecorationColor","textDecorationStyle","textPathSide","textPathStartOffset","metrics","dx","dy"]));var yft=function(){function n(e){In(this,n),this.strategies=e}return On(n,[{key:"apply",value:function(e){var t=e.camera,i=e.renderingService,r=e.renderingContext,o=this.strategies;i.hooks.cull.tap(n.tag,function(s){return s?(s.cullable.visible=0===o.length?r.unculledEntities.indexOf(s.entity)>-1:o.every(function(l){return l.isVisible(t,s)}),!s.isCulled()&&s.isVisible()?s:(s.dispatchEvent(new Of(cr.CULLED)),null)):s}),i.hooks.afterRender.tap(n.tag,function(s){s.cullable.visibilityPlaneMask=-1})}}])}();yft.tag="Culling";var bft=function(){function n(){var e=this;In(this,n),this.autoPreventDefault=!1,this.rootPointerEvent=new xht(null),this.rootWheelEvent=new Mht(null),this.onPointerMove=function(t){var i,r=null===(i=e.context.renderingContext.root)||void 0===i||null===(i=i.ownerDocument)||void 0===i?void 0:i.defaultView;if(!r.supportsTouchEvents||"touch"!==t.pointerType){var a,s=df(e.normalizeToPointerEvent(t,r));try{for(s.s();!(a=s.n()).done;){var u=e.bootstrapEvent(e.rootPointerEvent,a.value,r,t);e.context.eventService.mapEvent(u)}}catch(d){s.e(d)}finally{s.f()}e.setCursor(e.context.eventService.cursor)}},this.onClick=function(t){var i,a,r=null===(i=e.context.renderingContext.root)||void 0===i||null===(i=i.ownerDocument)||void 0===i?void 0:i.defaultView,s=df(e.normalizeToPointerEvent(t,r));try{for(s.s();!(a=s.n()).done;){var u=e.bootstrapEvent(e.rootPointerEvent,a.value,r,t);e.context.eventService.mapEvent(u)}}catch(d){s.e(d)}finally{s.f()}e.setCursor(e.context.eventService.cursor)}}return On(n,[{key:"apply",value:function(e){var t=this;this.context=e;var i=e.renderingService,r=this.context.renderingContext.root.ownerDocument.defaultView;this.context.eventService.setPickHandler(function(o){return t.context.renderingService.hooks.pickSync.call({position:o,picked:[],topmost:!0}).picked[0]||null}),i.hooks.pointerWheel.tap(n.tag,function(o){var s=t.normalizeWheelEvent(o);t.context.eventService.mapEvent(s)}),i.hooks.pointerDown.tap(n.tag,function(o){if(!r.supportsTouchEvents||"touch"!==o.pointerType){var s=t.normalizeToPointerEvent(o,r);t.autoPreventDefault&&s[0].isNormalized&&(o.cancelable||!("cancelable"in o))&&o.preventDefault();var u,l=df(s);try{for(l.s();!(u=l.n()).done;){var f=t.bootstrapEvent(t.rootPointerEvent,u.value,r,o);t.context.eventService.mapEvent(f)}}catch(m){l.e(m)}finally{l.f()}t.setCursor(t.context.eventService.cursor)}}),i.hooks.pointerUp.tap(n.tag,function(o){if(!r.supportsTouchEvents||"touch"!==o.pointerType){var f,s=t.context.contextService.getDomElement(),l=t.context.eventService.isNativeEventFromCanvas(s,o)?"":"outside",d=df(t.normalizeToPointerEvent(o,r));try{for(d.s();!(f=d.n()).done;){var y=t.bootstrapEvent(t.rootPointerEvent,f.value,r,o);y.type+=l,t.context.eventService.mapEvent(y)}}catch(b){d.e(b)}finally{d.f()}t.setCursor(t.context.eventService.cursor)}}),i.hooks.pointerMove.tap(n.tag,this.onPointerMove),i.hooks.pointerOver.tap(n.tag,this.onPointerMove),i.hooks.pointerOut.tap(n.tag,this.onPointerMove),i.hooks.click.tap(n.tag,this.onClick),i.hooks.pointerCancel.tap(n.tag,function(o){var l,a=df(t.normalizeToPointerEvent(o,r));try{for(a.s();!(l=a.n()).done;){var d=t.bootstrapEvent(t.rootPointerEvent,l.value,r,o);t.context.eventService.mapEvent(d)}}catch(f){a.e(f)}finally{a.f()}t.setCursor(t.context.eventService.cursor)})}},{key:"bootstrapEvent",value:function(e,t,i,r){e.view=i,e.originalEvent=null,e.nativeEvent=r,e.pointerId=t.pointerId,e.width=t.width,e.height=t.height,e.isPrimary=t.isPrimary,e.pointerType=t.pointerType,e.pressure=t.pressure,e.tangentialPressure=t.tangentialPressure,e.tiltX=t.tiltX,e.tiltY=t.tiltY,e.twist=t.twist,this.transferMouseData(e,t);var o=this.context.eventService.client2Viewport({x:t.clientX,y:t.clientY}),a=o.y;e.viewport.x=o.x,e.viewport.y=a;var l=this.context.eventService.viewport2Canvas(e.viewport),d=l.y;return e.canvas.x=l.x,e.canvas.y=d,e.global.copyFrom(e.canvas),e.offset.copyFrom(e.canvas),e.isTrusted=r.isTrusted,"pointerleave"===e.type&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=Wdt[e.type]||e.type),e}},{key:"normalizeWheelEvent",value:function(e){var t=this.rootWheelEvent;this.transferMouseData(t,e),t.deltaMode=e.deltaMode,t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ;var i=this.context.eventService.client2Viewport({x:e.clientX,y:e.clientY}),o=i.y;t.viewport.x=i.x,t.viewport.y=o;var s=this.context.eventService.viewport2Canvas(t.viewport),l=s.y;return t.canvas.x=s.x,t.canvas.y=l,t.global.copyFrom(t.canvas),t.offset.copyFrom(t.canvas),t.nativeEvent=e,t.type=e.type,t}},{key:"transferMouseData",value:function(e,t){e.isTrusted=t.isTrusted,e.srcElement=t.srcElement,e.timeStamp=Kdt.now(),e.type=t.type,e.altKey=t.altKey,e.metaKey=t.metaKey,e.shiftKey=t.shiftKey,e.ctrlKey=t.ctrlKey,e.button=t.button,e.buttons=t.buttons,e.client.x=t.clientX,e.client.y=t.clientY,e.movement.x=t.movementX,e.movement.y=t.movementY,e.page.x=t.pageX,e.page.y=t.pageY,e.screen.x=t.screenX,e.screen.y=t.screenY,e.relatedTarget=null}},{key:"setCursor",value:function(e){this.context.contextService.applyCursorStyle(e||this.context.config.cursor||"default")}},{key:"normalizeToPointerEvent",value:function(e,t){var i=[];if(t.isTouchEvent(e))for(var r=0;r<e.changedTouches.length;r++){var o=e.changedTouches[r];_i(o.button)&&(o.button=0),_i(o.buttons)&&(o.buttons=1),_i(o.isPrimary)&&(o.isPrimary=1===e.touches.length&&"touchstart"===e.type),_i(o.width)&&(o.width=o.radiusX||1),_i(o.height)&&(o.height=o.radiusY||1),_i(o.tiltX)&&(o.tiltX=0),_i(o.tiltY)&&(o.tiltY=0),_i(o.pointerType)&&(o.pointerType="touch"),_i(o.pointerId)&&(o.pointerId=o.identifier||0),_i(o.pressure)&&(o.pressure=o.force||.5),_i(o.twist)&&(o.twist=0),_i(o.tangentialPressure)&&(o.tangentialPressure=0),o.isNormalized=!0,o.type=e.type,i.push(o)}else if(t.isMouseEvent(e)){var s=e;_i(s.isPrimary)&&(s.isPrimary=!0),_i(s.width)&&(s.width=1),_i(s.height)&&(s.height=1),_i(s.tiltX)&&(s.tiltX=0),_i(s.tiltY)&&(s.tiltY=0),_i(s.pointerType)&&(s.pointerType="mouse"),_i(s.pointerId)&&(s.pointerId=1),_i(s.pressure)&&(s.pressure=.5),_i(s.twist)&&(s.twist=0),_i(s.tangentialPressure)&&(s.tangentialPressure=0),s.isNormalized=!0,i.push(s)}else i.push(e);return i}}])}();bft.tag="Event";var _ft=function(){function n(){In(this,n),this.syncTasks=new Map,this.isFirstTimeRendering=!0,this.syncing=!1,this.isFirstTimeRenderingFinished=!1}return On(n,[{key:"apply",value:function(e){var i,t=this,r=e.renderingService,a=e.renderingContext.root.ownerDocument.defaultView;this.rBush=e.rBushRoot;var l=function(y){y.target.renderable.dirty=!0,r.dirtify()},u=function(y){t.syncTasks.set(y.target,y.detail.affectChildren),r.dirtify()},d=function(y){ui.enableSizeAttenuation&&ui.styleValueRegistry.updateSizeAttenuation(y.target,a.getCamera().getZoom())},f=function(y){var b=y.target,E=b.rBushNode;E.aabb&&t.rBush.remove(E.aabb),t.syncTasks.delete(b),ui.sceneGraphService.dirtifyToRoot(b),r.dirtify()};r.hooks.init.tap(n.tag,function(){a.addEventListener(cr.MOUNTED,d),a.addEventListener(cr.UNMOUNTED,f),a.addEventListener(cr.ATTR_MODIFIED,l),a.addEventListener(cr.BOUNDS_CHANGED,u)}),r.hooks.destroy.tap(n.tag,function(){a.removeEventListener(cr.MOUNTED,d),a.removeEventListener(cr.UNMOUNTED,f),a.removeEventListener(cr.ATTR_MODIFIED,l),a.removeEventListener(cr.BOUNDS_CHANGED,u),t.syncTasks.clear()});var m=null!==(i=ui.globalThis.requestIdleCallback)&&void 0!==i?i:qW.bind(ui.globalThis);r.hooks.endFrame.tap(n.tag,function(){t.isFirstTimeRendering?(t.isFirstTimeRendering=!1,t.syncing=!0,m(function(){t.syncRTree(!0),t.isFirstTimeRenderingFinished=!0})):t.syncRTree()})}},{key:"syncNode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.isConnected){var i=e.rBushNode;i.aabb&&this.rBush.remove(i.aabb);var r=e.getRenderBounds();if(r){var o=e.renderable;t&&(o.dirtyRenderBounds||(o.dirtyRenderBounds=new p),o.dirtyRenderBounds.update(r.center,r.halfExtents));var a=Yi(r.getMin(),2),l=a[0],u=a[1],f=Yi(r.getMax(),2),m=f[0],y=f[1];i.aabb||(i.aabb={}),i.aabb.displayObject=e,i.aabb.minX=l,i.aabb.minY=u,i.aabb.maxX=m,i.aabb.maxY=y}if(i.aabb&&!isNaN(i.aabb.maxX)&&!isNaN(i.aabb.maxX)&&!isNaN(i.aabb.minX)&&!isNaN(i.aabb.minY))return i.aabb}}},{key:"syncRTree",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t||!this.syncing&&0!==this.syncTasks.size){this.syncing=!0;var i=[],r=new Set,o=function(s){if(!r.has(s)&&s.renderable){var a=e.syncNode(s,t);a&&(i.push(a),r.add(s))}};this.syncTasks.forEach(function(s,a){s&&a.forEach(o);for(var l=a;l;)o(l),l=l.parentElement}),this.rBush.load(i),i.length=0,this.syncing=!1}}}])}();_ft.tag="Prepare";var M_=function(n){return n.READY="ready",n.BEFORE_RENDER="beforerender",n.RERENDER="rerender",n.AFTER_RENDER="afterrender",n.BEFORE_DESTROY="beforedestroy",n.AFTER_DESTROY="afterdestroy",n.RESIZE="resize",n.DIRTY_RECTANGLE="dirtyrectangle",n.RENDERER_CHANGED="rendererchanged",n}({});function Eft(n,e){var t=e.cx,r=e.cy;n.arc(void 0===t?0:t,void 0===r?0:r,e.r,0,2*Math.PI,!1)}function wft(n,e){var t=e.cx,i=void 0===t?0:t,r=e.cy,o=void 0===r?0:r,s=e.rx,a=e.ry;if(n.ellipse)n.ellipse(i,o,s,a,0,0,2*Math.PI,!1);else{var l=s>a?s:a,u=s>a?1:s/a,d=s>a?a/s:1;n.save(),n.scale(u,d),n.arc(i,o,l,0,2*Math.PI)}}function xft(n,e){var E,w,t=e.x1,i=e.y1,r=e.x2,o=e.y2,s=e.markerStart,a=e.markerEnd,l=e.markerStartOffset,u=e.markerEndOffset,d=0,f=0,m=0,y=0,b=0;s&&Sr(s)&&l&&(E=r-t,w=o-i,b=Math.atan2(w,E),d=Math.cos(b)*(l||0),f=Math.sin(b)*(l||0)),a&&Sr(a)&&u&&(E=t-r,w=i-o,b=Math.atan2(w,E),m=Math.cos(b)*(u||0),y=Math.sin(b)*(u||0)),n.moveTo(t+d,i+f),n.lineTo(r+m,o+y)}function Mft(n,e){var b,E,t=e.markerStart,i=e.markerEnd,r=e.markerStartOffset,o=e.markerEndOffset,s=e.d,a=s.absolutePath,l=s.segments,u=0,d=0,f=0,m=0,y=0;if(t&&Sr(t)&&r){var M=Yi(t.parentNode.getStartTangent(),2),x=M[0],D=M[1];b=x[0]-D[0],E=x[1]-D[1],y=Math.atan2(E,b),u=Math.cos(y)*(r||0),d=Math.sin(y)*(r||0)}if(i&&Sr(i)&&o){var T=Yi(i.parentNode.getEndTangent(),2),O=T[0],R=T[1];b=O[0]-R[0],E=O[1]-R[1],y=Math.atan2(E,b),f=Math.cos(y)*(o||0),m=Math.sin(y)*(o||0)}for(var L=0;L<a.length;L++){var F=a[L],U=F[0],$=a[L+1],q=(L===a.length-1||$&&("M"===$[0]||"Z"===$[0]))&&0!==f&&0!==m,Et=Yi(0!==L||0===u&&0===d?[0,0]:[u,d],2),at=Et[0],Q=Et[1],St=Yi(q?[f,m]:[0,0],2),Yt=St[0],He=St[1];switch(U){case"M":n.moveTo(F[1]+at,F[2]+Q);break;case"L":n.lineTo(F[1]+Yt,F[2]+He);break;case"Q":n.quadraticCurveTo(F[1],F[2],F[3]+Yt,F[4]+He);break;case"C":n.bezierCurveTo(F[1],F[2],F[3],F[4],F[5]+Yt,F[6]+He);break;case"A":var Se=l[L].arcParams,un=Se.cx,_n=Se.cy,Wn=Se.rx,Ln=Se.ry,yi=Se.startAngle,Or=Se.endAngle,co=Se.xRotation,as=Se.sweepFlag;if(n.ellipse)n.ellipse(un,_n,Wn,Ln,co,yi,Or,!!(1-as));else{var Vs=Wn>Ln?Wn:Ln,ju=Wn>Ln?1:Wn/Ln,Bf=Wn>Ln?Ln/Wn:1;n.translate(un,_n),n.rotate(co),n.scale(ju,Bf),n.arc(0,0,Vs,yi,Or,!!(1-as)),n.scale(1/ju,1/Bf),n.rotate(-co),n.translate(-un,-_n)}q&&n.lineTo(F[6]+f,F[7]+m);break;case"Z":n.closePath()}}}function Cft(n,e){var M,x,t=e.markerStart,i=e.markerEnd,r=e.markerStartOffset,o=e.markerEndOffset,s=e.points.points,a=s.length,l=s[0][0],u=s[0][1],d=s[a-1][0],f=s[a-1][1],m=0,y=0,b=0,E=0,w=0;t&&Sr(t)&&r&&(M=s[1][0]-s[0][0],x=s[1][1]-s[0][1],w=Math.atan2(x,M),m=Math.cos(w)*(r||0),y=Math.sin(w)*(r||0)),i&&Sr(i)&&o&&(M=s[a-1][0]-s[0][0],x=s[a-1][1]-s[0][1],w=Math.atan2(x,M),b=Math.cos(w)*(o||0),E=Math.sin(w)*(o||0)),n.moveTo(l+(m||b),u+(y||E));for(var D=1;D<a-1;D++){var k=s[D];n.lineTo(k[0],k[1])}n.lineTo(d,f)}function Sft(n,e){var M,x,t=e.markerStart,i=e.markerEnd,r=e.markerStartOffset,o=e.markerEndOffset,s=e.points.points,a=s.length,l=s[0][0],u=s[0][1],d=s[a-1][0],f=s[a-1][1],m=0,y=0,b=0,E=0,w=0;t&&Sr(t)&&r&&(M=s[1][0]-s[0][0],x=s[1][1]-s[0][1],w=Math.atan2(x,M),m=Math.cos(w)*(r||0),y=Math.sin(w)*(r||0)),i&&Sr(i)&&o&&(M=s[a-2][0]-s[a-1][0],x=s[a-2][1]-s[a-1][1],w=Math.atan2(x,M),b=Math.cos(w)*(o||0),E=Math.sin(w)*(o||0)),n.moveTo(l+m,u+y);for(var D=1;D<a-1;D++){var k=s[D];n.lineTo(k[0],k[1])}n.lineTo(d+b,f+E)}function Dft(n,e){var t=e.x,i=void 0===t?0:t,r=e.y,o=void 0===r?0:r,s=e.radius,a=e.width,l=e.height,u=a,d=l;if(s&&s.some(function(T){return 0!==T})){var m=a>0?1:-1,y=l>0?1:-1,b=m+y===0,w=Yi(s.map(function(T){return Ys(T,0,Math.min(Math.abs(u)/2,Math.abs(d)/2))}),4),M=w[0],x=w[1],D=w[2],k=w[3];n.moveTo(m*M+i,o),n.lineTo(u-m*x+i,o),0!==x&&n.arc(u-m*x+i,y*x+o,x,-y*Math.PI/2,m>0?0:Math.PI,b),n.lineTo(u+i,d-y*D+o),0!==D&&n.arc(u-m*D+i,d-y*D+o,D,m>0?0:Math.PI,y>0?Math.PI/2:1.5*Math.PI,b),n.lineTo(m*k+i,d+o),0!==k&&n.arc(m*k+i,d-y*k+o,k,y>0?Math.PI/2:-Math.PI/2,m>0?Math.PI:0,b),n.lineTo(i,y*M+o),0!==M&&n.arc(m*M+i,y*M+o,M,m>0?Math.PI:0,y>0?1.5*Math.PI:Math.PI/2,b)}else n.rect(i,o,u,d)}new Of(cr.MOUNTED),new Of(cr.UNMOUNTED),new Of(M_.BEFORE_RENDER),new Of(M_.RERENDER),new Of(M_.AFTER_RENDER);var cK=function(n){function e(){var t;In(this,e);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=Kn(this,e,[].concat(r))).name="canvas-path-generator",t}return br(e,n),On(e,[{key:"init",value:function(){var t,i=(Vn(Vn(Vn(Vn(Vn(Vn(Vn(Vn(Vn(Vn(t={},Je.CIRCLE,Eft),Je.ELLIPSE,wft),Je.RECT,Dft),Je.LINE,xft),Je.POLYLINE,Sft),Je.POLYGON,Cft),Je.PATH,Mft),Je.TEXT,void 0),Je.GROUP,void 0),Je.IMAGE,void 0),Vn(Vn(Vn(t,Je.HTML,void 0),Je.MESH,void 0),Je.FRAGMENT,void 0));this.context.pathGeneratorFactory=i}},{key:"destroy",value:function(){delete this.context.pathGeneratorFactory}}])}(Du);const Tft=Object.freeze(Object.defineProperty({__proto__:null,Plugin:cK},Symbol.toStringTag,{value:"Module"}));var Aft=Br(),Oft=Br(),kft=Br(),Ift=wo(),uK=function(){function n(){var e=this;In(this,n),this.isHit=function(t,i,r,o){var s=e.context.pointInPathPickerFactory[t.nodeName];if(s){var a=kc(Ift,r),l=Pa(Oft,el(kft,i[0],i[1],0),a);if(s(t,new S(l[0],l[1]),o,e.isPointInPath,e.context,e.runtime))return!0}return!1},this.isPointInPath=function(t,i){var r=e.runtime.offscreenCanvasCreator.getOrCreateContext(e.context.config.offscreenCanvas),o=e.context.pathGeneratorFactory[t.nodeName];return o&&(r.beginPath(),o(r,t.parsedStyle),r.closePath()),r.isPointInPath(i.x,i.y)}}return On(n,[{key:"apply",value:function(e,t){var i,r=this,o=e.renderingService,s=e.renderingContext;this.context=e,this.runtime=t;var a=null===(i=s.root)||void 0===i?void 0:i.ownerDocument;o.hooks.pick.tapPromise(n.tag,function(){var l=ql(rl().mark(function u(d){return rl().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",r.pick(a,d));case 1:case"end":return f.stop()}},u)}));return function(u){return l.apply(this,arguments)}}()),o.hooks.pickSync.tap(n.tag,function(l){return r.pick(a,l)})}},{key:"pick",value:function(e,t){var f,i=t.topmost,r=t.position,a=el(Aft,r.x,r.y,0),u=[],d=df(e.elementsFromBBox(a[0],a[1],a[0],a[1]));try{for(d.s();!(f=d.n()).done;){var m=f.value,y=m.getWorldTransform();if(this.isHit(m,a,y,!1)){var E=KW(m);if(E){var w=E.parsedStyle.clipPath;if(this.isHit(w,a,w.getWorldTransform(),!0)){if(i)return t.picked=[m],t;u.push(m)}}else{if(i)return t.picked=[m],t;u.push(m)}}}}catch(x){d.e(x)}finally{d.f()}return t.picked=u,t}}])}();function Rft(n,e,t){var i=n.parsedStyle,r=i.cx,s=i.cy,l=i.r,u=i.fill,d=i.stroke,f=i.lineWidth,y=i.increasedLineWidthForHitTesting,E=i.pointerEvents,w=void 0===E?"auto":E,M=((void 0===f?1:f)+(void 0===y?0:y))/2,x=Ma(void 0===r?0:r,void 0===s?0:s,e.x,e.y),k=Yi(F2(w,u,d),2),T=k[0],O=k[1];return T&&O||t?x<=l+M:T?x<=l:!!O&&x>=l-M&&x<=l+M}function vR(n,e,t,i){return n/(t*t)+e/(i*i)}function Pft(n,e,t){var i=n.parsedStyle,r=i.cx,o=void 0===r?0:r,s=i.cy,a=void 0===s?0:s,l=i.rx,u=i.ry,m=i.lineWidth,y=void 0===m?1:m,b=i.increasedLineWidthForHitTesting,E=void 0===b?0:b,w=i.pointerEvents,x=e.x,D=e.y,T=Yi(F2(void 0===w?"auto":w,i.fill,i.stroke),2),O=T[0],R=T[1],L=(y+E)/2,F=(x-o)*(x-o),U=(D-a)*(D-a);return O&&R||t?vR(F,U,l+L,u+L)<=1:O?vR(F,U,l,u)<=1:!!R&&vR(F,U,l-L,u-L)>=1&&vR(F,U,l+L,u+L)<=1}function V2(n,e,t,i,r,o){return r>=n&&r<=n+t&&o>=e&&o<=e+i}function yR(n,e,t,i,r,o,s,a){var l=(Math.atan2(a-e,s-n)+2*Math.PI)%(2*Math.PI),u={x:n+t*Math.cos(l),y:e+t*Math.sin(l)};return Ma(u.x,u.y,s,a)<=o/2}function Wm(n,e,t,i,r,o,s){var a=Math.min(n,t),l=Math.max(n,t),u=Math.min(e,i),d=Math.max(e,i),f=r/2;return o>=a-f&&o<=l+f&&s>=u-f&&s<=d+f&&Av(n,e,t,i,o,s)<=r/2}function dK(n,e,t,i,r){var o=n.length;if(o<2)return!1;for(var s=0;s<o-1;s++)if(Wm(n[s][0],n[s][1],n[s+1][0],n[s+1][1],e,t,i))return!0;if(r){var f=n[0],m=n[o-1];if(Wm(f[0],f[1],m[0],m[1],e,t,i))return!0}return!1}uK.tag="CanvasPicker";var Lft=1e-6;function _9(n){return Math.abs(n)<Lft?0:n<0?-1:1}function Fft(n,e,t){return(t[0]-n[0])*(e[1]-n[1])==(e[0]-n[0])*(t[1]-n[1])&&Math.min(n[0],e[0])<=t[0]&&t[0]<=Math.max(n[0],e[0])&&Math.min(n[1],e[1])<=t[1]&&t[1]<=Math.max(n[1],e[1])}function hK(n,e,t){var i=!1,r=n.length;if(r<=2)return!1;for(var o=0;o<r;o++){var s=n[o],a=n[(o+1)%r];if(Fft(s,a,[e,t]))return!0;_9(s[1]-t)>0!=_9(a[1]-t)>0&&_9(e-(t-s[1])*(s[0]-a[0])/(s[1]-a[1])-s[0])<0&&(i=!i)}return i}function fK(n,e,t){for(var i=!1,r=0;r<n.length&&!(i=hK(n[r],e,t));r++);return i}function Bft(n,e,t){var i=n.parsedStyle,r=i.x1,o=i.y1,s=i.x2,a=i.y2,l=i.lineWidth,u=void 0===l?1:l,d=i.increasedLineWidthForHitTesting,f=void 0===d?0:d,m=i.pointerEvents;return!(!Yi(F2(void 0===m?"auto":m,i.fill,i.stroke),2)[1]&&!t||!u)&&Wm(r,o,s,a,u+f,e.x,e.y)}function Vft(n,e,t,i,r,o){var s=n.parsedStyle,a=s.lineWidth,l=void 0===a?1:a,u=s.increasedLineWidthForHitTesting,d=void 0===u?0:u,f=s.stroke,m=s.fill,y=s.d,b=s.pointerEvents,w=y.segments,M=y.hasArc,x=y.polylines,D=y.polygons,T=Yi(F2(void 0===b?"auto":b,D?.length&&m,f),2),O=T[0],R=T[1],L=o9(n),F=!1;return O||t?F=M?i(n,e):fK(D,e.x,e.y)||fK(x,e.x,e.y):((R||t)&&(F=function jft(n,e,t,i,r){for(var o=!1,s=e/2,a=0;a<n.length;a++){var l=n[a],u=l.currentPoint,d=l.params,f=l.prePoint,m=l.box;if(!m||V2(m.x-s,m.y-s,m.width+e,m.height+e,t,i))switch(l.command){case"L":case"Z":if(o=Wm(f[0],f[1],u[0],u[1],e,t,i))return!0;break;case"Q":if(o=o6(f[0],f[1],d[1],d[2],d[3],d[4],t,i)<=e/2)return!0;break;case"C":if(o=na(f[0],f[1],d[1],d[2],d[3],d[4],d[5],d[6],t,i,r)<=e/2)return!0;break;case"A":l.cubicParams||(l.cubicParams=O1(f[0],f[1],d[1],d[2],d[3],d[4],d[5],d[6],d[7],void 0));for(var E=l.cubicParams,w=f,M=0;M<E.length;M+=6){var x=na(w[0],w[1],E[M],E[M+1],E[M+2],E[M+3],E[M+4],E[M+5],t,i,r);if(w=[E[M+4],E[M+5]],o=x<=e/2)return!0}}}return o}(w,l+d,e.x,e.y,L)),F)}function zft(n,e,t){var i=n.parsedStyle,s=i.lineWidth,a=void 0===s?1:s,l=i.increasedLineWidthForHitTesting,u=void 0===l?0:l,d=i.points,f=i.pointerEvents,b=Yi(F2(void 0===f?"auto":f,i.fill,i.stroke),2),E=b[0],M=!1;return(b[1]||t)&&(M=dK(d.points,a+u,e.x,e.y,!0)),!M&&(E||t)&&(M=hK(d.points,e.x,e.y)),M}function Uft(n,e,t){var i=n.parsedStyle,r=i.lineWidth,o=void 0===r?1:r,s=i.increasedLineWidthForHitTesting,a=void 0===s?0:s,l=i.points,u=i.pointerEvents;return!(!Yi(F2(void 0===u?"auto":u,i.fill,i.stroke),2)[1]&&!t||!o)&&dK(l.points,o+a,e.x,e.y,!1)}function Hft(n,e,t,i,r){var o=n.parsedStyle,s=o.radius,u=o.lineWidth,d=void 0===u?1:u,f=o.increasedLineWidthForHitTesting,m=void 0===f?0:f,y=o.x,b=void 0===y?0:y,E=o.y,w=void 0===E?0:E,M=o.width,x=o.height,D=o.pointerEvents,O=Yi(F2(void 0===D?"auto":D,o.fill,o.stroke),2),R=O[0],L=O[1],U=d+m;if(s&&s.some(function(q){return 0!==q})){var $=!1;return(L||t)&&($=function Gft(n,e,t,i,r,o,s,a){var l=Yi(r,4),u=l[0],d=l[1],f=l[2],m=l[3];return Wm(n+u,e,n+t-d,e,o,s,a)||Wm(n+t,e+d,n+t,e+i-f,o,s,a)||Wm(n+t-f,e+i,n+m,e+i,o,s,a)||Wm(n,e+i-m,n,e+u,o,s,a)||yR(n+t-d,e+d,d,Math,Math,o,s,a)||yR(n+t-f,e+i-f,f,0,Math,o,s,a)||yR(n+m,e+i-m,m,Math,Math,o,s,a)||yR(n+u,e+u,u,Math,Math,o,s,a)}(b,w,M,x,s.map(function(q){return Ys(q,0,Math.min(Math.abs(M)/2,Math.abs(x)/2))}),U,e.x,e.y)),!$&&(R||t)&&($=i(n,e)),$}var X=U/2;return R&&L||t?V2(b-X,w-X,M+X,x+X,e.x,e.y):R?V2(b,w,M,x,e.x,e.y):!!L&&function Nft(n,e,t,i,r,o,s){var a=r/2;return V2(n-a,e-a,t,r,o,s)||V2(n+t-a,e-a,r,i,o,s)||V2(n+a,e+i-a,t,r,o,s)||V2(n-a,e+a,r,i,o,s)}(b,w,M,x,U,e.x,e.y)}function $ft(n,e,t,i,r,o){var s=n.parsedStyle,a=s.pointerEvents,u=s.x,d=void 0===u?0:u,f=s.y,m=void 0===f?0:f,y=s.width,b=s.height;if("non-transparent-pixel"===(void 0===a?"auto":a)){var E=r.config.offscreenCanvas,w=o.offscreenCanvasCreator.getOrCreateCanvas(E),M=o.offscreenCanvasCreator.getOrCreateContext(E,{willReadFrequently:!0});return w.width=y,w.height=b,r.defaultStyleRendererFactory[Je.IMAGE].render(M,xr(xr({},n.parsedStyle),{},{x:0,y:0}),n,void 0,void 0,void 0),M.getImageData(e.x-d,e.y-m,1,1).data.every(function(D){return 0!==D})}return!0}function Wft(n,e,t,i){var r=n.getGeometryBounds();return e.x>=r.min[0]&&e.y>=r.min[1]&&e.x<=r.max[0]&&e.y<=r.max[1]}var pK=function(n){function e(){var t;In(this,e);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=Kn(this,e,[].concat(r))).name="canvas-picker",t}return br(e,n),On(e,[{key:"init",value:function(){var t,i=(Vn(Vn(Vn(Vn(Vn(Vn(Vn(Vn(Vn(Vn(t={},Je.CIRCLE,Rft),Je.ELLIPSE,Pft),Je.RECT,Hft),Je.LINE,Bft),Je.POLYLINE,Uft),Je.POLYGON,zft),Je.PATH,Vft),Je.TEXT,Wft),Je.GROUP,null),Je.IMAGE,$ft),Vn(Vn(t,Je.HTML,null),Je.MESH,null));this.context.pointInPathPickerFactory=i,this.addRenderingPlugin(new uK)}},{key:"destroy",value:function(){delete this.context.pointInPathPickerFactory,this.removeAllRenderingPlugins()}}])}(Du);const Kft=Object.freeze(Object.defineProperty({__proto__:null,Plugin:pK},Symbol.toStringTag,{value:"Module"}));function la(n,e){if(!{}.hasOwnProperty.call(n,e))throw new TypeError("attempted to use private field on non-instance");return n}var Xft=0;function mK(n){return"__private_"+Xft+++"_"+n}var qs=mK("cacheStore"),Yft=function(){return On(function n(){In(this,n),Object.defineProperty(this,qs,{writable:!0,value:new Map})},[{key:"onRefAdded",value:function(e){}},{key:"has",value:function(e){return la(this,qs)[qs].has(e)}},{key:"put",value:function(e,t,i){return!la(this,qs)[qs].has(e)&&(la(this,qs)[qs].set(e,{value:t,counter:new Set([i])}),this.onRefAdded(i),!0)}},{key:"get",value:function(e,t){var i=la(this,qs)[qs].get(e);return i?(i.counter.has(t)||(i.counter.add(t),this.onRefAdded(t)),i.value):null}},{key:"update",value:function(e,t,i){var r=la(this,qs)[qs].get(e);return!!r&&(r.value=xr(xr({},r.value),t),r.counter.has(i)||(r.counter.add(i),this.onRefAdded(i)),!0)}},{key:"release",value:function(e,t){var i=la(this,qs)[qs].get(e);return!!i&&(i.counter.delete(t),i.counter.size<=0&&la(this,qs)[qs].delete(e),!0)}},{key:"releaseRef",value:function(e){var t=this;la(this,qs)[qs].keys().forEach(function(i){t.release(i,e)})}},{key:"getSize",value:function(){return la(this,qs)[qs].size}},{key:"clear",value:function(){la(this,qs)[qs].clear()}}])}(),E9=[],w9=[],x9=function(){function n(){In(this,n)}return On(n,null,[{key:"stop",value:function(){n.rafId&&((arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.api).cancelAnimationFrame(n.rafId),n.rafId=null)}},{key:"executeTask",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.api;E9.length<=0&&w9.length<=0||(w9.forEach(function(t){return t()}),w9=E9.splice(0,n.TASK_NUM_PER_FRAME),n.rafId=e.requestAnimationFrame(function(){n.executeTask(e)}))}},{key:"sliceImage",value:function(e,t,i){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:n.api,s=e.naturalWidth||e.width,a=e.naturalHeight||e.height,l=t-r,u=i-r,d=Math.ceil(s/l),f=Math.ceil(a/u),m={tileSize:[t,i],gridSize:[f,d],tiles:Array(f).fill(null).map(function(){return Array(d).fill(null)})},y=function(E){for(var w=function(x){E9.push(function(){var D=x*l,k=E*u,T=[Math.min(t,s-D),Math.min(i,a-k)],O=T[0],R=T[1],L=o.createCanvas();L.width=t,L.height=i,L.getContext("2d").drawImage(e,D,k,O,R,0,0,O,R),m.tiles[E][x]={x:D,y:k,tileX:x,tileY:E,data:L}})},M=0;M<d;M++)w(M)},b=0;b<f;b++)y(b);return n.stop(),n.executeTask(),m}}])}();x9.TASK_NUM_PER_FRAME=10;var Au=new Yft;Au.onRefAdded=function(n){var e=this;n.addEventListener(cr.DESTROY,function(){e.releaseRef(n)},{once:!0})};var bR=function(){return On(function n(e,t){In(this,n),this.gradientCache={},this.patternCache={},this.context=e,this.runtime=t},[{key:"getImageSync",value:function(e,t,i){var r=Ki(e)?e:e.src;if(Au.has(r)){var o=Au.get(r,t);if(o.img.complete)return i?.(o),o}return this.getOrCreateImage(e,t).then(function(s){i?.(s)}).catch(function(){}),null}},{key:"getOrCreateImage",value:function(e,t){var i=Ki(e)?e:e.src;if(!Ki(e)&&!Au.has(i)){var r={img:e,size:[e.naturalWidth||e.width,e.naturalHeight||e.height],tileSize:_R(e)};Au.put(i,r,t)}if(Au.has(i)){var o=Au.get(i,t);return o.img.complete?Promise.resolve(o):new Promise(function(a,l){o.img.addEventListener("load",function(){o.tileSize=_R(o.img),a(o)}),o.img.addEventListener("error",function(u){l(u)})})}var s=this.context.config.createImage;return new Promise(function(a,l){var u;if(s?u=s(i):w_&&(u=new window.Image),u){var d={img:u,size:[0,0],tileSize:_R(u)};Au.put(i,d,t),u.onload=function(){d.size=[u.naturalWidth||u.width,u.naturalHeight||u.height],d.tileSize=_R(d.img),a(d)},u.onerror=function(f){l(f)},u.crossOrigin="Anonymous",u.src=i}})}},{key:"createDownSampledImage",value:(e=ql(rl().mark(function i(r,o){var s,a,l,u,d,f,m,y,b,E,w,M,x,D;return rl().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return k.next=2,this.getOrCreateImage(r,o);case 2:if(!(typeof(s=k.sent).downSamplingRate<"u")){k.next=5;break}return k.abrupt("return",s);case 5:if(d=void 0===(u=(l="boolean"==typeof(a=this.context.config.enableLargeImageOptimization)?{}:a).maxDownSampledImageSize)?2048:u,m=void 0===(f=l.downSamplingRateThreshold)?.5:f,y=this.runtime.globalThis.createImageBitmap,b=Yi(s.size,2),E=b[0],w=b[1],M=s.img,x=Math.min((d+d)/(E+w),Math.max(.01,Math.min(m,.5))),D=xr(xr({},s),{},{downSamplingRate:x}),Au.update(s.img.src,D,o),!y){k.next=25;break}return k.prev=14,k.next=17,y(s.img,{resizeWidth:E*x,resizeHeight:w*x});case 17:M=k.sent,k.next=23;break;case 20:k.prev=20,k.t0=k.catch(14),x=1;case 23:k.next=26;break;case 25:x=1;case 26:return D=xr(xr({},this.getImageSync(r,o)),{},{downSampled:M,downSamplingRate:x}),Au.update(s.img.src,D,o),k.abrupt("return",D);case 29:case"end":return k.stop()}},i,this,[[14,20]])})),function t(i,r){return e.apply(this,arguments)})},{key:"createImageTiles",value:function(){var e=ql(rl().mark(function i(r,o,s){var a,l,f;return rl().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,this.getOrCreateImage(r,s);case 2:return a=m.sent,x9.api={requestAnimationFrame:(l=s.ownerDocument.defaultView).requestAnimationFrame,cancelAnimationFrame:l.cancelAnimationFrame,createCanvas:function(){return g9.createCanvas()}},f=xr(xr({},a),x9.sliceImage(a.img,a.tileSize[0],a.tileSize[0])),Au.update(a.img.src,f,s),m.abrupt("return",f);case 8:case"end":return m.stop()}},i,this)}));return function t(i,r,o){return e.apply(this,arguments)}}()},{key:"releaseImage",value:function(e,t){Au.release(Ki(e)?e:e.src,t)}},{key:"releaseImageRef",value:function(e){Au.releaseRef(e)}},{key:"getOrCreatePatternSync",value:function(e,t,i,r,o,s,a){var l=this.generatePatternKey(t);if(l&&this.patternCache[l])return this.patternCache[l];var m,u=t.image,d=t.repetition,f=t.transform,y=!1;if(Ki(u)){var b=this.getImageSync(u,e,a);m=b?.img}else r?(m=r,y=!0):m=u;var w,E=m&&i.createPattern(m,d);return E&&(w=f?tK(a9(f),new Ns({})):Yd(wo()),y&&Fy(w,w,[1/o,1/o,1]),E.setTransform({a:w[0],b:w[1],c:w[4],d:w[5],e:w[12]+s[0],f:w[13]+s[1]})),l&&E&&(this.patternCache[l]=E),E}},{key:"getOrCreateGradient",value:function(e,t){var i=this.generateGradientKey(e),r=e.type,o=e.steps,s=e.min,a=e.width,l=e.height,d=e.cx,f=e.cy,m=e.size;if(this.gradientCache[i])return this.gradientCache[i];var y=null;if(r===pd.LinearGradient){var b=CW(s,a,l,e.angle);y=t.createLinearGradient(b.x1,b.y1,b.x2,b.y2)}else if(r===pd.RadialGradient){var D=SW(s,a,l,d,f,m),k=D.x,T=D.y;y=t.createRadialGradient(k,T,0,k,T,D.r)}return y&&(o.forEach(function(R){var U,L=R.offset;L.unit===Jn.kPercentage&&(null===(U=y)||void 0===U||U.addColorStop(L.value/100,R.color.toString()))}),this.gradientCache[i]=y),this.gradientCache[i]}},{key:"generateGradientKey",value:function(e){var i=e.min,r=e.width,o=e.height,s=e.steps,a=e.angle,l=e.cx,u=e.cy,d=e.size;return"gradient-".concat(e.type,"-").concat(a?.toString()||0,"-").concat(l?.toString()||0,"-").concat(u?.toString()||0,"-").concat(d?.toString()||0,"-").concat(i[0],"-").concat(i[1],"-").concat(r,"-").concat(o,"-").concat(s.map(function(f){var y=f.color;return"".concat(f.offset).concat(y)}).join("-"))}},{key:"generatePatternKey",value:function(e){var t=e.image,i=e.repetition;return Ki(t)?"pattern-".concat(t,"-").concat(i):"rect"===t.nodeName?"pattern-".concat(t.entity,"-").concat(i):void 0}}]);var e}();function _R(n){if(!n.complete)return[0,0];var e=n.naturalWidth||n.width,t=n.naturalHeight||n.height,i=256;return[256,512].forEach(function(r){Math.ceil(t/r)*Math.ceil(e/r)<1e3&&(i=r)}),[i,i]}bR.isSupportTile=!!g9.createCanvas();var gK=function(){function n(){In(this,n)}return On(n,[{key:"apply",value:function(e){var t=e.renderingService,r=e.imagePool,o=e.renderingContext.root.ownerDocument.defaultView,s=function(u,d,f){var m=u.parsedStyle,y=m.width,b=m.height;y&&!b?u.setAttribute("height",f/d*y):!y&&b&&u.setAttribute("width",d/f*b)},a=function(u){var d=u.target,m=d.attributes;if(d.nodeName===Je.IMAGE){var b=m.keepAspectRatio;r.getImageSync(m.src,d,function(E){var w=E.img;b&&s(d,w.width,w.height),d.renderable.dirty=!0,t.dirtify()})}},l=function(u){var d=u.target,m=u.prevValue,y=u.newValue;d.nodeName!==Je.IMAGE||"src"!==u.attrName||(m!==y&&r.releaseImage(m,d),Ki(y)&&r.getOrCreateImage(y,d).then(function(b){var E=b.img;d.attributes.keepAspectRatio&&s(d,E.width,E.height),d.renderable.dirty=!0,t.dirtify()}).catch(function(){}))};t.hooks.init.tap(n.tag,function(){o.addEventListener(cr.MOUNTED,a),o.addEventListener(cr.ATTR_MODIFIED,l)}),t.hooks.destroy.tap(n.tag,function(){o.removeEventListener(cr.MOUNTED,a),o.removeEventListener(cr.ATTR_MODIFIED,l)})}}])}();gK.tag="LoadImage";var vK=function(n){function e(){var t;In(this,e);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=Kn(this,e,[].concat(r))).name="image-loader",t}return br(e,n),On(e,[{key:"init",value:function(t){this.context.imagePool=new bR(this.context,t),this.addRenderingPlugin(new gK)}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}}])}(Du);const Zft=Object.freeze(Object.defineProperty({__proto__:null,ImagePool:bR,Plugin:vK},Symbol.toStringTag,{value:"Module"}));var Js=mK("renderState"),yK=function(){function n(e){In(this,n),this.removedRBushNodeAABBs=[],this.renderQueue=[],Object.defineProperty(this,Js,{writable:!0,value:{restoreStack:[],prevObject:null,currentContext:new Map}}),this.clearFullScreenLastFrame=!1,this.clearFullScreen=!1,this.vpMatrix=wo(),this.dprMatrix=wo(),this.tmpMat4=wo(),this.vec3a=Br(),this.vec3b=Br(),this.vec3c=Br(),this.vec3d=Br(),this.canvasRendererPluginOptions=e}return On(n,[{key:"apply",value:function(e,t){var i=this;this.context=e;var r=this.context,o=r.config,s=r.camera,a=r.renderingService,l=r.renderingContext,u=r.rBushRoot,d=r.pathGeneratorFactory,f=o.renderer.getConfig().enableRenderingOptimization;o.renderer.getConfig().enableDirtyCheck=!1,o.renderer.getConfig().enableDirtyRectangleRendering=!1,this.rBush=u,this.pathGeneratorFactory=d;var m=e.contextService,y=l.root.ownerDocument.defaultView,b=function(M){var D=M.target.rBushNode;D.aabb&&i.removedRBushNodeAABBs.push(D.aabb)},E=function(M){var D=M.target.rBushNode;D.aabb&&i.removedRBushNodeAABBs.push(D.aabb)};a.hooks.init.tap(n.tag,function(){y.addEventListener(cr.UNMOUNTED,b),y.addEventListener(cr.CULLED,E);var M=m.getDPR(),x=o.width,D=o.height,k=m.getContext();i.clearRect(k,0,0,x*M,D*M,o.background)}),a.hooks.destroy.tap(n.tag,function(){y.removeEventListener(cr.UNMOUNTED,b),y.removeEventListener(cr.CULLED,E),i.renderQueue=[],i.removedRBushNodeAABBs=[],la(i,Js)[Js]={restoreStack:[],prevObject:null,currentContext:null}}),a.hooks.beginFrame.tap(n.tag,function(){var M,x=m.getContext(),D=m.getDPR(),k=o.width,T=o.height,O=i.canvasRendererPluginOptions,R=O.dirtyObjectNumThreshold,L=O.dirtyObjectRatioThreshold,F=a.getStats(),$=F.rendered,X=$/F.total;i.clearFullScreen=i.clearFullScreenLastFrame||!(null!==(M=y.context.renderingPlugins[1])&&void 0!==M&&M.isFirstTimeRenderingFinished)||a.disableDirtyRectangleRendering()||$>R&&X>L,x&&("function"==typeof x.resetTransform?x.resetTransform():x.setTransform(1,0,0,1,0,0),i.clearFullScreen&&i.clearRect(x,0,0,k*D,T*D,o.background))});var w=function(M,x){for(var D=[M];D.length>0;){var k=D.pop();k.isVisible()&&!k.isCulled()&&(f?i.renderDisplayObjectOptimized(k,x,i.context,la(i,Js)[Js],t):i.renderDisplayObject(k,x,i.context,la(i,Js)[Js],t));for(var T=k.sortable.sorted||k.childNodes,O=T.length-1;O>=0;O--)D.push(T[O])}};a.hooks.endFrame.tap(n.tag,function(){if(0!==l.root.childNodes.length){f=o.renderer.getConfig().enableRenderingOptimization,la(i,Js)[Js]={restoreStack:[],prevObject:null,currentContext:la(i,Js)[Js].currentContext},la(i,Js)[Js].currentContext.clear(),i.clearFullScreenLastFrame=!1;var M=m.getContext(),x=m.getDPR();if(Yh(i.dprMatrix,[x,x,1]),Gl(i.vpMatrix,i.dprMatrix,s.getOrthoMatrix()),i.clearFullScreen)f?(M.save(),w(l.root,M),M.restore()):w(l.root,M),i.removedRBushNodeAABBs=[];else{var D=i.safeMergeAABB.apply(i,[i.mergeDirtyAABBs(i.renderQueue)].concat(Ko(i.removedRBushNodeAABBs.map(function(_n){var Wn=_n.minX,Ln=_n.minY,yi=_n.maxX,Or=_n.maxY,co=new p;return co.setMinMax([Wn,Ln,0],[yi,Or,0]),co}))));if(i.removedRBushNodeAABBs=[],p.isEmpty(D))return void(i.renderQueue=[]);var k=i.convertAABB2Rect(D),T=k.x,O=k.y,R=k.width,L=k.height,F=Pa(i.vec3a,[T,O,0],i.vpMatrix),U=Pa(i.vec3b,[T+R,O,0],i.vpMatrix),$=Pa(i.vec3c,[T,O+L,0],i.vpMatrix),X=Pa(i.vec3d,[T+R,O+L,0],i.vpMatrix),q=Math.min(F[0],U[0],X[0],$[0]),gt=Math.min(F[1],U[1],X[1],$[1]),Et=Math.max(F[0],U[0],X[0],$[0]),at=Math.max(F[1],U[1],X[1],$[1]),Q=Math.floor(q),et=Math.floor(gt),St=Math.ceil(Et-q),Yt=Math.ceil(at-gt);M.save(),i.clearRect(M,Q,et,St,Yt,o.background),M.beginPath(),M.rect(Q,et,St,Yt),M.clip(),M.setTransform(i.vpMatrix[0],i.vpMatrix[1],i.vpMatrix[4],i.vpMatrix[5],i.vpMatrix[12],i.vpMatrix[13]),o.renderer.getConfig().enableDirtyRectangleRenderingDebug&&y.dispatchEvent(new Of(M_.DIRTY_RECTANGLE,{dirtyRect:{x:Q,y:et,width:St,height:Yt}})),i.searchDirtyObjects(D).sort(function(_n,Wn){return _n.sortable.renderOrder-Wn.sortable.renderOrder}).forEach(function(_n){_n&&_n.isVisible()&&!_n.isCulled()&&i.renderDisplayObject(_n,M,i.context,la(i,Js)[Js],t)}),M.restore(),i.renderQueue.forEach(function(_n){i.saveDirtyAABB(_n)}),i.renderQueue=[]}la(i,Js)[Js].restoreStack.forEach(function(){M.restore()}),la(i,Js)[Js].restoreStack=[]}else i.clearFullScreenLastFrame=!0}),a.hooks.render.tap(n.tag,function(M){i.clearFullScreen||i.renderQueue.push(M)})}},{key:"clearRect",value:function(e,t,i,r,o,s){e.clearRect(t,i,r,o),s&&(e.fillStyle=s,e.fillRect(t,i,r,o))}},{key:"renderDisplayObjectOptimized",value:function(e,t,i,r,o){var s=e.nodeName,l=!1,u=this.context.styleRendererFactory[s],d=this.pathGeneratorFactory[s],f=e.parsedStyle.clipPath;if(f){(!r.prevObject||!tw(f.getWorldTransform(),r.prevObject.getWorldTransform()))&&(this.applyWorldTransform(t,f),r.prevObject=null);var m=this.pathGeneratorFactory[f.nodeName];m&&(t.save(),l=!0,t.beginPath(),m(t,f.parsedStyle),t.closePath(),t.clip())}if(u){(!r.prevObject||!tw(e.getWorldTransform(),r.prevObject.getWorldTransform()))&&this.applyWorldTransform(t,e);var y=!r.prevObject;if(!y){var b=r.prevObject.nodeName;y=s===Je.TEXT?b!==Je.TEXT:s===Je.IMAGE?b!==Je.IMAGE:b===Je.TEXT||b===Je.IMAGE}u.applyStyleToContext(t,e,y,r),r.prevObject=e}d&&(t.beginPath(),d(t,e.parsedStyle),s!==Je.LINE&&s!==Je.PATH&&s!==Je.POLYLINE&&t.closePath()),u&&u.drawToContext(t,e,la(this,Js)[Js],this,o),l&&t.restore(),e.renderable.dirty=!1}},{key:"renderDisplayObject",value:function(e,t,i,r,o){var s=e.nodeName,a=r.restoreStack[r.restoreStack.length-1];a&&!(e.compareDocumentPosition(a)&Hm.DOCUMENT_POSITION_CONTAINS)&&(t.restore(),r.restoreStack.pop());var l=this.context.styleRendererFactory[s],u=this.pathGeneratorFactory[s],d=e.parsedStyle.clipPath;if(d){this.applyWorldTransform(t,d);var f=this.pathGeneratorFactory[d.nodeName];f&&(t.save(),r.restoreStack.push(e),t.beginPath(),f(t,d.parsedStyle),t.closePath(),t.clip())}l&&(this.applyWorldTransform(t,e),t.save(),l.applyAttributesToContext(t,e)),u&&(t.beginPath(),u(t,e.parsedStyle),s!==Je.LINE&&s!==Je.PATH&&s!==Je.POLYLINE&&t.closePath()),l&&(l.render(t,e.parsedStyle,e,i,this,o),t.restore()),e.renderable.dirty=!1}},{key:"convertAABB2Rect",value:function(e){var t=e.getMin(),i=e.getMax(),r=Math.floor(t[0]),o=Math.floor(t[1]);return{x:r,y:o,width:Math.ceil(i[0])-r,height:Math.ceil(i[1])-o}}},{key:"mergeDirtyAABBs",value:function(e){var t=new p;return e.forEach(function(i){var r=i.getRenderBounds();t.add(r);var o=i.renderable.dirtyRenderBounds;o&&t.add(o)}),t}},{key:"searchDirtyObjects",value:function(e){var i=Yi(e.getMin(),2),r=i[0],o=i[1],a=Yi(e.getMax(),2);return this.rBush.search({minX:r,minY:o,maxX:a[0],maxY:a[1]}).map(function(f){return f.displayObject})}},{key:"saveDirtyAABB",value:function(e){var t=e.renderable;t.dirtyRenderBounds||(t.dirtyRenderBounds=new p);var i=e.getRenderBounds();i&&t.dirtyRenderBounds.update(i.center,i.halfExtents)}},{key:"applyWorldTransform",value:function(e,t,i){i?(uu(this.tmpMat4,t.getLocalTransform()),Gl(this.tmpMat4,i,this.tmpMat4),Gl(this.tmpMat4,this.vpMatrix,this.tmpMat4)):(uu(this.tmpMat4,t.getWorldTransform()),Gl(this.tmpMat4,this.vpMatrix,this.tmpMat4)),e.setTransform(this.tmpMat4[0],this.tmpMat4[1],this.tmpMat4[4],this.tmpMat4[5],this.tmpMat4[12],this.tmpMat4[13])}},{key:"safeMergeAABB",value:function(){for(var e=new p,t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return i.forEach(function(o){e.add(o)}),e}}])}();function ER(n,e,t,i,r,o,s){var a,l;if("rect"===n.image.nodeName){var u=n.image.parsedStyle,d=u.width,f=u.height;l=i.contextService.getDPR();var m=i.config.offscreenCanvas;(a=o.offscreenCanvasCreator.getOrCreateCanvas(m)).width=d*l,a.height=f*l;var y=o.offscreenCanvasCreator.getOrCreateContext(m),b={restoreStack:[],prevObject:null,currentContext:new Map};n.image.forEach(function(w){r.renderDisplayObject(w,y,i,b,o)}),b.restoreStack.forEach(function(){y.restore()})}return s.getOrCreatePatternSync(e,n,t,a,l,e.getGeometryBounds().min,function(){e.renderable.dirty=!0,i.renderingService.dirtify()})}function wR(n,e,t,i){var r;if(n.type===pd.LinearGradient||n.type===pd.RadialGradient){var o=e.getGeometryBounds(),s=o&&2*o.halfExtents[0]||1,a=o&&2*o.halfExtents[1]||1,l=o&&o.min||[0,0];r=i.getOrCreateGradient(xr(xr({type:n.type},n.value),{},{min:l,width:s,height:a}),t)}return r}yK.tag="CanvasRenderer";var xR=["shadowBlur","shadowOffsetX","shadowOffsetY"],bK=["lineCap","lineJoin","miterLimit"],ca={globalAlpha:1,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",filter:"none",globalCompositeOperation:"source-over",strokeStyle:"#000",strokeOpacity:1,lineWidth:1,lineDash:[],lineDashOffset:0,lineCap:"butt",lineJoin:"miter",miterLimit:10,fillStyle:"#000",fillOpacity:1},_K={};function Ds(n,e,t,i){var r=i.has(e)?i.get(e):ca[e];return r!==t&&("lineDash"===e?n.setLineDash(t):n[e]=t,i.set(e,t)),r}var Qft=function(){return On(function n(e){In(this,n),this.imagePool=e},[{key:"applyAttributesToContext",value:function(e,t){}},{key:"render",value:function(e,t,i,r,o,s){}},{key:"applyCommonStyleToContext",value:function(e,t,i,r){var o=i?_K:r.prevObject.parsedStyle,s=t.parsedStyle;(i||s.opacity!==o.opacity)&&Ds(e,"globalAlpha",Oi(s.opacity)?ca.globalAlpha:s.opacity,r.currentContext),(i||s.blend!==o.blend)&&Ds(e,"globalCompositeOperation",Oi(s.blend)?ca.globalCompositeOperation:s.blend,r.currentContext)}},{key:"applyStrokeFillStyleToContext",value:function(e,t,i,r){var o=i?_K:r.prevObject.parsedStyle,s=t.parsedStyle,a=s.lineWidth,u=s.fill&&!s.fill.isNone;if(s.stroke&&!s.stroke.isNone&&(void 0===a?ca.lineWidth:a)>0){(i||t.attributes.stroke!==r.prevObject.attributes.stroke)&&Ds(e,"strokeStyle",Oi(s.stroke)||Array.isArray(s.stroke)||s.stroke.isNone?ca.strokeStyle:t.attributes.stroke,r.currentContext),(i||s.lineWidth!==o.lineWidth)&&Ds(e,"lineWidth",Oi(s.lineWidth)?ca.lineWidth:s.lineWidth,r.currentContext),(i||s.lineDash!==o.lineDash)&&Ds(e,"lineDash",s.lineDash||ca.lineDash,r.currentContext),(i||s.lineDashOffset!==o.lineDashOffset)&&Ds(e,"lineDashOffset",Oi(s.lineDashOffset)?ca.lineDashOffset:s.lineDashOffset,r.currentContext);for(var m=0;m<bK.length;m++){var y=bK[m];(i||s[y]!==o[y])&&Ds(e,y,Oi(s[y])?ca[y]:s[y],r.currentContext)}}u&&(i||t.attributes.fill!==r.prevObject.attributes.fill)&&Ds(e,"fillStyle",Oi(s.fill)||Array.isArray(s.fill)||s.fill.isNone?ca.fillStyle:t.attributes.fill,r.currentContext)}},{key:"applyStyleToContext",value:function(e,t,i,r){var o=t.nodeName;this.applyCommonStyleToContext(e,t,i,r),o===Je.IMAGE||this.applyStrokeFillStyleToContext(e,t,i,r)}},{key:"applyShadowAndFilterStyleToContext",value:function(e,t,i,r){var o=t.parsedStyle;if(i){Ds(e,"shadowColor",o.shadowColor.toString(),r.currentContext);for(var s=0;s<xR.length;s++){var a=xR[s];Ds(e,a,o[a]||ca[a],r.currentContext)}}o.filter&&o.filter.length&&Ds(e,"filter",t.attributes.filter,r.currentContext)}},{key:"clearShadowAndFilterStyleForContext",value:function(e,t,i,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(t){Ds(e,"shadowColor",ca.shadowColor,r.currentContext);for(var s=0;s<xR.length;s++){var a=xR[s];Ds(e,a,ca[a],r.currentContext)}}if(i)if(t&&o){var l=e.filter;!Oi(l)&&l.indexOf("drop-shadow")>-1&&Ds(e,"filter",l.replace(/drop-shadow\([^)]*\)/,"").trim()||ca.filter,r.currentContext)}else Ds(e,"filter",ca.filter,r.currentContext)}},{key:"fillToContext",value:function(e,t,i,r,o){var s=this,a=t.parsedStyle,l=a.fill,u=a.fillRule,d=null;if(Array.isArray(l)&&l.length>0)l.forEach(function(m){var y,b=Ds(e,"fillStyle",wR(m,t,e,s.imagePool),i.currentContext);d=null!==(y=d)&&void 0!==y?y:b,u?e.fill(u):e.fill()});else{if(Tf(l)){var f=ER(l,t,e,t.ownerDocument.defaultView.context,r,o,this.imagePool);f&&(e.fillStyle=f,d=!0)}u?e.fill(u):e.fill()}null!==d&&Ds(e,"fillStyle",d,i.currentContext)}},{key:"strokeToContext",value:function(e,t,i,r,o){var s=this,a=t.parsedStyle.stroke,l=null;if(Array.isArray(a)&&a.length>0)a.forEach(function(m){var y,b=Ds(e,"strokeStyle",wR(m,t,e,s.imagePool),i.currentContext);l=null!==(y=l)&&void 0!==y?y:b,e.stroke()});else{if(Tf(a)){var u=ER(a,t,e,t.ownerDocument.defaultView.context,r,o,this.imagePool);if(u){var d,f=Ds(e,"strokeStyle",u,i.currentContext);l=null!==(d=l)&&void 0!==d?d:f}}e.stroke()}null!==l&&Ds(e,"strokeStyle",l,i.currentContext)}},{key:"drawToContext",value:function(e,t,i,r,o){var s,a=t.nodeName,l=t.parsedStyle,u=l.opacity,d=void 0===u?ca.globalAlpha:u,f=l.fillOpacity,m=void 0===f?ca.fillOpacity:f,y=l.strokeOpacity,b=void 0===y?ca.strokeOpacity:y,E=l.lineWidth,M=l.fill&&!l.fill.isNone,x=l.stroke&&!l.stroke.isNone&&(void 0===E?ca.lineWidth:E)>0;if(M||x){var D=!Oi(l.shadowColor)&&l.shadowBlur>0,k="inner"===l.shadowType,T=0===(null===(s=l.fill)||void 0===s?void 0:s.alpha),O=!(!l.filter||!l.filter.length),R=D&&x&&(a===Je.PATH||a===Je.LINE||a===Je.POLYLINE||T||k),L=null;if(M&&(R||this.applyShadowAndFilterStyleToContext(e,t,D,i),L=Ds(e,"globalAlpha",d*m,i.currentContext),this.fillToContext(e,t,i,r,o),R||this.clearShadowAndFilterStyleForContext(e,D,O,i)),x){var U=!1,X=Ds(e,"globalAlpha",d*b,i.currentContext);if(L=M?L:X,R&&(this.applyShadowAndFilterStyleToContext(e,t,D,i),U=!0,k)){var q=e.globalCompositeOperation;e.globalCompositeOperation="source-atop",this.strokeToContext(e,t,i,r,o),e.globalCompositeOperation=q,this.clearShadowAndFilterStyleForContext(e,D,O,i,!0)}this.strokeToContext(e,t,i,r,o),U&&this.clearShadowAndFilterStyleForContext(e,D,O,i)}null!==L&&Ds(e,"globalAlpha",L,i.currentContext)}}}])}(),Eh=function(n){function e(){return In(this,e),Kn(this,e,arguments)}return br(e,n),On(e,[{key:"applyAttributesToContext",value:function(t,i){var r=i.parsedStyle,o=r.stroke,s=r.fill,a=r.opacity,l=r.lineDash,u=r.lineDashOffset;l&&t.setLineDash(l),Oi(u)||(t.lineDashOffset=u),Oi(a)||(t.globalAlpha*=a),!Oi(o)&&!Array.isArray(o)&&!o.isNone&&(t.strokeStyle=i.attributes.stroke),!Oi(s)&&!Array.isArray(s)&&!s.isNone&&(t.fillStyle=i.attributes.fill)}},{key:"render",value:function(t,i,r,o,s,a){var l=i.fill,u=i.fillRule,d=i.opacity,f=void 0===d?1:d,m=i.fillOpacity,y=void 0===m?1:m,b=i.stroke,E=i.strokeOpacity,w=void 0===E?1:E,M=i.lineWidth,x=void 0===M?1:M,D=i.lineCap,k=i.lineJoin,T=i.shadowType,O=i.shadowColor,R=i.shadowBlur,L=i.filter,F=i.miterLimit,U=l&&!l.isNone,$=b&&!b.isNone&&x>0,X=0===l?.alpha,q=!(!L||!L.length),gt=!Oi(O)&&R>0,Et=r.nodeName,at="inner"===T,Q=$&&gt&&(Et===Je.PATH||Et===Je.LINE||Et===Je.POLYLINE||X||at);U&&(t.globalAlpha=f*y,Q||MR(r,t,gt),EK(t,r,l,u,o,s,a,this.imagePool),Q||this.clearShadowAndFilter(t,q,gt)),$&&(t.globalAlpha=f*w,t.lineWidth=x,Oi(F)||(t.miterLimit=F),Oi(D)||(t.lineCap=D),Oi(k)||(t.lineJoin=k),Q&&(at&&(t.globalCompositeOperation="source-atop"),MR(r,t,!0),at&&(M9(t,r,b,o,s,a,this.imagePool),t.globalCompositeOperation=ca.globalCompositeOperation,this.clearShadowAndFilter(t,q,!0))),M9(t,r,b,o,s,a,this.imagePool))}},{key:"clearShadowAndFilter",value:function(t,i,r){if(r&&(t.shadowColor="transparent",t.shadowBlur=0),i){var o=t.filter;!Oi(o)&&o.indexOf("drop-shadow")>-1&&(t.filter=o.replace(/drop-shadow\([^)]*\)/,"").trim()||"none")}}}])}(Qft);function MR(n,e,t){var i=n.parsedStyle,r=i.filter,o=i.shadowColor,s=i.shadowBlur,a=i.shadowOffsetX,l=i.shadowOffsetY;r&&r.length&&(e.filter=n.style.filter),t&&(e.shadowColor=o.toString(),e.shadowBlur=s||0,e.shadowOffsetX=a||0,e.shadowOffsetY=l||0)}function EK(n,e,t,i,r,o,s,a){var l=arguments.length>8&&void 0!==arguments[8]&&arguments[8];Array.isArray(t)?t.forEach(function(u){n.fillStyle=wR(u,e,n,a),l||(i?n.fill(i):n.fill())}):(Tf(t)&&(n.fillStyle=ER(t,e,n,r,o,s,a)),l||(i?n.fill(i):n.fill()))}function M9(n,e,t,i,r,o,s){var a=arguments.length>7&&void 0!==arguments[7]&&arguments[7];Array.isArray(t)?t.forEach(function(l){n.strokeStyle=wR(l,e,n,s),a||n.stroke()}):(Tf(t)&&(n.strokeStyle=ER(t,e,n,i,r,o,s)),a||n.stroke())}var wK=function(n){function e(){return In(this,e),Kn(this,e,arguments)}return br(e,n),On(e,[{key:"renderDownSampled",value:function(t,i,r,o){var s=o.src,a=o.imageCache;a.downSampled?t.drawImage(a.downSampled,Math.floor(o.drawRect[0]),Math.floor(o.drawRect[1]),Math.ceil(o.drawRect[2]),Math.ceil(o.drawRect[3])):this.imagePool.createDownSampledImage(s,r).then(function(l){r.renderable.dirty=!0,r.ownerDocument.defaultView.context.renderingService.dirtify()}).catch(function(){})}},{key:"renderTile",value:function(t,i,r,o){var s=o.src,a=o.imageCache,l=o.imageRect,u=o.drawRect,d=a.size,f=t.getTransform(),m=f.a,y=f.b,b=f.c,E=f.d,w=f.e,M=f.f;if(t.resetTransform(),null!=a&&a.gridSize){for(var x=[d[0]/l[2],d[1]/l[3]],D=[a.tileSize[0]/x[0],a.tileSize[1]/x[1]],k=[Math.floor((u[0]-l[0])/D[0]),Math.ceil((u[0]+u[2]-l[0])/D[0])],T=k[0],O=k[1],R=[Math.floor((u[1]-l[1])/D[1]),Math.ceil((u[1]+u[3]-l[1])/D[1])],F=R[1],U=R[0];U<=F;U++)for(var $=T;$<=O;$++){var X=a.tiles[U][$];if(X){var q=[Math.floor(l[0]+X.tileX*D[0]),Math.floor(l[1]+X.tileY*D[1]),Math.ceil(D[0]),Math.ceil(D[1])];t.drawImage(X.data,q[0],q[1],q[2],q[3])}}t.setTransform(m,y,b,E,w,M)}else this.imagePool.createImageTiles(s,[],r).then(function(){r.renderable.dirty=!0,r.ownerDocument.defaultView.context.renderingService.dirtify()}).catch(function(){})}},{key:"render",value:function(t,i,r){var o=i.x,s=void 0===o?0:o,a=i.y,l=void 0===a?0:a,u=i.width,d=i.height,f=i.src,m=i.shadowColor,y=i.shadowBlur,b=this.imagePool.getImageSync(f,r),E=b?.img,w=u,M=d;if(E){w||(w=E.width),M||(M=E.height),MR(r,t,!Oi(m)&&y>0);try{var D=r.ownerDocument.defaultView.getContextService().getDomElement(),k=D.width,T=D.height,O=t.getTransform(),gt=function Jft(n,e){var t=Pa(Br(),[n[0],n[1],0],e),i=Pa(Br(),[n[0]+n[2],n[1],0],e),r=Pa(Br(),[n[0],n[1]+n[3],0],e),o=Pa(Br(),[n[0]+n[2],n[1]+n[3],0],e);return[Math.min(t[0],i[0],r[0],o[0]),Math.min(t[1],i[1],r[1],o[1]),Math.max(t[0],i[0],r[0],o[0])-Math.min(t[0],i[0],r[0],o[0]),Math.max(t[1],i[1],r[1],o[1])-Math.min(t[1],i[1],r[1],o[1])]}([s,l,w,M],As(O.a,O.c,0,0,O.b,O.d,0,0,0,0,1,0,O.e,O.f,0,1)),Et=function qft(n,e){var t=Yi(n,4),i=t[0],r=t[1],o=t[2],s=t[3],a=Yi(e,4),l=a[0],u=a[1],d=a[2],f=a[3],m=Math.max(i,l),y=Math.max(r,u),b=Math.min(i+o,l+d),E=Math.min(r+s,u+f);return b<=m||E<=y?null:[m,y,b-m,E-y]}([0,0,k,T],gt);if(!Et)return;if(!r.ownerDocument.defaultView.getConfig().enableLargeImageOptimization)return void e.renderFull(t,i,r,{image:E,drawRect:[s,l,w,M]});if(gt[2]/b.size[0]<(b.downSamplingRate||.5))return void this.renderDownSampled(t,i,r,{src:f,imageCache:b,drawRect:[s,l,w,M]});if(!bR.isSupportTile)return void e.renderFull(t,i,r,{image:E,drawRect:[s,l,w,M]});this.renderTile(t,i,r,{src:f,imageCache:b,imageRect:gt,drawRect:Et})}catch{}}}},{key:"drawToContext",value:function(t,i,r,o,s){this.render(t,i.parsedStyle,i)}}],[{key:"renderFull",value:function(t,i,r,o){t.drawImage(o.image,Math.floor(o.drawRect[0]),Math.floor(o.drawRect[1]),Math.ceil(o.drawRect[2]),Math.ceil(o.drawRect[3]))}}])}(Eh),xK=function(n){function e(){return In(this,e),Kn(this,e,arguments)}return br(e,n),On(e,[{key:"render",value:function(t,i,r,o,s,a){r.getBounds();var l=i.lineWidth,u=void 0===l?1:l,d=i.textAlign,f=void 0===d?"start":d,m=i.textBaseline,y=void 0===m?"alphabetic":m,b=i.lineJoin,E=void 0===b?"miter":b,w=i.miterLimit,M=void 0===w?10:w,x=i.letterSpacing,D=void 0===x?0:x,k=i.stroke,T=i.fill,O=i.fillRule,R=i.fillOpacity,L=void 0===R?1:R,F=i.strokeOpacity,U=void 0===F?1:F,$=i.opacity,X=void 0===$?1:$,q=i.metrics,gt=i.x,Et=void 0===gt?0:gt,at=i.y,Q=void 0===at?0:at,et=i.dx,St=i.dy,Yt=i.shadowColor,He=i.shadowBlur,un=q.lines,_n=q.height,Wn=q.lineHeight,Ln=q.lineMetrics;t.font=q.font,t.lineWidth=u,t.textAlign="middle"===f?"center":f;var yi=y;"alphabetic"===yi&&(yi="bottom"),t.lineJoin=E,Oi(M)||(t.miterLimit=M);var Or=Q;"middle"===y?Or+=-_n/2-Wn/2:"bottom"===y||"alphabetic"===y||"ideographic"===y?Or+=-_n:("top"===y||"hanging"===y)&&(Or+=-Wn);var co=Et+(et||0);Or+=St||0,1===un.length&&("bottom"===yi?(yi="middle",Or-=.5*_n):"top"===yi&&(yi="middle",Or+=.5*_n)),t.textBaseline=yi,MR(r,t,!Oi(Yt)&&He>0);for(var Vs=0;Vs<un.length;Vs++){var ju=u/2+co;Or+=Wn,!Oi(k)&&!k.isNone&&u&&this.drawLetterSpacing(t,r,un[Vs],Ln[Vs],f,ju,Or,D,T,O,L,k,U,X,!0,o,s,a),Oi(T)||this.drawLetterSpacing(t,r,un[Vs],Ln[Vs],f,ju,Or,D,T,O,L,k,U,X,!1,o,s,a)}}},{key:"drawLetterSpacing",value:function(t,i,r,o,s,a,l,u,d,f,m,y,b,E,w,M,x,D){if(0!==u){var k=t.textAlign;t.textAlign="left";var T=a;"center"===s||"middle"===s?T=a-o.width/2:("right"===s||"end"===s)&&(T=a-o.width);for(var O=Array.from(r),R=t.measureText(r).width,L=0,F=0;F<O.length;++F){var U=O[F];w?this.strokeText(t,i,U,T,l,y,b,M,x,D):this.fillText(t,i,U,T,l,d,f,m,E,M,x,D),T+=R-(L=t.measureText(r.substring(F+1)).width)+u,R=L}t.textAlign=k}else w?this.strokeText(t,i,r,a,l,y,b,M,x,D):this.fillText(t,i,r,a,l,d,f,m,E,M,x,D)}},{key:"fillText",value:function(t,i,r,o,s,a,l,u,d,f,m,y){EK(t,i,a,l,f,m,y,this.imagePool,!0);var b,E=!Oi(u)&&1!==u;E&&(b=t.globalAlpha,t.globalAlpha=u*d),t.fillText(r,o,s),E&&(t.globalAlpha=b)}},{key:"strokeText",value:function(t,i,r,o,s,a,l,u,d,f){M9(t,i,a,u,d,f,this.imagePool,!0);var m,y=!Oi(l)&&1!==l;y&&(m=t.globalAlpha,t.globalAlpha=l),t.strokeText(r,o,s),y&&(t.globalAlpha=m)}},{key:"drawToContext",value:function(t,i,r,o,s){this.render(t,i.parsedStyle,i,i.ownerDocument.defaultView.context,o,s)}}])}(Eh),MK=function(n){function e(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return In(this,e),(t=Kn(this,e)).name="canvas-renderer",t.options=i,t}return br(e,n),On(e,[{key:"init",value:function(){var t,i=xr({dirtyObjectNumThreshold:500,dirtyObjectRatioThreshold:.8},this.options),r=this.context.imagePool,o=new Eh(r),s=(Vn(Vn(Vn(Vn(Vn(Vn(Vn(Vn(Vn(Vn(t={},Je.CIRCLE,o),Je.ELLIPSE,o),Je.RECT,o),Je.IMAGE,new wK(r)),Je.TEXT,new xK(r)),Je.LINE,o),Je.POLYLINE,o),Je.POLYGON,o),Je.PATH,o),Je.GROUP,void 0),Vn(Vn(Vn(t,Je.HTML,void 0),Je.MESH,void 0),Je.FRAGMENT,void 0));this.context.defaultStyleRendererFactory=s,this.context.styleRendererFactory=s,this.addRenderingPlugin(new yK(i))}},{key:"destroy",value:function(){this.removeAllRenderingPlugins(),delete this.context.defaultStyleRendererFactory,delete this.context.styleRendererFactory}}])}(Du);const tpt=Object.freeze(Object.defineProperty({__proto__:null,CircleRenderer:Eh,DefaultRenderer:Eh,EllipseRenderer:Eh,ImageRenderer:wK,LineRenderer:Eh,PathRenderer:Eh,Plugin:MK,PolygonRenderer:Eh,PolylineRenderer:Eh,RectRenderer:Eh,TextRenderer:xK},Symbol.toStringTag,{value:"Module"}));var CK=function(){function n(){In(this,n)}return On(n,[{key:"apply",value:function(e,t){var i=this,r=e.renderingService,o=e.renderingContext,s=e.config;this.context=e;var a=o.root.ownerDocument.defaultView,l=function(O){r.hooks.pointerMove.call(O)},u=function(O){r.hooks.pointerUp.call(O)},d=function(O){r.hooks.pointerDown.call(O)},f=function(O){r.hooks.pointerOver.call(O)},m=function(O){r.hooks.pointerOut.call(O)},y=function(O){r.hooks.pointerCancel.call(O)},b=function(O){r.hooks.pointerWheel.call(O)},E=function(O){r.hooks.click.call(O)};r.hooks.init.tap(n.tag,function(){var O=i.context.contextService.getDomElement();t.globalThis.navigator.msPointerEnabled?(O.style.msContentZooming="none",O.style.msTouchAction="none"):a.supportsPointerEvents&&(O.style.touchAction="none"),a.supportsPointerEvents?function(O){t.globalThis.document.addEventListener("pointermove",l,!0),O.addEventListener("pointerdown",d,!0),O.addEventListener("pointerleave",m,!0),O.addEventListener("pointerover",f,!0),t.globalThis.addEventListener("pointerup",u,!0),t.globalThis.addEventListener("pointercancel",y,!0)}(O):function(O){t.globalThis.document.addEventListener("mousemove",l,!0),O.addEventListener("mousedown",d,!0),O.addEventListener("mouseout",m,!0),O.addEventListener("mouseover",f,!0),t.globalThis.addEventListener("mouseup",u,!0)}(O),a.supportsTouchEvents&&function(O){O.addEventListener("touchstart",d,!0),O.addEventListener("touchend",u,!0),O.addEventListener("touchmove",l,!0),O.addEventListener("touchcancel",y,!0)}(O),s.useNativeClickEvent&&O.addEventListener("click",E,!0),O.addEventListener("wheel",b,{passive:!0,capture:!0})}),r.hooks.destroy.tap(n.tag,function(){var O=i.context.contextService.getDomElement();t.globalThis.navigator.msPointerEnabled?(O.style.msContentZooming="",O.style.msTouchAction=""):a.supportsPointerEvents&&(O.style.touchAction=""),a.supportsPointerEvents?function(O){t.globalThis.document.removeEventListener("pointermove",l,!0),O.removeEventListener("pointerdown",d,!0),O.removeEventListener("pointerleave",m,!0),O.removeEventListener("pointerover",f,!0),t.globalThis.removeEventListener("pointerup",u,!0),t.globalThis.removeEventListener("pointercancel",y,!0)}(O):function(O){t.globalThis.document.removeEventListener("mousemove",l,!0),O.removeEventListener("mousedown",d,!0),O.removeEventListener("mouseout",m,!0),O.removeEventListener("mouseover",f,!0),t.globalThis.removeEventListener("mouseup",u,!0)}(O),a.supportsTouchEvents&&function(O){O.removeEventListener("touchstart",d,!0),O.removeEventListener("touchend",u,!0),O.removeEventListener("touchmove",l,!0),O.removeEventListener("touchcancel",y,!0)}(O),s.useNativeClickEvent&&O.removeEventListener("click",E,!0),O.removeEventListener("wheel",b,!0)})}}])}();CK.tag="DOMInteraction";var C9=function(n){function e(){var t;In(this,e);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=Kn(this,e,[].concat(r))).name="dom-interaction",t}return br(e,n),On(e,[{key:"init",value:function(){this.addRenderingPlugin(new CK)}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}}])}(Du);const ept=Object.freeze(Object.defineProperty({__proto__:null,Plugin:C9},Symbol.toStringTag,{value:"Module"}));var SK=function(){function n(){In(this,n),this.displayObjectHTMLElementMap=new WeakMap}return On(n,[{key:"joinTransformMatrix",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0];return"matrix(".concat([e[0],e[1],e[4],e[5],e[12]+t[0],e[13]+t[1]].join(","),")")}},{key:"apply",value:function(e,t){var i=this,r=e.camera,o=e.renderingContext,s=e.renderingService;this.context=e;var a=o.root.ownerDocument.defaultView,l=a.context.eventService.nativeHTMLMap,u=function(E,w){w.style.transform=i.joinTransformMatrix(E.getWorldTransform(),E.getOrigin())},d=function(E){var w=E.target;if(w.nodeName===Je.HTML){i.$camera||(i.$camera=i.createCamera(r));var M=i.getOrCreateEl(w);i.$camera.appendChild(M),Object.keys(w.attributes).forEach(function(x){i.updateAttribute(x,w)}),u(w,M),l.set(M,w)}},f=function(E){var w=E.target;if(w.nodeName===Je.HTML&&i.$camera){var M=i.getOrCreateEl(w);M&&(M.remove(),l.delete(M))}},m=function(E){var w=E.target;w.nodeName===Je.HTML&&i.updateAttribute(E.attrName,w)},y=function(E){var w=E.target;(w.nodeName===Je.FRAGMENT?w.childNodes:[w]).forEach(function(x){if(x.nodeName===Je.HTML){var D=i.getOrCreateEl(x);u(x,D)}})},b=function(){if(i.$camera){var E=i.context.config,M=E.height;i.$camera.parentElement.style.width="".concat(E.width||0,"px"),i.$camera.parentElement.style.height="".concat(M||0,"px")}};s.hooks.init.tap(n.tag,function(){a.addEventListener(M_.RESIZE,b),a.addEventListener(cr.MOUNTED,d),a.addEventListener(cr.UNMOUNTED,f),a.addEventListener(cr.ATTR_MODIFIED,m),a.addEventListener(cr.BOUNDS_CHANGED,y)}),s.hooks.endFrame.tap(n.tag,function(){i.$camera&&o.renderReasons.has(v9.CAMERA_CHANGED)&&(i.$camera.style.transform=i.joinTransformMatrix(r.getOrthoMatrix()))}),s.hooks.destroy.tap(n.tag,function(){i.$camera&&i.$camera.remove(),a.removeEventListener(M_.RESIZE,b),a.removeEventListener(cr.MOUNTED,d),a.removeEventListener(cr.UNMOUNTED,f),a.removeEventListener(cr.ATTR_MODIFIED,m),a.removeEventListener(cr.BOUNDS_CHANGED,y)})}},{key:"createCamera",value:function(e){var t=this.context.config,i=t.document,r=t.width,o=t.height,s=this.context.contextService.getDomElement(),a=s.parentNode;if(a){var l="g-canvas-camera",u=a.querySelector("#".concat(l));if(!u){var d=(i||document).createElement("div");d.style.overflow="hidden",d.style.pointerEvents="none",d.style.position="absolute",d.style.left="0px",d.style.top="0px",d.style.width="".concat(r||0,"px"),d.style.height="".concat(o||0,"px");var f=(i||document).createElement("div");u=f,f.id=l,f.style.position="absolute",f.style.left="".concat(s.offsetLeft||0,"px"),f.style.top="".concat(s.offsetTop||0,"px"),f.style.transformOrigin="left top",f.style.transform=this.joinTransformMatrix(e.getOrthoMatrix()),f.style.pointerEvents="none",f.style.width="100%",f.style.height="100%",d.appendChild(f),a.appendChild(d)}return u}return null}},{key:"getOrCreateEl",value:function(e){var t=this.context.config.document,i=this.displayObjectHTMLElementMap.get(e);return i||(i=(t||document).createElement("div"),e.parsedStyle.$el=i,this.displayObjectHTMLElementMap.set(e,i),e.id&&(i.id=e.id),e.name&&i.setAttribute("name",e.name),e.className&&(i.className=e.className),i.style.position="absolute",i.style["will-change"]="transform",i.style.transform=this.joinTransformMatrix(e.getWorldTransform(),e.getOrigin())),i}},{key:"updateAttribute",value:function(e,t){var i=this.getOrCreateEl(t);switch(e){case"innerHTML":var r=t.parsedStyle.innerHTML;Ki(r)?i.innerHTML=r:(i.innerHTML="",i.appendChild(r));break;case"x":i.style.left="".concat(t.parsedStyle.x,"px");break;case"y":i.style.top="".concat(t.parsedStyle.y,"px");break;case"transformOrigin":var o=t.parsedStyle.transformOrigin;i.style["transform-origin"]="".concat(o[0].buildCSSText(null,null,"")," ").concat(o[1].buildCSSText(null,null,""));break;case"width":var s=t.parsedStyle.width;i.style.width=oi(s)?"".concat(s,"px"):s.toString();break;case"height":var a=t.parsedStyle.height;i.style.height=oi(a)?"".concat(a,"px"):a.toString();break;case"zIndex":i.style["z-index"]="".concat(t.parsedStyle.zIndex);break;case"visibility":i.style.visibility=t.parsedStyle.visibility;break;case"pointerEvents":var d=t.parsedStyle.pointerEvents;i.style.pointerEvents=void 0===d?"auto":d;break;case"opacity":i.style.opacity="".concat(t.parsedStyle.opacity);break;case"fill":var y=t.parsedStyle.fill,b="";N2(y)?b=y.isNone?"transparent":t.getAttribute("fill"):Array.isArray(y)?b=t.getAttribute("fill"):Tf(y),i.style.background=b;break;case"stroke":var E=t.parsedStyle.stroke,w="";N2(E)?w=E.isNone?"transparent":t.getAttribute("stroke"):Array.isArray(E)?w=t.getAttribute("stroke"):Tf(E),i.style["border-color"]=w,i.style["border-style"]="solid";break;case"lineWidth":i.style["border-width"]="".concat(t.parsedStyle.lineWidth||0,"px");break;case"lineDash":i.style["border-style"]="dashed";break;case"filter":i.style.filter=t.style.filter;break;default:!Oi(t.style[e])&&""!==t.style[e]&&(i.style[e]=t.style[e])}}}])}();SK.tag="HTMLRendering";var DK=function(n){function e(){var t;In(this,e);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=Kn(this,e,[].concat(r))).name="html-renderer",t}return br(e,n),On(e,[{key:"init",value:function(){this.addRenderingPlugin(new SK)}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}}])}(Du);const ipt=Object.freeze(Object.defineProperty({__proto__:null,Plugin:DK},Symbol.toStringTag,{value:"Module"}));var rpt=function(){return On(function n(e){In(this,n),this.renderingContext=e.renderingContext,this.canvasConfig=e.config},[{key:"init",value:function(){var e=this.canvasConfig,t=e.container,i=e.canvas;if(i)this.$canvas=i,t&&i.parentElement!==t&&t.appendChild(i),this.$container=i.parentElement,this.canvasConfig.container=this.$container;else if(t&&(this.$container=Ki(t)?document.getElementById(t):t,this.$container)){var r=document.createElement("canvas");this.$container.appendChild(r),this.$container.style.position||(this.$container.style.position="relative"),this.$canvas=r}this.context=this.$canvas.getContext("2d"),this.resize(this.canvasConfig.width,this.canvasConfig.height)}},{key:"getContext",value:function(){return this.context}},{key:"getDomElement",value:function(){return this.$canvas}},{key:"getDPR",value:function(){return this.dpr}},{key:"getBoundingClientRect",value:function(){if(this.$canvas.getBoundingClientRect)return this.$canvas.getBoundingClientRect()}},{key:"destroy",value:function(){this.$container&&this.$canvas&&this.$canvas.parentNode&&this.$container.removeChild(this.$canvas)}},{key:"resize",value:function(e,t){var r=this.canvasConfig.devicePixelRatio||w_&&window.devicePixelRatio||1;r=r>=1?Math.ceil(r):1,this.dpr=r,this.$canvas&&(this.$canvas.width=this.dpr*e,this.$canvas.height=this.dpr*t,function Gdt(n,e,t){w_&&n.style&&(n.style.width=e+"px",n.style.height=t+"px")}(this.$canvas,e,t)),this.renderingContext.renderReasons.add(v9.CAMERA_CHANGED)}},{key:"applyCursorStyle",value:function(e){this.$container&&this.$container.style&&(this.$container.style.cursor=e)}},{key:"toDataURL",value:(e=ql(rl().mark(function i(){var r,a=arguments;return rl().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",this.context.canvas.toDataURL((r=a.length>0&&void 0!==a[0]?a[0]:{}).type,r.encoderOptions));case 3:case"end":return l.stop()}},i,this)})),function t(){return e.apply(this,arguments)})}]);var e}(),opt=function(n){function e(){var t;In(this,e);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=Kn(this,e,[].concat(r))).name="canvas-context-register",t}return br(e,n),On(e,[{key:"init",value:function(){this.context.ContextService=rpt}},{key:"destroy",value:function(){delete this.context.ContextService}}])}(Du),z2=function(n){function e(t){var i;return In(this,e),(i=Kn(this,e,[t])).registerPlugin(new opt),i.registerPlugin(new vK),i.registerPlugin(new cK),i.registerPlugin(new MK),i.registerPlugin(new C9),i.registerPlugin(new pK),i.registerPlugin(new DK),i}return br(e,n),On(e)}(lR);const spt=Object.freeze(Object.defineProperty({__proto__:null,CanvasPathGenerator:Tft,CanvasPicker:Kft,CanvasRenderer:tpt,DomInteraction:ept,HTMLRenderer:ipt,ImageLoader:Zft,Renderer:z2},Symbol.toStringTag,{value:"Module"}));let lpt=(()=>{class n extends Df{constructor(t){super(Object.assign(Object.assign({},t),{style:Object.assign({},n.defaultStyleProps,t.style)})),this.rootPointerEvent=new pi.FederatedPointerEvent(null),this.forwardEvents=i=>{const r=this.context.canvas,o=r.context.renderingContext.root.ownerDocument.defaultView;this.normalizeToPointerEvent(i,o).forEach(s=>{const a=this.bootstrapEvent(this.rootPointerEvent,s,o,i);th(r.context.eventService,"mappingTable.pointerupoutside",[]),r.context.eventService.mapEvent(a)})}}get eventService(){return this.context.canvas.context.eventService}get events(){return[gn.CLICK,gn.POINTER_DOWN,gn.POINTER_MOVE,gn.POINTER_UP,gn.POINTER_OVER,gn.POINTER_LEAVE]}getDomElement(){return this.getShape("key").getDomElement()}getKeyStyle(t){const i=af(t,["dx","dy","innerHTML","pointerEvents","cursor"]),{dx:r=0,dy:o=0}=i,s=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t}(i,["dx","dy"]),[a,l]=this.getSize(t);return Object.assign(Object.assign({x:r,y:o},s),{width:a,height:l})}drawKeyShape(t,i){const r=this.getKeyStyle(t),{x:o,y:s,width:a=0,height:l=0}=r,u=this.upsert("key-container",pi.Rect,{x:o,y:s,width:a,height:l,opacity:0},i);return this.upsert("key",pi.HTML,r,u)}connectedCallback(){if(!(this.context.canvas.getRenderer("main")instanceof z2))return;const t=this.getDomElement();this.events.forEach(i=>{t.addEventListener(i,this.forwardEvents)})}attributeChangedCallback(t,i,r){"zIndex"===t&&i!==r&&(this.getDomElement().style.zIndex=r)}destroy(){const t=this.getDomElement();this.events.forEach(i=>{t.removeEventListener(i,this.forwardEvents)}),super.destroy()}normalizeToPointerEvent(t,i){const r=[];if(i.isTouchEvent(t))for(let o=0;o<t.changedTouches.length;o++){const s=t.changedTouches[o];_i(s.button)&&(s.button=0),_i(s.buttons)&&(s.buttons=1),_i(s.isPrimary)&&(s.isPrimary=1===t.touches.length&&"touchstart"===t.type),_i(s.width)&&(s.width=s.radiusX||1),_i(s.height)&&(s.height=s.radiusY||1),_i(s.tiltX)&&(s.tiltX=0),_i(s.tiltY)&&(s.tiltY=0),_i(s.pointerType)&&(s.pointerType="touch"),_i(s.pointerId)&&(s.pointerId=s.identifier||0),_i(s.pressure)&&(s.pressure=s.force||.5),_i(s.twist)&&(s.twist=0),_i(s.tangentialPressure)&&(s.tangentialPressure=0),s.isNormalized=!0,s.type=t.type,r.push(s)}else if(i.isMouseEvent(t)){const o=t;_i(o.isPrimary)&&(o.isPrimary=!0),_i(o.width)&&(o.width=1),_i(o.height)&&(o.height=1),_i(o.tiltX)&&(o.tiltX=0),_i(o.tiltY)&&(o.tiltY=0),_i(o.pointerType)&&(o.pointerType="mouse"),_i(o.pointerId)&&(o.pointerId=1),_i(o.pressure)&&(o.pressure=.5),_i(o.twist)&&(o.twist=0),_i(o.tangentialPressure)&&(o.tangentialPressure=0),o.isNormalized=!0,r.push(o)}else r.push(t);return r}transferMouseData(t,i){t.isTrusted=i.isTrusted,t.srcElement=i.srcElement,t.timeStamp=performance.now(),t.type=i.type,t.altKey=i.altKey,t.metaKey=i.metaKey,t.shiftKey=i.shiftKey,t.ctrlKey=i.ctrlKey,t.button=i.button,t.buttons=i.buttons,t.client.x=i.clientX,t.client.y=i.clientY,t.movement.x=i.movementX,t.movement.y=i.movementY,t.page.x=i.pageX,t.page.y=i.pageY,t.screen.x=i.screenX,t.screen.y=i.screenY,t.relatedTarget=null}bootstrapEvent(t,i,r,o){t.view=r,t.originalEvent=null,t.nativeEvent=o,t.pointerId=i.pointerId,t.width=i.width,t.height=i.height,t.isPrimary=i.isPrimary,t.pointerType=i.pointerType,t.pressure=i.pressure,t.tangentialPressure=i.tangentialPressure,t.tiltX=i.tiltX,t.tiltY=i.tiltY,t.twist=i.twist,this.transferMouseData(t,i);const{x:s,y:a}=this.getViewportXY(i);t.viewport.x=s,t.viewport.y=a;const[l,u]=this.context.canvas.getCanvasByViewport([s,a]);return t.canvas.x=l,t.canvas.y=u,t.global.copyFrom(t.canvas),t.offset.copyFrom(t.canvas),t.isTrusted=o.isTrusted,"pointerleave"===t.type&&(t.type="pointerout"),t}getViewportXY(t){let i,r;const{offsetX:o,offsetY:s,clientX:a,clientY:l}=t;if(!this.context.canvas.context.config.supportsCSSTransform||Oi(o)||Oi(s)){const u=this.eventService.client2Viewport({x:a,y:l});i=u.x,r=u.y}else i=o,r=s;return{x:i,y:r}}onframe(){super.onframe();const{opacity:t}=this.attributes;this.getDomElement().style.opacity=`${t}`}}return n.defaultStyleProps={size:[160,80],halo:!1,icon:!1,label:!1,pointerEvents:"auto"},n})();var TK=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t};let cpt=(()=>{let n=class cut extends Df{constructor(t){super(aa({style:cut.defaultStyleProps},t))}getKeyStyle(t){const[i,r]=this.getSize(t),o=super.getKeyStyle(t),{fillOpacity:s,opacity:a=s}=o,l=TK(o,["fillOpacity","opacity"]);return Object.assign(Object.assign({opacity:a},l),{width:i,height:r,x:-i/2,y:-r/2})}getHaloStyle(t){if(!1===t.halo)return!1;const i=this.getShape("key").attributes;TK(i,["fill","stroke"]);const r=qr(this.getGraphicStyle(t),"halo"),o=Number(r.lineWidth),[s,a]=ir(this.getSize(t),[o,o]);return Object.assign(Object.assign({},r),{width:s,height:a,fill:"transparent",x:-s/2,y:-a/2})}getIconStyle(t){const i=super.getIconStyle(t),[r,o]=this.getSize(t);return!!i&&Object.assign({width:r*hd,height:o*hd},i)}drawKeyShape(t,i){const r=this.upsert("key",sR,this.getKeyStyle(t),i);return aR(this),r}drawHaloShape(t,i){this.upsert("halo",pi.Rect,this.getHaloStyle(t),i)}update(t){super.update(t),t&&("x"in t||"y"in t||"z"in t)&&h3(this)}};return n.defaultStyleProps={size:32},n})(),hpt=(()=>{class n extends p3{constructor(t){super(aa({style:n.defaultStyleProps},t))}getPoints(t){const{direction:i}=t,[r,o]=this.getSize(t);return function qpt(n,e,t){const i=e/2,r=n/2,o={up:[[-r,i],[r,i],[0,-i]],left:[[-r,0],[r,i],[r,-i]],right:[[-r,i],[-r,-i],[r,0]],down:[[-r,-i],[r,-i],[0,i]]};return o[t]||o.up}(r,o,i)}getPortXY(t,i){const{direction:r}=t,{placement:o="top"}=i,s=this.getShape("key").getLocalBounds(),[a,l]=this.getSize(t),u=function Jpt(n,e,t){const i=e/2,r=n/2,o={};return"down"===t?(o.bottom=o.default=[0,i],o.right=[r,-i],o.left=[-r,-i]):"left"===t?(o.top=[r,-i],o.bottom=[r,i],o.left=o.default=[-r,0]):"right"===t?(o.top=[-r,-i],o.bottom=[-r,i],o.right=o.default=[r,0]):(o.left=[-r,i],o.top=o.default=[0,-i],o.right=[r,i]),o}(a,l,r);return R9(s,o,u,!1)}getIconStyle(t){const{icon:i,iconText:r,iconSrc:o,direction:s}=t;if(!1===i||dp(r||o))return!1;const a=qr(this.getGraphicStyle(t),"icon"),l=this.getShape("key").getLocalBounds(),[u,d]=function _8(n,e){const{center:t}=n,[i,r]=Ef(n);return["up"===e||"down"===e?t[0]:"right"===e?t[0]-i/6:t[0]+i/6,"left"===e||"right"===e?t[1]:"down"===e?t[1]-r/6:t[1]+r/6]}(l,s),f=2*function W$(n,e){let[t,i]=Ef(n);return[t,i]="up"===e||"down"===e?[t,i]:[i,t],(Math.pow(i,2)-Math.pow(Math.sqrt(Math.pow(t/2,2)+Math.pow(i,2))-t/2,2))/(2*i)}(l,s)*hd;return Object.assign({x:u,y:d,width:f,height:f},a)}}return n.defaultStyleProps={size:40,direction:"up"},n})();var AK=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t};let S9=(()=>{class n extends Df{constructor(t){super(aa({style:n.defaultStyleProps},t)),this.type="combo",this.updateComboPosition(this.parsedAttributes)}getKeySize(t){const{collapsed:i,childrenNode:r=[]}=t;return 0===r.length?this.getEmptyKeySize(t):i?this.getCollapsedKeySize(t):this.getExpandedKeySize(t)}getEmptyKeySize(t){const{padding:i,collapsedSize:r}=t,[o,s,a,l]=dh(i);return ir(Hc(r),[l+s,o+a,0])}getCollapsedKeySize(t){return Hc(t.collapsedSize)}getExpandedKeySize(t){const i=this.getContentBBox(t);return[hh(i),dd(i),0]}getContentBBox(t){const{context:i,childrenNode:r=[],padding:o}=t,s=r.map(l=>i.element.getElement(l)).filter(Boolean);if(0===s.length){const l=new pi.AABB,{x:u=0,y:d=0,size:f}=t,[m,y]=Hc(f);return l.setMinMax([u-m/2,d-y/2,0],[u+m/2,d+y/2,0]),l}const a=C2(s.map(l=>l.getBounds()));return o?wf(a,o):a}drawCollapsedMarkerShape(t,i){const r=this.getCollapsedMarkerStyle(t);Gc(this,"collapsedMarker",r)&&(this.upsert("collapsed-marker",H8,r,i),aR(this))}getCollapsedMarkerStyle(t){if(!t.collapsed||!t.collapsedMarker)return!1;const i=qr(this.getGraphicStyle(t),"collapsedMarker"),{type:r}=i,o=AK(i,["type"]),s=this.getShape("key"),[a,l]=Cf(s.getLocalBounds(),"center"),u=Object.assign(Object.assign({},o),{x:a,y:l});if(r){const d=this.getCollapsedMarkerText(r,t);Object.assign(u,{text:d})}return u}getCollapsedMarkerText(t,i){const{context:r,childrenData:o=[]}=i,{model:s}=r;return"descendant-count"===t?s.getDescendantsData(this.id).length.toString():"child-count"===t?o.length.toString():"node-count"===t?s.getDescendantsData(this.id).filter(a=>"node"===s.getElementType(We(a))).length.toString():ii(t)?t(o):""}getComboZIndex(t){return(this.context.model.getAncestorsData(this.id,So)||[]).length}getComboPosition(t){const{x:i=0,y:r=0,collapsed:o,context:s,childrenData:a=[]}=t;if(0===a.length)return[+i,+r,0];if(o){const{model:l}=s,u=l.getDescendantsData(this.id).filter(d=>!l.isCombo(We(d)));return u.length>0&&u.some(nW)?Uc(u.reduce((f,m)=>ir(f,sa(m)),[0,0,0]),u.length):[+i,+r,0]}return this.getContentBBox(t).center}getComboStyle(t){const{zIndex:i=this.getComboZIndex(t)}=t,[r,o]=this.getComboPosition(t);return{x:r,y:o,transform:[["translate",r,o]],zIndex:i}}updateComboPosition(t){const i=this.getComboStyle(t);Object.assign(this.style,i);const{x:r,y:o}=i;this.context.model.syncComboDatum({id:this.id,style:{x:r,y:o}}),h3(this)}render(t,i=this){super.render(t,i),this.drawCollapsedMarkerShape(t,i)}update(t={}){super.update(t),this.updateComboPosition(this.parsedAttributes)}onframe(){super.onframe(),this.attributes.collapsed||this.updateComboPosition(this.parsedAttributes),this.drawKeyShape(this.parsedAttributes,this)}animate(t,i){const r=super.animate(this.attributes.collapsed?t:t.map(o=>AK(o,["x","y","z","transform"])),i);return r&&new Proxy(r,{set:(o,s,a)=>("currentTime"===s&&Promise.resolve().then(()=>this.onframe()),Reflect.set(o,s,a))})}}return n.defaultStyleProps={childrenNode:[],droppable:!0,draggable:!0,collapsed:!1,collapsedSize:32,collapsedMarker:!0,collapsedMarkerZIndex:1,collapsedMarkerFontSize:12,collapsedMarkerTextAlign:"center",collapsedMarkerTextBaseline:"middle",collapsedMarkerType:"child-count"},n})();class OK extends S9{constructor(e){super(e)}drawKeyShape(e,t){return this.upsert("key",pi.Circle,this.getKeyStyle(e),t)}getKeyStyle(e){const{collapsed:t}=e,i=super.getKeyStyle(e),[r]=this.getKeySize(e);return Object.assign(Object.assign(Object.assign({},i),t&&qr(i,"collapsed")),{r:r/2})}getCollapsedKeySize(e){const[t,i]=Hc(e.collapsedSize),r=Math.max(t,i)/2;return[2*r,2*r,0]}getExpandedKeySize(e){const t=this.getContentBBox(e),[i,r]=Ef(t),o=Math.sqrt(Math.pow(i,2)+Math.pow(r,2))/2;return[2*o,2*o,0]}getIntersectPoint(e,t=!1){return Xp(e,this.getShape("key").getBounds(),t)}}const ppt={padding:10};function kK(n,e,t,i,r,o){const{padding:s}=Object.assign(ppt,o),a=fh(t,s),l=fh(i,s),u=[n,...r,e];let d=null;const f=[];for(let m=0,y=u.length;m<y-1;m++){const b=m+1,E=u[m],w=u[b],M=zI(E,w);let x=null;if(0===m)if(b===y-1)if(a.intersects(l))x=T9(E,w,a,l);else if(S2(E,a)||S2(w,l))M||(x=gpt(E,w,a,l));else{const D=xf(E,a),k=xf(w,l);x=RK(D,k,Xc(D,k)),x.points.unshift(D),x.points.push(k)}else Al(w,a)?x=T9(E,w,a,fh(w,s),d):M||(x=CR(E,w,a));else b===y-1?Al(E,l)?x=T9(E,w,fh(E,s),l,d):M||(x=PK(E,w,l,d)):M||(x=RK(E,w,d));x?(f.push(...x.points),d=x.direction):d=Xc(E,w),b<y-1&&f.push(w)}return f.map(Fm)}const mpt={N:"S",S:"N",W:"E",E:"W"},IK={N:-Math.PI/2,S:Math.PI/2,E:0,W:Math.PI};function Xc(n,e){const[t,i]=n,[r,o]=e;return t===r?i>o?"N":"S":i===o?t>r?"W":"E":null}function D9(n,e){return"N"===e||"S"===e?dd(n):hh(n)}function RK(n,e,t){const i=[n[0],e[1]],r=[e[0],n[1]],o=Xc(n,i),s=Xc(n,r),l=o===t||o!==(t?mpt[t]:null)&&s!==t?i:r;return{points:[l],direction:Xc(l,e)}}function CR(n,e,t){if(S2(n,t)){const i=x3(n,e,t);return{points:[i],direction:Xc(i,e)}}{const i=xf(n,t),r=["left","right"].includes(zc(n,t))?[e[0],i[1]]:[i[0],e[1]];return{points:[r],direction:Xc(r,e)}}}function PK(n,e,t,i){const r=S2(e,t)?e:xf(e,t),o=[[r[0],n[1]],[n[0],r[1]]],s=o.filter(l=>function b8(n,e){return!Al(n,e)}(l,t)&&!jC(l,t,!0)),a=s.filter(l=>Xc(l,n)!==i);if(a.length>0){const l=a.find(u=>Xc(n,u)===i)||a[0];return{points:[l],direction:Xc(l,e)}}{const u=vh(e,W5(o,s)[0],D9(t,i)/2);return{points:[x3(u,n,t),u],direction:Xc(u,e)}}}function gpt(n,e,t,i){let r=CR(n,e,t);const o=h_(r.points[0]);if(Al(o,i)){r=CR(e,n,i);const s=h_(r.points[0]);if(Al(s,t)){const a=vh(n,o,D9(t,Xc(n,o))/2),l=vh(e,s,D9(i,Xc(e,s))/2),u=[(a[0]+l[0])/2,(a[1]+l[1])/2],d=CR(n,u,t),f=PK(u,e,i,d.direction);r.points=[d.points[0],f.points[0]],r.direction=f.direction}}return r}function T9(n,e,t,i,r){const o=C2([t,i]),s=To(e,o.center)>To(n,o.center),[a,l]=s?[e,n]:[n,e],u=dd(o)+hh(o);let d;if(r){const y=[a[0]+u*Math.cos(IK[r]),a[1]+u*Math.sin(IK[r])];d=vh(xf(y,o),y,.01)}else d=vh(xf(a,o),a,-.01);let f=x3(d,l,o),m=[T2(d,2),T2(f,2)];if(Xo(T2(d),T2(f))){const y=jI(Do(d,a),[1,0,0])+Math.PI/2;f=[l[0]+u*Math.cos(y),l[1]+u*Math.sin(y),0],f=T2(vh(xf(f,o),l,-.01),2),m=[d,x3(d,f,o),f]}return{points:s?m.reverse():m,direction:Xc(s?d:f,e)}}function x3(n,e,t){let i=[n[0],e[1]];return Al(i,t)&&(i=[e[0],n[1]]),i}function NK(n,e,t,i,r){let o="number"==typeof e?e:.5;"start"===e&&(o=0),"end"===e&&(o=.99);const s=Ua(n.getPoint(o)),a=Ua(n.getPoint(o+.01));let l="start"===e?"left":"end"===e?"right":"center";if(t3(s,a)||!t){const[y,b]=LK(n,o,i,r);return{transform:[["translate",y,b]],textAlign:l}}let u=Math.atan2(a[1]-s[1],a[0]-s[0]);a[0]<s[0]&&(l="center"===l?l:"left"===l?"right":"left",i*=-1,u+=Math.PI);const[d,f]=LK(n,o,i,r,u);return{textAlign:l,transform:[["translate",d,f],["rotate",u/Math.PI*180]]}}function LK(n,e,t,i,r){const[o,s]=Ua(n.getPoint(e));let a=t,l=i;return r&&(a=t*Math.cos(r)-i*Math.sin(r),l=t*Math.sin(r)+i*Math.cos(r)),[o+a,s+l]}function A9(n,e,t,i){if(Xo(n,e))return n;const r=Do(e,n),o=[n[0]+t*r[0],n[1]+t*r[1]],s=gh(JC(r,!1));return o[0]+=i*s[0],o[1]+=i*s[1],o}function FK(n,e,t){return[["M",n[0],n[1]],["C",t[0][0],t[0][1],t[1][0],t[1][1],e[0],e[1]]]}function O9(n,e=0,t=!1){const i=n[0],r=n[n.length-1],o=n.slice(1,n.length-1),s=[["M",i[0],i[1]]];return o.forEach((a,l)=>{const u=o[l-1]||i,d=o[l+1]||r;if(!function I8(n,e,t){return Bm([n,e],[e,t])}(u,a,d)&&e){const[f,m]=function Ept(n,e,t,i){const r=d_(n,e),o=d_(t,e),s=Math.min(i,Math.min(r,o)/2);return[[e[0]-s/r*(e[0]-n[0]),e[1]-s/r*(e[1]-n[1])],[e[0]-s/o*(e[0]-t[0]),e[1]-s/o*(e[1]-t[1])]]}(u,a,d,e);s.push(["L",f[0],f[1]],["Q",a[0],a[1],m[0],m[1]],["L",m[0],m[1]])}else s.push(["L",a[0],a[1]])}),s.push(["L",r[0],r[1]]),t&&s.push(["Z"]),s}const wpt=n=>{const e=Math.PI/2,t=dd(n)/2,i=hh(n)/2,r=Math.atan2(t,i)/2,o=Math.atan2(i,t)/2;return{top:[-e-o,-e+o],"top-right":[-e+o,-r],"right-top":[-e+o,-r],right:[-r,r],"bottom-right":[r,e-o],"right-bottom":[r,e-o],bottom:[e-o,e+o],"bottom-left":[e+o,Math.PI-r],"left-bottom":[e+o,Math.PI-r],left:[Math.PI-r,Math.PI+r],"top-left":[Math.PI+r,-e-o],"left-top":[Math.PI+r,-e-o]}};function BK(n,e,t,i,r){const o=fh(n),s=n.getCenter();let a=i&&Km(i),l=r&&Km(r);if(!a||!l){const u=wpt(o),d=u[e][0],f=u[e][1],[m,y]=Ef(o),b=Math.max(m,y),E=ir(s,[b*Math.cos(d),b*Math.sin(d),0]),w=ir(s,[b*Math.cos(f),b*Math.sin(f),0]);a=N9(n,E),l=N9(n,w),t||([a,l]=[l,a])}return[a,l]}function k9(n,e){const t=new Set,i=new Set,r=new Set;return n.forEach(o=>{e(o).forEach(s=>{t.add(s),n.includes(s.source)&&n.includes(s.target)?i.add(s):r.add(s)})}),{edges:Array.from(t),internal:Array.from(i),external:Array.from(r)}}function jK(n,e){const t=[];let i=n;for(;i;){t.push(i);const r=e(We(i));if(!r)break;i=r}if(t.some(r=>{var o;return null===(o=r.style)||void 0===o?void 0:o.collapsed})){const r=t.reverse().findIndex(ac);return t[r]||t.at(-1)}return n}const VK=(n,e)=>[["M",-n/2,0],["L",n/2,-e/2],["L",n/2,e/2],["Z"]],Ppt=Object.freeze(Object.defineProperty({__proto__:null,circle:(n,e)=>{const t=Math.max(n,e)/2;return[["M",-n/2,0],["A",t,t,0,1,0,2*t-n/2,0],["A",t,t,0,1,0,-n/2,0],["Z"]]},diamond:(n,e)=>[["M",-n/2,0],["L",0,-e/2],["L",n/2,0],["L",0,e/2],["Z"]],rect:(n,e)=>[["M",-n/2,-e/2],["L",n/2,-e/2],["L",n/2,e/2],["L",-n/2,e/2],["Z"]],simple:(n,e)=>[["M",n/2,-e/2],["L",-n/2,0],["L",n/2,0],["L",-n/2,0],["L",n/2,e/2]],triangle:VK,triangleRect:(n,e)=>{const t=n/2,i=n/7,r=n-i;return[["M",-t,0],["L",0,-e/2],["L",0,e/2],["Z"],["M",r-t,-e/2],["L",r+i-t,-e/2],["L",r+i-t,e/2],["L",r-t,e/2],["Z"]]},vee:(n,e)=>[["M",-n/2,0],["L",n/2,-e/2],["L",4*n/5-n/2,0],["L",n/2,e/2],["Z"]]},Symbol.toStringTag,{value:"Module"}));var SR=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t};let M3=(()=>{class n extends G8{constructor(t){super(aa({style:n.defaultStyleProps},t)),this.type="edge"}get sourceNode(){const{context:t,sourceNode:i}=this.parsedAttributes;return t.element.getElement(i)}get targetNode(){const{context:t,targetNode:i}=this.parsedAttributes;return t.element.getElement(i)}getKeyStyle(t){const i=this.getGraphicStyle(t),{loop:r}=i,o=SR(i,["loop"]),{sourceNode:s,targetNode:a}=this,l=r&&function Wpt(n,e){return!(!n||!e)&&n===e}(s,a)?this.getLoopPath(t):this.getKeyPath(t);return Object.assign({d:l},s3(o,["halo","label","startArrow","endArrow"]))}getLoopPath(t){const{sourcePort:i,targetPort:r}=t,o=this.sourceNode,s=fh(o),a=Math.max(hh(s),dd(s)),{placement:l,clockwise:u,dist:d=a}=qr(this.getGraphicStyle(t),"loop");return function xpt(n,e,t,i,r,o){const s=n.getPorts()[r||o],a=n.getPorts()[o||r];let[l,u]=BK(n,e,t,s,a);const d=function Mpt(n,e,t,i){const r=n.getCenter();if(Xo(e,t)){const o=Do(e,r),s=[i*Math.sign(o[0])||i/2,i*Math.sign(o[1])||-i/2,0];return[ir(e,s),ir(t,ph(s,[1,-1,1]))]}return[vh(r,e,To(r,e)+i),vh(r,t,To(r,t)+i)]}(n,l,u,i);return s&&(l=S3(s,d[0])),a&&(u=S3(a,d[d.length-1])),FK(l,u,d)}(o,l,u,d,i,r)}getEndpoints(t,i=!0,r=[]){const{sourcePort:o,targetPort:s}=t,{sourceNode:a,targetNode:l}=this,[u,d]=function Xpt(n,e,t,i){return[ZK(n,e,t,i),ZK(e,n,i,t)]}(a,l,o,s);if(!i)return[u?Km(u):a.getCenter(),d?Km(d):l.getCenter()];const f="function"==typeof r?r():r;return[QK(u||a,f[0]||d||l),QK(d||l,f[f.length-1]||u||a)]}getHaloStyle(t){if(!1===t.halo)return!1;const i=this.getKeyStyle(t),r=qr(this.getGraphicStyle(t),"halo");return Object.assign(Object.assign({},i),r)}getLabelStyle(t){if(!1===t.label||!t.labelText)return!1;const i=qr(this.getGraphicStyle(t),"label"),{placement:r,offsetX:o,offsetY:s,autoRotate:a,maxWidth:l}=i,u=SR(i,["placement","offsetX","offsetY","autoRotate","maxWidth"]),d=NK(this.shapeMap.key,r,a,o,s),f=this.shapeMap.key.getLocalBounds(),m=function JI(n,e,t=1){return qI(To(n[0],n[1])*t,e)}([f.min,f.max],l);return Object.assign({wordWrapWidth:m},d,u)}getBadgeStyle(t){if(!1===t.badge||!t.badgeText)return!1;const i=qr(t,"badge"),{offsetX:r,offsetY:o,placement:s}=i,a=SR(i,["offsetX","offsetY","placement"]);return Object.assign(a,function vpt(n,e,t,i,r){var o,s;const a=2*(null===(o=n.badge)||void 0===o?void 0:o.getGeometryBounds().halfExtents[0])||0,l=2*(null===(s=n.label)||void 0===s?void 0:s.getGeometryBounds().halfExtents[0])||0;return NK(n.key,t,!0,(l?(l/2+a/2)*("suffix"===e?1:-1):0)+i,r)}(this.shapeMap,s,t.labelPlacement,r,o))}drawArrow(t,i){var r;const o="start"===i,a=this.shapeMap.key;if(t["start"===i?"startArrow":"endArrow"]){const l=this.getArrowStyle(t,o);if(!Gc(this,`arrow-${i}`,l))return;const[u,d,f]=o?["markerStart","markerStartOffset","startArrowOffset"]:["markerEnd","markerEndOffset","endArrowOffset"],m=a.parsedStyle[u];if(m)m.attr(l);else{const b=new(l.src?pi.Image:pi.Path)({style:l});a.style[u]=b}a.style[d]=t[f]||l.width/2+ +l.lineWidth}else{const l=o?"markerStart":"markerEnd";null===(r=a.style[l])||void 0===r||r.destroy(),a.style[l]=null}}getArrowStyle(t,i){const r=this.getShape("key").attributes,o=i?"startArrow":"endArrow",s=qr(this.getGraphicStyle(t),o),{size:a,type:l}=s,u=SR(s,["size","type"]),[d,f]=Hc(function Dpt(n,e){return e||(n<4?10:4===n?12:2.5*n)}(r.lineWidth,a)),m=(ii(l)?l:Ppt[l]||VK)(d,f);return Object.assign(af(r,["stroke","strokeOpacity","fillOpacity"]),{width:d,height:f},Object.assign({},m&&{d:m,fill:"simple"===l?"":r.stroke}),u)}drawLabelShape(t,i){const r=this.getLabelStyle(t);Gc(this,"label",r)&&this.upsert("label",Yp,r,i)}drawHaloShape(t,i){const r=this.getHaloStyle(t);Gc(this,"halo",r)&&this.upsert("halo",pi.Path,r,i)}drawBadgeShape(t,i){const r=this.getBadgeStyle(t);Gc(this,"badge",r)&&this.upsert("badge",u3,r,i)}drawSourceArrow(t){this.drawArrow(t,"start")}drawTargetArrow(t){this.drawArrow(t,"end")}drawKeyShape(t,i){const r=this.getKeyStyle(t);if(Gc(this,"key",r))return this.upsert("key",pi.Path,r,i)}render(t=this.parsedAttributes,i=this){this.drawKeyShape(t,i),this.getShape("key")&&(this.drawSourceArrow(t),this.drawTargetArrow(t),this.drawLabelShape(t,i),this.drawHaloShape(t,i),this.drawBadgeShape(t,i))}onframe(){this.drawKeyShape(this.parsedAttributes,this),this.drawSourceArrow(this.parsedAttributes),this.drawTargetArrow(this.parsedAttributes),this.drawHaloShape(this.parsedAttributes,this),this.drawLabelShape(this.parsedAttributes,this),this.drawBadgeShape(this.parsedAttributes,this)}animate(t,i){const r=super.animate(t,i);return r&&new Proxy(r,{set:(o,s,a)=>("currentTime"===s&&Promise.resolve().then(()=>this.onframe()),Reflect.set(o,s,a))})}}return n.defaultStyleProps={badge:!0,badgeOffsetX:0,badgeOffsetY:0,badgePlacement:"suffix",isBillboard:!0,label:!0,labelAutoRotate:!0,labelIsBillboard:!0,labelMaxWidth:"80%",labelOffsetX:4,labelOffsetY:0,labelPlacement:"center",labelTextBaseline:"middle",labelWordWrap:!1,halo:!1,haloDroppable:!1,haloLineDash:0,haloLineWidth:12,haloPointerEvents:"none",haloStrokeOpacity:.25,haloZIndex:-1,loop:!0,startArrow:!1,startArrowLineDash:0,startArrowLineJoin:"round",startArrowLineWidth:1,startArrowTransformOrigin:"center",startArrowType:"vee",endArrow:!1,endArrowLineDash:0,endArrowLineJoin:"round",endArrowLineWidth:1,endArrowTransformOrigin:"center",endArrowType:"vee",loopPlacement:"top",loopClockwise:!0},n})(),DR=(()=>{class n extends M3{constructor(t){super(aa({style:n.defaultStyleProps},t))}getKeyPath(t){const[i,r]=this.getEndpoints(t),{controlPoints:o,curvePosition:s,curveOffset:a}=t,l=this.getControlPoints(i,r,function bpt(n){return oi(n)?[n,1-n]:n}(s),function ypt(n){return oi(n)?[n,-n]:n}(a),o);return FK(i,r,l)}getControlPoints(t,i,r,o,s){return 2===s?.length?s:[A9(t,i,r[0],o[0]),A9(t,i,r[1],o[1])]}}return n.defaultStyleProps={curvePosition:.5,curveOffset:20},n})(),Npt=(()=>{class n extends DR{constructor(t){super(aa({style:n.defaultStyleProps},t))}getControlPoints(t,i,r,o){const s=i[0]-t[0];return[[t[0]+s*r[0]+o[0],t[1]],[i[0]-s*r[1]+o[1],i[1]]]}}return n.defaultStyleProps={curvePosition:[.5,.5],curveOffset:[0,0]},n})(),Lpt=(()=>{class n extends DR{constructor(t){super(aa({style:n.defaultStyleProps},t))}get ref(){return this.context.model.getRootsData()[0]}getEndpoints(t){if(this.sourceNode.id===this.ref.id)return super.getEndpoints(t);const i=sa(this.ref);return[this.sourceNode.getIntersectPoint(i,!0),this.targetNode.getIntersectPoint(i)]}toRadialCoordinate(t){const i=sa(this.ref);return[To(t,i),Ps(Do(t,i))]}getControlPoints(t,i,r,o){const[s,a]=this.toRadialCoordinate(t),[l]=this.toRadialCoordinate(i),u=l-s;return[[t[0]+(u*r[0]+o[0])*Math.cos(a),t[1]+(u*r[0]+o[0])*Math.sin(a)],[i[0]-(u*r[1]-o[0])*Math.cos(a),i[1]-(u*r[1]-o[0])*Math.sin(a)]]}}return n.defaultStyleProps={curvePosition:.5,curveOffset:20},n})(),Fpt=(()=>{class n extends DR{constructor(t){super(aa({style:n.defaultStyleProps},t))}getControlPoints(t,i,r,o){const s=i[1]-t[1];return[[t[0],t[1]+s*r[0]+o[0]],[i[0],i[1]-s*r[1]+o[1]]]}}return n.defaultStyleProps={curvePosition:[.5,.5],curveOffset:[0,0]},n})(),zK=(()=>{let n=class uut extends M3{constructor(t){super(aa({style:uut.defaultStyleProps},t))}getKeyPath(t){const[i,r]=this.getEndpoints(t);return[["M",i[0],i[1]],["L",r[0],r[1]]]}};return n.defaultStyleProps={},n})();const Bpt={enableObstacleAvoidance:!1,offset:10,maxAllowedDirectionChange:Math.PI/2,maximumLoops:3e3,gridSize:5,startDirections:["top","right","bottom","left"],endDirections:["top","right","bottom","left"],directionMap:{right:{stepX:1,stepY:0},left:{stepX:-1,stepY:0},bottom:{stepX:0,stepY:1},top:{stepX:0,stepY:-1}},penalties:{0:0,90:0},distFunc:d_},Qp=n=>`${Math.round(n[0])}|||${Math.round(n[1])}`;function U2(n,e){const t=i=>Math.round(i/e);return oi(n)?t(n):n.map(t)}function UK(n,e){const t=e[0]-n[0],i=e[1]-n[1];return t||i?Math.atan2(i,t):0}function HK(n,e,t,i){const r=UK(n,e);return function jpt(n,e){const t=Math.abs(n-e);return t>Math.PI?2*Math.PI-t:t}(UK(t[Qp(n)]||i,n),r)}function GK(n,e,t){return Math.min(...e.map(i=>t(n,i)))}const $K=(n,e,t,i)=>{if(!e)return[n];const{directionMap:r,offset:o}=i,s=wf(e.getRenderBounds(),o),a=Object.keys(r).reduce((l,u)=>{if(t.includes(u)){const d=r[u],[f,m]=Ef(s),y=[n[0]+d.stepX*f,n[1]+d.stepY*m],b=function RI(n){const{min:[e,t],max:[i,r]}=n,o=[e,r],s=[i,r],a=[i,t],l=[e,t];return[[o,s],[s,a],[a,l],[l,o]]}(s);for(let E=0;E<b.length;E++){const w=jm([n,y],b[E]);w&&jC(w,s)&&l.push(w)}}return l},[]);return Al(n,s)||a.push(n),a.map(l=>U2(l,i.gridSize))},Upt=(n,e,t,i,r,o,s)=>{const a=[];let l=[o[0]===i[0]?i[0]:n[0]*s,o[1]===i[1]?i[1]:n[1]*s];a.unshift(l);let u=n,d=e[Qp(u)];for(;d;){const y=d,b=u;HK(y,b,e,t)&&(l=[y[0]===b[0]?l[0]:y[0]*s,y[1]===b[1]?l[1]:y[1]*s],a.unshift(l)),d=e[Qp(y)],u=y}const m=function zpt(n,e,t){let i=n[0],r=t(n[0],e);for(let o=0;o<n.length;o++){const s=n[o],a=t(s,e);a<r&&(i=s,r=a)}return i}(r.map(y=>[y[0]*s,y[1]*s]),l,d_);return a.unshift(m),a};let Gpt=class{constructor(){this.arr=[],this.map={},this.arr=[],this.map={}}_innerAdd(n,e){let t=0,i=e-1;for(;i-t>1;){const r=Math.floor((t+i)/2);if(this.arr[r].value>n.value)i=r;else{if(!(this.arr[r].value<n.value))return this.arr.splice(r,0,n),void(this.map[n.id]=!0);t=r}}this.arr.splice(i,0,n),this.map[n.id]=!0}add(n){delete this.map[n.id];const e=this.arr.length;if(!e||this.arr[e-1].value<n.value)return this.arr.push(n),void(this.map[n.id]=!0);this._innerAdd(n,e)}remove(n){this.map[n]&&delete this.map[n]}_clearAndGetMinId(){let n;for(let e=this.arr.length-1;e>=0;e--)this.map[this.arr[e].id]?n=this.arr[e].id:this.arr.splice(e,1);return n}_findFirstId(){for(;this.arr.length;){const n=this.arr.shift();if(this.map[n.id])return n.id}}minId(n){return n?this._clearAndGetMinId():this._findFirstId()}},WK=(()=>{class n extends M3{constructor(t){super(aa({style:n.defaultStyleProps},t))}getControlPoints(t){const{router:i}=t,{sourceNode:r,targetNode:o}=this,[s,a]=this.getEndpoints(t,!1);let l=[];return i?"shortest-path"===i.type?(l=function Hpt(n,e,t,i){const r=Fm(n.getCenter()),o=Fm(e.getCenter()),s=Object.assign(Bpt,i),{gridSize:a}=s,u=((n,e)=>{const{offset:t,gridSize:i}=e,r={};return n.forEach(o=>{if(!o||o.destroyed||!o.isVisible())return;const s=wf(o.getRenderBounds(),t);for(let a=U2(s.min[0],i);a<=U2(s.max[0],i);a+=1)for(let l=U2(s.min[1],i);l<=U2(s.max[1],i);l+=1)r[`${a}|||${l}`]=!0}),r})(s.enableObstacleAvoidance?t:[n,e],s),d=U2(r,a),f=U2(o,a),m=$K(r,n,s.startDirections,s),y=$K(o,e,s.endDirections,s);m.forEach(L=>delete u[Qp(L)]),y.forEach(L=>delete u[Qp(L)]);const b={},E={},w={},M={},x={},D=new Gpt;for(let L=0;L<m.length;L++){const F=m[L],U=Qp(F);b[U]=F,M[U]=0,x[U]=GK(F,y,s.distFunc),D.add({id:U,value:x[U]})}const k=y.map(L=>Qp(L));let O,T=s.maximumLoops,R=1/0;for(const[L,F]of Object.entries(b))x[L]<=R&&(R=x[L],O=F);for(;Object.keys(b).length>0&&T>0;){const L=D.minId(!1);if(!L)break;O=b[L];const F=Qp(O);if(k.includes(F))return Upt(O,w,d,o,m,f,a);delete b[F],D.remove(F),E[F]=!0;for(const U of Object.values(s.directionMap)){const $=ir(O,[U.stepX,U.stepY]),X=Qp($);if(E[X])continue;const q=HK(O,$,w,d);if(q>s.maxAllowedDirectionChange||u[X])continue;b[X]||(b[X]=$);const gt=s.penalties[q],Et=s.distFunc(O,$)+(isNaN(gt)?a:gt),at=M[F]+Et,Q=M[X];Q&&at>=Q||(w[X]=O,M[X]=at,x[X]=at+GK($,y,s.distFunc),D.add({id:X,value:x[X]}))}T-=1}return[]}(r,o,this.context.element.getNodes(),i),l.length||(l=kK(s,a,r,o,t.controlPoints,{padding:i.offset}))):"orth"===i.type&&(l=kK(s,a,r,o,t.controlPoints,i)):l=t.controlPoints,l}getPoints(t){const i=this.getControlPoints(t),[r,o]=this.getEndpoints(t,!0,i);return[r,...i,o]}getKeyPath(t){return O9(this.getPoints(t),t.radius)}getLoopPath(t){const{sourcePort:i,targetPort:r,radius:o}=t,s=this.sourceNode,a=fh(s),l=Math.max(hh(a),dd(a))/4,{placement:u,clockwise:d,dist:f=l}=qr(this.getGraphicStyle(t),"loop");return function Cpt(n,e,t,i,r,o,s){const a=P9(n),l=a[o||s],u=a[s||o];let[d,f]=BK(n,t,i,l,u);const m=function Spt(n,e,t,i){const r=[],o=fh(n);if(Xo(e,t))switch(zc(e,o)){case"left":r.push([e[0]-i,e[1]]),r.push([e[0]-i,e[1]+i]),r.push([e[0],e[1]+i]);break;case"right":r.push([e[0]+i,e[1]]),r.push([e[0]+i,e[1]+i]),r.push([e[0],e[1]+i]);break;case"top":r.push([e[0],e[1]-i]),r.push([e[0]+i,e[1]-i]),r.push([e[0]+i,e[1]]);break;case"bottom":r.push([e[0],e[1]+i]),r.push([e[0]+i,e[1]+i]),r.push([e[0]+i,e[1]])}else{const s=zc(e,o),a=zc(t,o);if(s===a){let u,d;switch(s){case"left":u=Math.min(e[0],t[0])-i,r.push([u,e[1]]),r.push([u,t[1]]);break;case"right":u=Math.max(e[0],t[0])+i,r.push([u,e[1]]),r.push([u,t[1]]);break;case"top":d=Math.min(e[1],t[1])-i,r.push([e[0],d]),r.push([t[0],d]);break;case"bottom":d=Math.max(e[1],t[1])+i,r.push([e[0],d]),r.push([t[0],d])}}else{const l=(m,y)=>({left:[y[0]-i,y[1]],right:[y[0]+i,y[1]],top:[y[0],y[1]-i],bottom:[y[0],y[1]+i]}[m]),u=l(s,e),d=l(a,t),f=x3(u,d,o);r.push(u,f,d)}}return r}(n,d,f,r);return l&&(d=S3(l,m[0])),u&&(f=S3(u,m[m.length-1])),O9([d,...m,f],e)}(s,o,u,d,f,i,r)}}return n.defaultStyleProps={radius:0,controlPoints:[],router:!1},n})(),KK=(()=>{class n extends M3{constructor(t){super(aa({style:n.defaultStyleProps},t))}getKeyPath(t){const{curvePosition:i,curveOffset:r}=t,[o,s]=this.getEndpoints(t);return function _pt(n,e,t){return[["M",n[0],n[1]],["Q",t[0],t[1],e[0],e[1]]]}(o,s,t.controlPoint||A9(o,s,i,r))}}return n.defaultStyleProps={curvePosition:.5,curveOffset:30},n})();function C3(n){return n instanceof Df&&"node"===n.type}function XK(n){return n instanceof M3}function I9(n){return n instanceof S9}const Kpt={top:[.5,0],right:[1,.5],bottom:[.5,1],left:[0,.5],default:[.5,.5]};function R9(n,e,t=Kpt,i=!0){const r=[.5,.5],o=Ki(e)?xa(t,e.toLocaleLowerCase(),r):e;if(!i&&Ki(e))return o;const[s,a]=o||r;return[n.min[0]+hh(n)*s,n.min[1]+dd(n)*a]}function P9(n){if(!n)return{};const e=n.getPorts();return(n.attributes.ports||[]).forEach((t,i)=>{var r;const{key:o,placement:s}=t;YK(t)&&(e[r=o||i]||(e[r]=Cf(n.getShape("key").getBounds(),s)))}),e}function YK(n){const{r:e}=n;return!e||0===Number(e)}function Km(n){return Nm(n)?n:n.getPosition()}function ZK(n,e,t,i){const r=P9(n);if(t)return r[t];const o=Object.values(r);if(0===o.length)return;const s=o.map(u=>Km(u)),a=function Ypt(n,e){const t=P9(n);if(e)return[Km(t[e])];const i=Object.values(t);return i.length>0?i.map(r=>Km(r)):[n.getCenter()]}(e,i),[l]=function A2(n,e){let t=1/0,i=[n[0],e[0]];return n.forEach(r=>{e.forEach(o=>{const s=To(r,o);s<t&&(t=s,i=[r,o])})}),i}(s,a);return o.find(u=>Km(u)===l)}function QK(n,e){return I9(n)||C3(n)?N9(n,e):S3(n,e)}function S3(n,e){return n&&e?Nm(n)?n:n.attributes.linkToCenter?n.getPosition():Xp(Nm(e)?e:C3(e)?e.getCenter():e.getPosition(),n.getBounds()):[0,0,0]}function N9(n,e){if(!n||!e)return[0,0,0];const t=Nm(e)?e:C3(e)?e.getCenter():e.getPosition();return n.getIntersectPoint(t)||n.getCenter()}function qK(n,e="bottom",t=0,i=0,r=!1){const o=e.split("-"),[s,a]=Cf(n,e),l=o.includes("left")?"right":o.includes("right")?"left":"center";let u=o.includes("top")?"bottom":o.includes("bottom")?"top":"middle";return r&&(u="top"===u?"bottom":"bottom"===u?"top":u),{transform:[["translate",s+t,a+i]],textBaseline:u,textAlign:l}}function L9(n,e){"update"in n?n.update(e):n.attr(e)}function TR(n){return xa(n,"__to_be_destroyed__",!1)}class AR extends za{constructor(e,t){super(e,Object.assign({},AR.defaultOptions,t)),this.onCollapseExpand=i=>function(n,e,t,i){return new(t||(t=Promise))(function(o,s){function a(d){try{u(i.next(d))}catch(f){s(f)}}function l(d){try{u(i.throw(d))}catch(f){s(f)}}function u(d){d.done?o(d.value):function r(o){return o instanceof t?o:new t(function(s){s(o)})}(d.value).then(a,l)}u((i=i.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){if(!this.validate(i))return;const{target:r}=i;if(!function $pt(n){return C3(n)||XK(n)||I9(n)}(r))return;const o=r.id,{model:s,graph:a}=this.context,l=s.getElementDataById(o);if(!l)return!1;const{onCollapse:u,onExpand:d,animation:f}=this.options;ac(l)?(yield a.expandElement(o,f),d?.(o)):(yield a.collapseElement(o,f),u?.(o))}),this.bindEvents()}update(e){this.unbindEvents(),super.update(e),this.bindEvents()}bindEvents(){const{graph:e}=this.context,{trigger:t}=this.options;e.on(`node:${t}`,this.onCollapseExpand),e.on(`combo:${t}`,this.onCollapseExpand)}unbindEvents(){const{graph:e}=this.context,{trigger:t}=this.options;e.off(`node:${t}`,this.onCollapseExpand),e.off(`combo:${t}`,this.onCollapseExpand)}validate(e){if(this.destroyed)return!1;const{enable:t}=this.options;return ii(t)?t(e):!!t}destroy(){this.unbindEvents(),super.destroy()}}AR.defaultOptions={enable:!0,animation:!0,trigger:gn.DBLCLICK};var OR=function(n,e,t,i){return new(t||(t=Promise))(function(o,s){function a(d){try{u(i.next(d))}catch(f){s(f)}}function l(d){try{u(i.throw(d))}catch(f){s(f)}}function u(d){d.done?o(d.value):function r(o){return o instanceof t?o:new t(function(s){s(o)})}(d.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};const kR="g6-create-edge-assist-node-id";let s0t=(()=>{class n extends za{constructor(t,i){super(t,Object.assign({},n.defaultOptions,i)),this.drop=r=>OR(this,void 0,void 0,function*(){const{targetType:o}=r;["combo","node"].includes(o)&&this.source?yield this.handleCreateEdge(r):yield this.cancelEdge()}),this.handleCreateEdge=r=>OR(this,void 0,void 0,function*(){var o,s,a;if(!this.validate(r))return;const{graph:l,canvas:u,batch:d,element:f}=this.context,{style:m}=this.options;if(this.source)return this.createEdge(r),void(yield this.cancelEdge());d.startBatch(),u.setCursor("crosshair"),this.source=this.getSelectedNodeIDs([r.target.id])[0];const y=l.getElementData(this.source);l.addNodeData([{id:kR,style:{visibility:"hidden",ports:[{key:"port-1",placement:[.5,.5]}],x:null===(o=y.style)||void 0===o?void 0:o.x,y:null===(s=y.style)||void 0===s?void 0:s.y}}]),l.addEdgeData([{id:"g6-create-edge-assist-edge-id",source:this.source,target:kR,style:Object.assign({pointerEvents:"none"},m)}]),yield null===(a=f.draw({animation:!1}))||void 0===a?void 0:a.finished}),this.updateAssistEdge=r=>OR(this,void 0,void 0,function*(){var o;if(!this.source)return;const{model:s,element:a}=this.context;s.translateNodeTo(kR,[r.canvas.x,r.canvas.y]),yield null===(o=a.draw({animation:!1,silence:!0}))||void 0===o?void 0:o.finished}),this.createEdge=r=>{var o,s;const{graph:a}=this.context,{style:l,onFinish:u,onCreate:d}=this.options;if(void 0===(null===(o=r.target)||void 0===o?void 0:o.id)||void 0===this.source)return;const f=null===(s=this.getSelectedNodeIDs([r.target.id]))||void 0===s?void 0:s[0],y=d({id:`${this.source}-${f}-${uv()}`,source:this.source,target:f,style:l});a.addEdgeData([y]),u(y)},this.cancelEdge=()=>OR(this,void 0,void 0,function*(){var r;if(!this.source)return;const{graph:o,element:s,batch:a}=this.context;o.removeNodeData([kR]),this.source=void 0,yield null===(r=s.draw({animation:!1}))||void 0===r?void 0:r.finished,a.endBatch()}),this.bindEvents()}update(t){super.update(t),this.bindEvents()}bindEvents(){const{graph:t}=this.context,{trigger:i}=this.options;this.unbindEvents(),"click"===i?(t.on(eo.CLICK,this.handleCreateEdge),t.on(yo.CLICK,this.handleCreateEdge),t.on(to.CLICK,this.cancelEdge),t.on(Ms.CLICK,this.cancelEdge)):(t.on(eo.DRAG_START,this.handleCreateEdge),t.on(yo.DRAG_START,this.handleCreateEdge),t.on(gn.POINTER_UP,this.drop)),t.on(gn.POINTER_MOVE,this.updateAssistEdge)}getSelectedNodeIDs(t){return Array.from(new Set(this.context.graph.getElementDataByState("node",this.options.state).map(i=>i.id).concat(t)))}validate(t){if(this.destroyed)return!1;const{enable:i}=this.options;return ii(i)?i(t):!!i}unbindEvents(){const{graph:t}=this.context;t.off(eo.CLICK,this.handleCreateEdge),t.off(yo.CLICK,this.handleCreateEdge),t.off(to.CLICK,this.cancelEdge),t.off(Ms.CLICK,this.cancelEdge),t.off(eo.DRAG_START,this.handleCreateEdge),t.off(yo.DRAG_START,this.handleCreateEdge),t.off(gn.POINTER_UP,this.drop),t.off(gn.POINTER_MOVE,this.updateAssistEdge)}destroy(){this.unbindEvents(),super.destroy()}}return n.defaultOptions={animation:!0,enable:!0,style:{},trigger:"drag",onCreate:e=>e,onFinish:()=>{}},n})();var JK=function(n,e,t,i){return new(t||(t=Promise))(function(o,s){function a(d){try{u(i.next(d))}catch(f){s(f)}}function l(d){try{u(i.throw(d))}catch(f){s(f)}}function u(d){d.done?o(d.value):function r(o){return o instanceof t?o:new t(function(s){s(o)})}(d.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};let a0t=(()=>{class n extends za{constructor(t,i){super(t,Object.assign({},n.defaultOptions,i)),this.isDragging=!1,this.onDragStart=r=>{this.validate(r)&&(this.isDragging=!0,this.context.canvas.setCursor("grabbing"))},this.onDrag=r=>{if(!this.isDragging)return;const{x:o,y:s}=r.movement;o|s&&this.translate([o,s],!1)},this.onDragEnd=()=>{var r,o;this.isDragging=!1,this.context.canvas.setCursor(this.defaultCursor),null===(o=(r=this.options).onFinish)||void 0===o||o.call(r)},this.invokeOnFinish=K0(()=>{var r,o;null===(o=(r=this.options).onFinish)||void 0===o||o.call(r)},300),this.shortcut=new Sf(t.graph),this.bindEvents(),this.defaultCursor=this.context.canvas.getConfig().cursor||"default"}update(t){this.unbindEvents(),super.update(t),this.bindEvents()}bindEvents(){const{trigger:t}=this.options;if(mo(t)){const{up:i=[],down:r=[],left:o=[],right:s=[]}=t;this.shortcut.bind(i,a=>this.onTranslate([0,1],a)),this.shortcut.bind(r,a=>this.onTranslate([0,-1],a)),this.shortcut.bind(o,a=>this.onTranslate([1,0],a)),this.shortcut.bind(s,a=>this.onTranslate([-1,0],a))}else{const{graph:i}=this.context;i.on(gn.DRAG_START,this.onDragStart),i.on(gn.DRAG,this.onDrag),i.on(gn.DRAG_END,this.onDragEnd)}}onTranslate(t,i){return JK(this,void 0,void 0,function*(){if(!this.validate(i))return;const{sensitivity:r}=this.options,o=-1*r;yield this.translate(ph(t,o),this.options.animation),this.invokeOnFinish()})}translate(t,i){return JK(this,void 0,void 0,function*(){t=this.clampByDirection(t),t=this.clampByRange(t),yield this.context.graph.translateBy(t,i)})}clampByDirection([t,i]){const{direction:r}=this.options;return"x"===r?i=0:"y"===r&&(t=0),[t,i]}clampByRange([t,i]){const{viewport:r,canvas:o}=this.context,[s,a]=o.getSize(),[l,u,d,f]=dh(this.options.range),m=[a*l,s*u,a*d,s*f],y=wf(II(r.getCanvasCenter()),m),b=Do(r.getViewportCenter(),[t,i,0]);if(!Al(b,y)){const{min:[E,w],max:[M,x]}=y;(b[0]<E&&t>0||b[0]>M&&t<0)&&(t=0),(b[1]<w&&i>0||b[1]>x&&i<0)&&(i=0)}return[t,i]}validate(t){if(this.destroyed)return!1;const{enable:i}=this.options;return"function"==typeof i?i(t):!!i}unbindEvents(){this.shortcut.unbindAll();const{graph:t}=this.context;t.off(gn.DRAG_START,this.onDragStart),t.off(gn.DRAG,this.onDrag),t.off(gn.DRAG_END,this.onDragEnd)}destroy(){this.shortcut.destroy(),this.unbindEvents(),this.context.canvas.setCursor(this.defaultCursor),super.destroy()}}return n.defaultOptions={enable:e=>!("targetType"in e)||"canvas"===e.targetType,sensitivity:10,direction:"both",range:1/0},n})();var tX=function(n,e,t,i){return new(t||(t=Promise))(function(o,s){function a(d){try{u(i.next(d))}catch(f){s(f)}}function l(d){try{u(i.throw(d))}catch(f){s(f)}}function u(d){d.done?o(d.value):function r(o){return o instanceof t?o:new t(function(s){s(o)})}(d.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};let eX=(()=>{class n extends za{constructor(t,i){super(t,Object.assign({},n.defaultOptions,i)),this.enable=!1,this.enableElements=["node","combo"],this.target=[],this.shadowOrigin=[0,0],this.hiddenEdges=[],this.isDragging=!1,this.onDrop=r=>tX(this,void 0,void 0,function*(){var o;if("link"!==this.options.dropEffect)return;const{model:s,element:a}=this.context,l=r.target.id;this.target.forEach(u=>{const d=s.getParentData(u,So);d&&We(d)===l&&s.refreshComboData(l),s.setParent(u,l,So)}),yield null===(o=a?.draw({animation:!0}))||void 0===o?void 0:o.finished}),this.setCursor=r=>{if(this.isDragging)return;const{type:o}=r,{canvas:s}=this.context,{cursor:a}=this.options;s.setCursor(o===gn.POINTER_ENTER?a?.grab||"grab":a?.default||"default")},this.onDragStart=this.onDragStart.bind(this),this.onDrag=this.onDrag.bind(this),this.onDragEnd=this.onDragEnd.bind(this),this.onDrop=this.onDrop.bind(this),this.bindEvents()}update(t){this.unbindEvents(),super.update(t),this.bindEvents()}bindEvents(){const{graph:t,canvas:i}=this.context,r=i.getLayer().getContextService().$canvas;r&&(r.addEventListener("blur",this.onDragEnd),r.addEventListener("contextmenu",this.onDragEnd)),this.enableElements.forEach(o=>{t.on(`${o}:${gn.DRAG_START}`,this.onDragStart),t.on(`${o}:${gn.DRAG}`,this.onDrag),t.on(`${o}:${gn.DRAG_END}`,this.onDragEnd),t.on(`${o}:${gn.POINTER_ENTER}`,this.setCursor),t.on(`${o}:${gn.POINTER_LEAVE}`,this.setCursor)}),["link"].includes(this.options.dropEffect)&&(t.on(yo.DROP,this.onDrop),t.on(to.DROP,this.onDrop))}getSelectedNodeIDs(t){return Array.from(new Set(this.context.graph.getElementDataByState("node",this.options.state).map(i=>i.id).concat(t)))}getDelta(t){const i=this.context.graph.getZoom();return Uc([t.dx,t.dy],i)}onDragStart(t){var i;if(this.enable=this.validate(t),!this.enable)return;const{batch:r,canvas:o}=this.context;o.setCursor((null===(i=this.options.cursor)||void 0===i?void 0:i.grabbing)||"grabbing"),this.isDragging=!0,r.startBatch(),this.target=this.getSelectedNodeIDs([t.target.id]),this.hideEdge(),this.context.graph.frontElement(this.target),this.options.shadow&&this.createShadow(this.target)}onDrag(t){if(!this.enable)return;const i=this.getDelta(t);this.options.shadow?this.moveShadow(i):this.moveElement(this.target,i)}onDragEnd(){var t,i,r;if(this.enable=!1,this.options.shadow){if(!this.shadow)return;this.shadow.style.visibility="hidden";const{x:a=0,y:l=0}=this.shadow.attributes,[u,d]=Do([+a,+l],this.shadowOrigin);this.moveElement(this.target,[u,d])}this.showEdges(),null===(i=(t=this.options).onFinish)||void 0===i||i.call(t,this.target);const{batch:o,canvas:s}=this.context;o.endBatch(),s.setCursor((null===(r=this.options.cursor)||void 0===r?void 0:r.grab)||"grab"),this.isDragging=!1,this.target=[]}validate(t){if(this.destroyed)return!1;const{enable:i}=this.options;return ii(i)?i(t):!!i}moveElement(t,i){return tX(this,void 0,void 0,function*(){const{graph:r,model:o}=this.context,{dropEffect:s}=this.options;"move"===s&&t.forEach(a=>o.refreshComboData(a)),r.translateElementBy(Object.fromEntries(t.map(a=>[a,i])),!1)})}moveShadow(t){if(!this.shadow)return;const{x:i=0,y:r=0}=this.shadow.attributes,[o,s]=t;this.shadow.attr({x:+i+o,y:+r+s})}createShadow(t){const i=qr(this.options,"shadow"),r=C2(t.map(d=>this.context.element.getElement(d).getBounds())),[o,s]=r.min;this.shadowOrigin=[o,s];const[a,l]=Ef(r),u={width:a,height:l,x:o,y:s};this.shadow?this.shadow.attr(Object.assign(Object.assign(Object.assign({},i),u),{visibility:"visible"})):(this.shadow=new pi.Rect({style:Object.assign(Object.assign(Object.assign({$layer:"transient"},i),u),{pointerEvents:"none"})}),this.context.canvas.appendChild(this.shadow))}showEdges(){this.options.shadow||0===this.hiddenEdges.length||(this.context.graph.showElement(this.hiddenEdges),this.hiddenEdges=[])}hideEdge(){const{hideEdge:t,shadow:i}=this.options;if("none"===t||i)return;const{graph:r}=this.context;this.hiddenEdges="all"===t?r.getEdgeData().map(We):Array.from(new Set(this.target.map(o=>r.getRelatedEdgesData(o,t).map(We)).flat())),r.hideElement(this.hiddenEdges)}unbindEvents(){const{graph:t,canvas:i}=this.context,r=i.getLayer().getContextService().$canvas;r&&(r.removeEventListener("blur",this.onDragEnd),r.removeEventListener("contextmenu",this.onDragEnd)),this.enableElements.forEach(o=>{t.off(`${o}:${gn.DRAG_START}`,this.onDragStart),t.off(`${o}:${gn.DRAG}`,this.onDrag),t.off(`${o}:${gn.DRAG_END}`,this.onDragEnd),t.off(`${o}:${gn.POINTER_ENTER}`,this.setCursor),t.off(`${o}:${gn.POINTER_LEAVE}`,this.setCursor)}),t.off(`combo:${gn.DROP}`,this.onDrop),t.off(`canvas:${gn.DROP}`,this.onDrop)}destroy(){var t;this.unbindEvents(),null===(t=this.shadow)||void 0===t||t.destroy(),super.destroy()}}return n.defaultOptions={animation:!0,enable:e=>["node","combo"].includes(e.targetType),dropEffect:"move",state:"selected",hideEdge:"none",shadow:!1,shadowZIndex:100,shadowFill:"#F3F9FF",shadowFillOpacity:.5,shadowStroke:"#1890FF",shadowStrokeOpacity:.9,shadowLineDash:[5,5],cursor:{default:"default",grab:"grab",grabbing:"grabbing"}},n})();var IR=function(){function n(){this._events={}}return n.prototype.on=function(e,t,i){return this._events[e]||(this._events[e]=[]),this._events[e].push({callback:t,once:!!i}),this},n.prototype.once=function(e,t){return this.on(e,t,!0)},n.prototype.emit=function(e){for(var t=this,i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];var s=this._events["*"]||[],a=function(l){for(var u=l.length,d=0;d<u;d++)if(l[d]){var f=l[d],m=f.callback;f.once&&(l.splice(d,1),0===l.length&&delete t._events[e],u--,d--),m.apply(t,i)}};a(this._events[e]||[]),a(s)},n.prototype.off=function(e,t){if(e)if(t){for(var i=this._events[e]||[],r=i.length,o=0;o<r;o++)i[o].callback===t&&(i.splice(o,1),r--,o--);0===i.length&&delete this._events[e]}else delete this._events[e];else this._events={};return this},n.prototype.getEvents=function(){return this._events},n}();function F9(n,e,t,i){for(;n.length;){const r=n.shift();if(t(r))return!0;e.add(r.id),i(r.id).forEach(o=>{e.has(o.id)||(e.add(o.id),n.push(o))})}return!1}function RR(n,e,t,i){if(t(n))return!0;e.add(n.id);for(const r of i(n.id))if(!e.has(r.id)&&RR(r,e,t,i))return!0;return!1}const nX=()=>!0;class c0t{constructor(e){ln(this,"graph"),ln(this,"nodeFilter"),ln(this,"edgeFilter"),ln(this,"cacheEnabled"),ln(this,"inEdgesMap",new Map),ln(this,"outEdgesMap",new Map),ln(this,"bothEdgesMap",new Map),ln(this,"allNodesMap",new Map),ln(this,"allEdgesMap",new Map),ln(this,"clearCache",()=>{this.inEdgesMap.clear(),this.outEdgesMap.clear(),this.bothEdgesMap.clear(),this.allNodesMap.clear(),this.allEdgesMap.clear()}),ln(this,"refreshCache",()=>{this.clearCache(),this.updateCache(this.graph.getAllNodes().map(r=>r.id))}),ln(this,"updateCache",r=>{const o=new Set;r.forEach(s=>{const a=this.bothEdgesMap.get(s);if(a&&a.forEach(l=>o.add(l.id)),this.hasNode(s)){const l=this.graph.getRelatedEdges(s,"in").filter(this.edgeFilter),u=this.graph.getRelatedEdges(s,"out").filter(this.edgeFilter),d=Array.from(new Set([...l,...u]));d.forEach(f=>o.add(f.id)),this.inEdgesMap.set(s,l),this.outEdgesMap.set(s,u),this.bothEdgesMap.set(s,d),this.allNodesMap.set(s,this.graph.getNode(s))}else this.inEdgesMap.delete(s),this.outEdgesMap.delete(s),this.bothEdgesMap.delete(s),this.allNodesMap.delete(s)}),o.forEach(s=>{this.hasEdge(s)?this.allEdgesMap.set(s,this.graph.getEdge(s)):this.allEdgesMap.delete(s)})}),ln(this,"handleGraphChanged",r=>{const o=new Set;r.changes.forEach(s=>{switch(s.type){case"NodeAdded":case"NodeRemoved":o.add(s.value.id);break;case"NodeDataUpdated":o.add(s.id);break;case"EdgeAdded":case"EdgeRemoved":o.add(s.value.source),o.add(s.value.target);break;case"EdgeUpdated":("source"===s.propertyName||"target"===s.propertyName)&&(o.add(s.oldValue),o.add(s.newValue));break;case"EdgeDataUpdated":if(r.graph.hasEdge(s.id)){const a=r.graph.getEdge(s.id);o.add(a.source),o.add(a.target)}}}),this.updateCache(o)}),this.graph=e.graph;const t=e.nodeFilter||nX,i=e.edgeFilter||nX;this.nodeFilter=t,this.edgeFilter=r=>{const{source:o,target:s}=this.graph.getEdgeDetail(r.id);return!(!t(o)||!t(s))&&i(r,o,s)},"auto"===e.cache?(this.cacheEnabled=!0,this.startAutoCache()):this.cacheEnabled="manual"===e.cache}startAutoCache(){this.refreshCache(),this.graph.on("changed",this.handleGraphChanged)}stopAutoCache(){this.graph.off("changed",this.handleGraphChanged)}checkNodeExistence(e){this.getNode(e)}hasNode(e){if(!this.graph.hasNode(e))return!1;const t=this.graph.getNode(e);return this.nodeFilter(t)}areNeighbors(e,t){return this.checkNodeExistence(e),this.getNeighbors(t).some(i=>i.id===e)}getNode(e){const t=this.graph.getNode(e);if(!this.nodeFilter(t))throw new Error("Node not found for id: "+e);return t}getRelatedEdges(e,t){return this.checkNodeExistence(e),this.cacheEnabled?"in"===t?this.inEdgesMap.get(e):"out"===t?this.outEdgesMap.get(e):this.bothEdgesMap.get(e):this.graph.getRelatedEdges(e,t).filter(this.edgeFilter)}getDegree(e,t){return this.getRelatedEdges(e,t).length}getSuccessors(e){const t=this.getRelatedEdges(e,"out").map(i=>this.getNode(i.target));return Array.from(new Set(t))}getPredecessors(e){const t=this.getRelatedEdges(e,"in").map(i=>this.getNode(i.source));return Array.from(new Set(t))}getNeighbors(e){const t=this.getPredecessors(e),i=this.getSuccessors(e);return Array.from(new Set([...t,...i]))}hasEdge(e){if(!this.graph.hasEdge(e))return!1;const t=this.graph.getEdge(e);return this.edgeFilter(t)}getEdge(e){const t=this.graph.getEdge(e);if(!this.edgeFilter(t))throw new Error("Edge not found for id: "+e);return t}getEdgeDetail(e){const t=this.getEdge(e);return{edge:t,source:this.getNode(t.source),target:this.getNode(t.target)}}hasTreeStructure(e){return this.graph.hasTreeStructure(e)}getRoots(e){return this.graph.getRoots(e).filter(this.nodeFilter)}getChildren(e,t){return this.checkNodeExistence(e),this.graph.getChildren(e,t).filter(this.nodeFilter)}getParent(e,t){this.checkNodeExistence(e);const i=this.graph.getParent(e,t);return i&&this.nodeFilter(i)?i:null}getAllNodes(){return this.cacheEnabled?Array.from(this.allNodesMap.values()):this.graph.getAllNodes().filter(this.nodeFilter)}getAllEdges(){return this.cacheEnabled?Array.from(this.allEdgesMap.values()):this.graph.getAllEdges().filter(this.edgeFilter)}bfs(e,t,i="out"){const r={in:this.getPredecessors.bind(this),out:this.getSuccessors.bind(this),both:this.getNeighbors.bind(this)}[i];F9([this.getNode(e)],new Set,t,r)}dfs(e,t,i="out"){const r={in:this.getPredecessors.bind(this),out:this.getSuccessors.bind(this),both:this.getNeighbors.bind(this)}[i];RR(this.getNode(e),new Set,t,r)}}let Da=class dut extends IR{constructor(e){super(),ln(this,"nodeMap",new Map),ln(this,"edgeMap",new Map),ln(this,"inEdgesMap",new Map),ln(this,"outEdgesMap",new Map),ln(this,"bothEdgesMap",new Map),ln(this,"treeIndices",new Map),ln(this,"changes",[]),ln(this,"batchCount",0),ln(this,"onChanged",()=>{}),ln(this,"batch",t=>{this.batchCount+=1,t(),this.batchCount-=1,this.batchCount||this.commit()}),e&&(e.nodes&&this.addNodes(e.nodes),e.edges&&this.addEdges(e.edges),e.tree&&this.addTree(e.tree),e.onChanged&&(this.onChanged=e.onChanged))}commit(){const e=this.changes;this.changes=[];const t={graph:this,changes:e};this.emit("changed",t),this.onChanged(t)}reduceChanges(e){let t=[];return e.forEach(i=>{switch(i.type){case"NodeRemoved":{let r=!1;t=t.filter(o=>{if("NodeAdded"===o.type){const s=o.value.id===i.value.id;return s&&(r=!0),!s}return"NodeDataUpdated"===o.type?o.id!==i.value.id:"TreeStructureChanged"!==o.type||o.nodeId!==i.value.id}),r||t.push(i);break}case"EdgeRemoved":{let r=!1;t=t.filter(o=>{if("EdgeAdded"===o.type){const s=o.value.id===i.value.id;return s&&(r=!0),!s}return"EdgeDataUpdated"!==o.type&&"EdgeUpdated"!==o.type||o.id!==i.value.id}),r||t.push(i);break}case"NodeDataUpdated":case"EdgeDataUpdated":case"EdgeUpdated":{const r=t.findIndex(s=>s.type===i.type&&s.id===i.id&&(void 0===i.propertyName||s.propertyName===i.propertyName)),o=t[r];o?void 0!==i.propertyName?o.newValue=i.newValue:(t.splice(r,1),t.push(i)):t.push(i);break}case"TreeStructureDetached":t=t.filter(r=>"TreeStructureAttached"!==r.type&&"TreeStructureChanged"!==r.type||r.treeKey!==i.treeKey),t.push(i);break;case"TreeStructureChanged":{const r=t.find(o=>"TreeStructureChanged"===o.type&&o.treeKey===i.treeKey&&o.nodeId===i.nodeId);r?r.newParentId=i.newParentId:t.push(i);break}default:t.push(i)}}),t}checkNodeExistence(e){this.getNode(e)}hasNode(e){return this.nodeMap.has(e)}areNeighbors(e,t){return this.getNeighbors(t).some(i=>i.id===e)}getNode(e){const t=this.nodeMap.get(e);if(!t)throw new Error("Node not found for id: "+e);return t}getRelatedEdges(e,t){if(this.checkNodeExistence(e),"in"===t){const i=this.inEdgesMap.get(e);return Array.from(i)}if("out"===t){const i=this.outEdgesMap.get(e);return Array.from(i)}{const i=this.bothEdgesMap.get(e);return Array.from(i)}}getDegree(e,t){return this.getRelatedEdges(e,t).length}getSuccessors(e){const t=this.getRelatedEdges(e,"out").map(i=>this.getNode(i.target));return Array.from(new Set(t))}getPredecessors(e){const t=this.getRelatedEdges(e,"in").map(i=>this.getNode(i.source));return Array.from(new Set(t))}getNeighbors(e){const t=this.getPredecessors(e),i=this.getSuccessors(e);return Array.from(new Set([...t,...i]))}doAddNode(e){if(this.hasNode(e.id))throw new Error("Node already exists: "+e.id);this.nodeMap.set(e.id,e),this.inEdgesMap.set(e.id,new Set),this.outEdgesMap.set(e.id,new Set),this.bothEdgesMap.set(e.id,new Set),this.treeIndices.forEach(t=>{t.childrenMap.set(e.id,new Set)}),this.changes.push({type:"NodeAdded",value:e})}addNodes(e){this.batch(()=>{for(const t of e)this.doAddNode(t)})}addNode(e){this.addNodes([e])}doRemoveNode(e){const t=this.getNode(e),i=this.bothEdgesMap.get(e);i?.forEach(r=>this.doRemoveEdge(r.id)),this.nodeMap.delete(e),this.treeIndices.forEach(r=>{var o,s;null==(o=r.childrenMap.get(e))||o.forEach(l=>{r.parentMap.delete(l.id)});const a=r.parentMap.get(e);a&&(null==(s=r.childrenMap.get(a.id))||s.delete(t)),r.parentMap.delete(e),r.childrenMap.delete(e)}),this.bothEdgesMap.delete(e),this.inEdgesMap.delete(e),this.outEdgesMap.delete(e),this.changes.push({type:"NodeRemoved",value:t})}removeNodes(e){this.batch(()=>{e.forEach(t=>this.doRemoveNode(t))})}removeNode(e){this.removeNodes([e])}updateNodeDataProperty(e,t,i){const r=this.getNode(e);this.batch(()=>{const o=r.data[t],s=i;r.data[t]=s,this.changes.push({type:"NodeDataUpdated",id:e,propertyName:t,oldValue:o,newValue:s})})}mergeNodeData(e,t){this.batch(()=>{Object.entries(t).forEach(([i,r])=>{this.updateNodeDataProperty(e,i,r)})})}updateNodeData(...e){const t=e[0],i=this.getNode(t);if("string"==typeof e[1])return void this.updateNodeDataProperty(t,e[1],e[2]);let r;"function"==typeof e[1]?r=(0,e[1])(i.data):"object"==typeof e[1]&&(r=e[1]),this.batch(()=>{const o=i.data,s=r;i.data=r,this.changes.push({type:"NodeDataUpdated",id:t,oldValue:o,newValue:s})})}checkEdgeExistence(e){if(!this.hasEdge(e))throw new Error("Edge not found for id: "+e)}hasEdge(e){return this.edgeMap.has(e)}getEdge(e){return this.checkEdgeExistence(e),this.edgeMap.get(e)}getEdgeDetail(e){const t=this.getEdge(e);return{edge:t,source:this.getNode(t.source),target:this.getNode(t.target)}}doAddEdge(e){if(this.hasEdge(e.id))throw new Error("Edge already exists: "+e.id);this.checkNodeExistence(e.source),this.checkNodeExistence(e.target),this.edgeMap.set(e.id,e);const t=this.inEdgesMap.get(e.target),i=this.outEdgesMap.get(e.source),r=this.bothEdgesMap.get(e.source),o=this.bothEdgesMap.get(e.target);t.add(e),i.add(e),r.add(e),o.add(e),this.changes.push({type:"EdgeAdded",value:e})}addEdges(e){this.batch(()=>{for(const t of e)this.doAddEdge(t)})}addEdge(e){this.addEdges([e])}doRemoveEdge(e){const t=this.getEdge(e),i=this.outEdgesMap.get(t.source),r=this.inEdgesMap.get(t.target),o=this.bothEdgesMap.get(t.source),s=this.bothEdgesMap.get(t.target);i.delete(t),r.delete(t),o.delete(t),s.delete(t),this.edgeMap.delete(e),this.changes.push({type:"EdgeRemoved",value:t})}removeEdges(e){this.batch(()=>{e.forEach(t=>this.doRemoveEdge(t))})}removeEdge(e){this.removeEdges([e])}updateEdgeSource(e,t){const i=this.getEdge(e);this.checkNodeExistence(t);const r=i.source,o=t;this.outEdgesMap.get(r).delete(i),this.bothEdgesMap.get(r).delete(i),this.outEdgesMap.get(o).add(i),this.bothEdgesMap.get(o).add(i),i.source=t,this.batch(()=>{this.changes.push({type:"EdgeUpdated",id:e,propertyName:"source",oldValue:r,newValue:o})})}updateEdgeTarget(e,t){const i=this.getEdge(e);this.checkNodeExistence(t);const r=i.target,o=t;this.inEdgesMap.get(r).delete(i),this.bothEdgesMap.get(r).delete(i),this.inEdgesMap.get(o).add(i),this.bothEdgesMap.get(o).add(i),i.target=t,this.batch(()=>{this.changes.push({type:"EdgeUpdated",id:e,propertyName:"target",oldValue:r,newValue:o})})}updateEdgeDataProperty(e,t,i){const r=this.getEdge(e);this.batch(()=>{const o=r.data[t],s=i;r.data[t]=s,this.changes.push({type:"EdgeDataUpdated",id:e,propertyName:t,oldValue:o,newValue:s})})}updateEdgeData(...e){const t=e[0],i=this.getEdge(t);if("string"==typeof e[1])return void this.updateEdgeDataProperty(t,e[1],e[2]);let r;"function"==typeof e[1]?r=(0,e[1])(i.data):"object"==typeof e[1]&&(r=e[1]),this.batch(()=>{const o=i.data,s=r;i.data=r,this.changes.push({type:"EdgeDataUpdated",id:t,oldValue:o,newValue:s})})}mergeEdgeData(e,t){this.batch(()=>{Object.entries(t).forEach(([i,r])=>{this.updateEdgeDataProperty(e,i,r)})})}checkTreeExistence(e){if(!this.hasTreeStructure(e))throw new Error("Tree structure not found for treeKey: "+e)}hasTreeStructure(e){return this.treeIndices.has(e)}attachTreeStructure(e){this.treeIndices.has(e)||(this.treeIndices.set(e,{parentMap:new Map,childrenMap:new Map}),this.batch(()=>{this.changes.push({type:"TreeStructureAttached",treeKey:e})}))}detachTreeStructure(e){this.checkTreeExistence(e),this.treeIndices.delete(e),this.batch(()=>{this.changes.push({type:"TreeStructureDetached",treeKey:e})})}addTree(e,t){this.batch(()=>{this.attachTreeStructure(t);const i=[],r=Array.isArray(e)?e:[e];for(;r.length;){const o=r.shift();i.push(o),o.children&&r.push(...o.children)}this.addNodes(i),i.forEach(o=>{var s;null==(s=o.children)||s.forEach(a=>{this.setParent(a.id,o.id,t)})})})}getRoots(e){return this.checkTreeExistence(e),this.getAllNodes().filter(t=>!this.getParent(t.id,e))}getChildren(e,t){this.checkNodeExistence(e),this.checkTreeExistence(t);const i=this.treeIndices.get(t).childrenMap.get(e);return Array.from(i||[])}getParent(e,t){return this.checkNodeExistence(e),this.checkTreeExistence(t),this.treeIndices.get(t).parentMap.get(e)||null}getAncestors(e,t){const i=[];let o,r=this.getNode(e);for(;o=this.getParent(r.id,t);)i.push(o),r=o;return i}setParent(e,t,i){var r,o;this.checkTreeExistence(i);const s=this.treeIndices.get(i),a=this.getNode(e),l=s.parentMap.get(e);if(l?.id===t)return;if(void 0===t)return l&&(null==(r=s.childrenMap.get(l.id))||r.delete(a)),void s.parentMap.delete(e);const u=this.getNode(t);s.parentMap.set(e,u),l&&(null==(o=s.childrenMap.get(l.id))||o.delete(a));let d=s.childrenMap.get(u.id);d||(d=new Set,s.childrenMap.set(u.id,d)),d.add(a),this.batch(()=>{this.changes.push({type:"TreeStructureChanged",treeKey:i,nodeId:e,oldParentId:l?.id,newParentId:u.id})})}dfsTree(e,t,i){return RR(this.getNode(e),new Set,t,o=>this.getChildren(o,i))}bfsTree(e,t,i){return F9([this.getNode(e)],new Set,t,o=>this.getChildren(o,i))}getAllNodes(){return Array.from(this.nodeMap.values())}getAllEdges(){return Array.from(this.edgeMap.values())}bfs(e,t,i="out"){const r={in:this.getPredecessors.bind(this),out:this.getSuccessors.bind(this),both:this.getNeighbors.bind(this)}[i];return F9([this.getNode(e)],new Set,t,r)}dfs(e,t,i="out"){const r={in:this.getPredecessors.bind(this),out:this.getSuccessors.bind(this),both:this.getNeighbors.bind(this)}[i];return RR(this.getNode(e),new Set,t,r)}clone(){const e=this.getAllNodes().map(r=>({...r,data:{...r.data}})),t=this.getAllEdges().map(r=>({...r,data:{...r.data}})),i=new dut({nodes:e,edges:t});return this.treeIndices.forEach(({parentMap:r,childrenMap:o},s)=>{const a=new Map;r.forEach((u,d)=>{a.set(d,i.getNode(u.id))});const l=new Map;o.forEach((u,d)=>{l.set(d,new Set(Array.from(u).map(f=>i.getNode(f.id))))}),i.treeIndices.set(s,{parentMap:a,childrenMap:l})}),i}toJSON(){return JSON.stringify({nodes:this.getAllNodes(),edges:this.getAllEdges()})}createView(e){return new c0t({graph:this,...e})}};class B9{constructor(e,t){this.context=e,this.options=t||{}}}function PR(n){const{nodes:e,edges:t}=n,i={nodes:[],edges:[],combos:[]};return e.forEach(r=>{const o=r.data._isCombo?i.combos:i.nodes,{x:s,y:a,z:l=0}=r.data;o?.push({id:r.id,style:{x:s,y:a,z:l}})}),t.forEach(r=>{const{id:o,source:s,target:a,data:{points:l=[],controlPoints:u=l.slice(1,l.length-1)}}=r;i.edges.push({id:o,source:s,target:a,style:Object.assign({},null!=u&&u.length?{controlPoints:u.map(Ua)}:{})})}),i}function f0t(n,e){return class t extends B9{constructor(r,o){if(super(r,o),this.instance=new n({}),this.id=this.instance.id,"stop"in this.instance&&"tick"in this.instance){const s=this.instance;this.stop=s.stop.bind(s),this.tick=a=>PR(s.tick(a))}}execute(r,o){return function(n,e,t,i){return new(t||(t=Promise))(function(o,s){function a(d){try{u(i.next(d))}catch(f){s(f)}}function l(d){try{u(i.throw(d))}catch(f){s(f)}}function u(d){d.done?o(d.value):function r(o){return o instanceof t?o:new t(function(s){s(o)})}(d.value).then(a,l)}u((i=i.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){return PR(yield this.instance.execute(this.graphData2LayoutModel(r),this.transformOptions(La({},this.options,o))))})}transformOptions(r){const{onTick:o}=r;return o&&(r.onTick=s=>o(PR(s))),r}graphData2LayoutModel(r){const{nodes:o=[],edges:s=[],combos:a=[]}=r,l=o.map(y=>{const b=We(y),{data:E,style:w,combo:M}=y,x=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t}(y,["data","style","combo"]),D={id:b,data:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},E),{data:E}),M?{parentId:M}:{}),{style:w}),x)};return null!=w&&w.x&&Object.assign(D.data,{x:w.x}),null!=w&&w.y&&Object.assign(D.data,{y:w.y}),null!=w&&w.z&&Object.assign(D.data,{z:w.z}),D}),u=new Map(l.map(y=>[y.id,y])),d=s.filter(y=>{const{source:b,target:E}=y;return u.has(b)&&u.has(E)}).map(y=>{const{source:b,target:E,data:w,style:M}=y;return{id:We(y),source:b,target:E,data:Object.assign({},w),style:Object.assign({},M)}}),f=a.map(y=>({id:We(y),data:Object.assign({_isCombo:!0},y.data),style:Object.assign({},y.style)})),m=new Da({nodes:[...l,...f],edges:d});return e.model.model.hasTreeStructure(So)&&(m.attachTreeStructure(So),l.forEach(y=>{const b=e.model.model.getParent(y.id,So);b&&m.hasNode(b.id)&&m.setParent(y.id,b.id,So)})),m}}}function j9(n,e,...t){if(e in n)return n[e](...t);if("instance"in n){const i=n.instance;if(e in i)return i[e](...t)}return null}function iX(n,e){if(e in n)return n[e];if("instance"in n){const t=n.instance;if(e in t)return t[e]}return null}var rX=function(n,e,t,i){return new(t||(t=Promise))(function(o,s){function a(d){try{u(i.next(d))}catch(f){s(f)}}function l(d){try{u(i.throw(d))}catch(f){s(f)}}function u(d){d.done?o(d.value):function r(o){return o instanceof t?o:new t(function(s){s(o)})}(d.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};let g0t=(()=>{class n extends za{constructor(t,i){super(t,Object.assign({},n.defaultOptions,i)),this.isZoomEvent=r=>!(!r.data||!("scale"in r.data)),this.relatedEdgeToUpdate=new Set,this.zoom=this.context.graph.getZoom(),this.fixElementSize=r=>rX(this,void 0,void 0,function*(){if(!this.validate(r))return;const{graph:o}=this.context,{state:s,nodeFilter:a,edgeFilter:l,comboFilter:u}=this.options,d=(s?o.getElementDataByState("node",s):o.getNodeData()).filter(a),f=(s?o.getElementDataByState("edge",s):o.getEdgeData()).filter(l),m=(s?o.getElementDataByState("combo",s):o.getComboData()).filter(u),y=this.isZoomEvent(r)?this.zoom=Math.max(.01,Math.min(r.data.scale,10)):this.zoom,b=[...d,...m];b.length>0&&b.forEach(E=>this.fixNodeLike(E,y)),this.updateRelatedEdges(),f.length>0&&f.forEach(E=>this.fixEdge(E,y))}),this.cachedStyles=new Map,this.getOriginalFieldValue=(r,o,s)=>{var a;const l=this.cachedStyles.get(r)||[],u=(null===(a=l.find(d=>d.shape===o))||void 0===a?void 0:a.style)||{};return s in u||(u[s]=o.attributes[s],this.cachedStyles.set(r,[...l.filter(d=>d.shape!==o),{shape:o,style:u}])),u[s]},this.scaleEntireElement=(r,o,s)=>{o.setLocalScale(1/s);const a=this.cachedStyles.get(r)||[];a.push({shape:o}),this.cachedStyles.set(r,a)},this.scaleSpecificShapes=(r,o,s)=>{const a=function rR(n){const e=[],t=i=>{null!=i&&i.children.length&&i.children.forEach(r=>{e.push(r),t(r)})};return t(n),e}(r);(Array.isArray(s)?s:[s]).forEach(l=>{const{shape:u,fields:d}=l,f="function"==typeof u?u(a):r.getShape(u);if(f){if(!d)return void this.scaleEntireElement(r.id,f,o);d.forEach(m=>{const y=this.getOriginalFieldValue(r.id,f,m);oi(y)&&(f.style[m]=y/o)})}})},this.skipIfExceedViewport=r=>{const{viewport:o}=this.context;return!(null!=o&&o.isInViewport(r.getRenderBounds(),!1,30))},this.fixNodeLike=(r,o)=>{const s=We(r),{element:a,model:l}=this.context,u=a.getElement(s);if(!u||this.skipIfExceedViewport(u))return;l.getRelatedEdgesData(s).forEach(f=>this.relatedEdgeToUpdate.add(We(f)));const d=this.options[u.type];d?this.scaleSpecificShapes(u,o,d):this.scaleEntireElement(s,u,o)},this.fixEdge=(r,o)=>{const s=We(r),a=this.context.element.getElement(s);if(!a||this.skipIfExceedViewport(a))return;const l=this.options.edge;if(!l)return a.style.transformOrigin="center",void this.scaleEntireElement(s,a,o);this.scaleSpecificShapes(a,o,l)},this.updateRelatedEdges=()=>{const{element:r}=this.context;this.relatedEdgeToUpdate.size>0&&this.relatedEdgeToUpdate.forEach(o=>{const s=r.getElement(o);s?.update({})}),this.relatedEdgeToUpdate.clear()},this.resetTransform=r=>rX(this,void 0,void 0,function*(){var o;null!==(o=r.data)&&void 0!==o&&o.firstRender||(this.options.reset?this.restoreCachedStyles():this.fixElementSize({data:{scale:this.zoom}}))}),this.bindEvents()}restoreCachedStyles(){if(this.cachedStyles.size>0){this.cachedStyles.forEach(o=>{o.forEach(({shape:s,style:a})=>{if(dp(a))s.setLocalScale(1);else{if(this.options.state)return;Object.entries(a).forEach(([l,u])=>s.style[l]=u)}})});const{graph:t,element:i}=this.context,r=Object.keys(Object.fromEntries(this.cachedStyles)).filter(o=>o&&"node"===t.getElementType(o));if(r.length>0){const o=new Set;r.forEach(s=>{t.getRelatedEdgesData(s).forEach(a=>o.add(We(a)))}),o.forEach(s=>{const a=i?.getElement(s);a?.update({})})}}}bindEvents(){const{graph:t}=this.context;t.on(Dn.AFTER_DRAW,this.resetTransform),t.on(Dn.AFTER_TRANSFORM,this.fixElementSize)}unbindEvents(){const{graph:t}=this.context;t.off(Dn.AFTER_DRAW,this.resetTransform),t.off(Dn.AFTER_TRANSFORM,this.fixElementSize)}validate(t){if(this.destroyed)return!1;const{enable:i}=this.options;return ii(i)?i(t):!!i}destroy(){this.unbindEvents(),super.destroy()}}return n.defaultOptions={enable:e=>e.data.scale<1,nodeFilter:()=>!0,edgeFilter:()=>!0,comboFilter:()=>!0,edge:[{shape:"key",fields:["lineWidth"]},{shape:"halo",fields:["lineWidth"]},{shape:"label"}],reset:!1},n})();let y0t=(()=>{class n extends za{constructor(t,i){super(t,Object.assign({},n.defaultOptions,i)),this.focus=r=>function(n,e,t,i){return new(t||(t=Promise))(function(o,s){function a(d){try{u(i.next(d))}catch(f){s(f)}}function l(d){try{u(i.throw(d))}catch(f){s(f)}}function u(d){d.done?o(d.value):function r(o){return o instanceof t?o:new t(function(s){s(o)})}(d.value).then(a,l)}u((i=i.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){if(!this.validate(r))return;const{graph:o}=this.context;yield o.focusElement(r.target.id,this.options.animation)}),this.bindEvents()}bindEvents(){const{graph:t}=this.context;this.unbindEvents(),Vm.forEach(i=>{t.on(`${i}:${gn.CLICK}`,this.focus)})}validate(t){if(this.destroyed)return!1;const{enable:i}=this.options;return ii(i)?i(t):!!i}unbindEvents(){const{graph:t}=this.context;Vm.forEach(i=>{t.off(`${i}:${gn.CLICK}`,this.focus)})}destroy(){this.unbindEvents(),super.destroy()}}return n.defaultOptions={animation:{easing:"ease-in",duration:500},enable:!0},n})(),b0t=(()=>{class n extends za{constructor(t,i){super(t,Object.assign({},n.defaultOptions,i)),this.isFrozen=!1,this.toggleFrozen=r=>{this.isFrozen="dragstart"===r.type},this.hoverElement=r=>{if(!this.validate(r))return;const o=r.type===gn.POINTER_ENTER;this.updateElementsState(r,o);const{onHover:s,onHoverEnd:a}=this.options;o?s?.(r):a?.(r)},this.updateElementsState=(r,o)=>{if(!this.options.state&&!this.options.inactiveState)return;const{graph:s}=this.context,{state:a,animation:l,inactiveState:u}=this.options,d=this.getActiveIds(r),f={};if(a&&Object.assign(f,this.getElementsState(d,a,o)),u){const m=HC(s.getData(),!0).filter(y=>!d.includes(y));Object.assign(f,this.getElementsState(m,u,o))}s.setElementState(f,l)},this.getElementsState=(r,o,s)=>{const{graph:a}=this.context,l={};return r.forEach(u=>{const d=a.getElementState(u);l[u]=s?d.includes(o)?d:[...d,o]:d.filter(f=>f!==o)}),l},this.bindEvents()}bindEvents(){const{graph:t}=this.context;this.unbindEvents(),Vm.forEach(r=>{t.on(`${r}:${gn.POINTER_ENTER}`,this.hoverElement),t.on(`${r}:${gn.POINTER_LEAVE}`,this.hoverElement)});const i=this.context.canvas.document;i.addEventListener(`${gn.DRAG_START}`,this.toggleFrozen),i.addEventListener(`${gn.DRAG_END}`,this.toggleFrozen)}getActiveIds(t){const{graph:i}=this.context,{degree:r,direction:o}=this.options,s=t.target.id;return r?F8(i,t.targetType,s,"function"==typeof r?r(t):r,o):[s]}validate(t){if(this.destroyed||this.isFrozen||TR(t.target)||this.context.graph.isCollapsingExpanding)return!1;const{enable:i}=this.options;return ii(i)?i(t):!!i}unbindEvents(){const{graph:t}=this.context;Vm.forEach(r=>{t.off(`${r}:${gn.POINTER_ENTER}`,this.hoverElement),t.off(`${r}:${gn.POINTER_LEAVE}`,this.hoverElement)});const i=this.context.canvas.document;i.removeEventListener(`${gn.DRAG_START}`,this.toggleFrozen),i.removeEventListener(`${gn.DRAG_END}`,this.toggleFrozen)}destroy(){this.unbindEvents(),super.destroy()}}return n.defaultOptions={animation:!1,enable:!0,degree:0,direction:"both",state:"active",inactiveState:void 0},n})(),E0t=(()=>{class n extends za{constructor(t,i){super(t,Object.assign({},n.defaultOptions,i)),this.hiddenShapes=[],this.isVisible=!0,this.setElementsVisibility=(r,o,s)=>{r.filter(Boolean).forEach(a=>{"hidden"!==o||a.isVisible()?"visible"===o&&this.hiddenShapes.includes(a)?this.hiddenShapes.splice(this.hiddenShapes.indexOf(a),1):Lm(a,o,!1,s):this.hiddenShapes.push(a)})},this.filterShapes=(r,o)=>{if(ii(o))return a=>!o(r,a);const s=o?.[r];return a=>!a.className||!(null!=s&&s.includes(a.className))},this.hideShapes=r=>{if(!this.validate(r)||!this.isVisible)return;const{element:o}=this.context,{shapes:s={}}=this.options;this.setElementsVisibility(o.getNodes(),"hidden",this.filterShapes("node",s)),this.setElementsVisibility(o.getEdges(),"hidden",this.filterShapes("edge",s)),this.setElementsVisibility(o.getCombos(),"hidden",this.filterShapes("combo",s)),this.isVisible=!1},this.showShapes=K0(r=>{if(!this.validate(r)||this.isVisible)return;const{element:o}=this.context;this.setElementsVisibility(o.getNodes(),"visible"),this.setElementsVisibility(o.getEdges(),"visible"),this.setElementsVisibility(o.getCombos(),"visible"),this.isVisible=!0},this.options.debounce),this.bindEvents()}bindEvents(){const{graph:t}=this.context;t.on(Dn.BEFORE_TRANSFORM,this.hideShapes),t.on(Dn.AFTER_TRANSFORM,this.showShapes)}unbindEvents(){const{graph:t}=this.context;t.off(Dn.BEFORE_TRANSFORM,this.hideShapes),t.off(Dn.AFTER_TRANSFORM,this.showShapes)}validate(t){if(this.destroyed)return!1;const{enable:i}=this.options;return ii(i)?i(t):!!i}update(t){this.unbindEvents(),super.update(t),this.bindEvents()}destroy(){this.unbindEvents(),super.destroy()}}return n.defaultOptions={enable:!0,debounce:200,shapes:e=>"node"===e},n})();var oX=function(n,e,t,i){return new(t||(t=Promise))(function(o,s){function a(d){try{u(i.next(d))}catch(f){s(f)}}function l(d){try{u(i.throw(d))}catch(f){s(f)}}function u(d){d.done?o(d.value):function r(o){return o instanceof t?o:new t(function(s){s(o)})}(d.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};let w0t=(()=>{class n extends za{constructor(t,i){super(t,Object.assign({},n.defaultOptions,i)),this.onWheel=r=>oX(this,void 0,void 0,function*(){this.options.preventDefault&&r.preventDefault();const o=r.deltaX,s=r.deltaY;yield this.scroll([-o,-s],r)}),this.shortcut=new Sf(t.graph),this.bindEvents()}update(t){super.update(t),this.bindEvents()}bindEvents(){var t,i;const{trigger:r}=this.options;if(this.shortcut.unbindAll(),mo(r)){null===(t=this.graphDom)||void 0===t||t.removeEventListener(gn.WHEEL,this.onWheel);const{up:o=[],down:s=[],left:a=[],right:l=[]}=r;this.shortcut.bind(o,u=>this.scroll([0,-10],u)),this.shortcut.bind(s,u=>this.scroll([0,10],u)),this.shortcut.bind(a,u=>this.scroll([-10,0],u)),this.shortcut.bind(l,u=>this.scroll([10,0],u))}else null===(i=this.graphDom)||void 0===i||i.addEventListener(gn.WHEEL,this.onWheel,{passive:!1})}get graphDom(){return this.context.graph.getCanvas().getContextService().getDomElement()}formatDisplacement(t){const{sensitivity:i}=this.options;return t=ph(t,i),t=this.clampByDirection(t),this.clampByRange(t)}clampByDirection([t,i]){const{direction:r}=this.options;return"x"===r?i=0:"y"===r&&(t=0),[t,i]}clampByRange([t,i]){const{viewport:r,canvas:o}=this.context,[s,a]=o.getSize(),[l,u,d,f]=dh(this.options.range),m=[a*l,s*u,a*d,s*f],y=wf(II(r.getCanvasCenter()),m),b=Do(r.getViewportCenter(),[t,i,0]);if(!Al(b,y)){const{min:[E,w],max:[M,x]}=y;(b[0]<E&&t>0||b[0]>M&&t<0)&&(t=0),(b[1]<w&&i>0||b[1]>x&&i<0)&&(i=0)}return[t,i]}scroll(t,i){return oX(this,void 0,void 0,function*(){if(!this.validate(i))return;const{onFinish:r}=this.options,o=this.context.graph,s=this.formatDisplacement(t);yield o.translateBy(s,!1),r?.()})}validate(t){if(this.destroyed)return!1;const{enable:i}=this.options;return ii(i)?i(t):!!i}destroy(){var t;this.shortcut.destroy(),null===(t=this.graphDom)||void 0===t||t.removeEventListener(gn.WHEEL,this.onWheel),super.destroy()}}return n.defaultOptions={enable:!0,sensitivity:1,preventDefault:!0,range:1/0},n})();var sX=function(n,e,t,i){return new(t||(t=Promise))(function(o,s){function a(d){try{u(i.next(d))}catch(f){s(f)}}function l(d){try{u(i.throw(d))}catch(f){s(f)}}function u(d){d.done?o(d.value):function r(o){return o instanceof t?o:new t(function(s){s(o)})}(d.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};let x0t=(()=>{class n extends za{constructor(t,i){super(t,Object.assign({},n.defaultOptions,i)),this.zoom=(r,o,s)=>sX(this,void 0,void 0,function*(){if(!this.validate(o))return;const{graph:a}=this.context;let l;"viewport"in o&&(l=Ua(o.viewport));const{sensitivity:u,onFinish:d}=this.options,f=1+Ys(r,-50,50)*u/100,m=a.getZoom();yield a.zoomTo(m*f,s,l),d?.()}),this.onReset=()=>sX(this,void 0,void 0,function*(){yield this.context.graph.zoomTo(1,this.options.animation)}),this.preventDefault=r=>{this.options.preventDefault&&r.preventDefault()},this.shortcut=new Sf(t.graph),this.bindEvents()}update(t){super.update(t),this.bindEvents()}bindEvents(){var t;const{trigger:i}=this.options;if(this.shortcut.unbindAll(),Array.isArray(i)&&(null===(t=this.context.canvas.getContainer())||void 0===t||t.addEventListener(gn.WHEEL,this.preventDefault),this.shortcut.bind([...i,gn.WHEEL],r=>{const{deltaX:o,deltaY:s}=r;this.zoom(-(s??o),r,!1)})),"object"==typeof i){const{zoomIn:r=[],zoomOut:o=[],reset:s=[]}=i;this.shortcut.bind(r,a=>this.zoom(10,a,this.options.animation)),this.shortcut.bind(o,a=>this.zoom(-10,a,this.options.animation)),this.shortcut.bind(s,this.onReset)}}validate(t){if(this.destroyed)return!1;const{enable:i}=this.options;return ii(i)?i(t):!!i}destroy(){var t;this.shortcut.destroy(),null===(t=this.context.canvas.getContainer())||void 0===t||t.removeEventListener(gn.WHEEL,this.preventDefault),super.destroy()}}return n.defaultOptions={animation:{duration:200},enable:!0,sensitivity:1,trigger:[],preventDefault:!0},n})();var Xm={assign:Object.assign,getHeight:function M0t(n,e,t,i){return void 0===i&&(i="height"),"center"===t?(n[i]+e[i])/2:n.height}},aX=Xm,S0t={getId:function(n){return n.id||n.name},getPreH:function(n){return n.preH||0},getPreV:function(n){return n.preV||0},getHGap:function(n){return n.hgap||18},getVGap:function(n){return n.vgap||18},getChildren:function(n){return n.children},getHeight:function(n){return n.height||36},getWidth:function(n){return n.width||18*(n.label||" ").split("").length}};function NR(n,e){var t=this;if(t.vgap=t.hgap=0,n instanceof NR)return n;t.data=n;var i=e.getHGap(n),r=e.getVGap(n);return t.preH=e.getPreH(n),t.preV=e.getPreV(n),t.width=e.getWidth(n),t.height=e.getHeight(n),t.width+=t.preH,t.height+=t.preV,t.id=e.getId(n),t.x=t.y=0,t.depth=0,t.children||(t.children=[]),t.addGap(i,r),t}aX.assign(NR.prototype,{isRoot:function(){return 0===this.depth},isLeaf:function(){return 0===this.children.length},addGap:function(n,e){var t=this;t.hgap+=n,t.vgap+=e,t.width+=2*n,t.height+=2*e},eachNode:function(n){for(var i,t=[this];i=t.shift();)n(i),t=i.children.concat(t)},DFTraverse:function(n){this.eachNode(n)},BFTraverse:function(n){for(var i,t=[this];i=t.shift();)n(i),t=t.concat(i.children)},getBoundingBox:function(){var n={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode(function(e){n.left=Math.min(n.left,e.x),n.top=Math.min(n.top,e.y),n.width=Math.max(n.width,e.x+e.width),n.height=Math.max(n.height,e.y+e.height)}),n},translate:function(n,e){void 0===n&&(n=0),void 0===e&&(e=0),this.eachNode(function(t){t.x+=n,t.y+=e,t.x+=t.preH,t.y+=t.preV})},right2left:function(){var n=this,e=n.getBoundingBox();n.eachNode(function(t){t.x=t.x-2*(t.x-e.left)-t.width}),n.translate(e.width,0)},bottom2top:function(){var n=this,e=n.getBoundingBox();n.eachNode(function(t){t.y=t.y-2*(t.y-e.top)-t.height}),n.translate(0,e.height)}});var cX=function D0t(n,e,t){void 0===e&&(e={});var o,i=new NR(n,e=aX.assign({},S0t,e)),r=[i];if(!t&&!n.collapsed)for(;o=r.shift();)if(!o.data.collapsed){var s=e.getChildren(o.data),a=s?s.length:0;if(o.children=new Array(a),s&&a)for(var l=0;l<a;l++){var u=new NR(s[l],e);o.children[l]=u,r.push(u),u.parent=o,u.depth=o.depth+1}}return i},T0t=cX,A0t=function(){function n(t,i){void 0===i&&(i={}),this.options=i,this.rootNode=T0t(t,i)}return n.prototype.execute=function(){throw new Error("please override this method")},n}(),LR=A0t;function D3(n,e,t,i){void 0===i&&(i=[]);var r=this;r.w=n||0,r.h=e||0,r.y=t||0,r.x=0,r.c=i||[],r.cs=i.length,r.prelim=0,r.mod=0,r.shift=0,r.change=0,r.tl=null,r.tr=null,r.el=null,r.er=null,r.msel=0,r.mser=0}function uX(n,e,t){t?n.y+=e:n.x+=e,n.children.forEach(function(i){uX(i,e,t)})}function dX(n,e){var t=e?n.y:n.x;return n.children.forEach(function(i){t=Math.min(dX(i,e),t)}),t}function O0t(n,e){uX(n,-dX(n,e),e)}function hX(n,e,t){t?e.y=n.x:e.x=n.x,n.c.forEach(function(i,r){hX(i,e.children[r],t)})}function fX(n,e,t){void 0===t&&(t=0),e?(n.x=t,t+=n.width):(n.y=t,t+=n.height),n.children.forEach(function(i){fX(i,e,t)})}D3.fromNode=function(n,e){if(!n)return null;var t=[];return n.children.forEach(function(i){t.push(D3.fromNode(i,e))}),e?new D3(n.height,n.width,n.x,t):new D3(n.width,n.height,n.y,t)};var pX=cX,mX=function(n,e){for(var t=pX(n.data,e,!0),i=pX(n.data,e,!0),r=n.children.length,o=Math.round(r/2),s=e.getSide||function(d,f){return f<o?"right":"left"},a=0;a<r;a++){var l=n.children[a];"right"===s(l,a)?i.children.push(l):t.children.push(l)}return t.eachNode(function(d){d.isRoot()||(d.side="left")}),i.eachNode(function(d){d.isRoot()||(d.side="right")}),{left:t,right:i}},I0t=mX,Ym=["LR","RL","TB","BT","H","V"],R0t=["LR","RL","H"],N0t=Ym[0],z9=function(n,e,t){var i=e.direction||N0t;if(e.isHorizontal=function(n){return R0t.indexOf(n)>-1}(i),i&&-1===Ym.indexOf(i))throw new TypeError("Invalid direction: "+i);if(i===Ym[0])t(n,e);else if(i===Ym[1])t(n,e),n.right2left();else if(i===Ym[2])t(n,e);else if(i===Ym[3])t(n,e),n.bottom2top();else if(i===Ym[4]||i===Ym[5]){var r=I0t(n,e),o=r.left,s=r.right;t(o,e),t(s,e),e.isHorizontal?o.right2left():o.bottom2top(),s.translate(o.x-s.x,o.y-s.y),n.x=o.x,n.y=s.y;var a=n.getBoundingBox();e.isHorizontal?a.top<0&&n.translate(0,-a.top):a.left<0&&n.translate(-a.left,0)}var l=e.fixedRoot;return void 0===l&&(l=!0),l&&n.translate(-(n.x+n.width/2+n.hgap),-(n.y+n.height/2+n.vgap)),function L0t(n,e){if(e.radial){var t=e.isHorizontal?["x","y"]:["y","x"],i=t[0],r=t[1],o={x:1/0,y:1/0},s={x:-1/0,y:-1/0},a=0;n.DFTraverse(function(d){a++;var f=d.x,m=d.y;o.x=Math.min(o.x,f),o.y=Math.min(o.y,m),s.x=Math.max(s.x,f),s.y=Math.max(s.y,m)});var l=s[r]-o[r];if(0===l)return;var u=2*Math.PI/a;n.DFTraverse(function(d){var f=(d[r]-o[r])/l*(2*Math.PI-u)+u,m=d[i]-n[i];d.x=Math.cos(f)*m,d.y=Math.sin(f)*m})}}(n,e),n};function U9(n,e){return(U9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t})(n,e)}var j0t=function(n,e){void 0===e&&(e={});var t=e.isHorizontal;function r(x){0===x.cs?(x.el=x,x.er=x,x.msel=x.mser=0):(x.el=x.c[0].el,x.msel=x.c[0].msel,x.er=x.c[x.cs-1].er,x.mser=x.c[x.cs-1].mser)}function o(x,D,k){for(var T=x.c[D-1],O=T.mod,R=x.c[D],L=R.mod;null!==T&&null!==R;){u(T)>k.low&&(k=k.nxt);var F=O+T.prelim+T.w-(L+R.prelim);F>0&&(L+=F,s(x,D,k.index,F));var U=u(T),$=u(R);U<=$&&null!==(T=l(T))&&(O+=T.mod),U>=$&&null!==(R=a(R))&&(L+=R.mod)}!T&&R?function d(x,D,k,T){var O=x.c[0].el;O.tl=k;var R=T-k.mod-x.c[0].msel;O.mod+=R,O.prelim-=R,x.c[0].el=x.c[D].el,x.c[0].msel=x.c[D].msel}(x,D,R,L):T&&!R&&function f(x,D,k,T){var O=x.c[D].er;O.tr=k;var R=T-k.mod-x.c[D].mser;O.mod+=R,O.prelim-=R,x.c[D].er=x.c[D-1].er,x.c[D].mser=x.c[D-1].mser}(x,D,T,O)}function s(x,D,k,T){x.c[D].mod+=T,x.c[D].msel+=T,x.c[D].mser+=T,function b(x,D,k,T){if(k!==D-1){var O=D-k;x.c[k+1].shift+=T/O,x.c[D].shift-=T/O,x.c[D].change-=T-T/O}}(x,D,k,T)}function a(x){return 0===x.cs?x.tl:x.c[0]}function l(x){return 0===x.cs?x.tr:x.c[x.cs-1]}function u(x){return x.y+x.h}function w(x,D,k){for(;null!==k&&x>=k.low;)k=k.nxt;return{low:x,index:D,nxt:k}}fX(n,t);var M=D3.fromNode(n,t);return function i(x){if(0!==x.cs){i(x.c[0]);for(var D=w(u(x.c[0].el),0,null),k=1;k<x.cs;++k){i(x.c[k]);var T=u(x.c[k].er);o(x,k,D),D=w(T,k,D)}(function m(x){x.prelim=(x.c[0].prelim+x.c[0].mod+x.c[x.cs-1].mod+x.c[x.cs-1].prelim+x.c[x.cs-1].w)/2-x.w/2})(x),r(x)}else r(x)}(M),function y(x,D){x.x=x.prelim+(D+=x.mod),function E(x){for(var D=0,k=0,T=0;T<x.cs;T++)x.c[T].mod+=k+=(D+=x.c[T].shift)+x.c[T].change}(x);for(var k=0;k<x.cs;k++)y(x.c[k],D)}(M,0),hX(M,n,t),O0t(n,t),n},V0t=z9,z0t=Xm,U0t=function(n){function e(){return n.apply(this,arguments)||this}return function F0t(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,U9(n,e)}(e,n),e.prototype.execute=function(){return V0t(this.rootNode,this.options,j0t)},e}(LR),H0t={},W0t=Xm;function K0t(n,e){void 0===e&&(e=[]);var t=this;t.x=t.y=0,t.leftChild=t.rightChild=null,t.height=0,t.children=e}var X0t={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};function gX(n,e,t){t?(e.x=n.x,e.y=n.y):(e.x=n.y,e.y=n.x),n.children.forEach(function(i,r){gX(i,e.children[r],t)})}function H9(n,e){return(H9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t})(n,e)}var q0t=function(n,e){void 0===e&&(e={}),e=W0t.assign({},X0t,e);var o,t=0,a=function i(l){if(!l)return null;l.width=0,l.depth&&l.depth>t&&(t=l.depth);var u=l.children,d=u.length,f=new K0t(l.height,[]);return u.forEach(function(m,y){var b=i(m);f.children.push(b),0===y&&(f.leftChild=b),y===d-1&&(f.rightChild=b)}),f.originNode=l,f.isLeaf=l.isLeaf(),f}(n);return function r(l){if(l.isLeaf||0===l.children.length)l.drawingDepth=t;else{var u=l.children.map(function(f){return r(f)}),d=Math.min.apply(null,u);l.drawingDepth=d-1}return l.drawingDepth}(a),function s(l){l.x=l.drawingDepth*e.rankSep,l.isLeaf?(l.y=0,o&&(l.y=o.y+o.height+e.nodeSep,l.originNode.parent!==o.originNode.parent&&(l.y+=e.subTreeSep)),o=l):(l.children.forEach(function(u){s(u)}),l.y=(l.leftChild.y+l.rightChild.y)/2)}(a),gX(a,n,e.isHorizontal),n},J0t=z9,tmt=Xm,emt=function(n){function e(){return n.apply(this,arguments)||this}return function Z0t(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,H9(n,e)}(e,n),e.prototype.execute=function(){var i=this;return i.rootNode.width=0,J0t(i.rootNode,i.options,q0t)},e}(LR),nmt={},vX=Xm;function G9(n,e){return(G9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t})(n,e)}var FR=function(n,e,t,i){var r=null;n.eachNode(function(o){(function omt(n,e,t,i,r){var o=("function"==typeof t?t(n):t)*n.depth;if(!i)try{if(n.id===n.parent.children[0].id)return n.x+=o,void(n.y=e?e.y:0)}catch{}if(n.x+=o,e){if(n.y=e.y+vX.getHeight(e,n,r),e.parent&&n.parent.id!==e.parent.id){var s=e.parent,a=s.y+vX.getHeight(s,n,r);n.y=a>n.y?a:n.y}}else n.y=0})(o,r,e,t,i),r=o})},cmt=mX,umt=Xm,T3=["LR","RL","H"],dmt=T3[0],hmt=function(n){function e(){return n.apply(this,arguments)||this}return function amt(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,G9(n,e)}(e,n),e.prototype.execute=function(){var r=this.options,o=this.rootNode;r.isHorizontal=!0;var s=r.indent,a=void 0===s?20:s,l=r.dropCap,u=void 0===l||l,d=r.direction,f=void 0===d?dmt:d,m=r.align;if(f&&-1===T3.indexOf(f))throw new TypeError("Invalid direction: "+f);if(f===T3[0])FR(o,a,u,m);else if(f===T3[1])FR(o,a,u,m),o.right2left();else if(f===T3[2]){var y=cmt(o,r),b=y.left,E=y.right;FR(b,a,u,m),b.right2left(),FR(E,a,u,m);var w=b.getBoundingBox();E.translate(w.width,0),o.x=E.x-o.width/2}return o},e}(LR),fmt={},gmt=Xm;function yX(n,e){var t=0;return n.children.length?n.children.forEach(function(i){t+=yX(i,e)}):t=n.height,n._subTreeSep=e.getSubTreeSep(n.data),n.totalHeight=Math.max(n.height,t)+2*n._subTreeSep,n.totalHeight}function bX(n){var e=n.children,t=e.length;if(t){e.forEach(function(l){bX(l)});var i=e[0],r=e[t-1],o=r.y-i.y+r.height,s=0;if(e.forEach(function(l){s+=l.totalHeight}),o>n.height)n.y=i.y+o/2-n.height/2;else if(1!==e.length||n.height>s){var a=n.y+(n.height-o)/2-i.y;e.forEach(function(l){l.translate(0,a)})}else n.y=(i.y+i.height/2+r.y+r.height/2)/2-n.height/2}}var vmt={getSubTreeSep:function(){return 0}};function $9(n,e){return($9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t})(n,e)}var Emt=function(n,e){void 0===e&&(e={}),e=gmt.assign({},vmt,e),n.parent={x:0,width:0,height:0,y:0},n.BFTraverse(function(t){t.x=t.parent.x+t.parent.width}),n.parent=null,yX(n,e),n.startY=0,n.y=n.totalHeight/2-n.height/2,n.eachNode(function(t){var i=t.children,r=i.length;if(r){var o=i[0];if(o.startY=t.startY+t._subTreeSep,1===r)o.y=t.y+t.height/2-o.height/2;else{o.y=o.startY+o.totalHeight/2-o.height/2;for(var s=1;s<r;s++){var a=i[s];a.startY=i[s-1].startY+i[s-1].totalHeight,a.y=a.startY+a.totalHeight/2-a.height/2}}}}),bX(n)},wmt=z9,xmt=Xm,Mmt=function(n){function e(){return n.apply(this,arguments)||this}return function bmt(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,$9(n,e)}(e,n),e.prototype.execute=function(){return wmt(this.rootNode,this.options,Emt)},e}(LR),Cmt={},BR={compactBox:function G0t(n,e){return e=z0t.assign({},H0t,e),new U0t(n,e).execute()},dendrogram:function imt(n,e){return e=tmt.assign({},nmt,e),new emt(n,e).execute()},indented:function pmt(n,e){return e=umt.assign({},fmt,e),new hmt(n,e).execute()},mindmap:function Smt(n,e){return e=xmt.assign({},Cmt,e),new Mmt(n,e).execute()}};const Amt=(n,e)=>{if("next"!==n&&"prev"!==n)return e},_X=n=>{n.prev.next=n.next,n.next.prev=n.prev,delete n.next,delete n.prev};let Omt=class{constructor(){const n={};n.prev=n,n.next=n.prev,this.shortcut=n}dequeue(){const n=this.shortcut,e=n.prev;if(e&&e!==n)return _X(e),e}enqueue(n){const e=this.shortcut;n.prev&&n.next&&_X(n),n.next=e.next,e.next.prev=n,e.next=n,n.prev=e}toString(){const n=[],e=this.shortcut;let t=e.prev;for(;t!==e;)n.push(JSON.stringify(t,Amt)),t=t?.prev;return`[${n.join(", ")}]`}},kmt=class extends Omt{};const Imt=()=>1,W9=(n,e,t,i,r)=>{var o,s;const a=[];return n.hasNode(i.v)&&(null===(o=n.getRelatedEdges(i.v,"in"))||void 0===o||o.forEach(l=>{const u=l.data.weight,d=n.getNode(l.source);r&&a.push({v:l.source,w:l.target,in:0,out:0}),void 0===d.data.out&&(d.data.out=0),d.data.out-=u,K9(e,t,Object.assign({v:d.id},d.data))}),null===(s=n.getRelatedEdges(i.v,"out"))||void 0===s||s.forEach(l=>{const u=l.data.weight,f=n.getNode(l.target);void 0===f.data.in&&(f.data.in=0),f.data.in-=u,K9(e,t,Object.assign({v:f.id},f.data))}),n.removeNode(i.v)),r?a:void 0},K9=(n,e,t)=>{t.out?t.in?n[t.out-t.in+e].enqueue(t):n[n.length-1].enqueue(t):n[0].enqueue(t)},Lmt=(n,e)=>{const t="greedy"===e?((n,e)=>{var t;if(n.getAllNodes().length<=1)return[];const i=((n,e)=>{const t=new Da;let i=0,r=0;n.getAllNodes().forEach(l=>{t.addNode({id:l.id,data:{v:l.id,in:0,out:0}})}),n.getAllEdges().forEach(l=>{const u=t.getRelatedEdges(l.source,"out").find(f=>f.target===l.target),d=e?.(l)||1;u?t.updateEdgeData(u?.id,Object.assign(Object.assign({},u.data),{weight:u.data.weight+d})):t.addEdge({id:l.id,source:l.source,target:l.target,data:{weight:d}}),r=Math.max(r,t.getNode(l.source).data.out+=d),i=Math.max(i,t.getNode(l.target).data.in+=d)});const o=[],s=r+i+3;for(let l=0;l<s;l++)o.push(new kmt);const a=i+1;return t.getAllNodes().forEach(l=>{K9(o,a,Object.assign({v:l.id},t.getNode(l.id).data))}),{buckets:o,zeroIdx:a,graph:t}})(n,e||Imt);return null===(t=((n,e,t)=>{let i=[];const r=e[e.length-1],o=e[0];let s;for(;n.getAllNodes().length;){for(;s=o.dequeue();)W9(n,e,t,s);for(;s=r.dequeue();)W9(n,e,t,s);if(n.getAllNodes().length)for(let a=e.length-2;a>0;--a)if(s=e[a].dequeue(),s){i=i.concat(W9(n,e,t,s,!0));break}}return i})(i.graph,i.buckets,i.zeroIdx).map(r=>n.getRelatedEdges(r.v,"out").filter(({target:o})=>o===r.w)))||void 0===t?void 0:t.flat()})(n,(()=>r=>r.data.weight||1)()):Fmt(n);t?.forEach(i=>{const r=i.data;n.removeEdge(i.id),r.forwardName=i.data.name,r.reversed=!0,n.addEdge({id:i.id,source:i.target,target:i.source,data:Object.assign({},r)})})},Fmt=n=>{const e=[],t={},i={},r=o=>{i[o]||(i[o]=!0,t[o]=!0,n.getRelatedEdges(o,"out").forEach(s=>{t[s.target]?e.push(s):r(s.target)}),delete t[o])};return n.getAllNodes().forEach(o=>r(o.id)),e},jmt=(n,e)=>Number(n)-Number(e),C_=(n,e,t,i)=>{let r;do{r=`${i}${Math.random()}`}while(n.hasNode(r));return t.dummy=e,n.addNode({id:r,data:t}),r},EX=n=>{const e=new Da;return n.getAllNodes().forEach(t=>{n.getChildren(t.id).length||e.addNode(Object.assign({},t))}),n.getAllEdges().forEach(t=>{e.addEdge(t)}),e},wX=(n,e)=>{const t=Number(n.x),i=Number(n.y),r=Number(e.x)-t,o=Number(e.y)-i;let l,u,s=Number(n.width)/2,a=Number(n.height)/2;return r||o?(Math.abs(o)*s>Math.abs(r)*a?(o<0&&(a=-a),l=a*r/o,u=a):(r<0&&(s=-s),l=s,u=s*o/r),{x:t+l,y:i+u}):{x:0,y:0}},A3=n=>{const e=[],t=MX(n)+1;for(let i=0;i<t;i++)e.push([]);n.getAllNodes().forEach(i=>{const r=i.data.rank;void 0!==r&&e[r]&&e[r].push(i.id)});for(let i=0;i<t;i++)e[i]=e[i].sort((r,o)=>jmt(n.getNode(r).data.order,n.getNode(o).data.order));return e},xX=(n,e,t,i)=>{const r={width:0,height:0};return oi(t)&&oi(i)&&(r.rank=t,r.order=i),C_(n,"border",r,e)},MX=n=>{let e;return n.getAllNodes().forEach(t=>{const i=t.data.rank;void 0!==i&&(void 0===e||i>e)&&(e=i)}),e||(e=0),e},X9=(n,e)=>n.reduce((t,i)=>e(t)>e(i)?i:t),CX=(n,e,t,i,r,o)=>{i.includes(e.id)||(i.push(e.id),t||o.push(e.id),r(e.id).forEach(s=>CX(n,s,t,i,r,o)),t&&o.push(e.id))},SX=(n,e,t,i)=>{const r=Array.isArray(e)?e:[e],o=l=>n.getNeighbors(l),s=[],a=[];return r.forEach(l=>{if(!n.hasNode(l.id))throw new Error(`Graph does not have node: ${l}`);CX(n,l,"post"===t,a,o,s)}),s},DX=(n,e,t,i,r,o)=>{const a=r.data[e][o-1],l=C_(n,"border",{rank:o,borderType:e,width:0,height:0},t);r.data[e][o]=l,n.setParent(l,i),a&&n.addEdge({id:`e${Math.random()}`,source:a,target:l,data:{weight:1}})},TX=n=>{n.getAllNodes().forEach(e=>{AX(e)}),n.getAllEdges().forEach(e=>{AX(e)})},AX=n=>{const e=n.data.width;n.data.width=n.data.height,n.data.height=e},Y9=n=>{null!=n&&n.y&&(n.y=-n.y)},Z9=n=>{const e=n.x;n.x=n.y,n.y=e},OX=(n,e,t,i,r,o,s)=>{const a=n.getChildren(s);if(null==a||!a.length)return void(s!==e&&n.addEdge({id:`e${Math.random()}`,source:e,target:s,data:{weight:0,minlen:t}}));const l=xX(n,"_bt"),u=xX(n,"_bb"),d=n.getNode(s);n.setParent(l,s),d.data.borderTop=l,n.setParent(u,s),d.data.borderBottom=u,a?.forEach(f=>{OX(n,e,t,i,r,o,f.id);const m=f.data.borderTop?f.data.borderTop:f.id,y=f.data.borderBottom?f.data.borderBottom:f.id,b=f.data.borderTop?i:2*i,E=m!==y?1:r-o[s]+1;n.addEdge({id:`e${Math.random()}`,source:l,target:m,data:{minlen:E,weight:b,nestingEdge:!0}}),n.addEdge({id:`e${Math.random()}`,source:y,target:u,data:{minlen:E,weight:b,nestingEdge:!0}})}),n.getParent(s)||n.addEdge({id:`e${Math.random()}`,source:e,target:l,data:{weight:0,minlen:r+o[s]}})},kX="edge-label",agt=(n,e,t)=>{const i=((n,e)=>n?.reduce((t,i,r)=>(t[i]=e[r],t),{}))(t,t.map((u,d)=>d)),r=e.map(u=>{const d=n.getRelatedEdges(u,"out").map(f=>({pos:i[f.target]||0,weight:f.data.weight}));return d?.sort((f,m)=>f.pos-m.pos)}).flat().filter(u=>void 0!==u);let o=1;for(;o<t.length;)o<<=1;const s=2*o-1;o-=1;const a=Array(s).fill(0,0,s);let l=0;return r?.forEach(u=>{if(u){let d=u.pos+o;a[d]+=u.weight;let f=0;for(;d>0;)d%2&&(f+=a[d+1]),d=d-1>>1,a[d]+=u.weight;l+=u.weight*f}}),l},IX=(n,e)=>{let t=0;for(let i=1;i<e?.length;i+=1)t+=agt(n,e[i-1],e[i]);return t},RX=n=>{const e={},t=n.getAllNodes(),i=t.map(l=>{var u;return null!==(u=l.data.rank)&&void 0!==u?u:-1/0}),r=Math.max(...i),o=[];for(let l=0;l<r+1;l++)o.push([]);const s=t.sort((l,u)=>n.getNode(l.id).data.rank-n.getNode(u.id).data.rank),a=s.filter(l=>void 0!==n.getNode(l.id).data.fixorder).sort((l,u)=>n.getNode(l.id).data.fixorder-n.getNode(u.id).data.fixorder);return a?.forEach(l=>{isNaN(n.getNode(l.id).data.rank)||o[n.getNode(l.id).data.rank].push(l.id),e[l.id]=!0}),s?.forEach(l=>n.dfsTree(l.id,u=>{if(e.hasOwnProperty(u.id))return!0;e[u.id]=!0,isNaN(u.data.rank)||o[u.data.rank].push(u.id)})),o},dgt=(n,e)=>{var t;let i=0,r=0;n.weight&&(i+=n.barycenter*n.weight,r+=n.weight),e.weight&&(i+=e.barycenter*e.weight,r+=e.weight),n.vs=null===(t=e.vs)||void 0===t?void 0:t.concat(n.vs),n.barycenter=i/r,n.weight=r,n.i=Math.min(e.i,n.i),e.merged=!0},PX=(n,e,t)=>{let r,i=t;for(;e.length&&(r=e[e.length-1]).i<=i;)e.pop(),n?.push(r.vs),i++;return i},NX=(n,e,t,i,r,o)=>{var s,a,l,u;let d=n.getChildren(e).map(x=>x.id);const f=n.getNode(e),m=f?f.data.borderLeft:void 0,y=f?f.data.borderRight:void 0,b={};m&&(d=d?.filter(x=>x!==m&&x!==y));const E=((n,e)=>e.map(t=>{const i=n.getRelatedEdges(t,"in");if(null==i||!i.length)return{v:t};const r={sum:0,weight:0};return i?.forEach(o=>{const s=n.getNode(o.source);r.sum+=o.data.weight*s.data.order,r.weight+=o.data.weight}),{v:t,barycenter:r.sum/r.weight,weight:r.weight}}))(n,d||[]);E?.forEach(x=>{var D;if(null!==(D=n.getChildren(x.v))&&void 0!==D&&D.length){const k=NX(n,x.v,t,i,o);b[x.v]=k,k.hasOwnProperty("barycenter")&&mgt(x,k)}});const w=((n,e)=>{var t,i,r;const o={};n?.forEach((a,l)=>{o[a.v]={i:l,indegree:0,in:[],out:[],vs:[a.v]};const u=o[a.v];void 0!==a.barycenter&&(u.barycenter=a.barycenter,u.weight=a.weight)}),null===(t=e.getAllEdges())||void 0===t||t.forEach(a=>{const l=o[a.source],u=o[a.target];void 0!==l&&void 0!==u&&(u.indegree++,l.out.push(o[a.target]))});const s=null===(r=(i=Object.values(o)).filter)||void 0===r?void 0:r.call(i,a=>!a.indegree);return(n=>{var e,t;const i=[],r=l=>u=>{u.merged||(void 0===u.barycenter||void 0===l.barycenter||u.barycenter>=l.barycenter)&&dgt(l,u)},o=l=>u=>{u.in.push(l),0==--u.indegree&&n.push(u)};for(;null!=n&&n.length;){const l=n.pop();i.push(l),null===(e=l.in.reverse())||void 0===e||e.forEach(u=>r(l)(u)),null===(t=l.out)||void 0===t||t.forEach(u=>o(l)(u))}const s=i.filter(l=>!l.merged),a=["vs","i","barycenter","weight"];return s.map(l=>{const u={};return a?.forEach(d=>{void 0!==l[d]&&(u[d]=l[d])}),u})})(s)})(E,t);pgt(w,b),null===(s=w.filter(x=>x.vs.length>0))||void 0===s||s.forEach(x=>{const D=n.getNode(x.vs[0]);D&&(x.fixorder=D.data.fixorder,x.order=D.data.order)});const M=((n,e,t,i)=>{const r=((n,e)=>{const t={lhs:[],rhs:[]};return n?.forEach(i=>{e(i)?t.lhs.push(i):t.rhs.push(i)}),t})(n,m=>{const y=m.hasOwnProperty("fixorder")&&!isNaN(m.fixorder);return i?!y&&m.hasOwnProperty("barycenter"):y||m.hasOwnProperty("barycenter")}),o=r.lhs,s=r.rhs.sort((m,y)=>-m.i- -y.i),a=[];let l=0,u=0,d=0;o?.sort(((n,e)=>(t,i)=>{if(void 0!==t.fixorder&&void 0!==i.fixorder)return t.fixorder-i.fixorder;if(t.barycenter<i.barycenter)return-1;if(t.barycenter>i.barycenter)return 1;if(e&&void 0!==t.order&&void 0!==i.order){if(t.order<i.order)return-1;if(t.order>i.order)return 1}return n?i.i-t.i:t.i-i.i})(!!e,!!t)),d=PX(a,s,d),o?.forEach(m=>{var y;d+=null===(y=m.vs)||void 0===y?void 0:y.length,a.push(m.vs),l+=m.barycenter*m.weight,u+=m.weight,d=PX(a,s,d)});const f={vs:a.flat()};return u&&(f.barycenter=l/u,f.weight=u),f})(w,i,r,o);if(m&&(M.vs=[m,M.vs,y].flat(),null!==(a=n.getPredecessors(m))&&void 0!==a&&a.length)){const x=n.getNode((null===(l=n.getPredecessors(m))||void 0===l?void 0:l[0].id)||""),D=n.getNode((null===(u=n.getPredecessors(y))||void 0===u?void 0:u[0].id)||"");M.hasOwnProperty("barycenter")||(M.barycenter=0,M.weight=0),M.barycenter=(M.barycenter*M.weight+x.data.order+D.data.order)/(M.weight+2),M.weight+=2}return M},pgt=(n,e)=>{n?.forEach(t=>{var i;const r=null===(i=t.vs)||void 0===i?void 0:i.map(o=>e[o]?e[o].vs:o);t.vs=r.flat()})},mgt=(n,e)=>{void 0!==n.barycenter?(n.barycenter=(n.barycenter*n.weight+e.barycenter*e.weight)/(n.weight+e.weight),n.weight+=e.weight):(n.barycenter=e.barycenter,n.weight=e.weight)},LX=(n,e,t)=>e.map(i=>((n,e,t)=>{const i=(n=>{let e;for(;n.hasNode(e=`_root${Math.random()}`););return e})(n),r=new Da({tree:[{id:i,children:[],data:{}}]});return n.getAllNodes().forEach(o=>{const s=n.getParent(o.id);(o.data.rank===e||o.data.minRank<=e&&e<=o.data.maxRank)&&(r.hasNode(o.id)||r.addNode(Object.assign({},o)),null!=s&&s.id&&!r.hasNode(s?.id)&&r.addNode(Object.assign({},s)),r.setParent(o.id,s?.id||i),n.getRelatedEdges(o.id,t).forEach(a=>{const l=a.source===o.id?a.target:a.source;r.hasNode(l)||r.addNode(Object.assign({},n.getNode(l)));const u=r.getRelatedEdges(l,"out").find(({target:f})=>f===o.id),d=void 0!==u?u.data.weight:0;u?r.updateEdgeData(u.id,Object.assign(Object.assign({},u.data),{weight:a.data.weight+d})):r.addEdge({id:a.id,source:l,target:o.id,data:{weight:a.data.weight+d}})}),o.data.hasOwnProperty("minRank")&&r.updateNodeData(o.id,Object.assign(Object.assign({},o.data),{borderLeft:o.data.borderLeft[e],borderRight:o.data.borderRight[e]})))}),r})(n,i,t)),FX=(n,e,t,i)=>{const r=new Da;n?.forEach(o=>{var s;const a=o.getRoots()[0].id,l=NX(o,a,r,e,t,i);for(let u=0;u<(null===(s=l.vs)||void 0===s?void 0:s.length);u++){const d=o.getNode(l.vs[u]);d&&(d.data.order=u)}((n,e,t)=>{const i={};let r;t?.forEach(o=>{let a,l,s=n.getParent(o);for(;s;){if(a=n.getParent(s.id),a?(l=i[a.id],i[a.id]=s.id):(l=r,r=s.id),l&&l!==s.id)return e.hasNode(l)||e.addNode({id:l,data:{}}),e.hasNode(s.id)||e.addNode({id:s.id,data:{}}),void(e.hasEdge(`e${l}-${s.id}`)||e.addEdge({id:`e${l}-${s.id}`,source:l,target:s.id,data:{}}));s=a}})})(o,r,l.vs)})},Q9=(n,e)=>{e?.forEach(t=>{t?.forEach((i,r)=>{n.getNode(i).data.order=r})})},BX=(n,e,t)=>{let i=e,r=t;if(i>r){const s=i;i=r,r=s}let o=n[i];o||(n[i]=o={}),o[r]=!0},Mgt=(n,e,t)=>{let i=e,r=t;return i>t&&(i=t,r=e),!!n[i]},kgt=(n,e,t)=>(i,r,o)=>{const s=i.getNode(r),a=i.getNode(o);let l=0,u=0;if(l+=s.data.width/2,s.data.hasOwnProperty("labelpos"))switch((s.data.labelpos||"").toLowerCase()){case"l":u=-s.data.width/2;break;case"r":u=s.data.width/2}if(u&&(l+=t?u:-u),u=0,l+=(s.data.dummy?e:n)/2,l+=(a.data.dummy?e:n)/2,l+=a.data.width/2,a.data.labelpos)switch((a.data.labelpos||"").toLowerCase()){case"l":u=a.data.width/2;break;case"r":u=-a.data.width/2}return u&&(l+=t?u:-u),u=0,l},Pgt=(n,e)=>{const{align:t,nodesep:i=0,edgesep:r=0}=e||{},o=A3(n),s=Object.assign(((n,e)=>{const t={};return null!=e&&e.length&&e.reduce((r,o)=>{let s=0,a=0;const l=r.length,u=o?.[o?.length-1];return o?.forEach((d,f)=>{var m;const y=((n,e)=>{var t,i;if(null!==(t=n.getNode(e))&&void 0!==t&&t.data.dummy)return null===(i=n.getPredecessors(e))||void 0===i?void 0:i.find(r=>n.getNode(r.id).data.dummy)})(n,d),b=y?n.getNode(y.id).data.order:l;(y||d===u)&&(null===(m=o.slice(a,f+1))||void 0===m||m.forEach(E=>{var w;null===(w=n.getPredecessors(E))||void 0===w||w.forEach(M=>{var x;const D=n.getNode(M.id),k=D.data.order;(k<s||b<k)&&(!D.data.dummy||null===(x=n.getNode(E))||void 0===x||!x.data.dummy)&&BX(t,M.id,E)})}),a=f+1,s=b)}),o}),t})(n,o),((n,e)=>{const t={};function o(a,l){const u=function r(a){return JSON.stringify(a.slice(1))}(a);l.get(u)||(function i(a,l,u,d,f){var m,y;let b;for(let E=l;E<u;E++)b=a[E],null!==(m=n.getNode(b))&&void 0!==m&&m.data.dummy&&(null===(y=n.getPredecessors(b))||void 0===y||y.forEach(w=>{const M=n.getNode(w.id);M.data.dummy&&(M.data.order<d||M.data.order>f)&&BX(t,w.id,b)}))}(...a),l.set(u,!0))}return null!=e&&e.length&&e.reduce((a,l)=>{let d,u=-1,f=0;const m=new Map;return l?.forEach((y,b)=>{var E;if("border"===(null===(E=n.getNode(y))||void 0===E?void 0:E.data.dummy)){const w=n.getPredecessors(y)||[];w.length&&(d=n.getNode(w[0].id).data.order,o([l,f,b,u,d],m),f=b,u=d)}o([l,f,l.length,d,a.length],m)}),l}),t})(n,o)),a={};let l=[];["u","d"].forEach(d=>{l="u"===d?o:Object.values(o).reverse(),["l","r"].forEach(f=>{"r"===f&&(l=l.map(E=>Object.values(E).reverse()));const m=("u"===d?n.getPredecessors:n.getSuccessors).bind(n),y=((n,e,t,i)=>{const r={},o={},s={};return e?.forEach(a=>{a?.forEach((l,u)=>{r[l]=l,o[l]=l,s[l]=u})}),e?.forEach(a=>{let l=-1;a?.forEach(u=>{let d=i(u).map(f=>f.id);if(d.length){d=d.sort((m,y)=>s[m]-s[y]);const f=(d.length-1)/2;for(let m=Math.floor(f),y=Math.ceil(f);m<=y;++m){const b=d[m];o[u]===u&&l<s[b]&&!Mgt(t,u,b)&&(o[b]=u,o[u]=r[u]=r[b],l=s[b])}}})}),{root:r,align:o}})(0,l,s,m),b=((n,e,t,i,r,o,s)=>{var a;const l={},u=((n,e,t,i,r,o)=>{const s=new Da,a=kgt(i,r,o);return e?.forEach(l=>{let u;l?.forEach(d=>{const f=t[d];if(s.hasNode(f)||s.addNode({id:f,data:{}}),u){const m=t[u],y=s.getRelatedEdges(m,"out").find(b=>b.target===f);y?s.updateEdgeData(y.id,Object.assign(Object.assign({},y.data),{weight:Math.max(a(n,d,u),y.data.weight||0)})):s.addEdge({id:`e${Math.random()}`,source:m,target:f,data:{weight:Math.max(a(n,d,u),0)}})}u=d})}),s})(n,e,t,r,o,s),d=s?"borderLeft":"borderRight",f=(b,E)=>{let w=u.getAllNodes(),M=w.pop();const x={};for(;M;)x[M.id]?b(M.id):(x[M.id]=!0,w.push(M),w=w.concat(E(M.id))),M=w.pop()};return f(b=>{l[b]=(u.getRelatedEdges(b,"in")||[]).reduce((E,w)=>Math.max(E,(l[w.source]||0)+w.data.weight),0)},u.getPredecessors.bind(u)),f(b=>{const E=(u.getRelatedEdges(b,"out")||[]).reduce((M,x)=>Math.min(M,(l[x.target]||0)-x.data.weight),Number.POSITIVE_INFINITY),w=n.getNode(b);E!==Number.POSITIVE_INFINITY&&w.data.borderType!==d&&(l[b]=Math.max(l[b],E))},u.getSuccessors.bind(u)),null===(a=Object.values(i))||void 0===a||a.forEach(b=>{l[b]=l[t[b]]}),l})(n,l,y.root,y.align,i,r,"r"===f);"r"===f&&Object.keys(b).forEach(E=>b[E]=-b[E]),a[d+f]=b})});const u=((n,e)=>X9(Object.values(e),t=>{var i;let r=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY;return null===(i=Object.keys(t))||void 0===i||i.forEach(s=>{const a=t[s],l=((n,e)=>n.getNode(e).data.width||0)(n,s)/2;r=Math.max(a+l,r),o=Math.min(a-l,o)}),r-o}))(n,a);return u&&function Agt(n,e){const t=Object.values(e),i=Math.min(...t),r=Math.max(...t);["u","d"].forEach(o=>{["l","r"].forEach(s=>{const a=o+s,l=n[a];let u;if(l===e)return;const d=Object.values(l);u="l"===s?i-Math.min(...d):r-Math.max(...d),u&&(n[a]={},Object.keys(l).forEach(f=>{n[a][f]=l[f]+u}))})})}(a,u),((n,e)=>{const t={};return Object.keys(n.ul).forEach(i=>{if(e)t[i]=n[e.toLowerCase()][i];else{const r=Object.values(n).map(o=>o[i]);t[i]=(r[0]+r[1])/2}}),t})(a,t)},jX=n=>{const e={},t=i=>{var r;const o=n.getNode(i);if(!o)return 0;if(e[i])return o.data.rank;let s;return e[i]=!0,null===(r=n.getRelatedEdges(i,"out"))||void 0===r||r.forEach(a=>{const d=t(a.target)-a.data.minlen;d&&(void 0===s||d<s)&&(s=d)}),s||(s=0),o.data.rank=s,s};n.getAllNodes().filter(i=>0===n.getRelatedEdges(i.id,"in").length).forEach(i=>t(i.id))},Zm=(n,e)=>n.getNode(e.target).data.rank-n.getNode(e.source).data.rank-e.data.minlen,Bgt=(n,e)=>{const t=i=>{e.getRelatedEdges(i,"both").forEach(r=>{const o=r.source,s=i===o?r.target:o;!n.hasNode(s)&&!Zm(e,r)&&(n.addNode({id:s,data:{}}),n.addEdge({id:r.id,source:i,target:s,data:{}}),t(s))})};return n.getAllNodes().forEach(i=>t(i.id)),n.getAllNodes().length},Vgt=(n,e)=>{const t=i=>{var r;null===(r=e.getRelatedEdges(i,"both"))||void 0===r||r.forEach(o=>{const s=o.source,a=i===s?o.target:s;!n.hasNode(a)&&(void 0!==e.getNode(a).data.layer||!Zm(e,o))&&(n.addNode({id:a,data:{}}),n.addEdge({id:o.id,source:i,target:a,data:{}}),t(a))})};return n.getAllNodes().forEach(i=>t(i.id)),n.getAllNodes().length},VX=(n,e)=>X9(e.getAllEdges(),t=>n.hasNode(t.source)!==n.hasNode(t.target)?Zm(e,t):1/0),zX=(n,e,t)=>{n.getAllNodes().forEach(i=>{const r=e.getNode(i.id);r.data.rank||(r.data.rank=0),r.data.rank+=t})},UX=(n,e)=>{let t=SX(n,n.getAllNodes(),"post");t=t.slice(0,t?.length-1),t.forEach(i=>{Ugt(n,e,i)})},Ugt=(n,e,t)=>{const i=n.getNode(t).data.parent;n.getRelatedEdges(t,"both").find(o=>o.target===i||o.source===i).data.cutvalue=Hgt(n,e,t)},Hgt=(n,e,t)=>{const i=n.getNode(t).data.parent;let r=!0,o=e.getRelatedEdges(t,"out").find(a=>a.target===i),s=0;return o||(r=!1,o=e.getRelatedEdges(i,"out").find(a=>a.target===t)),s=o.data.weight,e.getRelatedEdges(t,"both").forEach(a=>{const l=a.source===t,u=l?a.target:a.source;if(u!==i){const d=l===r,f=a.data.weight;if(s+=d?f:-f,Xgt(n,t,u)){const m=n.getRelatedEdges(t,"both").find(y=>y.source===u||y.target===u).data.cutvalue;s+=d?-m:m}}}),s},HX=(n,e=n.getAllNodes()[0].id)=>{GX(n,{},1,e)},GX=(n,e,t,i,r)=>{var o;const s=t;let a=t;const l=n.getNode(i);return e[i]=!0,null===(o=n.getNeighbors(i))||void 0===o||o.forEach(u=>{e[u.id]||(a=GX(n,e,a,u.id,i))}),l.data.low=s,l.data.lim=a++,r?l.data.parent=r:delete l.data.parent,a},Ggt=n=>n.getAllEdges().find(e=>e.data.cutvalue<0),$gt=(n,e,t)=>{let i=t.source,r=t.target;e.getRelatedEdges(i,"out").find(d=>d.target===r)||(i=t.target,r=t.source);const o=n.getNode(i),s=n.getNode(r);let a=o,l=!1;o.data.lim>s.data.lim&&(a=s,l=!0);const u=e.getAllEdges().filter(d=>l===$X(n.getNode(d.source),a)&&l!==$X(n.getNode(d.target),a));return X9(u,d=>Zm(e,d))},Wgt=(n,e,t,i)=>{const r=n.getRelatedEdges(t.source,"both").find(o=>o.source===t.target||o.target===t.target);r&&n.removeEdge(r.id),n.addEdge({id:`e${Math.random()}`,source:i.source,target:i.target,data:{}}),HX(n),UX(n,e),Kgt(n,e)},Kgt=(n,e)=>{const t=n.getAllNodes().find(r=>!r.data.parent);let i=SX(n,t,"pre");i=i.slice(1),i.forEach(r=>{const o=n.getNode(r).data.parent;let s=e.getRelatedEdges(r,"out").find(l=>l.target===o),a=!1;!s&&e.hasNode(o)&&(s=e.getRelatedEdges(o,"out").find(l=>l.target===r),a=!0),e.getNode(r).data.rank=(e.hasNode(o)&&e.getNode(o).data.rank||0)+(a?s?.data.minlen:-s?.data.minlen)})},Xgt=(n,e,t)=>n.getRelatedEdges(e,"both").find(i=>i.source===t||i.target===t),$X=(n,e)=>e.data.low<=n.data.lim&&n.data.lim<=e.data.lim,Zgt=jX,Qgt=n=>{(n=>{const e=(n=>{const e=new Da;return n.getAllNodes().forEach(t=>{e.addNode(Object.assign({},t))}),n.getAllEdges().forEach(t=>{const i=e.getRelatedEdges(t.source,"out").find(r=>r.target===t.target);i?e.updateEdgeData(i?.id,Object.assign(Object.assign({},i.data),{weight:i.data.weight+t.data.weight||0,minlen:Math.max(i.data.minlen,t.data.minlen||1)})):e.addEdge({id:t.id,source:t.source,target:t.target,data:{weight:t.data.weight||0,minlen:t.data.minlen||1}})}),e})(n);jX(e);const t=(n=>{const e=new Da({tree:[]}),t=n.getAllNodes()[0],i=n.getAllNodes().length;let r,o;for(e.addNode(t);Bgt(e,n)<i;)r=VX(e,n),o=e.hasNode(r.source)?Zm(n,r):-Zm(n,r),zX(e,n,o);return e})(e);let i,r;for(HX(t),UX(t,e);i=Ggt(t);)r=$gt(t,e,i),Wgt(t,e,i,r)})(n)},Jgt=(n,e)=>{const{acyclicer:t,ranker:i,rankdir:r="tb",nodeOrder:o,keepNodeOrder:s,align:a,nodesep:l=50,edgesep:u=20,ranksep:d=50}=e;gvt(n),Lmt(n,t);const{nestingRoot:f,nodeRankFactor:m}=(n=>{const e=C_(n,"root",{},"_root"),t=(n=>{const e={},t=(i,r)=>{const o=n.getChildren(i);o?.forEach(s=>t(s.id,r+1)),e[i]=r};return n.getRoots().forEach(i=>t(i.id,1)),e})(n);let i=Math.max(...Object.values(t));Math.abs(i)===1/0&&(i=1);const r=i-1,o=2*r+1;n.getAllEdges().forEach(a=>{a.data.minlen*=o});const s=(n=>{let e=0;return n.getAllEdges().forEach(t=>{e+=t.data.weight}),e})(n)+1;return n.getRoots().forEach(a=>{OX(n,e,o,s,r,t,a.id)}),{nestingRoot:e,nodeRankFactor:o}})(n);((n,e)=>{switch(e){case"network-simplex":Qgt(n);break;case"tight-tree":default:(n=>{(n=>{const e={};let t;const i=s=>{var a;const l=n.getNode(s);if(!l)return 0;if(e[s])return l.data.rank;let u;return e[s]=!0,null===(a=n.getRelatedEdges(s,"out"))||void 0===a||a.forEach(d=>{const y=i(d.target)-d.data.minlen;y&&(void 0===u||y<u)&&(u=y)}),u||(u=0),(void 0===t||u<t)&&(t=u),l.data.rank=u,u};n.getAllNodes().filter(s=>0===n.getRelatedEdges(s.id,"in").length).forEach(s=>{s&&i(s.id)}),void 0===t&&(t=0);const r={},o=(s,a)=>{var l;const u=n.getNode(s),d=isNaN(u.data.layer)?a:u.data.layer;(void 0===u.data.rank||u.data.rank<d)&&(u.data.rank=d),!r[s]&&(r[s]=!0,null===(l=n.getRelatedEdges(s,"out"))||void 0===l||l.forEach(f=>{o(f.target,d+f.data.minlen)}))};n.getAllNodes().forEach(s=>{const a=s.data;a&&(isNaN(a.layer)?a.rank-=t:o(s.id,a.layer))})})(n),(n=>{const e=new Da({tree:[]}),t=n.getAllNodes()[0],i=n.getAllNodes().length;let r,o;for(e.addNode(t);Vgt(e,n)<i;)r=VX(e,n),o=e.hasNode(r.source)?Zm(n,r):-Zm(n,r),zX(e,n,o)})(n)})(n);break;case"longest-path":Zgt(n)}})(EX(n),i),lvt(n),((n,e=0)=>{const t=n.getAllNodes(),i=t.filter(a=>void 0!==a.data.rank).map(a=>a.data.rank),r=Math.min(...i),o=[];t.forEach(a=>{const l=(a.data.rank||0)-r;o[l]||(o[l]=[]),o[l].push(a.id)});let s=0;for(let a=0;a<o.length;a++){const l=o[a];void 0===l?a%e!=0&&(s-=1):s&&l?.forEach(u=>{const d=n.getNode(u);d&&(d.data.rank=d.data.rank||0,d.data.rank+=s)})}})(n,m),((n,e)=>{e&&n.removeNode(e),n.getAllEdges().forEach(t=>{t.data.nestingEdge&&n.removeEdge(t.id)})})(n,f),(n=>{const e=n.getAllNodes().filter(i=>void 0!==i.data.rank).map(i=>i.data.rank),t=Math.min(...e);n.getAllNodes().forEach(i=>{i.data.hasOwnProperty("rank")&&t!==1/0&&(i.data.rank-=t)})})(n),cvt(n),uvt(n);const y=[];((n,e)=>{n.getAllEdges().forEach(t=>((n,e,t)=>{let i=e.source,r=n.getNode(i).data.rank;const o=e.target,s=n.getNode(o).data.rank,a=e.data.labelRank;if(s===r+1)return;let l,u,d;for(n.removeEdge(e.id),d=0,++r;r<s;++d,++r)e.data.points=[],u={originalEdge:e,width:0,height:0,rank:r},l=C_(n,"edge",u,"_d"),r===a&&(u.width=e.data.width,u.height=e.data.height,u.dummy=kX,u.labelpos=e.data.labelpos),n.addEdge({id:`e${Math.random()}`,source:i,target:l,data:{weight:e.data.weight}}),0===d&&t.push(l),i=l;n.addEdge({id:`e${Math.random()}`,source:i,target:o,data:{weight:e.data.weight}})})(n,t,e))})(n,y),((n,e)=>{const t=(n=>{const e={};let t=0;const i=r=>{const o=t;n.getChildren(r).forEach(s=>i(s.id)),e[r]={low:o,lim:t++}};return n.getRoots().forEach(r=>i(r.id)),e})(n);e.forEach(i=>{var r,o;let s=i,a=n.getNode(s);const l=a.data.originalEdge;if(!l)return;const u=((n,e,t,i)=>{var r,o;const s=[],a=[],l=Math.min(e[t].low,e[i].low),u=Math.max(e[t].lim,e[i].lim);let d,f;d=t;do{d=null===(r=n.getParent(d))||void 0===r?void 0:r.id,s.push(d)}while(d&&(e[d].low>l||u>e[d].lim));for(f=d,d=i;d&&d!==f;)a.push(d),d=null===(o=n.getParent(d))||void 0===o?void 0:o.id;return{lca:f,path:s.concat(a.reverse())}})(n,t,l.source,l.target),d=u.path,f=u.lca;let m=0,y=d[m],b=!0;for(;s!==l.target;){if(a=n.getNode(s),b){for(;y!==f&&(null===(r=n.getNode(y))||void 0===r?void 0:r.data.maxRank)<a.data.rank;)m++,y=d[m];y===f&&(b=!1)}if(!b){for(;m<d.length-1&&(null===(o=n.getNode(d[m+1]))||void 0===o?void 0:o.data.minRank)<=a.data.rank;)m++;y=d[m]}n.hasNode(y)&&n.setParent(s,y),s=n.getSuccessors(s)[0].id}})})(n,y),(n=>{const e=t=>{const i=n.getChildren(t),r=n.getNode(t);if(null!=i&&i.length&&i.forEach(o=>e(o.id)),r.data.hasOwnProperty("minRank")){r.data.borderLeft=[],r.data.borderRight=[];for(let o=r.data.minRank,s=r.data.maxRank+1;o<s;o+=1)DX(n,"borderLeft","_bl",t,r,o),DX(n,"borderRight","_br",t,r,o)}};n.getRoots().forEach(t=>e(t.id))})(n),s&&((n,e)=>{const t=n.getAllNodes().filter(o=>{var s;return!(null!==(s=n.getChildren(o.id))&&void 0!==s&&s.length)}).map(o=>o.data.rank),i=Math.max(...t),r=[];for(let o=0;o<i+1;o++)r[o]=[];e?.forEach(o=>{const s=n.getNode(o);!s||s.data.dummy||isNaN(s.data.rank)||(s.data.fixorder=r[s.data.rank].length,r[s.data.rank].push(o))})})(n,o),((n,e)=>{const t=MX(n),i=[],r=[];for(let d=1;d<t+1;d++)i.push(d);for(let d=t-1;d>-1;d--)r.push(d);const o=LX(n,i,"in"),s=LX(n,r,"out");let a=RX(n);Q9(n,a);let u,l=Number.POSITIVE_INFINITY;for(let d=0,f=0;f<4;++d,++f){FX(d%2?o:s,d%4>=2,!1,e),a=A3(n);const m=IX(n,a);m<l&&(f=0,u=Jd(a),l=m)}a=RX(n),Q9(n,a);for(let d=0,f=0;f<4;++d,++f){FX(d%2?o:s,d%4>=2,!0,e),a=A3(n);const m=IX(n,a);m<l&&(f=0,u=Jd(a),l=m)}Q9(n,u)})(n,s),vvt(n),((n,e)=>{const t=e.toLowerCase();("lr"===t||"rl"===t)&&TX(n)})(n,r),((n,e)=>{var t;const i=EX(n);((n,e)=>{const{ranksep:t=0}=e||{},i=A3(n);let r=0;i?.forEach(o=>{const s=o.map(l=>n.getNode(l).data.height),a=Math.max(...s,0);o?.forEach(l=>{n.getNode(l).data.y=r+a/2}),r+=a+t})})(i,e);const r=Pgt(i,e);null===(t=Object.keys(r))||void 0===t||t.forEach(o=>{i.getNode(o).data.x=r[o]})})(n,{align:a,nodesep:l,edgesep:u,ranksep:d}),yvt(n),mvt(n),((n,e)=>{e.forEach(t=>{let i=n.getNode(t);const{data:r}=i,o=r.originalEdge;let s;o&&n.addEdge(o);let a=t;for(;i.data.dummy;)s=n.getSuccessors(a)[0],n.removeNode(a),o.data.points.push({x:i.data.x,y:i.data.y}),i.data.dummy===kX&&(o.data.x=i.data.x,o.data.y=i.data.y,o.data.width=i.data.width,o.data.height=i.data.height),a=s.id,i=n.getNode(a)})})(n,y),fvt(n),((n,e)=>{const t=e.toLowerCase();("bt"===t||"rl"===t)&&(n=>{n.getAllNodes().forEach(e=>{Y9(e.data)}),n.getAllEdges().forEach(e=>{var t;null===(t=e.data.points)||void 0===t||t.forEach(i=>Y9(i)),e.data.hasOwnProperty("y")&&Y9(e.data)})})(n),("lr"===t||"rl"===t)&&((n=>{n.getAllNodes().forEach(e=>{Z9(e.data)}),n.getAllEdges().forEach(e=>{var t;null===(t=e.data.points)||void 0===t||t.forEach(i=>Z9(i)),e.data.hasOwnProperty("x")&&Z9(e.data)})})(n),TX(n))})(n,r);const{width:b,height:E}=dvt(n);return hvt(n),pvt(n),(n=>{n.getAllEdges().forEach(e=>{const t=e.data;if(t.reversed){n.removeEdge(e.id);const i=t.forwardName;delete t.reversed,delete t.forwardName,n.addEdge({id:e.id,source:e.target,target:e.source,data:Object.assign(Object.assign({},t),{forwardName:i})})}})})(n),{width:b,height:E}},nvt=["width","height","layer","fixorder"],ivt={width:0,height:0},rvt=["minlen","weight","width","height","labeloffset"],ovt={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},KX=["labelpos"],lvt=n=>{n.getAllEdges().forEach(e=>{if(e.data.width&&e.data.height){const t=n.getNode(e.source),i=n.getNode(e.target);C_(n,"edge-proxy",{e,rank:(i.data.rank-t.data.rank)/2+t.data.rank},"_ep")}})},cvt=n=>{let e=0;return n.getAllNodes().forEach(t=>{var i,r;t.data.borderTop&&(t.data.minRank=null===(i=n.getNode(t.data.borderTop))||void 0===i?void 0:i.data.rank,t.data.maxRank=null===(r=n.getNode(t.data.borderBottom))||void 0===r?void 0:r.data.rank,e=Math.max(e,t.data.maxRank||-1/0))}),e},uvt=n=>{n.getAllNodes().forEach(e=>{"edge-proxy"===e.data.dummy&&(n.getEdge(e.data.e.id).data.labelRank=e.data.rank,n.removeNode(e.id))})},dvt=(n,e)=>{let t,r,i=0,o=0;const{marginx:s=0,marginy:a=0}={},l=u=>{if(!u.data)return;const d=u.data.x,f=u.data.y,m=u.data.width,y=u.data.height;!isNaN(d)&&!isNaN(m)&&(void 0===t&&(t=d-m/2),t=Math.min(t,d-m/2),i=Math.max(i,d+m/2)),!isNaN(f)&&!isNaN(y)&&(void 0===r&&(r=f-y/2),r=Math.min(r,f-y/2),o=Math.max(o,f+y/2))};return n.getAllNodes().forEach(u=>{l(u)}),n.getAllEdges().forEach(u=>{null!=u&&u.data.hasOwnProperty("x")&&l(u)}),t-=s,r-=a,n.getAllNodes().forEach(u=>{u.data.x-=t,u.data.y-=r}),n.getAllEdges().forEach(u=>{var d;null===(d=u.data.points)||void 0===d||d.forEach(f=>{f.x-=t,f.y-=r}),u.data.hasOwnProperty("x")&&(u.data.x-=t),u.data.hasOwnProperty("y")&&(u.data.y-=r)}),{width:i-t+s,height:o-r+a}},hvt=n=>{n.getAllEdges().forEach(e=>{const t=n.getNode(e.source),i=n.getNode(e.target);let r,o;e.data.points?(r=e.data.points[0],o=e.data.points[e.data.points.length-1]):(e.data.points=[],r={x:i.data.x,y:i.data.y},o={x:t.data.x,y:t.data.y}),e.data.points.unshift(wX(t.data,r)),e.data.points.push(wX(i.data,o))})},fvt=n=>{n.getAllEdges().forEach(e=>{if(e.data.hasOwnProperty("x"))switch(("l"===e.data.labelpos||"r"===e.data.labelpos)&&(e.data.width-=e.data.labeloffset),e.data.labelpos){case"l":e.data.x-=e.data.width/2+e.data.labeloffset;break;case"r":e.data.x+=e.data.width/2+e.data.labeloffset}})},pvt=n=>{n.getAllEdges().forEach(e=>{var t;e.data.reversed&&(null===(t=e.data.points)||void 0===t||t.reverse())})},mvt=n=>{n.getAllNodes().forEach(e=>{var t,i,r;if(null!==(t=n.getChildren(e.id))&&void 0!==t&&t.length){const o=n.getNode(e.id),s=n.getNode(o.data.borderTop),a=n.getNode(o.data.borderBottom),l=n.getNode(o.data.borderLeft[(null===(i=o.data.borderLeft)||void 0===i?void 0:i.length)-1]),u=n.getNode(o.data.borderRight[(null===(r=o.data.borderRight)||void 0===r?void 0:r.length)-1]);o.data.width=Math.abs(u?.data.x-l?.data.x)||10,o.data.height=Math.abs(a?.data.y-s?.data.y)||10,o.data.x=(l?.data.x||0)+o.data.width/2,o.data.y=(s?.data.y||0)+o.data.height/2}}),n.getAllNodes().forEach(e=>{"border"===e.data.dummy&&n.removeNode(e.id)})},gvt=n=>{n.getAllEdges().forEach(e=>{if(e.source===e.target){const t=n.getNode(e.source);t.data.selfEdges||(t.data.selfEdges=[]),t.data.selfEdges.push(e),n.removeEdge(e.id)}})},vvt=n=>{const e=A3(n);e?.forEach(t=>{let i=0;t?.forEach((r,o)=>{var s;const a=n.getNode(r);a.data.order=o+i,null===(s=a.data.selfEdges)||void 0===s||s.forEach(l=>{C_(n,"selfedge",{width:l.data.width,height:l.data.height,rank:a.data.rank,order:o+ ++i,e:l},"_se")}),delete a.data.selfEdges})})},yvt=n=>{n.getAllNodes().forEach(e=>{const t=n.getNode(e.id);if("selfedge"===t.data.dummy){const i=n.getNode(t.data.e.source),r=i.data.x+i.data.width/2,o=i.data.y,s=t.data.x-r,a=i.data.height/2;n.hasEdge(t.data.e.id)?n.updateEdgeData(t.data.e.id,t.data.e.data):n.addEdge({id:t.data.e.id,source:t.data.e.source,target:t.data.e.target,data:t.data.e.data}),n.removeNode(e.id),t.data.e.data.points=[{x:r+2*s/3,y:o-a},{x:r+5*s/6,y:o-a},{y:o,x:r+s},{x:r+5*s/6,y:o+a},{x:r+2*s/3,y:o+a}],t.data.e.data.x=t.data.x,t.data.e.data.y=t.data.y}})},XX=(n,e)=>{const t={};return e?.forEach(i=>{void 0!==n[i]&&(t[i]=+n[i])}),t},YX=(n={})=>{const e={};return Object.keys(n).forEach(t=>{e[t.toLowerCase()]=n[t]}),e},qp=Array.isArray,ZX=n=>{const e=[],t=n.length;for(let i=0;i<t;i+=1){e[i]=[];for(let r=0;r<t;r+=1)e[i][r]=i===r?0:0!==n[i][r]&&n[i][r]?n[i][r]:1/0}for(let i=0;i<t;i+=1)for(let r=0;r<t;r+=1)for(let o=0;o<t;o+=1)e[r][o]>e[r][i]+e[i][o]&&(e[r][o]=e[r][i]+e[i][o]);return e},QX=(n,e)=>{const{nodes:t,edges:i}=n,r=[],o={};if(!t)throw new Error("invalid nodes data!");return t&&t.forEach((s,a)=>{o[s.id]=a,r.push([])}),i?.forEach(s=>{const{source:a,target:l}=s,u=o[a],d=o[l];void 0===u||void 0===d||(r[u][d]=1,r[d][u]=1)}),r},qX=(n,e)=>Math.sqrt((n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y)),q9=(n,e,t,i="TB",r,o={})=>{if(null==e||!e.length)return;const{stopBranchFn:s,stopAllFn:a}=o;for(let l=0;l<e.length;l++){const u=e[l];if(n.hasNode(u.id)&&(null==s||!s(u))){if(null!=a&&a(u))return;"TB"===i&&t(u),q9(n,n.getChildren(u.id,r),t,i,r,o),"TB"!==i&&t(u)}}},J9=n=>{if(null===n)return n;if(n instanceof Date)return new Date(n.getTime());if(n instanceof Array){const e=[];return n.forEach(t=>{e.push(t)}),e.map(t=>J9(t))}if("object"==typeof n){const e={};return Object.keys(n).forEach(t=>{e[t]=J9(n[t])}),e}return n},Ou=(n,e)=>{const t=J9(n);return t.data=t.data||{},e&&(oi(t.data.x)||(t.data.x=Math.random()*e[0]),oi(t.data.y)||(t.data.y=Math.random()*e[1])),t};function O3(n){if(!n)return[0,0,0];if(oi(n))return[n,n,n];if(0===n.length)return[0,0,0];const[e,t=e,i=e]=n;return[e,t,i]}function H2(n,e){let t;return t=ii(e)?e:oi(e)?()=>e:()=>n,t}function t7(n,e,t=!0){return e||0===e?ii(e)?e:oi(e)?()=>e:Array.isArray(e)?()=>t?Math.max(...e)||n:e:mo(e)&&e.width&&e.height?()=>t?Math.max(e.width,e.height)||n:[e.width,e.height]:()=>n:i=>{const{size:r}=i.data||{};return r?Array.isArray(r)?t?Math.max(...r)||n:r:mo(r)&&r.width&&r.height?t?Math.max(r.width,r.height)||n:[r.width,r.height]:r:n}}const e7=(n,e,t=10)=>{let i;const r="function"==typeof e?e:()=>e||0;return i=n?Array.isArray(n)?o=>n:ii(n)?n:o=>n:o=>{var s,a,l;if(null!==(s=o.data)&&void 0!==s&&s.bboxSize)return null===(a=o.data)||void 0===a?void 0:a.bboxSize;if(null!==(l=o.data)&&void 0!==l&&l.size){const u=o.data.size;return Array.isArray(u)?u:mo(u)?[u.width,u.height]:u}return t},o=>{const s=i(o),a=r(o);return Math.max(...O3(s))+a}},Evt={rankdir:"TB",nodesep:50,ranksep:50,edgeLabelSpace:!0,ranker:"tight-tree",controlPoints:!1,radial:!1,focusNode:null},G2=(n,e,t)=>{const i=n.getAllNodes(),r=n.getAllEdges();return null!=i&&i.length?1===i.length?(e&&n.mergeNodeData(i[0].id,{x:t[0],y:t[1]}),{nodes:[Object.assign(Object.assign({},i[0]),{data:Object.assign(Object.assign({},i[0].data),{x:t[0],y:t[1]})})],edges:r}):void 0:{nodes:[],edges:r}},Mvt={radius:null,startRadius:null,endRadius:null,startAngle:0,endAngle:2*Math.PI,clockwise:!0,divisions:1,ordering:null,angleRatio:1},JX=(n,e,t=!1)=>{const i=[Ou(e[0])],r={},o=e.length;r[e[0].id]=!0;let s=0;return e.forEach((a,l)=>{if(0!==l)if(l!==o-1&&n.getDegree(a.id,"both")===n.getDegree(e[l+1].id,"both")&&!n.areNeighbors(i[s].id,a.id)||r[a.id]){const u=t?n.getSuccessors(i[s].id):n.getNeighbors(i[s].id);let d=!1;for(let m=0;m<u.length;m++){const y=u[m];if(n.getDegree(y.id)===n.getDegree(a.id)&&!r[y.id]){i.push(Ou(y)),r[y.id]=!0,d=!0;break}}let f=0;for(;!d&&(r[e[f].id]||(i.push(Ou(e[f])),r[e[f].id]=!0,d=!0),f++,f!==o););}else i.push(Ou(a)),r[a.id]=!0,s++}),i},Tvt={nodeSize:30,nodeSpacing:10,preventOverlap:!1,sweep:void 0,equidistant:!1,startAngle:1.5*Math.PI,clockwise:!0,maxLevelDiff:void 0,sortBy:"degree"};class n7{constructor(e={}){this.options=e,this.id="concentric",this.options=Object.assign(Object.assign({},Tvt),e)}execute(e,t){return pr(this,void 0,void 0,function*(){return this.genericConcentricLayout(!1,e,t)})}assign(e,t){return pr(this,void 0,void 0,function*(){yield this.genericConcentricLayout(!0,e,t)})}genericConcentricLayout(e,t,i){return pr(this,void 0,void 0,function*(){const r=Object.assign(Object.assign({},this.options),i),{center:o,width:s,height:a,sortBy:l,maxLevelDiff:u,sweep:d,clockwise:f,equidistant:m,preventOverlap:y,startAngle:b=1.5*Math.PI,nodeSize:E,nodeSpacing:w}=r,M=t.getAllNodes(),x=t.getAllEdges(),D=!s&&typeof window<"u"?window.innerWidth:s,k=!a&&typeof window<"u"?window.innerHeight:a,T=o||[D/2,k/2];if(null==M||!M.length||1===M.length)return G2(t,e,T);const O=[];let R,L=0;qp(E)?R=Math.max(E[0],E[1]):ii(E)?(R=-1/0,M.forEach(Q=>{const et=Math.max(...O3(E(Q)));et>R&&(R=et)})):R=E,qp(w)?L=Math.max(w[0],w[1]):oi(w)&&(L=w),M.forEach(Q=>{const et=Ou(Q);O.push(et);let St=R;const{data:Yt}=et;qp(Yt.size)?St=Math.max(Yt.size[0],Yt.size[1]):oi(Yt.size)?St=Yt.size:mo(Yt.size)&&(St=Math.max(Yt.size.width,Yt.size.height)),R=Math.max(R,St),ii(w)&&(L=Math.max(w(Q),L))});const F={};O.forEach((Q,et)=>{F[Q.id]=et});let U=l;(!Ki(U)||void 0===O[0].data[U])&&(U="degree"),O.sort("degree"===U?(Q,et)=>t.getDegree(et.id,"both")-t.getDegree(Q.id,"both"):(Q,et)=>et.data[U]-Q.data[U]);const $=O[0],X=(u||("degree"===U?t.getDegree($.id,"both"):$.data[U]))/4,q=[{nodes:[]}];let gt=q[0];O.forEach(Q=>{if(gt.nodes.length>0){const et=Math.abs("degree"===U?t.getDegree(gt.nodes[0].id,"both")-t.getDegree(Q.id,"both"):gt.nodes[0].data[U]-Q.data[U]);X&&et>=X&&(gt={nodes:[]},q.push(gt))}gt.nodes.push(Q)});let Et=R+L;if(!y){const Q=q.length>0&&q[0].nodes.length>1,et=(Math.min(D,k)/2-Et)/(q.length+(Q?1:0));Et=Math.min(Et,et)}let at=0;if(q.forEach(Q=>{const et=void 0===d?2*Math.PI-2*Math.PI/Q.nodes.length:d;if(Q.dTheta=et/Math.max(1,Q.nodes.length-1),Q.nodes.length>1&&y){const St=Math.cos(Q.dTheta)-Math.cos(0),Yt=Math.sin(Q.dTheta)-Math.sin(0),He=Math.sqrt(Et*Et/(St*St+Yt*Yt));at=Math.max(He,at)}Q.r=at,at+=Et}),m){let Q=0,et=0;for(let St=0;St<q.length;St++)Q=Math.max(Q,(q[St].r||0)-et);et=0,q.forEach((St,Yt)=>{0===Yt&&(et=St.r||0),St.r=et,et+=Q})}return q.forEach(Q=>{const et=Q.dTheta||0,St=Q.r||0;Q.nodes.forEach((Yt,He)=>{const Se=b+(f?1:-1)*et*He;Yt.data.x=T[0]+St*Math.cos(Se),Yt.data.y=T[1]+St*Math.sin(Se)})}),e&&O.forEach(Q=>t.mergeNodeData(Q.id,{x:Q.data.x,y:Q.data.y})),{nodes:O,edges:x}})}}function tY(n,e,t,i){if(isNaN(e)||isNaN(t))return n;var r,f,m,y,b,E,w,M,x,o=n._root,s={data:i},a=n._x0,l=n._y0,u=n._x1,d=n._y1;if(!o)return n._root=s,n;for(;o.length;)if((E=e>=(f=(a+u)/2))?a=f:u=f,(w=t>=(m=(l+d)/2))?l=m:d=m,r=o,!(o=o[M=w<<1|E]))return r[M]=s,n;if(y=+n._x.call(null,o.data),b=+n._y.call(null,o.data),e===y&&t===b)return s.next=o,r?r[M]=s:n._root=s,n;do{r=r?r[M]=new Array(4):n._root=new Array(4),(E=e>=(f=(a+u)/2))?a=f:u=f,(w=t>=(m=(l+d)/2))?l=m:d=m}while((M=w<<1|E)==(x=(b>=m)<<1|y>=f));return r[x]=o,r[M]=s,n}function cc(n,e,t,i,r){this.node=n,this.x0=e,this.y0=t,this.x1=i,this.y1=r}function zvt(n){return n[0]}function Hvt(n){return n[1]}function jR(n,e,t){var i=new i7(e??zvt,t??Hvt,NaN,NaN,NaN,NaN);return null==n?i:i.addAll(n)}function i7(n,e,t,i,r,o){this._x=n,this._y=e,this._x0=t,this._y0=i,this._x1=r,this._y1=o,this._root=void 0}function eY(n){for(var e={data:n.data},t=e;n=n.next;)t=t.next={data:n.data};return e}var uc=jR.prototype=i7.prototype;function nY(n,e,t,i,r){if(isNaN(e)||isNaN(t)||isNaN(i))return n;var o,b,E,w,M,x,D,k,T,O,R,L,s=n._root,a={data:r},l=n._x0,u=n._y0,d=n._z0,f=n._x1,m=n._y1,y=n._z1;if(!s)return n._root=a,n;for(;s.length;)if((k=e>=(b=(l+f)/2))?l=b:f=b,(T=t>=(E=(u+m)/2))?u=E:m=E,(O=i>=(w=(d+y)/2))?d=w:y=w,o=s,!(s=s[R=O<<2|T<<1|k]))return o[R]=a,n;if(M=+n._x.call(null,s.data),x=+n._y.call(null,s.data),D=+n._z.call(null,s.data),e===M&&t===x&&i===D)return a.next=s,o?o[R]=a:n._root=a,n;do{o=o?o[R]=new Array(8):n._root=new Array(8),(k=e>=(b=(l+f)/2))?l=b:f=b,(T=t>=(E=(u+m)/2))?u=E:m=E,(O=i>=(w=(d+y)/2))?d=w:y=w}while((R=O<<2|T<<1|k)==(L=(D>=w)<<2|(x>=E)<<1|M>=b));return o[L]=s,o[R]=a,n}function ts(n,e,t,i,r,o,s){this.node=n,this.x0=e,this.y0=t,this.z0=i,this.x1=r,this.y1=o,this.z1=s}function i2t(n){return n[0]}function o2t(n){return n[1]}function a2t(n){return n[2]}function iY(n,e,t,i){var r=new r7(e??i2t,t??o2t,i??a2t,NaN,NaN,NaN,NaN,NaN,NaN);return null==n?r:r.addAll(n)}function r7(n,e,t,i,r,o,s,a,l){this._x=n,this._y=e,this._z=t,this._x0=i,this._y0=r,this._z0=o,this._x1=s,this._y1=a,this._z1=l,this._root=void 0}function rY(n){for(var e={data:n.data},t=e;n=n.next;)t=t.next={data:n.data};return e}uc.copy=function(){var t,i,n=new i7(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root;if(!e)return n;if(!e.length)return n._root=eY(e),n;for(t=[{source:e,target:n._root=new Array(4)}];e=t.pop();)for(var r=0;r<4;++r)(i=e.source[r])&&(i.length?t.push({source:i,target:e.target[r]=new Array(4)}):e.target[r]=eY(i));return n},uc.add=function Avt(n){const e=+this._x.call(null,n),t=+this._y.call(null,n);return tY(this.cover(e,t),e,t,n)},uc.addAll=function Ovt(n){var e,t,r,o,i=n.length,s=new Array(i),a=new Array(i),l=1/0,u=1/0,d=-1/0,f=-1/0;for(t=0;t<i;++t)isNaN(r=+this._x.call(null,e=n[t]))||isNaN(o=+this._y.call(null,e))||(s[t]=r,a[t]=o,r<l&&(l=r),r>d&&(d=r),o<u&&(u=o),o>f&&(f=o));if(l>d||u>f)return this;for(this.cover(l,u).cover(d,f),t=0;t<i;++t)tY(this,s[t],a[t],n[t]);return this},uc.cover=function kvt(n,e){if(isNaN(n=+n)||isNaN(e=+e))return this;var t=this._x0,i=this._y0,r=this._x1,o=this._y1;if(isNaN(t))r=(t=Math.floor(n))+1,o=(i=Math.floor(e))+1;else{for(var l,u,s=r-t||1,a=this._root;t>n||n>=r||i>e||e>=o;)switch(u=(e<i)<<1|n<t,l=new Array(4),l[u]=a,a=l,s*=2,u){case 0:r=t+s,o=i+s;break;case 1:t=r-s,o=i+s;break;case 2:r=t+s,i=o-s;break;case 3:t=r-s,i=o-s}this._root&&this._root.length&&(this._root=a)}return this._x0=t,this._y0=i,this._x1=r,this._y1=o,this},uc.data=function Ivt(){var n=[];return this.visit(function(e){if(!e.length)do{n.push(e.data)}while(e=e.next)}),n},uc.extent=function Rvt(n){return arguments.length?this.cover(+n[0][0],+n[0][1]).cover(+n[1][0],+n[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},uc.find=function Pvt(n,e,t){var i,s,a,l,u,b,E,r=this._x0,o=this._y0,d=this._x1,f=this._y1,m=[],y=this._root;for(y&&m.push(new cc(y,r,o,d,f)),null==t?t=1/0:(r=n-t,o=e-t,d=n+t,f=e+t,t*=t);b=m.pop();)if(!(!(y=b.node)||(s=b.x0)>d||(a=b.y0)>f||(l=b.x1)<r||(u=b.y1)<o))if(y.length){var w=(s+l)/2,M=(a+u)/2;m.push(new cc(y[3],w,M,l,u),new cc(y[2],s,M,w,u),new cc(y[1],w,a,l,M),new cc(y[0],s,a,w,M)),(E=(e>=M)<<1|n>=w)&&(b=m[m.length-1],m[m.length-1]=m[m.length-1-E],m[m.length-1-E]=b)}else{var x=n-+this._x.call(null,y.data),D=e-+this._y.call(null,y.data),k=x*x+D*D;if(k<t){var T=Math.sqrt(t=k);r=n-T,o=e-T,d=n+T,f=e+T,i=y.data}}return i},uc.remove=function Nvt(n){if(isNaN(d=+this._x.call(null,n))||isNaN(f=+this._y.call(null,n)))return this;var e,i,r,o,d,f,m,y,b,E,w,M,t=this._root,s=this._x0,a=this._y0,l=this._x1,u=this._y1;if(!t)return this;if(t.length)for(;;){if((b=d>=(m=(s+l)/2))?s=m:l=m,(E=f>=(y=(a+u)/2))?a=y:u=y,e=t,!(t=t[w=E<<1|b]))return this;if(!t.length)break;(e[w+1&3]||e[w+2&3]||e[w+3&3])&&(i=e,M=w)}for(;t.data!==n;)if(r=t,!(t=t.next))return this;return(o=t.next)&&delete t.next,r?(o?r.next=o:delete r.next,this):e?(o?e[w]=o:delete e[w],(t=e[0]||e[1]||e[2]||e[3])&&t===(e[3]||e[2]||e[1]||e[0])&&!t.length&&(i?i[M]=t:this._root=t),this):(this._root=o,this)},uc.removeAll=function Lvt(n){for(var e=0,t=n.length;e<t;++e)this.remove(n[e]);return this},uc.root=function Fvt(){return this._root},uc.size=function Bvt(){var n=0;return this.visit(function(e){if(!e.length)do{++n}while(e=e.next)}),n},uc.visit=function jvt(n){var t,r,o,s,a,l,e=[],i=this._root;for(i&&e.push(new cc(i,this._x0,this._y0,this._x1,this._y1));t=e.pop();)if(!n(i=t.node,o=t.x0,s=t.y0,a=t.x1,l=t.y1)&&i.length){var u=(o+a)/2,d=(s+l)/2;(r=i[3])&&e.push(new cc(r,u,d,a,l)),(r=i[2])&&e.push(new cc(r,o,d,u,l)),(r=i[1])&&e.push(new cc(r,u,s,a,d)),(r=i[0])&&e.push(new cc(r,o,s,u,d))}return this},uc.visitAfter=function Vvt(n){var i,e=[],t=[];for(this._root&&e.push(new cc(this._root,this._x0,this._y0,this._x1,this._y1));i=e.pop();){var r=i.node;if(r.length){var o,s=i.x0,a=i.y0,l=i.x1,u=i.y1,d=(s+l)/2,f=(a+u)/2;(o=r[0])&&e.push(new cc(o,s,a,d,f)),(o=r[1])&&e.push(new cc(o,d,a,l,f)),(o=r[2])&&e.push(new cc(o,s,f,d,u)),(o=r[3])&&e.push(new cc(o,d,f,l,u))}t.push(i)}for(;i=t.pop();)n(i.node,i.x0,i.y0,i.x1,i.y1);return this},uc.x=function Uvt(n){return arguments.length?(this._x=n,this):this._x},uc.y=function Gvt(n){return arguments.length?(this._y=n,this):this._y};var Ol=iY.prototype=r7.prototype;function d2t(n){let e=0,t=0,i=0,r=0,o=0;const s=n.length;if(s){for(let a=0;a<s;a++){const l=n[a];l&&l.weight&&(e+=l.weight,t+=l.x*l.weight,i+=l.y*l.weight,r+=l.z*l.weight,o+=l.size*l.weight)}n.x=t/e,n.y=i/e,n.z=r/e,n.size=o/e,n.weight=e}else{const a=n;n.x=a.data.x,n.y=a.data.y,n.z=a.data.z,n.size=a.data.size,n.weight=a.data.weight}}Ol.copy=function(){var t,i,n=new r7(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),e=this._root;if(!e)return n;if(!e.length)return n._root=rY(e),n;for(t=[{source:e,target:n._root=new Array(8)}];e=t.pop();)for(var r=0;r<8;++r)(i=e.source[r])&&(i.length?t.push({source:i,target:e.target[r]=new Array(8)}):e.target[r]=rY(i));return n},Ol.add=function $vt(n){const e=+this._x.call(null,n),t=+this._y.call(null,n),i=+this._z.call(null,n);return nY(this.cover(e,t,i),e,t,i,n)},Ol.addAll=function Wvt(n){Array.isArray(n)||(n=Array.from(n));const e=n.length,t=new Float64Array(e),i=new Float64Array(e),r=new Float64Array(e);let o=1/0,s=1/0,a=1/0,l=-1/0,u=-1/0,d=-1/0;for(let m,y,b,E,f=0;f<e;++f)isNaN(y=+this._x.call(null,m=n[f]))||isNaN(b=+this._y.call(null,m))||isNaN(E=+this._z.call(null,m))||(t[f]=y,i[f]=b,r[f]=E,y<o&&(o=y),y>l&&(l=y),b<s&&(s=b),b>u&&(u=b),E<a&&(a=E),E>d&&(d=E));if(o>l||s>u||a>d)return this;this.cover(o,s,a).cover(l,u,d);for(let f=0;f<e;++f)nY(this,t[f],i[f],r[f],n[f]);return this},Ol.cover=function Kvt(n,e,t){if(isNaN(n=+n)||isNaN(e=+e)||isNaN(t=+t))return this;var i=this._x0,r=this._y0,o=this._z0,s=this._x1,a=this._y1,l=this._z1;if(isNaN(i))s=(i=Math.floor(n))+1,a=(r=Math.floor(e))+1,l=(o=Math.floor(t))+1;else{for(var f,m,u=s-i||1,d=this._root;i>n||n>=s||r>e||e>=a||o>t||t>=l;)switch(m=(t<o)<<2|(e<r)<<1|n<i,f=new Array(8),f[m]=d,d=f,u*=2,m){case 0:s=i+u,a=r+u,l=o+u;break;case 1:i=s-u,a=r+u,l=o+u;break;case 2:s=i+u,r=a-u,l=o+u;break;case 3:i=s-u,r=a-u,l=o+u;break;case 4:s=i+u,a=r+u,o=l-u;break;case 5:i=s-u,a=r+u,o=l-u;break;case 6:s=i+u,r=a-u,o=l-u;break;case 7:i=s-u,r=a-u,o=l-u}this._root&&this._root.length&&(this._root=d)}return this._x0=i,this._y0=r,this._z0=o,this._x1=s,this._y1=a,this._z1=l,this},Ol.data=function Xvt(){var n=[];return this.visit(function(e){if(!e.length)do{n.push(e.data)}while(e=e.next)}),n},Ol.extent=function Yvt(n){return arguments.length?this.cover(+n[0][0],+n[0][1],+n[0][2]).cover(+n[1][0],+n[1][1],+n[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]},Ol.find=function Zvt(n,e,t,i){var r,l,u,d,f,m,y,D,k,o=this._x0,s=this._y0,a=this._z0,b=this._x1,E=this._y1,w=this._z1,M=[],x=this._root;for(x&&M.push(new ts(x,o,s,a,b,E,w)),null==i?i=1/0:(o=n-i,s=e-i,a=t-i,b=n+i,E=e+i,w=t+i,i*=i);D=M.pop();)if(!(!(x=D.node)||(l=D.x0)>b||(u=D.y0)>E||(d=D.z0)>w||(f=D.x1)<o||(m=D.y1)<s||(y=D.z1)<a))if(x.length){var T=(l+f)/2,O=(u+m)/2,R=(d+y)/2;M.push(new ts(x[7],T,O,R,f,m,y),new ts(x[6],l,O,R,T,m,y),new ts(x[5],T,u,R,f,O,y),new ts(x[4],l,u,R,T,O,y),new ts(x[3],T,O,d,f,m,R),new ts(x[2],l,O,d,T,m,R),new ts(x[1],T,u,d,f,O,R),new ts(x[0],l,u,d,T,O,R)),(k=(t>=R)<<2|(e>=O)<<1|n>=T)&&(D=M[M.length-1],M[M.length-1]=M[M.length-1-k],M[M.length-1-k]=D)}else{var L=n-+this._x.call(null,x.data),F=e-+this._y.call(null,x.data),U=t-+this._z.call(null,x.data),$=L*L+F*F+U*U;if($<i){var X=Math.sqrt(i=$);o=n-X,s=e-X,a=t-X,b=n+X,E=e+X,w=t+X,r=x.data}}return r},Ol.remove=function Qvt(n){if(isNaN(m=+this._x.call(null,n))||isNaN(y=+this._y.call(null,n))||isNaN(b=+this._z.call(null,n)))return this;var e,i,r,o,m,y,b,E,w,M,x,D,k,T,O,t=this._root,s=this._x0,a=this._y0,l=this._z0,u=this._x1,d=this._y1,f=this._z1;if(!t)return this;if(t.length)for(;;){if((x=m>=(E=(s+u)/2))?s=E:u=E,(D=y>=(w=(a+d)/2))?a=w:d=w,(k=b>=(M=(l+f)/2))?l=M:f=M,e=t,!(t=t[T=k<<2|D<<1|x]))return this;if(!t.length)break;(e[T+1&7]||e[T+2&7]||e[T+3&7]||e[T+4&7]||e[T+5&7]||e[T+6&7]||e[T+7&7])&&(i=e,O=T)}for(;t.data!==n;)if(r=t,!(t=t.next))return this;return(o=t.next)&&delete t.next,r?(o?r.next=o:delete r.next,this):e?(o?e[T]=o:delete e[T],(t=e[0]||e[1]||e[2]||e[3]||e[4]||e[5]||e[6]||e[7])&&t===(e[7]||e[6]||e[5]||e[4]||e[3]||e[2]||e[1]||e[0])&&!t.length&&(i?i[O]=t:this._root=t),this):(this._root=o,this)},Ol.removeAll=function qvt(n){for(var e=0,t=n.length;e<t;++e)this.remove(n[e]);return this},Ol.root=function Jvt(){return this._root},Ol.size=function t2t(){var n=0;return this.visit(function(e){if(!e.length)do{++n}while(e=e.next)}),n},Ol.visit=function e2t(n){var t,r,o,s,a,l,u,d,e=[],i=this._root;for(i&&e.push(new ts(i,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));t=e.pop();)if(!n(i=t.node,o=t.x0,s=t.y0,a=t.z0,l=t.x1,u=t.y1,d=t.z1)&&i.length){var f=(o+l)/2,m=(s+u)/2,y=(a+d)/2;(r=i[7])&&e.push(new ts(r,f,m,y,l,u,d)),(r=i[6])&&e.push(new ts(r,o,m,y,f,u,d)),(r=i[5])&&e.push(new ts(r,f,s,y,l,m,d)),(r=i[4])&&e.push(new ts(r,o,s,y,f,m,d)),(r=i[3])&&e.push(new ts(r,f,m,a,l,u,y)),(r=i[2])&&e.push(new ts(r,o,m,a,f,u,y)),(r=i[1])&&e.push(new ts(r,f,s,a,l,m,y)),(r=i[0])&&e.push(new ts(r,o,s,a,f,m,y))}return this},Ol.visitAfter=function n2t(n){var i,e=[],t=[];for(this._root&&e.push(new ts(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));i=e.pop();){var r=i.node;if(r.length){var o,s=i.x0,a=i.y0,l=i.z0,u=i.x1,d=i.y1,f=i.z1,m=(s+u)/2,y=(a+d)/2,b=(l+f)/2;(o=r[0])&&e.push(new ts(o,s,a,l,m,y,b)),(o=r[1])&&e.push(new ts(o,m,a,l,u,y,b)),(o=r[2])&&e.push(new ts(o,s,y,l,m,d,b)),(o=r[3])&&e.push(new ts(o,m,y,l,u,d,b)),(o=r[4])&&e.push(new ts(o,s,a,b,m,y,f)),(o=r[5])&&e.push(new ts(o,m,a,b,u,y,f)),(o=r[6])&&e.push(new ts(o,s,y,b,m,d,f)),(o=r[7])&&e.push(new ts(o,m,y,b,u,d,f))}t.push(i)}for(;i=t.pop();)n(i.node,i.x0,i.y0,i.z0,i.x1,i.y1,i.z1);return this},Ol.x=function r2t(n){return arguments.length?(this._x=n,this):this._x},Ol.y=function s2t(n){return arguments.length?(this._y=n,this):this._y},Ol.z=function l2t(n){return arguments.length?(this._z=n,this):this._z};const h2t=(n,e,t,i,r,o,s)=>{var a;if((null===(a=n.data)||void 0===a?void 0:a.id)===o.id)return;const u=o.x-n.x||.1,d=o.y-n.y||.1,f=o.z-n.z||.1,m=[u,d,f],y=[t,i,r][s-1]-e;let b=0;for(let w=0;w<s;w++)b+=m[w]*m[w];const E=Math.sqrt(b)*b;if(y*y*.81<b){const w=n.weight/E;return o.vx+=u*w,o.vy+=d*w,o.vz+=f*w,!0}if(n.length)return!1;if(n.data!==o){const w=n.data.weight/E;o.vx+=u*w,o.vy+=d*w,o.vz+=f*w}},p2t={dimensions:2,maxIteration:500,gravity:10,factor:1,edgeStrength:50,nodeStrength:1e3,coulombDisScale:.005,damping:.9,maxSpeed:200,minMovement:.4,interval:.02,linkDistance:200,clusterNodeStrength:20,preventOverlap:!0,distanceThresholdMode:"mean"};class oY{constructor(e={}){this.options=e,this.id="force",this.timeInterval=0,this.judgingDistance=0,this.running=!1,this.options=Object.assign(Object.assign({},p2t),e)}execute(e,t){return pr(this,void 0,void 0,function*(){return this.genericForceLayout(!1,e,t)})}assign(e,t){return pr(this,void 0,void 0,function*(){yield this.genericForceLayout(!0,e,t)})}stop(){this.timeInterval&&typeof window<"u"&&window.clearInterval(this.timeInterval),this.running=!1}tick(e=this.options.maxIteration||1){if(this.lastResult)return this.lastResult;for(let i=0;(this.judgingDistance>this.lastOptions.minMovement||i<1)&&i<e;i++)this.runOneStep(this.lastCalcGraph,this.lastGraph,i,this.lastVelMap,this.lastOptions),this.updatePosition(this.lastGraph,this.lastCalcGraph,this.lastVelMap,this.lastOptions);const t={nodes:this.lastLayoutNodes,edges:this.lastLayoutEdges};return this.lastAssign&&t.nodes.forEach(i=>this.lastGraph.mergeNodeData(i.id,{x:i.data.x,y:i.data.y,z:3===this.options.dimensions?i.data.z:void 0})),t}genericForceLayout(e,t,i){return pr(this,void 0,void 0,function*(){const r=Object.assign(Object.assign({},this.options),i),o=t.getAllNodes(),s=t.getAllEdges(),a=this.formatOptions(r,t),{dimensions:l,width:u,height:d,nodeSize:f,getMass:m,nodeStrength:y,edgeStrength:b,linkDistance:E}=a,w=o.map((L,F)=>Object.assign(Object.assign({},L),{data:Object.assign(Object.assign({},L.data),{x:oi(L.data.x)?L.data.x:Math.random()*u,y:oi(L.data.y)?L.data.y:Math.random()*d,z:oi(L.data.z)?L.data.z:Math.random()*Math.sqrt(u*d),size:f(L)||30,mass:m(L),nodeStrength:y(L)})})),M=s.map(L=>Object.assign(Object.assign({},L),{data:Object.assign(Object.assign({},L.data),{edgeStrength:b(L),linkDistance:E(L,t.getNode(L.source),t.getNode(L.target))})}));if(null==o||!o.length)return this.lastResult={nodes:[],edges:s},{nodes:[],edges:s};const x={};o.forEach((L,F)=>{x[L.id]={x:0,y:0,z:0}});const D=new Da({nodes:w,edges:M});this.formatCentripetal(a,D);const{maxIteration:k,minMovement:T,onTick:O}=a;if(this.lastLayoutNodes=w,this.lastLayoutEdges=M,this.lastAssign=e,this.lastGraph=t,this.lastCalcGraph=D,this.lastOptions=a,this.lastVelMap=x,typeof window>"u")return;let R=0;return new Promise(L=>{this.timeInterval=window.setInterval(()=>{(!o||!this.running)&&L({nodes:s7(t,w),edges:s}),this.runOneStep(D,t,R,x,a),this.updatePosition(t,D,x,a),e&&w.forEach(F=>t.mergeNodeData(F.id,{x:F.data.x,y:F.data.y,z:3===l?F.data.z:void 0})),O?.({nodes:s7(t,w),edges:s}),R++,(R>=k||this.judgingDistance<T)&&(window.clearInterval(this.timeInterval),L({nodes:s7(t,w),edges:s}))},0),this.running=!0})})}formatOptions(e,t){const i=Object.assign({},e),{width:r,height:o,getMass:s}=e;i.width=!r&&typeof window<"u"?window.innerWidth:r,i.height=!o&&typeof window<"u"?window.innerHeight:o,e.center||(i.center=[i.width/2,i.height/2]),s||(i.getMass=l=>{let u=1;oi(l?.data.mass)&&(u=l?.data.mass);const d=t.getDegree(l.id,"both");return!d||d<5?u:5*d*u}),i.nodeSize=e7(e.nodeSize,e.nodeSpacing);const a=e.linkDistance?H2(1,e.linkDistance):l=>1+i.nodeSize(t.getNode(l.source))+i.nodeSize(t.getNode(l.target));return i.linkDistance=a,i.nodeStrength=H2(1,e.nodeStrength),i.edgeStrength=H2(1,e.edgeStrength),i}formatCentripetal(e,t){const{dimensions:i,centripetalOptions:r,center:o,clusterNodeStrength:s,leafCluster:a,clustering:l,nodeClusterBy:u}=e,d=t.getAllNodes(),f=r||{leaf:2,single:2,others:1,center:M=>({x:o[0],y:o[1],z:3===i?o[2]:void 0})};let m,y;if("function"!=typeof s&&(e.clusterNodeStrength=M=>s),a&&u&&(m=sY(t,u),y=Array.from(new Set(d?.map(M=>M.data[u])))||[],e.centripetalOptions=Object.assign(f,{single:100,leaf:M=>{const{siblingLeaves:x,sameTypeLeaves:D}=m[M.id]||{};return D?.length===x?.length||1===y?.length?1:e.clusterNodeStrength(M)},others:1,center:M=>{const x=t.getDegree(M.id,"both");if(!x)return{x:100,y:100,z:0};let D;if(1===x){const{sameTypeLeaves:k=[]}=m[M.id]||{};1===k.length?D=void 0:k.length>1&&(D=aY(k))}else D=void 0;return{x:D?.x,y:D?.y,z:D?.z}}})),l&&u){m||(m=sY(t,u)),y||(y=Array.from(new Set(d.map(x=>x.data[u])))),y=y.filter(x=>void 0!==x);const M={};y.forEach(x=>{const D=d.filter(k=>k.data[u]===x).map(k=>t.getNode(k.id));M[x]=aY(D)}),e.centripetalOptions=Object.assign(f,{single:x=>e.clusterNodeStrength(x),leaf:x=>e.clusterNodeStrength(x),others:x=>e.clusterNodeStrength(x),center:x=>{const D=M[x.data[u]];return{x:D?.x,y:D?.y,z:D?.z}}})}const{leaf:b,single:E,others:w}=e.centripetalOptions||{};b&&"function"!=typeof b&&(e.centripetalOptions.leaf=()=>b),E&&"function"!=typeof E&&(e.centripetalOptions.single=()=>E),w&&"function"!=typeof w&&(e.centripetalOptions.others=()=>w)}runOneStep(e,t,i,r,o){const s={},a=e.getAllNodes(),l=e.getAllEdges();if(null==a||!a.length)return;const{monitor:u}=o;this.calRepulsive(e,s,o),l&&this.calAttractive(e,s,o),this.calGravity(e,t,s,o),this.updateVelocity(e,s,r,o),u&&u({energy:this.calTotalEnergy(s,a),nodes:t.getAllNodes(),edges:t.getAllEdges(),iterations:i})}calTotalEnergy(e,t){if(null==t||!t.length)return 0;let i=0;return t.forEach((r,o)=>{const s=e[r.id].x,a=e[r.id].y,l=3===this.options.dimensions?e[r.id].z:0,u=s*s+a*a+l*l,{mass:d=1}=r.data;i+=d*u*.5}),i}calRepulsive(e,t,i){const{dimensions:r,factor:o,coulombDisScale:s}=i;!function u2t(n,e,t,i,r=2){const o=e/t,s=n.getAllNodes(),a=s.map((d,f)=>{const{nodeStrength:m,x:y,y:b,z:E,size:w}=d.data;return{x:y,y:b,z:E,size:w,index:f,id:d.id,vx:0,vy:0,vz:0,weight:o*m}}),l=(2===r?jR(a,d=>d.x,d=>d.y):iY(a,d=>d.x,d=>d.y,d=>d.z)).visitAfter(d2t),u=new Map;return a.forEach(d=>{u.set(d.id,d),function f2t(n,e,t){e.visit((i,r,o,s,a)=>h2t(i,r,o,s,a,n,t))}(d,l,r)}),a.map((d,f)=>{const{id:m,data:y}=s[f],{mass:b=1}=y;i[m]={x:d.vx/b,y:d.vy/b,z:d.vz/b}}),i}(e,o,s*s,t,r)}calAttractive(e,t,i){const{dimensions:r,nodeSize:o}=i;e.getAllEdges().forEach((s,a)=>{const{source:l,target:u}=s,d=e.getNode(l),f=e.getNode(u);if(!d||!f)return;let m=f.data.x-d.data.x,y=f.data.y-d.data.y,b=3===r?f.data.z-d.data.z:0;!m&&!y&&(m=.01*Math.random(),y=.01*Math.random(),3===r&&!b&&(b=.01*Math.random()));const E=Math.sqrt(m*m+y*y+b*b);if(E<o(d)+o(f))return;const w=m/E,M=y/E,x=b/E,{linkDistance:D=200,edgeStrength:k=200}=s.data||{},T=(D-E)*k,L=1/(d.data.mass||1),F=1/(f.data.mass||1),U=w*T,$=M*T,X=x*T;t[l].x-=U*L,t[l].y-=$*L,t[l].z-=X*L,t[u].x+=U*F,t[u].y+=$*F,t[u].z+=X*F})}calGravity(e,t,i,r){const{getCenter:o}=r,s=e.getAllNodes(),a=t.getAllNodes(),l=t.getAllEdges(),{width:u,height:d,center:f,gravity:m,centripetalOptions:y}=r;s&&s.forEach(b=>{const{id:E,data:w}=b,{mass:M,x,y:D,z:k}=w,T=t.getNode(E);let O=0,R=0,L=0,F=m;const U=e.getDegree(E,"in"),$=e.getDegree(E,"out"),X=e.getDegree(E,"both"),q=o?.(T,X);if(q){const[gt,Et,at]=q;O=x-gt,R=D-Et,F=at}else O=x-f[0],R=D-f[1],L=k-f[2];if(F&&(i[E].x-=F*O/M,i[E].y-=F*R/M,i[E].z-=F*L/M),y){const{leaf:gt,single:Et,others:at,center:Q}=y,{x:et,y:St,z:Yt,centerStrength:He}=Q?.(T,a,l,u,d)||{x:0,y:0,z:0,centerStrength:0};if(!oi(et)||!oi(St))return;const Se=(x-et)/M,un=(D-St)/M,_n=(k-Yt)/M;if(He&&(i[E].x-=He*Se,i[E].y-=He*un,i[E].z-=He*_n),0===X){const Ln=Et(T);if(!Ln)return;return i[E].x-=Ln*Se,i[E].y-=Ln*un,void(i[E].z-=Ln*_n)}if(0===U||0===$){const Ln=gt(T,a,l);if(!Ln)return;return i[E].x-=Ln*Se,i[E].y-=Ln*un,void(i[E].z-=Ln*_n)}const Wn=at(T);if(!Wn)return;i[E].x-=Wn*Se,i[E].y-=Wn*un,i[E].z-=Wn*_n}})}updateVelocity(e,t,i,r){const{damping:o,maxSpeed:s,interval:a,dimensions:l}=r,u=e.getAllNodes();null!=u&&u.length&&u.forEach(d=>{const{id:f}=d;let m=(i[f].x+t[f].x*a)*o||.01,y=(i[f].y+t[f].y*a)*o||.01,b=3===l?(i[f].z+t[f].z*a)*o||.01:0;const E=Math.sqrt(m*m+y*y+b*b);if(E>s){const w=s/E;m*=w,y*=w,b*=w}i[f]={x:m,y,z:b}})}updatePosition(e,t,i,r){const{distanceThresholdMode:o,interval:s,dimensions:a}=r,l=t.getAllNodes();if(null==l||!l.length)return void(this.judgingDistance=0);let u=0;"max"===o?this.judgingDistance=-1/0:"min"===o&&(this.judgingDistance=1/0),l.forEach(d=>{const{id:f}=d,m=e.getNode(f);if(oi(m.data.fx)&&oi(m.data.fy))return void t.mergeNodeData(f,{x:m.data.fx,y:m.data.fy,z:3===a?m.data.fz:void 0});const y=i[f].x*s,b=i[f].y*s,E=3===a?i[f].z*s:0;t.mergeNodeData(f,{x:d.data.x+y,y:d.data.y+b,z:d.data.z+E});const w=Math.sqrt(y*y+b*b+E*E);switch(o){case"max":this.judgingDistance<w&&(this.judgingDistance=w);break;case"min":this.judgingDistance>w&&(this.judgingDistance=w);break;default:u+=w}}),(!o||"mean"===o)&&(this.judgingDistance=u/l.length)}}const sY=(n,e)=>{const t=n.getAllNodes();if(null==t||!t.length)return{};const i={};return t.forEach((r,o)=>{1===n.getDegree(r.id,"both")&&(i[r.id]=m2t(n,"leaf",r,e))}),i},m2t=(n,e,t,i)=>{const r=n.getDegree(t.id,"in"),o=n.getDegree(t.id,"out");let s=t,a=[];return 0===r?(s=n.getSuccessors(t.id)[0],a=n.getNeighbors(s.id)):0===o&&(s=n.getPredecessors(t.id)[0],a=n.getNeighbors(s.id)),a=a.filter(u=>0===n.getDegree(u.id,"in")||0===n.getDegree(u.id,"out")),{coreNode:s,siblingLeaves:a,sameTypeLeaves:g2t(n,e,i,t,a)}},g2t=(n,e,t,i,r)=>{const o=i.data[t]||"";let s=r?.filter(a=>a.data[t]===o)||[];return s=s.filter(a=>0===n.getDegree(a.id,"in")||0===n.getDegree(a.id,"out")),s},aY=n=>{const e={x:0,y:0};n.forEach(i=>{const{x:r,y:o}=i.data;e.x+=r||0,e.y+=o||0});const t=n.length||1;return{x:e.x/t,y:e.y/t}},s7=(n,e)=>e.map(t=>{const{id:i,data:r}=t,o=n.getNode(i);return Object.assign(Object.assign({},o),{data:Object.assign(Object.assign({},o.data),{x:r.x,y:r.y,z:r.z})})});var zr={};const v2t=Object.prototype.toString;function k3(n){const e=v2t.call(n);return e.endsWith("Array]")&&!e.includes("Big")}const b2t=Po(Object.freeze(Object.defineProperty({__proto__:null,isAnyArray:k3},Symbol.toStringTag,{value:"Module"}))),x2t=Object.freeze(Object.defineProperty({__proto__:null,default:function w2t(n){var t,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!k3(n))throw new TypeError("input must be an array");if(0===n.length)throw new TypeError("input must not be empty");if(void 0!==e.output){if(!k3(e.output))throw new TypeError("output option must be an array if specified");t=e.output}else t=new Array(n.length);var i=function E2t(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!k3(n))throw new TypeError("input must be an array");if(0===n.length)throw new TypeError("input must not be empty");var t=e.fromIndex,i=void 0===t?0:t,r=e.toIndex,o=void 0===r?n.length:r;if(i<0||i>=n.length||!Number.isInteger(i))throw new Error("fromIndex must be a positive integer smaller than length");if(o<=i||o>n.length||!Number.isInteger(o))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var s=n[i],a=i+1;a<o;a++)n[a]<s&&(s=n[a]);return s}(n),r=function _2t(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!k3(n))throw new TypeError("input must be an array");if(0===n.length)throw new TypeError("input must not be empty");var t=e.fromIndex,i=void 0===t?0:t,r=e.toIndex,o=void 0===r?n.length:r;if(i<0||i>=n.length||!Number.isInteger(i))throw new Error("fromIndex must be a positive integer smaller than length");if(o<=i||o>n.length||!Number.isInteger(o))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var s=n[i],a=i+1;a<o;a++)n[a]>s&&(s=n[a]);return s}(n);if(i===r)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var o=e.min,s=void 0===o?e.autoMinMax?i:0:o,a=e.max,l=void 0===a?e.autoMinMax?r:1:a;if(s>=l)throw new RangeError("min option must be smaller than max option");for(var u=(l-s)/(r-i),d=0;d<n.length;d++)t[d]=(n[d]-i)*u+s;return t}},Symbol.toStringTag,{value:"Module"})),M2t=Po(x2t);Object.defineProperty(zr,"__esModule",{value:!0});var Yc=b2t,lY=M2t;const VR=" ".repeat(2),cY=" ".repeat(4);function uY(n,e={}){const{maxRows:t=15,maxColumns:i=10,maxNumSize:r=8,padMinus:o="auto"}=e;return`${n.constructor.name} {\n${VR}[\n${cY}${function S2t(n,e,t,i,r){const{rows:o,columns:s}=n,a=Math.min(o,e),l=Math.min(s,t),u=[];if("auto"===r){r=!1;t:for(let d=0;d<a;d++)for(let f=0;f<l;f++)if(n.get(d,f)<0){r=!0;break t}}for(let d=0;d<a;d++){let f=[];for(let m=0;m<l;m++)f.push(D2t(n.get(d,m),i,r));u.push(`${f.join(" ")}`)}return l!==s&&(u[u.length-1]+=` ... ${s-t} more columns`),a!==o&&u.push(`... ${o-e} more rows`),u.join(`\n${cY}`)}(n,t,i,r,o)}\n${VR}]\n${VR}rows: ${n.rows}\n${VR}columns: ${n.columns}\n}`}function D2t(n,e,t){return(n>=0&&t?` ${dY(n,e-1)}`:dY(n,e)).padEnd(e)}function dY(n,e){let t=n.toString();if(t.length<=e)return t;let i=n.toFixed(e);if(i.length>e&&(i=n.toFixed(Math.max(0,e-(i.length-e)))),i.length<=e&&!i.startsWith("0.000")&&!i.startsWith("-0.000"))return i;let r=n.toExponential(e);return r.length>e&&(r=n.toExponential(Math.max(0,e-(r.length-e)))),r.slice(0)}function gd(n,e,t){if(e<0||e>(t?n.rows:n.rows-1))throw new RangeError("Row index out of range")}function vd(n,e,t){if(e<0||e>(t?n.columns:n.columns-1))throw new RangeError("Column index out of range")}function S_(n,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==n.columns)throw new RangeError("vector size must be the same as the number of columns");return e}function D_(n,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==n.rows)throw new RangeError("vector size must be the same as the number of rows");return e}function a7(n,e){if(!Yc.isAnyArray(e))throw new TypeError("row indices must be an array");for(let t=0;t<e.length;t++)if(e[t]<0||e[t]>=n.rows)throw new RangeError("row indices are out of range")}function l7(n,e){if(!Yc.isAnyArray(e))throw new TypeError("column indices must be an array");for(let t=0;t<e.length;t++)if(e[t]<0||e[t]>=n.columns)throw new RangeError("column indices are out of range")}function c7(n,e,t,i,r){if(5!==arguments.length)throw new RangeError("expected 4 arguments");if(UR("startRow",e),UR("endRow",t),UR("startColumn",i),UR("endColumn",r),e>t||i>r||e<0||e>=n.rows||t<0||t>=n.rows||i<0||i>=n.columns||r<0||r>=n.columns)throw new RangeError("Submatrix indices are out of range")}function zR(n,e=0){let t=[];for(let i=0;i<n;i++)t.push(e);return t}function UR(n,e){if("number"!=typeof e)throw new TypeError(`${n} must be a number`)}function T_(n){if(n.isEmpty())throw new Error("Empty matrix has no elements to index")}class wr{static from1DArray(e,t,i){if(e*t!==i.length)throw new RangeError("data length does not match given dimensions");let r=new mi(e,t);for(let o=0;o<e;o++)for(let s=0;s<t;s++)r.set(o,s,i[o*t+s]);return r}static rowVector(e){let t=new mi(1,e.length);for(let i=0;i<e.length;i++)t.set(0,i,e[i]);return t}static columnVector(e){let t=new mi(e.length,1);for(let i=0;i<e.length;i++)t.set(i,0,e[i]);return t}static zeros(e,t){return new mi(e,t)}static ones(e,t){return new mi(e,t).fill(1)}static rand(e,t,i={}){if("object"!=typeof i)throw new TypeError("options must be an object");const{random:r=Math.random}=i;let o=new mi(e,t);for(let s=0;s<e;s++)for(let a=0;a<t;a++)o.set(s,a,r());return o}static randInt(e,t,i={}){if("object"!=typeof i)throw new TypeError("options must be an object");const{min:r=0,max:o=1e3,random:s=Math.random}=i;if(!Number.isInteger(r))throw new TypeError("min must be an integer");if(!Number.isInteger(o))throw new TypeError("max must be an integer");if(r>=o)throw new RangeError("min must be smaller than max");let a=o-r,l=new mi(e,t);for(let u=0;u<e;u++)for(let d=0;d<t;d++){let f=r+Math.round(s()*a);l.set(u,d,f)}return l}static eye(e,t,i){void 0===t&&(t=e),void 0===i&&(i=1);let r=Math.min(e,t),o=this.zeros(e,t);for(let s=0;s<r;s++)o.set(s,s,i);return o}static diag(e,t,i){let r=e.length;void 0===t&&(t=r),void 0===i&&(i=t);let o=Math.min(r,t,i),s=this.zeros(t,i);for(let a=0;a<o;a++)s.set(a,a,e[a]);return s}static min(e,t){e=this.checkMatrix(e),t=this.checkMatrix(t);let i=e.rows,r=e.columns,o=new mi(i,r);for(let s=0;s<i;s++)for(let a=0;a<r;a++)o.set(s,a,Math.min(e.get(s,a),t.get(s,a)));return o}static max(e,t){e=this.checkMatrix(e),t=this.checkMatrix(t);let i=e.rows,r=e.columns,o=new this(i,r);for(let s=0;s<i;s++)for(let a=0;a<r;a++)o.set(s,a,Math.max(e.get(s,a),t.get(s,a)));return o}static checkMatrix(e){return wr.isMatrix(e)?e:new mi(e)}static isMatrix(e){return null!=e&&"Matrix"===e.klass}get size(){return this.rows*this.columns}apply(e){if("function"!=typeof e)throw new TypeError("callback must be a function");for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)e.call(this,t,i);return this}to1DArray(){let e=[];for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)e.push(this.get(t,i));return e}to2DArray(){let e=[];for(let t=0;t<this.rows;t++){e.push([]);for(let i=0;i<this.columns;i++)e[t].push(this.get(t,i))}return e}toJSON(){return this.to2DArray()}isRowVector(){return 1===this.rows}isColumnVector(){return 1===this.columns}isVector(){return 1===this.rows||1===this.columns}isSquare(){return this.rows===this.columns}isEmpty(){return 0===this.rows||0===this.columns}isSymmetric(){if(this.isSquare()){for(let e=0;e<this.rows;e++)for(let t=0;t<=e;t++)if(this.get(e,t)!==this.get(t,e))return!1;return!0}return!1}isDistance(){if(!this.isSymmetric())return!1;for(let e=0;e<this.rows;e++)if(0!==this.get(e,e))return!1;return!0}isEchelonForm(){let e=0,t=0,i=-1,r=!0,o=!1;for(;e<this.rows&&r;){for(t=0,o=!1;t<this.columns&&!1===o;)0===this.get(e,t)?t++:1===this.get(e,t)&&t>i?(o=!0,i=t):(r=!1,o=!0);e++}return r}isReducedEchelonForm(){let e=0,t=0,i=-1,r=!0,o=!1;for(;e<this.rows&&r;){for(t=0,o=!1;t<this.columns&&!1===o;)0===this.get(e,t)?t++:1===this.get(e,t)&&t>i?(o=!0,i=t):(r=!1,o=!0);for(let s=t+1;s<this.rows;s++)0!==this.get(e,s)&&(r=!1);e++}return r}echelonForm(){let e=this.clone(),t=0,i=0;for(;t<e.rows&&i<e.columns;){let r=t;for(let o=t;o<e.rows;o++)e.get(o,i)>e.get(r,i)&&(r=o);if(0===e.get(r,i))i++;else{e.swapRows(t,r);let o=e.get(t,i);for(let s=i;s<e.columns;s++)e.set(t,s,e.get(t,s)/o);for(let s=t+1;s<e.rows;s++){let a=e.get(s,i)/e.get(t,i);e.set(s,i,0);for(let l=i+1;l<e.columns;l++)e.set(s,l,e.get(s,l)-e.get(t,l)*a)}t++,i++}}return e}reducedEchelonForm(){let e=this.echelonForm(),t=e.columns,i=e.rows,r=i-1;for(;r>=0;)if(0===e.maxRow(r))r--;else{let o=0,s=!1;for(;o<i&&!1===s;)1===e.get(r,o)?s=!0:o++;for(let a=0;a<r;a++){let l=e.get(a,o);for(let u=o;u<t;u++){let d=e.get(a,u)-l*e.get(r,u);e.set(a,u,d)}}r--}return e}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(e={}){if("object"!=typeof e)throw new TypeError("options must be an object");const{rows:t=1,columns:i=1}=e;if(!Number.isInteger(t)||t<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(i)||i<=0)throw new TypeError("columns must be a positive integer");let r=new mi(this.rows*t,this.columns*i);for(let o=0;o<t;o++)for(let s=0;s<i;s++)r.setSubMatrix(this,this.rows*o,this.columns*s);return r}fill(e){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,e);return this}neg(){return this.mulS(-1)}getRow(e){gd(this,e);let t=[];for(let i=0;i<this.columns;i++)t.push(this.get(e,i));return t}getRowVector(e){return mi.rowVector(this.getRow(e))}setRow(e,t){gd(this,e),t=S_(this,t);for(let i=0;i<this.columns;i++)this.set(e,i,t[i]);return this}swapRows(e,t){gd(this,e),gd(this,t);for(let i=0;i<this.columns;i++){let r=this.get(e,i);this.set(e,i,this.get(t,i)),this.set(t,i,r)}return this}getColumn(e){vd(this,e);let t=[];for(let i=0;i<this.rows;i++)t.push(this.get(i,e));return t}getColumnVector(e){return mi.columnVector(this.getColumn(e))}setColumn(e,t){vd(this,e),t=D_(this,t);for(let i=0;i<this.rows;i++)this.set(i,e,t[i]);return this}swapColumns(e,t){vd(this,e),vd(this,t);for(let i=0;i<this.rows;i++){let r=this.get(i,e);this.set(i,e,this.get(i,t)),this.set(i,t,r)}return this}addRowVector(e){e=S_(this,e);for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)+e[i]);return this}subRowVector(e){e=S_(this,e);for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)-e[i]);return this}mulRowVector(e){e=S_(this,e);for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)*e[i]);return this}divRowVector(e){e=S_(this,e);for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)/e[i]);return this}addColumnVector(e){e=D_(this,e);for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)+e[t]);return this}subColumnVector(e){e=D_(this,e);for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)-e[t]);return this}mulColumnVector(e){e=D_(this,e);for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)*e[t]);return this}divColumnVector(e){e=D_(this,e);for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)/e[t]);return this}mulRow(e,t){gd(this,e);for(let i=0;i<this.columns;i++)this.set(e,i,this.get(e,i)*t);return this}mulColumn(e,t){vd(this,e);for(let i=0;i<this.rows;i++)this.set(i,e,this.get(i,e)*t);return this}max(e){if(this.isEmpty())return NaN;switch(e){case"row":{const t=new Array(this.rows).fill(Number.NEGATIVE_INFINITY);for(let i=0;i<this.rows;i++)for(let r=0;r<this.columns;r++)this.get(i,r)>t[i]&&(t[i]=this.get(i,r));return t}case"column":{const t=new Array(this.columns).fill(Number.NEGATIVE_INFINITY);for(let i=0;i<this.rows;i++)for(let r=0;r<this.columns;r++)this.get(i,r)>t[r]&&(t[r]=this.get(i,r));return t}case void 0:{let t=this.get(0,0);for(let i=0;i<this.rows;i++)for(let r=0;r<this.columns;r++)this.get(i,r)>t&&(t=this.get(i,r));return t}default:throw new Error(`invalid option: ${e}`)}}maxIndex(){T_(this);let e=this.get(0,0),t=[0,0];for(let i=0;i<this.rows;i++)for(let r=0;r<this.columns;r++)this.get(i,r)>e&&(e=this.get(i,r),t[0]=i,t[1]=r);return t}min(e){if(this.isEmpty())return NaN;switch(e){case"row":{const t=new Array(this.rows).fill(Number.POSITIVE_INFINITY);for(let i=0;i<this.rows;i++)for(let r=0;r<this.columns;r++)this.get(i,r)<t[i]&&(t[i]=this.get(i,r));return t}case"column":{const t=new Array(this.columns).fill(Number.POSITIVE_INFINITY);for(let i=0;i<this.rows;i++)for(let r=0;r<this.columns;r++)this.get(i,r)<t[r]&&(t[r]=this.get(i,r));return t}case void 0:{let t=this.get(0,0);for(let i=0;i<this.rows;i++)for(let r=0;r<this.columns;r++)this.get(i,r)<t&&(t=this.get(i,r));return t}default:throw new Error(`invalid option: ${e}`)}}minIndex(){T_(this);let e=this.get(0,0),t=[0,0];for(let i=0;i<this.rows;i++)for(let r=0;r<this.columns;r++)this.get(i,r)<e&&(e=this.get(i,r),t[0]=i,t[1]=r);return t}maxRow(e){if(gd(this,e),this.isEmpty())return NaN;let t=this.get(e,0);for(let i=1;i<this.columns;i++)this.get(e,i)>t&&(t=this.get(e,i));return t}maxRowIndex(e){gd(this,e),T_(this);let t=this.get(e,0),i=[e,0];for(let r=1;r<this.columns;r++)this.get(e,r)>t&&(t=this.get(e,r),i[1]=r);return i}minRow(e){if(gd(this,e),this.isEmpty())return NaN;let t=this.get(e,0);for(let i=1;i<this.columns;i++)this.get(e,i)<t&&(t=this.get(e,i));return t}minRowIndex(e){gd(this,e),T_(this);let t=this.get(e,0),i=[e,0];for(let r=1;r<this.columns;r++)this.get(e,r)<t&&(t=this.get(e,r),i[1]=r);return i}maxColumn(e){if(vd(this,e),this.isEmpty())return NaN;let t=this.get(0,e);for(let i=1;i<this.rows;i++)this.get(i,e)>t&&(t=this.get(i,e));return t}maxColumnIndex(e){vd(this,e),T_(this);let t=this.get(0,e),i=[0,e];for(let r=1;r<this.rows;r++)this.get(r,e)>t&&(t=this.get(r,e),i[0]=r);return i}minColumn(e){if(vd(this,e),this.isEmpty())return NaN;let t=this.get(0,e);for(let i=1;i<this.rows;i++)this.get(i,e)<t&&(t=this.get(i,e));return t}minColumnIndex(e){vd(this,e),T_(this);let t=this.get(0,e),i=[0,e];for(let r=1;r<this.rows;r++)this.get(r,e)<t&&(t=this.get(r,e),i[0]=r);return i}diag(){let e=Math.min(this.rows,this.columns),t=[];for(let i=0;i<e;i++)t.push(this.get(i,i));return t}norm(e="frobenius"){switch(e){case"max":return this.max();case"frobenius":return Math.sqrt(this.dot(this));default:throw new RangeError(`unknown norm type: ${e}`)}}cumulativeSum(){let e=0;for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)e+=this.get(t,i),this.set(t,i,e);return this}dot(e){wr.isMatrix(e)&&(e=e.to1DArray());let t=this.to1DArray();if(t.length!==e.length)throw new RangeError("vectors do not have the same size");let i=0;for(let r=0;r<t.length;r++)i+=t[r]*e[r];return i}mmul(e){e=mi.checkMatrix(e);let t=this.rows,i=this.columns,r=e.columns,o=new mi(t,r),s=new Float64Array(i);for(let a=0;a<r;a++){for(let l=0;l<i;l++)s[l]=e.get(l,a);for(let l=0;l<t;l++){let u=0;for(let d=0;d<i;d++)u+=this.get(l,d)*s[d];o.set(l,a,u)}}return o}mpow(e){if(!this.isSquare())throw new RangeError("Matrix must be square");if(!Number.isInteger(e)||e<0)throw new RangeError("Exponent must be a non-negative integer");let t=mi.eye(this.rows),i=this;for(let r=e;r>1;r/=2)1&r&&(t=t.mmul(i)),i=i.mmul(i);return t}strassen2x2(e){e=mi.checkMatrix(e);let t=new mi(2,2);const i=this.get(0,0),r=e.get(0,0),o=this.get(0,1),s=e.get(0,1),a=this.get(1,0),l=e.get(1,0),u=this.get(1,1),d=e.get(1,1),f=(i+u)*(r+d),m=(a+u)*r,y=i*(s-d),b=u*(l-r),E=(i+o)*d,D=y+E,k=m+b,T=f-m+y+(a-i)*(r+s);return t.set(0,0,f+b-E+(o-u)*(l+d)),t.set(0,1,D),t.set(1,0,k),t.set(1,1,T),t}strassen3x3(e){e=mi.checkMatrix(e);let t=new mi(3,3);const i=this.get(0,0),r=this.get(0,1),o=this.get(0,2),s=this.get(1,0),a=this.get(1,1),l=this.get(1,2),u=this.get(2,0),d=this.get(2,1),f=this.get(2,2),m=e.get(0,0),y=e.get(0,1),b=e.get(0,2),E=e.get(1,0),w=e.get(1,1),M=e.get(1,2),x=e.get(2,0),D=e.get(2,1),k=e.get(2,2),O=(i-s)*(-y+w),L=(-i+s+a)*(m-y+w),F=(s+a)*(-m+y),U=i*m,$=(-i+u+d)*(m-b+M),X=(-i+u)*(b-M),q=(u+d)*(-m+b),at=(-o+d+f)*(w+x-D),Q=(o-f)*(w-D),et=o*x,St=(d+f)*(-x+D),Yt=(-o+a+l)*(M+x-k),He=(o-l)*(M-k),Se=(a+l)*(-x+k),co=(i+r+o-s-a-d-f)*w+L+F+U+at+et+St,as=U+$+q+(i+r+o-a-l-u-d)*M+et+Yt+Se,Vs=O+a*(-m+y+E-w-M-x+k)+L+U+et+Yt+He,ju=O+L+F+U+l*D,Bf=et+Yt+He+Se+s*b,m0=U+$+X+d*(-m+b+E-w-M-x+D)+at+Q+et,Jr=at+Q+et+St+u*y,Od=U+$+X+q+f*k;return t.set(0,0,U+et+r*E),t.set(0,1,co),t.set(0,2,as),t.set(1,0,Vs),t.set(1,1,ju),t.set(1,2,Bf),t.set(2,0,m0),t.set(2,1,Jr),t.set(2,2,Od),t}mmulStrassen(e){e=mi.checkMatrix(e);let t=this.clone(),i=t.rows,r=t.columns,o=e.rows,s=e.columns;function a(f,m,y){if(f.rows===m&&f.columns===y)return f;{let w=wr.zeros(m,y);return w=w.setSubMatrix(f,0,0),w}}r!==o&&console.warn(`Multiplying ${i} x ${r} and ${o} x ${s} matrix: dimensions do not match.`);let l=Math.max(i,o),u=Math.max(r,s);return t=a(t,l,u),function d(f,m,y,b){if(y<=512||b<=512)return f.mmul(m);y%2==1&&b%2==1?(f=a(f,y+1,b+1),m=a(m,y+1,b+1)):y%2==1?(f=a(f,y+1,b),m=a(m,y+1,b)):b%2==1&&(f=a(f,y,b+1),m=a(m,y,b+1));let E=parseInt(f.rows/2,10),w=parseInt(f.columns/2,10),M=f.subMatrix(0,E-1,0,w-1),x=m.subMatrix(0,E-1,0,w-1),D=f.subMatrix(0,E-1,w,f.columns-1),k=m.subMatrix(0,E-1,w,m.columns-1),T=f.subMatrix(E,f.rows-1,0,w-1),O=m.subMatrix(E,m.rows-1,0,w-1),R=f.subMatrix(E,f.rows-1,w,f.columns-1),L=m.subMatrix(E,m.rows-1,w,m.columns-1),F=d(wr.add(M,R),wr.add(x,L),E,w),U=d(wr.add(T,R),x,E,w),$=d(M,wr.sub(k,L),E,w),X=d(R,wr.sub(O,x),E,w),q=d(wr.add(M,D),L,E,w),gt=d(wr.sub(T,M),wr.add(x,k),E,w),Et=d(wr.sub(D,R),wr.add(O,L),E,w),at=wr.add(F,X);at.sub(q),at.add(Et);let Q=wr.add($,q),et=wr.add(U,X),St=wr.sub(F,U);St.add($),St.add(gt);let Yt=wr.zeros(2*at.rows,2*at.columns);return Yt=Yt.setSubMatrix(at,0,0),Yt=Yt.setSubMatrix(Q,at.rows,0),Yt=Yt.setSubMatrix(et,0,at.columns),Yt=Yt.setSubMatrix(St,at.rows,at.columns),Yt.subMatrix(0,y-1,0,b-1)}(t,e=a(e,l,u),l,u)}scaleRows(e={}){if("object"!=typeof e)throw new TypeError("options must be an object");const{min:t=0,max:i=1}=e;if(!Number.isFinite(t))throw new TypeError("min must be a number");if(!Number.isFinite(i))throw new TypeError("max must be a number");if(t>=i)throw new RangeError("min must be smaller than max");let r=new mi(this.rows,this.columns);for(let o=0;o<this.rows;o++){const s=this.getRow(o);s.length>0&&lY(s,{min:t,max:i,output:s}),r.setRow(o,s)}return r}scaleColumns(e={}){if("object"!=typeof e)throw new TypeError("options must be an object");const{min:t=0,max:i=1}=e;if(!Number.isFinite(t))throw new TypeError("min must be a number");if(!Number.isFinite(i))throw new TypeError("max must be a number");if(t>=i)throw new RangeError("min must be smaller than max");let r=new mi(this.rows,this.columns);for(let o=0;o<this.columns;o++){const s=this.getColumn(o);s.length&&lY(s,{min:t,max:i,output:s}),r.setColumn(o,s)}return r}flipRows(){const e=Math.ceil(this.columns/2);for(let t=0;t<this.rows;t++)for(let i=0;i<e;i++){let r=this.get(t,i),o=this.get(t,this.columns-1-i);this.set(t,i,o),this.set(t,this.columns-1-i,r)}return this}flipColumns(){const e=Math.ceil(this.rows/2);for(let t=0;t<this.columns;t++)for(let i=0;i<e;i++){let r=this.get(i,t),o=this.get(this.rows-1-i,t);this.set(i,t,o),this.set(this.rows-1-i,t,r)}return this}kroneckerProduct(e){e=mi.checkMatrix(e);let t=this.rows,i=this.columns,r=e.rows,o=e.columns,s=new mi(t*r,i*o);for(let a=0;a<t;a++)for(let l=0;l<i;l++)for(let u=0;u<r;u++)for(let d=0;d<o;d++)s.set(r*a+u,o*l+d,this.get(a,l)*e.get(u,d));return s}kroneckerSum(e){if(e=mi.checkMatrix(e),!this.isSquare()||!e.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");let t=this.rows,i=e.rows,r=this.kroneckerProduct(mi.eye(i,i)),o=mi.eye(t,t).kroneckerProduct(e);return r.add(o)}transpose(){let e=new mi(this.columns,this.rows);for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)e.set(i,t,this.get(t,i));return e}sortRows(e=hY){for(let t=0;t<this.rows;t++)this.setRow(t,this.getRow(t).sort(e));return this}sortColumns(e=hY){for(let t=0;t<this.columns;t++)this.setColumn(t,this.getColumn(t).sort(e));return this}subMatrix(e,t,i,r){c7(this,e,t,i,r);let o=new mi(t-e+1,r-i+1);for(let s=e;s<=t;s++)for(let a=i;a<=r;a++)o.set(s-e,a-i,this.get(s,a));return o}subMatrixRow(e,t,i){if(void 0===t&&(t=0),void 0===i&&(i=this.columns-1),t>i||t<0||t>=this.columns||i<0||i>=this.columns)throw new RangeError("Argument out of range");let r=new mi(e.length,i-t+1);for(let o=0;o<e.length;o++)for(let s=t;s<=i;s++){if(e[o]<0||e[o]>=this.rows)throw new RangeError(`Row index out of range: ${e[o]}`);r.set(o,s-t,this.get(e[o],s))}return r}subMatrixColumn(e,t,i){if(void 0===t&&(t=0),void 0===i&&(i=this.rows-1),t>i||t<0||t>=this.rows||i<0||i>=this.rows)throw new RangeError("Argument out of range");let r=new mi(i-t+1,e.length);for(let o=0;o<e.length;o++)for(let s=t;s<=i;s++){if(e[o]<0||e[o]>=this.columns)throw new RangeError(`Column index out of range: ${e[o]}`);r.set(s-t,o,this.get(s,e[o]))}return r}setSubMatrix(e,t,i){if((e=mi.checkMatrix(e)).isEmpty())return this;c7(this,t,t+e.rows-1,i,i+e.columns-1);for(let s=0;s<e.rows;s++)for(let a=0;a<e.columns;a++)this.set(t+s,i+a,e.get(s,a));return this}selection(e,t){a7(this,e),l7(this,t);let i=new mi(e.length,t.length);for(let r=0;r<e.length;r++){let o=e[r];for(let s=0;s<t.length;s++)i.set(r,s,this.get(o,t[s]))}return i}trace(){let e=Math.min(this.rows,this.columns),t=0;for(let i=0;i<e;i++)t+=this.get(i,i);return t}clone(){return this.constructor.copy(this,new mi(this.rows,this.columns))}static copy(e,t){for(const[i,r,o]of e.entries())t.set(i,r,o);return t}sum(e){switch(e){case"row":return function A2t(n){let e=zR(n.rows);for(let t=0;t<n.rows;++t)for(let i=0;i<n.columns;++i)e[t]+=n.get(t,i);return e}(this);case"column":return function O2t(n){let e=zR(n.columns);for(let t=0;t<n.rows;++t)for(let i=0;i<n.columns;++i)e[i]+=n.get(t,i);return e}(this);case void 0:return function k2t(n){let e=0;for(let t=0;t<n.rows;t++)for(let i=0;i<n.columns;i++)e+=n.get(t,i);return e}(this);default:throw new Error(`invalid option: ${e}`)}}product(e){switch(e){case"row":return function I2t(n){let e=zR(n.rows,1);for(let t=0;t<n.rows;++t)for(let i=0;i<n.columns;++i)e[t]*=n.get(t,i);return e}(this);case"column":return function R2t(n){let e=zR(n.columns,1);for(let t=0;t<n.rows;++t)for(let i=0;i<n.columns;++i)e[i]*=n.get(t,i);return e}(this);case void 0:return function P2t(n){let e=1;for(let t=0;t<n.rows;t++)for(let i=0;i<n.columns;i++)e*=n.get(t,i);return e}(this);default:throw new Error(`invalid option: ${e}`)}}mean(e){const t=this.sum(e);switch(e){case"row":for(let i=0;i<this.rows;i++)t[i]/=this.columns;return t;case"column":for(let i=0;i<this.columns;i++)t[i]/=this.rows;return t;case void 0:return t/this.size;default:throw new Error(`invalid option: ${e}`)}}variance(e,t={}){if("object"==typeof e&&(t=e,e=void 0),"object"!=typeof t)throw new TypeError("options must be an object");const{unbiased:i=!0,mean:r=this.mean(e)}=t;if("boolean"!=typeof i)throw new TypeError("unbiased must be a boolean");switch(e){case"row":if(!Yc.isAnyArray(r))throw new TypeError("mean must be an array");return function N2t(n,e,t){const i=n.rows,r=n.columns,o=[];for(let s=0;s<i;s++){let a=0,l=0,u=0;for(let d=0;d<r;d++)u=n.get(s,d)-t[s],a+=u,l+=u*u;o.push(e?(l-a*a/r)/(r-1):(l-a*a/r)/r)}return o}(this,i,r);case"column":if(!Yc.isAnyArray(r))throw new TypeError("mean must be an array");return function L2t(n,e,t){const i=n.rows,r=n.columns,o=[];for(let s=0;s<r;s++){let a=0,l=0,u=0;for(let d=0;d<i;d++)u=n.get(d,s)-t[s],a+=u,l+=u*u;o.push(e?(l-a*a/i)/(i-1):(l-a*a/i)/i)}return o}(this,i,r);case void 0:if("number"!=typeof r)throw new TypeError("mean must be a number");return function F2t(n,e,t){const i=n.rows,r=n.columns,o=i*r;let s=0,a=0,l=0;for(let u=0;u<i;u++)for(let d=0;d<r;d++)l=n.get(u,d)-t,s+=l,a+=l*l;return e?(a-s*s/o)/(o-1):(a-s*s/o)/o}(this,i,r);default:throw new Error(`invalid option: ${e}`)}}standardDeviation(e,t){"object"==typeof e&&(t=e,e=void 0);const i=this.variance(e,t);if(void 0===e)return Math.sqrt(i);for(let r=0;r<i.length;r++)i[r]=Math.sqrt(i[r]);return i}center(e,t={}){if("object"==typeof e&&(t=e,e=void 0),"object"!=typeof t)throw new TypeError("options must be an object");const{center:i=this.mean(e)}=t;switch(e){case"row":if(!Yc.isAnyArray(i))throw new TypeError("center must be an array");return function B2t(n,e){for(let t=0;t<n.rows;t++)for(let i=0;i<n.columns;i++)n.set(t,i,n.get(t,i)-e[t])}(this,i),this;case"column":if(!Yc.isAnyArray(i))throw new TypeError("center must be an array");return function j2t(n,e){for(let t=0;t<n.rows;t++)for(let i=0;i<n.columns;i++)n.set(t,i,n.get(t,i)-e[i])}(this,i),this;case void 0:if("number"!=typeof i)throw new TypeError("center must be a number");return function V2t(n,e){for(let t=0;t<n.rows;t++)for(let i=0;i<n.columns;i++)n.set(t,i,n.get(t,i)-e)}(this,i),this;default:throw new Error(`invalid option: ${e}`)}}scale(e,t={}){if("object"==typeof e&&(t=e,e=void 0),"object"!=typeof t)throw new TypeError("options must be an object");let i=t.scale;switch(e){case"row":if(void 0===i)i=function z2t(n){const e=[];for(let t=0;t<n.rows;t++){let i=0;for(let r=0;r<n.columns;r++)i+=n.get(t,r)**2/(n.columns-1);e.push(Math.sqrt(i))}return e}(this);else if(!Yc.isAnyArray(i))throw new TypeError("scale must be an array");return function U2t(n,e){for(let t=0;t<n.rows;t++)for(let i=0;i<n.columns;i++)n.set(t,i,n.get(t,i)/e[t])}(this,i),this;case"column":if(void 0===i)i=function H2t(n){const e=[];for(let t=0;t<n.columns;t++){let i=0;for(let r=0;r<n.rows;r++)i+=n.get(r,t)**2/(n.rows-1);e.push(Math.sqrt(i))}return e}(this);else if(!Yc.isAnyArray(i))throw new TypeError("scale must be an array");return function G2t(n,e){for(let t=0;t<n.rows;t++)for(let i=0;i<n.columns;i++)n.set(t,i,n.get(t,i)/e[i])}(this,i),this;case void 0:if(void 0===i)i=function $2t(n){const e=n.size-1;let t=0;for(let i=0;i<n.columns;i++)for(let r=0;r<n.rows;r++)t+=n.get(r,i)**2/e;return Math.sqrt(t)}(this);else if("number"!=typeof i)throw new TypeError("scale must be a number");return function W2t(n,e){for(let t=0;t<n.rows;t++)for(let i=0;i<n.columns;i++)n.set(t,i,n.get(t,i)/e)}(this,i),this;default:throw new Error(`invalid option: ${e}`)}}toString(e){return uY(this,e)}[Symbol.iterator](){return this.entries()}*entries(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)yield[e,t,this.get(e,t)]}*values(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)yield this.get(e,t)}}function hY(n,e){return n-e}function K2t(n){return n.every(e=>"number"==typeof e)}var HR,u7,GR;wr.prototype.klass="Matrix",typeof Symbol<"u"&&(wr.prototype[Symbol.for("nodejs.util.inspect.custom")]=function C2t(){return uY(this)}),wr.random=wr.rand,wr.randomInt=wr.randInt,wr.diagonal=wr.diag,wr.prototype.diagonal=wr.prototype.diag,wr.identity=wr.eye,wr.prototype.negate=wr.prototype.neg,wr.prototype.tensorProduct=wr.prototype.kroneckerProduct;let mi=(GR=class extends wr{constructor(n,e){if(super(),Ro(this,HR),ln(this,"data"),GR.isMatrix(n))Ks(this,HR,u7).call(this,n.rows,n.columns),GR.copy(n,this);else if(Number.isInteger(n)&&n>=0)Ks(this,HR,u7).call(this,n,e);else{if(!Yc.isAnyArray(n))throw new TypeError("First argument must be a positive number or an array");{const t=n;if("number"!=typeof(e=(n=t.length)?t[0].length:0))throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let i=0;i<n;i++){if(t[i].length!==e)throw new RangeError("Inconsistent array dimensions");if(!K2t(t[i]))throw new TypeError("Input data contains non-numeric values");this.data.push(Float64Array.from(t[i]))}this.rows=n,this.columns=e}}}set(n,e,t){return this.data[n][e]=t,this}get(n,e){return this.data[n][e]}removeRow(n){return gd(this,n),this.data.splice(n,1),this.rows-=1,this}addRow(n,e){return void 0===e&&(e=n,n=this.rows),gd(this,n,!0),e=Float64Array.from(S_(this,e)),this.data.splice(n,0,e),this.rows+=1,this}removeColumn(n){vd(this,n);for(let e=0;e<this.rows;e++){const t=new Float64Array(this.columns-1);for(let i=0;i<n;i++)t[i]=this.data[e][i];for(let i=n+1;i<this.columns;i++)t[i-1]=this.data[e][i];this.data[e]=t}return this.columns-=1,this}addColumn(n,e){typeof e>"u"&&(e=n,n=this.columns),vd(this,n,!0),e=D_(this,e);for(let t=0;t<this.rows;t++){const i=new Float64Array(this.columns+1);let r=0;for(;r<n;r++)i[r]=this.data[t][r];for(i[r++]=e[t];r<this.columns+1;r++)i[r]=this.data[t][r-1];this.data[t]=i}return this.columns+=1,this}},HR=new WeakSet,u7=function(n,e){if(this.data=[],!(Number.isInteger(e)&&e>=0))throw new TypeError("nColumns must be a positive integer");for(let t=0;t<n;t++)this.data.push(new Float64Array(e));this.rows=n,this.columns=e},GR);var dc;!function T2t(n,e){n.prototype.add=function(t){return"number"==typeof t?this.addS(t):this.addM(t)},n.prototype.addS=function(t){for(let i=0;i<this.rows;i++)for(let r=0;r<this.columns;r++)this.set(i,r,this.get(i,r)+t);return this},n.prototype.addM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let r=0;r<this.columns;r++)this.set(i,r,this.get(i,r)+t.get(i,r));return this},n.add=function(t,i){return new e(t).add(i)},n.prototype.sub=function(t){return"number"==typeof t?this.subS(t):this.subM(t)},n.prototype.subS=function(t){for(let i=0;i<this.rows;i++)for(let r=0;r<this.columns;r++)this.set(i,r,this.get(i,r)-t);return this},n.prototype.subM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let r=0;r<this.columns;r++)this.set(i,r,this.get(i,r)-t.get(i,r));return this},n.sub=function(t,i){return new e(t).sub(i)},n.prototype.subtract=n.prototype.sub,n.prototype.subtractS=n.prototype.subS,n.prototype.subtractM=n.prototype.subM,n.subtract=n.sub,n.prototype.mul=function(t){return"number"==typeof t?this.mulS(t):this.mulM(t)},n.prototype.mulS=function(t){for(let i=0;i<this.rows;i++)for(let r=0;r<this.columns;r++)this.set(i,r,this.get(i,r)*t);return this},n.prototype.mulM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let r=0;r<this.columns;r++)this.set(i,r,this.get(i,r)*t.get(i,r));return this},n.mul=function(t,i){return new e(t).mul(i)},n.prototype.multiply=n.prototype.mul,n.prototype.multiplyS=n.prototype.mulS,n.prototype.multiplyM=n.prototype.mulM,n.multiply=n.mul,n.prototype.div=function(t){return"number"==typeof t?this.divS(t):this.divM(t)},n.prototype.divS=function(t){for(let i=0;i<this.rows;i++)for(let r=0;r<this.columns;r++)this.set(i,r,this.get(i,r)/t);return this},n.prototype.divM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let r=0;r<this.columns;r++)this.set(i,r,this.get(i,r)/t.get(i,r));return this},n.div=function(t,i){return new e(t).div(i)},n.prototype.divide=n.prototype.div,n.prototype.divideS=n.prototype.divS,n.prototype.divideM=n.prototype.divM,n.divide=n.div,n.prototype.mod=function(t){return"number"==typeof t?this.modS(t):this.modM(t)},n.prototype.modS=function(t){for(let i=0;i<this.rows;i++)for(let r=0;r<this.columns;r++)this.set(i,r,this.get(i,r)%t);return this},n.prototype.modM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let r=0;r<this.columns;r++)this.set(i,r,this.get(i,r)%t.get(i,r));return this},n.mod=function(t,i){return new e(t).mod(i)},n.prototype.modulus=n.prototype.mod,n.prototype.modulusS=n.prototype.modS,n.prototype.modulusM=n.prototype.modM,n.modulus=n.mod,n.prototype.and=function(t){return"number"==typeof t?this.andS(t):this.andM(t)},n.prototype.andS=function(t){for(let i=0;i<this.rows;i++)for(let r=0;r<this.columns;r++)this.set(i,r,this.get(i,r)&t);return this},n.prototype.andM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let r=0;r<this.columns;r++)this.set(i,r,this.get(i,r)&t.get(i,r));return this},n.and=function(t,i){return new e(t).and(i)},n.prototype.or=function(t){return"number"==typeof t?this.orS(t):this.orM(t)},n.prototype.orS=function(t){for(let i=0;i<this.rows;i++)for(let r=0;r<this.columns;r++)this.set(i,r,this.get(i,r)|t);return this},n.prototype.orM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let r=0;r<this.columns;r++)this.set(i,r,this.get(i,r)|t.get(i,r));return this},n.or=function(t,i){return new e(t).or(i)},n.prototype.xor=function(t){return"number"==typeof t?this.xorS(t):this.xorM(t)},n.prototype.xorS=function(t){for(let i=0;i<this.rows;i++)for(let r=0;r<this.columns;r++)this.set(i,r,this.get(i,r)^t);return this},n.prototype.xorM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let r=0;r<this.columns;r++)this.set(i,r,this.get(i,r)^t.get(i,r));return this},n.xor=function(t,i){return new e(t).xor(i)},n.prototype.leftShift=function(t){return"number"==typeof t?this.leftShiftS(t):this.leftShiftM(t)},n.prototype.leftShiftS=function(t){for(let i=0;i<this.rows;i++)for(let r=0;r<this.columns;r++)this.set(i,r,this.get(i,r)<<t);return this},n.prototype.leftShiftM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let r=0;r<this.columns;r++)this.set(i,r,this.get(i,r)<<t.get(i,r));return this},n.leftShift=function(t,i){return new e(t).leftShift(i)},n.prototype.signPropagatingRightShift=function(t){return"number"==typeof t?this.signPropagatingRightShiftS(t):this.signPropagatingRightShiftM(t)},n.prototype.signPropagatingRightShiftS=function(t){for(let i=0;i<this.rows;i++)for(let r=0;r<this.columns;r++)this.set(i,r,this.get(i,r)>>t);return this},n.prototype.signPropagatingRightShiftM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let r=0;r<this.columns;r++)this.set(i,r,this.get(i,r)>>t.get(i,r));return this},n.signPropagatingRightShift=function(t,i){return new e(t).signPropagatingRightShift(i)},n.prototype.rightShift=function(t){return"number"==typeof t?this.rightShiftS(t):this.rightShiftM(t)},n.prototype.rightShiftS=function(t){for(let i=0;i<this.rows;i++)for(let r=0;r<this.columns;r++)this.set(i,r,this.get(i,r)>>>t);return this},n.prototype.rightShiftM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let r=0;r<this.columns;r++)this.set(i,r,this.get(i,r)>>>t.get(i,r));return this},n.rightShift=function(t,i){return new e(t).rightShift(i)},n.prototype.zeroFillRightShift=n.prototype.rightShift,n.prototype.zeroFillRightShiftS=n.prototype.rightShiftS,n.prototype.zeroFillRightShiftM=n.prototype.rightShiftM,n.zeroFillRightShift=n.rightShift,n.prototype.not=function(){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,~this.get(t,i));return this},n.not=function(t){return new e(t).not()},n.prototype.abs=function(){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,Math.abs(this.get(t,i)));return this},n.abs=function(t){return new e(t).abs()},n.prototype.acos=function(){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,Math.acos(this.get(t,i)));return this},n.acos=function(t){return new e(t).acos()},n.prototype.acosh=function(){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,Math.acosh(this.get(t,i)));return this},n.acosh=function(t){return new e(t).acosh()},n.prototype.asin=function(){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,Math.asin(this.get(t,i)));return this},n.asin=function(t){return new e(t).asin()},n.prototype.asinh=function(){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,Math.asinh(this.get(t,i)));return this},n.asinh=function(t){return new e(t).asinh()},n.prototype.atan=function(){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,Math.atan(this.get(t,i)));return this},n.atan=function(t){return new e(t).atan()},n.prototype.atanh=function(){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,Math.atanh(this.get(t,i)));return this},n.atanh=function(t){return new e(t).atanh()},n.prototype.cbrt=function(){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,Math.cbrt(this.get(t,i)));return this},n.cbrt=function(t){return new e(t).cbrt()},n.prototype.ceil=function(){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,Math.ceil(this.get(t,i)));return this},n.ceil=function(t){return new e(t).ceil()},n.prototype.clz32=function(){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,Math.clz32(this.get(t,i)));return this},n.clz32=function(t){return new e(t).clz32()},n.prototype.cos=function(){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,Math.cos(this.get(t,i)));return this},n.cos=function(t){return new e(t).cos()},n.prototype.cosh=function(){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,Math.cosh(this.get(t,i)));return this},n.cosh=function(t){return new e(t).cosh()},n.prototype.exp=function(){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,Math.exp(this.get(t,i)));return this},n.exp=function(t){return new e(t).exp()},n.prototype.expm1=function(){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,Math.expm1(this.get(t,i)));return this},n.expm1=function(t){return new e(t).expm1()},n.prototype.floor=function(){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,Math.floor(this.get(t,i)));return this},n.floor=function(t){return new e(t).floor()},n.prototype.fround=function(){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,Math.fround(this.get(t,i)));return this},n.fround=function(t){return new e(t).fround()},n.prototype.log=function(){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,Math.log(this.get(t,i)));return this},n.log=function(t){return new e(t).log()},n.prototype.log1p=function(){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,Math.log1p(this.get(t,i)));return this},n.log1p=function(t){return new e(t).log1p()},n.prototype.log10=function(){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,Math.log10(this.get(t,i)));return this},n.log10=function(t){return new e(t).log10()},n.prototype.log2=function(){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,Math.log2(this.get(t,i)));return this},n.log2=function(t){return new e(t).log2()},n.prototype.round=function(){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,Math.round(this.get(t,i)));return this},n.round=function(t){return new e(t).round()},n.prototype.sign=function(){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,Math.sign(this.get(t,i)));return this},n.sign=function(t){return new e(t).sign()},n.prototype.sin=function(){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,Math.sin(this.get(t,i)));return this},n.sin=function(t){return new e(t).sin()},n.prototype.sinh=function(){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,Math.sinh(this.get(t,i)));return this},n.sinh=function(t){return new e(t).sinh()},n.prototype.sqrt=function(){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,Math.sqrt(this.get(t,i)));return this},n.sqrt=function(t){return new e(t).sqrt()},n.prototype.tan=function(){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,Math.tan(this.get(t,i)));return this},n.tan=function(t){return new e(t).tan()},n.prototype.tanh=function(){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,Math.tanh(this.get(t,i)));return this},n.tanh=function(t){return new e(t).tanh()},n.prototype.trunc=function(){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,Math.trunc(this.get(t,i)));return this},n.trunc=function(t){return new e(t).trunc()},n.pow=function(t,i){return new e(t).pow(i)},n.prototype.pow=function(t){return"number"==typeof t?this.powS(t):this.powM(t)},n.prototype.powS=function(t){for(let i=0;i<this.rows;i++)for(let r=0;r<this.columns;r++)this.set(i,r,this.get(i,r)**t);return this},n.prototype.powM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let r=0;r<this.columns;r++)this.set(i,r,this.get(i,r)**t.get(i,r));return this}}(wr,mi),dc=new WeakMap;let I3=class VG extends wr{constructor(e){if(super(),Ro(this,dc,void 0),mi.isMatrix(e)){if(!e.isSymmetric())throw new TypeError("not symmetric data");bl(this,dc,mi.copy(e,new mi(e.rows,e.rows)))}else if(Number.isInteger(e)&&e>=0)bl(this,dc,new mi(e,e));else if(bl(this,dc,new mi(e)),!this.isSymmetric())throw new TypeError("not symmetric data")}get size(){return zi(this,dc).size}get rows(){return zi(this,dc).rows}get columns(){return zi(this,dc).columns}get diagonalSize(){return this.rows}static isSymmetricMatrix(e){return mi.isMatrix(e)&&"SymmetricMatrix"===e.klassType}static zeros(e){return new this(e)}static ones(e){return new this(e).fill(1)}clone(){const e=new VG(this.diagonalSize);for(const[t,i,r]of this.upperRightEntries())e.set(t,i,r);return e}toMatrix(){return new mi(this)}get(e,t){return zi(this,dc).get(e,t)}set(e,t,i){return zi(this,dc).set(e,t,i),zi(this,dc).set(t,e,i),this}removeCross(e){return zi(this,dc).removeRow(e),zi(this,dc).removeColumn(e),this}addCross(e,t){void 0===t&&(t=e,e=this.diagonalSize);const i=t.slice();return i.splice(e,1),zi(this,dc).addRow(e,i),zi(this,dc).addColumn(e,t),this}applyMask(e){if(e.length!==this.diagonalSize)throw new RangeError("Mask size do not match with matrix size");const t=[];for(const[i,r]of e.entries())r||t.push(i);t.reverse();for(const i of t)this.removeCross(i);return this}toCompact(){const{diagonalSize:e}=this,t=new Array(e*(e+1)/2);for(let i=0,r=0,o=0;o<t.length;o++)t[o]=this.get(r,i),++i>=e&&(i=++r);return t}static fromCompact(e){const t=e.length,i=(Math.sqrt(8*t+1)-1)/2;if(!Number.isInteger(i))throw new TypeError(`This array is not a compact representation of a Symmetric Matrix, ${JSON.stringify(e)}`);const r=new VG(i);for(let o=0,s=0,a=0;a<t;a++)r.set(o,s,e[a]),++o>=i&&(o=++s);return r}*upperRightEntries(){for(let e=0,t=0;e<this.diagonalSize;void 0){const i=this.get(e,t);yield[e,t,i],++t>=this.diagonalSize&&(t=++e)}}*upperRightValues(){for(let e=0,t=0;e<this.diagonalSize;void 0)yield this.get(e,t),++t>=this.diagonalSize&&(t=++e)}};I3.prototype.klassType="SymmetricMatrix";class $R extends I3{static isDistanceMatrix(e){return I3.isSymmetricMatrix(e)&&"DistanceMatrix"===e.klassSubType}constructor(e){if(super(e),!this.isDistance())throw new TypeError("Provided arguments do no produce a distance matrix")}set(e,t,i){return e===t&&(i=0),super.set(e,t,i)}addCross(e,t){return void 0===t&&(t=e,e=this.diagonalSize),(t=t.slice())[e]=0,super.addCross(e,t)}toSymmetricMatrix(){return new I3(this)}clone(){const e=new $R(this.diagonalSize);for(const[t,i,r]of this.upperRightEntries())t!==i&&e.set(t,i,r);return e}toCompact(){const{diagonalSize:e}=this,i=new Array((e-1)*e/2);for(let r=1,o=0,s=0;s<i.length;s++)i[s]=this.get(o,r),++r>=e&&(r=1+ ++o);return i}static fromCompact(e){const t=e.length;if(0===t)return new this(0);const i=(Math.sqrt(8*t+1)+1)/2;if(!Number.isInteger(i))throw new TypeError(`This array is not a compact representation of a DistanceMatrix, ${JSON.stringify(e)}`);const r=new this(i);for(let o=1,s=0,a=0;a<t;a++)r.set(o,s,e[a]),++o>=i&&(o=1+ ++s);return r}}$R.prototype.klassSubType="DistanceMatrix";class Jp extends wr{constructor(e,t,i){super(),this.matrix=e,this.rows=t,this.columns=i}}class WR extends Jp{constructor(e,t,i){a7(e,t),l7(e,i),super(e,t.length,i.length),this.rowIndices=t,this.columnIndices=i}set(e,t,i){return this.matrix.set(this.rowIndices[e],this.columnIndices[t],i),this}get(e,t){return this.matrix.get(this.rowIndices[e],this.columnIndices[t])}}class fY extends wr{constructor(e,t={}){const{rows:i=1}=t;if(e.length%i!=0)throw new Error("the data length is not divisible by the number of rows");super(),this.rows=i,this.columns=e.length/i,this.data=e}set(e,t,i){let r=this._calculateIndex(e,t);return this.data[r]=i,this}get(e,t){let i=this._calculateIndex(e,t);return this.data[i]}_calculateIndex(e,t){return e*this.columns+t}}class ku extends wr{constructor(e){super(),this.data=e,this.rows=e.length,this.columns=e[0].length}set(e,t,i){return this.data[e][t]=i,this}get(e,t){return this.data[e][t]}}class KR{constructor(e){let a,l,u,d,f,m,y,b,E,t=(e=ku.checkMatrix(e)).clone(),i=t.rows,r=t.columns,o=new Float64Array(i),s=1;for(a=0;a<i;a++)o[a]=a;for(b=new Float64Array(i),l=0;l<r;l++){for(a=0;a<i;a++)b[a]=t.get(a,l);for(a=0;a<i;a++){for(E=Math.min(a,l),f=0,u=0;u<E;u++)f+=t.get(a,u)*b[u];b[a]-=f,t.set(a,l,b[a])}for(d=l,a=l+1;a<i;a++)Math.abs(b[a])>Math.abs(b[d])&&(d=a);if(d!==l){for(u=0;u<r;u++)m=t.get(d,u),t.set(d,u,t.get(l,u)),t.set(l,u,m);y=o[d],o[d]=o[l],o[l]=y,s=-s}if(l<i&&0!==t.get(l,l))for(a=l+1;a<i;a++)t.set(a,l,t.get(a,l)/t.get(l,l))}this.LU=t,this.pivotVector=o,this.pivotSign=s}isSingular(){let e=this.LU,t=e.columns;for(let i=0;i<t;i++)if(0===e.get(i,i))return!0;return!1}solve(e){e=mi.checkMatrix(e);let t=this.LU;if(t.rows!==e.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");let s,a,l,i=e.columns,r=e.subMatrixRow(this.pivotVector,0,i-1),o=t.columns;for(l=0;l<o;l++)for(s=l+1;s<o;s++)for(a=0;a<i;a++)r.set(s,a,r.get(s,a)-r.get(l,a)*t.get(s,l));for(l=o-1;l>=0;l--){for(a=0;a<i;a++)r.set(l,a,r.get(l,a)/t.get(l,l));for(s=0;s<l;s++)for(a=0;a<i;a++)r.set(s,a,r.get(s,a)-r.get(l,a)*t.get(s,l))}return r}get determinant(){let e=this.LU;if(!e.isSquare())throw new Error("Matrix must be square");let t=this.pivotSign,i=e.columns;for(let r=0;r<i;r++)t*=e.get(r,r);return t}get lowerTriangularMatrix(){let e=this.LU,t=e.rows,i=e.columns,r=new mi(t,i);for(let o=0;o<t;o++)for(let s=0;s<i;s++)r.set(o,s,o>s?e.get(o,s):o===s?1:0);return r}get upperTriangularMatrix(){let e=this.LU,t=e.rows,i=e.columns,r=new mi(t,i);for(let o=0;o<t;o++)for(let s=0;s<i;s++)r.set(o,s,o<=s?e.get(o,s):0);return r}get pivotPermutationVector(){return Array.from(this.pivotVector)}}function t0(n,e){let t=0;return Math.abs(n)>Math.abs(e)?(t=e/n,Math.abs(n)*Math.sqrt(1+t*t)):0!==e?(t=n/e,Math.abs(e)*Math.sqrt(1+t*t)):0}class d7{constructor(e){let s,a,l,u,t=(e=ku.checkMatrix(e)).clone(),i=e.rows,r=e.columns,o=new Float64Array(r);for(l=0;l<r;l++){let d=0;for(s=l;s<i;s++)d=t0(d,t.get(s,l));if(0!==d){for(t.get(l,l)<0&&(d=-d),s=l;s<i;s++)t.set(s,l,t.get(s,l)/d);for(t.set(l,l,t.get(l,l)+1),a=l+1;a<r;a++){for(u=0,s=l;s<i;s++)u+=t.get(s,l)*t.get(s,a);for(u=-u/t.get(l,l),s=l;s<i;s++)t.set(s,a,t.get(s,a)+u*t.get(s,l))}}o[l]=-d}this.QR=t,this.Rdiag=o}solve(e){e=mi.checkMatrix(e);let t=this.QR,i=t.rows;if(e.rows!==i)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");let a,l,u,d,r=e.columns,o=e.clone(),s=t.columns;for(u=0;u<s;u++)for(l=0;l<r;l++){for(d=0,a=u;a<i;a++)d+=t.get(a,u)*o.get(a,l);for(d=-d/t.get(u,u),a=u;a<i;a++)o.set(a,l,o.get(a,l)+d*t.get(a,u))}for(u=s-1;u>=0;u--){for(l=0;l<r;l++)o.set(u,l,o.get(u,l)/this.Rdiag[u]);for(a=0;a<u;a++)for(l=0;l<r;l++)o.set(a,l,o.get(a,l)-o.get(u,l)*t.get(a,u))}return o.subMatrix(0,s-1,0,r-1)}isFullRank(){let e=this.QR.columns;for(let t=0;t<e;t++)if(0===this.Rdiag[t])return!1;return!0}get upperTriangularMatrix(){let r,o,e=this.QR,t=e.columns,i=new mi(t,t);for(r=0;r<t;r++)for(o=0;o<t;o++)i.set(r,o,r<o?e.get(r,o):r===o?this.Rdiag[r]:0);return i}get orthogonalMatrix(){let o,s,a,l,e=this.QR,t=e.rows,i=e.columns,r=new mi(t,i);for(a=i-1;a>=0;a--){for(o=0;o<t;o++)r.set(o,a,0);for(r.set(a,a,1),s=a;s<i;s++)if(0!==e.get(a,a)){for(l=0,o=a;o<t;o++)l+=e.get(o,a)*r.get(o,s);for(l=-l/e.get(a,a),o=a;o<t;o++)r.set(o,s,r.get(o,s)+l*e.get(o,a))}}return r}}let A_=class{constructor(n,e={}){if((n=ku.checkMatrix(n)).isEmpty())throw new Error("Matrix must be non-empty");let t=n.rows,i=n.columns;const{computeLeftSingularVectors:r=!0,computeRightSingularVectors:o=!0,autoTranspose:s=!1}=e;let d,a=!!r,l=!!o,u=!1;if(t<i)if(s){d=n.transpose(),t=d.rows,i=d.columns,u=!0;let F=a;a=l,l=F}else d=n.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else d=n.clone();let f=Math.min(t,i),m=Math.min(t+1,i),y=new Float64Array(m),b=new mi(t,f),E=new mi(i,i),w=new Float64Array(i),M=new Float64Array(t),x=new Float64Array(m);for(let F=0;F<m;F++)x[F]=F;let D=Math.min(t-1,i),k=Math.max(0,Math.min(i-2,t)),T=Math.max(D,k);for(let F=0;F<T;F++){if(F<D){y[F]=0;for(let U=F;U<t;U++)y[F]=t0(y[F],d.get(U,F));if(0!==y[F]){d.get(F,F)<0&&(y[F]=-y[F]);for(let U=F;U<t;U++)d.set(U,F,d.get(U,F)/y[F]);d.set(F,F,d.get(F,F)+1)}y[F]=-y[F]}for(let U=F+1;U<i;U++){if(F<D&&0!==y[F]){let $=0;for(let X=F;X<t;X++)$+=d.get(X,F)*d.get(X,U);$=-$/d.get(F,F);for(let X=F;X<t;X++)d.set(X,U,d.get(X,U)+$*d.get(X,F))}w[U]=d.get(F,U)}if(a&&F<D)for(let U=F;U<t;U++)b.set(U,F,d.get(U,F));if(F<k){w[F]=0;for(let U=F+1;U<i;U++)w[F]=t0(w[F],w[U]);if(0!==w[F]){w[F+1]<0&&(w[F]=0-w[F]);for(let U=F+1;U<i;U++)w[U]/=w[F];w[F+1]+=1}if(w[F]=-w[F],F+1<t&&0!==w[F]){for(let U=F+1;U<t;U++)M[U]=0;for(let U=F+1;U<t;U++)for(let $=F+1;$<i;$++)M[U]+=w[$]*d.get(U,$);for(let U=F+1;U<i;U++){let $=-w[U]/w[F+1];for(let X=F+1;X<t;X++)d.set(X,U,d.get(X,U)+$*M[X])}}if(l)for(let U=F+1;U<i;U++)E.set(U,F,w[U])}}let O=Math.min(i,t+1);if(D<i&&(y[D]=d.get(D,D)),t<O&&(y[O-1]=0),k+1<O&&(w[k]=d.get(k,O-1)),w[O-1]=0,a){for(let F=D;F<f;F++){for(let U=0;U<t;U++)b.set(U,F,0);b.set(F,F,1)}for(let F=D-1;F>=0;F--)if(0!==y[F]){for(let U=F+1;U<f;U++){let $=0;for(let X=F;X<t;X++)$+=b.get(X,F)*b.get(X,U);$=-$/b.get(F,F);for(let X=F;X<t;X++)b.set(X,U,b.get(X,U)+$*b.get(X,F))}for(let U=F;U<t;U++)b.set(U,F,-b.get(U,F));b.set(F,F,1+b.get(F,F));for(let U=0;U<F-1;U++)b.set(U,F,0)}else{for(let U=0;U<t;U++)b.set(U,F,0);b.set(F,F,1)}}if(l)for(let F=i-1;F>=0;F--){if(F<k&&0!==w[F])for(let U=F+1;U<i;U++){let $=0;for(let X=F+1;X<i;X++)$+=E.get(X,F)*E.get(X,U);$=-$/E.get(F+1,F);for(let X=F+1;X<i;X++)E.set(X,U,E.get(X,U)+$*E.get(X,F))}for(let U=0;U<i;U++)E.set(U,F,0);E.set(F,F,1)}let R=O-1,L=Number.EPSILON;for(;O>0;){let F,U;for(F=O-2;F>=-1&&-1!==F;F--){const $=Number.MIN_VALUE+L*Math.abs(y[F]+Math.abs(y[F+1]));if(Math.abs(w[F])<=$||Number.isNaN(w[F])){w[F]=0;break}}if(F===O-2)U=4;else{let $;for($=O-1;$>=F&&$!==F;$--){let X=($!==O?Math.abs(w[$]):0)+($!==F+1?Math.abs(w[$-1]):0);if(Math.abs(y[$])<=L*X){y[$]=0;break}}$===F?U=3:$===O-1?U=1:(U=2,F=$)}switch(F++,U){case 1:{let $=w[O-2];w[O-2]=0;for(let X=O-2;X>=F;X--){let q=t0(y[X],$),gt=y[X]/q,Et=$/q;if(y[X]=q,X!==F&&($=-Et*w[X-1],w[X-1]=gt*w[X-1]),l)for(let at=0;at<i;at++)q=gt*E.get(at,X)+Et*E.get(at,O-1),E.set(at,O-1,-Et*E.get(at,X)+gt*E.get(at,O-1)),E.set(at,X,q)}break}case 2:{let $=w[F-1];w[F-1]=0;for(let X=F;X<O;X++){let q=t0(y[X],$),gt=y[X]/q,Et=$/q;if(y[X]=q,$=-Et*w[X],w[X]=gt*w[X],a)for(let at=0;at<t;at++)q=gt*b.get(at,X)+Et*b.get(at,F-1),b.set(at,F-1,-Et*b.get(at,X)+gt*b.get(at,F-1)),b.set(at,X,q)}break}case 3:{const $=Math.max(Math.abs(y[O-1]),Math.abs(y[O-2]),Math.abs(w[O-2]),Math.abs(y[F]),Math.abs(w[F])),X=y[O-1]/$,q=y[O-2]/$,gt=w[O-2]/$,Et=y[F]/$,at=w[F]/$,Q=((q+X)*(q-X)+gt*gt)/2,et=X*gt*(X*gt);let St=0;(0!==Q||0!==et)&&(St=Q<0?0-Math.sqrt(Q*Q+et):Math.sqrt(Q*Q+et),St=et/(Q+St));let Yt=(Et+X)*(Et-X)+St,He=Et*at;for(let Se=F;Se<O-1;Se++){let un=t0(Yt,He);0===un&&(un=Number.MIN_VALUE);let _n=Yt/un,Wn=He/un;if(Se!==F&&(w[Se-1]=un),Yt=_n*y[Se]+Wn*w[Se],w[Se]=_n*w[Se]-Wn*y[Se],He=Wn*y[Se+1],y[Se+1]=_n*y[Se+1],l)for(let Ln=0;Ln<i;Ln++)un=_n*E.get(Ln,Se)+Wn*E.get(Ln,Se+1),E.set(Ln,Se+1,-Wn*E.get(Ln,Se)+_n*E.get(Ln,Se+1)),E.set(Ln,Se,un);if(un=t0(Yt,He),0===un&&(un=Number.MIN_VALUE),_n=Yt/un,Wn=He/un,y[Se]=un,Yt=_n*w[Se]+Wn*y[Se+1],y[Se+1]=-Wn*w[Se]+_n*y[Se+1],He=Wn*w[Se+1],w[Se+1]=_n*w[Se+1],a&&Se<t-1)for(let Ln=0;Ln<t;Ln++)un=_n*b.get(Ln,Se)+Wn*b.get(Ln,Se+1),b.set(Ln,Se+1,-Wn*b.get(Ln,Se)+_n*b.get(Ln,Se+1)),b.set(Ln,Se,un)}w[O-2]=Yt;break}case 4:if(y[F]<=0&&(y[F]=y[F]<0?-y[F]:0,l))for(let $=0;$<=R;$++)E.set($,F,-E.get($,F));for(;F<R&&!(y[F]>=y[F+1]);){let $=y[F];if(y[F]=y[F+1],y[F+1]=$,l&&F<i-1)for(let X=0;X<i;X++)$=E.get(X,F+1),E.set(X,F+1,E.get(X,F)),E.set(X,F,$);if(a&&F<t-1)for(let X=0;X<t;X++)$=b.get(X,F+1),b.set(X,F+1,b.get(X,F)),b.set(X,F,$);F++}O--}}if(u){let F=E;E=b,b=F}this.m=t,this.n=i,this.s=y,this.U=b,this.V=E}solve(n){let e=n,t=this.threshold,i=this.s.length,r=mi.zeros(i,i);for(let f=0;f<i;f++)Math.abs(this.s[f])<=t?r.set(f,f,0):r.set(f,f,1/this.s[f]);let o=this.U,s=this.rightSingularVectors,a=s.mmul(r),l=s.rows,u=o.rows,d=mi.zeros(l,u);for(let f=0;f<l;f++)for(let m=0;m<u;m++){let y=0;for(let b=0;b<i;b++)y+=a.get(f,b)*o.get(m,b);d.set(f,m,y)}return d.mmul(e)}solveForDiagonal(n){return this.solve(mi.diag(n))}inverse(){let n=this.V,e=this.threshold,t=n.rows,i=n.columns,r=new mi(t,this.s.length);for(let u=0;u<t;u++)for(let d=0;d<i;d++)Math.abs(this.s[d])>e&&r.set(u,d,n.get(u,d)/this.s[d]);let o=this.U,s=o.rows,a=o.columns,l=new mi(t,s);for(let u=0;u<t;u++)for(let d=0;d<s;d++){let f=0;for(let m=0;m<a;m++)f+=r.get(u,m)*o.get(d,m);l.set(u,d,f)}return l}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let n=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,e=0,t=this.s;for(let i=0,r=t.length;i<r;i++)t[i]>n&&e++;return e}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return mi.diag(this.s)}};function pY(n,e,t=!1){return n=ku.checkMatrix(n),e=ku.checkMatrix(e),t?new A_(n).solve(e):n.isSquare()?new KR(n).solve(e):new d7(n).solve(e)}function oyt(n,e){let t=[];for(let i=0;i<n;i++)i!==e&&t.push(i);return t}function syt(n,e,t,i=1e-9,r=1e-9){if(n>r)return new Array(e.rows+1).fill(0);{let o=e.addRow(t,[0]);for(let s=0;s<o.rows;s++)Math.abs(o.get(s,0))<i&&o.set(s,0,0);return o.to1DArray()}}class mY{constructor(e,t={}){const{assumeSymmetric:i=!1}=t;if(!(e=ku.checkMatrix(e)).isSquare())throw new Error("Matrix is not a square matrix");if(e.isEmpty())throw new Error("Matrix must be non-empty");let u,d,r=e.columns,o=new mi(r,r),s=new Float64Array(r),a=new Float64Array(r),l=e,f=!1;if(f=!!i||e.isSymmetric(),f){for(u=0;u<r;u++)for(d=0;d<r;d++)o.set(u,d,l.get(u,d));(function dyt(n,e,t,i){let r,o,s,a,l,u,d,f;for(l=0;l<n;l++)t[l]=i.get(n-1,l);for(a=n-1;a>0;a--){for(f=0,s=0,u=0;u<a;u++)f+=Math.abs(t[u]);if(0===f)for(e[a]=t[a-1],l=0;l<a;l++)t[l]=i.get(a-1,l),i.set(a,l,0),i.set(l,a,0);else{for(u=0;u<a;u++)t[u]/=f,s+=t[u]*t[u];for(r=t[a-1],o=Math.sqrt(s),r>0&&(o=-o),e[a]=f*o,s-=r*o,t[a-1]=r-o,l=0;l<a;l++)e[l]=0;for(l=0;l<a;l++){for(r=t[l],i.set(l,a,r),o=e[l]+i.get(l,l)*r,u=l+1;u<=a-1;u++)o+=i.get(u,l)*t[u],e[u]+=i.get(u,l)*r;e[l]=o}for(r=0,l=0;l<a;l++)e[l]/=s,r+=e[l]*t[l];for(d=r/(s+s),l=0;l<a;l++)e[l]-=d*t[l];for(l=0;l<a;l++){for(r=t[l],o=e[l],u=l;u<=a-1;u++)i.set(u,l,i.get(u,l)-(r*e[u]+o*t[u]));t[l]=i.get(a-1,l),i.set(a,l,0)}}t[a]=s}for(a=0;a<n-1;a++){if(i.set(n-1,a,i.get(a,a)),i.set(a,a,1),s=t[a+1],0!==s){for(u=0;u<=a;u++)t[u]=i.get(u,a+1)/s;for(l=0;l<=a;l++){for(o=0,u=0;u<=a;u++)o+=i.get(u,a+1)*i.get(u,l);for(u=0;u<=a;u++)i.set(u,l,i.get(u,l)-o*t[u])}}for(u=0;u<=a;u++)i.set(u,a+1,0)}for(l=0;l<n;l++)t[l]=i.get(n-1,l),i.set(n-1,l,0);i.set(n-1,n-1,1),e[0]=0})(r,a,s,o),function hyt(n,e,t,i){let r,o,s,a,l,u,d,f,m,y,b,E,w,M,x,D;for(s=1;s<n;s++)e[s-1]=e[s];e[n-1]=0;let k=0,T=0,O=Number.EPSILON;for(u=0;u<n;u++){for(T=Math.max(T,Math.abs(t[u])+Math.abs(e[u])),d=u;d<n&&!(Math.abs(e[d])<=O*T);)d++;if(d>u)do{for(r=t[u],f=(t[u+1]-r)/(2*e[u]),m=t0(f,1),f<0&&(m=-m),t[u]=e[u]/(f+m),t[u+1]=e[u]*(f+m),y=t[u+1],o=r-t[u],s=u+2;s<n;s++)t[s]-=o;for(k+=o,f=t[d],b=1,E=b,w=b,M=e[u+1],x=0,D=0,s=d-1;s>=u;s--)for(w=E,E=b,D=x,r=b*e[s],o=b*f,m=t0(f,e[s]),e[s+1]=x*m,x=e[s]/m,b=f/m,f=b*t[s]-x*r,t[s+1]=o+x*(b*r+x*t[s]),l=0;l<n;l++)o=i.get(l,s+1),i.set(l,s+1,x*i.get(l,s)+b*o),i.set(l,s,b*i.get(l,s)-x*o);f=-x*D*w*M*e[u]/y,e[u]=x*f,t[u]=b*f}while(Math.abs(e[u])>O*T);t[u]=t[u]+k,e[u]=0}for(s=0;s<n-1;s++){for(l=s,f=t[s],a=s+1;a<n;a++)t[a]<f&&(l=a,f=t[a]);if(l!==s)for(t[l]=t[s],t[s]=f,a=0;a<n;a++)f=i.get(a,s),i.set(a,s,i.get(a,l)),i.set(a,l,f)}}(r,a,s,o)}else{let m=new mi(r,r),y=new Float64Array(r);for(d=0;d<r;d++)for(u=0;u<r;u++)m.set(u,d,l.get(u,d));(function fyt(n,e,t,i){let s,a,l,u,d,f,m,o=n-1;for(f=1;f<=o-1;f++){for(m=0,u=f;u<=o;u++)m+=Math.abs(e.get(u,f-1));if(0!==m){for(l=0,u=o;u>=f;u--)t[u]=e.get(u,f-1)/m,l+=t[u]*t[u];for(a=Math.sqrt(l),t[f]>0&&(a=-a),l-=t[f]*a,t[f]=t[f]-a,d=f;d<n;d++){for(s=0,u=o;u>=f;u--)s+=t[u]*e.get(u,d);for(s/=l,u=f;u<=o;u++)e.set(u,d,e.get(u,d)-s*t[u])}for(u=0;u<=o;u++){for(s=0,d=o;d>=f;d--)s+=t[d]*e.get(u,d);for(s/=l,d=f;d<=o;d++)e.set(u,d,e.get(u,d)-s*t[d])}t[f]=m*t[f],e.set(f,f-1,m*a)}}for(u=0;u<n;u++)for(d=0;d<n;d++)i.set(u,d,u===d?1:0);for(f=o-1;f>=1;f--)if(0!==e.get(f,f-1)){for(u=f+1;u<=o;u++)t[u]=e.get(u,f-1);for(d=f;d<=o;d++){for(a=0,u=f;u<=o;u++)a+=t[u]*i.get(u,d);for(a=a/t[f]/e.get(f,f-1),u=f;u<=o;u++)i.set(u,d,i.get(u,d)+a*t[u])}}})(r,m,y,o),function pyt(n,e,t,i,r){let M,x,D,k,T,O,R,L,F,U,$,X,q,gt,Et,o=n-1,a=n-1,l=Number.EPSILON,u=0,d=0,f=0,m=0,y=0,b=0,E=0,w=0;for(M=0;M<n;M++)for((M<0||M>a)&&(t[M]=r.get(M,M),e[M]=0),x=Math.max(M-1,0);x<n;x++)d+=Math.abs(r.get(M,x));for(;o>=0;){for(k=o;k>0&&(b=Math.abs(r.get(k-1,k-1))+Math.abs(r.get(k,k)),0===b&&(b=d),!(Math.abs(r.get(k,k-1))<l*b));)k--;if(k===o)r.set(o,o,r.get(o,o)+u),t[o]=r.get(o,o),e[o]=0,o--,w=0;else if(k===o-1){if(R=r.get(o,o-1)*r.get(o-1,o),f=(r.get(o-1,o-1)-r.get(o,o))/2,m=f*f+R,E=Math.sqrt(Math.abs(m)),r.set(o,o,r.get(o,o)+u),r.set(o-1,o-1,r.get(o-1,o-1)+u),L=r.get(o,o),m>=0){for(E=f>=0?f+E:f-E,t[o-1]=L+E,t[o]=t[o-1],0!==E&&(t[o]=L-R/E),e[o-1]=0,e[o]=0,L=r.get(o,o-1),b=Math.abs(L)+Math.abs(E),f=L/b,m=E/b,y=Math.sqrt(f*f+m*m),f/=y,m/=y,x=o-1;x<n;x++)E=r.get(o-1,x),r.set(o-1,x,m*E+f*r.get(o,x)),r.set(o,x,m*r.get(o,x)-f*E);for(M=0;M<=o;M++)E=r.get(M,o-1),r.set(M,o-1,m*E+f*r.get(M,o)),r.set(M,o,m*r.get(M,o)-f*E);for(M=0;M<=a;M++)E=i.get(M,o-1),i.set(M,o-1,m*E+f*i.get(M,o)),i.set(M,o,m*i.get(M,o)-f*E)}else t[o-1]=L+f,t[o]=L+f,e[o-1]=E,e[o]=-E;o-=2,w=0}else{if(L=r.get(o,o),F=0,R=0,k<o&&(F=r.get(o-1,o-1),R=r.get(o,o-1)*r.get(o-1,o)),10===w){for(u+=L,M=0;M<=o;M++)r.set(M,M,r.get(M,M)-L);b=Math.abs(r.get(o,o-1))+Math.abs(r.get(o-1,o-2)),L=F=.75*b,R=-.4375*b*b}if(30===w&&(b=(F-L)/2,b=b*b+R,b>0)){for(b=Math.sqrt(b),F<L&&(b=-b),b=L-R/((F-L)/2+b),M=0;M<=o;M++)r.set(M,M,r.get(M,M)-b);u+=b,L=F=R=.964}for(w+=1,T=o-2;T>=k&&(E=r.get(T,T),y=L-E,b=F-E,f=(y*b-R)/r.get(T+1,T)+r.get(T,T+1),m=r.get(T+1,T+1)-E-y-b,y=r.get(T+2,T+1),b=Math.abs(f)+Math.abs(m)+Math.abs(y),f/=b,m/=b,y/=b,!(T===k||Math.abs(r.get(T,T-1))*(Math.abs(m)+Math.abs(y))<l*(Math.abs(f)*(Math.abs(r.get(T-1,T-1))+Math.abs(E)+Math.abs(r.get(T+1,T+1))))));)T--;for(M=T+2;M<=o;M++)r.set(M,M-2,0),M>T+2&&r.set(M,M-3,0);for(D=T;D<=o-1&&(gt=D!==o-1,D!==T&&(f=r.get(D,D-1),m=r.get(D+1,D-1),y=gt?r.get(D+2,D-1):0,L=Math.abs(f)+Math.abs(m)+Math.abs(y),0!==L&&(f/=L,m/=L,y/=L)),0!==L);D++)if(b=Math.sqrt(f*f+m*m+y*y),f<0&&(b=-b),0!==b){for(D!==T?r.set(D,D-1,-b*L):k!==T&&r.set(D,D-1,-r.get(D,D-1)),f+=b,L=f/b,F=m/b,E=y/b,m/=f,y/=f,x=D;x<n;x++)f=r.get(D,x)+m*r.get(D+1,x),gt&&(f+=y*r.get(D+2,x),r.set(D+2,x,r.get(D+2,x)-f*E)),r.set(D,x,r.get(D,x)-f*L),r.set(D+1,x,r.get(D+1,x)-f*F);for(M=0;M<=Math.min(o,D+3);M++)f=L*r.get(M,D)+F*r.get(M,D+1),gt&&(f+=E*r.get(M,D+2),r.set(M,D+2,r.get(M,D+2)-f*y)),r.set(M,D,r.get(M,D)-f),r.set(M,D+1,r.get(M,D+1)-f*m);for(M=0;M<=a;M++)f=L*i.get(M,D)+F*i.get(M,D+1),gt&&(f+=E*i.get(M,D+2),i.set(M,D+2,i.get(M,D+2)-f*y)),i.set(M,D,i.get(M,D)-f),i.set(M,D+1,i.get(M,D+1)-f*m)}}}if(0!==d){for(o=n-1;o>=0;o--)if(f=t[o],m=e[o],0===m)for(k=o,r.set(o,o,1),M=o-1;M>=0;M--){for(R=r.get(M,M)-f,y=0,x=k;x<=o;x++)y+=r.get(M,x)*r.get(x,o);if(e[M]<0)E=R,b=y;else if(k=M,0===e[M]?r.set(M,o,0!==R?-y/R:-y/(l*d)):(L=r.get(M,M+1),F=r.get(M+1,M),m=(t[M]-f)*(t[M]-f)+e[M]*e[M],O=(L*b-E*y)/m,r.set(M,o,O),r.set(M+1,o,Math.abs(L)>Math.abs(E)?(-y-R*O)/L:(-b-F*O)/E)),O=Math.abs(r.get(M,o)),l*O*O>1)for(x=M;x<=o;x++)r.set(x,o,r.get(x,o)/O)}else if(m<0)for(k=o-1,Math.abs(r.get(o,o-1))>Math.abs(r.get(o-1,o))?(r.set(o-1,o-1,m/r.get(o,o-1)),r.set(o-1,o,-(r.get(o,o)-f)/r.get(o,o-1))):(Et=YR(0,-r.get(o-1,o),r.get(o-1,o-1)-f,m),r.set(o-1,o-1,Et[0]),r.set(o-1,o,Et[1])),r.set(o,o-1,0),r.set(o,o,1),M=o-2;M>=0;M--){for(U=0,$=0,x=k;x<=o;x++)U+=r.get(M,x)*r.get(x,o-1),$+=r.get(M,x)*r.get(x,o);if(R=r.get(M,M)-f,e[M]<0)E=R,y=U,b=$;else if(k=M,0===e[M]?(Et=YR(-U,-$,R,m),r.set(M,o-1,Et[0]),r.set(M,o,Et[1])):(L=r.get(M,M+1),F=r.get(M+1,M),X=(t[M]-f)*(t[M]-f)+e[M]*e[M]-m*m,q=2*(t[M]-f)*m,0===X&&0===q&&(X=l*d*(Math.abs(R)+Math.abs(m)+Math.abs(L)+Math.abs(F)+Math.abs(E))),Et=YR(L*y-E*U+m*$,L*b-E*$-m*U,X,q),r.set(M,o-1,Et[0]),r.set(M,o,Et[1]),Math.abs(L)>Math.abs(E)+Math.abs(m)?(r.set(M+1,o-1,(-U-R*r.get(M,o-1)+m*r.get(M,o))/L),r.set(M+1,o,(-$-R*r.get(M,o)-m*r.get(M,o-1))/L)):(Et=YR(-y-F*r.get(M,o-1),-b-F*r.get(M,o),E,m),r.set(M+1,o-1,Et[0]),r.set(M+1,o,Et[1]))),O=Math.max(Math.abs(r.get(M,o-1)),Math.abs(r.get(M,o))),l*O*O>1)for(x=M;x<=o;x++)r.set(x,o-1,r.get(x,o-1)/O),r.set(x,o,r.get(x,o)/O)}for(M=0;M<n;M++)if(M<0||M>a)for(x=M;x<n;x++)i.set(M,x,r.get(M,x));for(x=n-1;x>=0;x--)for(M=0;M<=a;M++){for(E=0,D=0;D<=Math.min(x,a);D++)E+=i.get(M,D)*r.get(D,x);i.set(M,x,E)}}}(r,a,s,o,m)}this.n=r,this.e=a,this.d=s,this.V=o}get realEigenvalues(){return Array.from(this.d)}get imaginaryEigenvalues(){return Array.from(this.e)}get eigenvectorMatrix(){return this.V}get diagonalMatrix(){let o,s,e=this.n,t=this.e,i=this.d,r=new mi(e,e);for(o=0;o<e;o++){for(s=0;s<e;s++)r.set(o,s,0);r.set(o,o,i[o]),t[o]>0?r.set(o,o+1,t[o]):t[o]<0&&r.set(o,o-1,t[o])}return r}}function YR(n,e,t,i){let r,o;return Math.abs(t)>Math.abs(i)?(r=i/t,o=t+r*i,[(n+r*e)/o,(e-r*n)/o]):(r=t/i,o=i+r*t,[(r*n+e)/o,(r*e-n)/o])}class gY{constructor(e){if(!(e=ku.checkMatrix(e)).isSymmetric())throw new Error("Matrix is not symmetric");let s,a,l,t=e,i=t.rows,r=new mi(i,i),o=!0;for(a=0;a<i;a++){let u=0;for(l=0;l<a;l++){let d=0;for(s=0;s<l;s++)d+=r.get(l,s)*r.get(a,s);d=(t.get(a,l)-d)/r.get(l,l),r.set(a,l,d),u+=d*d}for(u=t.get(a,a)-u,o&&(o=u>0),r.set(a,a,Math.sqrt(Math.max(u,0))),l=a+1;l<i;l++)r.set(a,l,0)}this.L=r,this.positiveDefinite=o}isPositiveDefinite(){return this.positiveDefinite}solve(e){e=ku.checkMatrix(e);let t=this.L,i=t.rows;if(e.rows!==i)throw new Error("Matrix dimensions do not match");if(!1===this.isPositiveDefinite())throw new Error("Matrix is not positive definite");let s,a,l,r=e.columns,o=e.clone();for(l=0;l<i;l++)for(a=0;a<r;a++){for(s=0;s<l;s++)o.set(l,a,o.get(l,a)-o.get(s,a)*t.get(l,s));o.set(l,a,o.get(l,a)/t.get(l,l))}for(l=i-1;l>=0;l--)for(a=0;a<r;a++){for(s=l+1;s<i;s++)o.set(l,a,o.get(l,a)-o.get(s,a)*t.get(s,l));o.set(l,a,o.get(l,a)/t.get(l,l))}return o}get lowerTriangularMatrix(){return this.L}}class vY{constructor(e,t={}){e=ku.checkMatrix(e);let{Y:i}=t;const{scaleScores:r=!1,maxIterations:o=1e3,terminationCriteria:s=1e-10}=t;let a;if(i){if(i=Yc.isAnyArray(i)&&"number"==typeof i[0]?mi.columnVector(i):ku.checkMatrix(i),i.rows!==e.rows)throw new Error("Y should have the same number of rows as X");a=i.getColumnVector(0)}else a=e.getColumnVector(0);let u,d,f,m,l=1;for(let y=0;y<o&&l>s;y++)f=e.transpose().mmul(a).div(a.transpose().mmul(a).get(0,0)),f=f.div(f.norm()),u=e.mmul(f).div(f.transpose().mmul(f).get(0,0)),y>0&&(l=u.clone().sub(m).pow(2).sum()),m=u.clone(),i?(d=i.transpose().mmul(u).div(u.transpose().mmul(u).get(0,0)),d=d.div(d.norm()),a=i.mmul(d).div(d.transpose().mmul(d).get(0,0))):a=u;if(i){let y=e.transpose().mmul(u).div(u.transpose().mmul(u).get(0,0));y=y.div(y.norm());let b=e.clone().sub(u.clone().mmul(y.transpose())),E=a.transpose().mmul(u).div(u.transpose().mmul(u).get(0,0)),w=i.clone().sub(u.clone().mulS(E.get(0,0)).mmul(d.transpose()));this.t=u,this.p=y.transpose(),this.w=f.transpose(),this.q=d,this.u=a,this.s=u.transpose().mmul(u),this.xResidual=b,this.yResidual=w,this.betas=E}else this.w=f.transpose(),this.s=u.transpose().mmul(u).sqrt(),this.t=r?u.clone().div(this.s.get(0,0)):u,this.xResidual=e.sub(u.mmul(f.transpose()))}}zr.AbstractMatrix=wr,zr.CHO=gY,zr.CholeskyDecomposition=gY,zr.DistanceMatrix=$R,zr.EVD=mY,zr.EigenvalueDecomposition=mY,zr.LU=KR,zr.LuDecomposition=KR;var myt=zr.Matrix=mi;zr.MatrixColumnSelectionView=class Z2t extends Jp{constructor(e,t){l7(e,t),super(e,e.rows,t.length),this.columnIndices=t}set(e,t,i){return this.matrix.set(e,this.columnIndices[t],i),this}get(e,t){return this.matrix.get(e,this.columnIndices[t])}},zr.MatrixColumnView=class Y2t extends Jp{constructor(e,t){vd(e,t),super(e,e.rows,1),this.column=t}set(e,t,i){return this.matrix.set(e,this.column,i),this}get(e){return this.matrix.get(e,this.column)}},zr.MatrixFlipColumnView=class Q2t extends Jp{constructor(e){super(e,e.rows,e.columns)}set(e,t,i){return this.matrix.set(e,this.columns-t-1,i),this}get(e,t){return this.matrix.get(e,this.columns-t-1)}},zr.MatrixFlipRowView=class q2t extends Jp{constructor(e){super(e,e.rows,e.columns)}set(e,t,i){return this.matrix.set(this.rows-e-1,t,i),this}get(e,t){return this.matrix.get(this.rows-e-1,t)}},zr.MatrixRowSelectionView=class tyt extends Jp{constructor(e,t){a7(e,t),super(e,t.length,e.columns),this.rowIndices=t}set(e,t,i){return this.matrix.set(this.rowIndices[e],t,i),this}get(e,t){return this.matrix.get(this.rowIndices[e],t)}},zr.MatrixRowView=class J2t extends Jp{constructor(e,t){gd(e,t),super(e,1,e.columns),this.row=t}set(e,t,i){return this.matrix.set(this.row,t,i),this}get(e,t){return this.matrix.get(this.row,t)}},zr.MatrixSelectionView=WR,zr.MatrixSubView=class eyt extends Jp{constructor(e,t,i,r,o){c7(e,t,i,r,o),super(e,i-t+1,o-r+1),this.startRow=t,this.startColumn=r}set(e,t,i){return this.matrix.set(this.startRow+e,this.startColumn+t,i),this}get(e,t){return this.matrix.get(this.startRow+e,this.startColumn+t)}},zr.MatrixTransposeView=class nyt extends Jp{constructor(e){super(e,e.columns,e.rows)}set(e,t,i){return this.matrix.set(t,e,i),this}get(e,t){return this.matrix.get(t,e)}},zr.NIPALS=vY,zr.Nipals=vY,zr.QR=d7,zr.QrDecomposition=d7,zr.SVD=A_;var gyt=zr.SingularValueDecomposition=A_;zr.SymmetricMatrix=I3,zr.WrapperMatrix1D=fY,zr.WrapperMatrix2D=ku,zr.correlation=function uyt(n,e=n,t={}){n=new mi(n);let i=!1;if("object"!=typeof e||mi.isMatrix(e)||Yc.isAnyArray(e)?e=new mi(e):(t=e,e=n,i=!0),n.rows!==e.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:r=!0,scale:o=!0}=t;r&&(n.center("column"),i||e.center("column")),o&&(n.scale("column"),i||e.scale("column"));const s=n.standardDeviation("column",{unbiased:!0}),a=i?s:e.standardDeviation("column",{unbiased:!0}),l=n.transpose().mmul(e);for(let u=0;u<l.rows;u++)for(let d=0;d<l.columns;d++)l.set(u,d,l.get(u,d)*(1/(s[u]*a[d]))*(1/(n.rows-1)));return l},zr.covariance=function cyt(n,e=n,t={}){n=new mi(n);let i=!1;if("object"!=typeof e||mi.isMatrix(e)||Yc.isAnyArray(e)?e=new mi(e):(t=e,e=n,i=!0),n.rows!==e.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:r=!0}=t;r&&(n=n.center("column"),i||(e=e.center("column")));const o=n.transpose().mmul(e);for(let s=0;s<o.rows;s++)for(let a=0;a<o.columns;a++)o.set(s,a,o.get(s,a)*(1/(n.rows-1)));return o},zr.default=mi,zr.determinant=function XR(n){if((n=mi.checkMatrix(n)).isSquare()){if(0===n.columns)return 1;let e,t,i,r;if(2===n.columns)return e=n.get(0,0),t=n.get(0,1),i=n.get(1,0),r=n.get(1,1),e*r-t*i;if(3===n.columns){let o,s,a;return o=new WR(n,[1,2],[1,2]),s=new WR(n,[1,2],[0,2]),a=new WR(n,[1,2],[0,1]),e=n.get(0,0),t=n.get(0,1),i=n.get(0,2),e*XR(o)-t*XR(s)+i*XR(a)}return new KR(n).determinant}throw Error("determinant can only be calculated for a square matrix")},zr.inverse=function ryt(n,e=!1){return n=ku.checkMatrix(n),e?new A_(n).inverse():pY(n,mi.eye(n.rows))},zr.linearDependencies=function ayt(n,e={}){const{thresholdValue:t=1e-9,thresholdError:i=1e-9}=e;let r=(n=mi.checkMatrix(n)).rows,o=new mi(r,r);for(let s=0;s<r;s++){let a=mi.columnVector(n.getRow(s)),l=n.subMatrixRow(oyt(r,s)).transpose(),u=new A_(l).solve(a),d=mi.sub(a,l.mmul(u)).abs().max();o.setRow(s,syt(d,u,s,t,i))}return o},zr.pseudoInverse=function lyt(n,e=Number.EPSILON){if((n=mi.checkMatrix(n)).isEmpty())return n.transpose();let t=new A_(n,{autoTranspose:!0}),i=t.leftSingularVectors,r=t.rightSingularVectors,o=t.diagonal;for(let s=0;s<o.length;s++)o[s]=Math.abs(o[s])>e?1/o[s]:0;return r.mmul(mi.diag(o).mmul(i.transpose()))},zr.solve=pY,zr.wrap=function iyt(n,e){if(Yc.isAnyArray(n))return n[0]&&Yc.isAnyArray(n[0])?new ku(n):new fY(n,e);throw new Error("the argument is not an array")};const Qm=myt,bY=gyt,vyt={center:[0,0],linkDistance:50};class _Y{constructor(e={}){this.options=e,this.id="mds",this.options=Object.assign(Object.assign({},vyt),e)}execute(e,t){return pr(this,void 0,void 0,function*(){return this.genericMDSLayout(!1,e,t)})}assign(e,t){return pr(this,void 0,void 0,function*(){yield this.genericMDSLayout(!0,e,t)})}genericMDSLayout(e,t,i){return pr(this,void 0,void 0,function*(){const r=Object.assign(Object.assign({},this.options),i),{center:o=[0,0],linkDistance:s=50}=r,a=t.getAllNodes(),l=t.getAllEdges();if(null==a||!a.length||1===a.length)return G2(t,e,o);const u=QX({nodes:a,edges:l}),d=ZX(u);yyt(d);const f=((n,e)=>{const t=[];return n.forEach(i=>{const r=[];i.forEach(o=>{r.push(o*e)}),t.push(r)}),t})(d,s),m=byt(f),y=[];return m.forEach((b,E)=>{const w=Ou(a[E]);w.data.x=b[0]+o[0],w.data.y=b[1]+o[1],y.push(w)}),e&&y.forEach(b=>t.mergeNodeData(b.id,{x:b.data.x,y:b.data.y})),{nodes:y,edges:l}})}}const yyt=n=>{let e=-999999;n.forEach(t=>{t.forEach(i=>{i!==1/0&&e<i&&(e=i)})}),n.forEach((t,i)=>{t.forEach((r,o)=>{r===1/0&&(n[i][o]=e)})})},byt=n=>{const e=Qm.mul(Qm.pow(n,2),-.5),t=e.mean("row"),i=e.mean("column"),r=e.mean();e.add(r).subRowVector(t).subColumnVector(i);const o=new bY(e),s=Qm.sqrt(o.diagonalMatrix).diagonal();return o.leftSingularVectors.toJSON().map(a=>Qm.mul([a],[s]).toJSON()[0].splice(0,2))};function h7(n){return!!n.tick&&!!n.stop}const _yt={gForce:!0,force2:!0,d3force:!0,fruchterman:!0,forceAtlas2:!0,force:!0,"graphin-force":!0},Eyt={center:[0,0],comboPadding:10,treeKey:"combo"};function EY(n,e,t,i){var r;return pr(this,void 0,void 0,function*(){return h7(n)?(n.execute(e,t),n.stop(),n.tick(null!==(r=t.iterations)&&void 0!==r?r:300)):i?yield n.assign(e,t):yield n.execute(e,t)})}function xyt(n,e){var t,i=1;function r(){var o,a,s=t.length,l=0,u=0;for(o=0;o<s;++o)l+=(a=t[o]).x,u+=a.y;for(l=(l/s-n)*i,u=(u/s-e)*i,o=0;o<s;++o)(a=t[o]).x-=l,a.y-=u}return null==n&&(n=0),null==e&&(e=0),r.initialize=function(o){t=o},r.x=function(o){return arguments.length?(n=+o,r):n},r.y=function(o){return arguments.length?(e=+o,r):e},r.strength=function(o){return arguments.length?(i=+o,r):i},r}function Ta(n){return function(){return n}}function qm(n){return 1e-6*(n()-.5)}function Myt(n){return n.x+n.vx}function Cyt(n){return n.y+n.vy}function Syt(n){var e,t,i,r=1,o=1;function s(){for(var u,f,m,y,b,E,w,d=e.length,M=0;M<o;++M)for(f=jR(e,Myt,Cyt).visitAfter(a),u=0;u<d;++u)w=(E=t[(m=e[u]).index])*E,y=m.x+m.vx,b=m.y+m.vy,f.visit(x);function x(D,k,T,O,R){var L=D.data,F=D.r,U=E+F;if(!L)return k>y+U||O<y-U||T>b+U||R<b-U;if(L.index>m.index){var $=y-L.x-L.vx,X=b-L.y-L.vy,q=$*$+X*X;q<U*U&&(0===$&&(q+=($=qm(i))*$),0===X&&(q+=(X=qm(i))*X),q=(U-(q=Math.sqrt(q)))/q*r,m.vx+=($*=q)*(U=(F*=F)/(w+F)),m.vy+=(X*=q)*U,L.vx-=$*(U=1-U),L.vy-=X*U)}}}function a(u){if(u.data)return u.r=t[u.data.index];for(var d=u.r=0;d<4;++d)u[d]&&u[d].r>u.r&&(u.r=u[d].r)}function l(){if(e){var u,f,d=e.length;for(t=new Array(d),u=0;u<d;++u)t[(f=e[u]).index]=+n(f,u,e)}}return"function"!=typeof n&&(n=Ta(null==n?1:+n)),s.initialize=function(u,d){e=u,i=d,l()},s.iterations=function(u){return arguments.length?(o=+u,s):o},s.strength=function(u){return arguments.length?(r=+u,s):r},s.radius=function(u){return arguments.length?(n="function"==typeof u?u:Ta(+u),l(),s):n},s}function Dyt(n){return n.index}function wY(n,e){var t=n.get(e);if(!t)throw new Error("node not found: "+e);return t}function Tyt(n){var i,o,s,a,l,u,e=Dyt,t=function f(w){return 1/Math.min(a[w.source.index],a[w.target.index])},r=Ta(30),d=1;function m(w){for(var M=0,x=n.length;M<d;++M)for(var k,T,O,R,L,F,U,D=0;D<x;++D)R=(O=(k=n[D]).target).x+O.vx-(T=k.source).x-T.vx||qm(u),L=O.y+O.vy-T.y-T.vy||qm(u),L*=F=((F=Math.sqrt(R*R+L*L))-o[D])/F*w*i[D],O.vx-=(R*=F)*(U=l[D]),O.vy-=L*U,T.vx+=R*(U=1-U),T.vy+=L*U}function y(){if(s){var w,k,M=s.length,x=n.length,D=new Map(s.map((T,O)=>[e(T,O,s),T]));for(w=0,a=new Array(M);w<x;++w)(k=n[w]).index=w,"object"!=typeof k.source&&(k.source=wY(D,k.source)),"object"!=typeof k.target&&(k.target=wY(D,k.target)),a[k.source.index]=(a[k.source.index]||0)+1,a[k.target.index]=(a[k.target.index]||0)+1;for(w=0,l=new Array(x);w<x;++w)l[w]=a[(k=n[w]).source.index]/(a[k.source.index]+a[k.target.index]);i=new Array(x),b(),o=new Array(x),E()}}function b(){if(s)for(var w=0,M=n.length;w<M;++w)i[w]=+t(n[w],w,n)}function E(){if(s)for(var w=0,M=n.length;w<M;++w)o[w]=+r(n[w],w,n)}return null==n&&(n=[]),m.initialize=function(w,M){s=w,u=M,y()},m.links=function(w){return arguments.length?(n=w,y(),m):n},m.id=function(w){return arguments.length?(e=w,m):e},m.iterations=function(w){return arguments.length?(d=+w,m):d},m.strength=function(w){return arguments.length?(t="function"==typeof w?w:Ta(+w),b(),m):t},m.distance=function(w){return arguments.length?(r="function"==typeof w?w:Ta(+w),E(),m):r},m}var Ayt={value:()=>{}};function xY(){for(var i,n=0,e=arguments.length,t={};n<e;++n){if(!(i=arguments[n]+"")||i in t||/[\s.]/.test(i))throw new Error("illegal type: "+i);t[i]=[]}return new ZR(t)}function ZR(n){this._=n}function kyt(n,e){for(var r,t=0,i=n.length;t<i;++t)if((r=n[t]).name===e)return r.value}function MY(n,e,t){for(var i=0,r=n.length;i<r;++i)if(n[i].name===e){n[i]=Ayt,n=n.slice(0,i).concat(n.slice(i+1));break}return null!=t&&n.push({name:e,value:t}),n}ZR.prototype=xY.prototype={constructor:ZR,on:function(n,e){var r,t=this._,i=function Oyt(n,e){return n.trim().split(/^|\s+/).map(function(t){var i="",r=t.indexOf(".");if(r>=0&&(i=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:i}})}(n+"",t),o=-1,s=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<s;)if(r=(n=i[o]).type)t[r]=MY(t[r],n.name,e);else if(null==e)for(r in t)t[r]=MY(t[r],n.name,null);return this}for(;++o<s;)if((r=(n=i[o]).type)&&(r=kyt(t[r],n.name)))return r},copy:function(){var n={},e=this._;for(var t in e)n[t]=e[t].slice();return new ZR(n)},call:function(n,e){if((r=arguments.length-2)>0)for(var r,o,t=new Array(r),i=0;i<r;++i)t[i]=arguments[i+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(i=0,r=(o=this._[n]).length;i<r;++i)o[i].value.apply(e,t)},apply:function(n,e,t){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var i=this._[n],r=0,o=i.length;r<o;++r)i[r].value.apply(e,t)}};var QR,N3,O_=0,R3=0,P3=0,CY=1e3,qR=0,$2=0,JR=0,L3="object"==typeof performance&&performance.now?performance:Date,SY="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function DY(){return $2||(SY(Iyt),$2=L3.now()+JR)}function Iyt(){$2=0}function f7(){this._call=this._time=this._next=null}function TY(n,e,t){var i=new f7;return i.restart(n,e,t),i}function AY(){$2=(qR=L3.now())+JR,O_=R3=0;try{!function Ryt(){DY(),++O_;for(var e,n=QR;n;)(e=$2-n._time)>=0&&n._call.call(void 0,e),n=n._next;--O_}()}finally{O_=0,function Nyt(){for(var n,t,e=QR,i=1/0;e;)e._call?(i>e._time&&(i=e._time),n=e,e=e._next):(t=e._next,e._next=null,e=n?n._next=t:QR=t);N3=n,p7(i)}(),$2=0}}function Pyt(){var n=L3.now(),e=n-qR;e>CY&&(JR-=e,qR=n)}function p7(n){O_||(R3&&(R3=clearTimeout(R3)),n-$2>24?(n<1/0&&(R3=setTimeout(AY,n-L3.now()-JR)),P3&&(P3=clearInterval(P3))):(P3||(qR=L3.now(),P3=setInterval(Pyt,CY)),O_=1,SY(AY)))}f7.prototype=TY.prototype={constructor:f7,restart:function(n,e,t){if("function"!=typeof n)throw new TypeError("callback is not a function");t=(null==t?DY():+t)+(null==e?0:+e),!this._next&&N3!==this&&(N3?N3._next=this:QR=this,N3=this),this._call=n,this._time=t,p7()},stop:function(){this._call&&(this._call=null,this._time=1/0,p7())}};const OY=4294967296;function jyt(n){return n.x}function Vyt(n){return n.y}var Uyt=Math.PI*(3-Math.sqrt(5));function Gyt(){var n,e,t,i,o,r=Ta(-30),s=1,a=1/0,l=.81;function u(y){var b,E=n.length,w=jR(n,jyt,Vyt).visitAfter(f);for(i=y,b=0;b<E;++b)e=n[b],w.visit(m)}function d(){if(n){var y,E,b=n.length;for(o=new Array(b),y=0;y<b;++y)o[(E=n[y]).index]=+r(E,y,n)}}function f(y){var E,w,x,D,k,b=0,M=0;if(y.length){for(x=D=k=0;k<4;++k)(E=y[k])&&(w=Math.abs(E.value))&&(b+=E.value,M+=w,x+=w*E.x,D+=w*E.y);y.x=x/M,y.y=D/M}else{(E=y).x=E.data.x,E.y=E.data.y;do{b+=o[E.data.index]}while(E=E.next)}y.value=b}function m(y,b,E,w){if(!y.value)return!0;var M=y.x-e.x,x=y.y-e.y,D=w-b,k=M*M+x*x;if(D*D/l<k)return k<a&&(0===M&&(k+=(M=qm(t))*M),0===x&&(k+=(x=qm(t))*x),k<s&&(k=Math.sqrt(s*k)),e.vx+=M*y.value*i/k,e.vy+=x*y.value*i/k),!0;if(!(y.length||k>=a)){(y.data!==e||y.next)&&(0===M&&(k+=(M=qm(t))*M),0===x&&(k+=(x=qm(t))*x),k<s&&(k=Math.sqrt(s*k)));do{y.data!==e&&(e.vx+=M*(D=o[y.data.index]*i/k),e.vy+=x*D)}while(y=y.next)}}return u.initialize=function(y,b){n=y,t=b,d()},u.strength=function(y){return arguments.length?(r="function"==typeof y?y:Ta(+y),d(),u):r},u.distanceMin=function(y){return arguments.length?(s=y*y,u):Math.sqrt(s)},u.distanceMax=function(y){return arguments.length?(a=y*y,u):Math.sqrt(a)},u.theta=function(y){return arguments.length?(l=y*y,u):Math.sqrt(l)},u}function $yt(n,e,t){var i,o,s,r=Ta(.1);function a(u){for(var d=0,f=i.length;d<f;++d){var m=i[d],y=m.x-e||1e-6,b=m.y-t||1e-6,E=Math.sqrt(y*y+b*b),w=(s[d]-E)*o[d]*u/E;m.vx+=y*w,m.vy+=b*w}}function l(){if(i){var u,d=i.length;for(o=new Array(d),s=new Array(d),u=0;u<d;++u)s[u]=+n(i[u],u,i),o[u]=isNaN(s[u])?0:+r(i[u],u,i)}}return"function"!=typeof n&&(n=Ta(+n)),null==e&&(e=0),null==t&&(t=0),a.initialize=function(u){i=u,l()},a.strength=function(u){return arguments.length?(r="function"==typeof u?u:Ta(+u),l(),a):r},a.radius=function(u){return arguments.length?(n="function"==typeof u?u:Ta(+u),l(),a):n},a.x=function(u){return arguments.length?(e=+u,a):e},a.y=function(u){return arguments.length?(t=+u,a):t},a}function Wyt(n){var t,i,r,e=Ta(.1);function o(a){for(var d,l=0,u=t.length;l<u;++l)(d=t[l]).vx+=(r[l]-d.x)*i[l]*a}function s(){if(t){var a,l=t.length;for(i=new Array(l),r=new Array(l),a=0;a<l;++a)i[a]=isNaN(r[a]=+n(t[a],a,t))?0:+e(t[a],a,t)}}return"function"!=typeof n&&(n=Ta(null==n?0:+n)),o.initialize=function(a){t=a,s()},o.strength=function(a){return arguments.length?(e="function"==typeof a?a:Ta(+a),s(),o):e},o.x=function(a){return arguments.length?(n="function"==typeof a?a:Ta(+a),s(),o):n},o}function Kyt(n){var t,i,r,e=Ta(.1);function o(a){for(var d,l=0,u=t.length;l<u;++l)(d=t[l]).vy+=(r[l]-d.y)*i[l]*a}function s(){if(t){var a,l=t.length;for(i=new Array(l),r=new Array(l),a=0;a<l;++a)i[a]=isNaN(r[a]=+n(t[a],a,t))?0:+e(t[a],a,t)}}return"function"!=typeof n&&(n=Ta(null==n?0:+n)),o.initialize=function(a){t=a,s()},o.strength=function(a){return arguments.length?(e="function"==typeof a?a:Ta(+a),s(),o):e},o.y=function(a){return arguments.length?(n="function"==typeof a?a:Ta(+a),s(),o):n},o}const kY=(n,e)=>e.reduce((t,[i,r])=>t[i]&&void 0!==r?t[i].call(n,r):t,n);var g7,IY,v7,RY,y7,PY,b7,NY,_7,LY,E7,FY,w7,BY,x7,jY,M7,VY,C7,zY,S7,UY,D7,HY,T7,GY,A7,WY,O7,KY,k7,XY,I7,YY,R7,ZY,P7,QY,N7,qY,L7,JY,F7,tZ,B7,eZ,j7,iZ,V7,rZ,z7,oZ,U7,sZ,G7,aZ,$7,lZ,W7,cZ,K7,uZ,X7,dZ,Y7,hZ,Z7,fZ,Q7,pZ,q7,mZ,J7,gZ,tB,vZ,eB,yZ,nB,bZ,iB,_Z,rB,EZ,sB,wZ,aB,xZ,lB,MZ,uB,CZ,dB,DZ,hB,TZ,fB,AZ,pB,OZ,mB,kZ,gB,IZ,vB,RZ,yB,PZ;function k_(){return RY?v7:(RY=1,v7=function n(e,t){return e===t||e!=e&&t!=t})}function tP(){if(PY)return y7;PY=1;var n=k_();return y7=function e(t,i){for(var r=t.length;r--;)if(n(t[r][0],i))return r;return-1}}function eP(){if(jY)return x7;jY=1;var n=function Yyt(){return IY?g7:(IY=1,g7=function n(){this.__data__=[],this.size=0})}(),e=function Zyt(){if(NY)return b7;NY=1;var n=tP(),t=Array.prototype.splice;return b7=function i(r){var o=this.__data__,s=n(o,r);return!(s<0||(s==o.length-1?o.pop():t.call(o,s,1),--this.size,0))}}(),t=function Qyt(){if(LY)return _7;LY=1;var n=tP();return _7=function e(t){var i=this.__data__,r=n(i,t);return r<0?void 0:i[r][1]}}(),i=function qyt(){if(FY)return E7;FY=1;var n=tP();return E7=function e(t){return n(this.__data__,t)>-1}}(),r=function Jyt(){if(BY)return w7;BY=1;var n=tP();return w7=function e(t,i){var r=this.__data__,o=n(r,t);return o<0?(++this.size,r.push([t,i])):r[o][1]=i,this}}();function o(s){var a=-1,l=null==s?0:s.length;for(this.clear();++a<l;){var u=s[a];this.set(u[0],u[1])}}return o.prototype.clear=n,o.prototype.delete=e,o.prototype.get=t,o.prototype.has=i,o.prototype.set=r,x7=o}function $Y(){return GY?T7:(GY=1,T7="object"==typeof ji&&ji&&ji.Object===Object&&ji)}function wh(){if(WY)return A7;WY=1;var n=$Y(),e="object"==typeof self&&self&&self.Object===Object&&self,t=n||e||Function("return this")();return A7=t}function I_(){if(KY)return O7;KY=1;var n=wh();return O7=n.Symbol}function W2(){if(ZY)return R7;ZY=1;var n=I_(),e=function r1t(){if(XY)return k7;XY=1;var n=I_(),e=Object.prototype,t=e.hasOwnProperty,i=e.toString,r=n?n.toStringTag:void 0;return k7=function o(s){var a=t.call(s,r),l=s[r];try{s[r]=void 0;var u=!0}catch{}var d=i.call(s);return u&&(a?s[r]=l:delete s[r]),d}}(),t=function o1t(){if(YY)return I7;YY=1;var e=Object.prototype.toString;return I7=function t(i){return e.call(i)}}(),o=n?n.toStringTag:void 0;return R7=function s(a){return null==a?void 0===a?"[object Undefined]":"[object Null]":o&&o in Object(a)?e(a):t(a)}}function yd(){return QY?P7:(QY=1,P7=function n(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)})}function F3(){if(qY)return N7;qY=1;var n=W2(),e=yd();return N7=function s(a){if(!e(a))return!1;var l=n(a);return"[object Function]"==l||"[object GeneratorFunction]"==l||"[object AsyncFunction]"==l||"[object Proxy]"==l}}function nZ(){if(eZ)return B7;eZ=1;var e=Function.prototype.toString;return B7=function t(i){if(null!=i){try{return e.call(i)}catch{}try{return i+""}catch{}}return""}}function K2(){if(oZ)return z7;oZ=1;var n=function l1t(){if(iZ)return j7;iZ=1;var n=F3(),e=function a1t(){if(tZ)return F7;tZ=1;var i,n=function s1t(){if(JY)return L7;JY=1;var n=wh();return L7=n["__core-js_shared__"]}(),e=(i=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"";return F7=function t(i){return!!e&&e in i},F7}(),t=yd(),i=nZ(),o=/^\[object .+?Constructor\]$/,d=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");return j7=function f(m){return!(!t(m)||e(m))&&(n(m)?d:o).test(i(m))}}(),e=function c1t(){return rZ?V7:(rZ=1,V7=function n(e,t){return e?.[t]})}();return z7=function t(i,r){var o=e(i,r);return n(o)?o:void 0}}function H7(){if(sZ)return U7;sZ=1;var t=K2()(wh(),"Map");return U7=t}function nP(){if(aZ)return G7;aZ=1;var e=K2()(Object,"create");return G7=e}function iP(){if(gZ)return J7;gZ=1;var n=function v1t(){return mZ?q7:(mZ=1,q7=function n(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e})}();return J7=function e(t,i){var r=t.__data__;return n(i)?r["string"==typeof i?"string":"hash"]:r.map}}function oB(){if(EZ)return rB;EZ=1;var n=function g1t(){if(pZ)return Q7;pZ=1;var n=function m1t(){if(fZ)return Z7;fZ=1;var n=function u1t(){if(lZ)return $7;lZ=1;var n=nP();return $7=function e(){this.__data__=n?n(null):{},this.size=0}}(),e=function d1t(){return cZ?W7:(cZ=1,W7=function n(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t})}(),t=function h1t(){if(uZ)return K7;uZ=1;var n=nP(),i=Object.prototype.hasOwnProperty;return K7=function r(o){var s=this.__data__;if(n){var a=s[o];return"__lodash_hash_undefined__"===a?void 0:a}return i.call(s,o)?s[o]:void 0}}(),i=function f1t(){if(dZ)return X7;dZ=1;var n=nP(),t=Object.prototype.hasOwnProperty;return X7=function i(r){var o=this.__data__;return n?void 0!==o[r]:t.call(o,r)}}(),r=function p1t(){if(hZ)return Y7;hZ=1;var n=nP();return Y7=function t(i,r){var o=this.__data__;return this.size+=this.has(i)?0:1,o[i]=n&&void 0===r?"__lodash_hash_undefined__":r,this}}();function o(s){var a=-1,l=null==s?0:s.length;for(this.clear();++a<l;){var u=s[a];this.set(u[0],u[1])}}return o.prototype.clear=n,o.prototype.delete=e,o.prototype.get=t,o.prototype.has=i,o.prototype.set=r,Z7=o}(),e=eP(),t=H7();return Q7=function i(){this.size=0,this.__data__={hash:new n,map:new(t||e),string:new n}}}(),e=function y1t(){if(vZ)return tB;vZ=1;var n=iP();return tB=function e(t){var i=n(this,t).delete(t);return this.size-=i?1:0,i}}(),t=function b1t(){if(yZ)return eB;yZ=1;var n=iP();return eB=function e(t){return n(this,t).get(t)}}(),i=function _1t(){if(bZ)return nB;bZ=1;var n=iP();return nB=function e(t){return n(this,t).has(t)}}(),r=function E1t(){if(_Z)return iB;_Z=1;var n=iP();return iB=function e(t,i){var r=n(this,t),o=r.size;return r.set(t,i),this.size+=r.size==o?0:1,this}}();function o(s){var a=-1,l=null==s?0:s.length;for(this.clear();++a<l;){var u=s[a];this.set(u[0],u[1])}}return o.prototype.clear=n,o.prototype.delete=e,o.prototype.get=t,o.prototype.has=i,o.prototype.set=r,rB=o}function rP(){if(xZ)return aB;xZ=1;var n=eP(),e=function t1t(){if(VY)return M7;VY=1;var n=eP();return M7=function e(){this.__data__=new n,this.size=0}}(),t=function e1t(){return zY?C7:(zY=1,C7=function n(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i})}(),i=function n1t(){return UY?S7:(UY=1,S7=function n(e){return this.__data__.get(e)})}(),r=function i1t(){return HY?D7:(HY=1,D7=function n(e){return this.__data__.has(e)})}(),o=function w1t(){if(wZ)return sB;wZ=1;var n=eP(),e=H7(),t=oB();return sB=function r(o,s){var a=this.__data__;if(a instanceof n){var l=a.__data__;if(!e||l.length<199)return l.push([o,s]),this.size=++a.size,this;a=this.__data__=new t(l)}return a.set(o,s),this.size=a.size,this}}();function s(a){var l=this.__data__=new n(a);this.size=l.size}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=i,s.prototype.has=r,s.prototype.set=o,aB=s}function cB(){return MZ?lB:(MZ=1,lB=function n(e,t){for(var i=-1,r=null==e?0:e.length;++i<r&&!1!==t(e[i],i,e););return e})}function SZ(){if(CZ)return uB;CZ=1;var n=K2(),e=function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch{}}();return uB=e}function oP(){if(DZ)return dB;DZ=1;var n=SZ();return dB=function e(t,i,r){"__proto__"==i&&n?n(t,i,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[i]=r}}function sP(){if(TZ)return hB;TZ=1;var n=oP(),e=k_(),i=Object.prototype.hasOwnProperty;return hB=function r(o,s,a){var l=o[s];(!i.call(o,s)||!e(l,a)||void 0===a&&!(s in o))&&n(o,s,a)}}function B3(){if(AZ)return fB;AZ=1;var n=sP(),e=oP();return fB=function t(i,r,o,s){var a=!o;o||(o={});for(var l=-1,u=r.length;++l<u;){var d=r[l],f=s?s(o[d],i[d],d,o,i):void 0;void 0===f&&(f=i[d]),a?e(o,d,f):n(o,d,f)}return o}}function If(){return kZ?mB:(kZ=1,mB=function n(e){return null!=e&&"object"==typeof e})}function j3(){if(RZ)return vB;RZ=1;var n=function M1t(){if(IZ)return gB;IZ=1;var n=W2(),e=If();return gB=function i(r){return e(r)&&"[object Arguments]"==n(r)}}(),e=If(),t=Object.prototype,i=t.hasOwnProperty,r=t.propertyIsEnumerable,o=n(function(){return arguments}())?n:function(s){return e(s)&&i.call(s,"callee")&&!r.call(s,"callee")};return vB=o}function ua(){return PZ?yB:(PZ=1,yB=Array.isArray)}var bB,NZ,LZ,_B,FZ,EB,BZ,xB,jZ,MB,VZ,aP={exports:{}};function R_(){return LZ||(LZ=1,function(n,e){var t=wh(),i=function C1t(){return NZ?bB:(NZ=1,bB=function n(){return!1})}(),r=e&&!e.nodeType&&e,o=r&&n&&!n.nodeType&&n,a=o&&o.exports===r?t.Buffer:void 0;n.exports=(a?a.isBuffer:void 0)||i}(aP,aP.exports)),aP.exports}function lP(){if(FZ)return _B;FZ=1;var e=/^(?:0|[1-9]\d*)$/;return _B=function t(i,r){var o=typeof i;return!!(r=r??9007199254740991)&&("number"==o||"symbol"!=o&&e.test(i))&&i>-1&&i%1==0&&i<r}}function wB(){return BZ?EB:(BZ=1,EB=function e(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991})}function cP(){return VZ?MB:(VZ=1,MB=function n(e){return function(t){return e(t)}})}var zZ,SB,UZ,DB,HZ,TB,$Z,AB,WZ,OB,XZ,kB,YZ,RB,ZZ,PB,QZ,NB,qZ,LB,JZ,FB,tQ,BB,eQ,jB,nQ,uP={exports:{}};function CB(){return zZ||(zZ=1,function(n,e){var t=$Y(),i=e&&!e.nodeType&&e,r=i&&n&&!n.nodeType&&n,s=r&&r.exports===i&&t.process,a=function(){try{return r&&r.require&&r.require("util").types||s&&s.binding&&s.binding("util")}catch{}}();n.exports=a}(uP,uP.exports)),uP.exports}function V3(){if(UZ)return SB;UZ=1;var n=function S1t(){if(jZ)return xB;jZ=1;var n=W2(),e=wB(),t=If(),$={};return $["[object Float32Array]"]=$["[object Float64Array]"]=$["[object Int8Array]"]=$["[object Int16Array]"]=$["[object Int32Array]"]=$["[object Uint8Array]"]=$["[object Uint8ClampedArray]"]=$["[object Uint16Array]"]=$["[object Uint32Array]"]=!0,$["[object Arguments]"]=$["[object Array]"]=$["[object ArrayBuffer]"]=$["[object Boolean]"]=$["[object DataView]"]=$["[object Date]"]=$["[object Error]"]=$["[object Function]"]=$["[object Map]"]=$["[object Number]"]=$["[object Object]"]=$["[object RegExp]"]=$["[object Set]"]=$["[object String]"]=$["[object WeakMap]"]=!1,xB=function X(q){return t(q)&&e(q.length)&&!!$[n(q)]}}(),e=cP(),t=CB(),i=t&&t.isTypedArray,r=i?e(i):n;return SB=r}function GZ(){if(HZ)return DB;HZ=1;var n=function x1t(){return OZ?pB:(OZ=1,pB=function n(e,t){for(var i=-1,r=Array(e);++i<e;)r[i]=t(i);return r})}(),e=j3(),t=ua(),i=R_(),r=lP(),o=V3(),a=Object.prototype.hasOwnProperty;return DB=function l(u,d){var f=t(u),m=!f&&e(u),y=!f&&!m&&i(u),b=!f&&!m&&!y&&o(u),E=f||m||y||b,w=E?n(u.length,String):[],M=w.length;for(var x in u)(d||a.call(u,x))&&(!E||!("length"==x||y&&("offset"==x||"parent"==x)||b&&("buffer"==x||"byteLength"==x||"byteOffset"==x)||r(x,M)))&&w.push(x);return w}}function dP(){if($Z)return TB;$Z=1;var n=Object.prototype;return TB=function e(t){var i=t&&t.constructor;return t===("function"==typeof i&&i.prototype||n)}}function KZ(){return WZ?AB:(WZ=1,AB=function n(e,t){return function(i){return e(t(i))}})}function IB(){if(YZ)return kB;YZ=1;var n=dP(),e=function D1t(){if(XZ)return OB;XZ=1;var e=KZ()(Object.keys,Object);return OB=e}(),i=Object.prototype.hasOwnProperty;return kB=function r(o){if(!n(o))return e(o);var s=[];for(var a in Object(o))i.call(o,a)&&"constructor"!=a&&s.push(a);return s}}function e0(){if(ZZ)return RB;ZZ=1;var n=F3(),e=wB();return RB=function t(i){return null!=i&&e(i.length)&&!n(i)}}function Jm(){if(QZ)return PB;QZ=1;var n=GZ(),e=IB(),t=e0();return PB=function i(r){return t(r)?n(r):e(r)}}function X2(){if(eQ)return BB;eQ=1;var n=GZ(),e=function O1t(){if(tQ)return FB;tQ=1;var n=yd(),e=dP(),t=function A1t(){return JZ?LB:(JZ=1,LB=function n(e){var t=[];if(null!=e)for(var i in Object(e))t.push(i);return t})}(),r=Object.prototype.hasOwnProperty;return FB=function o(s){if(!n(s))return t(s);var a=e(s),l=[];for(var u in s)"constructor"==u&&(a||!r.call(s,u))||l.push(u);return l}}(),t=e0();return BB=function i(r){return t(r)?n(r,!0):e(r)}}var iQ,VB,oQ,zB,aQ,UB,cQ,HB,dQ,$B,hQ,WB,fQ,XB,pQ,YB,mQ,ZB,vQ,QB,yQ,qB,_Q,JB,wQ,tj,xQ,ej,MQ,nj,CQ,ij,DQ,rj,TQ,oj,AQ,sj,OQ,aj,IQ,cj,RQ,uj,PQ,dj,NQ,hj,LQ,fj,BQ,pj,jQ,mj,zQ,gj,HQ,vj,GQ,yj,$Q,bj,WQ,_j,KQ,Ej,YQ,wj,ZQ,Mj,QQ,Cj,qQ,Dj,JQ,Aj,tq,Oj,eq,kj,nq,Ij,iq,Rj,oq,aq,lq,Pj,uq,Nj,dq,Lj,hq,Fj,fq,Bj,mq,jj,gq,Vj,yq,zj,_q,Uj,Eq,Gj,wq,$j,xq,Wj,Mq,Kj,Cq,Xj,Dq,Yj,Tq,Zj,Oq,Qj,kq,qj,Rq,Jj,Pq,tV,Nq,nV,Lq,iV,Fq,rV,Bq,oV,jq,sV,Vq,aV,zq,lV,Hq,cV,Gq,uV,$q,dV,Wq,hV,Kq,fV,Xq,pV,Zq,mV,qq,gV,Jq,vV,eJ,yV,nJ,bV,iJ,_V,rJ,EV,sJ,wV,aJ,xV,cJ,MV,uJ,CV,hJ,SV,pJ,DV,gJ,TV,vJ,AV,yJ,OV,_J,kV,EJ,IV,wJ,RV,xJ,PV,MJ,NV,CJ,LV,SJ,FV,DJ,BV,TJ,VV,AJ,zV,OJ,UV,IJ,HV,RJ,GV,PJ,$V,LJ,WV,FJ,KV,jJ,XV,VJ,YV,zJ,ZV,UJ,QV,HJ,qV,GJ,JV,$J,tz,WJ,ez,KJ,nz,YJ,iz,ZJ,rz,QJ,oz,JJ,sz,ttt,ett,ntt,itt,rtt,lz,ott,cz,stt,uz,att,dz,ctt,hz,dtt,fz,htt,pz,ptt,mz,mtt,gz,gtt,vz,ytt,yz,btt,bz,Ett,_z,wtt,Ez,xtt,Mtt,Ctt,wz,Stt,bP,hP={exports:{}};function rQ(){return iQ||(iQ=1,function(n,e){var t=wh(),i=e&&!e.nodeType&&e,r=i&&n&&!n.nodeType&&n,s=r&&r.exports===i?t.Buffer:void 0,a=s?s.allocUnsafe:void 0;n.exports=function l(u,d){if(d)return u.slice();var f=u.length,m=a?a(f):new u.constructor(f);return u.copy(m),m}}(hP,hP.exports)),hP.exports}function sQ(){return oQ?VB:(oQ=1,VB=function n(e,t){var i=-1,r=e.length;for(t||(t=Array(r));++i<r;)t[i]=e[i];return t})}function lQ(){return aQ?zB:(aQ=1,zB=function n(e,t){for(var i=-1,r=null==e?0:e.length,o=0,s=[];++i<r;){var a=e[i];t(a,i,e)&&(s[o++]=a)}return s})}function uQ(){return cQ?UB:(cQ=1,UB=function n(){return[]})}function GB(){if(dQ)return HB;dQ=1;var n=lQ(),e=uQ(),i=Object.prototype.propertyIsEnumerable,r=Object.getOwnPropertySymbols;return HB=r?function(s){return null==s?[]:(s=Object(s),n(r(s),function(a){return i.call(s,a)}))}:e}function KB(){return fQ?WB:(fQ=1,WB=function n(e,t){for(var i=-1,r=t.length,o=e.length;++i<r;)e[o+i]=t[i];return e})}function fP(){if(pQ)return XB;pQ=1;var e=KZ()(Object.getPrototypeOf,Object);return XB=e}function gQ(){if(mQ)return YB;mQ=1;var n=KB(),e=fP(),t=GB(),i=uQ();return YB=Object.getOwnPropertySymbols?function(s){for(var a=[];s;)n(a,t(s)),s=e(s);return a}:i}function bQ(){if(yQ)return QB;yQ=1;var n=KB(),e=ua();return QB=function t(i,r,o){var s=r(i);return e(i)?s:n(s,o(i))}}function EQ(){if(_Q)return qB;_Q=1;var n=bQ(),e=GB(),t=Jm();return qB=function i(r){return n(r,t,e)}}function SQ(){if(CQ)return nj;CQ=1;var t=K2()(wh(),"Set");return nj=t}function P_(){if(TQ)return rj;TQ=1;var n=function N1t(){if(xQ)return tj;xQ=1;var t=K2()(wh(),"DataView");return tj=t}(),e=H7(),t=function L1t(){if(MQ)return ej;MQ=1;var t=K2()(wh(),"Promise");return ej=t}(),i=SQ(),r=function F1t(){if(DQ)return ij;DQ=1;var t=K2()(wh(),"WeakMap");return ij=t}(),o=W2(),s=nZ(),a="[object Map]",u="[object Promise]",d="[object Set]",f="[object WeakMap]",m="[object DataView]",y=s(n),b=s(e),E=s(t),w=s(i),M=s(r),x=o;return(n&&x(new n(new ArrayBuffer(1)))!=m||e&&x(new e)!=a||t&&x(t.resolve())!=u||i&&x(new i)!=d||r&&x(new r)!=f)&&(x=function(D){var k=o(D),T="[object Object]"==k?D.constructor:void 0,O=T?s(T):"";if(O)switch(O){case y:return m;case b:return a;case E:return u;case w:return d;case M:return f}return k}),rj=x}function kQ(){if(OQ)return sj;OQ=1;var n=wh();return sj=n.Uint8Array}function lj(){if(IQ)return aj;IQ=1;var n=kQ();return aj=function e(t){var i=new t.constructor(t.byteLength);return new n(i).set(new n(t)),i}}function FQ(){if(LQ)return hj;LQ=1;var n=lj();return hj=function e(t,i){var r=i?n(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}}function VQ(){if(jQ)return pj;jQ=1;var n=yd(),e=Object.create;return pj=function(){function i(){}return function(r){if(!n(r))return{};if(e)return e(r);i.prototype=r;var o=new i;return i.prototype=void 0,o}}()}function UQ(){if(zQ)return mj;zQ=1;var n=VQ(),e=fP(),t=dP();return mj=function i(r){return"function"!=typeof r.constructor||t(r)?{}:n(e(r))}}function XQ(){if(KQ)return _j;KQ=1;var n=rP(),e=cB(),t=sP(),i=function T1t(){if(qZ)return NB;qZ=1;var n=B3(),e=Jm();return NB=function t(i,r){return i&&n(r,e(r),i)}}(),r=function k1t(){if(nQ)return jB;nQ=1;var n=B3(),e=X2();return jB=function t(i,r){return i&&n(r,e(r),i)}}(),o=rQ(),s=sQ(),a=function I1t(){if(hQ)return $B;hQ=1;var n=B3(),e=GB();return $B=function t(i,r){return n(i,e(i),r)}}(),l=function R1t(){if(vQ)return ZB;vQ=1;var n=B3(),e=gQ();return ZB=function t(i,r){return n(i,e(i),r)}}(),u=EQ(),d=function P1t(){if(wQ)return JB;wQ=1;var n=bQ(),e=gQ(),t=X2();return JB=function i(r){return n(r,t,e)}}(),f=P_(),m=function B1t(){if(AQ)return oj;AQ=1;var e=Object.prototype.hasOwnProperty;return oj=function t(i){var r=i.length,o=new i.constructor(r);return r&&"string"==typeof i[0]&&e.call(i,"index")&&(o.index=i.index,o.input=i.input),o}}(),y=function U1t(){if(BQ)return fj;BQ=1;var n=lj(),e=function j1t(){if(RQ)return cj;RQ=1;var n=lj();return cj=function e(t,i){var r=i?n(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}}(),t=function V1t(){if(PQ)return uj;PQ=1;var n=/\w*$/;return uj=function e(t){var i=new t.constructor(t.source,n.exec(t));return i.lastIndex=t.lastIndex,i}}(),i=function z1t(){if(NQ)return dj;NQ=1;var n=I_(),e=n?n.prototype:void 0,t=e?e.valueOf:void 0;return dj=function i(r){return t?Object(t.call(r)):{}}}(),r=FQ();return fj=function L(F,U,$){var X=F.constructor;switch(U){case"[object ArrayBuffer]":return n(F);case"[object Boolean]":case"[object Date]":return new X(+F);case"[object DataView]":return e(F,$);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return r(F,$);case"[object Map]":case"[object Set]":return new X;case"[object Number]":case"[object String]":return new X(F);case"[object RegExp]":return t(F);case"[object Symbol]":return i(F)}}}(),b=UQ(),E=ua(),w=R_(),M=function G1t(){if(GQ)return vj;GQ=1;var n=function H1t(){if(HQ)return gj;HQ=1;var n=P_(),e=If();return gj=function i(r){return e(r)&&"[object Map]"==n(r)}}(),e=cP(),t=CB(),i=t&&t.isMap,r=i?e(i):n;return vj=r}(),x=yd(),D=function W1t(){if(WQ)return bj;WQ=1;var n=function $1t(){if($Q)return yj;$Q=1;var n=P_(),e=If();return yj=function i(r){return e(r)&&"[object Set]"==n(r)}}(),e=cP(),t=CB(),i=t&&t.isSet,r=i?e(i):n;return bj=r}(),k=Jm(),T=X2(),F="[object Arguments]",gt="[object Function]",et="[object Object]",Jr={};return Jr[F]=Jr["[object Array]"]=Jr["[object ArrayBuffer]"]=Jr["[object DataView]"]=Jr["[object Boolean]"]=Jr["[object Date]"]=Jr["[object Float32Array]"]=Jr["[object Float64Array]"]=Jr["[object Int8Array]"]=Jr["[object Int16Array]"]=Jr["[object Int32Array]"]=Jr["[object Map]"]=Jr["[object Number]"]=Jr[et]=Jr["[object RegExp]"]=Jr["[object Set]"]=Jr["[object String]"]=Jr["[object Symbol]"]=Jr["[object Uint8Array]"]=Jr["[object Uint8ClampedArray]"]=Jr["[object Uint16Array]"]=Jr["[object Uint32Array]"]=!0,Jr["[object Error]"]=Jr[gt]=Jr["[object WeakMap]"]=!1,_j=function Od(Yr,Ll,kd,my,jf,Xa){var pa,ma=1&Ll,ga=2&Ll,_D=4&Ll;if(kd&&(pa=jf?kd(Yr,my,jf,Xa):kd(Yr)),void 0!==pa)return pa;if(!x(Yr))return Yr;var EE=E(Yr);if(EE){if(pa=m(Yr),!ma)return s(Yr,pa)}else{var Vf=f(Yr),wE=Vf==gt||"[object GeneratorFunction]"==Vf;if(w(Yr))return o(Yr,ma);if(Vf==et||Vf==F||wE&&!jf){if(pa=ga||wE?{}:b(Yr),!ma)return ga?l(Yr,r(pa,Yr)):a(Yr,i(pa,Yr))}else{if(!Jr[Vf])return jf?Yr:{};pa=y(Yr,Vf,ma)}}Xa||(Xa=new n);var rut=Xa.get(Yr);if(rut)return rut;Xa.set(Yr,pa),D(Yr)?Yr.forEach(function(Eg){pa.add(Od(Eg,Ll,kd,Eg,Yr,Xa))}):M(Yr)&&Yr.forEach(function(Eg,gy){pa.set(gy,Od(Eg,Ll,kd,gy,Yr,Xa))});var out=EE?void 0:(_D?ga?d:u:ga?T:k)(Yr);return e(out||Yr,function(Eg,gy){out&&(Eg=Yr[gy=Eg]),t(pa,gy,Od(Eg,Ll,kd,gy,Yr,Xa))}),pa}}function K1t(){if(YQ)return Ej;YQ=1;var n=XQ();return Ej=function t(i){return n(i,4)}}function xj(){return ZQ?wj:(ZQ=1,wj=function n(e){return function(){return e}})}function Sj(){if(qQ)return Cj;qQ=1;var n=function X1t(){return QQ?Mj:(QQ=1,Mj=function n(e){return function(t,i,r){for(var o=-1,s=Object(t),a=r(t),l=a.length;l--;){var u=a[e?l:++o];if(!1===i(s[u],u,s))break}return t}})}(),e=n();return Cj=e}function Tj(){if(JQ)return Dj;JQ=1;var n=Sj(),e=Jm();return Dj=function t(i,r){return i&&n(i,r,e)}}function pP(){if(eq)return Oj;eq=1;var n=Tj(),e=function Y1t(){if(tq)return Aj;tq=1;var n=e0();return Aj=function e(t,i){return function(r,o){if(null==r)return r;if(!n(r))return t(r,o);for(var s=r.length,a=i?s:-1,l=Object(r);(i?a--:++a<s)&&!1!==o(l[a],a,l););return r}}}(),t=e(n);return Oj=t}function Y2(){return nq?kj:(nq=1,kj=function n(e){return e})}function rq(){if(iq)return Ij;iq=1;var n=Y2();return Ij=function e(t){return"function"==typeof t?t:n}}function sq(){if(oq)return Rj;oq=1;var n=cB(),e=pP(),t=rq(),i=ua();return Rj=function r(o,s){return(i(o)?n:e)(o,t(s))}}function cq(){return lq||(lq=1,aq=sq()),aq}function pq(){if(fq)return Fj;fq=1;var n=oB(),e=function Q1t(){return dq?Nj:(dq=1,Nj=function e(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this})}(),t=function q1t(){return hq?Lj:(hq=1,Lj=function n(e){return this.__data__.has(e)})}();function i(r){var o=-1,s=null==r?0:r.length;for(this.__data__=new n;++o<s;)this.add(r[o])}return i.prototype.add=i.prototype.push=e,i.prototype.has=t,Fj=i}function vq(){return gq?jj:(gq=1,jj=function n(e,t){return e.has(t)})}function bq(){if(yq)return Vj;yq=1;var n=pq(),e=function J1t(){return mq?Bj:(mq=1,Bj=function n(e,t){for(var i=-1,r=null==e?0:e.length;++i<r;)if(t(e[i],i,e))return!0;return!1})}(),t=vq();return Vj=function o(s,a,l,u,d,f){var m=1&l,y=s.length,b=a.length;if(y!=b&&!(m&&b>y))return!1;var E=f.get(s),w=f.get(a);if(E&&w)return E==a&&w==s;var M=-1,x=!0,D=2&l?new n:void 0;for(f.set(s,a),f.set(a,s);++M<y;){var k=s[M],T=a[M];if(u)var O=m?u(T,k,M,a,s,f):u(k,T,M,s,a,f);if(void 0!==O){if(O)continue;x=!1;break}if(D){if(!e(a,function(R,L){if(!t(D,L)&&(k===R||d(k,R,l,u,f)))return D.push(L)})){x=!1;break}}else if(k!==T&&!d(k,T,l,u,f)){x=!1;break}}return f.delete(s),f.delete(a),x}}function Hj(){return Eq?Uj:(Eq=1,Uj=function n(e){var t=-1,i=Array(e.size);return e.forEach(function(r){i[++t]=r}),i})}function ibt(){if(Mq)return Wj;Mq=1;var n=rP(),e=bq(),t=function ebt(){if(wq)return Gj;wq=1;var n=I_(),e=kQ(),t=k_(),i=bq(),r=function tbt(){return _q?zj:(_q=1,zj=function n(e){var t=-1,i=Array(e.size);return e.forEach(function(r,o){i[++t]=[o,r]}),i})}(),o=Hj(),D=n?n.prototype:void 0,k=D?D.valueOf:void 0;return Gj=function T(O,R,L,F,U,$,X){switch(L){case"[object DataView]":if(O.byteLength!=R.byteLength||O.byteOffset!=R.byteOffset)return!1;O=O.buffer,R=R.buffer;case"[object ArrayBuffer]":return!(O.byteLength!=R.byteLength||!$(new e(O),new e(R)));case"[object Boolean]":case"[object Date]":case"[object Number]":return t(+O,+R);case"[object Error]":return O.name==R.name&&O.message==R.message;case"[object RegExp]":case"[object String]":return O==R+"";case"[object Map]":var q=r;case"[object Set]":if(q||(q=o),O.size!=R.size&&!(1&F))return!1;var Et=X.get(O);if(Et)return Et==R;F|=2,X.set(O,R);var at=i(q(O),q(R),F,U,$,X);return X.delete(O),at;case"[object Symbol]":if(k)return k.call(O)==k.call(R)}return!1}}(),i=function nbt(){if(xq)return $j;xq=1;var n=EQ(),i=Object.prototype.hasOwnProperty;return $j=function r(o,s,a,l,u,d){var f=1&a,m=n(o),y=m.length;if(y!=n(s).length&&!f)return!1;for(var w=y;w--;){var M=m[w];if(!(f?M in s:i.call(s,M)))return!1}var x=d.get(o),D=d.get(s);if(x&&D)return x==s&&D==o;var k=!0;d.set(o,s),d.set(s,o);for(var T=f;++w<y;){var O=o[M=m[w]],R=s[M];if(l)var L=f?l(R,O,M,s,o,d):l(O,R,M,o,s,d);if(!(void 0===L?O===R||u(O,R,a,l,d):L)){k=!1;break}T||(T="constructor"==M)}if(k&&!T){var F=o.constructor,U=s.constructor;F!=U&&"constructor"in o&&"constructor"in s&&!("function"==typeof F&&F instanceof F&&"function"==typeof U&&U instanceof U)&&(k=!1)}return d.delete(o),d.delete(s),k}}(),r=P_(),o=ua(),s=R_(),a=V3(),u="[object Arguments]",d="[object Array]",f="[object Object]",y=Object.prototype.hasOwnProperty;return Wj=function b(E,w,M,x,D,k){var T=o(E),O=o(w),R=T?d:r(E),L=O?d:r(w),F=(R=R==u?f:R)==f,U=(L=L==u?f:L)==f,$=R==L;if($&&s(E)){if(!s(w))return!1;T=!0,F=!1}if($&&!F)return k||(k=new n),T||a(E)?e(E,w,M,x,D,k):t(E,w,R,M,x,D,k);if(!(1&M)){var X=F&&y.call(E,"__wrapped__"),q=U&&y.call(w,"__wrapped__");if(X||q){var gt=X?E.value():E,Et=q?w.value():w;return k||(k=new n),D(gt,Et,M,x,k)}}return!!$&&(k||(k=new n),i(E,w,M,x,D,k))}}function Sq(){if(Cq)return Kj;Cq=1;var n=ibt(),e=If();return Kj=function t(i,r,o,s,a){return i===r||(null==i||null==r||!e(i)&&!e(r)?i!=i&&r!=r:n(i,r,o,s,t,a))}}function Aq(){if(Tq)return Yj;Tq=1;var n=yd();return Yj=function e(t){return t==t&&!n(t)}}function Iq(){return kq?Qj:(kq=1,Qj=function n(e,t){return function(i){return null!=i&&i[e]===t&&(void 0!==t||e in Object(i))}})}function N_(){if(Pq)return Jj;Pq=1;var n=W2(),e=If();return Jj=function i(r){return"symbol"==typeof r||e(r)&&"[object Symbol]"==n(r)}}function eV(){if(Nq)return tV;Nq=1;var n=ua(),e=N_(),t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;return tV=function r(o,s){if(n(o))return!1;var a=typeof o;return!("number"!=a&&"symbol"!=a&&"boolean"!=a&&null!=o&&!e(o))||i.test(o)||!t.test(o)||null!=s&&o in Object(s)}}function mP(){return jq?oV:(jq=1,oV=function n(e,t){for(var i=-1,r=null==e?0:e.length,o=Array(r);++i<r;)o[i]=t(e[i],i,e);return o})}function Uq(){if(zq)return aV;zq=1;var n=function ubt(){if(Vq)return sV;Vq=1;var n=I_(),e=mP(),t=ua(),i=N_(),r=1/0,o=n?n.prototype:void 0,s=o?o.toString:void 0;return sV=function a(l){if("string"==typeof l)return l;if(t(l))return e(l,a)+"";if(i(l))return s?s.call(l):"";var u=l+"";return"0"==u&&1/l==-r?"-0":u}}();return aV=function e(t){return null==t?"":n(t)}}function gP(){if(Hq)return lV;Hq=1;var n=ua(),e=eV(),t=function cbt(){if(Bq)return rV;Bq=1;var n=function lbt(){if(Fq)return iV;Fq=1;var n=function abt(){if(Lq)return nV;Lq=1;var n=oB();function t(i,r){if("function"!=typeof i||null!=r&&"function"!=typeof r)throw new TypeError("Expected a function");var o=function(){var s=arguments,a=r?r.apply(this,s):s[0],l=o.cache;if(l.has(a))return l.get(a);var u=i.apply(this,s);return o.cache=l.set(a,u)||l,u};return o.cache=new(t.Cache||n),o}return t.Cache=n,nV=t}();return iV=function t(i){var r=n(i,function(s){return 500===o.size&&o.clear(),s}),o=r.cache;return r}}(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,t=/\\(\\)?/g,i=n(function(r){var o=[];return 46===r.charCodeAt(0)&&o.push(""),r.replace(e,function(s,a,l,u){o.push(l?u.replace(t,"$1"):a||s)}),o});return rV=i}(),i=Uq();return lV=function r(o,s){return n(o)?o:e(o,s)?[o]:t(i(o))}}function z3(){if(Gq)return cV;Gq=1;var n=N_(),e=1/0;return cV=function t(i){if("string"==typeof i||n(i))return i;var r=i+"";return"0"==r&&1/i==-e?"-0":r}}function vP(){if($q)return uV;$q=1;var n=gP(),e=z3();return uV=function t(i,r){for(var o=0,s=(r=n(r,i)).length;null!=i&&o<s;)i=i[e(r[o++])];return o&&o==s?i:void 0}}function Yq(){if(Xq)return fV;Xq=1;var n=gP(),e=j3(),t=ua(),i=lP(),r=wB(),o=z3();return fV=function s(a,l,u){for(var d=-1,f=(l=n(l,a)).length,m=!1;++d<f;){var y=o(l[d]);if(!(m=null!=a&&u(a,y)))break;a=a[y]}return m||++d!=f?m:!!(f=null==a?0:a.length)&&r(f)&&i(y,f)&&(t(a)||e(a))}}function Qq(){if(Zq)return pV;Zq=1;var n=function hbt(){return Kq?hV:(Kq=1,hV=function n(e,t){return null!=e&&t in Object(e)})}(),e=Yq();return pV=function t(i,r){return null!=i&&e(i,r,n)}}function tJ(){return Jq?gV:(Jq=1,gV=function n(e){return function(t){return t?.[e]}})}function n0(){if(iJ)return bV;iJ=1;var n=function sbt(){if(Rq)return qj;Rq=1;var n=function rbt(){if(Dq)return Xj;Dq=1;var n=rP(),e=Sq();return Xj=function r(o,s,a,l){var u=a.length,d=u,f=!l;if(null==o)return!d;for(o=Object(o);u--;){var m=a[u];if(f&&m[2]?m[1]!==o[m[0]]:!(m[0]in o))return!1}for(;++u<d;){var y=(m=a[u])[0],b=o[y],E=m[1];if(f&&m[2]){if(void 0===b&&!(y in o))return!1}else{var w=new n;if(l)var M=l(b,E,y,o,s,w);if(!(void 0===M?e(E,b,3,l,w):M))return!1}}return!0}}(),e=function obt(){if(Oq)return Zj;Oq=1;var n=Aq(),e=Jm();return Zj=function t(i){for(var r=e(i),o=r.length;o--;){var s=r[o],a=i[s];r[o]=[s,a,n(a)]}return r}}(),t=Iq();return qj=function i(r){var o=e(r);return 1==o.length&&o[0][2]?t(o[0][0],o[0][1]):function(s){return s===r||n(s,r,o)}}}(),e=function fbt(){if(qq)return mV;qq=1;var n=Sq(),e=function dbt(){if(Wq)return dV;Wq=1;var n=vP();return dV=function e(t,i,r){var o=null==t?void 0:n(t,i);return void 0===o?r:o}}(),t=Qq(),i=eV(),r=Aq(),o=Iq(),s=z3();return mV=function u(d,f){return i(d)&&r(f)?o(s(d),f):function(m){var y=e(m,d);return void 0===y&&y===f?t(m,d):n(f,y,3)}}}(),t=Y2(),i=ua(),r=function mbt(){if(nJ)return yV;nJ=1;var n=tJ(),e=function pbt(){if(eJ)return vV;eJ=1;var n=vP();return vV=function e(t){return function(i){return n(i,t)}}}(),t=eV(),i=z3();return yV=function r(o){return t(o)?n(i(o)):e(o)}}();return bV=function o(s){return"function"==typeof s?s:null==s?t:"object"==typeof s?i(s)?e(s[0],s[1]):n(s):r(s)}}function oJ(){if(rJ)return _V;rJ=1;var n=lQ(),e=function Z1t(){if(uq)return Pj;uq=1;var n=pP();return Pj=function e(t,i){var r=[];return n(t,function(o,s,a){i(o,s,a)&&r.push(o)}),r}}(),t=n0(),i=ua();return _V=function r(o,s){return(i(o)?n:e)(o,t(s,3))}}function lJ(){if(aJ)return wV;aJ=1;var n=function gbt(){if(sJ)return EV;sJ=1;var e=Object.prototype.hasOwnProperty;return EV=function t(i,r){return null!=i&&e.call(i,r)}}(),e=Yq();return wV=function t(i,r){return null!=i&&e(i,r,n)}}function vbt(){if(cJ)return xV;cJ=1;var n=IB(),e=P_(),t=j3(),i=ua(),r=e0(),o=R_(),s=dP(),a=V3(),f=Object.prototype.hasOwnProperty;return xV=function m(y){if(null==y)return!0;if(r(y)&&(i(y)||"string"==typeof y||"function"==typeof y.splice||o(y)||a(y)||t(y)))return!y.length;var b=e(y);if("[object Map]"==b||"[object Set]"==b)return!y.size;if(s(y))return!n(y).length;for(var E in y)if(f.call(y,E))return!1;return!0}}function dJ(){return uJ?MV:(uJ=1,MV=function n(e){return void 0===e})}function fJ(){if(hJ)return CV;hJ=1;var n=pP(),e=e0();return CV=function t(i,r){var o=-1,s=e(i)?Array(i.length):[];return n(i,function(a,l,u){s[++o]=r(a,l,u)}),s}}function mJ(){if(pJ)return SV;pJ=1;var n=mP(),e=n0(),t=fJ(),i=ua();return SV=function r(o,s){return(i(o)?n:t)(o,e(s,3))}}function bJ(){if(yJ)return AV;yJ=1;var n=function ybt(){return gJ?DV:(gJ=1,DV=function n(e,t,i,r){var o=-1,s=null==e?0:e.length;for(r&&s&&(i=e[++o]);++o<s;)i=t(i,e[o],o,e);return i})}(),e=pP(),t=n0(),i=function bbt(){return vJ?TV:(vJ=1,TV=function n(e,t,i,r,o){return o(e,function(s,a,l){i=r?(r=!1,s):t(i,s,a,l)}),i})}(),r=ua();return AV=function o(s,a,l){var u=r(s)?n:i,d=arguments.length<3;return u(s,t(a,4),l,d,e)},AV}function Cbt(){if(CJ)return NV;CJ=1;var n=IB(),e=P_(),t=e0(),i=function _bt(){if(_J)return OV;_J=1;var n=W2(),e=ua(),t=If();return OV=function r(o){return"string"==typeof o||!e(o)&&t(o)&&"[object String]"==n(o)}}(),r=function Mbt(){if(MJ)return PV;MJ=1;var n=function Ebt(){if(EJ)return kV;EJ=1;var e=tJ()("length");return kV=e}(),e=function wbt(){if(wJ)return IV;wJ=1;var a=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");return IV=function l(u){return a.test(u)}}(),t=function xbt(){if(xJ)return RV;xJ=1;var n="\\ud800-\\udfff",s="["+n+"]",a="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",l="\\ud83c[\\udffb-\\udfff]",d="[^"+n+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",m="[\\ud800-\\udbff][\\udc00-\\udfff]",b="(?:"+a+"|"+l+")?",E="[\\ufe0e\\ufe0f]?",M=E+b+"(?:\\u200d(?:"+[d,f,m].join("|")+")"+E+b+")*",x="(?:"+[d+a+"?",a,f,m,s].join("|")+")",D=RegExp(l+"(?="+l+")|"+x+M,"g");return RV=function k(T){for(var O=D.lastIndex=0;D.test(T);)++O;return O}}();return PV=function i(r){return e(r)?t(r):n(r)}}();return NV=function a(l){if(null==l)return 0;if(t(l))return i(l)?r(l):l.length;var u=e(l);return"[object Map]"==u||"[object Set]"==u?l.size:n(l).length}}function Sbt(){if(SJ)return LV;SJ=1;var n=cB(),e=VQ(),t=Tj(),i=n0(),r=fP(),o=ua(),s=R_(),a=F3(),l=yd(),u=V3();return LV=function d(f,m,y){var b=o(f),E=b||s(f)||u(f);if(m=i(m,4),null==y){var w=f&&f.constructor;y=E?b?new w:[]:l(f)&&a(w)?e(r(f)):{}}return(E?n:t)(f,function(M,x,D){return m(y,M,x,D)}),y}}function jV(){if(TJ)return BV;TJ=1;var n=KB(),e=function Dbt(){if(DJ)return FV;DJ=1;var n=I_(),e=j3(),t=ua(),i=n?n.isConcatSpreadable:void 0;return FV=function r(o){return t(o)||e(o)||!!(i&&o&&o[i])}}();return BV=function t(i,r,o,s,a){var l=-1,u=i.length;for(o||(o=e),a||(a=[]);++l<u;){var d=i[l];r>0&&o(d)?r>1?t(d,r-1,o,s,a):n(a,d):s||(a[a.length]=d)}return a}}function kJ(){if(OJ)return zV;OJ=1;var n=function Tbt(){return AJ?VV:(AJ=1,VV=function n(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)})}(),e=Math.max;return zV=function t(i,r,o){return r=e(void 0===r?i.length-1:r,0),function(){for(var s=arguments,a=-1,l=e(s.length-r,0),u=Array(l);++a<l;)u[a]=s[r+a];a=-1;for(var d=Array(r+1);++a<r;)d[a]=s[a];return d[r]=o(u),n(i,this,d)}},zV}function NJ(){if(PJ)return GV;PJ=1;var n=function Abt(){if(IJ)return UV;IJ=1;var n=xj(),e=SZ(),t=Y2();return UV=e?function(r,o){return e(r,"toString",{configurable:!0,enumerable:!1,value:n(o),writable:!0})}:t}(),e=function Obt(){if(RJ)return HV;RJ=1;var t=Date.now;return HV=function i(r){var o=0,s=0;return function(){var a=t(),l=16-(a-s);if(s=a,l>0){if(++o>=800)return arguments[0]}else o=0;return r.apply(void 0,arguments)}},HV}(),t=e(n);return GV=t}function yP(){if(LJ)return $V;LJ=1;var n=Y2(),e=kJ(),t=NJ();return $V=function i(r,o){return t(e(r,o,n),r+"")}}function BJ(){return FJ?WV:(FJ=1,WV=function n(e,t,i,r){for(var o=e.length,s=i+(r?1:-1);r?s--:++s<o;)if(t(e[s],s,e))return s;return-1})}function Bbt(){if(WJ)return tz;WJ=1;var n=pq(),e=function Pbt(){if(UJ)return ZV;UJ=1;var n=function Rbt(){if(zJ)return YV;zJ=1;var n=BJ(),e=function kbt(){return jJ?KV:(jJ=1,KV=function n(e){return e!=e})}(),t=function Ibt(){return VJ?XV:(VJ=1,XV=function n(e,t,i){for(var r=i-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1})}();return YV=function i(r,o,s){return o==o?t(r,o,s):n(r,e,s)}}();return ZV=function e(t,i){return!(null==t||!t.length)&&n(t,i,0)>-1}}(),t=function Nbt(){return HJ?QV:(HJ=1,QV=function n(e,t,i){for(var r=-1,o=null==e?0:e.length;++r<o;)if(i(t,e[r]))return!0;return!1})}(),i=vq(),r=function Fbt(){if($J)return JV;$J=1;var n=SQ(),e=function Lbt(){return GJ?qV:(GJ=1,qV=function n(){})}(),t=Hj(),r=n&&1/t(new n([,-0]))[1]==1/0?function(o){return new n(o)}:e;return JV=r}(),o=Hj();return tz=function a(l,u,d){var f=-1,m=e,y=l.length,b=!0,E=[],w=E;if(d)b=!1,m=t;else if(y>=200){var M=u?null:r(l);if(M)return o(M);b=!1,m=i,w=new n}else w=u?[]:E;t:for(;++f<y;){var x=l[f],D=u?u(x):x;if(x=d||0!==x?x:0,b&&D==D){for(var k=w.length;k--;)if(w[k]===D)continue t;u&&w.push(D),E.push(x)}else m(w,D,d)||(w!==E&&w.push(D),E.push(x))}return E}}function XJ(){if(KJ)return ez;KJ=1;var n=e0(),e=If();return ez=function t(i){return e(i)&&n(i)}}function jbt(){if(YJ)return nz;YJ=1;var n=jV(),e=yP(),t=Bbt(),i=XJ(),r=e(function(o){return t(n(o,1,i,!0))});return nz=r}function qJ(){if(QJ)return rz;QJ=1;var n=function Vbt(){if(ZJ)return iz;ZJ=1;var n=mP();return iz=function e(t,i){return n(i,function(r){return t[r]})}}(),e=Jm();return rz=function t(i){return null==i?[]:n(i,e(i))}}function bd(){if(JJ)return oz;var n;JJ=1;try{n={clone:K1t(),constant:xj(),each:cq(),filter:oJ(),has:lJ(),isArray:ua(),isEmpty:vbt(),isFunction:F3(),isUndefined:dJ(),keys:Jm(),map:mJ(),reduce:bJ(),size:Cbt(),transform:Sbt(),union:jbt(),values:qJ()}}catch{}return n||(n=window._),oz=n}function az(){if(ttt)return sz;ttt=1;var n=bd();sz=r;var e="\0",t="\0",i="\x01";function r(d){this._isDirected=!n.has(d,"directed")||d.directed,this._isMultigraph=!!n.has(d,"multigraph")&&d.multigraph,this._isCompound=!!n.has(d,"compound")&&d.compound,this._label=void 0,this._defaultNodeLabelFn=n.constant(void 0),this._defaultEdgeLabelFn=n.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[t]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function o(d,f){d[f]?d[f]++:d[f]=1}function s(d,f){--d[f]||delete d[f]}function a(d,f,m,y){var b=""+f,E=""+m;if(!d&&b>E){var w=b;b=E,E=w}return b+i+E+i+(n.isUndefined(y)?e:y)}function u(d,f){return a(d,f.v,f.w,f.name)}return r.prototype._nodeCount=0,r.prototype._edgeCount=0,r.prototype.isDirected=function(){return this._isDirected},r.prototype.isMultigraph=function(){return this._isMultigraph},r.prototype.isCompound=function(){return this._isCompound},r.prototype.setGraph=function(d){return this._label=d,this},r.prototype.graph=function(){return this._label},r.prototype.setDefaultNodeLabel=function(d){return n.isFunction(d)||(d=n.constant(d)),this._defaultNodeLabelFn=d,this},r.prototype.nodeCount=function(){return this._nodeCount},r.prototype.nodes=function(){return n.keys(this._nodes)},r.prototype.sources=function(){var d=this;return n.filter(this.nodes(),function(f){return n.isEmpty(d._in[f])})},r.prototype.sinks=function(){var d=this;return n.filter(this.nodes(),function(f){return n.isEmpty(d._out[f])})},r.prototype.setNodes=function(d,f){var m=arguments,y=this;return n.each(d,function(b){m.length>1?y.setNode(b,f):y.setNode(b)}),this},r.prototype.setNode=function(d,f){return n.has(this._nodes,d)?(arguments.length>1&&(this._nodes[d]=f),this):(this._nodes[d]=arguments.length>1?f:this._defaultNodeLabelFn(d),this._isCompound&&(this._parent[d]=t,this._children[d]={},this._children[t][d]=!0),this._in[d]={},this._preds[d]={},this._out[d]={},this._sucs[d]={},++this._nodeCount,this)},r.prototype.node=function(d){return this._nodes[d]},r.prototype.hasNode=function(d){return n.has(this._nodes,d)},r.prototype.removeNode=function(d){var f=this;if(n.has(this._nodes,d)){var m=function(y){f.removeEdge(f._edgeObjs[y])};delete this._nodes[d],this._isCompound&&(this._removeFromParentsChildList(d),delete this._parent[d],n.each(this.children(d),function(y){f.setParent(y)}),delete this._children[d]),n.each(n.keys(this._in[d]),m),delete this._in[d],delete this._preds[d],n.each(n.keys(this._out[d]),m),delete this._out[d],delete this._sucs[d],--this._nodeCount}return this},r.prototype.setParent=function(d,f){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(n.isUndefined(f))f=t;else{for(var m=f+="";!n.isUndefined(m);m=this.parent(m))if(m===d)throw new Error("Setting "+f+" as parent of "+d+" would create a cycle");this.setNode(f)}return this.setNode(d),this._removeFromParentsChildList(d),this._parent[d]=f,this._children[f][d]=!0,this},r.prototype._removeFromParentsChildList=function(d){delete this._children[this._parent[d]][d]},r.prototype.parent=function(d){if(this._isCompound){var f=this._parent[d];if(f!==t)return f}},r.prototype.children=function(d){if(n.isUndefined(d)&&(d=t),this._isCompound){var f=this._children[d];if(f)return n.keys(f)}else{if(d===t)return this.nodes();if(this.hasNode(d))return[]}},r.prototype.predecessors=function(d){var f=this._preds[d];if(f)return n.keys(f)},r.prototype.successors=function(d){var f=this._sucs[d];if(f)return n.keys(f)},r.prototype.neighbors=function(d){var f=this.predecessors(d);if(f)return n.union(f,this.successors(d))},r.prototype.isLeaf=function(d){return 0===(this.isDirected()?this.successors(d):this.neighbors(d)).length},r.prototype.filterNodes=function(d){var f=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});f.setGraph(this.graph());var m=this;n.each(this._nodes,function(E,w){d(w)&&f.setNode(w,E)}),n.each(this._edgeObjs,function(E){f.hasNode(E.v)&&f.hasNode(E.w)&&f.setEdge(E,m.edge(E))});var y={};function b(E){var w=m.parent(E);return void 0===w||f.hasNode(w)?(y[E]=w,w):w in y?y[w]:b(w)}return this._isCompound&&n.each(f.nodes(),function(E){f.setParent(E,b(E))}),f},r.prototype.setDefaultEdgeLabel=function(d){return n.isFunction(d)||(d=n.constant(d)),this._defaultEdgeLabelFn=d,this},r.prototype.edgeCount=function(){return this._edgeCount},r.prototype.edges=function(){return n.values(this._edgeObjs)},r.prototype.setPath=function(d,f){var m=this,y=arguments;return n.reduce(d,function(b,E){return y.length>1?m.setEdge(b,E,f):m.setEdge(b,E),E}),this},r.prototype.setEdge=function(){var d,f,m,y,b=!1,E=arguments[0];"object"==typeof E&&null!==E&&"v"in E?(d=E.v,f=E.w,m=E.name,2===arguments.length&&(y=arguments[1],b=!0)):(d=E,f=arguments[1],m=arguments[3],arguments.length>2&&(y=arguments[2],b=!0)),d=""+d,f=""+f,n.isUndefined(m)||(m=""+m);var w=a(this._isDirected,d,f,m);if(n.has(this._edgeLabels,w))return b&&(this._edgeLabels[w]=y),this;if(!n.isUndefined(m)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(d),this.setNode(f),this._edgeLabels[w]=b?y:this._defaultEdgeLabelFn(d,f,m);var M=function l(d,f,m,y){var b=""+f,E=""+m;if(!d&&b>E){var w=b;b=E,E=w}var M={v:b,w:E};return y&&(M.name=y),M}(this._isDirected,d,f,m);return d=M.v,f=M.w,Object.freeze(M),this._edgeObjs[w]=M,o(this._preds[f],d),o(this._sucs[d],f),this._in[f][w]=M,this._out[d][w]=M,this._edgeCount++,this},r.prototype.edge=function(d,f,m){var y=1===arguments.length?u(this._isDirected,arguments[0]):a(this._isDirected,d,f,m);return this._edgeLabels[y]},r.prototype.hasEdge=function(d,f,m){var y=1===arguments.length?u(this._isDirected,arguments[0]):a(this._isDirected,d,f,m);return n.has(this._edgeLabels,y)},r.prototype.removeEdge=function(d,f,m){var y=1===arguments.length?u(this._isDirected,arguments[0]):a(this._isDirected,d,f,m),b=this._edgeObjs[y];return b&&(d=b.v,f=b.w,delete this._edgeLabels[y],delete this._edgeObjs[y],s(this._preds[f],d),s(this._sucs[d],f),delete this._in[f][y],delete this._out[d][y],this._edgeCount--),this},r.prototype.inEdges=function(d,f){var m=this._in[d];if(m){var y=n.values(m);return f?n.filter(y,function(b){return b.v===f}):y}},r.prototype.outEdges=function(d,f){var m=this._out[d];if(m){var y=n.values(m);return f?n.filter(y,function(b){return b.w===f}):y}},r.prototype.nodeEdges=function(d,f){var m=this.inEdges(d,f);if(m)return m.concat(this.outEdges(d,f))},sz}function Hbt(){if(ott)return lz;ott=1;var n=bd(),e=az();function i(s){return n.map(s.nodes(),function(a){var l=s.node(a),u=s.parent(a),d={v:a};return n.isUndefined(l)||(d.value=l),n.isUndefined(u)||(d.parent=u),d})}function r(s){return n.map(s.edges(),function(a){var l=s.edge(a),u={v:a.v,w:a.w};return n.isUndefined(a.name)||(u.name=a.name),n.isUndefined(l)||(u.value=l),u})}return lz={write:function t(s){var a={options:{directed:s.isDirected(),multigraph:s.isMultigraph(),compound:s.isCompound()},nodes:i(s),edges:r(s)};return n.isUndefined(s.graph())||(a.value=n.clone(s.graph())),a},read:function o(s){var a=new e(s.options).setGraph(s.value);return n.each(s.nodes,function(l){a.setNode(l.v,l.value),l.parent&&a.setParent(l.v,l.parent)}),n.each(s.edges,function(l){a.setEdge({v:l.v,w:l.w,name:l.name},l.value)}),a}}}function Gbt(){if(stt)return cz;stt=1;var n=bd();return cz=function e(t){var o,i={},r=[];function s(a){n.has(i,a)||(i[a]=!0,o.push(a),n.each(t.successors(a),s),n.each(t.predecessors(a),s))}return n.each(t.nodes(),function(a){o=[],s(a),o.length&&r.push(o)}),r}}function ltt(){if(att)return uz;att=1;var n=bd();function e(){this._arr=[],this._keyIndices={}}return uz=e,e.prototype.size=function(){return this._arr.length},e.prototype.keys=function(){return this._arr.map(function(t){return t.key})},e.prototype.has=function(t){return n.has(this._keyIndices,t)},e.prototype.priority=function(t){var i=this._keyIndices[t];if(void 0!==i)return this._arr[i].priority},e.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},e.prototype.add=function(t,i){var r=this._keyIndices;if(t=String(t),!n.has(r,t)){var o=this._arr,s=o.length;return r[t]=s,o.push({key:t,priority:i}),this._decrease(s),!0}return!1},e.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var t=this._arr.pop();return delete this._keyIndices[t.key],this._heapify(0),t.key},e.prototype.decrease=function(t,i){var r=this._keyIndices[t];if(i>this._arr[r].priority)throw new Error("New priority is greater than current priority. Key: "+t+" Old: "+this._arr[r].priority+" New: "+i);this._arr[r].priority=i,this._decrease(r)},e.prototype._heapify=function(t){var i=this._arr,r=2*t,o=r+1,s=t;r<i.length&&(s=i[r].priority<i[s].priority?r:s,o<i.length&&(s=i[o].priority<i[s].priority?o:s),s!==t&&(this._swap(t,s),this._heapify(s)))},e.prototype._decrease=function(t){for(var o,i=this._arr,r=i[t].priority;0!==t&&!(i[o=t>>1].priority<r);)this._swap(t,o),t=o},e.prototype._swap=function(t,i){var r=this._arr,o=this._keyIndices,s=r[t],a=r[i];r[t]=a,r[i]=s,o[a.key]=t,o[s.key]=i},uz}function utt(){if(ctt)return dz;ctt=1;var n=bd(),e=ltt();dz=function i(o,s,a,l){return function r(o,s,a,l){var f,m,u={},d=new e,y=function(b){var E=b.v!==f?b.v:b.w,w=u[E],M=a(b),x=m.distance+M;if(M<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+b+" Weight: "+M);x<w.distance&&(w.distance=x,w.predecessor=f,d.decrease(E,x))};for(o.nodes().forEach(function(b){var E=b===s?0:Number.POSITIVE_INFINITY;u[b]={distance:E},d.add(b,E)});d.size()>0&&(f=d.removeMin(),(m=u[f]).distance!==Number.POSITIVE_INFINITY);)l(f).forEach(y);return u}(o,String(s),a||t,l||function(u){return o.outEdges(u)})};var t=n.constant(1);return dz}function $bt(){if(dtt)return hz;dtt=1;var n=utt(),e=bd();return hz=function t(i,r,o){return e.transform(i.nodes(),function(s,a){s[a]=n(i,a,r,o)},{})}}function ftt(){if(htt)return fz;htt=1;var n=bd();return fz=function e(t){var i=0,r=[],o={},s=[];function a(l){var u=o[l]={onStack:!0,lowlink:i,index:i++};if(r.push(l),t.successors(l).forEach(function(m){n.has(o,m)?o[m].onStack&&(u.lowlink=Math.min(u.lowlink,o[m].index)):(a(m),u.lowlink=Math.min(u.lowlink,o[m].lowlink))}),u.lowlink===u.index){var f,d=[];do{f=r.pop(),o[f].onStack=!1,d.push(f)}while(l!==f);s.push(d)}}return t.nodes().forEach(function(l){n.has(o,l)||a(l)}),s}}function Wbt(){if(ptt)return pz;ptt=1;var n=bd(),e=ftt();return pz=function t(i){return n.filter(e(i),function(r){return r.length>1||1===r.length&&i.hasEdge(r[0],r[0])})}}function Kbt(){if(mtt)return mz;mtt=1;var n=bd();mz=function t(r,o,s){return function i(r,o,s){var a={},l=r.nodes();return l.forEach(function(u){a[u]={},a[u][u]={distance:0},l.forEach(function(d){u!==d&&(a[u][d]={distance:Number.POSITIVE_INFINITY})}),s(u).forEach(function(d){var f=d.v===u?d.w:d.v,m=o(d);a[u][f]={distance:m,predecessor:u}})}),l.forEach(function(u){var d=a[u];l.forEach(function(f){var m=a[f];l.forEach(function(y){var E=d[y],w=m[y],M=m[u].distance+E.distance;M<w.distance&&(w.distance=M,w.predecessor=E.predecessor)})})}),a}(r,o||e,s||function(a){return r.outEdges(a)})};var e=n.constant(1);return mz}function vtt(){if(gtt)return gz;gtt=1;var n=bd();function e(i){var r={},o={},s=[];if(n.each(i.sinks(),function a(l){if(n.has(o,l))throw new t;n.has(r,l)||(o[l]=!0,r[l]=!0,n.each(i.predecessors(l),a),delete o[l],s.push(l))}),n.size(r)!==i.nodeCount())throw new t;return s}function t(){}return gz=e,e.CycleException=t,t.prototype=new Error,gz}function Xbt(){if(ytt)return vz;ytt=1;var n=vtt();return vz=function e(t){try{n(t)}catch(i){if(i instanceof n.CycleException)return!1;throw i}return!0}}function _tt(){if(btt)return yz;btt=1;var n=bd();function t(i,r,o,s,a,l){n.has(s,r)||(s[r]=!0,o||l.push(r),n.each(a(r),function(u){t(i,u,o,s,a,l)}),o&&l.push(r))}return yz=function e(i,r,o){n.isArray(r)||(r=[r]);var s=(i.isDirected()?i.successors:i.neighbors).bind(i),a=[],l={};return n.each(r,function(u){if(!i.hasNode(u))throw new Error("Graph does not have node: "+u);t(i,u,"post"===o,l,s,a)}),a}}function Ybt(){if(Ett)return bz;Ett=1;var n=_tt();return bz=function e(t,i){return n(t,i,"post")}}function Zbt(){if(wtt)return _z;wtt=1;var n=_tt();return _z=function e(t,i){return n(t,i,"pre")}}function Qbt(){if(xtt)return Ez;xtt=1;var n=bd(),e=az(),t=ltt();return Ez=function i(r,o){var u,s=new e,a={},l=new t;function d(m){var y=m.v===u?m.w:m.v,b=l.priority(y);if(void 0!==b){var E=o(m);E<b&&(a[y]=u,l.decrease(y,E))}}if(0===r.nodeCount())return s;n.each(r.nodes(),function(m){l.add(m,Number.POSITIVE_INFINITY),s.setNode(m)}),l.decrease(r.nodes()[0],0);for(var f=!1;l.size()>0;){if(u=l.removeMin(),n.has(a,u))s.setEdge(u,a[u]);else{if(f)throw new Error("Input graph is not connected: "+r);f=!0}r.nodeEdges(u).forEach(d)}return s}}try{bP=function Jbt(){if(Stt)return wz;Stt=1;var n=function Ubt(){return rtt||(rtt=1,itt={Graph:az(),version:(ntt||(ntt=1,ett="2.1.8"),ett)}),itt}();return wz={Graph:n.Graph,json:Hbt(),alg:(Ctt||(Ctt=1,Mtt={components:Gbt(),dijkstra:utt(),dijkstraAll:$bt(),findCycles:Wbt(),floydWarshall:Kbt(),isAcyclic:Xbt(),postorder:Ybt(),preorder:Zbt(),prim:Qbt(),tarjan:ftt(),topsort:vtt()}),Mtt),version:n.version}}()}catch{}bP||(bP=window.graphlib);var xz,Dtt,Mz,Ttt,Cz,Att,Sz,Ott,Dz,ktt,Tz,Itt,Az,Rtt,Oz,Ptt,kz,Ltt,Iz,Ftt,Rz,Btt,Pz,jtt,Nz,ztt,Lz,Utt,Fz,Htt,Bz,Gtt,Vz,$tt,zz,Wtt,Uz,Ktt,Hz,Ytt,Gz,Ztt,$z,qtt,Wz,Jtt,Kz,tet,Xz,eet,Yz,net,Zz,iet,Qz,oet,qz,set,Jz,aet,tU,cet,eU,uet,nU,det,iU,het,rU,fet,oU,pet,sU,met,aU,get,lU,vet,cU,yet,uU,bet,dU,_et,hU,Eet,fU,wet,pU,xet,mU,Met,EP,xh=bP;function _P(){if(Ttt)return Mz;Ttt=1;var n=k_(),e=e0(),t=lP(),i=yd();return Mz=function r(o,s,a){if(!i(a))return!1;var l=typeof s;return!!("number"==l?e(a)&&t(s,a.length):"string"==l&&s in a)&&n(a[s],o)}}function Ntt(){if(Ptt)return Oz;Ptt=1;var n=function o_t(){if(Rtt)return Az;Rtt=1;var n=function r_t(){if(Itt)return Tz;Itt=1;var n=function i_t(){if(ktt)return Dz;ktt=1;var n=/\s/;return Dz=function e(t){for(var i=t.length;i--&&n.test(t.charAt(i)););return i}}(),e=/^\s+/;return Tz=function t(i){return i&&i.slice(0,n(i)+1).replace(e,"")}}(),e=yd(),t=N_(),r=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,a=parseInt;return Az=function l(u){if("number"==typeof u)return u;if(t(u))return NaN;if(e(u)){var d="function"==typeof u.valueOf?u.valueOf():u;u=e(d)?d+"":d}if("string"!=typeof u)return 0===u?u:+u;u=n(u);var f=o.test(u);return f||s.test(u)?a(u.slice(2),f?2:8):r.test(u)?NaN:+u}}(),e=1/0;return Oz=function i(r){return r?(r=n(r))===e||r===-e?17976931348623157e292*(r<0?-1:1):r==r?r:0:0===r?r:0}}function Vtt(){if(jtt)return Pz;jtt=1;var n=jV();return Pz=function e(t){return null!=t&&t.length?n(t,1):[]}}function jz(){if(Gtt)return Bz;Gtt=1;var n=N_();return Bz=function e(t,i,r){for(var o=-1,s=t.length;++o<s;){var a=t[o],l=i(a);if(null!=l&&(void 0===u?l==l&&!n(l):r(l,u)))var u=l,d=a}return d}}function Xtt(){if(Ktt)return Uz;Ktt=1;var n=oP(),e=k_();return Uz=function t(i,r,o){(void 0!==o&&!e(i[r],o)||void 0===o&&!(r in i))&&n(i,r,o)}}function Qtt(){return Ztt?Gz:(Ztt=1,Gz=function n(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]})}function ret(){return iet?Zz:(iet=1,Zz=function n(e,t){return e<t})}function P_t(){if(_et)return dU;_et=1;var n=mP(),e=vP(),t=n0(),i=fJ(),r=function k_t(){return vet?lU:(vet=1,lU=function n(e,t){var i=e.length;for(e.sort(t);i--;)e[i]=e[i].value;return e})}(),o=cP(),s=function R_t(){if(bet)return uU;bet=1;var n=function I_t(){if(yet)return cU;yet=1;var n=N_();return cU=function e(t,i){if(t!==i){var r=void 0!==t,o=null===t,s=t==t,a=n(t),l=void 0!==i,u=null===i,d=i==i,f=n(i);if(!u&&!f&&!a&&t>i||a&&l&&d&&!u&&!f||o&&l&&d||!r&&d||!s)return 1;if(!o&&!a&&!f&&t<i||f&&r&&s&&!o&&!a||u&&r&&s||!l&&s||!d)return-1}return 0}}();return uU=function e(t,i,r){for(var o=-1,s=t.criteria,a=i.criteria,l=s.length,u=r.length;++o<l;){var d=n(s[o],a[o]);if(d)return o>=u?d:d*("desc"==r[o]?-1:1)}return t.index-i.index}}(),a=Y2(),l=ua();return dU=function u(d,f,m){f=f.length?n(f,function(E){return l(E)?function(w){return e(w,1===E.length?E[0]:E)}:E}):[a];var y=-1;f=n(f,o(t));var b=i(d,function(E,w,M){return{criteria:n(f,function(D){return D(E)}),index:++y,value:E}});return r(b,function(E,w){return s(E,w,m)})}}try{EP={cloneDeep:function t_t(){if(Dtt)return xz;Dtt=1;var n=XQ();return xz=function i(r){return n(r,5)}}(),constant:xj(),defaults:function e_t(){if(Att)return Cz;Att=1;var n=yP(),e=k_(),t=_P(),i=X2(),r=Object.prototype,o=r.hasOwnProperty,s=n(function(a,l){a=Object(a);var u=-1,d=l.length,f=d>2?l[2]:void 0;for(f&&t(l[0],l[1],f)&&(d=1);++u<d;)for(var m=l[u],y=i(m),b=-1,E=y.length;++b<E;){var w=y[b],M=a[w];(void 0===M||e(M,r[w])&&!o.call(a,w))&&(a[w]=m[w])}return a});return Cz=s}(),each:cq(),filter:oJ(),find:function l_t(){if(Btt)return Rz;Btt=1;var n=function n_t(){if(Ott)return Sz;Ott=1;var n=n0(),e=e0(),t=Jm();return Sz=function i(r){return function(o,s,a){var l=Object(o);if(!e(o)){var u=n(s,3);o=t(o),s=function(f){return u(l[f],f,l)}}var d=r(o,s,a);return d>-1?l[u?o[d]:d]:void 0}}}(),t=n(function a_t(){if(Ftt)return Iz;Ftt=1;var n=BJ(),e=n0(),t=function s_t(){if(Ltt)return kz;Ltt=1;var n=Ntt();return kz=function e(t){var i=n(t),r=i%1;return i==i?r?i-r:i:0}}(),i=Math.max;return Iz=function r(o,s,a){var l=null==o?0:o.length;if(!l)return-1;var u=null==a?0:t(a);return u<0&&(u=i(l+u,0)),n(o,e(s,3),u)}}());return Rz=t}(),flatten:Vtt(),forEach:sq(),forIn:function c_t(){if(ztt)return Nz;ztt=1;var n=Sj(),e=rq(),t=X2();return Nz=function i(r,o){return null==r?r:n(r,e(o),t)}}(),has:lJ(),isUndefined:dJ(),last:function u_t(){return Utt?Lz:(Utt=1,Lz=function n(e){var t=null==e?0:e.length;return t?e[t-1]:void 0})}(),map:mJ(),mapValues:function d_t(){if(Htt)return Fz;Htt=1;var n=oP(),e=Tj(),t=n0();return Fz=function i(r,o){var s={};return o=t(o,3),e(r,function(a,l,u){n(s,l,o(a,l,u))}),s}}(),max:function f_t(){if(Wtt)return zz;Wtt=1;var n=jz(),e=function h_t(){return $tt?Vz:($tt=1,Vz=function n(e,t){return e>t})}(),t=Y2();return zz=function i(r){return r&&r.length?n(r,t,e):void 0}}(),merge:function b_t(){if(net)return Yz;net=1;var n=function v_t(){if(tet)return Kz;tet=1;var n=rP(),e=Xtt(),t=Sj(),i=function g_t(){if(Jtt)return Wz;Jtt=1;var n=Xtt(),e=rQ(),t=FQ(),i=sQ(),r=UQ(),o=j3(),s=ua(),a=XJ(),l=R_(),u=F3(),d=yd(),f=function p_t(){if(Ytt)return Hz;Ytt=1;var n=W2(),e=fP(),t=If(),s=Function.prototype.toString,a=Object.prototype.hasOwnProperty,l=s.call(Object);return Hz=function u(d){if(!t(d)||"[object Object]"!=n(d))return!1;var f=e(d);if(null===f)return!0;var m=a.call(f,"constructor")&&f.constructor;return"function"==typeof m&&m instanceof m&&s.call(m)==l}}(),m=V3(),y=Qtt(),b=function m_t(){if(qtt)return $z;qtt=1;var n=B3(),e=X2();return $z=function t(i){return n(i,e(i))}}();return Wz=function E(w,M,x,D,k,T,O){var R=y(w,x),L=y(M,x),F=O.get(L);if(F)n(w,x,F);else{var U=T?T(R,L,x+"",w,M,O):void 0,$=void 0===U;if($){var X=s(L),q=!X&&l(L),gt=!X&&!q&&m(L);U=L,X||q||gt?s(R)?U=R:a(R)?U=i(R):q?($=!1,U=e(L,!0)):gt?($=!1,U=t(L,!0)):U=[]:f(L)||o(L)?(U=R,o(R)?U=b(R):(!d(R)||u(R))&&(U=r(L))):$=!1}$&&(O.set(L,U),k(U,L,D,T,O),O.delete(L)),n(w,x,U)}}}(),r=yd(),o=X2(),s=Qtt();return Kz=function a(l,u,d,f,m){l!==u&&t(u,function(y,b){if(m||(m=new n),r(y))i(l,u,b,d,a,f,m);else{var E=f?f(s(l,b),y,b+"",l,u,m):void 0;void 0===E&&(E=y),e(l,b,E)}},o)}}(),e=function y_t(){if(eet)return Xz;eet=1;var n=yP(),e=_P();return Xz=function t(i){return n(function(r,o){var s=-1,a=o.length,l=a>1?o[a-1]:void 0,u=a>2?o[2]:void 0;for(l=i.length>3&&"function"==typeof l?(a--,l):void 0,u&&e(o[0],o[1],u)&&(l=a<3?void 0:l,a=1),r=Object(r);++s<a;){var d=o[s];d&&i(r,d,s,l)}return r})}}(),t=e(function(i,r,o){n(i,r,o)});return Yz=t}(),min:function __t(){if(oet)return Qz;oet=1;var n=jz(),e=ret(),t=Y2();return Qz=function i(r){return r&&r.length?n(r,t,e):void 0}}(),minBy:function E_t(){if(set)return qz;set=1;var n=jz(),e=n0(),t=ret();return qz=function i(r,o){return r&&r.length?n(r,e(o,2),t):void 0}}(),now:function w_t(){if(aet)return Jz;aet=1;var n=wh();return Jz=function(){return n.Date.now()}}(),pick:function D_t(){if(fet)return rU;fet=1;var n=function C_t(){if(det)return nU;det=1;var n=function M_t(){if(uet)return eU;uet=1;var n=vP(),e=function x_t(){if(cet)return tU;cet=1;var n=sP(),e=gP(),t=lP(),i=yd(),r=z3();return tU=function o(s,a,l,u){if(!i(s))return s;for(var d=-1,f=(a=e(a,s)).length,m=f-1,y=s;null!=y&&++d<f;){var b=r(a[d]),E=l;if("__proto__"===b||"constructor"===b||"prototype"===b)return s;if(d!=m){var w=y[b];void 0===(E=u?u(w,b,y):void 0)&&(E=i(w)?w:t(a[d+1])?[]:{})}n(y,b,E),y=y[b]}return s}}(),t=gP();return eU=function i(r,o,s){for(var a=-1,l=o.length,u={};++a<l;){var d=o[a],f=n(r,d);s(f,d)&&e(u,t(d,r),f)}return u}}(),e=Qq();return nU=function t(i,r){return n(i,r,function(o,s){return e(i,s)})}}(),e=function S_t(){if(het)return iU;het=1;var n=Vtt(),e=kJ(),t=NJ();return iU=function i(r){return t(e(r,void 0,n),r+"")}}(),t=e(function(i,r){return null==i?{}:n(i,r)});return rU=t}(),range:function O_t(){if(get)return aU;get=1;var e=function A_t(){if(met)return sU;met=1;var n=function T_t(){if(pet)return oU;pet=1;var n=Math.ceil,e=Math.max;return oU=function t(i,r,o,s){for(var a=-1,l=e(n((r-i)/(o||1)),0),u=Array(l);l--;)u[s?l:++a]=i,i+=o;return u}}(),e=_P(),t=Ntt();return sU=function i(r){return function(o,s,a){return a&&"number"!=typeof a&&e(o,s,a)&&(s=a=void 0),o=t(o),void 0===s?(s=o,o=0):s=t(s),a=void 0===a?o<s?1:-1:t(a),n(o,s,a,r)}}}()();return aU=e}(),reduce:bJ(),sortBy:function N_t(){if(Eet)return hU;Eet=1;var n=jV(),e=P_t(),t=yP(),i=_P(),r=t(function(o,s){if(null==o)return[];var a=s.length;return a>1&&i(o,s[0],s[1])?s=[]:a>2&&i(s[0],s[1],s[2])&&(s=[s[0]]),e(o,n(s,1),[])});return hU=r}(),uniqueId:function L_t(){if(wet)return fU;wet=1;var n=Uq(),e=0;return fU=function t(i){var r=++e;return n(i)+r}}(),values:qJ(),zipObject:function B_t(){if(Met)return mU;Met=1;var n=sP(),e=function F_t(){return xet?pU:(xet=1,pU=function n(e,t,i){for(var r=-1,o=e.length,s=t.length,a={};++r<o;)i(a,e[r],r<s?t[r]:void 0);return a})}();return mU=function t(i,r){return e(i||[],r||[],n)}}()}}catch{}EP||(EP=window._);var ps=EP,j_t=wP;function wP(){var n={};n._next=n._prev=n,this._sentinel=n}function Cet(n){n._prev._next=n._next,n._next._prev=n._prev,delete n._next,delete n._prev}function V_t(n,e){if("_next"!==n&&"_prev"!==n)return e}wP.prototype.dequeue=function(){var n=this._sentinel,e=n._prev;if(e!==n)return Cet(e),e},wP.prototype.enqueue=function(n){var e=this._sentinel;n._prev&&n._next&&Cet(n),n._next=e._next,e._next._prev=n,e._next=n,n._prev=e},wP.prototype.toString=function(){for(var n=[],e=this._sentinel,t=e._prev;t!==e;)n.push(JSON.stringify(t,V_t)),t=t._prev;return"["+n.join(", ")+"]"};var r0=ps,z_t=xh.Graph,U_t=j_t,G_t=r0.constant(1);function gU(n,e,t,i,r){var o=r?[]:void 0;return r0.forEach(n.inEdges(i.v),function(s){var a=n.edge(s),l=n.node(s.v);r&&o.push({v:s.v,w:s.w}),l.out-=a,vU(e,t,l)}),r0.forEach(n.outEdges(i.v),function(s){var a=n.edge(s),u=n.node(s.w);u.in-=a,vU(e,t,u)}),n.removeNode(i.v),o}function vU(n,e,t){t.out?t.in?n[t.out-t.in+e].enqueue(t):n[n.length-1].enqueue(t):n[0].enqueue(t)}var Z2=ps,X_t=function $_t(n,e){if(n.nodeCount()<=1)return[];var t=function K_t(n,e){var t=new z_t,i=0,r=0;r0.forEach(n.nodes(),function(a){t.setNode(a,{v:a,in:0,out:0})}),r0.forEach(n.edges(),function(a){var l=t.edge(a.v,a.w)||0,u=e(a);t.setEdge(a.v,a.w,l+u),r=Math.max(r,t.node(a.v).out+=u),i=Math.max(i,t.node(a.w).in+=u)});var o=r0.range(r+i+3).map(function(){return new U_t}),s=i+1;return r0.forEach(t.nodes(),function(a){vU(o,s,t.node(a))}),{graph:t,buckets:o,zeroIdx:s}}(n,e||G_t),i=function W_t(n,e,t){for(var s,i=[],r=e[e.length-1],o=e[0];n.nodeCount();){for(;s=o.dequeue();)gU(n,e,t,s);for(;s=r.dequeue();)gU(n,e,t,s);if(n.nodeCount())for(var a=e.length-2;a>0;--a)if(s=e[a].dequeue()){i=i.concat(gU(n,e,t,s,!0));break}}return i}(t.graph,t.buckets,t.zeroIdx);return r0.flatten(r0.map(i,function(r){return n.outEdges(r.v,r.w)}),!0)},Y_t={run:function Z_t(n){var e="greedy"===n.graph().acyclicer?X_t(n,function t(i){return function(r){return i.edge(r).weight}}(n)):function Q_t(n){var e=[],t={},i={};return Z2.forEach(n.nodes(),function r(o){Z2.has(i,o)||(i[o]=!0,t[o]=!0,Z2.forEach(n.outEdges(o),function(s){Z2.has(t,s.w)?e.push(s):r(s.w)}),delete t[o])}),e}(n);Z2.forEach(e,function(i){var r=n.edge(i);n.removeEdge(i),r.forwardName=i.name,r.reversed=!0,n.setEdge(i.w,i.v,r,Z2.uniqueId("rev"))})},undo:function q_t(n){Z2.forEach(n.edges(),function(e){var t=n.edge(e);if(t.reversed){n.removeEdge(e);var i=t.forwardName;delete t.reversed,delete t.forwardName,n.setEdge(e.w,e.v,t,i)}})}},bo=ps,Det=xh.Graph,Zc={addDummyNode:Tet,simplify:function J_t(n){var e=(new Det).setGraph(n.graph());return bo.forEach(n.nodes(),function(t){e.setNode(t,n.node(t))}),bo.forEach(n.edges(),function(t){var i=e.edge(t.v,t.w)||{weight:0,minlen:1},r=n.edge(t);e.setEdge(t.v,t.w,{weight:i.weight+r.weight,minlen:Math.max(i.minlen,r.minlen)})}),e},asNonCompoundGraph:function tEt(n){var e=new Det({multigraph:n.isMultigraph()}).setGraph(n.graph());return bo.forEach(n.nodes(),function(t){n.children(t).length||e.setNode(t,n.node(t))}),bo.forEach(n.edges(),function(t){e.setEdge(t,n.edge(t))}),e},successorWeights:function eEt(n){var e=bo.map(n.nodes(),function(t){var i={};return bo.forEach(n.outEdges(t),function(r){i[r.w]=(i[r.w]||0)+n.edge(r).weight}),i});return bo.zipObject(n.nodes(),e)},predecessorWeights:function nEt(n){var e=bo.map(n.nodes(),function(t){var i={};return bo.forEach(n.inEdges(t),function(r){i[r.v]=(i[r.v]||0)+n.edge(r).weight}),i});return bo.zipObject(n.nodes(),e)},intersectRect:function iEt(n,e){var l,u,t=n.x,i=n.y,r=e.x-t,o=e.y-i,s=n.width/2,a=n.height/2;if(!r&&!o)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(o)*s>Math.abs(r)*a?(o<0&&(a=-a),l=a*r/o,u=a):(r<0&&(s=-s),l=s,u=s*o/r),{x:t+l,y:i+u}},buildLayerMatrix:function rEt(n){var e=bo.map(bo.range(Aet(n)+1),function(){return[]});return bo.forEach(n.nodes(),function(t){var i=n.node(t),r=i.rank;bo.isUndefined(r)||(e[r][i.order]=t)}),e},normalizeRanks:function oEt(n){var e=bo.min(bo.map(n.nodes(),function(t){return n.node(t).rank}));bo.forEach(n.nodes(),function(t){var i=n.node(t);bo.has(i,"rank")&&(i.rank-=e)})},removeEmptyRanks:function sEt(n){var e=bo.min(bo.map(n.nodes(),function(o){return n.node(o).rank})),t=[];bo.forEach(n.nodes(),function(o){var s=n.node(o).rank-e;t[s]||(t[s]=[]),t[s].push(o)});var i=0,r=n.graph().nodeRankFactor;bo.forEach(t,function(o,s){bo.isUndefined(o)&&s%r!=0?--i:i&&bo.forEach(o,function(a){n.node(a).rank+=i})})},addBorderNode:function aEt(n,e,t,i){var r={width:0,height:0};return arguments.length>=4&&(r.rank=t,r.order=i),Tet(n,"border",r,e)},maxRank:Aet,partition:function lEt(n,e){var t={lhs:[],rhs:[]};return bo.forEach(n,function(i){e(i)?t.lhs.push(i):t.rhs.push(i)}),t},time:function cEt(n,e){var t=bo.now();try{return e()}finally{console.log(n+" time: "+(bo.now()-t)+"ms")}},notime:function uEt(n,e){return e()}};function Tet(n,e,t,i){var r;do{r=bo.uniqueId(i)}while(n.hasNode(r));return t.dummy=e,n.setNode(r,t),r}function Aet(n){return bo.max(bo.map(n.nodes(),function(e){var t=n.node(e).rank;if(!bo.isUndefined(t))return t}))}var Oet=ps,dEt=Zc,hEt={run:function fEt(n){n.graph().dummyChains=[],Oet.forEach(n.edges(),function(e){!function pEt(n,e){var t=e.v,i=n.node(t).rank,r=e.w,o=n.node(r).rank,s=e.name,a=n.edge(e),l=a.labelRank;if(o!==i+1){var u,d,f;for(n.removeEdge(e),f=0,++i;i<o;++f,++i)a.points=[],u=dEt.addDummyNode(n,"edge",d={width:0,height:0,edgeLabel:a,edgeObj:e,rank:i},"_d"),i===l&&(d.width=a.width,d.height=a.height,d.dummy="edge-label",d.labelpos=a.labelpos),n.setEdge(t,u,{weight:a.weight},s),0===f&&n.graph().dummyChains.push(u),t=u;n.setEdge(t,r,{weight:a.weight},s)}}(n,e)})},undo:function mEt(n){Oet.forEach(n.graph().dummyChains,function(e){var r,t=n.node(e),i=t.edgeLabel;for(n.setEdge(t.edgeObj,i);t.dummy;)r=n.successors(e)[0],n.removeNode(e),i.points.push({x:t.x,y:t.y}),"edge-label"===t.dummy&&(i.x=t.x,i.y=t.y,i.width=t.width,i.height=t.height),t=n.node(e=r)})}},xP=ps,MP_longestPath=function gEt(n){var e={};xP.forEach(n.sources(),function t(i){var r=n.node(i);if(xP.has(e,i))return r.rank;e[i]=!0;var o=xP.min(xP.map(n.outEdges(i),function(s){return t(s.w)-n.edge(s).minlen}));return(o===Number.POSITIVE_INFINITY||null==o)&&(o=0),r.rank=o})},MP_slack=function vEt(n,e){return n.node(e.w).rank-n.node(e.v).rank-n.edge(e).minlen},CP=ps,yEt=xh.Graph,SP=MP_slack,ket=function bEt(n){var r,o,e=new yEt({directed:!1}),t=n.nodes()[0],i=n.nodeCount();for(e.setNode(t,{});_Et(e,n)<i;)r=EEt(e,n),o=e.hasNode(r.v)?SP(n,r):-SP(n,r),wEt(e,n,o);return e};function _Et(n,e){return CP.forEach(n.nodes(),function t(i){CP.forEach(e.nodeEdges(i),function(r){var o=r.v,s=i===o?r.w:o;!n.hasNode(s)&&!SP(e,r)&&(n.setNode(s,{}),n.setEdge(i,s,{}),t(s))})}),n.nodeCount()}function EEt(n,e){return CP.minBy(e.edges(),function(t){if(n.hasNode(t.v)!==n.hasNode(t.w))return SP(e,t)})}function wEt(n,e,t){CP.forEach(n.nodes(),function(i){e.node(i).rank+=t})}var o0=ps,xEt=ket,MEt=MP_slack,CEt=MP_longestPath,SEt=xh.alg.preorder,DEt=xh.alg.postorder,TEt=Zc.simplify,AEt=Q2;function Q2(n){n=TEt(n),CEt(n);var t,e=xEt(n);for(bU(e),yU(e,n);t=Pet(e);)Let(e,n,t,Net(e,n,t))}function yU(n,e){var t=DEt(n,n.nodes());t=t.slice(0,t.length-1),o0.forEach(t,function(i){!function OEt(n,e,t){var i=n.node(t);n.edge(t,i.parent).cutvalue=Iet(n,e,t)}(n,e,i)})}function Iet(n,e,t){var r=n.node(t).parent,o=!0,s=e.edge(t,r),a=0;return s||(o=!1,s=e.edge(r,t)),a=s.weight,o0.forEach(e.nodeEdges(t),function(l){var u=l.v===t,d=u?l.w:l.v;if(d!==r){var f=u===o,m=e.edge(l).weight;if(a+=f?m:-m,function IEt(n,e,t){return n.hasEdge(e,t)}(n,t,d)){var y=n.edge(t,d).cutvalue;a+=f?-y:y}}}),a}function bU(n,e){arguments.length<2&&(e=n.nodes()[0]),Ret(n,{},1,e)}function Ret(n,e,t,i,r){var o=t,s=n.node(i);return e[i]=!0,o0.forEach(n.neighbors(i),function(a){o0.has(e,a)||(t=Ret(n,e,t,a,i))}),s.low=o,s.lim=t++,r?s.parent=r:delete s.parent,t}function Pet(n){return o0.find(n.edges(),function(e){return n.edge(e).cutvalue<0})}function Net(n,e,t){var i=t.v,r=t.w;e.hasEdge(i,r)||(i=t.w,r=t.v);var o=n.node(i),s=n.node(r),a=o,l=!1;o.lim>s.lim&&(a=s,l=!0);var u=o0.filter(e.edges(),function(d){return l===Fet(0,n.node(d.v),a)&&l!==Fet(0,n.node(d.w),a)});return o0.minBy(u,function(d){return MEt(e,d)})}function Let(n,e,t,i){n.removeEdge(t.v,t.w),n.setEdge(i.v,i.w,{}),bU(n),yU(n,e),function kEt(n,e){var t=o0.find(n.nodes(),function(r){return!e.node(r).parent}),i=SEt(n,t);i=i.slice(1),o0.forEach(i,function(r){var o=n.node(r).parent,s=e.edge(r,o),a=!1;s||(s=e.edge(o,r),a=!0),e.node(r).rank=e.node(o).rank+(a?s.minlen:-s.minlen)})}(n,e)}function Fet(n,e,t){return t.low<=e.lim&&e.lim<=t.lim}Q2.initLowLimValues=bU,Q2.initCutValues=yU,Q2.calcCutValue=Iet,Q2.leaveEdge=Pet,Q2.enterEdge=Net,Q2.exchangeEdges=Let;var Bet=MP_longestPath,PEt=ket,NEt=AEt,BEt=Bet;var _U=ps,s0=ps,EU=Zc,GEt={run:function $Et(n){var e=EU.addDummyNode(n,"root",{},"_root"),t=function WEt(n){var e={};function t(i,r){var o=n.children(i);o&&o.length&&s0.forEach(o,function(s){t(s,r+1)}),e[i]=r}return s0.forEach(n.children(),function(i){t(i,1)}),e}(n),i=s0.max(s0.values(t))-1,r=2*i+1;n.graph().nestingRoot=e,s0.forEach(n.edges(),function(s){n.edge(s).minlen*=r});var o=function KEt(n){return s0.reduce(n.edges(),function(e,t){return e+n.edge(t).weight},0)}(n)+1;s0.forEach(n.children(),function(s){Vet(n,e,r,o,i,t,s)}),n.graph().nodeRankFactor=r},cleanup:function XEt(n){var e=n.graph();n.removeNode(e.nestingRoot),delete e.nestingRoot,s0.forEach(n.edges(),function(t){n.edge(t).nestingEdge&&n.removeEdge(t)})}};function Vet(n,e,t,i,r,o,s){var a=n.children(s);if(a.length){var l=EU.addBorderNode(n,"_bt"),u=EU.addBorderNode(n,"_bb"),d=n.node(s);n.setParent(l,s),d.borderTop=l,n.setParent(u,s),d.borderBottom=u,s0.forEach(a,function(f){Vet(n,e,t,i,r,o,f);var m=n.node(f),y=m.borderTop?m.borderTop:f,b=m.borderBottom?m.borderBottom:f,E=m.borderTop?i:2*i,w=y!==b?1:r-o[s]+1;n.setEdge(l,y,{weight:E,minlen:w,nestingEdge:!0}),n.setEdge(b,u,{weight:E,minlen:w,nestingEdge:!0})}),n.parent(s)||n.setEdge(e,l,{weight:0,minlen:r+o[s]})}else s!==e&&n.setEdge(e,s,{weight:0,minlen:t})}var wU=ps,YEt=Zc;function zet(n,e,t,i,r,o){var a=r[e][o-1],l=YEt.addDummyNode(n,"border",{width:0,height:0,rank:o,borderType:e},t);r[e][o]=l,n.setParent(l,i),a&&n.setEdge(a,l,{weight:1})}var Rf=ps,qEt={adjust:function JEt(n){var e=n.graph().rankdir.toLowerCase();("lr"===e||"rl"===e)&&Uet(n)},undo:function twt(n){var e=n.graph().rankdir.toLowerCase();("bt"===e||"rl"===e)&&function ewt(n){Rf.forEach(n.nodes(),function(e){xU(n.node(e))}),Rf.forEach(n.edges(),function(e){var t=n.edge(e);Rf.forEach(t.points,xU),Rf.has(t,"y")&&xU(t)})}(n),("lr"===e||"rl"===e)&&(function nwt(n){Rf.forEach(n.nodes(),function(e){MU(n.node(e))}),Rf.forEach(n.edges(),function(e){var t=n.edge(e);Rf.forEach(t.points,MU),Rf.has(t,"x")&&MU(t)})}(n),Uet(n))}};function Uet(n){Rf.forEach(n.nodes(),function(e){Het(n.node(e))}),Rf.forEach(n.edges(),function(e){Het(n.edge(e))})}function Het(n){var e=n.width;n.width=n.height,n.height=e}function xU(n){n.y=-n.y}function MU(n){var e=n.x;n.x=n.y,n.y=e}var a0=ps,tg=ps;function awt(n,e,t){for(var i=tg.zipObject(t,tg.map(t,function(u,d){return d})),r=tg.flatten(tg.map(e,function(u){return tg.sortBy(tg.map(n.outEdges(u),function(d){return{pos:i[d.w],weight:n.edge(d).weight}}),"pos")}),!0),o=1;o<t.length;)o<<=1;var s=2*o-1;o-=1;var a=tg.map(new Array(s),function(){return 0}),l=0;return tg.forEach(r.forEach(function(u){var d=u.pos+o;a[d]+=u.weight;for(var f=0;d>0;)d%2&&(f+=a[d+1]),a[d=d-1>>1]+=u.weight;l+=u.weight*f})),l}var Get=ps,Iu=ps,U3=ps,pwt=Zc;function $et(n,e,t){for(var i;e.length&&(i=U3.last(e)).i<=t;)e.pop(),n.push(i.vs),t++;return t}var eg=ps,ywt=function cwt(n,e){return Get.map(e,function(t){var i=n.inEdges(t);if(i.length){var r=Get.reduce(i,function(o,s){var a=n.edge(s),l=n.node(s.v);return{sum:o.sum+a.weight*l.order,weight:o.weight+a.weight}},{sum:0,weight:0});return{v:t,barycenter:r.sum/r.weight,weight:r.weight}}return{v:t}})},bwt=function dwt(n,e){var t={};return Iu.forEach(n,function(r,o){var s=t[r.v]={indegree:0,in:[],out:[],vs:[r.v],i:o};Iu.isUndefined(r.barycenter)||(s.barycenter=r.barycenter,s.weight=r.weight)}),Iu.forEach(e.edges(),function(r){var o=t[r.v],s=t[r.w];!Iu.isUndefined(o)&&!Iu.isUndefined(s)&&(s.indegree++,o.out.push(t[r.w]))}),function hwt(n){var e=[];function t(o){return function(s){s.merged||(Iu.isUndefined(s.barycenter)||Iu.isUndefined(o.barycenter)||s.barycenter>=o.barycenter)&&function fwt(n,e){var t=0,i=0;n.weight&&(t+=n.barycenter*n.weight,i+=n.weight),e.weight&&(t+=e.barycenter*e.weight,i+=e.weight),n.vs=e.vs.concat(n.vs),n.barycenter=t/i,n.weight=i,n.i=Math.min(e.i,n.i),e.merged=!0}(o,s)}}function i(o){return function(s){s.in.push(o),0==--s.indegree&&n.push(s)}}for(;n.length;){var r=n.pop();e.push(r),Iu.forEach(r.in.reverse(),t(r)),Iu.forEach(r.out,i(r))}return Iu.map(Iu.filter(e,function(o){return!o.merged}),function(o){return Iu.pick(o,["vs","i","barycenter","weight"])})}(Iu.filter(t,function(r){return!r.indegree}))},_wt=function gwt(n,e){var t=pwt.partition(n,function(d){return U3.has(d,"barycenter")}),i=t.lhs,r=U3.sortBy(t.rhs,function(d){return-d.i}),o=[],s=0,a=0,l=0;i.sort(function vwt(n){return function(e,t){return e.barycenter<t.barycenter?-1:e.barycenter>t.barycenter?1:n?t.i-e.i:e.i-t.i}}(!!e)),l=$et(o,r,l),U3.forEach(i,function(d){l+=d.vs.length,o.push(d.vs),s+=d.barycenter*d.weight,a+=d.weight,l=$et(o,r,l)});var u={vs:U3.flatten(o,!0)};return a&&(u.barycenter=s/a,u.weight=a),u},H3=ps,Mwt=xh.Graph,Twt=ps,ng=ps,kwt=function rwt(n){var e={},t=a0.filter(n.nodes(),function(a){return!n.children(a).length}),i=a0.max(a0.map(t,function(a){return n.node(a).rank})),r=a0.map(a0.range(i+1),function(){return[]}),s=a0.sortBy(t,function(a){return n.node(a).rank});return a0.forEach(s,function o(a){if(!a0.has(e,a)){e[a]=!0;var l=n.node(a);r[l.rank].push(a),a0.forEach(n.successors(a),o)}}),r},Iwt=function swt(n,e){for(var t=0,i=1;i<e.length;++i)t+=awt(n,e[i-1],e[i]);return t},Rwt=function Wet(n,e,t,i){var r=n.children(e),o=n.node(e),s=o?o.borderLeft:void 0,a=o?o.borderRight:void 0,l={};s&&(r=eg.filter(r,function(b){return b!==s&&b!==a}));var u=ywt(n,r);eg.forEach(u,function(b){if(n.children(b.v).length){var E=Wet(n,b.v,t,i);l[b.v]=E,eg.has(E,"barycenter")&&function xwt(n,e){eg.isUndefined(n.barycenter)?(n.barycenter=e.barycenter,n.weight=e.weight):(n.barycenter=(n.barycenter*n.weight+e.barycenter*e.weight)/(n.weight+e.weight),n.weight+=e.weight)}(b,E)}});var d=bwt(u,t);!function wwt(n,e){eg.forEach(n,function(t){t.vs=eg.flatten(t.vs.map(function(i){return e[i]?e[i].vs:i}),!0)})}(d,l);var f=_wt(d,i);if(s&&(f.vs=eg.flatten([s,f.vs,a],!0),n.predecessors(s).length)){var m=n.node(n.predecessors(s)[0]),y=n.node(n.predecessors(a)[0]);eg.has(f,"barycenter")||(f.barycenter=0,f.weight=0),f.barycenter=(f.barycenter*f.weight+m.order+y.order)/(f.weight+2),f.weight+=2}return f},Pwt=function Swt(n,e,t){var i=function Dwt(n){for(var e;n.hasNode(e=H3.uniqueId("_root")););return e}(n),r=new Mwt({compound:!0}).setGraph({root:i}).setDefaultNodeLabel(function(o){return n.node(o)});return H3.forEach(n.nodes(),function(o){var s=n.node(o),a=n.parent(o);(s.rank===e||s.minRank<=e&&e<=s.maxRank)&&(r.setNode(o),r.setParent(o,a||i),H3.forEach(n[t](o),function(l){var u=l.v===o?l.w:l.v,d=r.edge(u,o),f=H3.isUndefined(d)?0:d.weight;r.setEdge(u,o,{weight:n.edge(l).weight+f})}),H3.has(s,"minRank")&&r.setNode(o,{borderLeft:s.borderLeft[e],borderRight:s.borderRight[e]}))}),r},Nwt=function Owt(n,e,t){var r,i={};Twt.forEach(t,function(o){for(var a,l,s=n.parent(o);s;){if((a=n.parent(s))?(l=i[a],i[a]=s):(l=r,r=s),l&&l!==s)return void e.setEdge(l,s);s=a}})},Lwt=xh.Graph,Ket=Zc;function Xet(n,e,t){return ng.map(e,function(i){return Pwt(n,i,t)})}function jwt(n,e){var t=new Lwt;ng.forEach(n,function(i){var r=i.graph().root,o=Rwt(i,r,t,e);ng.forEach(o.vs,function(s,a){i.node(s).order=a}),Nwt(i,t,o.vs)})}function Yet(n,e){ng.forEach(e,function(t){ng.forEach(t,function(i,r){n.node(i).order=r})})}var mr=ps,Vwt=xh.Graph,zwt=Zc;function CU(n,e,t){if(e>t){var i=e;e=t,t=i}var r=n[e];r||(n[e]=r={}),r[t]=!0}function qet(n,e,t){if(e>t){var i=e;e=t,t=i}return mr.has(n[e],t)}var G3=ps,rnt=Zc,Xwt=function $wt(n){var r,e=zwt.buildLayerMatrix(n),t=mr.merge(function Zet(n,e){var t={};return mr.reduce(e,function i(r,o){var s=0,a=0,l=r.length,u=mr.last(o);return mr.forEach(o,function(d,f){var m=function Hwt(n,e){if(n.node(e).dummy)return mr.find(n.predecessors(e),function(t){return n.node(t).dummy})}(n,d),y=m?n.node(m).order:l;(m||d===u)&&(mr.forEach(o.slice(a,f+1),function(b){mr.forEach(n.predecessors(b),function(E){var w=n.node(E),M=w.order;(M<s||y<M)&&(!w.dummy||!n.node(b).dummy)&&CU(t,E,b)})}),a=f+1,s=y)}),o}),t}(n,e),function Qet(n,e){var t={};function i(o,s,a,l,u){var d;mr.forEach(mr.range(s,a),function(f){n.node(d=o[f]).dummy&&mr.forEach(n.predecessors(d),function(m){var y=n.node(m);y.dummy&&(y.order<l||y.order>u)&&CU(t,m,d)})})}return mr.reduce(e,function r(o,s){var l,a=-1,u=0;return mr.forEach(s,function(d,f){if("border"===n.node(d).dummy){var m=n.predecessors(d);m.length&&(l=n.node(m[0]).order,i(s,u,f,a,l),u=f,a=l)}i(s,u,s.length,l,o.length)}),s}),t}(n,e)),i={};mr.forEach(["u","d"],function(s){r="u"===s?e:mr.values(e).reverse(),mr.forEach(["l","r"],function(a){"r"===a&&(r=mr.map(r,function(f){return mr.values(f).reverse()}));var l=("u"===s?n.predecessors:n.successors).bind(n),u=function Jet(n,e,t,i){var r={},o={},s={};return mr.forEach(e,function(a){mr.forEach(a,function(l,u){r[l]=l,o[l]=l,s[l]=u})}),mr.forEach(e,function(a){var l=-1;mr.forEach(a,function(u){var d=i(u);if(d.length)for(var f=((d=mr.sortBy(d,function(E){return s[E]})).length-1)/2,m=Math.floor(f),y=Math.ceil(f);m<=y;++m){var b=d[m];o[u]===u&&l<s[b]&&!qet(t,u,b)&&(o[b]=u,o[u]=r[u]=r[b],l=s[b])}})}),{root:r,align:o}}(0,r,t,l),d=function tnt(n,e,t,i,r){var o={},s=function Gwt(n,e,t,i){var r=new Vwt,o=n.graph(),s=function Wwt(n,e,t){return function(i,r,o){var u,s=i.node(r),a=i.node(o),l=0;if(l+=s.width/2,mr.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":u=-s.width/2;break;case"r":u=s.width/2}if(u&&(l+=t?u:-u),u=0,l+=(s.dummy?e:n)/2,l+=(a.dummy?e:n)/2,l+=a.width/2,mr.has(a,"labelpos"))switch(a.labelpos.toLowerCase()){case"l":u=a.width/2;break;case"r":u=-a.width/2}return u&&(l+=t?u:-u),u=0,l}}(o.nodesep,o.edgesep,i);return mr.forEach(e,function(a){var l;mr.forEach(a,function(u){var d=t[u];if(r.setNode(d),l){var f=t[l],m=r.edge(f,d);r.setEdge(f,d,Math.max(s(n,u,l),m||0))}l=u})}),r}(n,e,t,r),a=r?"borderLeft":"borderRight";function l(f,m){for(var y=s.nodes(),b=y.pop(),E={};b;)E[b]?f(b):(E[b]=!0,y.push(b),y=y.concat(m(b))),b=y.pop()}return l(function u(f){o[f]=s.inEdges(f).reduce(function(m,y){return Math.max(m,o[y.v]+s.edge(y))},0)},s.predecessors.bind(s)),l(function d(f){var m=s.outEdges(f).reduce(function(b,E){return Math.min(b,o[E.w]-s.edge(E))},Number.POSITIVE_INFINITY),y=n.node(f);m!==Number.POSITIVE_INFINITY&&y.borderType!==a&&(o[f]=Math.max(o[f],m))},s.successors.bind(s)),mr.forEach(i,function(f){o[f]=o[t[f]]}),o}(n,r,u.root,u.align,"r"===a);"r"===a&&(d=mr.mapValues(d,function(f){return-f})),i[s+a]=d})});var o=function ent(n,e){return mr.minBy(mr.values(e),function(t){var i=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY;return mr.forIn(t,function(o,s){var a=function Kwt(n,e){return n.node(e).width}(n,s)/2;i=Math.max(o+a,i),r=Math.min(o-a,r)}),i-r})}(n,i);return function nnt(n,e){var t=mr.values(e),i=mr.min(t),r=mr.max(t);mr.forEach(["u","d"],function(o){mr.forEach(["l","r"],function(s){var u,a=o+s,l=n[a];if(l!==e){var d=mr.values(l);(u="l"===s?i-mr.min(d):r-mr.max(d))&&(n[a]=mr.mapValues(l,function(f){return f+u}))}})})}(i,o),function int(n,e){return mr.mapValues(n.ul,function(t,i){if(e)return n[e.toLowerCase()][i];var r=mr.sortBy(mr.map(n,i));return(r[1]+r[2])/2})}(i,n.graph().align)},Ar=ps,ont=Y_t,snt=hEt,qwt=function FEt(n){switch(n.graph().ranker){case"network-simplex":default:!function jet(n){NEt(n)}(n);break;case"tight-tree":!function jEt(n){Bet(n),PEt(n)}(n);break;case"longest-path":BEt(n)}},Jwt=Zc.normalizeRanks,txt=function zEt(n){var e=function HEt(n){var e={},t=0;return _U.forEach(n.children(),function i(r){var o=t;_U.forEach(n.children(r),i),e[r]={low:o,lim:t++}}),e}(n);_U.forEach(n.graph().dummyChains,function(t){for(var i=n.node(t),r=i.edgeObj,o=function UEt(n,e,t,i){var l,u,r=[],o=[],s=Math.min(e[t].low,e[i].low),a=Math.max(e[t].lim,e[i].lim);l=t;do{l=n.parent(l),r.push(l)}while(l&&(e[l].low>s||a>e[l].lim));for(u=l,l=i;(l=n.parent(l))!==u;)o.push(l);return{path:r.concat(o.reverse()),lca:u}}(n,e,r.v,r.w),s=o.path,a=o.lca,l=0,u=s[l],d=!0;t!==r.w;){if(i=n.node(t),d){for(;(u=s[l])!==a&&n.node(u).maxRank<i.rank;)l++;u===a&&(d=!1)}if(!d){for(;l<s.length-1&&n.node(u=s[l+1]).minRank<=i.rank;)l++;u=s[l]}n.setParent(t,u),t=n.successors(t)[0]}})},ext=Zc.removeEmptyRanks,ant=GEt,nxt=function QEt(n){wU.forEach(n.children(),function e(t){var i=n.children(t),r=n.node(t);if(i.length&&wU.forEach(i,e),wU.has(r,"minRank")){r.borderLeft=[],r.borderRight=[];for(var o=r.minRank,s=r.maxRank+1;o<s;++o)zet(n,"borderLeft","_bl",t,r,o),zet(n,"borderRight","_br",t,r,o)}})},lnt=qEt,ixt=function Bwt(n){var e=Ket.maxRank(n),t=Xet(n,ng.range(1,e+1),"inEdges"),i=Xet(n,ng.range(e-1,-1,-1),"outEdges"),r=kwt(n);Yet(n,r);for(var s,o=Number.POSITIVE_INFINITY,a=0,l=0;l<4;++a,++l){jwt(a%2?t:i,a%4>=2),r=Ket.buildLayerMatrix(n);var u=Iwt(n,r);u<o&&(l=0,s=ng.cloneDeep(r),o=u)}Yet(n,s)},rxt=function Zwt(n){(function Qwt(n){var e=rnt.buildLayerMatrix(n),t=n.graph().ranksep,i=0;G3.forEach(e,function(r){var o=G3.max(G3.map(r,function(s){return n.node(s).height}));G3.forEach(r,function(s){n.node(s).y=i+o/2}),i+=o+t})})(n=rnt.asNonCompoundGraph(n)),G3.forEach(Xwt(n),function(e,t){n.node(t).x=e})},ig=Zc,oxt=xh.Graph,uxt=["nodesep","edgesep","ranksep","marginx","marginy"],dxt={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},hxt=["acyclicer","ranker","rankdir","align"],fxt=["width","height"],pxt={width:0,height:0},mxt=["minlen","weight","width","height","labeloffset"],gxt={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},vxt=["labelpos"];function SU(n,e){return Ar.mapValues(Ar.pick(n,e),Number)}function DU(n){var e={};return Ar.forEach(n,function(t,i){e[i.toLowerCase()]=t}),e}var DP=ps,kxt=Zc,Ixt=xh.Graph,Rxt={debugOrdering:function Pxt(n){var e=kxt.buildLayerMatrix(n),t=new Ixt({compound:!0,multigraph:!0}).setGraph({});return DP.forEach(n.nodes(),function(i){t.setNode(i,{label:i}),t.setParent(i,"layer"+n.node(i).rank)}),DP.forEach(n.edges(),function(i){t.setEdge(i.v,i.w,{},i.name)}),DP.forEach(e,function(i,r){t.setNode("layer"+r,{rank:"same"}),DP.reduce(i,function(s,a){return t.setEdge(s,a,{style:"invis"}),a})}),t}},cnt={graphlib:xh,layout:function axt(n,e){var t=e&&e.debugTiming?ig.time:ig.notime;t("layout",function(){var i=t("  buildLayoutGraph",function(){return function yxt(n){var e=new oxt({multigraph:!0,compound:!0}),t=DU(n.graph());return e.setGraph(Ar.merge({},dxt,SU(t,uxt),Ar.pick(t,hxt))),Ar.forEach(n.nodes(),function(i){var r=DU(n.node(i));e.setNode(i,Ar.defaults(SU(r,fxt),pxt)),e.setParent(i,n.parent(i))}),Ar.forEach(n.edges(),function(i){var r=DU(n.edge(i));e.setEdge(i,Ar.merge({},gxt,SU(r,mxt),Ar.pick(r,vxt)))}),e}(n)});t("  runLayout",function(){!function lxt(n,e){e("    makeSpaceForEdgeLabels",function(){!function bxt(n){var e=n.graph();e.ranksep/=2,Ar.forEach(n.edges(),function(t){var i=n.edge(t);i.minlen*=2,"c"!==i.labelpos.toLowerCase()&&("TB"===e.rankdir||"BT"===e.rankdir?i.width+=i.labeloffset:i.height+=i.labeloffset)})}(n)}),e("    removeSelfEdges",function(){!function Txt(n){Ar.forEach(n.edges(),function(e){if(e.v===e.w){var t=n.node(e.v);t.selfEdges||(t.selfEdges=[]),t.selfEdges.push({e,label:n.edge(e)}),n.removeEdge(e)}})}(n)}),e("    acyclic",function(){ont.run(n)}),e("    nestingGraph.run",function(){ant.run(n)}),e("    rank",function(){qwt(ig.asNonCompoundGraph(n))}),e("    injectEdgeLabelProxies",function(){!function _xt(n){Ar.forEach(n.edges(),function(e){var t=n.edge(e);if(t.width&&t.height){var i=n.node(e.v),r=n.node(e.w);ig.addDummyNode(n,"edge-proxy",{rank:(r.rank-i.rank)/2+i.rank,e},"_ep")}})}(n)}),e("    removeEmptyRanks",function(){ext(n)}),e("    nestingGraph.cleanup",function(){ant.cleanup(n)}),e("    normalizeRanks",function(){Jwt(n)}),e("    assignRankMinMax",function(){!function Ext(n){var e=0;Ar.forEach(n.nodes(),function(t){var i=n.node(t);i.borderTop&&(i.minRank=n.node(i.borderTop).rank,i.maxRank=n.node(i.borderBottom).rank,e=Ar.max(e,i.maxRank))}),n.graph().maxRank=e}(n)}),e("    removeEdgeLabelProxies",function(){!function wxt(n){Ar.forEach(n.nodes(),function(e){var t=n.node(e);"edge-proxy"===t.dummy&&(n.edge(t.e).labelRank=t.rank,n.removeNode(e))})}(n)}),e("    normalize.run",function(){snt.run(n)}),e("    parentDummyChains",function(){txt(n)}),e("    addBorderSegments",function(){nxt(n)}),e("    order",function(){ixt(n)}),e("    insertSelfEdges",function(){!function Axt(n){var e=ig.buildLayerMatrix(n);Ar.forEach(e,function(t){var i=0;Ar.forEach(t,function(r,o){var s=n.node(r);s.order=o+i,Ar.forEach(s.selfEdges,function(a){ig.addDummyNode(n,"selfedge",{width:a.label.width,height:a.label.height,rank:s.rank,order:o+ ++i,e:a.e,label:a.label},"_se")}),delete s.selfEdges})})}(n)}),e("    adjustCoordinateSystem",function(){lnt.adjust(n)}),e("    position",function(){rxt(n)}),e("    positionSelfEdges",function(){!function Oxt(n){Ar.forEach(n.nodes(),function(e){var t=n.node(e);if("selfedge"===t.dummy){var i=n.node(t.e.v),r=i.x+i.width/2,o=i.y,s=t.x-r,a=i.height/2;n.setEdge(t.e,t.label),n.removeNode(e),t.label.points=[{x:r+2*s/3,y:o-a},{x:r+5*s/6,y:o-a},{x:r+s,y:o},{x:r+5*s/6,y:o+a},{x:r+2*s/3,y:o+a}],t.label.x=t.x,t.label.y=t.y}})}(n)}),e("    removeBorderNodes",function(){!function Dxt(n){Ar.forEach(n.nodes(),function(e){if(n.children(e).length){var t=n.node(e),i=n.node(t.borderTop),r=n.node(t.borderBottom),o=n.node(Ar.last(t.borderLeft)),s=n.node(Ar.last(t.borderRight));t.width=Math.abs(s.x-o.x),t.height=Math.abs(r.y-i.y),t.x=o.x+t.width/2,t.y=i.y+t.height/2}}),Ar.forEach(n.nodes(),function(e){"border"===n.node(e).dummy&&n.removeNode(e)})}(n)}),e("    normalize.undo",function(){snt.undo(n)}),e("    fixupEdgeLabelCoords",function(){!function Cxt(n){Ar.forEach(n.edges(),function(e){var t=n.edge(e);if(Ar.has(t,"x"))switch(("l"===t.labelpos||"r"===t.labelpos)&&(t.width-=t.labeloffset),t.labelpos){case"l":t.x-=t.width/2+t.labeloffset;break;case"r":t.x+=t.width/2+t.labeloffset}})}(n)}),e("    undoCoordinateSystem",function(){lnt.undo(n)}),e("    translateGraph",function(){!function xxt(n){var e=Number.POSITIVE_INFINITY,t=0,i=Number.POSITIVE_INFINITY,r=0,o=n.graph(),s=o.marginx||0,a=o.marginy||0;function l(u){var d=u.x,f=u.y,m=u.width,y=u.height;e=Math.min(e,d-m/2),t=Math.max(t,d+m/2),i=Math.min(i,f-y/2),r=Math.max(r,f+y/2)}Ar.forEach(n.nodes(),function(u){l(n.node(u))}),Ar.forEach(n.edges(),function(u){var d=n.edge(u);Ar.has(d,"x")&&l(d)}),e-=s,i-=a,Ar.forEach(n.nodes(),function(u){var d=n.node(u);d.x-=e,d.y-=i}),Ar.forEach(n.edges(),function(u){var d=n.edge(u);Ar.forEach(d.points,function(f){f.x-=e,f.y-=i}),Ar.has(d,"x")&&(d.x-=e),Ar.has(d,"y")&&(d.y-=i)}),o.width=t-e+s,o.height=r-i+a}(n)}),e("    assignNodeIntersects",function(){!function Mxt(n){Ar.forEach(n.edges(),function(e){var o,s,t=n.edge(e),i=n.node(e.v),r=n.node(e.w);t.points?(o=t.points[0],s=t.points[t.points.length-1]):(t.points=[],o=r,s=i),t.points.unshift(ig.intersectRect(i,o)),t.points.push(ig.intersectRect(r,s))})}(n)}),e("    reversePoints",function(){!function Sxt(n){Ar.forEach(n.edges(),function(e){var t=n.edge(e);t.reversed&&t.points.reverse()})}(n)}),e("    acyclic.undo",function(){ont.undo(n)})}(i,t)}),t("  updateInputGraph",function(){!function cxt(n,e){Ar.forEach(n.nodes(),function(t){var i=n.node(t),r=e.node(t);i&&(i.x=r.x,i.y=r.y,e.children(t).length&&(i.width=r.width,i.height=r.height))}),Ar.forEach(n.edges(),function(t){var i=n.edge(t),r=e.edge(t);i.points=r.points,Ar.has(r,"x")&&(i.x=r.x,i.y=r.y)}),n.graph().width=e.graph().width,n.graph().height=e.graph().height}(n,i)})})},debug:Rxt,util:{time:Zc.time,notime:Zc.notime},version:"0.8.5"};const Lxt=Ea(cnt);let Fxt=(()=>{class n{constructor(t){this.id="dagre",this.options={},Object.assign(this.options,n.defaultOptions,t)}execute(t,i){return pr(this,void 0,void 0,function*(){return this.genericDagreLayout(!1,t,Object.assign(Object.assign({},this.options),i))})}assign(t,i){return pr(this,void 0,void 0,function*(){yield this.genericDagreLayout(!0,t,Object.assign(Object.assign({},this.options),i))})}genericDagreLayout(t,i,r){return pr(this,void 0,void 0,function*(){const{nodeSize:o}=r,s=new cnt.graphlib.Graph;s.setGraph(r),s.setDefaultEdgeLabel(()=>({})),[...i.getAllNodes(),...i.getAllEdges()].some(({id:d})=>oi(d))&&console.error("Dagre layout only support string id, it will convert number to string."),i.getAllNodes().forEach(d=>{const{id:f}=d,m=Object.assign({},d.data);if(void 0!==o){const[y,b]=O3(ii(o)?o(d):o);Object.assign(m,{width:y,height:b})}s.setNode(f.toString(),m)}),i.getAllEdges().forEach(({id:d,source:f,target:m})=>{s.setEdge(f.toString(),m.toString(),{id:d})}),Lxt.layout(s);const u={nodes:[],edges:[]};return s.nodes().forEach(d=>{const f=s.node(d);u.nodes.push({id:d,data:f}),t&&i.mergeNodeData(d,f)}),s.edges().forEach(d=>{const f=s.edge(d),{id:m}=f,y=fs(f,["id"]),{v:b,w:E}=d;u.edges.push({id:m,source:b,target:E,data:y}),t&&i.mergeEdgeData(m,y)}),u})}}return n.defaultOptions={},n})();class TU{constructor(e){this.id=e.id||0,this.rx=e.rx,this.ry=e.ry,this.fx=0,this.fy=0,this.mass=e.mass,this.degree=e.degree,this.g=e.g||0}distanceTo(e){return Math.hypot(this.rx-e.rx,this.ry-e.ry)}setPos(e,t){this.rx=e,this.ry=t}resetForce(){this.fx=0,this.fy=0}addForce(e){const t=e.rx-this.rx,i=e.ry-this.ry;let r=Math.hypot(t,i);r=r<1e-4?1e-4:r;const o=this.g*(this.degree+1)*(e.degree+1)/r;this.fx+=o*t/r,this.fy+=o*i/r}in(e){return e.contains(this.rx,this.ry)}add(e){const t=this.mass+e.mass;return new TU({rx:(this.rx*this.mass+e.rx*e.mass)/t,ry:(this.ry*this.mass+e.ry*e.mass)/t,mass:t,degree:this.degree+e.degree})}}class L_{constructor(e){this.xmid=e.xmid,this.ymid=e.ymid,this.length=e.length,this.massCenter=e.massCenter||[0,0],this.mass=e.mass||1}getLength(){return this.length}contains(e,t){const i=this.length/2;return e<=this.xmid+i&&e>=this.xmid-i&&t<=this.ymid+i&&t>=this.ymid-i}NW(){return new L_({xmid:this.xmid-this.length/4,ymid:this.ymid+this.length/4,length:this.length/2})}NE(){return new L_({xmid:this.xmid+this.length/4,ymid:this.ymid+this.length/4,length:this.length/2})}SW(){return new L_({xmid:this.xmid-this.length/4,ymid:this.ymid-this.length/4,length:this.length/2})}SE(){return new L_({xmid:this.xmid+this.length/4,ymid:this.ymid-this.length/4,length:this.length/2})}}class F_{constructor(e){this.body=null,this.quad=null,this.NW=null,this.NE=null,this.SW=null,this.SE=null,this.theta=.5,null!=e&&(this.quad=e)}insert(e){null!=this.body?this._isExternal()?(this.quad&&(this.NW=new F_(this.quad.NW()),this.NE=new F_(this.quad.NE()),this.SW=new F_(this.quad.SW()),this.SE=new F_(this.quad.SE())),this._putBody(this.body),this._putBody(e),this.body=this.body.add(e)):(this.body=this.body.add(e),this._putBody(e)):this.body=e}_putBody(e){this.quad&&(e.in(this.quad.NW())&&this.NW?this.NW.insert(e):e.in(this.quad.NE())&&this.NE?this.NE.insert(e):e.in(this.quad.SW())&&this.SW?this.SW.insert(e):e.in(this.quad.SE())&&this.SE&&this.SE.insert(e))}_isExternal(){return null==this.NW&&null==this.NE&&null==this.SW&&null==this.SE}updateForce(e){null!=this.body&&e!==this.body&&(this._isExternal()||(this.quad?this.quad.getLength():0)/this.body.distanceTo(e)<this.theta?e.addForce(this.body):(this.NW&&this.NW.updateForce(e),this.NE&&this.NE.updateForce(e),this.SW&&this.SW.updateForce(e),this.SE&&this.SE.updateForce(e)))}}const Bxt={center:[0,0],width:300,height:300,kr:5,kg:1,mode:"normal",preventOverlap:!1,dissuadeHubs:!1,maxIteration:0,ks:.1,ksmax:10,tao:.1},Vxt={maxIteration:1e3,gravity:10,speed:5,clustering:!1,clusterGravity:10,width:300,height:300,nodeClusterBy:"cluster"},Hxt={begin:[0,0],preventOverlap:!0,preventOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:void 0,sortBy:"degree",nodeSize:30,width:300,height:300},TP=(n,e)=>{let t;const i=n.rows||5,r=n.cols||5;return null==e?t=Math.min(i,r):Math.min(i,r)===n.rows?n.rows=e:n.cols=e,t},AP=(n,e)=>{let t;const i=n.rows||5,r=n.cols||5;return null==e?t=Math.max(i,r):Math.max(i,r)===n.rows?n.rows=e:n.cols=e,t},AU=(n,e)=>n[`c-${e.row}-${e.col}`]||!1,unt=(n,e)=>n[`c-${e.row}-${e.col}`]=!0,dnt=(n,e)=>{const t=n.cols||5;e.col++,e.col>=t&&(e.col=0,e.row++)},$xt=(n,e,t,i,r,o,s,a)=>{let l,u;const d=r[n.id];if(d)l=d.col*t+t/2+e[0],u=d.row*i+i/2+e[1];else{for(;AU(a,s);)dnt(o,s);l=s.col*t+t/2+e[0],u=s.row*i+i/2+e[1],unt(a,s),dnt(o,s)}n.data.x=l,n.data.y=u},Xxt={iterations:10,height:10,width:10,speed:100,gravity:10,k:5},Zxt=(n,e,t,i,r,o)=>{e.forEach((s,a)=>{t[a]={x:0,y:0},e.forEach((l,u)=>{if(a===u||r[a]!==r[u])return;let d=s.x-l.x,f=s.y-l.y,m=Math.sqrt(d*d+f*f);if(0===m){m=1;const y=a>u?1:-1;d=.01*y,f=.01*y}if(m<o(n[a])/2+o(n[u])/2){const y=i*i/m;t[a].x+=d/m*y,t[a].y+=f/m*y}})})},Qxt=(n,e,t,i,r,o,s,a)=>{const l=o||s/10;return i&&e.forEach((u,d)=>{const f=n[d].x-n[r].x,m=n[d].y-n[r].y,y=Math.sqrt(f*f+m*m);let b=m/y,E=-f/y;const w=Math.sqrt(u.x*u.x+u.y*u.y);let M=Math.acos((b*u.x+E*u.y)/w);M>Math.PI/2&&(M-=Math.PI/2,b*=-1,E*=-1);const x=Math.cos(M)*w;u.x=b*x,u.y=E*x}),n.forEach((u,d)=>{if(d===r)return;const f=Math.sqrt(e[d].x*e[d].x+e[d].y*e[d].y);if(f>0&&d!==r){const m=Math.min(l*(t/800),f);if(u.x+=e[d].x/f*m,u.y+=e[d].y/f*m,i){let y=u.x-n[r].x,b=u.y-n[r].y;const E=Math.sqrt(y*y+b*b);y=y/E*a[d],b=b/E*a[d],u.x=n[r].x+y,u.y=n[r].y+b}}}),n},qxt={maxIteration:1e3,focusNode:null,unitRadius:null,linkDistance:50,preventOverlap:!1,strictRadial:!0,maxPreventOverlapIteration:200,sortStrength:10},oMt={center:[0,0],width:300,height:300},hnt=Symbol("Comlink.proxy"),aMt=Symbol("Comlink.endpoint"),fnt=Symbol("Comlink.releaseProxy"),OU=Symbol("Comlink.finalizer"),OP=Symbol("Comlink.thrown"),pnt=n=>"object"==typeof n&&null!==n||"function"==typeof n,lMt={canHandle:n=>pnt(n)&&n[hnt],serialize(n){const{port1:e,port2:t}=new MessageChannel;return gnt(n,e),[t,[t]]},deserialize:n=>(n.start(),ynt(n))},cMt={canHandle:n=>pnt(n)&&OP in n,serialize({value:n}){let e;return e=n instanceof Error?{isError:!0,value:{message:n.message,name:n.name,stack:n.stack}}:{isError:!1,value:n},[e,[]]},deserialize(n){throw n.isError?Object.assign(new Error(n.value.message),n.value):n.value}},mnt=new Map([["proxy",lMt],["throw",cMt]]);function gnt(n,e=globalThis,t=["*"]){e.addEventListener("message",function i(r){if(!r||!r.data)return;if(!function uMt(n,e){for(const t of n)if(e===t||"*"===t||t instanceof RegExp&&t.test(e))return!0;return!1}(t,r.origin))return void console.warn(`Invalid origin '${r.origin}' for comlink proxy`);const{id:o,type:s,path:a}=Object.assign({path:[]},r.data),l=(r.data.argumentList||[]).map(q2);let u;try{const d=a.slice(0,-1).reduce((m,y)=>m[y],n),f=a.reduce((m,y)=>m[y],n);switch(s){case"GET":u=f;break;case"SET":d[a.slice(-1)[0]]=q2(r.data.value),u=!0;break;case"APPLY":u=f.apply(d,l);break;case"CONSTRUCT":u=function gMt(n){return Object.assign(n,{[hnt]:!0})}(new f(...l));break;case"ENDPOINT":{const{port1:m,port2:y}=new MessageChannel;gnt(n,y),u=function mMt(n,e){return Ent.set(n,e),n}(m,[m])}break;case"RELEASE":u=void 0;break;default:return}}catch(d){u={value:d,[OP]:0}}Promise.resolve(u).catch(d=>({value:d,[OP]:0})).then(d=>{const[f,m]=PP(d);e.postMessage(Object.assign(Object.assign({},f),{id:o}),m),"RELEASE"===s&&(e.removeEventListener("message",i),vnt(e),OU in n&&"function"==typeof n[OU]&&n[OU]())}).catch(d=>{const[f,m]=PP({value:new TypeError("Unserializable return value"),[OP]:0});e.postMessage(Object.assign(Object.assign({},f),{id:o}),m)})}),e.start&&e.start()}function vnt(n){(function dMt(n){return"MessagePort"===n.constructor.name})(n)&&n.close()}function ynt(n,e){const t=new Map;return n.addEventListener("message",function(i){const{data:r}=i;if(!r||!r.id)return;const o=t.get(r.id);if(o)try{o(r)}finally{t.delete(r.id)}}),kU(n,t,[],e)}function kP(n){if(n)throw new Error("Proxy has been released and is not useable")}function bnt(n){return B_(n,new Map,{type:"RELEASE"}).then(()=>{vnt(n)})}const IP=new WeakMap,RP="FinalizationRegistry"in globalThis&&new FinalizationRegistry(n=>{const e=(IP.get(n)||0)-1;IP.set(n,e),0===e&&bnt(n)});function kU(n,e,t=[],i=function(){}){let r=!1;const o=new Proxy(i,{get(s,a){if(kP(r),a===fnt)return()=>{(function fMt(n){RP&&RP.unregister(n)})(o),bnt(n),e.clear(),r=!0};if("then"===a){if(0===t.length)return{then:()=>o};const l=B_(n,e,{type:"GET",path:t.map(u=>u.toString())}).then(q2);return l.then.bind(l)}return kU(n,e,[...t,a])},set(s,a,l){kP(r);const[u,d]=PP(l);return B_(n,e,{type:"SET",path:[...t,a].map(f=>f.toString()),value:u},d).then(q2)},apply(s,a,l){kP(r);const u=t[t.length-1];if(u===aMt)return B_(n,e,{type:"ENDPOINT"}).then(q2);if("bind"===u)return kU(n,e,t.slice(0,-1));const[d,f]=_nt(l);return B_(n,e,{type:"APPLY",path:t.map(m=>m.toString()),argumentList:d},f).then(q2)},construct(s,a){kP(r);const[l,u]=_nt(a);return B_(n,e,{type:"CONSTRUCT",path:t.map(d=>d.toString()),argumentList:l},u).then(q2)}});return function hMt(n,e){const t=(IP.get(e)||0)+1;IP.set(e,t),RP&&RP.register(n,e,n)}(o,n),o}function pMt(n){return Array.prototype.concat.apply([],n)}function _nt(n){const e=n.map(PP);return[e.map(t=>t[0]),pMt(e.map(t=>t[1]))]}const Ent=new WeakMap;function PP(n){for(const[e,t]of mnt)if(t.canHandle(n)){const[i,r]=t.serialize(n);return[{type:"HANDLER",name:e,value:i},r]}return[{type:"RAW",value:n},Ent.get(n)||[]]}function q2(n){switch(n.type){case"HANDLER":return mnt.get(n.name).deserialize(n.value);case"RAW":return n.value}}function B_(n,e,t,i){return new Promise(r=>{const o=function vMt(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}();e.set(o,r),n.start&&n.start(),n.postMessage(Object.assign({id:o},t),i)})}class yMt extends IR{constructor(e,t,i){super(),this.graph=e,this.layout=t,this.options=i,this.spawnWorker()}spawnWorker(){this.proxy=ynt(new Worker(new URL("/assets/worker-D2tlLpGE.js","file:///Users/kevinhwhu-mac/Desktop/code/one-ui/node_modules/.pnpm/file+libs+graph_@antv+g6@5.0.27/node_modules/@moxa/graph/index.js"),{type:"module"})),this.running&&(this.running=!1,this.execute())}execute(){var e;return pr(this,void 0,void 0,function*(){if(this.running)return this;this.running=!0;const i=fs(this.layout.options,["onTick"]),r={};Object.keys(i).forEach(l=>{ii(i[l])||(r[l]=i[l])});const o={layout:{id:this.layout.id,options:r,iterations:null===(e=this.options)||void 0===e?void 0:e.iterations},nodes:this.graph.getAllNodes(),edges:this.graph.getAllEdges()},s=new Float32Array([0]),[a]=yield this.proxy.calculateLayout(o,[s]);return a})}stop(){return this.running=!1,this.proxy.stopLayout(),this}kill(){this.proxy[fnt]()}isRunning(){return this.running}}const j_=n=>n?parseInt(n):0;function wnt(n){if(!n)return[0,0];let e=640,t=480;const[i,r]=function MMt(n){const e=getComputedStyle(n),t=n.clientWidth||j_(e.width),i=n.clientHeight||j_(e.height);return[t-(j_(e.paddingLeft)+j_(e.paddingRight)),i-(j_(e.paddingTop)+j_(e.paddingBottom))]}(n);return e=i||e,t=r||t,[Math.max(oi(e)?e:1,1),Math.max(oi(t)?t:1,1)]}function $3(n,e=!0,t){const i=document.createElement("div");return i.setAttribute("class",`g6-${n}`),Object.assign(i.style,{position:"absolute",display:"block"}),e&&Object.assign(i.style,{inset:"0px",height:"100%",width:"100%",overflow:"hidden",pointerEvents:"none"}),t&&Object.assign(i.style,t),i}function IU(n,e="div",t={},i="",r=document.body){const o=document.getElementById(n);o&&o.remove();const s=document.createElement(e);return s.innerHTML=i,s.id=n,Object.assign(s.style,t),r.appendChild(s),s}class da extends ZC{}let DMt=(()=>{class n extends da{constructor(t,i){super(t,Object.assign({},n.defaultOptions,i)),this.$element=$3("background"),this.context.canvas.getContainer().prepend(this.$element),this.update(i)}update(t){const i=Object.create(null,{update:{get:()=>super.update}});return function(n,e,t,i){return new(t||(t=Promise))(function(o,s){function a(d){try{u(i.next(d))}catch(f){s(f)}}function l(d){try{u(i.throw(d))}catch(f){s(f)}}function u(d){d.done?o(d.value):function r(o){return o instanceof t?o:new t(function(s){s(o)})}(d.value).then(a,l)}u((i=i.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){i.update.call(this,t),Object.assign(this.$element.style,y1(this.options,["key","type"]))})}destroy(){super.destroy(),this.$element.remove()}}return n.defaultOptions={transition:"background 0.5s",backgroundSize:"cover"},n})();function RU(n,e,t,i,r,o){const l=t-n,u=i-e;let d=r-n,f=o-e,m=d*l+f*u,y=0;m<=0?y=0:(d=l-d,f=u-f,m=d*l+f*u,y=m<=0?0:m*m/(l*l+u*u));const b=d*d+f*f-y;return b<0?0:b}function rg(n,e,t,i){return(n-t)*(n-t)+(e-i)*(e-i)}function xnt(n,e,t,i,r){return rg(n,e,t,i)<r*r}function Mnt(n){const e=Math.min(n.x1,n.x2),t=Math.max(n.x1,n.x2),i=Math.min(n.y1,n.y2),r=Math.max(n.y1,n.y2);return{x:e,y:i,x2:t,y2:r,width:t-e,height:r-i}}class Ga{constructor(e,t,i,r){this.x1=e,this.y1=t,this.x2=i,this.y2=r}equals(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2}draw(e){e.moveTo(this.x1,this.y1),e.lineTo(this.x2,this.y2)}toString(){return`Line(from=(${this.x1},${this.y1}),to=(${this.x2},${this.y2}))`}static from(e){return new Ga(e.x1,e.y1,e.x2,e.y2)}cuts(e,t){return!(this.y1===this.y2||t<this.y1&&t<=this.y2||t>this.y1&&t>=this.y2||e>this.x1&&e>=this.x2)&&(e<this.x1&&e<=this.x2||e<=this.x1+(t-this.y1)*(this.x2-this.x1)/(this.y2-this.y1))}distSquare(e,t){return RU(this.x1,this.y1,this.x2,this.y2,e,t)}ptClose(e,t,i){if(this.x1<this.x2){if(e<this.x1-i||e>this.x2+i)return!1}else if(e<this.x2-i||e>this.x1+i)return!1;if(this.y1<this.y2){if(t<this.y1-i||t>this.y2+i)return!1}else if(t<this.y2-i||t>this.y1+i)return!1;return!0}}var Ls,Fs;!function(n){n[n.POINT=1]="POINT",n[n.PARALLEL=2]="PARALLEL",n[n.COINCIDENT=3]="COINCIDENT",n[n.NONE=4]="NONE"}(Ls||(Ls={}));class PU{constructor(e,t=0,i=0){this.state=e,this.x=t,this.y=i}}function NP(n,e){const t=(e.x2-e.x1)*(n.y1-e.y1)-(e.y2-e.y1)*(n.x1-e.x1),i=(n.x2-n.x1)*(n.y1-e.y1)-(n.y2-n.y1)*(n.x1-e.x1),r=(e.y2-e.y1)*(n.x2-n.x1)-(e.x2-e.x1)*(n.y2-n.y1);if(r){const o=t/r,s=i/r;return 0<=o&&o<=1&&0<=s&&s<=1?new PU(Ls.POINT,n.x1+o*(n.x2-n.x1),n.y1+o*(n.y2-n.y1)):new PU(Ls.NONE)}return new PU(0===t||0===i?Ls.COINCIDENT:Ls.PARALLEL)}function Cnt(n,e){const r=(e.y2-e.y1)*(n.x2-n.x1)-(e.x2-e.x1)*(n.y2-n.y1);if(r){const o=((e.x2-e.x1)*(n.y1-e.y1)-(e.y2-e.y1)*(n.x1-e.x1))/r,s=((n.x2-n.x1)*(n.y1-e.y1)-(n.y2-n.y1)*(n.x1-e.x1))/r;if(0<=o&&o<=1&&0<=s&&s<=1)return o}return Number.POSITIVE_INFINITY}function LP(n,e,t){const i=new Set;return n.width<=0?(i.add(Fs.LEFT),i.add(Fs.RIGHT)):e<n.x?i.add(Fs.LEFT):e>n.x+n.width&&i.add(Fs.RIGHT),n.height<=0?(i.add(Fs.TOP),i.add(Fs.BOTTOM)):t<n.y?i.add(Fs.TOP):t>n.y+n.height&&i.add(Fs.BOTTOM),i}function Snt(n,e){let t=e.x1,i=e.y1;const r=e.x2,o=e.y2,s=Array.from(LP(n,r,o));if(0===s.length)return!0;let a=LP(n,t,i);for(;0!==a.size;){for(const l of s)if(a.has(l))return!1;if(a.has(Fs.RIGHT)||a.has(Fs.LEFT)){let l=n.x;a.has(Fs.RIGHT)&&(l+=n.width),i+=(l-t)*(o-i)/(r-t),t=l}else{let l=n.y;a.has(Fs.BOTTOM)&&(l+=n.height),t+=(l-i)*(r-t)/(o-i),i=l}a=LP(n,t,i)}return!0}function OMt(n,e){let t=Number.POSITIVE_INFINITY,i=0;function r(o,s,a,l){let u=Cnt(e,new Ga(o,s,a,l));u=Math.abs(u-.5),u>=0&&u<=1&&(i++,u<t&&(t=u))}return r(n.x,n.y,n.x2,n.y),r(n.x,n.y,n.x,n.y2),i>1||(r(n.x,n.y2,n.x2,n.y2),i>1)?t:(r(n.x2,n.y,n.x2,n.y2),0===i?-1:t)}function kMt(n,e){let t=0;const i=NP(n,new Ga(e.x,e.y,e.x2,e.y));t+=i.state===Ls.POINT?1:0;const r=NP(n,new Ga(e.x,e.y,e.x,e.y2));t+=r.state===Ls.POINT?1:0;const o=NP(n,new Ga(e.x,e.y2,e.x2,e.y2));t+=o.state===Ls.POINT?1:0;const s=NP(n,new Ga(e.x2,e.y,e.x2,e.y2));return t+=s.state===Ls.POINT?1:0,{top:i,left:r,bottom:o,right:s,count:t}}!function(n){n[n.LEFT=0]="LEFT",n[n.TOP=1]="TOP",n[n.RIGHT=2]="RIGHT",n[n.BOTTOM=3]="BOTTOM"}(Fs||(Fs={}));class kl{constructor(e,t,i,r){this.x=e,this.y=t,this.width=i,this.height=r}get x2(){return this.x+this.width}get y2(){return this.y+this.height}get cx(){return this.x+this.width/2}get cy(){return this.y+this.height/2}get radius(){return Math.max(this.width,this.height)/2}static from(e){return new kl(e.x,e.y,e.width,e.height)}equals(e){return this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height}clone(){return new kl(this.x,this.y,this.width,this.height)}add(e){const t=Math.min(this.x,e.x),i=Math.min(this.y,e.y),r=Math.max(this.x2,e.x+e.width),o=Math.max(this.y2,e.y+e.height);this.x=t,this.y=i,this.width=r-t,this.height=o-i}addPoint(e){const t=Math.min(this.x,e.x),i=Math.min(this.y,e.y),r=Math.max(this.x2,e.x),o=Math.max(this.y2,e.y);this.x=t,this.y=i,this.width=r-t,this.height=o-i}toString(){return`Rectangle[x=${this.x}, y=${this.y}, w=${this.width}, h=${this.height}]`}draw(e){e.rect(this.x,this.y,this.width,this.height)}containsPt(e,t){return e>=this.x&&e<=this.x2&&t>=this.y&&t<=this.y2}get area(){return this.width*this.height}intersects(e){return!(this.area<=0||e.width<=0||e.height<=0)&&e.x+e.width>this.x&&e.y+e.height>this.y&&e.x<this.x2&&e.y<this.y2}distSquare(e,t){if(this.containsPt(e,t))return 0;const i=LP(this,e,t);return i.has(Fs.TOP)?i.has(Fs.LEFT)?rg(e,t,this.x,this.y):i.has(Fs.RIGHT)?rg(e,t,this.x2,this.y):(this.y-t)*(this.y-t):i.has(Fs.BOTTOM)?i.has(Fs.LEFT)?rg(e,t,this.x,this.y2):i.has(Fs.RIGHT)?rg(e,t,this.x2,this.y2):(t-this.y2)*(t-this.y2):i.has(Fs.LEFT)?(this.x-e)*(this.x-e):i.has(Fs.RIGHT)?(e-this.x2)*(e-this.x2):0}}class FP{constructor(e,t,i){this.cx=e,this.cy=t,this.radius=i}get x(){return this.cx-this.radius}get x2(){return this.cx+this.radius}get width(){return 2*this.radius}get y(){return this.cy-this.radius}get y2(){return this.cy+this.radius}get height(){return 2*this.radius}static from(e){return new FP(e.cx,e.cy,e.radius)}containsPt(e,t){return rg(this.cx,this.cy,e,t)<this.radius*this.radius}distSquare(e,t){const i=rg(this.cx,this.cy,e,t);if(i<this.radius*this.radius)return 0;const r=Math.sqrt(i)-this.radius;return r*r}draw(e){e.ellipse(this.cx,this.cy,this.radius,this.radius,0,0,2*Math.PI)}}class J2{constructor(e,t=0,i=0,r=0,o=0,s=10,a=10,l=new Float32Array(Math.max(0,s*a)).fill(0)){this.pixelGroup=e,this.i=t,this.j=i,this.pixelX=r,this.pixelY=o,this.width=s,this.height=a,this.area=l}createSub(e,t){return new J2(this.pixelGroup,e.x,e.y,t.x,t.y,e.width,e.height)}static fromPixelRegion(e,t){return new J2(t,0,0,e.x,e.y,Math.ceil(e.width/t),Math.ceil(e.height/t))}copy(e,t){return new J2(this.pixelGroup,this.scaleX(t.x),this.scaleY(t.y),t.x,t.y,e.width,e.height,e.area)}boundX(e){return e<this.i?this.i:e>=this.width?this.width-1:e}boundY(e){return e<this.j?this.j:e>=this.height?this.height-1:e}scaleX(e){return this.boundX(Math.floor((e-this.pixelX)/this.pixelGroup))}scaleY(e){return this.boundY(Math.floor((e-this.pixelY)/this.pixelGroup))}scale(e){const t=this.scaleX(e.x),i=this.scaleY(e.y),r=this.boundX(Math.ceil((e.x+e.width-this.pixelX)/this.pixelGroup)),o=this.boundY(Math.ceil((e.y+e.height-this.pixelY)/this.pixelGroup));return new kl(t,i,r-t,o-i)}invertScaleX(e){return Math.round(e*this.pixelGroup+this.pixelX)}invertScaleY(e){return Math.round(e*this.pixelGroup+this.pixelY)}addPadding(e,t){const i=Math.ceil(t/this.pixelGroup),r=this.boundX(e.x-i),o=this.boundY(e.y-i),s=this.boundX(e.x2+i),a=this.boundY(e.y2+i);return new kl(r,o,s-r,a-o)}get(e,t){return e<0||t<0||e>=this.width||t>=this.height?Number.NaN:this.area[e+t*this.width]}inc(e,t,i){e<0||t<0||e>=this.width||t>=this.height||(this.area[e+t*this.width]+=i)}set(e,t,i){e<0||t<0||e>=this.width||t>=this.height||(this.area[e+t*this.width]=i)}incArea(e,t){if(e.width<=0||e.height<=0||0===t)return;const i=this.width,r=e.width,o=Math.max(0,e.i),s=Math.max(0,e.j),a=Math.min(e.i+e.width,i),l=Math.min(e.j+e.height,this.height);if(!(l<=0||a<=0||o>=i||l>=this.height))for(let u=s;u<l;u++){const d=(u-e.j)*r,f=u*i;for(let m=o;m<a;m++){const y=e.area[m-e.i+d];0!==y&&(this.area[m+f]+=t*y)}}}fill(e){this.area.fill(e)}fillArea(e,t){const i=e.x+e.y*this.width;for(let r=0;r<e.height;r++){const o=i+r*this.width;this.area.fill(t,o,o+e.width)}}fillHorizontalLine(e,t,i,r){const o=e+t*this.width;this.area.fill(r,o,o+i)}fillVerticalLine(e,t,i,r){const o=e+t*this.width;for(let s=0;s<i;s++)this.area[o+s*this.width]=r}clear(){this.area.fill(0)}toString(){let e="";for(let t=0;t<this.height;t++){const i=t*this.width;for(let r=0;r<this.width;r++)e+=this.area[i+r].toFixed(1).padStart(6),e+=" ";e+="\n"}return e}draw(e,t=!0){if(this.width<=0||this.height<=0)return;e.save(),t&&e.translate(this.pixelX,this.pixelY);const i=this.area.reduce((s,a)=>Math.min(s,a),Number.POSITIVE_INFINITY),r=this.area.reduce((s,a)=>Math.max(s,a),Number.NEGATIVE_INFINITY),o=s=>(s-i)/(r-i);e.scale(this.pixelGroup,this.pixelGroup);for(let s=0;s<this.width;s++)for(let a=0;a<this.height;a++)e.fillStyle=`rgba(0, 0, 0, ${o(this.area[s+a*this.width])})`,e.fillRect(s,a,1,1);e.restore()}drawThreshold(e,t,i=!0){if(!(this.width<=0||this.height<=0)){e.save(),i&&e.translate(this.pixelX,this.pixelY),e.scale(this.pixelGroup,this.pixelGroup);for(let r=0;r<this.width;r++)for(let o=0;o<this.height;o++)e.fillStyle=this.area[r+o*this.width]>t?"black":"white",e.fillRect(r,o,1,1);e.restore()}}}function Dnt(n,e){const t=i=>({x:i.x-e,y:i.y-e,width:i.width+2*e,height:i.height+2*e});return Array.isArray(n)?n.map(t):t(n)}function Tnt(n,e,t){return Ant(Object.assign(Mnt(n),{distSquare:(i,r)=>RU(n.x1,n.y1,n.x2,n.y2,i,r)}),e,t)}function Ant(n,e,t){const i=Dnt(n,t),r=e.scale(i),o=e.createSub(r,i);return function RMt(n,e,t,i){const r=t*t;for(let o=0;o<n.height;o++)for(let s=0;s<n.width;s++){const u=i(e.invertScaleX(n.i+s),e.invertScaleY(n.j+o));if(0!==u){if(u<r){const d=t-Math.sqrt(u);n.set(s,o,d*d)}}else n.set(s,o,r)}}(o,e,t,(s,a)=>n.distSquare(s,a)),o}function hs(n,e){return{x:n,y:e}}function BP(n,e){return e.some(t=>t.containsPt(n.x,n.y))}function og(n,e){return e.some(t=>!(!xnt(t.x1,t.y1,n.x,n.y,.001)&&!xnt(t.x2,t.y2,n.x,n.y,.001)))}function Ont(n,e){let t=Number.POSITIVE_INFINITY,i=null;for(const r of n){if(!Snt(r,e))continue;const o=OMt(r,e);o>=0&&o<t&&(i=r,t=o)}return i}function jP(n,e,t,i){const r=t.top,o=t.left,s=t.bottom,a=t.right;if(i){if(o.state===Ls.POINT)return r.state===Ls.POINT?hs(n.x-e,n.y-e):s.state===Ls.POINT?hs(n.x-e,n.y2+e):n.width*(.5*(o.y-n.y+(a.y-n.y)))<n.width*n.height*.5?hs(o.y>a.y?n.x-e:n.x2+e,n.y-e):hs(o.y<a.y?n.x-e:n.x2+e,n.y2+e);if(a.state===Ls.POINT){if(r.state===Ls.POINT)return hs(n.x2+e,n.y-e);if(s.state===Ls.POINT)return hs(n.x2+e,n.y2+e)}return n.height*(.5*(r.x-n.x+(a.x-n.x)))<n.height*n.width*.5?hs(n.x-e,r.x>s.x?n.y-e:n.y2+e):hs(n.x2+e,r.x<s.x?n.y-e:n.y2+e)}if(o.state===Ls.POINT)return r.state===Ls.POINT?hs(n.x2+e,n.y2+e):s.state===Ls.POINT?hs(n.x2+e,n.y-e):n.width*(.5*(o.y-n.y+(a.y-n.y)))<n.height*n.width*.5?hs(o.y>a.y?n.x2+e:n.x-e,n.y2+e):hs(o.y<a.y?n.x2+e:n.x-e,n.y-e);if(a.state===Ls.POINT){if(r.state===Ls.POINT)return hs(n.x-e,n.y2+e);if(s.state===Ls.POINT)return hs(n.x-e,n.y-e)}return n.height*(.5*(r.x-n.x+(a.x-n.x)))<n.height*n.width*.5?hs(n.x2+e,r.x>s.x?n.y2+e:n.y-e):hs(n.x-e,r.x<s.x?n.y2+e:n.y-e)}function UMt(n,e,t,i){if(!(n.closed?t<n.length:t<n.length-1))return!1;const r=n.get(e),o=n.get(t+1);for(let s=e+1;s<=t;s++){const a=n.get(s);if(RU(r.x,r.y,o.x,o.y,a.x,a.y)>i)return!1}return!0}function GMt(n,e){switch(n){case-2:return(((3-e)*e-3)*e+1)/6;case-1:return((3*e-6)*e*e+4)/6;case 0:return(((-3*e+3)*e+3)*e+1)/6;case 1:return e*e*e/6;default:throw new Error("unknown error")}}class V_{constructor(e=[],t=!0){this.points=e,this.closed=t}get(e){const t=e,i=this.points.length;return e<0?this.closed?this.get(e+i):this.points[0]:e>=i?this.closed?this.get(e-i):this.points[i-1]:this.points[t]}get length(){return this.points.length}toString(e=1/0){const t=this.points;if(0===t.length)return"";const i="function"==typeof e?e:function TMt(n){if(!Number.isFinite(n))return t=>t;if(0===n)return Math.round;const e=Math.pow(10,n);return t=>Math.round(t*e)/e}(e);let r="M";for(const o of t)r+=`${i(o.x)},${i(o.y)} L`;return r=r.slice(0,-1),this.closed&&(r+=" Z"),r}draw(e){const t=this.points;if(0!==t.length){e.beginPath(),e.moveTo(t[0].x,t[0].y);for(const i of t)e.lineTo(i.x,i.y);this.closed&&e.closePath()}}sample(e){return function WMt(n=8){return e=>{let t=n,i=e.length;if(t>1)for(i=Math.floor(e.length/t);i<3&&t>1;)t-=1,i=Math.floor(e.length/t);const r=[];for(let o=0,s=0;s<i;s++,o+=t)r.push(e.get(o));return new V_(r)}}(e)(this)}simplify(e){return function HMt(n=0){return e=>{if(n<0||e.length<3)return e;const t=[];let i=0;const r=n*n;for(;i<e.length;){let o=i+1;for(;UMt(e,i,o,r);)o++;t.push(e.get(i)),i=o}return new V_(t)}}(e)(this)}bSplines(e){return function $Mt(n=6){function e(t,i,r){let o=0,s=0;for(let a=-2;a<=1;a++){const l=t.get(i+a),u=GMt(a,r);o+=u*l.x,s+=u*l.y}return{x:o,y:s}}return t=>{if(t.length<3)return t;const i=[],r=t.closed,o=t.length+3-1+(r?0:2);i.push(e(t,2-(r?0:2),0));for(let s=2-(r?0:2);s<o;s++)for(let a=1;a<=n;a++)i.push(e(t,s,a/n));return new V_(i)}}(e)(this)}apply(e){return e(this)}containsElements(e){const t=function IMt(n){if(0===n.length)return null;const e=n[0],t=new kl(e.x,e.y,0,0);for(const i of n)t.addPoint(i);return t}(this.points);return!!t&&e.every(i=>t.containsPt(i.cx,i.cy)&&this.withinArea(i.cx,i.cy))}withinArea(e,t){if(0===this.length)return!1;let i=0;const r=this.points[0],o=new Ga(r.x,r.y,r.x,r.y);for(let s=1;s<this.points.length;s++){const a=this.points[s];o.x1=o.x2,o.y1=o.y2,o.x2=a.x,o.y2=a.y,o.cuts(e,t)&&i++}return o.x1=o.x2,o.y1=o.y2,o.x2=r.x,o.y2=r.y,o.cuts(e,t)&&i++,i%2==1}}class KMt{constructor(e=0){this.count=0,this.arr=[],this.set=new Set,this.arr.length=e}add(e){this.set.add(`${e.x}x${e.y}`),this.arr[this.count++]=e}contains(e){return this.set.has(`${e.x}x${e.y}`)}isFirst(e){if(0===this.count)return!1;const t=this.arr[0];return null!=t&&t.x===e.x&&t.y===e.y}path(){return new V_(this.arr.slice(0,this.count))}clear(){this.set.clear(),this.count=0}get(e){return this.arr[e]}get length(){return this.count}}function XMt(n,e){const t=2*(Math.floor(n.width)+Math.floor(n.height)),i=new KMt(t);function r(l,u,d,f){const m=n.get(l,u);return Number.isNaN(m)?Number.NaN:m>e?d+f:d}function o(l,u){let d=0;return d=r(l,u,d,1),d=r(l+1,u,d,2),d=r(l,u+1,d,4),d=r(l+1,u+1,d,8),Number.isNaN(d)?-1:d}let s=1;function a(l,u){let d=l,f=u,m=n.invertScaleX(d),y=n.invertScaleY(f);for(let b=0;b<n.width*n.height;b++){const E={x:m,y};if(i.contains(E)){if(i.isFirst(E))return!0}else i.add(E);const w=o(d,f);switch(w){case-1:return!0;case 0:case 3:case 2:case 7:s=2;break;case 12:case 14:case 4:s=3;break;case 6:s=0===s?3:2;break;case 1:case 13:case 5:s=0;break;case 9:s=2===s?0:1;break;case 10:case 8:case 11:s=1;break;default:return console.warn("Marching squares invalid state: "+w),!0}switch(s){case 0:f--,y-=n.pixelGroup;break;case 1:f++,y+=n.pixelGroup;break;case 3:d--,m-=n.pixelGroup;break;case 2:d++,m+=n.pixelGroup;break;default:return console.warn("Marching squares invalid state: "+w),!0}}return!0}for(let l=0;l<n.width;l++)for(let u=0;u<n.height;u++){if(n.get(l,u)<=e)continue;const d=o(l,u);if(!(d<0||15===d)&&a(l,u))return i.path()}return null}const UP={maxRoutingIterations:100,maxMarchingIterations:20,pixelGroup:4,edgeR0:10,edgeR1:20,nodeR0:15,nodeR1:50,morphBuffer:10,threshold:1,memberInfluenceFactor:1,edgeInfluenceFactor:1,nonMemberInfluenceFactor:-.8,virtualEdges:!0};function K3(n){return null!=n&&"number"==typeof n.radius}function knt(n,e){return K3(n)===K3(e)&&(K3(n)?n.cx===e.cx&&n.cy===e.cy&&n.radius===e.radius:n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height)}var Mh;!function(n){n[n.MEMBERS=0]="MEMBERS",n[n.NON_MEMBERS=1]="NON_MEMBERS",n[n.EDGES=2]="EDGES"}(Mh||(Mh={}));let Int=class{constructor(n={}){this.dirty=new Set,this.members=[],this.nonMembers=[],this.virtualEdges=[],this.edges=[],this.activeRegion=new kl(0,0,0,0),this.potentialArea=new J2(1,0,0,0,0,0,0),this.o=Object.assign({},UP,n)}pushMember(...n){if(0!==n.length){this.dirty.add(Mh.MEMBERS);for(const e of n)this.members.push({raw:e,obj:K3(e)?FP.from(e):kl.from(e),area:null})}}removeMember(n){const e=this.members.findIndex(t=>knt(t.raw,n));return!(e<0||(this.members.splice(e,1),this.dirty.add(Mh.MEMBERS),0))}removeNonMember(n){const e=this.nonMembers.findIndex(t=>knt(t.raw,n));return!(e<0||(this.nonMembers.splice(e,1),this.dirty.add(Mh.NON_MEMBERS),0))}removeEdge(n){const e=this.edges.findIndex(t=>t.obj.equals(n));return!(e<0||(this.edges.splice(e,1),this.dirty.add(Mh.NON_MEMBERS),0))}pushNonMember(...n){if(0!==n.length){this.dirty.add(Mh.NON_MEMBERS);for(const e of n)this.nonMembers.push({raw:e,obj:K3(e)?FP.from(e):kl.from(e),area:null})}}pushEdge(...n){if(0!==n.length){this.dirty.add(Mh.EDGES);for(const e of n)this.edges.push({raw:e,obj:Ga.from(e),area:null})}}update(){const n=this.dirty.has(Mh.MEMBERS),e=this.dirty.has(Mh.NON_MEMBERS);let t=this.dirty.has(Mh.EDGES);this.dirty.clear();const i=this.members.map(l=>l.obj);if(this.o.virtualEdges&&(n||e)){const u=function NMt(n,e,t,i){if(0===n.length)return[];const r=function VMt(n){if(n.length<2)return n;let e=0,t=0;return n.forEach(i=>{e+=i.cx,t+=i.cy}),e/=n.length,t/=n.length,n.map(i=>{const r=e-i.cx,o=t-i.cy;return[i,r*r+o*o]}).sort((i,r)=>i[1]-r[1]).map(i=>i[0])}(n);return r.map((o,s)=>{const a=r.slice(0,s);return function LMt(n,e,t,i,r){const o=hs(e.cx,e.cy),s=function jMt(n,e,t){let i=Number.POSITIVE_INFINITY;return e.reduce((r,o)=>{const s=rg(n.x,n.y,o.cx,o.cy);if(s>i)return r;const a=new Ga(n.x,n.y,o.cx,o.cy),l=function zMt(n,e){return n.reduce((t,i)=>Snt(i,e)&&function AMt(n,e){function t(r,o,s,a){let l=Cnt(e,new Ga(r,o,s,a));return l=Math.abs(l-.5),l>=0&&l<=1?1:0}let i=t(n.x,n.y,n.x2,n.y);return i+=t(n.x,n.y,n.x,n.y2),i>1||(i+=t(n.x,n.y2,n.x2,n.y2),i>1)||(i+=t(n.x2,n.y,n.x2,n.y2),i>0)}(i,e)?t+1:t,0)}(t,a);return s*(l+1)*(l+1)<i&&(r=o,i=s*(l+1)*(l+1)),r},null)}(o,t,n);if(null==s)return[];const l=function FMt(n,e,t,i){const r=[],o=[];o.push(n);let s=!0;for(let a=0;a<t&&s;a++)for(s=!1;!s&&o.length>0;){const l=o.pop(),u=Ont(e,l),d=u?kMt(l,u):null;if(!u||!d||2!==d.count){s||r.push(l);continue}let f=i,m=jP(u,f,d,!0),y=og(m,o)||og(m,r),b=BP(m,e);for(;!y&&b&&f>=1;)f/=1.5,m=jP(u,f,d,!0),y=og(m,o)||og(m,r),b=BP(m,e);if(m&&!y&&!b&&(o.push(new Ga(l.x1,l.y1,m.x,m.y)),o.push(new Ga(m.x,m.y,l.x2,l.y2)),s=!0),s)continue;f=i,m=jP(u,f,d,!1);let E=og(m,o)||og(m,r);for(b=BP(m,e);!E&&b&&f>=1;)f/=1.5,m=jP(u,f,d,!1),E=og(m,o)||og(m,r),b=BP(m,e);m&&!E&&(o.push(new Ga(l.x1,l.y1,m.x,m.y)),o.push(new Ga(m.x,m.y,l.x2,l.y2)),s=!0),s||r.push(l)}for(;o.length>0;)r.push(o.pop());return r}(new Ga(o.x,o.y,s.cx,s.cy),n,i,r);return function BMt(n,e){const t=[];for(;n.length>0;){const i=n.pop();if(0===n.length){t.push(i);break}const r=n.pop(),o=new Ga(i.x1,i.y1,r.x2,r.y2);Ont(e,o)?(t.push(i),n.push(r)):n.push(o)}return t}(l,n)}(e,o,a,t,i)}).flat()}(i,this.nonMembers.map(f=>f.obj),this.o.maxRoutingIterations,this.o.morphBuffer),d=new Map(this.virtualEdges.map(f=>[f.obj.toString(),f.area]));this.virtualEdges=u.map(f=>{var m;return{raw:f,obj:f,area:null!==(m=d.get(f.toString()))&&void 0!==m?m:null}}),t=!0}let r=!1;if(n||t){const u=function ZMt(n,e){if(0===n.length)return new kl(0,0,0,0);const t=kl.from(n[0]);for(const i of n)t.add(i);for(const i of e)t.add(Mnt(i));return t}(i,this.virtualEdges.concat(this.edges).map(m=>m.obj)),d=Math.max(this.o.edgeR1,this.o.nodeR1)+this.o.morphBuffer,f=kl.from(Dnt(u,d));f.equals(this.activeRegion)||(r=!0,this.activeRegion=f)}if(r){const l=Math.ceil(this.activeRegion.width/this.o.pixelGroup),u=Math.ceil(this.activeRegion.height/this.o.pixelGroup);this.activeRegion.x!==this.potentialArea.pixelX||this.activeRegion.y!==this.potentialArea.pixelY?(this.potentialArea=J2.fromPixelRegion(this.activeRegion,this.o.pixelGroup),this.members.forEach(d=>d.area=null),this.nonMembers.forEach(d=>d.area=null),this.edges.forEach(d=>d.area=null),this.virtualEdges.forEach(d=>d.area=null)):(l!==this.potentialArea.width||u!==this.potentialArea.height)&&(this.potentialArea=J2.fromPixelRegion(this.activeRegion,this.o.pixelGroup))}const o=new Map,s=l=>{l.area&&o.set(`${l.obj.width}x${l.obj.height}x${l.obj instanceof kl?"R":"C"}`,l.area)},a=l=>{if(l.area)return;const u=`${l.obj.width}x${l.obj.height}x${l.obj instanceof kl?"R":"C"}`;if(o.has(u)){const f=o.get(u);return void(l.area=this.potentialArea.copy(f,{x:l.obj.x-this.o.nodeR1,y:l.obj.y-this.o.nodeR1}))}const d=l.obj instanceof kl?function PMt(n,e,t){const i=e.scale(n),r=e.addPadding(i,t),o=e.createSub(r,{x:n.x-t,y:n.y-t}),s=i.x-r.x,a=i.y-r.y,l=r.x2-i.x2,u=r.y2-i.y2,d=r.width-s-l,f=r.height-a-u,m=t*t;o.fillArea({x:s,y:a,width:d+1,height:f+1},m);const y=[0],b=Math.max(a,s,l,u);{const x=e.invertScaleX(i.x+i.width/2);for(let D=1;D<b;D++){const k=e.invertScaleY(i.y-D),T=n.distSquare(x,k);if(!(T<m))break;{const O=t-Math.sqrt(T);y.push(O*O)}}}const E=[],w=Math.max(s,l),M=Math.max(a,l);for(let x=1;x<w;x++){const D=e.invertScaleX(i.x-x),k=[];for(let T=1;T<M;T++){const O=e.invertScaleY(i.y-T),R=n.distSquare(D,O);if(R<m){const L=t-Math.sqrt(R);k.push(L*L)}else k.push(0)}E.push(k)}for(let x=1;x<Math.min(a,y.length);x++)o.fillHorizontalLine(s,a-x,d+1,y[x]);for(let x=1;x<Math.min(u,y.length);x++)o.fillHorizontalLine(s,a+f+x,d+1,y[x]);for(let x=1;x<Math.min(s,y.length);x++)o.fillVerticalLine(s-x,a,f+1,y[x]);for(let x=1;x<Math.min(u,y.length);x++)o.fillVerticalLine(s+d+x,a,f+1,y[x]);for(let x=1;x<s;x++){const D=E[x-1],k=s-x;for(let T=1;T<a;T++)o.set(k,a-T,D[T-1]);for(let T=1;T<u;T++)o.set(k,a+f+T,D[T-1])}for(let x=1;x<l;x++){const D=E[x-1],k=s+d+x;for(let T=1;T<a;T++)o.set(k,a-T,D[T-1]);for(let T=1;T<u;T++)o.set(k,a+f+T,D[T-1])}return o}(l.obj,this.potentialArea,this.o.nodeR1):Ant(l.obj,this.potentialArea,this.o.nodeR1);l.area=d,o.set(u,d)};this.members.forEach(s),this.nonMembers.forEach(s),this.members.forEach(a),this.nonMembers.forEach(l=>{this.activeRegion.intersects(l.obj)?a(l):l.area=null}),this.edges.forEach(l=>{l.area||(l.area=Tnt(l.obj,this.potentialArea,this.o.edgeR1))}),this.virtualEdges.forEach(l=>{l.area||(l.area=Tnt(l.obj,this.potentialArea,this.o.edgeR1))})}drawMembers(n){for(const e of this.members)e.obj.draw(n)}drawNonMembers(n){for(const e of this.nonMembers)e.obj.draw(n)}drawEdges(n){for(const e of this.edges)e.obj.draw(n)}drawPotentialArea(n,e=!0){this.potentialArea.draw(n,e)}compute(){if(0===this.members.length)return new V_([]);this.dirty.size>0&&this.update();const{o:n,potentialArea:e}=this,t=this.members.map(s=>s.area),i=this.virtualEdges.concat(this.edges).map(s=>s.area),r=this.nonMembers.filter(s=>null!=s.area).map(s=>s.area),o=this.members.map(s=>s.obj);return function YMt(n,e,t,i,r,o={}){const s=Object.assign({},UP,o);let a=s.threshold,l=s.memberInfluenceFactor,u=s.edgeInfluenceFactor,d=s.nonMemberInfluenceFactor;const f=(s.nodeR0-s.nodeR1)*(s.nodeR0-s.nodeR1),m=(s.edgeR0-s.edgeR1)*(s.edgeR0-s.edgeR1);for(let y=0;y<s.maxMarchingIterations;y++){if(n.clear(),0!==l){const E=l/f;for(const w of e)n.incArea(w,E)}if(0!==u){const E=u/m;for(const w of t)n.incArea(w,E)}if(0!==d){const E=d/f;for(const w of i)n.incArea(w,E)}const b=XMt(n,a);if(b&&r(b))return b;if(a*=.95,y<=.5*s.maxMarchingIterations)l*=1.2,u*=1.2;else{if(!(0!==d&&i.length>0))break;d*=.8}}return new V_([])}(e,t,i,r,s=>s.containsElements(o),n)}};class HP extends da{constructor(e,t){super(e,La({},HP.defaultOptions,t)),this.members=new Map,this.avoidMembers=new Map,this.bubbleSetOptions={},this.drawBubbleSets=()=>{const{style:i,bubbleSetOptions:r}=this.parseOptions();Xo(this.bubbleSetOptions,r)||this.init(),this.bubbleSetOptions=Object.assign({},r);const o=Object.assign(Object.assign({},i),{d:this.getPath()});this.shape?this.shape.update(o):(this.shape=new iR({style:o}),this.context.canvas.appendChild(this.shape))},this.updateBubbleSetsPath=i=>{if(!this.shape)return;const r=We(i.data);[...this.options.members,...this.options.avoidMembers].includes(r)&&this.shape.update(Object.assign(Object.assign({},this.parseOptions().style),{d:this.getPath(r)}))},this.getPath=i=>{const{graph:r}=this.context,o=this.options.members,s=[...this.members.keys()],a=this.options.avoidMembers,l=[...this.avoidMembers.keys()];if(!i&&Xo(o,s)&&Xo(a,l))return this.path;const{enter:u=[],exit:d=[]}=Kp(s,o,E=>E),{enter:f=[],exit:m=[]}=Kp(l,a,E=>E);i&&(d.push(i),u.push(i));const y=(E,w,M)=>{E.forEach(x=>{const D=M?this.members:this.avoidMembers,k=M?"pushMember":"pushNonMember",T=M?"removeMember":"removeNonMember";if(w){let O;"edge"===r.getElementType(x)?([O]=JMt(r,x),this.bubbleSets.pushEdge(O)):([O]=qMt(r,x),this.bubbleSets[k](O)),D.set(x,O)}else{const O=D.get(x);O&&("edge"===r.getElementType(x)?this.bubbleSets.removeEdge(O):this.bubbleSets[T](O),D.delete(x))}})};y(d,!1,!0),y(u,!0,!0),y(m,!1,!1),y(f,!0,!1);const b=this.bubbleSets.compute().sample(8).simplify(0).bSplines().simplify(0);return this.path=nR(b.points.map(Ua)),this.path},this.bindEvents(),this.bubbleSets=new Int(this.options)}bindEvents(){this.context.graph.on(Dn.AFTER_RENDER,this.drawBubbleSets),this.context.graph.on(Dn.AFTER_ELEMENT_UPDATE,this.updateBubbleSetsPath)}init(){this.bubbleSets=new Int(this.options),this.members=new Map,this.avoidMembers=new Map}parseOptions(){const e=this.options,{type:t,key:i,members:r,avoidMembers:o}=e,s=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t}(e,["type","key","members","avoidMembers"]),a=Object.keys(s).reduce((l,u)=>(u in UP?l.bubbleSetOptions[u]=s[u]:l.style[u]=s[u],l),{style:{},bubbleSetOptions:{}});return Object.assign({type:t,key:i,members:r,avoidMembers:o},a)}addMember(e){const t=Array.isArray(e)?e:[e];t.some(i=>this.options.avoidMembers.includes(i))&&(this.options.avoidMembers=this.options.avoidMembers.filter(i=>!t.includes(i))),this.options.members=[...new Set([...this.options.members,...t])],this.drawBubbleSets()}removeMember(e){const t=Array.isArray(e)?e:[e];this.options.members=this.options.members.filter(i=>!t.includes(i)),this.drawBubbleSets()}updateMember(e){this.options.members=ii(e)?e(this.options.members):e,this.drawBubbleSets()}getMember(){return this.options.members}addAvoidMember(e){const t=Array.isArray(e)?e:[e];t.some(i=>this.options.members.includes(i))&&(this.options.members=this.options.members.filter(i=>!t.includes(i))),this.options.avoidMembers=[...new Set([...this.options.avoidMembers,...t])],this.drawBubbleSets()}removeAvoidMember(e){const t=Array.isArray(e)?e:[e];this.options.avoidMembers.some(i=>t.includes(i))&&(this.options.avoidMembers=this.options.avoidMembers.filter(i=>!t.includes(i)),this.drawBubbleSets())}updateAvoidMember(e){this.options.avoidMembers=Array.isArray(e)?e:[e],this.drawBubbleSets()}getAvoidMember(){return this.options.avoidMembers}destroy(){this.context.graph.off(Dn.AFTER_RENDER,this.drawBubbleSets),this.context.graph.off(Dn.AFTER_ELEMENT_UPDATE,this.updateBubbleSetsPath),this.shape.destroy(),super.destroy()}}HP.defaultOptions=Object.assign({members:[],avoidMembers:[],fill:"lightblue",fillOpacity:.2,stroke:"blue",strokeOpacity:.2},UP);const qMt=(n,e)=>(Array.isArray(e)?e:[e]).map(t=>{const i=n.getElementRenderBounds(t);return new kl(i.min[0],i.min[1],hh(i),dd(i))}),JMt=(n,e)=>(Array.isArray(e)?e:[e]).map(t=>{const i=n.getEdgeData(t),r=n.getElementPosition(i.source),o=n.getElementPosition(i.target);return Ga.from({x1:r[0],y1:r[1],x2:o[0],y2:o[1]})});var Rnt=function(n,e,t,i){return new(t||(t=Promise))(function(o,s){function a(d){try{u(i.next(d))}catch(f){s(f)}}function l(d){try{u(i.throw(d))}catch(f){s(f)}}function u(d){d.done?o(d.value):function r(o){return o instanceof t?o:new t(function(s){s(o)})}(d.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};let nCt=(()=>{class n extends da{constructor(t,i){super(t,Object.assign({},n.defaultOptions,i)),this.targetElement=null,this.onTriggerEvent=r=>{var o;null===(o=r.preventDefault)||void 0===o||o.call(r),this.show(r)},this.onMenuItemClick=r=>{const{onClick:o,trigger:s}=this.options;if(r.target instanceof HTMLElement&&r.target.className.includes("g6-contextmenu-li")){const a=r.target.getAttribute("value");o?.(a,r.target,this.targetElement),this.hide()}"click"!==s&&this.hide()},this.initElement(),this.update(i)}initElement(){this.$element=$3("contextmenu",!1,{zIndex:"99"});const{className:t}=this.options;t&&this.$element.classList.add(t),this.context.canvas.getContainer().appendChild(this.$element),IU("g6-contextmenu-css","style",{},"\n  .g6-contextmenu {\n    font-size: 12px;\n    background-color: rgba(255, 255, 255, 0.96);\n    border-radius: 4px;\n    overflow: hidden;\n    box-shadow: rgba(0, 0, 0, 0.12) 0px 6px 12px 0px;\n    transition: visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1) 0s, left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s;\n  }\n\n  .g6-contextmenu-ul {\n    max-width: 256px;\n    min-width: 96px;\n    list-style: none;\n    padding: 0;\n    margin: 0;\n  }\n\n  .g6-contextmenu-li {\n    padding: 8px 12px;\n    cursor: pointer;\n    user-select: none;\n  }\n\n  .g6-contextmenu-li:hover {\n    background-color: #f5f5f5;\n    cursor: pointer;\n  }\n",document.head)}show(t){return Rnt(this,void 0,void 0,function*(){const{enable:i,offset:r}=this.options;if("function"==typeof i&&!i(t)||!i)return void this.hide();const o=yield this.getDOMContent(t);o instanceof HTMLElement?(this.$element.innerHTML="",this.$element.appendChild(o)):this.$element.innerHTML=o;const s=this.context.graph.getCanvas().getContainer().getBoundingClientRect();this.$element.style.left=`${t.client.x-s.left+r[0]}px`,this.$element.style.top=`${t.client.y-s.top+r[1]}px`,this.$element.style.display="block",this.targetElement=t.target})}hide(){this.$element.style.display="none",this.targetElement=null}update(t){this.unbindEvents(),super.update(t),this.bindEvents()}destroy(){this.unbindEvents(),super.destroy(),this.$element.remove()}getDOMContent(t){return Rnt(this,void 0,void 0,function*(){const{getContent:i,getItems:r}=this.options;return r?function tCt(n){return`\n    <ul class="g6-contextmenu-ul">\n      ${n.map(e=>`<li  class="g6-contextmenu-li" value="${e.value}">${e.name}</li>`).join("")}\n    </ul>\n  `}(yield r(t)):yield i(t)})}bindEvents(){const{graph:t}=this.context,{trigger:i}=this.options;t.on(`canvas:${i}`,this.onTriggerEvent),t.on(`node:${i}`,this.onTriggerEvent),t.on(`edge:${i}`,this.onTriggerEvent),t.on(`combo:${i}`,this.onTriggerEvent),document.addEventListener("click",this.onMenuItemClick)}unbindEvents(){const{graph:t}=this.context,{trigger:i}=this.options;t.off(`canvas:${i}`,this.onTriggerEvent),t.off(`node:${i}`,this.onTriggerEvent),t.off(`edge:${i}`,this.onTriggerEvent),t.off(`combo:${i}`,this.onTriggerEvent),document.removeEventListener("click",this.onMenuItemClick)}}return n.defaultOptions={trigger:"contextmenu",offset:[4,4],loadingContent:'<div class="g6-contextmenu-loading">Loading...</div>',getContent:()=>"It is a empty context menu.",enable:()=>!0},n})(),iCt=(()=>{class n extends da{constructor(t,i){super(t,Object.assign({},n.defaultOptions,i)),this.edgeBundles={},this.edgePoints={},this.onBundle=()=>{const{model:r,element:o}=this.context,s=r.getEdgeData();this.divideEdges(this.options.divisions);const{cycles:a,iterRate:l,divRate:u}=this.options;let{lambda:d,divisions:f,iterations:m}=this.options;for(let y=0;y<a;y++){for(let b=0;b<m;b++){const E={};s.forEach(w=>{var M;if(w.source===w.target)return;const x=We(w);E[x]=this.getEdgeForces(w,f,d);for(let D=0;D<f+1;D++)(M=this.edgePoints)[x]||(M[x]=[]),this.edgePoints[x][D]=ir(this.edgePoints[x][D],E[x][D])})}d/=2,f*=u,m*=l,this.divideEdges(f)}s.forEach(y=>{const b=We(y),E=o.getElement(b);E?.update({d:O9(this.edgePoints[b])})})},this.bindEvents()}get nodeMap(){const t=this.context.model.getNodeData();return Object.fromEntries(t.map(i=>[We(i),Fm(sa(i))]))}divideEdges(t){this.context.model.getEdgeData().forEach(i=>{var r;const o=We(i);(r=this.edgePoints)[o]||(r[o]=[]);const s=this.nodeMap[i.source],a=this.nodeMap[i.target];if(1===t)this.edgePoints[o].push(s),this.edgePoints[o].push(Uc(ir(s,a),2)),this.edgePoints[o].push(a);else{const l=(0===this.edgePoints[o].length?To(s,a):lCt(this.edgePoints[o]))/(t+1);let u=l;const d=[s];for(let f=1;f<this.edgePoints[o].length;f++){const m=this.edgePoints[o][f-1],y=this.edgePoints[o][f];let b=To(y,m);for(;b>u;){const E=u/b,w=ir(m,ph(Do(y,m),E));d.push(w),b-=u,u=l}u-=b}d.push(a),this.edgePoints[o]=d}})}getVectorPosition(t){const i=this.nodeMap[t.source],r=this.nodeMap[t.target],[o,s]=Do(r,i);return{source:i,target:r,vx:o,vy:s,length:To(i,r)}}measureEdgeCompatibility(t,i){const r=this.getVectorPosition(t),o=this.getVectorPosition(i);return rCt(r,o)*oCt(r,o)*sCt(r,o)*aCt(r,o)}getEdgeBundles(){const t={},i=this.options.bundleThreshold,r=this.context.model.getEdgeData();return r.forEach((o,s)=>{r.forEach((a,l)=>{var u,d;l<=s||this.measureEdgeCompatibility(o,a)>=i&&(t[u=We(o)]||(t[u]=[]),t[We(o)].push(a),t[d=We(a)]||(t[d]=[]),t[We(a)].push(o))})}),t}getSpringForce(t,i){const{pre:r,cur:o,next:s}=t;return ph(Do(ir(r,s),ph(o,2)),i)}getElectrostaticForce(t,i){dp(this.edgeBundles)&&(this.edgeBundles=this.getEdgeBundles());const r=this.edgeBundles[We(i)];let o=[0,0];return r?.forEach(s=>{const a=this.edgePoints[We(s)][t],l=this.edgePoints[We(i)][t],u=Do(a,l),d=To(a,l);o=ir(o,ph(u,1/d))}),o}getEdgeForces(t,i,r){const a=this.options.K/(To(this.nodeMap[t.source],this.nodeMap[t.target])*(i+1)),l=[[0,0]],u=We(t);for(let d=1;d<i;d++){const f=this.getSpringForce({pre:this.edgePoints[u][d-1],cur:this.edgePoints[u][d],next:this.edgePoints[u][d+1]||[0,0]},a),m=this.getElectrostaticForce(d,t);l.push(ph(ir(f,m),r))}return l.push([0,0]),l}bindEvents(){const{graph:t}=this.context;t.on(Dn.AFTER_RENDER,this.onBundle)}unbindEvents(){const{graph:t}=this.context;t.off(Dn.AFTER_RENDER,this.onBundle)}destroy(){this.unbindEvents(),super.destroy()}}return n.defaultOptions={K:.1,lambda:.1,divisions:1,divRate:2,cycles:6,iterations:90,iterRate:2/3,bundleThreshold:.6},n})();const rCt=(n,e)=>Math.abs(function qC(n,e){return n.reduce((t,i,r)=>t+i*e[r],0)}([n.vx,n.vy],[e.vx,e.vy])/(n.length*e.length)),oCt=(n,e)=>{const t=(n.length+e.length)/2;return 2/(t/Math.min(n.length,e.length)+Math.max(n.length,e.length)/t)},sCt=(n,e)=>{const t=(n.length+e.length)/2;return t/(t+To(Uc(ir(n.source,n.target),2),Uc(ir(e.source,e.target),2)))},Pnt=(n,e)=>{if(e.source[0]===e.target[0])return[e.source[0],n[1]];if(e.source[1]===e.target[1])return[n[0],e.source[1]];const t=(e.source[1]-e.target[1])/(e.source[0]-e.target[0]),i=(t*t*e.source[0]+t*(n[1]-e.source[1])+n[0])/(t*t+1);return[i,t*(i-e.source[0])+e.source[1]]},Nnt=(n,e)=>{const t=Pnt(e.source,n),i=Pnt(e.target,n),r=Uc(ir(t,i),2),o=Uc(ir(n.source,n.target),2);return 0===To(t,i)?0:Math.max(0,1-2*To(o,r)/To(t,i))},aCt=(n,e)=>Math.min(Nnt(n,e),Nnt(e,n)),lCt=n=>{let e=0;for(let t=1;t<n.length;t++)e+=To(n[t],n[t-1]);return e},cCt={fill:"#fff",fillOpacity:1,lineWidth:1,stroke:"#000",strokeOpacity:.8};let uCt=(()=>{class n extends da{constructor(t,i){super(t,Object.assign({},n.defaultOptions,i)),this.shapes=new Map,this.r=this.options.r,this.onEdgeFilter=r=>{if("drag"===this.options.trigger&&this.isLensOn)return;const o=Ua(r.canvas);this.renderLens(o),this.renderFocusElements()},this.renderLens=r=>{const o=Object.assign({},cCt,this.options.style);this.isLensOn||(this.lens=new R2({style:o}),this.canvas.appendChild(this.lens)),Object.assign(o,sc(r),{size:2*this.r}),this.lens.update(o)},this.getFilterData=()=>{const{filter:r}=this.options,{model:o}=this.context,s=o.getData();if(!r)return s;const{nodes:a,edges:l,combos:u}=s;return{nodes:a.filter(d=>r(We(d),"node")),edges:l.filter(d=>r(We(d),"edge")),combos:u.filter(d=>r(We(d),"combo"))}},this.getFocusElements=r=>{const{nodes:o,edges:s}=this.getFilterData(),a=o.filter(d=>To(sa(d),r)<this.r),l=a.map(d=>We(d));return{nodes:a,edges:s.filter(d=>{const{source:f,target:m}=d,y=l.includes(f),b=l.includes(m);switch(this.options.nodeType){case"both":return y&&b;case"either":return y!==b;case"source":return y&&!b;case"target":return!y&&b;default:return!1}})}},this.renderFocusElements=()=>{const{element:r,graph:o}=this.context;if(!this.isLensOn)return;const s=this.lens.getCenter(),{nodes:a,edges:l}=this.getFocusElements(s),u=new Set,d=f=>{const m=We(f);u.add(m);const y=r.getElement(m);if(!y)return;const b=this.shapes.get(m)||y.cloneNode();b.setPosition(y.getPosition()),b.id=y.id,this.shapes.has(m)?Object.entries(y.attributes).forEach(([M,x])=>{b.style[M]!==x&&(b.style[M]=x)}):(this.canvas.appendChild(b),this.shapes.set(m,b));const E=o.getElementType(m),w=this.getElementStyle(E,f);b.update(w)};a.forEach(d),l.forEach(d),this.shapes.forEach((f,m)=>{u.has(m)||(f.destroy(),this.shapes.delete(m))})},this.scaleRByWheel=r=>{var o;this.options.preventDefault&&r.preventDefault();const{clientX:s,clientY:a,deltaX:l,deltaY:u}=r,{graph:d,canvas:f}=this.context,m=d.getCanvasByClient([s,a]),y=null===(o=this.lens)||void 0===o?void 0:o.getCenter();if(!this.isLensOn||To(m,y)>this.r)return;const{maxR:b,minR:E}=this.options,w=l+u>0?1/.95:.95,M=Math.min(...f.getSize())/2;this.r=Math.max(E||0,Math.min(b||M,this.r*w)),this.renderLens(y),this.renderFocusElements()},this.isLensDragging=!1,this.onDragStart=r=>{var o;const s=Ua(r.canvas),a=null===(o=this.lens)||void 0===o?void 0:o.getCenter();!this.isLensOn||To(s,a)>this.r||(this.isLensDragging=!0)},this.onDrag=r=>{if(!this.isLensDragging)return;const o=Ua(r.canvas);this.renderLens(o),this.renderFocusElements()},this.onDragEnd=()=>{this.isLensDragging=!1},this.bindEvents()}get canvas(){return this.context.canvas.getLayer("transient")}get isLensOn(){return this.lens&&!this.lens.destroyed}getElementStyle(t,i){const r="node"===t?this.options.nodeStyle:this.options.edgeStyle;return"function"==typeof r?r(i):r}get graphDom(){return this.context.graph.getCanvas().getContextService().getDomElement()}bindEvents(){var t;const{graph:i}=this.context,{trigger:r,scaleRBy:o}=this.options,s=i.getCanvas().getLayer();["click","drag"].includes(r)&&s.addEventListener(gn.CLICK,this.onEdgeFilter),"pointermove"===r?s.addEventListener(gn.POINTER_MOVE,this.onEdgeFilter):"drag"===r&&(s.addEventListener(gn.DRAG_START,this.onDragStart),s.addEventListener(gn.DRAG,this.onDrag),s.addEventListener(gn.DRAG_END,this.onDragEnd)),"wheel"===o&&(null===(t=this.graphDom)||void 0===t||t.addEventListener(gn.WHEEL,this.scaleRByWheel,{passive:!1}))}unbindEvents(){var t;const{graph:i}=this.context,{trigger:r,scaleRBy:o}=this.options,s=i.getCanvas().getLayer();["click","drag"].includes(r)&&s.removeEventListener(gn.CLICK,this.onEdgeFilter),"pointermove"===r?s.removeEventListener(gn.POINTER_MOVE,this.onEdgeFilter):"drag"===r&&(s.removeEventListener(gn.DRAG_START,this.onDragStart),s.removeEventListener(gn.DRAG,this.onDrag),s.removeEventListener(gn.DRAG_END,this.onDragEnd)),"wheel"===o&&(null===(t=this.graphDom)||void 0===t||t.removeEventListener(gn.WHEEL,this.scaleRByWheel))}update(t){this.unbindEvents(),super.update(t),this.bindEvents()}destroy(){this.unbindEvents(),this.isLensOn&&this.lens.destroy(),this.shapes.forEach((t,i)=>{t.destroy(),this.shapes.delete(i)}),super.destroy()}}return n.defaultOptions={trigger:"pointermove",r:60,nodeType:"both",filter:()=>!0,style:{lineWidth:2},nodeStyle:{label:!1},edgeStyle:{label:!0},scaleRBy:"wheel",preventDefault:!0},n})();const dCt={fill:"#ccc",fillOpacity:.1,lineWidth:2,stroke:"#000",strokeOpacity:.8,labelFontSize:12};let hCt=(()=>{class n extends da{constructor(t,i){super(t,Object.assign({},n.defaultOptions,i)),this.r=this.options.r,this.d=this.options.d,this.onCreateFisheye=r=>{if("drag"===this.options.trigger&&this.isLensOn)return;const o=Ua(r.canvas);this.onMagnify(o)},this.onMagnify=r=>{r.some(isNaN)||(this.renderLens(r),this.renderFocusElements())},this.renderLens=r=>{const o=Object.assign({},dCt,this.options.style);this.isLensOn||(this.lens=new R2({style:o}),this.canvas.appendChild(this.lens)),Object.assign(o,sc(r),{size:2*this.r,label:this.options.showDPercent,labelText:this.getDPercent()}),this.lens.update(o)},this.getDPercent=()=>{const{minD:r,maxD:o}=this.options;return`${Math.round((this.d-r)/(o-r)*100)}%`},this.prevMagnifiedStyleMap=new Map,this.prevOriginStyleMap=new Map,this.renderFocusElements=()=>{if(!this.isLensOn)return;const{graph:r}=this.context,o=this.lens.getCenter(),s=(this.d+1)*this.r,a=new Map,l=new Map;r.getNodeData().forEach(u=>{const d=sa(u),f=To(d,o);if(f>this.r)return;const m=s*f/(this.d*f+this.r),[y,b]=d,[E,w]=o,D=[E+m*((y-E)/f),w+m*((b-w)/f)],k=We(u),T=this.getNodeStyle(u),O=af(r.getElementRenderStyle(k),Object.keys(T));a.set(k,Object.assign(Object.assign({},sc(D)),T)),l.set(k,Object.assign(Object.assign({},sc(d)),O))}),this.updateStyle(a,l)},this.getNodeStyle=r=>{const{nodeStyle:o}=this.options;return"function"==typeof o?o(r):o},this.updateStyle=(r,o)=>{const{graph:s,element:a}=this.context,{enter:l,exit:u,keep:d}=Kp(Array.from(this.prevMagnifiedStyleMap.keys()),Array.from(r.keys()),y=>y),f=new Set,m=(y,b)=>{const E=a.getElement(y);E?.update(b),s.getRelatedEdgesData(y).forEach(w=>{f.add(We(w))})};[...l,...d].forEach(y=>{m(y,r.get(y))}),u.forEach(y=>{m(y,this.prevOriginStyleMap.get(y)),this.prevOriginStyleMap.delete(y)}),f.forEach(y=>{const b=a.getElement(y);b?.update({})}),this.prevMagnifiedStyleMap=r,o.forEach((y,b)=>{this.prevOriginStyleMap.has(b)||this.prevOriginStyleMap.set(b,y)})},this.isWheelValid=r=>{if(this.options.preventDefault&&r.preventDefault(),!this.isLensOn)return!1;const{clientX:o,clientY:s}=r;return!(To(this.context.graph.getCanvasByClient([o,s]),this.lens.getCenter())>this.r)},this.scaleR=r=>{const{maxR:o,minR:s}=this.options,a=r?1/.95:.95,l=Math.min(...this.context.canvas.getSize())/2;this.r=Math.max(s||0,Math.min(o||l,this.r*a))},this.scaleD=r=>{const{maxD:o,minD:s}=this.options;this.d=Math.max(s,Math.min(o,r?this.d+.1:this.d-.1))},this.scaleRByWheel=r=>{if(!this.isWheelValid(r))return;const{deltaX:o,deltaY:s}=r;this.scaleR(o+s>0);const a=this.lens.getCenter();this.onMagnify(a)},this.scaleDByWheel=r=>{if(!this.isWheelValid(r))return;const{deltaX:o,deltaY:s}=r;this.scaleD(o+s>0);const a=this.lens.getCenter();this.onMagnify(a)},this.isDragValid=r=>(this.options.preventDefault&&r.preventDefault(),!!this.isLensOn&&!(To(Ua(r.canvas),this.lens.getCenter())>this.r)),this.isLensDragging=!1,this.onDragStart=r=>{this.isDragValid(r)&&(this.isLensDragging=!0)},this.onDrag=r=>{if(!this.isLensDragging)return;const o=Ua(r.canvas);this.onMagnify(o)},this.onDragEnd=()=>{this.isLensDragging=!1},this.scaleRByDrag=r=>{if(!this.isLensDragging)return;const{dx:o,dy:s}=r;this.scaleR(o-s>0);const a=this.lens.getCenter();this.onMagnify(a)},this.scaleDByDrag=r=>{if(!this.isLensDragging)return;const{dx:o,dy:s}=r;this.scaleD(o-s>0);const a=this.lens.getCenter();this.onMagnify(a)},this.bindEvents()}get canvas(){return this.context.canvas.getLayer("transient")}get isLensOn(){return this.lens&&!this.lens.destroyed}get graphDom(){return this.context.graph.getCanvas().getContextService().getDomElement()}bindEvents(){var t;const{graph:i}=this.context,{trigger:r,scaleRBy:o,scaleDBy:s}=this.options,a=i.getCanvas().getLayer();["click","drag"].includes(r)&&a.addEventListener(gn.CLICK,this.onCreateFisheye),"pointermove"===r&&a.addEventListener(gn.POINTER_MOVE,this.onCreateFisheye),("drag"===r||"drag"===o||"drag"===s)&&(a.addEventListener(gn.DRAG_START,this.onDragStart),a.addEventListener(gn.DRAG_END,this.onDragEnd),a.addEventListener(gn.DRAG,"drag"===r?this.onDrag:"drag"===o?this.scaleRByDrag:this.scaleDByDrag)),"wheel"!==o&&"wheel"!==s||null===(t=this.graphDom)||void 0===t||t.addEventListener(gn.WHEEL,"wheel"===o?this.scaleRByWheel:this.scaleDByWheel,{passive:!1})}unbindEvents(){var t;const{graph:i}=this.context,{trigger:r,scaleRBy:o,scaleDBy:s}=this.options,a=i.getCanvas().getLayer();["click","drag"].includes(r)&&a.removeEventListener(gn.CLICK,this.onCreateFisheye),"pointermove"===r&&a.removeEventListener(gn.POINTER_MOVE,this.onCreateFisheye),("drag"===r||"drag"===o||"drag"===s)&&(a.removeEventListener(gn.DRAG_START,this.onDragStart),a.removeEventListener(gn.DRAG_END,this.onDragEnd),a.removeEventListener(gn.DRAG,"drag"===r?this.onDrag:"drag"===o?this.scaleRByDrag:this.scaleDByDrag)),"wheel"!==o&&"wheel"!==s||null===(t=this.graphDom)||void 0===t||t.removeEventListener(gn.WHEEL,"wheel"===o?this.scaleRByWheel:this.scaleDByWheel)}update(t){this.unbindEvents(),super.update(t),this.bindEvents()}destroy(){var t;this.unbindEvents(),this.isLensOn&&(null===(t=this.lens)||void 0===t||t.destroy()),this.prevMagnifiedStyleMap.clear(),this.prevOriginStyleMap.clear(),super.destroy()}}return n.defaultOptions={trigger:"pointermove",r:120,d:1.5,maxD:5,minD:0,showDPercent:!0,style:{},nodeStyle:{label:!0},preventDefault:!0},n})(),fCt=(()=>{class n extends da{constructor(t,i){super(t,Object.assign({},n.defaultOptions,i)),this.$el=this.context.canvas.getContainer(),this.graphSize=[0,0],this.onFullscreenChange=()=>{var r,o,s,a;const l=!!document.fullscreenElement;this.options.autoFit&&this.setGraphSize(l),l?null===(o=(r=this.options).onEnter)||void 0===o||o.call(r):null===(a=(s=this.options).onExit)||void 0===a||a.call(s)},this.shortcut=new Sf(t.graph),this.bindEvents(),this.style=document.createElement("style"),document.head.appendChild(this.style),this.style.innerHTML="\n      :not(:root):fullscreen::backdrop {\n        background: transparent;\n      }\n    "}bindEvents(){this.unbindEvents(),this.shortcut.unbindAll();const{request:t=[],exit:i=[]}=this.options.trigger;this.shortcut.bind(t,this.request),this.shortcut.bind(i,this.exit),["webkitfullscreenchange","mozfullscreenchange","fullscreenchange","MSFullscreenChange"].forEach(r=>{document.addEventListener(r,this.onFullscreenChange,!1)})}unbindEvents(){this.shortcut.unbindAll(),["webkitfullscreenchange","mozfullscreenchange","fullscreenchange","MSFullscreenChange"].forEach(t=>{document.removeEventListener(t,this.onFullscreenChange,!1)})}setGraphSize(t=!0){var i,r;let o,s;t?(o=(null===(i=globalThis.screen)||void 0===i?void 0:i.width)||0,s=(null===(r=globalThis.screen)||void 0===r?void 0:r.height)||0,this.graphSize=this.context.graph.getSize()):[o,s]=this.graphSize,this.context.graph.setSize(o,s),this.context.graph.render()}request(){document.fullscreenElement||!function pCt(){return document.fullscreenEnabled||Reflect.get(document,"webkitFullscreenEnabled")||Reflect.get(document,"mozFullscreenEnabled")||Reflect.get(document,"msFullscreenEnabled")}()||this.$el.requestFullscreen().catch(t=>{oc.warn(`Error attempting to enable full-screen: ${t.message} (${t.name})`)})}exit(){document.fullscreenElement&&document.exitFullscreen()}update(t){this.unbindEvents(),super.update(t),this.bindEvents()}destroy(){this.exit(),this.style.remove(),super.destroy()}}return n.defaultOptions={trigger:{},autoFit:!0},n})(),mCt=(()=>{class n extends da{constructor(t,i){super(t,Object.assign({},n.defaultOptions,i)),this.$element=$3("grid-line"),this.offset=[0,0],this.onTransform=o=>{if(!this.options.follow)return;const{data:{translate:s}}=o;s&&this.updateOffset(s)},function CMt(n,e){const t=n.firstChild;t?n.insertBefore(e,t):n.appendChild(e)}(this.context.canvas.getContainer(),this.$element),this.updateStyle(),this.bindEvents()}update(t){super.update(t),this.updateStyle()}bindEvents(){const{graph:t}=this.context;t.on(Dn.AFTER_TRANSFORM,this.onTransform)}updateStyle(){const{size:t,stroke:i,lineWidth:r,border:o,borderLineWidth:s,borderStroke:a,borderStyle:l}=this.options;Object.assign(this.$element.style,{border:o?`${s}px ${l} ${a}`:"none",backgroundImage:`linear-gradient(${i} ${r}px, transparent ${r}px), linear-gradient(90deg, ${i} ${r}px, transparent ${r}px)`,backgroundSize:`${t}px ${t}px`})}updateOffset(t){this.offset=function eW(n,e){return n.map(t=>t%e)}(ir(this.offset,t),this.options.size),this.$element.style.backgroundPosition=`${this.offset[0]}px ${this.offset[1]}px`}destroy(){this.context.graph.off(Dn.AFTER_TRANSFORM,this.onTransform),this.$element.remove(),super.destroy()}}return n.defaultOptions={border:!0,borderLineWidth:1,borderStroke:"#eee",borderStyle:"solid",lineWidth:1,size:20,stroke:"#eee"},n})();function LU(n){const e={Added:new Map,Updated:new Map,Removed:new Map};return n.forEach(t=>{const{type:i,value:r}=t,o=We(r);if("NodeAdded"===i||"EdgeAdded"===i||"ComboAdded"===i)e.Added.set(o,t);else if("NodeUpdated"===i||"EdgeUpdated"===i||"ComboUpdated"===i)if(e.Added.has(o))e.Added.set(o,{type:i.replace("Updated","Added"),value:r});else if(e.Updated.has(o)){const{original:s}=e.Updated.get(o);e.Updated.set(o,{type:i,value:r,original:s})}else e.Removed.has(o)||e.Updated.set(o,t);else("NodeRemoved"===i||"EdgeRemoved"===i||"ComboRemoved"===i)&&(e.Added.has(o)?e.Added.delete(o):(e.Updated.has(o)&&e.Updated.delete(o),e.Removed.set(o,t)))}),[...Array.from(e.Added.values()),...Array.from(e.Updated.values()),...Array.from(e.Removed.values())]}function jnt(n){const{NodeAdded:e=[],NodeUpdated:t=[],NodeRemoved:i=[],EdgeAdded:r=[],EdgeUpdated:o=[],EdgeRemoved:s=[],ComboAdded:a=[],ComboUpdated:l=[],ComboRemoved:u=[]}=id(n,d=>d.type);return{add:{nodes:e,edges:r,combos:a},update:{nodes:t,edges:o,combos:l},remove:{nodes:i,edges:s,combos:u}}}function Vnt(n,e){for(const t in n)mo(n[t])&&!Array.isArray(n[t])&&null!==n[t]?(e[t]||(e[t]={}),Vnt(n[t],e[t])):void 0===e[t]&&(e[t]=x2(t))}function gCt(n,e=!1,t){const i={animation:e,current:{add:{},update:{},remove:{}},original:{add:{},update:{},remove:{}}},{add:r,update:o,remove:s}=jnt(LU(n));return["nodes","edges","combos"].forEach(a=>{o[a]&&o[a].forEach(l=>{var u,d;const f=Object.assign({},l.value);let m=Object.assign({},l.original);if(t){const y=t.graph.getElementType(We(l.original)),b="edge"===y?"stroke":"fill",E=t.element.getElementComputedStyle(y,l.original);m=Object.assign(Object.assign({},l.original),{style:Object.assign({[b]:E[b]},l.original.style)})}Vnt(f,m),(u=i.current.update)[a]||(u[a]=[]),i.current.update[a].push(f),(d=i.original.update)[a]||(d[a]=[]),i.original.update[a].push(m)}),r[a]&&r[a].forEach(l=>{var u,d;const f=Object.assign({},l.value);(u=i.current.add)[a]||(u[a]=[]),i.current.add[a].push(f),(d=i.original.remove)[a]||(d[a]=[]),i.original.remove[a].push(f)}),s[a]&&s[a].forEach(l=>{var u,d;const f=Object.assign({},l.value);(u=i.current.remove)[a]||(u[a]=[]),i.current.remove[a].push(f),(d=i.original.add)[a]||(d[a]=[]),i.original.add[a].push(f)})}),i}let vCt=(()=>{class n extends da{constructor(t,i){super(t,Object.assign({},n.defaultOptions,i)),this.batchChanges=null,this.batchAnimation=!1,this.undoStack=[],this.redoStack=[],this.freezed=!1,this.executeCommand=(o,s=!0)=>{var a,l,u;this.freezed=!0,null===(l=(a=this.options).executeCommand)||void 0===l||l.call(a,o);const d=s?o.original:o.current;this.context.graph.addData(d.add),this.context.graph.updateData(d.update),this.context.graph.removeData(HC(d.remove,!1)),null===(u=this.context.element)||void 0===u||u.draw({silence:!0,animation:o.animation}),this.freezed=!1},this.addCommand=o=>{var s;if(!this.freezed){if(o.type===Dn.AFTER_DRAW){const{dataChanges:a=[],animation:l=!0}=o.data;if(null!==(s=this.context.batch)&&void 0!==s&&s.isBatching){if(!this.batchChanges)return;return this.batchChanges.push(a),void(this.batchAnimation&&(this.batchAnimation=l))}this.batchChanges=[a],this.batchAnimation=l}this.undoStackPush(gCt(this.batchChanges.flat(),this.batchAnimation,this.context)),this.notify(Cu.ADD,this.undoStack[this.undoStack.length-1])}},this.initBatchCommand=o=>{const{initiate:s}=o.data;this.batchAnimation=!1,s?this.batchChanges=[]:this.undoStack.pop()||(this.batchChanges=null)},this.emitter=new IR;const{graph:r}=this.context;r.on(Dn.AFTER_DRAW,this.addCommand),r.on(Dn.BATCH_START,this.initBatchCommand),r.on(Dn.BATCH_END,this.addCommand)}canUndo(){return this.undoStack.length>0}canRedo(){return this.redoStack.length>0}undo(){var t,i,r,o;const s=this.undoStack.pop();if(s){if(this.executeCommand(s),!1===(null===(i=(t=this.options).beforeAddCommand)||void 0===i?void 0:i.call(t,s,!1)))return;this.redoStack.push(s),null===(o=(r=this.options).afterAddCommand)||void 0===o||o.call(r,s,!1),this.notify(Cu.UNDO,s)}return this}redo(){const t=this.redoStack.pop();return t&&(this.executeCommand(t,!1),this.undoStackPush(t),this.notify(Cu.REDO,t)),this}undoAndCancel(){const t=this.undoStack.pop();return t&&(this.executeCommand(t,!1),this.redoStack=[],this.notify(Cu.CANCEL,t)),this}undoStackPush(t){var i,r,o,s;const{stackSize:a}=this.options;0!==a&&this.undoStack.length>=a&&this.undoStack.shift(),!1!==(null===(r=(i=this.options).beforeAddCommand)||void 0===r?void 0:r.call(i,t,!0))&&(this.undoStack.push(t),null===(s=(o=this.options).afterAddCommand)||void 0===s||s.call(o,t,!0))}clear(){this.undoStack=[],this.redoStack=[],this.batchChanges=null,this.batchAnimation=!1,this.notify(Cu.CLEAR,null)}notify(t,i){this.emitter.emit(t,{cmd:i}),this.emitter.emit(Cu.CHANGE,{cmd:i})}on(t,i){this.emitter.on(t,i)}destroy(){const{graph:t}=this.context;t.off(Dn.AFTER_DRAW,this.addCommand),t.off(Dn.BATCH_START,this.initBatchCommand),t.off(Dn.BATCH_END,this.addCommand),this.emitter.off(),super.destroy(),this.undoStack=[],this.redoStack=[]}}return n.defaultOptions={stackSize:0},n})();function GP(n,e,t,i,r,o){const s=(o-e)*(t-n)-(i-e)*(r-n);return s>0||!(s<0)}function znt(n,e){this._cells=[],this._cellSize=e,this._reverseCellSize=1/e;for(let t=0;t<n.length;t++){const i=n[t],r=this.coordToCellNum(i[0]),o=this.coordToCellNum(i[1]);if(this._cells[r])this._cells[r][o]?this._cells[r][o].push(i):this._cells[r][o]=[i];else{const s=[];s[o]=[i],this._cells[r]=s}}}znt.prototype={cellPoints:function(n,e){return void 0!==this._cells[n]&&void 0!==this._cells[n][e]?this._cells[n][e]:[]},rangePoints:function(n){const e=this.coordToCellNum(n[0]),t=this.coordToCellNum(n[1]),i=this.coordToCellNum(n[2]),r=this.coordToCellNum(n[3]),o=[];for(let s=e;s<=i;s++)for(let a=t;a<=r;a++)for(let l=0;l<this.cellPoints(s,a).length;l++)o.push(this.cellPoints(s,a)[l]);return o},removePoint:function(n){const e=this.coordToCellNum(n[0]),t=this.coordToCellNum(n[1]),i=this._cells[e][t];let r;for(let o=0;o<i.length;o++)if(i[o][0]===n[0]&&i[o][1]===n[1]){r=o;break}return i.splice(r,1),i},trunc:Math.trunc||function(n){return n-n%1},coordToCellNum:function(n){return this.trunc(n*this._reverseCellSize)},extendBbox:function(n,e){return[n[0]-e*this._cellSize,n[1]-e*this._cellSize,n[2]+e*this._cellSize,n[3]+e*this._cellSize]}};var wCt={toXy:function(n,e){return void 0===e?n.slice():n.map(function(t){return new Function("pt","return [pt"+e[0]+",pt"+e[1]+"];")(t)})},fromXy:function(n,e){return void 0===e?n.slice():n.map(function(t){return new Function("pt","const o = {}; o"+e[0]+"= pt[0]; o"+e[1]+"= pt[1]; return o;")(t)})}};function Unt(n,e,t){return(e[0]-n[0])*(t[1]-n[1])-(e[1]-n[1])*(t[0]-n[0])}const DCt=function yCt(n,e){const t=n[0][0],i=n[0][1],r=n[1][0],o=n[1][1],s=e[0][0],a=e[0][1],l=e[1][0],u=e[1][1];return GP(t,i,s,a,l,u)!==GP(r,o,s,a,l,u)&&GP(t,i,r,o,s,a)!==GP(t,i,r,o,l,u)},TCt=function _Ct(n,e){return new znt(n,e)},FU=wCt,ACt=function CCt(n){const e=function xCt(n){const e=[];for(let t=0;t<n.length;t++){for(;e.length>=2&&Unt(e[e.length-2],e[e.length-1],n[t])<=0;)e.pop();e.push(n[t])}return e.pop(),e}(n),t=function MCt(n){const e=n.reverse(),t=[];for(let i=0;i<e.length;i++){for(;t.length>=2&&Unt(t[t.length-2],t[t.length-1],e[i])<=0;)t.pop();t.push(e[i])}return t.pop(),t}(n).concat(e);return t.push(n[0]),t};function BU(n,e){return Math.pow(e[0]-n[0],2)+Math.pow(e[1]-n[1],2)}function Hnt(n,e,t){const i=[e[0]-n[0],e[1]-n[1]],r=[t[0]-n[0],t[1]-n[1]],o=BU(n,e),s=BU(n,t);return(i[0]*r[0]+i[1]*r[1])/Math.sqrt(o*s)}function Gnt(n,e){for(let t=0;t<e.length-1;t++){const i=[e[t],e[t+1]];if(!(n[0][0]===i[0][0]&&n[0][1]===i[0][1]||n[0][0]===i[1][0]&&n[0][1]===i[1][1])&&DCt(n,i))return!0}return!1}function RCt(n){return[Math.min(n[0][0],n[1][0]),Math.min(n[0][1],n[1][1]),Math.max(n[0][0],n[1][0]),Math.max(n[0][1],n[1][1])]}function PCt(n,e,t){let s,a,i=null,r=Wnt,o=Wnt;for(let l=0;l<e.length;l++)s=Hnt(n[0],n[1],e[l]),a=Hnt(n[1],n[0],e[l]),s>r&&a>o&&!Gnt([n[0],e[l]],t)&&!Gnt([n[1],e[l]],t)&&(r=s,o=a,i=e[l]);return i}function $nt(n,e,t,i,r){let o=!1;for(let s=0;s<n.length-1;s++){const a=[n[s],n[s+1]],l=a[0][0]+","+a[0][1]+","+a[1][0]+","+a[1][1];if(BU(a[0],a[1])<e||r.has(l))continue;let f,m,y,u=0,d=RCt(a);do{d=i.extendBbox(d,u),f=d[2]-d[0],m=d[3]-d[1],y=PCt(a,i.rangePoints(d),n),u++}while(null===y&&(t[0]>f||t[1]>m));f>=t[0]&&m>=t[1]&&r.add(l),null!==y&&(n.splice(s+1,0,y),i.removePoint(y),o=!0)}return o?$nt(n,e,t,i,r):n}const Wnt=Math.cos(90/(180/Math.PI));var LCt=function NCt(n,e,t){let i=e||20;const r=function OCt(n){const e=[n[0]];let t=n[0];for(let i=1;i<n.length;i++){const r=n[i];(t[0]!==r[0]||t[1]!==r[1])&&e.push(r),t=r}return e}(function kCt(n){return n.sort(function(e,t){return e[0]-t[0]||e[1]-t[1]})}(FU.toXy(n,t)));if(r.length<4){const f=r.concat([r[0]]);return t?FU.fromXy(f,t):f}const o=function ICt(n){let e=1/0,t=1/0,i=-1/0,r=-1/0;for(let o=n.length-1;o>=0;o--)n[o][0]<e&&(e=n[o][0]),n[o][1]<t&&(t=n[o][1]),n[o][0]>i&&(i=n[o][0]),n[o][1]>r&&(r=n[o][1]);return[i-e,r-t]}(r),s=[.6*o[0],.6*o[1]],a=ACt(r),l=r.filter(function(f){return a.indexOf(f)<0}),u=Math.ceil(1/(r.length/(o[0]*o[1]))),d=$nt(a,Math.pow(i,2),s,TCt(l,u),new Set);return t?FU.fromXy(d,t):d};const FCt=Ea(LCt);let $Ct=(()=>{class n extends da{constructor(t,i){super(t,Object.assign({},n.defaultOptions,i)),this.hullMemberIds=[],this.drawHull=()=>{if(this.shape){const r=!Xo(this.optionsCache,this.options);this.shape.update(this.getHullStyle(r))}else this.shape=new iR({style:this.getHullStyle()}),this.context.canvas.appendChild(this.shape);this.optionsCache=Object.assign({},this.options)},this.updateHullPath=r=>{this.shape&&this.options.members.includes(We(r.data))&&this.shape.update({d:this.getHullPath(!0)})},this.getHullPath=(r=!1)=>{const{graph:o}=this.context,s=this.getMember();if(0===s.length)return"";const a=s.map(d=>o.getNodeData(d)),l=FCt(a.map(sa),this.options.concavity).slice(1).reverse(),u=l.flatMap(d=>a.filter(f=>Xo(sa(f),d)).map(We));return Xo(u,this.hullMemberIds)&&!r||(this.hullMemberIds=u,this.path=function BCt(n,e,t){if(1===n.length)return((n,e,t)=>{if("sharp"===t)return[["M",n[0]-e,n[1]-e],["L",n[0]+e,n[1]-e],["L",n[0]+e,n[1]+e],["L",n[0]-e,n[1]+e],["Z"]];const i=[e,e,0,0,0];return[["M",n[0],n[1]-e],["A",...i,n[0],n[1]+e],["A",...i,n[0],n[1]-e]]})(n[0],e,t);if(2===n.length)return((n,e,t)=>{const i=[e,e,0,0,0],r="sharp"===t?ir(n[0],mh(gh(Do(n[0],n[1])),e)):n[0],o="sharp"===t?ir(n[1],mh(gh(Do(n[1],n[0])),e)):n[1],s=mh(gh(JC(Do(r,o),!1)),e),a=mh(s,-1),l=ir(r,s),u=ir(o,s),d=ir(o,a),f=ir(r,a);return"sharp"===t?[["M",l[0],l[1]],["L",u[0],u[1]],["L",d[0],d[1]],["L",f[0],f[1]],["Z"]]:[["M",l[0],l[1]],["L",u[0],u[1]],["A",...i,d[0],d[1]],["L",f[0],f[1]],["A",...i,l[0],l[1]]]})(n,e,t);switch(t){case"smooth":return((n,e)=>{const t=P8(n).map((i,r)=>({p:i,v:gh(Do(n[(r+1)%n.length],i))}));return t.forEach((i,r)=>{const s=t[r>0?r-1:n.length-1].v,a=gh(ir(s,mh(i.v,jI(s,i.v,!0)<Math.PI?1:-1)));i.p=ir(i.p,mh(a,e))}),nR(t.map(i=>i.p))})(n,e);case"sharp":return((n,e)=>{const t=n.map((i,r)=>{const o=n[0===r?n.length-1:r-1],s=h_(mh(gh(JC(Do(o,i),!1)),e));return[ir(o,s),ir(i,s)]}).flat();return t.map((i,r)=>r%2==0?null:jm([t[(r-1)%t.length],t[r%t.length]],[t[(r+1)%t.length],t[(r+2)%t.length]],!0)).filter(Boolean).map((i,r)=>[0===r?"M":"L",i[0],i[1]]).concat([["Z"]])})(n,e);default:return((n,e)=>{const t=P8(n).map((a,l)=>{const y=n[(l-1+n.length)%n.length],b=n[(l+1)%n.length],E=Do(n[(l-2+n.length)%n.length],y),w=Do(y,a),M=Do(a,b),x=(R,L)=>jI(R,L,!0)<Math.PI,D=x(E,w),k=x(w,M),T=R=>mh(gh(JC(R,!1)),e),O=T(w);return[{p:Fm(ir(y,D?T(E):O)),concave:D&&y},{p:Fm(ir(a,k?T(M):O)),concave:k&&a}]}),i=[e,e,0,0,0],r=t.findIndex((a,l)=>!(t[(l-1+t.length)%t.length][0].concave||t[(l-1+t.length)%t.length][1].concave||a[0].concave||a[0].concave||a[1].concave)),o=t.slice(r).concat(t.slice(0,r));let s=[];return o.flatMap((a,l)=>{const u=[];return 0===l&&u.push(["M",...o[t.length-1][1].p]),a[0].concave?s.push(a[0].p,a[1].p):u.push(["A",...i,...a[0].p]),a[1].concave?s.unshift(a[1].p):u.push(["L",...a[1].p]),3===s.length&&(u.pop(),u.push(["C",...s.flat()]),s=[]),u})})(n,e)}}(l,this.getPadding(),this.options.corner)),this.path},this.bindEvents()}bindEvents(){this.context.graph.on(Dn.AFTER_RENDER,this.drawHull),this.context.graph.on(Dn.AFTER_ELEMENT_UPDATE,this.updateHullPath)}getHullStyle(t){const r=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t}(this.options,["members","padding","corner"]);return Object.assign(Object.assign({},r),{d:this.getHullPath(t)})}getPadding(){const{graph:t}=this.context;return this.hullMemberIds.reduce((i,r)=>{const{halfExtents:o}=t.getElementRenderBounds(r),s=Math.max(o[0],o[1]);return Math.max(i,s)},0)+this.options.padding}addMember(t){const i=Array.isArray(t)?t:[t];this.options.members=[...new Set([...this.options.members,...i])],this.shape.update({d:this.getHullPath()})}removeMember(t){const i=Array.isArray(t)?t:[t];this.options.members=this.options.members.filter(r=>!i.includes(r)),i.some(r=>this.hullMemberIds.includes(r))&&this.shape.update({d:this.getHullPath()})}updateMember(t){this.options.members=ii(t)?t(this.options.members):t,this.shape.update(this.getHullStyle(!0))}getMember(){return this.options.members}destroy(){this.context.graph.off(Dn.AFTER_DRAW,this.drawHull),this.shape.destroy(),this.hullMemberIds=[],super.destroy()}}return n.defaultOptions={members:[],padding:10,corner:"rounded",concavity:1/0,fill:"lightblue",fillOpacity:.2,labelOpacity:1,stroke:"blue",strokeOpacity:.2},n})();function Xnt(n,e){e(n),n.children&&n.children.forEach(function(t){t&&Xnt(t,e)})}function X3(n){$P(n,!0)}function Ch(n){$P(n,!1)}function $P(n,e){var t=e?"visible":"hidden";Xnt(n,function(i){i.attr("visibility",t)})}var WCt=function(n){function e(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var r=n.apply(this,Qn([],Xt(t),!1))||this;return r.isMutationObserved=!0,r.addEventListener(Hp.INSERTED,function(){Ch(r)}),r}return lr(e,n),e}(Tl);function Ynt(n){var e=n.appendChild(new WCt({class:"offscreen"}));return Ch(e),e}var jU=function(n){function e(t){void 0===t&&(t={});var i=t.style,r=fs(t,["style"]);return n.call(this,wn({style:wn({text:"",fill:"black",fontFamily:"sans-serif",fontSize:16,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",lineWidth:1,textAlign:"start",textBaseline:"middle"},i)},r))||this}return lr(e,n),Object.defineProperty(e.prototype,"offscreenGroup",{get:function(){return this._offscreen||(this._offscreen=Ynt(this)),this._offscreen},enumerable:!1,configurable:!0}),e.prototype.disconnectedCallback=function(){var t;null===(t=this._offscreen)||void 0===t||t.destroy()},e}(Rb);function z_(n){return n*Math.PI/180}function Znt(n){return Number((180*n/Math.PI).toPrecision(5))}var Bs=function(){function n(e,t,i,r){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),void 0===r&&(r=0),this.x=0,this.y=0,this.width=0,this.height=0,this.x=e,this.y=t,this.width=i,this.height=r}return Object.defineProperty(n.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),n.fromRect=function(e){return new n(e.x,e.y,e.width,e.height)},n.prototype.toJSON=function(){return{x:this.x,y:this.y,width:this.width,height:this.height,top:this.top,right:this.right,bottom:this.bottom,left:this.left}},n.prototype.isPointIn=function(e,t){return e>=this.left&&e<=this.right&&t>=this.top&&t<=this.bottom},n}();function _d(n,e){return ii(n)?n.apply(void 0,Qn([],Xt(e),!1)):n}var WP,Sh=function(n,e){var t=function(r){return"".concat(e,"-").concat(r)},i=Object.fromEntries(Object.entries(n).map(function(r){var o=Xt(r,2),s=o[0],l=t(o[1]);return[s,{name:l,class:".".concat(l),id:"#".concat(l),toString:function(){return l}}]}));return Object.assign(i,{prefix:t}),i},Qnt=function(n,e,t,i){void 0===t&&(t=0),void 0===i&&(i=5),Object.entries(e).forEach(function(r){var o=Xt(r,2),s=o[0],a=o[1],l=n;Object.prototype.hasOwnProperty.call(e,s)&&(a?nf(a)?(nf(n[s])||(l[s]={}),t<i?Qnt(n[s],a,t+1,i):l[s]=e[s]):qi(a)?(l[s]=[],l[s]=l[s].concat(a)):l[s]=a:l[s]=a)})},$a=function(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];for(var i=0;i<e.length;i+=1)Qnt(n,e[i]);return n},qnt=function(n){return void 0!==n&&null!=n&&!Number.isNaN(n)},YCt=v1(function(n,e){var t=e.fontSize,i=e.fontFamily,r=e.fontWeight,o=e.fontStyle,s=e.fontVariant;return WP||(WP=qk.offscreenCanvasCreator.getOrCreateContext(void 0)),WP.font=[o,s,r,"".concat(t,"px"),i].join(" "),WP.measureText(n).width},function(n,e){return[n,Object.values(e||Jnt(n)).join()].join("")},4096),Jnt=function(n){var o=n.style.fontSize;return{fontSize:o="object"==typeof o?o.value:o,fontFamily:n.style.fontFamily||"sans-serif",fontWeight:n.style.fontWeight||"normal",fontStyle:n.style.fontStyle||"normal",fontVariant:n.style.fontVariant}};function tit(n){return"text"===n.nodeName?n:"g"===n.nodeName&&1===n.children.length&&"text"===n.children[0].nodeName?n.children[0]:null}function eit(n,e){var t=tit(n);t&&t.attr(e)}function VU(n,e,t){void 0===t&&(t="..."),eit(n,{wordWrap:!0,wordWrapWidth:e,maxLines:1,textOverflow:t})}function nit(n){var e=n.canvas,t=n.touches,i=n.offsetX,r=n.offsetY;if(e)return[e.x,e.y];if(t){var a=t[0];return[a.clientX,a.clientY]}return i&&r?[i,r]:[0,0]}function l0(n){return"function"==typeof n?n():Ki(n)||oi(n)?new jU({style:{text:String(n)}}):n}function Ru(n,e,t,i,r){return void 0===i&&(i=!0),void 0===r&&(r=function(o){o.node().removeChildren()}),n?t(e):(i&&r(e),null)}function ul(n,e,t,i,r){return void 0===i&&(i=!0),void 0===r&&(r=!1),!!(i&&n===e||r&&n===t)||n>e&&n<t}var qCt=function(n,e){return function(t){return n*(1-t)+e*t}};function zU(n,e){return"number"==typeof n&&"number"==typeof e?qCt(n,e):Array.isArray(n)&&Array.isArray(e)?function JCt(n,e){var t=e?e.length:0,i=n?Math.min(t,n.length):0;return function(r){var o=new Array(i),s=new Array(t),a=0;for(a=0;a<i;++a)o[a]=zU(n[a],e[a]);for(;a<t;++a)s[a]=e[a];for(a=0;a<i;++a)s[a]=o[a](r);return s}}(n,e):"object"==typeof n&&"object"==typeof e?function t3t(n,e){void 0===n&&(n={}),void 0===e&&(e={});var t={},i={};return Object.entries(e).forEach(function(r){var o=Xt(r,2),s=o[0],a=o[1];s in n?t[s]=zU(n[s],a):i[s]=a}),function(r){return Object.entries(t).forEach(function(o){var s=Xt(o,2);return i[s[0]]=(0,s[1])(r)}),i}}(n,e):function(t){return n}}function iit(n){for(var e=1/0,t=1/0,i=-1/0,r=-1/0,o=0;o<n.length;o++){var s=n[o],a=s.x,l=s.y,f=Xt([a+s.width,l+s.height],2),m=f[0],y=f[1];a<e&&(e=a),l<t&&(t=l),m>i&&(i=m),y>r&&(r=y)}return new Bs(e,t,i-e,r-t)}var n3t=function(n,e,t){var i=n.width,r=n.height,o=t.flexDirection,s=void 0===o?"row":o,a=t.justifyContent,l=void 0===a?"flex-start":a,u=t.alignItems,d=void 0===u?"flex-start":u,f="row"===s,m="row"===s||"column"===s,y=f?m?[1,0]:[-1,0]:m?[0,1]:[0,-1],b=Xt([0,0],2),E=b[0],w=b[1],M=e.map(function(L){var F,U=L.width,$=L.height,X=Xt([E,w],2),q=X[0],gt=X[1];return F=Xt([E+U*y[0],w+$*y[1]],2),E=F[0],w=F[1],new Bs(q,gt,U,$)}),x=iit(M),D={"flex-start":0,"flex-end":f?i-x.width:r-x.height,center:f?(i-x.width)/2:(r-x.height)/2},k=M.map(function(L){var F=L.x,U=L.y,$=Bs.fromRect(L);return $.x=f?F+D[l]:F,$.y=f?U:U+D[l],$});iit(k);var T=function(L){var F=Xt(f?["height",r]:["width",i],2),U=F[0],$=F[1];switch(d){case"flex-start":default:return 0;case"flex-end":return $-L[U];case"center":return $/2-L[U]/2}};return k.map(function(L){var F=L.x,U=L.y,$=Bs.fromRect(L);return $.x=f?F:F+T($),$.y=f?U+T($):U,$}).map(function(L){var F,U,$=Bs.fromRect(L);return $.x+=null!==(F=n.x)&&void 0!==F?F:0,$.y+=null!==(U=n.y)&&void 0!==U?U:0,$})},i3t=function(n,e,t){return[]};function c0(n,e){return[n[0]*e,n[1]*e]}function Y3(n,e){return[n[0]+e[0],n[1]+e[1]]}function UU(n,e){return[n[0]-e[0],n[1]-e[1]]}function ty(n,e){return[Math.min(n[0],e[0]),Math.min(n[1],e[1])]}function ey(n,e){return[Math.max(n[0],e[0]),Math.max(n[1],e[1])]}function Z3(n,e){return Math.sqrt(Math.pow(n[0]-e[0],2)+Math.pow(n[1]-e[1],2))}function rit(n){if(0===n[0]&&0===n[1])return[0,0];var e=Math.sqrt(Math.pow(n[0],2)+Math.pow(n[1],2));return[n[0]/e,n[1]/e]}function oit(n,e){return+n.toPrecision(e)}function sit(n,e){var t={},i=Array.isArray(e)?e:[e];for(var r in n)i.includes(r)||(t[r]=n[r]);return t}var l3t=["$el","cx","cy","d","dx","dy","fill","fillOpacity","filter","fontFamily","fontSize","fontStyle","fontVariant","fontWeight","height","img","increasedLineWidthForHitTesting","innerHTML","isBillboard","billboardRotation","isSizeAttenuation","isClosed","isOverflowing","leading","letterSpacing","lineDash","lineHeight","lineWidth","markerEnd","markerEndOffset","markerMid","markerStart","markerStartOffset","maxLines","metrics","miterLimit","offsetX","offsetY","opacity","path","points","r","radius","rx","ry","shadowColor","src","stroke","strokeOpacity","text","textAlign","textBaseline","textDecorationColor","textDecorationLine","textDecorationStyle","textOverflow","textPath","textPathSide","textPathStartOffset","transform","transformOrigin","visibility","width","wordWrap","wordWrapWidth","x","x1","x2","y","y1","y2","z1","z2","zIndex"];function c3t(n){return l3t.includes(n)}function ait(n){var e={};for(var t in n)c3t(t)&&(e[t]=n[t]);return e}function HU(n,e,t){var i=n.getBBox(),s=e/Math.max(i.width,i.height);return n.style.transform="scale(".concat(s,")"),s}var f3t=function(){function n(r,o,s,a,l,u,d){void 0===r&&(r=null),void 0===o&&(o=null),void 0===s&&(s=null),void 0===a&&(a=null),void 0===l&&(l=[null,null,null,null,null]),void 0===u&&(u=[]),void 0===d&&(d=[]),e.add(this),this._elements=Array.from(r),this._data=o,this._parent=s,this._document=a,this._enter=l[0],this._update=l[1],this._exit=l[2],this._merge=l[3],this._split=l[4],this._transitions=u,this._facetElements=d}var e,t,i;return n.prototype.selectAll=function(r){var o="string"==typeof r?this._parent.querySelectorAll(r):r;return new t(o,null,this._elements[0],this._document)},n.prototype.selectFacetAll=function(r){var o="string"==typeof r?this._parent.querySelectorAll(r):r;return new t(this._elements,null,this._parent,this._document,void 0,void 0,o)},n.prototype.select=function(r){var o="string"==typeof r?this._parent.querySelectorAll(r)[0]||null:r;return new t([o],null,o,this._document)},n.prototype.append=function(r){var o=this,s="function"==typeof r?r:function(){return o.createElement(r)},a=[];if(null!==this._data){for(var l=0;l<this._data.length;l++){var u=this._data[l],d=Xt(Array.isArray(u)?u:[u,null],2),m=d[1];(y=s(f=d[0],l)).__data__=f,null!==m&&(y.__fromElements__=m),this._parent.appendChild(y),a.push(y)}return new t(a,null,this._parent,this._document)}for(l=0;l<this._elements.length;l++){var f,b=this._elements[l],y=s(f=b.__data__,l);b.appendChild(y),a.push(y)}return new t(a,null,a[0],this._document)},n.prototype.maybeAppend=function(r,o){var s=S1(this,e,"m",i).call(this,"#"===r[0]?r:"#".concat(r),o);return s.attr("id",r),s},n.prototype.maybeAppendByClassName=function(r,o){var s=r.toString(),a=S1(this,e,"m",i).call(this,"."===s[0]?s:".".concat(s),o);return a.attr("className",s),a},n.prototype.maybeAppendByName=function(r,o){var s=S1(this,e,"m",i).call(this,'[name="'.concat(r,'"]'),o);return s.attr("name",r),s},n.prototype.data=function(r,o,s){var a,l;void 0===o&&(o=function(U){return U}),void 0===s&&(s=function(){return null});for(var u=[],d=[],f=new Set(this._elements),m=[],y=new Set,b=new Map(this._elements.map(function(U,$){return[o(U.__data__,$),U]})),E=new Map(this._facetElements.map(function(U,$){return[o(U.__data__,$),U]})),w=function d3t(n,e){var t=new Map;return n.forEach(function(i){var r=e(i);t.has(r)||t.set(r,[]),t.get(r).push(i)}),t}(this._elements,function(U){return s(U.__data__)}),M=0;M<r.length;M++){var x=r[M],D=o(x,M),k=s(x,M);if(b.has(D))(T=b.get(D)).__data__=x,T.__facet__=!1,d.push(T),f.delete(T),b.delete(D);else if(E.has(D))(T=E.get(D)).__data__=x,T.__facet__=!0,d.push(T),E.delete(D);else if(w.has(D)){var O=w.get(D);m.push([x,O]);try{for(var R=(a=void 0,Z0(O)),L=R.next();!L.done;L=R.next())f.delete(T=L.value)}catch(U){a={error:U}}finally{try{L&&!L.done&&(l=R.return)&&l.call(R)}finally{if(a)throw a.error}}w.delete(D)}else if(b.has(k)){var T;(T=b.get(k)).__toData__?T.__toData__.push(x):T.__toData__=[x],y.add(T),f.delete(T)}else u.push(x)}var F=[new t([],u,this._parent,this._document),new t(d,null,this._parent,this._document),new t(f,null,this._parent,this._document),new t([],m,this._parent,this._document),new t(y,null,this._parent,this._document)];return new t(this._elements,null,this._parent,this._document,F)},n.prototype.merge=function(r){var o=Qn(Qn([],Xt(this._elements),!1),Xt(r._elements),!1),s=Qn(Qn([],Xt(this._transitions),!1),Xt(r._transitions),!1);return new t(o,null,this._parent,this._document,void 0,s)},n.prototype.createElement=function(r){if(this._document)return this._document.createElement(r,{});var o=t.registry[r];return o?new o:function h3t(n){throw new Error(n)}("Unknown node type: ".concat(r))},n.prototype.join=function(r,o,s,a,l){void 0===r&&(r=function(b){return b}),void 0===o&&(o=function(b){return b}),void 0===s&&(s=function(b){return b.remove()}),void 0===a&&(a=function(b){return b}),void 0===l&&(l=function(b){return b.remove()});var u=r(this._enter),d=o(this._update),f=s(this._exit),m=a(this._merge),y=l(this._split);return d.merge(u).merge(f).merge(m).merge(y)},n.prototype.remove=function(){for(var r=function(a){var l=o._elements[a],u=o._transitions[a];u?u.then(function(){return l.remove()}):l.remove()},o=this,s=0;s<this._elements.length;s++)r(s);return new t([],null,this._parent,this._document,void 0,this._transitions)},n.prototype.each=function(r){for(var o=0;o<this._elements.length;o++){var s=this._elements[o];r.call(s,s.__data__,o)}return this},n.prototype.attr=function(r,o){var s="function"!=typeof o?function(){return o}:o;return this.each(function(a,l){void 0!==o&&(this[r]=s.call(this,a,l))})},n.prototype.style=function(r,o,s){void 0===s&&(s=!0);var a="function"==typeof o&&s?o:function(){return o};return this.each(function(l,u){void 0!==o&&(this.style[r]=a.call(this,l,u))})},n.prototype.styles=function(r,o){return void 0===r&&(r={}),void 0===o&&(o=!0),this.each(function(s,a){var l=this;Object.entries(r).forEach(function(u){var d=Xt(u,2),m=d[1];void 0!==m&&l.attr(d[0],("function"==typeof m&&o?m:function(){return m}).call(l,s,a))})})},n.prototype.update=function(r,o){void 0===o&&(o=!0);var s="function"==typeof r&&o?r:function(){return r};return this.each(function(a,l){r&&this.update&&this.update(s.call(this,a,l))})},n.prototype.maybeUpdate=function(r,o){void 0===o&&(o=!0);var s="function"==typeof r&&o?r:function(){return r};return this.each(function(a,l){r&&this.update&&this.update(s.call(this,a,l))})},n.prototype.transition=function(r){var o=this._transitions;return this.each(function(s,a){o[a]=r.call(this,s,a)})},n.prototype.on=function(r,o){return this.each(function(){this.addEventListener(r,o)}),this},n.prototype.call=function(r){for(var o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];return r.call.apply(r,Qn([this._parent,this],Xt(o),!1)),this},n.prototype.node=function(){return this._elements[0]},n.prototype.nodes=function(){return this._elements},n.prototype.transitions=function(){return this._transitions.filter(function(r){return!!r})},n.prototype.parent=function(){return this._parent},t=n,e=new WeakSet,i=function(r,o){var s=this._elements[0],a=s.querySelector(r);if(a)return new t([a],null,this._parent,this._document);var l="string"==typeof o?this.createElement(o):o();return s.appendChild(l),new t([l],null,this._parent,this._document)},n.registry={g:Tl,rect:wu,circle:QM,path:Ib,text:jU,ellipse:OF,image:Lc,line:qM,polygon:Zk,polyline:Qk,html:kF},n}();function Mi(n){return new f3t([n],null,n,n.ownerDocument)}function ta(n){if(oi(n))return[n,n,n,n];if(qi(n)){var e=n.length;if(1===e)return[n[0],n[0],n[0],n[0]];if(2===e)return[n[0],n[1],n[0],n[1]];if(3===e)return[n[0],n[1],n[2],n[1]];if(4===e)return n}return[0,0,0,0]}function lit(n){var e=n.getLocalBounds(),r=Xt([e.min,e.max],2),o=Xt(r[0],2),s=o[0],a=o[1],l=Xt(r[1],2),u=l[0],d=l[1];return{x:s,y:a,width:u-s,height:d-a,left:s,bottom:d,top:a,right:u}}function m3t(n,e){var t=Xt(n,2),i=t[0],r=t[1],o=Xt(e,2);return i!==o[0]&&r===o[1]}function GU(n){return n.toString().charAt(0).toUpperCase()+n.toString().slice(1)}function cit(n,e,t){var i;void 0===t&&(t=!0);var r=e||(null===(i=n.match(/^([a-z][a-z0-9]+)/))||void 0===i?void 0:i[0])||"",o=n.replace(new RegExp("^(".concat(r,")")),"");return t?function v3t(n){return n.toString().charAt(0).toLowerCase()+n.toString().slice(1)}(o):o}var KP=function(n,e){if(null==n||!n.startsWith(e))return!1;var t=n[e.length];return t>="A"&&t<="Z"};function sr(n,e,t){void 0===t&&(t=!1);var i={};return Object.entries(n).forEach(function(r){var o=Xt(r,2),s=o[0],a=o[1];if("className"!==s&&"class"!==s)if(KP(s,"show")&&KP(cit(s,"show"),e)!==t)s===function y3t(n,e){return"".concat(e).concat(GU(n))}(e,"show")?i[s]=a:i[s.replace(new RegExp(GU(e)),"")]=a;else if(!KP(s,"show")&&KP(s,e)!==t){var l=cit(s,e);"filter"===l&&"function"==typeof a||(i[l]=a)}}),i}function U_(n,e){return Object.entries(n).reduce(function(t,i){var r=Xt(i,2),o=r[0],s=r[1];return o.startsWith("show")?t["show".concat(e).concat(o.slice(4))]=s:t["".concat(e).concat(GU(o))]=s,t},{})}function u0(n,e){void 0===e&&(e=["x","y","class","className"]);var t=["transform","transformOrigin","anchor","visibility","pointerEvents","zIndex","cursor","clipPath","clipPathTargets","offsetPath","offsetPathTargets","offsetDistance","draggable","droppable"],i={},r={};return Object.entries(n).forEach(function(o){var s=Xt(o,2),a=s[0],l=s[1];e.includes(a)||(-1!==t.indexOf(a)?r[a]=l:i[a]=l)}),[i,r]}function Qc(n,e){var t={YYYY:n.getFullYear(),MM:n.getMonth()+1,DD:n.getDate(),HH:n.getHours(),mm:n.getMinutes(),ss:n.getSeconds()},i=e;return Object.keys(t).forEach(function(r){var o=t[r];i=i.replace(r,"YYYY"===r?"".concat(o):"".concat(o).padStart(2,"0"))}),i}function uit(n,e){if(e)try{var i=e.replace(/translate\(([+-]*[\d]+[%]*),[ ]*([+-]*[\d]+[%]*)\)/g,function(r,o,s){return"translate(".concat(function _3t(n,e,t){var i=n.getBBox(),r=i.width,o=i.height,s=Xt([e,t].map(function(u,d){var f;return u.includes("%")?parseFloat((null===(f=u.match(/[+-]?([0-9]*[.])?[0-9]+/))||void 0===f?void 0:f[0])||"0")/100*(0===d?r:o):u}),2);return[s[0],s[1]]}(n,o,s),")")});n.attr("transform",i)}catch{}}var dit=function(n,e){null!=e?n.replaceChildren?Array.isArray(e)?n.replaceChildren.apply(n,Qn([],Xt(e),!1)):n.replaceChildren(e):(n.innerHTML="",Array.isArray(e)?e.forEach(function(t){return n.appendChild(t)}):n.appendChild(e)):n.innerHTML=""};function w3t(){$P(this,"hidden"!==this.attributes.visibility)}var js=function(n){function e(t,i){void 0===i&&(i={});var r=n.call(this,$a({},{style:i},t))||this;return r.initialized=!1,r._defaultOptions=i,r}return lr(e,n),Object.defineProperty(e.prototype,"offscreenGroup",{get:function(){return this._offscreen||(this._offscreen=Ynt(this)),this._offscreen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultOptions",{get:function(){return this._defaultOptions},enumerable:!1,configurable:!0}),e.prototype.connectedCallback=function(){this.render(this.attributes,this),this.bindEvents(this.attributes,this),this.initialized=!0},e.prototype.disconnectedCallback=function(){var t;null===(t=this._offscreen)||void 0===t||t.destroy()},e.prototype.attributeChangedCallback=function(t){"visibility"===t&&w3t.call(this)},e.prototype.update=function(t,i){var r;return this.attr($a({},this.attributes,t||{})),null===(r=this.render)||void 0===r?void 0:r.call(this,this.attributes,this,i)},e.prototype.clear=function(){this.removeChildren()},e.prototype.bindEvents=function(t,i){},e.prototype.getSubShapeStyle=function(t){return fs(t,["x","y","transform","transformOrigin","class","className","zIndex"])},e}(AF),hit=function(n,e,t){return[["M",n-t,e],["A",t,t,0,1,0,n+t,e],["A",t,t,0,1,0,n-t,e],["Z"]]},x3t=hit,fit=function(n,e,t){return[["M",n,e+t],["L",n,e-t]]},pit=function(n,e,t){return[["M",n-t,e],["L",n+t,e]]},P3t=pit,V3t=function(n,e,t){return[["M",n-t,e-t],["L",n+t,e],["L",n-t,e+t],["Z"]]};var Uo=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return lr(e,n),e.prototype.render=function(t,i){var r=t.x,o=void 0===r?0:r,s=t.y,a=void 0===s?0:s,l=this.getSubShapeStyle(t),u=l.symbol,d=l.size,f=void 0===d?16:d,m=fs(l,["symbol","size"]),y=function U3t(n){var e=function z3t(n){var e="default";if(mo(n)&&n instanceof Image)e="image";else if(ii(n))e="symbol";else if(Ki(n)){var t=new RegExp("data:(image|text)");e=n.match(t)?"base64":/^(https?:\/\/(([a-zA-Z0-9]+-?)+[a-zA-Z0-9]+\.)+[a-zA-Z]+)(:\d+)?(\/.*)?(\?.*)?(#.*)?$/.test(n)?"url":"symbol"}return e}(n);return["base64","url","image"].includes(e)?"image":n&&"symbol"===e?"path":null}(u);Ru(!!y,Mi(i),function(b){b.maybeAppendByClassName("marker",y).attr("className","marker ".concat(y,"-marker")).call(function(E){if("image"===y)E.styles({img:u,width:w=2*f,height:w,x:o-f,y:a-f});else{var w=f/2,M=ii(u)?u:e.getSymbol(u);E.styles(wn({d:M?.(o,a,w)},m))}})})},e.MARKER_SYMBOL_MAP=new Map,e.registerSymbol=function(t,i){e.MARKER_SYMBOL_MAP.set(t,i)},e.getSymbol=function(t){return e.MARKER_SYMBOL_MAP.get(t)},e.getSymbols=function(){return Array.from(e.MARKER_SYMBOL_MAP.keys())},e}(js);function XP(n,...e){return e.reduce((t,i)=>r=>t(i(r)),n)}function $U(n,e){return e-n?t=>(t-n)/(e-n):t=>.5}Uo.registerSymbol("cross",function(n,e,t){return[["M",n-t,e-t],["L",n+t,e+t],["M",n+t,e-t],["L",n-t,e+t]]}),Uo.registerSymbol("hyphen",function(n,e,t){return[["M",n-t,e],["L",n+t,e]]}),Uo.registerSymbol("line",fit),Uo.registerSymbol("plus",function(n,e,t){return[["M",n-t,e],["L",n+t,e],["M",n,e-t],["L",n,e+t]]}),Uo.registerSymbol("tick",function(n,e,t){return[["M",n-t/2,e-t],["L",n+t/2,e-t],["M",n,e-t],["L",n,e+t],["M",n-t/2,e+t],["L",n+t/2,e+t]]}),Uo.registerSymbol("circle",hit),Uo.registerSymbol("point",x3t),Uo.registerSymbol("bowtie",function(n,e,t){var i=t-1.5;return[["M",n-t,e-i],["L",n+t,e+i],["L",n+t,e-i],["L",n-t,e+i],["Z"]]}),Uo.registerSymbol("hexagon",function(n,e,t){var i=t/2*Math.sqrt(3);return[["M",n,e-t],["L",n+i,e-t/2],["L",n+i,e+t/2],["L",n,e+t],["L",n-i,e+t/2],["L",n-i,e-t/2],["Z"]]}),Uo.registerSymbol("square",function(n,e,t){return[["M",n-t,e-t],["L",n+t,e-t],["L",n+t,e+t],["L",n-t,e+t],["Z"]]}),Uo.registerSymbol("diamond",function(n,e,t){return[["M",n-t,e],["L",n,e-t],["L",n+t,e],["L",n,e+t],["Z"]]}),Uo.registerSymbol("triangle",function(n,e,t){var i=t*Math.sin(.3333333333333333*Math.PI);return[["M",n-t,e+i],["L",n,e-i],["L",n+t,e+i],["Z"]]}),Uo.registerSymbol("triangle-down",function(n,e,t){var i=t*Math.sin(.3333333333333333*Math.PI);return[["M",n-t,e-i],["L",n+t,e-i],["L",n,e+i],["Z"]]}),Uo.registerSymbol("line",fit),Uo.registerSymbol("dot",pit),Uo.registerSymbol("dash",P3t),Uo.registerSymbol("smooth",function(n,e,t){return[["M",n-t,e],["A",t/2,t/2,0,1,1,n,e],["A",t/2,t/2,0,1,0,n+t,e]]}),Uo.registerSymbol("hv",function(n,e,t){return[["M",n-t-1,e-2.5],["L",n,e-2.5],["L",n,e+2.5],["L",n+t+1,e+2.5]]}),Uo.registerSymbol("vh",function(n,e,t){return[["M",n-t-1,e+2.5],["L",n,e+2.5],["L",n,e-2.5],["L",n+t+1,e-2.5]]}),Uo.registerSymbol("hvh",function(n,e,t){return[["M",n-(t+1),e+2.5],["L",n-t/2,e+2.5],["L",n-t/2,e-2.5],["L",n+t/2,e-2.5],["L",n+t/2,e+2.5],["L",n+t+1,e+2.5]]}),Uo.registerSymbol("vhv",function j3t(n,e){return[["M",n-5,e+2.5],["L",n-5,e],["L",n,e],["L",n,e-3],["L",n,e+3],["L",n+6.5,e+3]]});const mit=Math.sqrt(50),git=Math.sqrt(10),vit=Math.sqrt(2);function YP(n,e,t){const i=(e-n)/Math.max(0,t),r=Math.floor(Math.log(i)/Math.LN10),o=i/10**r;return r>=0?(o>=mit?10:o>=git?5:o>=vit?2:1)*10**r:-(10**-r)/(o>=mit?10:o>=git?5:o>=vit?2:1)}const $3t=(n,e,t=5)=>{const i=[n,e];let l,r=0,o=i.length-1,s=i[r],a=i[o];return a<s&&([s,a]=[a,s],[r,o]=[o,r]),l=YP(s,a,t),l>0?(s=Math.floor(s/l)*l,a=Math.ceil(a/l)*l,l=YP(s,a,t)):l<0&&(s=Math.ceil(s*l)/l,a=Math.floor(a*l)/l,l=YP(s,a,t)),l>0?(i[r]=Math.floor(s/l)*l,i[o]=Math.ceil(a/l)*l):l<0&&(i[r]=Math.ceil(s*l)/l,i[o]=Math.floor(a*l)/l),i};function yit(n){return!_i(n)&&!Uw(n)&&!Number.isNaN(n)}var bit={exports:{}},_it={exports:{}},X3t=function(n){return!(!n||"string"==typeof n)&&(n instanceof Array||Array.isArray(n)||n.length>=0&&(n.splice instanceof Function||Object.getOwnPropertyDescriptor(n,n.length-1)&&"String"!==n.constructor.name))},Y3t=Array.prototype.concat,Z3t=Array.prototype.slice,Eit=_it.exports=function(n){for(var e=[],t=0,i=n.length;t<i;t++){var r=n[t];X3t(r)?e=Y3t.call(e,Z3t.call(r)):e.push(r)}return e};Eit.wrap=function(n){return function(){return n(Eit(arguments))}};var Q3={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},q3=_it.exports,wit=Object.hasOwnProperty,xit=Object.create(null);for(var WU in Q3)wit.call(Q3,WU)&&(xit[Q3[WU]]=WU);var Pu=bit.exports={to:{},get:{}};function sg(n,e,t){return Math.min(Math.max(e,n),t)}function ZP(n){var e=Math.round(n).toString(16).toUpperCase();return e.length<2?"0"+e:e}Pu.get=function(n){var t,i;switch(n.substring(0,3).toLowerCase()){case"hsl":t=Pu.get.hsl(n),i="hsl";break;case"hwb":t=Pu.get.hwb(n),i="hwb";break;default:t=Pu.get.rgb(n),i="rgb"}return t?{model:i,value:t}:null},Pu.get.rgb=function(n){if(!n)return null;var a,l,u,s=[0,0,0,1];if(a=n.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(u=a[2],a=a[1],l=0;l<3;l++){var d=2*l;s[l]=parseInt(a.slice(d,d+2),16)}u&&(s[3]=parseInt(u,16)/255)}else if(a=n.match(/^#([a-f0-9]{3,4})$/i)){for(u=(a=a[1])[3],l=0;l<3;l++)s[l]=parseInt(a[l]+a[l],16);u&&(s[3]=parseInt(u+u,16)/255)}else if(a=n.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)){for(l=0;l<3;l++)s[l]=parseInt(a[l+1],0);a[4]&&(s[3]=a[5]?.01*parseFloat(a[4]):parseFloat(a[4]))}else{if(!(a=n.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)))return(a=n.match(/^(\w+)$/))?"transparent"===a[1]?[0,0,0,0]:wit.call(Q3,a[1])?((s=Q3[a[1]])[3]=1,s):null:null;for(l=0;l<3;l++)s[l]=Math.round(2.55*parseFloat(a[l+1]));a[4]&&(s[3]=a[5]?.01*parseFloat(a[4]):parseFloat(a[4]))}for(l=0;l<3;l++)s[l]=sg(s[l],0,255);return s[3]=sg(s[3],0,1),s},Pu.get.hsl=function(n){if(!n)return null;var t=n.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var i=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,sg(parseFloat(t[2]),0,100),sg(parseFloat(t[3]),0,100),sg(isNaN(i)?1:i,0,1)]}return null},Pu.get.hwb=function(n){if(!n)return null;var t=n.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var i=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,sg(parseFloat(t[2]),0,100),sg(parseFloat(t[3]),0,100),sg(isNaN(i)?1:i,0,1)]}return null},Pu.to.hex=function(){var n=q3(arguments);return"#"+ZP(n[0])+ZP(n[1])+ZP(n[2])+(n[3]<1?ZP(Math.round(255*n[3])):"")},Pu.to.rgb=function(){var n=q3(arguments);return n.length<4||1===n[3]?"rgb("+Math.round(n[0])+", "+Math.round(n[1])+", "+Math.round(n[2])+")":"rgba("+Math.round(n[0])+", "+Math.round(n[1])+", "+Math.round(n[2])+", "+n[3]+")"},Pu.to.rgb.percent=function(){var n=q3(arguments),e=Math.round(n[0]/255*100),t=Math.round(n[1]/255*100),i=Math.round(n[2]/255*100);return n.length<4||1===n[3]?"rgb("+e+"%, "+t+"%, "+i+"%)":"rgba("+e+"%, "+t+"%, "+i+"%, "+n[3]+")"},Pu.to.hsl=function(){var n=q3(arguments);return n.length<4||1===n[3]?"hsl("+n[0]+", "+n[1]+"%, "+n[2]+"%)":"hsla("+n[0]+", "+n[1]+"%, "+n[2]+"%, "+n[3]+")"},Pu.to.hwb=function(){var n=q3(arguments),e="";return n.length>=4&&1!==n[3]&&(e=", "+n[3]),"hwb("+n[0]+", "+n[1]+"%, "+n[2]+"%"+e+")"},Pu.to.keyword=function(n){return xit[n.slice(0,3)]};const J3t=Ea(bit.exports);function KU(n,e,t){let i=t;return i<0&&(i+=1),i>1&&(i-=1),i<1/6?n+6*(e-n)*i:i<.5?e:i<2/3?n+(e-n)*(2/3-i)*6:n}function Mit(n){const e=J3t.get(n);if(!e)return null;const{model:t,value:i}=e;return"rgb"===t?i:"hsl"===t?function tSt(n){const e=n[0]/360,t=n[1]/100,i=n[2]/100,r=n[3];if(0===t)return[255*i,255*i,255*i,r];const o=i<.5?i*(1+t):i+t-i*t,s=2*i-o;return[255*KU(s,o,e+1/3),255*KU(s,o,e),255*KU(s,o,e-1/3),r]}(i):null}const QP=(n,e)=>t=>n*(1-t)+e*t,nSt=(n,e)=>"number"==typeof n&&"number"==typeof e?QP(n,e):"string"==typeof n&&"string"==typeof e?((n,e)=>{const t=Mit(n),i=Mit(e);return null===t||null===i?t?()=>n:()=>e:r=>{const o=new Array(4);for(let d=0;d<4;d+=1)o[d]=t[d]*(1-r)+i[d]*r;const[s,a,l,u]=o;return`rgba(${Math.round(s)}, ${Math.round(a)}, ${Math.round(l)}, ${u})`}})(n,e):()=>n,iSt=(n,e)=>{const t=QP(n,e);return i=>Math.round(t(i))};function Cit({map:n,initKey:e},t){const i=e(t);return n.has(i)?n.get(i):t}function sSt(n){return"object"==typeof n?n.valueOf():n}class Sit extends Map{constructor(e){if(super(),this.map=new Map,this.initKey=sSt,null!==e)for(const[t,i]of e)this.set(t,i)}get(e){return super.get(Cit({map:this.map,initKey:this.initKey},e))}has(e){return super.has(Cit({map:this.map,initKey:this.initKey},e))}set(e,t){return super.set(function rSt({map:n,initKey:e},t){const i=e(t);return n.has(i)?n.get(i):(n.set(i,t),t)}({map:this.map,initKey:this.initKey},e),t)}delete(e){return super.delete(function oSt({map:n,initKey:e},t){const i=e(t);return n.has(i)&&(t=n.get(i),n.delete(i)),t}({map:this.map,initKey:this.initKey},e))}}class Dit{constructor(e){this.options=La({},this.getDefaultOptions()),this.update(e)}getOptions(){return this.options}update(e={}){this.options=La({},this.options,e),this.rescale(e)}rescale(e){}}const XU=Symbol("defaultUnknown");function Tit(n,e,t){for(let i=0;i<e.length;i+=1)n.has(e[i])||n.set(t(e[i]),i)}function Ait(n){const{value:e,from:t,to:i,mapper:r,notFoundReturn:o}=n;let s=r.get(e);if(void 0===s){if(o!==XU)return o;s=t.push(e)-1,r.set(e,s)}return i[s%i.length]}function Oit(n){return n instanceof Date?e=>`${e}`:"object"==typeof n?e=>JSON.stringify(e):e=>e}class YU extends Dit{getDefaultOptions(){return{domain:[],range:[],unknown:XU}}constructor(e){super(e)}map(e){return 0===this.domainIndexMap.size&&Tit(this.domainIndexMap,this.getDomain(),this.domainKey),Ait({value:this.domainKey(e),mapper:this.domainIndexMap,from:this.getDomain(),to:this.getRange(),notFoundReturn:this.options.unknown})}invert(e){return 0===this.rangeIndexMap.size&&Tit(this.rangeIndexMap,this.getRange(),this.rangeKey),Ait({value:this.rangeKey(e),mapper:this.rangeIndexMap,from:this.getRange(),to:this.getDomain(),notFoundReturn:this.options.unknown})}rescale(e){const[t]=this.options.domain,[i]=this.options.range;if(this.domainKey=Oit(t),this.rangeKey=Oit(i),!this.rangeIndexMap)return this.rangeIndexMap=new Map,void(this.domainIndexMap=new Map);(!e||e.range)&&this.rangeIndexMap.clear(),(!e||e.domain||e.compare)&&(this.domainIndexMap.clear(),this.sortedDomain=void 0)}clone(){return new YU(this.options)}getRange(){return this.options.range}getDomain(){if(this.sortedDomain)return this.sortedDomain;const{domain:e,compare:t}=this.options;return this.sortedDomain=t?[...e].sort(t):e,this.sortedDomain}}function cSt(n){return Math.round(1e12*n)/1e12}class ZU extends YU{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,paddingInner:0,paddingOuter:0,padding:0,unknown:XU,flex:[]}}constructor(e){super(e)}clone(){return new ZU(this.options)}getStep(e){return void 0===this.valueStep?1:"number"==typeof this.valueStep?this.valueStep:void 0===e?Array.from(this.valueStep.values())[0]:this.valueStep.get(e)}getBandWidth(e){return void 0===this.valueBandWidth?1:"number"==typeof this.valueBandWidth?this.valueBandWidth:void 0===e?Array.from(this.valueBandWidth.values())[0]:this.valueBandWidth.get(e)}getRange(){return this.adjustedRange}getPaddingInner(){const{padding:e,paddingInner:t}=this.options;return e>0?e:t}getPaddingOuter(){const{padding:e,paddingOuter:t}=this.options;return e>0?e:t}rescale(){super.rescale();const{align:e,domain:t,range:i,round:r,flex:o}=this.options,{adjustedRange:s,valueBandWidth:a,valueStep:l}=function dSt(n){var e;const{domain:t}=n,i=t.length;if(0===i)return{valueBandWidth:void 0,valueStep:void 0,adjustedRange:[]};if(null!==(e=n.flex)&&void 0!==e&&e.length)return function uSt(n){const{domain:e,range:t,paddingOuter:i,paddingInner:r,flex:o,round:s,align:a}=n,l=e.length,u=function lSt(n,e){const i=e-n.length;return i>0?[...n,...new Array(i).fill(1)]:i<0?n.slice(0,e):n}(o,l),[d,f]=t,m=f-d,b=m/(2/l*i+1-1/l*r),E=b*r/l,w=b-l*E,M=function aSt(n){const e=Math.min(...n);return n.map(t=>t/e)}(u),D=w/M.reduce(($,X)=>$+X),k=new Sit(e.map(($,X)=>{const q=M[X]*D;return[$,s?Math.floor(q):q]})),T=new Sit(e.map(($,X)=>{const q=M[X]*D+E;return[$,s?Math.floor(q):q]})),O=Array.from(T.values()).reduce(($,X)=>$+X),L=d+(m-(O-O/l*r))*a;let F=s?Math.round(L):L;const U=new Array(l);for(let $=0;$<l;$+=1)U[$]=cSt(F),F+=T.get(e[$]);return{valueBandWidth:k,valueStep:T,adjustedRange:U}}(n);const{range:r,paddingOuter:o,paddingInner:s,round:a,align:l}=n;let u,d,f=r[0];const m=r[1]-f;u=m/Math.max(1,2*o+(i-s)),a&&(u=Math.floor(u)),f+=(m-u*(i-s))*l,d=u*(1-s),a&&(f=Math.round(f),d=Math.round(d));const E=new Array(i).fill(0).map((w,M)=>f+M*u);return{valueStep:u,valueBandWidth:d,adjustedRange:E}}({align:e,range:i,round:r,flex:o,paddingInner:this.getPaddingInner(),paddingOuter:this.getPaddingOuter(),domain:t});this.valueStep=l,this.valueBandWidth=a,this.adjustedRange=s}}const hSt=(n,e,t)=>{let i,r,o=n,s=e;if(o===s&&t>0)return[o];let a=YP(o,s,t);if(0===a||!Number.isFinite(a))return[];if(a>0){o=Math.ceil(o/a),s=Math.floor(s/a),r=new Array(i=Math.ceil(s-o+1));for(let l=0;l<i;l+=1)r[l]=(o+l)*a}else{a=-a,o=Math.ceil(o*a),s=Math.floor(s*a),r=new Array(i=Math.ceil(s-o+1));for(let l=0;l<i;l+=1)r[l]=(o+l)/a}return r},fSt=(n,e,t)=>{const[i,r]=n,[o,s]=e;let a,l;return i<r?(a=$U(i,r),l=t(o,s)):(a=$U(r,i),l=t(s,o)),XP(l,a)},pSt=(n,e,t)=>{const i=Math.min(n.length,e.length)-1,r=new Array(i),o=new Array(i),s=n[0]>n[i],a=s?[...n].reverse():n,l=s?[...e].reverse():e;for(let u=0;u<i;u+=1)r[u]=$U(a[u],a[u+1]),o[u]=t(l[u],l[u+1]);return u=>{const d=function G3t(n,e,t,i){let o=t||0,s=i||n.length;for(;o<s;){const l=Math.floor((o+s)/2);n[l]>e?s=l:o=l+1}return o}(n,u,1,i)-1;return XP(o[d],r[d])(u)}},kit=(n,e,t,i)=>(Math.min(n.length,e.length)>2?pSt:fSt)(n,e,i?iSt:t);class mSt extends Dit{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,interpolate:QP,tickCount:5}}map(e){return yit(e)?this.output(e):this.options.unknown}invert(e){return yit(e)?this.input(e):this.options.unknown}nice(){if(!this.options.nice)return;const[e,t,i,...r]=this.getTickMethodOptions();this.options.domain=this.chooseNice()(e,t,i,...r)}getTicks(){const{tickMethod:e}=this.options,[t,i,r,...o]=this.getTickMethodOptions();return e(t,i,r,...o)}getTickMethodOptions(){const{domain:e,tickCount:t}=this.options;return[e[0],e[e.length-1],t]}chooseNice(){return $3t}rescale(){this.nice();const[e,t]=this.chooseTransforms();this.composeOutput(e,this.chooseClamp(e)),this.composeInput(e,t,this.chooseClamp(t))}chooseClamp(e){const{clamp:t,range:i}=this.options,r=this.options.domain.map(e),o=Math.min(r.length,i.length);return t?function H3t(n,e){const t=e<n?e:n,i=n>e?n:e;return r=>Math.min(Math.max(t,r),i)}(r[0],r[o-1]):_1}composeOutput(e,t){const{domain:i,range:r,round:o,interpolate:s}=this.options,a=kit(i.map(e),r,s,o);this.output=XP(a,t,e)}composeInput(e,t,i){const{domain:r,range:o}=this.options,s=kit(o,r.map(e),QP);this.input=XP(t,i,s)}}class J3 extends mSt{getDefaultOptions(){return{domain:[0,1],range:[0,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolate:nSt,tickMethod:hSt,tickCount:5}}chooseTransforms(){return[_1,_1]}clone(){return new J3(this.options)}}var gSt=function(n){function e(t){var i=this,r=t.style,o=fs(t,["style"]);return(i=n.call(this,La({},{type:"column"},wn({style:r},o)))||this).columnsGroup=new Tl({name:"columns"}),i.appendChild(i.columnsGroup),i.render(),i}return lr(e,n),e.prototype.render=function(){var t=this.attributes,i=t.columns,o=t.y;this.columnsGroup.style.transform="translate(".concat(t.x,", ").concat(o,")"),Mi(this.columnsGroup).selectAll(".column").data(i.flat()).join(function(s){return s.append("rect").attr("className","column").each(function(a){this.attr(a)})},function(s){return s.each(function(a){this.attr(a)})},function(s){return s.remove()})},e.prototype.update=function(t){this.attr($a({},this.attributes,t)),this.render()},e.prototype.clear=function(){this.removeChildren()},e}(Yk),vSt=function(n){function e(t){var i=this,r=t.style,o=fs(t,["style"]);return(i=n.call(this,La({},{type:"lines"},wn({style:r},o)))||this).linesGroup=i.appendChild(new Tl),i.areasGroup=i.appendChild(new Tl),i.render(),i}return lr(e,n),e.prototype.render=function(){var t=this.attributes,i=t.lines,r=t.areas,s=t.y;this.style.transform="translate(".concat(t.x,", ").concat(s,")"),i&&this.renderLines(i),r&&this.renderAreas(r)},e.prototype.clear=function(){this.linesGroup.removeChildren(),this.areasGroup.removeChildren()},e.prototype.update=function(t){this.attr($a({},this.attributes,t)),this.render()},e.prototype.renderLines=function(t){Mi(this.linesGroup).selectAll(".line").data(t).join(function(i){return i.append("path").attr("className","line").each(function(r){this.attr(r)})},function(i){return i.each(function(r){this.attr(r)})},function(i){return i.remove()})},e.prototype.renderAreas=function(t){Mi(this.linesGroup).selectAll(".area").data(t).join(function(i){return i.append("path").attr("className","area").each(function(r){this.attr(r)})},function(i){return i.each(function(r){this.style(r)})},function(i){return i.remove()})},e}(Yk);function tS(n,e){void 0===e&&(e=!1);var t=e?n.length-1:0,i=n.map(function(r,o){return Qn([o===t?"M":"L"],Xt(r),!1)});return e?i.reverse():i}function qP(n,e){if(void 0===e&&(e=!1),n.length<=2)return tS(n);for(var t=[],i=n.length,r=0;r<i;r+=1){var o=e?n[i-r-1]:n[r];Xo(o,t.slice(-2))||t.push.apply(t,Qn([],Xt(o),!1))}var s=function a3t(n,e,t){void 0===t&&(t=[[0,0],[1,1]]);for(var i=!!e,r=[],o=0,s=n.length;o<s;o+=2)r.push([n[o],n[o+1]]);var d,f,m,a=function s3t(n,e,t,i){var r,a,l,f,m,y,o=[],s=!!i,u=[1/0,1/0],d=[-1/0,-1/0];if(s){u=(r=Xt(i,2))[0],d=r[1];for(var b=0,E=n.length;b<E;b+=1)u=ty(u,w=n[b]),d=ey(d,w)}b=0;for(var M=n.length;b<M;b+=1){var w=n[b];if(0!==b||t)if(b!==M-1||t){var D=[0,0];D=c0(D=UU(l=n[b+1],a=n[b-1]),e);var k=Z3(w,a),T=Z3(w,l),O=k+T;0!==O&&(k/=O,T/=O);var R=c0(D,-k),L=c0(D,T);m=Y3(w,R),f=ty(f=Y3(w,L),ey(l,w)),f=ey(f,ty(l,w)),m=ty(m=Y3(w,R=c0(R=UU(f,w),-k/T)),ey(a,w)),f=Y3(w,L=c0(L=UU(w,m=ey(m,ty(a,w))),T/k)),s&&(m=ty(m=ey(m,u),d),f=ty(f=ey(f,u),d)),o.push(y),o.push(m),y=f}else m=w,o.push(y),o.push(m);else y=w}return o}(r,.4,i,t),l=r.length,u=[];for(o=0;o<l-1;o+=1)u.push(["C",(d=a[2*o])[0],d[1],(f=a[2*o+1])[0],f[1],(m=r[o+1])[0],m[1]]);return u}(t,!1);return s.unshift(Qn(["M"],Xt(e?n[i-1]:n[0]),!1)),s}function QU(n,e,t){var i=Jd(n);return i.push(["L",e,t],["L",0,t],["Z"]),i}function Iit(n){return 0===n.length?[0,0]:[$0(h1(n,function(e){return $0(e)||0})),av(Fw(n,function(e){return av(e)||0}))]}function Rit(n){for(var e=Jd(n),t=e[0].length,i=Xt([Array(t).fill(0),Array(t).fill(0)],2),r=i[0],o=i[1],s=0;s<e.length;s+=1)for(var a=e[s],l=0;l<t;l+=1)a[l]>=0?(a[l]+=r[l],r[l]=a[l]):(a[l]+=o[l],o[l]=a[l]);return e}var wSt=function(n){function e(t){return n.call(this,t,{type:"line",x:0,y:0,width:200,height:20,isStack:!1,color:["#83daad","#edbf45","#d2cef9","#e290b3","#6f63f4"],smooth:!0,lineLineWidth:1,areaOpacity:0,isGroup:!1,columnLineWidth:1,columnStroke:"#fff",scale:1,spacing:0})||this}return lr(e,n),Object.defineProperty(e.prototype,"rawData",{get:function(){var t=this.attributes.data;if(!t||0===t?.length)return[[]];var i=Jd(t);return oi(i[0])?[i]:i},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this.attributes.isStack?Rit(this.rawData):this.rawData},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scales",{get:function(){return this.createScales(this.data)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"baseline",{get:function(){var t=this.scales.y,i=Xt(t.getOptions().domain||[0,0],2),r=i[0],o=i[1];return t.map(o<0?o:r<0?0:r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"containerShape",{get:function(){var t=this.attributes;return{width:t.width,height:t.height}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"linesStyle",{get:function(){var t=this,i=this.attributes,o=i.isStack,s=i.smooth;if("line"!==i.type)throw new Error("linesStyle can only be used in line type");var a=sr(this.attributes,"area"),l=sr(this.attributes,"line"),u=this.containerShape.width,d=this.data;if(0===d[0].length)return{lines:[],areas:[]};var f=this.scales,b=function ySt(n,e){var t,i=e.x,r=e.y,o=Xt(r.getOptions().range||[0,0],2),s=o[0],a=o[1];return a>s&&(t=Xt([s,a],2),a=t[0],s=t[1]),n.map(function(l){return l.map(function(d,f){return[i.map(f),Ys(r.map(d),a,s)]})})}(d,{type:"line",x:f.x,y:f.y}),E=[];if(a){var w=this.baseline;E=o?s?function ESt(n,e,t){for(var i=[],r=n.length-1;r>=0;r-=1){var o=n[r],s=qP(o),a=void 0;if(0===r)a=QU(s,e,t);else{var u=qP(n[r-1],!0),d=o[0];u[0][0]="L",a=Qn(Qn(Qn([],Xt(s),!1),Xt(u),!1),[Qn(["M"],Xt(d),!1),["Z"]],!1)}i.push(a)}return i}(b,u,w):function _St(n,e,t){for(var i=[],r=n.length-1;r>=0;r-=1){var s=tS(n[r]),a=void 0;if(0===r)a=QU(s,e,t);else{var u=tS(n[r-1],!0);u[0][0]="L",a=Qn(Qn(Qn([],Xt(s),!1),Xt(u),!1),[["Z"]],!1)}i.push(a)}return i}(b,u,w):function bSt(n,e,t,i){return n.map(function(r){return QU(e?qP(r):tS(r),t,i)})}(b,s,u,w)}return{lines:b.map(function(M,x){return wn({stroke:t.getColor(x),d:s?qP(M):tS(M)},l)}),areas:E.map(function(M,x){return wn({d:M,fill:t.getColor(x)},a)})}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"columnsStyle",{get:function(){var t=this,i=sr(this.attributes,"column"),r=this.attributes,o=r.isStack,a=r.scale;if("column"!==r.type)throw new Error("columnsStyle can only be used in column type");var l=this.containerShape.height,u=this.rawData;if(!u)return{columns:[]};o&&(u=Rit(u));var d=this.createScales(u),f=d.x,m=d.y,y=Xt(Iit(u),2),b=y[0],w=new J3({domain:[0,y[1]-(b>0?0:b)],range:[0,l*a]}),M=f.getBandWidth(),x=this.rawData;return{columns:u.map(function(D,k){return D.map(function(T,O){var R=M/u.length;return wn(wn({fill:t.getColor(k)},i),o?{x:f.map(O),y:m.map(T),width:M,height:w.map(x[k][O])}:{x:f.map(O)+R*k,y:m.map(T>=0?T:0),width:R,height:w.map(Math.abs(T))})})})}},enumerable:!1,configurable:!0}),e.prototype.render=function(t,i){(function p3t(n,e,t){return n.querySelector(e)?Mi(n).select(e):Mi(n).append(t)})(i,".container","rect").attr("className","container").node();var r=t.type,o=t.x,s=t.y,a="spark".concat(r),l=wn({x:o,y:s},"line"===r?this.linesStyle:this.columnsStyle);Mi(i).selectAll(".spark").data([r]).join(function(u){return u.append(function(d){return"line"===d?new vSt({className:a,style:l}):new gSt({className:a,style:l})}).attr("className","spark ".concat(a))},function(u){return u.update(l)},function(u){return u.remove()})},e.prototype.getColor=function(t){var i=this.attributes.color;return qi(i)?i[t%i.length]:ii(i)?i.call(null,t):i},e.prototype.createScales=function(t){var i,r,o=this.attributes,s=o.type,a=o.scale,l=o.range,u=void 0===l?[]:l,d=o.spacing,f=this.containerShape,m=f.width,y=f.height,b=Xt(Iit(t),2),M=new J3({domain:[null!==(i=u[0])&&void 0!==i?i:b[0],null!==(r=u[1])&&void 0!==r?r:b[1]],range:[y,y*(1-a)]});return"line"===s?{type:s,x:new J3({domain:[0,t[0].length-1],range:[0,m]}),y:M}:{type:s,x:new ZU({domain:t[0].map(function(x,D){return D}),range:[0,m],paddingInner:d,paddingOuter:d/2,align:.5}),y:M}},e.tag="sparkline",e}(js);function Pit(n){if(!n)return{enter:!1,update:!1,exit:!1};var e=["enter","update","exit"],t=Object.fromEntries(Object.entries(n).filter(function(i){var r=Xt(i,1);return!e.includes(r[0])}));return Object.fromEntries(e.map(function(i){return function xSt(n){return"boolean"!=typeof n&&"enter"in n&&"update"in n&&"exit"in n}(n)?!1===n[i]?[i,!1]:[i,wn(wn({},n[i]),t)]:[i,t]}))}function H_(n,e){n?n.finished.then(e):e()}function Nit(n,e){"update"in n?n.update(e):n.attr(e)}function Lit(n,e,t){return 0===e.length?null:t?n.animate(e,t):(Nit(n,{style:e.slice(-1)[0]}),null)}function Dh(n,e,t){var i={},r={};return Object.entries(e).forEach(function(o){var s=Xt(o,2),a=s[0],l=s[1];if(!Oi(l)){var u=n.style[a]||n.parsedStyle[a]||0;u!==l&&(i[a]=u,r[a]=l)}}),t?Lit(n,[i,r],wn({fill:"both"},t)):(Nit(n,r),null)}function JP(n,e){return n.style.opacity||(n.style.opacity=1),Dh(n,{opacity:0},e)}var Fit={fill:"#fff",lineWidth:1,radius:2,size:10,stroke:"#bfbfbf",strokeOpacity:1,zIndex:0},Bit={fill:"#000",fillOpacity:.45,fontSize:12,textAlign:"center",textBaseline:"middle",zIndex:1},jit={x:0,y:0,orientation:"horizontal",showLabel:!0,type:"start"},Pf=Sh({foreground:"foreground",handle:"handle",selection:"selection",sparkline:"sparkline",sparklineGroup:"sparkline-group",track:"track",brushArea:"brush-area"},"slider"),ag=Sh({labelGroup:"label-group",label:"label",iconGroup:"icon-group",icon:"icon",iconRect:"icon-rect",iconLine:"icon-line"},"handle"),DSt=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return lr(e,n),e.prototype.render=function(t,i){var r=t.x,o=t.y,s=t.size,a=void 0===s?10:s,l=t.radius,u=void 0===l?a/4:l,d=t.orientation,f=fs(t,["x","y","size","radius","orientation"]),m=a,y=2.4*m,b=Mi(i).maybeAppendByClassName(ag.iconRect,"rect").styles(wn(wn({},f),{width:m,height:y,radius:u,x:r-m/2,y:o-y/2,transformOrigin:"center"})),E=r+1/3*m-m/2,w=r+2/3*m-m/2,M=o+1/4*y-y/2,x=o+3/4*y-y/2;b.maybeAppendByClassName("".concat(ag.iconLine,"-1"),"line").styles(wn({x1:E,x2:E,y1:M,y2:x},f)),b.maybeAppendByClassName("".concat(ag.iconLine,"-2"),"line").styles(wn({x1:w,x2:w,y1:M,y2:x},f)),"vertical"===d&&(b.node().style.transform="rotate(90)")},e}(js),TSt=function(n){function e(t){return n.call(this,t,jit)||this}return lr(e,n),e.prototype.renderLabel=function(t){var i=this,r=this.attributes,o=r.x,s=r.y,a=r.showLabel,l=sr(this.attributes,"label"),u=l.x,d=void 0===u?0:u,f=l.y,m=void 0===f?0:f,y=l.transform,b=l.transformOrigin,w=Xt(u0(fs(l,["x","y","transform","transformOrigin"]),[]),2),M=w[0],x=w[1],D=Mi(t).maybeAppendByClassName(ag.labelGroup,"g").styles(x),k=wn(wn({},Bit),M),T=k.text,O=fs(k,["text"]);Ru(!!a,D,function(R){i.label=R.maybeAppendByClassName(ag.label,"text").styles(wn(wn({},O),{x:o+d,y:s+m,transform:y,transformOrigin:b,text:"".concat(T)})),i.label.on("mousedown",function(L){L.stopPropagation()}),i.label.on("touchstart",function(L){L.stopPropagation()})})},e.prototype.renderIcon=function(t){var i=this.attributes,a=i.type,l=wn(wn({x:i.x,y:i.y,orientation:i.orientation},Fit),sr(this.attributes,"icon")),u=this.attributes.iconShape,d=void 0===u?function(){return new DSt({style:l})}:u;Mi(t).maybeAppendByClassName(ag.iconGroup,"g").selectAll(ag.icon.class).data([d]).join(function(m){return m.append("string"==typeof d?d:function(){return d(a)}).attr("className",ag.icon.name)},function(m){return m.update(l)},function(m){return m.remove()})},e.prototype.render=function(t,i){this.renderIcon(i),this.renderLabel(i)},e}(js),ASt=function(n){function e(t){var i=n.call(this,t,wn(wn(wn({x:0,y:0,animate:{duration:100,fill:"both"},brushable:!0,formatter:function(r){return r.toString()},handleSpacing:2,orientation:"horizontal",padding:0,autoFitLabel:!0,scrollable:!0,selectionFill:"#5B8FF9",selectionFillOpacity:.45,selectionZIndex:2,showHandle:!0,showLabel:!0,slidable:!0,trackFill:"#416180",trackLength:200,trackOpacity:.05,trackSize:20,trackZIndex:-1,values:[0,1],type:"range",selectionType:"select",handleIconOffset:0},U_(jit,"handle")),U_(Fit,"handleIcon")),U_(Bit,"handleLabel")))||this;return i.range=[0,1],i.onDragStart=function(r){return function(o){o.stopPropagation(),i.target=r,i.prevPos=i.getOrientVal(nit(o));var s=i.availableSpace,a=s.x,l=s.y,u=i.getBBox(),d=u.x,f=u.y;i.selectionStartPos=i.getRatio(i.prevPos-i.getOrientVal([a,l])-i.getOrientVal([+d,+f])),i.selectionWidth=0,document.addEventListener("pointermove",i.onDragging),document.addEventListener("pointerup",i.onDragEnd)}},i.onDragging=function(r){var o=i.attributes,s=o.slidable,a=o.brushable,l=o.type;r.stopPropagation();var u=i.getOrientVal(nit(r)),d=u-i.prevPos;if(d){var f=i.getRatio(d);switch(i.target){case"start":s&&i.setValuesOffset(f);break;case"end":s&&i.setValuesOffset(0,f);break;case"selection":s&&i.setValuesOffset(f,f);break;case"track":if(!a)return;i.selectionWidth+=f,i.innerSetValues("range"===l?[i.selectionStartPos,i.selectionStartPos+i.selectionWidth].sort():[0,i.selectionStartPos+i.selectionWidth],!0)}i.prevPos=u}},i.onDragEnd=function(){document.removeEventListener("pointermove",i.onDragging),document.removeEventListener("pointermove",i.onDragging),document.removeEventListener("pointerup",i.onDragEnd),i.target="",i.updateHandlesPosition(!1)},i.onValueChange=function(r){var o=i.attributes,s=o.onChange,a=o.type,l="range"===a?r:r[1],u="range"===a?i.getValues():i.getValues()[1],d=new kb("valuechange",{detail:{oldValue:l,value:u}});i.dispatchEvent(d),s?.(u)},i.selectionStartPos=0,i.selectionWidth=0,i.prevPos=0,i.target="",i}return lr(e,n),Object.defineProperty(e.prototype,"values",{get:function(){return this.attributes.values},set:function(t){this.attributes.values=this.clampValues(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sparklineStyle",{get:function(){if("horizontal"!==this.attributes.orientation)return null;var i=sr(this.attributes,"sparkline");return wn(wn({zIndex:0},this.availableSpace),i)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shape",{get:function(){var t=this.attributes,i=t.trackLength,r=t.trackSize,o=Xt(this.getOrientVal([[i,r],[r,i]]),2);return{width:o[0],height:o[1]}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"availableSpace",{get:function(){var r=Xt(ta(this.attributes.padding),4),o=r[0],l=r[3],u=this.shape;return{x:l,y:o,width:u.width-(l+r[1]),height:u.height-(o+r[2])}},enumerable:!1,configurable:!0}),e.prototype.getValues=function(){return this.values},e.prototype.setValues=function(t,i){void 0===t&&(t=[0,0]),void 0===i&&(i=!1),this.attributes.values=t;var r=!1!==i&&this.attributes.animate;this.updateSelectionArea(r),this.updateHandlesPosition(r)},e.prototype.updateSelectionArea=function(t){var i=this.calcSelectionArea();this.foregroundGroup.selectAll(Pf.selection.class).each(function(r,o){Dh(this,i[o],t)})},e.prototype.updateHandlesPosition=function(t){this.attributes.showHandle&&(this.startHandle&&Dh(this.startHandle,this.getHandleStyle("start"),t),this.endHandle&&Dh(this.endHandle,this.getHandleStyle("end"),t))},e.prototype.innerSetValues=function(t,i){void 0===t&&(t=[0,0]),void 0===i&&(i=!1);var r=this.values,o=this.clampValues(t);this.attributes.values=o,this.setValues(o),i&&this.onValueChange(r)},e.prototype.renderTrack=function(t){var i=this.attributes,r=i.x,o=i.y,s=sr(this.attributes,"track");this.trackShape=Mi(t).maybeAppendByClassName(Pf.track,"rect").styles(wn(wn({x:r,y:o},this.shape),s))},e.prototype.renderBrushArea=function(t){var i=this.attributes,r=i.x,o=i.y,s=i.brushable;this.brushArea=Mi(t).maybeAppendByClassName(Pf.brushArea,"rect").styles(wn({x:r,y:o,fill:"transparent",cursor:s?"crosshair":"default"},this.shape))},e.prototype.renderSparkline=function(t){var i=this,r=this.attributes,o=r.x,s=r.y;Ru("horizontal"===r.orientation,Mi(t).maybeAppendByClassName(Pf.sparklineGroup,"g"),function(u){var d=wn(wn({},i.sparklineStyle),{x:o,y:s});u.maybeAppendByClassName(Pf.sparkline,function(){return new wSt({style:d})}).update(d)})},e.prototype.renderHandles=function(){var i,t=this,r=this.attributes,l=r.showHandle?"range"===r.type?["start","end"]:["end"]:[],u=this;null===(i=this.foregroundGroup)||void 0===i||i.selectAll(Pf.handle.class).data(l.map(function(d){return{type:d}}),function(d){return d.type}).join(function(d){return d.append(function(f){return new TSt({style:t.getHandleStyle(f.type)})}).each(function(f){var m=f.type;this.attr("class","".concat(Pf.handle.name," ").concat(m,"-handle"));var y="".concat(m,"Handle");u[y]=this,this.addEventListener("pointerdown",u.onDragStart(m))})},function(d){return d.each(function(f){this.update(u.getHandleStyle(f.type))})},function(d){return d.each(function(f){var y="".concat(f.type,"Handle");u[y]=void 0}).remove()})},e.prototype.renderSelection=function(t){var i=this.attributes,r=i.x,o=i.y,s=i.type,a=i.selectionType;this.foregroundGroup=Mi(t).maybeAppendByClassName(Pf.foreground,"g");var l=sr(this.attributes,"selection"),u=function(f){return f.style("visibility",function(m){return m.show?"visible":"hidden"}).style("cursor",function(m){return"select"===a?"grab":"invert"===a?"crosshair":"default"}).styles(wn(wn({},l),{transform:"translate(".concat(r,", ").concat(o,")")}))},d=this;this.foregroundGroup.selectAll(Pf.selection.class).data("value"===s?[]:this.calcSelectionArea().map(function(f,m){return{style:wn({},f),index:m,show:"select"===a?1===m:1!==m}}),function(f){return f.index}).join(function(f){return f.append("rect").attr("className",Pf.selection.name).call(u).each(function(m,y){var b=this;1===y?(d.selectionShape=Mi(this),this.on("pointerdown",function(E){b.attr("cursor","grabbing"),d.onDragStart("selection")(E)}),d.dispatchCustomEvent(this,"pointerenter","selectionMouseenter"),d.dispatchCustomEvent(this,"pointerleave","selectionMouseleave"),d.dispatchCustomEvent(this,"click","selectionClick"),this.addEventListener("pointerdown",function(){b.attr("cursor","grabbing")}),this.addEventListener("pointerup",function(){b.attr("cursor","pointer")}),this.addEventListener("pointerover",function(){b.attr("cursor","pointer")})):this.on("pointerdown",d.onDragStart("track"))})},function(f){return f.call(u)},function(f){return f.remove()}),this.updateSelectionArea(!1),this.renderHandles()},e.prototype.render=function(t,i){this.renderTrack(i),this.renderSparkline(i),this.renderBrushArea(i),this.renderSelection(i)},e.prototype.clampValues=function(t,i){var r;void 0===i&&(i=4);var o=Xt(this.range,2),s=o[0],a=o[1],l=Xt(this.getValues().map(function(w){return oit(w,i)}),2),u=l[0],d=l[1],m=Xt(((Array.isArray(t)?t:[u,t??d])||[u,d]).map(function(w){return oit(w,i)}),2),y=m[0],b=m[1];if("value"===this.attributes.type)return[0,Ys(b,s,a)];y>b&&(y=(r=Xt([b,y],2))[0],b=r[1]);var E=b-y;return E>a-s?[s,a]:y<s?u===s&&d===b?[s,b]:[s,E+s]:b>a?d===a&&u===y?[y,a]:[a-E,a]:[y,b]},e.prototype.calcSelectionArea=function(t){var i=Xt(this.clampValues(t),2),r=i[0],o=i[1],s=this.availableSpace,a=s.x,l=s.y,u=s.width,d=s.height;return this.getOrientVal([[{y:l,height:d,x:a,width:r*u},{y:l,height:d,x:r*u+a,width:(o-r)*u},{y:l,height:d,x:o*u,width:(1-o)*u}],[{x:a,width:u,y:l,height:r*d},{x:a,width:u,y:r*d+l,height:(o-r)*d},{x:a,width:u,y:o*d,height:(1-o)*d}]])},e.prototype.calcHandlePosition=function(t){var i=this.attributes.handleIconOffset,r=this.availableSpace,o=r.x,s=r.y,a=r.width,l=r.height,u=Xt(this.clampValues(),2),m="start"===t?-i:i,y=("start"===t?u[0]:u[1])*this.getOrientVal([a,l])+m;return{x:o+this.getOrientVal([y,a/2]),y:s+this.getOrientVal([l/2,y])}},e.prototype.inferTextStyle=function(t){return"horizontal"===this.attributes.orientation?{}:"start"===t?{transformOrigin:"left center",transform:"rotate(90)",textAlign:"start"}:"end"===t?{transformOrigin:"right center",transform:"rotate(90)",textAlign:"end"}:{}},e.prototype.calcHandleText=function(t){var i,r=this.attributes,o=r.type,s=r.orientation,a=r.formatter,l=r.autoFitLabel,u=sr(this.attributes,"handle"),d=sr(u,"label"),f=u.spacing,m=this.getHandleSize(),y=this.clampValues(),E=a("start"===t?y[0]:y[1]),w=new jU({style:wn(wn(wn({},d),this.inferTextStyle(t)),{text:E})}),M=w.getBBox(),x=M.width,D=M.height;if(w.destroy(),!l){if("value"===o)return{text:E,x:0,y:-D-f};var k=f+m+("horizontal"===s?x/2:0);return(i={text:E})["horizontal"===s?"x":"y"]="start"===t?-k:k,i}var T=0,O=0,R=this.availableSpace,L=R.width,F=R.height,U=this.calcSelectionArea()[1],$=U.x,X=U.y,Et=f+m;if("horizontal"===s){var at=Et+x/2;T="start"===t?$-Et-x>0?-at:at:L-$-U.width-Et>x?at:-at}else{var Yt=D+Et;O="start"===t?X-m>D?-Yt:Et:F-(X+U.height)-m>D?Yt:-Et}return{x:T,y:O,text:E}},e.prototype.getHandleLabelStyle=function(t){var i=sr(this.attributes,"handleLabel");return wn(wn(wn({},i),this.calcHandleText(t)),this.inferTextStyle(t))},e.prototype.getHandleIconStyle=function(){var t=this.attributes.handleIconShape,i=sr(this.attributes,"handleIcon"),r=this.getOrientVal(["ew-resize","ns-resize"]),o=this.getHandleSize();return wn({cursor:r,shape:t,size:o},i)},e.prototype.getHandleStyle=function(t){var i=this.attributes,r=i.x,o=i.y,s=i.showLabel,a=i.showLabelOnInteraction,l=i.orientation,u=this.calcHandlePosition(t),d=u.x,f=u.y,m=this.calcHandleText(t),y=s;return!s&&a&&(y=!!this.target),wn(wn(wn({},U_(this.getHandleIconStyle(),"icon")),U_(wn(wn({},this.getHandleLabelStyle(t)),m),"label")),{transform:"translate(".concat(d+r,", ").concat(f+o,")"),orientation:l,showLabel:y,type:t,zIndex:3})},e.prototype.getHandleSize=function(){var t=this.attributes;return t.handleIconSize||Math.floor((this.getOrientVal([+t.height,+t.width])+4)/2.4)},e.prototype.getOrientVal=function(t){var i=Xt(t,2);return"horizontal"===this.attributes.orientation?i[0]:i[1]},e.prototype.setValuesOffset=function(t,i,r){void 0===i&&(i=0),void 0===r&&(r=!1);var o=this.attributes.type,s=Xt(this.getValues(),2),d=[s[0]+("range"===o?t:0),s[1]+i].sort();r?this.setValues(d):this.innerSetValues(d,!0)},e.prototype.getRatio=function(t){var i=this.availableSpace;return t/this.getOrientVal([i.width,i.height])},e.prototype.dispatchCustomEvent=function(t,i,r){var o=this;t.on(i,function(s){s.stopPropagation(),o.dispatchEvent(new kb(r,{detail:s}))})},e.prototype.bindEvents=function(){this.addEventListener("wheel",this.onScroll);var t=this.brushArea;this.dispatchCustomEvent(t,"click","trackClick"),this.dispatchCustomEvent(t,"pointerenter","trackMouseenter"),this.dispatchCustomEvent(t,"pointerleave","trackMouseleave"),t.on("pointerdown",this.onDragStart("track"))},e.prototype.onScroll=function(t){if(this.attributes.scrollable){var a=this.getRatio(t.deltaY||t.deltaX);this.setValuesOffset(a,a,!0)}},e.tag="slider",e}(js),qU={data:[],animate:{enter:!1,update:{duration:100,easing:"ease-in-out-sine",fill:"both"},exit:{duration:100,fill:"both"}},showArrow:!0,showGrid:!0,showLabel:!0,showLine:!0,showTick:!0,showTitle:!0,showTrunc:!1,dataThreshold:100,lineLineWidth:1,lineStroke:"black",crossPadding:10,titleFill:"black",titleFontSize:12,titlePosition:"lb",titleSpacing:0,titleTextAlign:"center",titleTextBaseline:"middle",lineArrow:function(){return new Ib({style:{d:[["M",10,10],["L",-10,0],["L",10,-10],["L",0,0],["L",10,10],["Z"]],fill:"black",transformOrigin:"center"}})},labelAlign:"parallel",labelDirection:"positive",labelFontSize:12,labelSpacing:0,gridConnect:"line",gridControlAngles:[],gridDirection:"positive",gridLength:0,gridType:"segment",lineArrowOffset:15,lineArrowSize:10,tickDirection:"positive",tickLength:5,tickLineWidth:1,tickStroke:"black",labelOverlap:[]};La({},qU,{style:{type:"arc"}}),La({},qU,{style:{}});var Lo=Sh({mainGroup:"main-group",gridGroup:"grid-group",grid:"grid",lineGroup:"line-group",line:"line",tickGroup:"tick-group",tick:"tick",tickItem:"tick-item",labelGroup:"label-group",label:"label",labelItem:"label-item",titleGroup:"title-group",title:"title",lineFirst:"line-first",lineSecond:"line-second"},"axis"),G_=Sh({lineGroup:"line-group",line:"line",regionGroup:"region-group",region:"region"},"grid");function Vit(n){return n.reduce(function(e,t,i){return e.push(Qn([0===i?"M":"L"],Xt(t),!1)),e},[])}function JU(n,e,t){return"surround"===e.type?function OSt(n,e,t){var i=e.connect,o=e.center;if("line"===(void 0===i?"line":i))return Vit(n);if(!o)return[];var s=Z3(n[0],o),a=t?0:1;return n.reduce(function(l,u,d){return l.push(Qn(0===d?["M"]:["A",s,s,0,0,a],Xt(u),!1)),l},[])}(n,e,t):Vit(n)}function kSt(n,e,t){var i=t.type,r=t.connect,o=t.center,a=t.closed?[["Z"]]:[],l=Xt([JU(n,t),JU(e.slice().reverse(),t,!0)],2),u=l[0],d=l[1],f=Xt([n[0],e.slice(-1)[0]],2),m=f[0],y=f[1],b=function(x,D){return[u,x,d,D,a].flat()};if("line"===r||"surround"===i)return b([Qn(["L"],Xt(y),!1)],[Qn(["L"],Xt(m),!1)]);if(!o)throw new Error("Arc grid need to specified center");var E=Xt([Z3(y,o),Z3(m,o)],2),w=E[0],M=E[1];return b([Qn(["A",w,w,0,0,1],Xt(y),!1),Qn(["L"],Xt(y),!1)],[Qn(["A",M,M,0,0,0],Xt(m),!1),Qn(["L"],Xt(m),!1)])}var NSt=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return lr(e,n),e.prototype.render=function(t,i){var r=fs(t,["type","center","areaFill","closed"]),o=function PSt(n){var e=n.data,t=void 0===e?[]:e;return n.closed?t.map(function(r){var o=r.points,a=Xt(o,1)[0];return wn(wn({},r),{points:Qn(Qn([],Xt(o),!1),[a],!1)})}):t}(t),s=Mi(i).maybeAppendByClassName(G_.lineGroup,"g"),a=Mi(i).maybeAppendByClassName(G_.regionGroup,"g"),l=function ISt(n,e,t,i){var r=t.animate,o=t.isBillboard,s=e.map(function(a,l){return{id:a.id||"grid-line-".concat(l),d:JU(a.points,t)}});return n.selectAll(G_.line.class).data(s,function(a){return a.id}).join(function(a){return a.append("path").each(function(l,u){var d=_d(ait(wn({d:l.d},i)),[l,u,s]);this.attr(wn({class:G_.line.name,stroke:"#D9D9D9",lineWidth:1,lineDash:[4,4],isBillboard:o},d))})},function(a){return a.transition(function(l,u){return Dh(this,_d(ait(wn({d:l.d},i)),[l,u,s]),r.update)})},function(a){return a.transition(function(){var l=this,u=JP(this,r.exit);return H_(u,function(){return l.remove()}),u})}).transitions()}(s,o,t,r),u=function RSt(n,e,t){var b,i=t.animate,o=t.areaFill;if(e.length<2||!o||!t.connect)return[];for(var s=Array.isArray(o)?o:[o,"transparent"],l=[],u=0;u<e.length-1;u++){var d=Xt([e[u].points,e[u+1].points],2),y=kSt(d[0],d[1],t);l.push({d:y,fill:(b=u,s[b%s.length])})}return n.selectAll(G_.region.class).data(l,function(b,E){return E}).join(function(b){return b.append("path").each(function(E,w){var M=_d(E,[E,w,l]);this.attr(M)}).attr("className",G_.region.name)},function(b){return b.transition(function(E,w){return Dh(this,_d(E,[E,w,l]),i.update)})},function(b){return b.transition(function(){var E=this,w=JP(this,i.exit);return H_(w,function(){return E.remove()}),w})}).transitions()}(a,o,t);return Qn(Qn([],Xt(l),!1),Xt(u),!1)},e}(js);function zit(n,e){return Object.fromEntries(Object.entries(n).map(function(t){var i=Xt(t,2);return[i[0],_d(i[1],e)]}))}function tH(n,e){return e&&ii(e)?n.filter(e):n}function Uit(n,e){var t=e.startAngle;return(e.endAngle-t)*n+t}function t4(n,e){if("linear"===e.type){var t=Xt(e.startPos,2),i=t[0],r=t[1],o=Xt(e.endPos,2),l=Xt([o[0]-i,o[1]-r],2);return rit([l[0],l[1]])}var f=z_(Uit(n,e));return[-Math.sin(f),Math.cos(f)]}function eH(n,e,t){return function o3t(n,e){return e?[n[1],-n[0]]:[-n[1],n[0]]}(t4(n,t),"positive"!==e)}function eS(n,e){return eH(n,e.labelDirection,e)}function e4(n,e){return"linear"===e.type?function LSt(n,e){var t=Xt(e.startPos,2),i=t[0],r=t[1],o=Xt(e.endPos,2),l=Xt([o[0]-i,o[1]-r],2);return[i+l[0]*n,r+l[1]*n]}(n,e):function FSt(n,e){var t=e.radius,i=Xt(e.center,2),r=i[0],o=i[1],s=z_(Uit(n,e));return[r+t*Math.cos(s),o+t*Math.sin(s)]}(n,e)}function Hit(n){return 0===t4(0,n)[1]}function Git(n){return 0===t4(0,n)[0]}function $it(n,e){return e-n==360}function Wit(n,e,t,i,r){var o=e-n,s=Xt([r,r],2),a=s[0],l=s[1],u=Xt([z_(n),z_(e)],2),d=u[0],f=u[1],m=function(F){return[t+r*Math.cos(F),i+r*Math.sin(F)]},y=Xt(m(d),2),b=y[0],E=y[1],w=Xt(m(f),2),M=w[0],x=w[1];if($it(n,e)){var k=Xt(m((f+d)/2),2);return[["M",b,E],["A",a,l,0,1,0,k[0],k[1]],["A",a,l,0,1,0,M,x]]}var R=o>180?1:0,L=n>e?0:1;return"M".concat(b,",").concat(E,",A").concat(a,",").concat(l,",0,").concat(R,",").concat(L,",").concat(M,",").concat(x)}function jSt(n,e,t,i){var r=e.startAngle,o=e.endAngle,s=e.center,a=e.radius;return n.selectAll(Lo.line.class).data([{d:Wit.apply(void 0,Qn(Qn([r,o],Xt(s),!1),[a],!1))}],function(l,u){return u}).join(function(l){return l.append("path").attr("className",Lo.line.name).styles(e).styles({d:function(u){return u.d}})},function(l){return l.transition(function(){var u=this,d=function e3t(n,e,t,i){if(!i)return n.attr("__keyframe_data__",t),null;var r=i.duration,o=void 0===r?0:r,s=zU(e,t),a=Math.ceil(+o/16),l=new Array(a).fill(0).map(function(u,d,f){return{__keyframe_data__:s(d/(f.length-1))}});return n.animate(l,wn({fill:"both"},i))}(this,function BSt(n){var e=n.attributes,o=e.radius;return Qn(Qn([e.startAngle,e.endAngle],Xt(e.center),!1),[o],!1)}(this),Qn(Qn([r,o],Xt(s),!1),[a],!1),i.update);if(d){var f=function(){var m=xa(u.attributes,"__keyframe_data__");u.style.d=Wit.apply(void 0,Qn([],Xt(m),!1))};d.onframe=f,d.onfinish=f}return d}).styles(e)},function(l){return l.remove()}).styles(t).transitions()}function Kit(n){var e=Xt(n,2),t=Xt(e[0],2),i=t[0],r=t[1],o=Xt(e[1],2);return{x1:i,y1:r,x2:o[0],y2:o[1]}}function GSt(n,e,t){var r,i=e.type,o=sr(e,"line");return r="linear"===i?function USt(n,e,t,i){var r=e.showTrunc,o=e.startPos,s=e.endPos,a=e.truncRange,l=e.lineExtension,u=Xt([o,s],2),d=Xt(u[0],2),f=d[0],m=d[1],y=Xt(u[1],2),b=y[0],E=y[1],w=Xt(l?function zSt(n,e,t){void 0===t&&(t=[0,0]);var i=Xt([n,e,t],3),r=Xt(i[0],2),o=r[0],s=r[1],a=Xt(i[1],2),l=a[0],u=a[1],d=Xt(i[2],2),f=d[0],m=d[1],y=Xt([l-o,u-s],2),b=y[0],E=y[1],w=Math.sqrt(Math.pow(b,2)+Math.pow(E,2)),M=Xt([-f/w,m/w],2),x=M[0],D=M[1];return[x*b,x*E,D*b,D*E]}(o,s,l):new Array(4).fill(0),4),M=w[0],x=w[1],D=w[2],k=w[3],T=function(et){return n.selectAll(Lo.line.class).data(et,function(St,Yt){return Yt}).join(function(St){return St.append("line").attr("className",function(Yt){return"".concat(Lo.line.name," ").concat(Yt.className)}).styles(t).transition(function(Yt){return Dh(this,Kit(Yt.line),!1)})},function(St){return St.styles(t).transition(function(Yt){return Dh(this,Kit(Yt.line),i.update)})},function(St){return St.remove()}).transitions()};if(!r||!a)return T([{line:[[f+M,m+x],[b+D,E+k]],className:Lo.line.name}]);var O=Xt(a,2),R=O[0],L=O[1],F=b-f,U=E-m,$=Xt([f+F*R,m+U*R],2),X=$[0],q=$[1],gt=Xt([f+F*L,m+U*L],2);return T([{line:[[f+M,m+x],[X,q]],className:Lo.lineFirst.name},{line:[[gt[0],gt[1]],[b+D,E+k]],className:Lo.lineSecond.name}])}(n,e,sit(o,"arrow"),t):jSt(n,e,sit(o,"arrow"),t),function HSt(n,e,t,i){var u,r=t.showArrow,s=t.lineArrow,a=t.lineArrowOffset,l=t.lineArrowSize;if(u=n.select("arc"===e?Lo.line.class:t.showTrunc?Lo.lineSecond.class:Lo.line.class),!r||!s||"arc"===t.type&&$it(t.startAngle,t.endAngle)){var d=u.node();d&&(d.style.markerEnd=void 0)}else{var f=l0(s);f.attr(i),HU(f,l),u.style("markerEnd",f).style("markerEndOffset",-a)}}(n,i,e,o),r}function Xit(n){var t=n.gridCenter;return"linear"===n.type?t:t||n.center}function XSt(n,e,t,i){var r=sr(t,"grid"),o=r.type,s=r.areaFill,a=Xit(t),l=tH(e,t.gridFilter),u="segment"===o?function WSt(n,e){var t=e.gridLength;return n.map(function(i,r){var o=i.value,s=Xt(e4(o,e),2),a=s[0],l=s[1],u=Xt(c0(function $St(n,e){return eH(n,e.gridDirection,e)}(o,e),t),2);return{id:r,points:[[a,l],[a+u[0],l+u[1]]]}})}(l,t):function KSt(n,e){var t=e.gridControlAngles,i=Xit(e);if(!i)throw new Error("grid center is not provide");if(n.length<2)throw new Error("Invalid grid data");if(!t||0===t.length)throw new Error("Invalid gridControlAngles");var r=Xt(i,2),o=r[0],s=r[1];return n.map(function(a,l){var d=Xt(e4(a.value,e),2),y=Xt([d[0]-o,d[1]-s],2),b=y[0],E=y[1],w=[];return t.forEach(function(M){var x=z_(M),D=Xt([Math.cos(x),Math.sin(x)],2),k=D[0],T=D[1];w.push([b*k-E*T+o,b*T+E*k+s])}),{points:w,id:l}})}(l,t),d=wn(wn({},r),{center:a,areaFill:ii(s)?l.map(function(f,m){return _d(s,[f,m,l])}):s,animate:i,data:u});return n.selectAll(Lo.grid.class).data([1]).join(function(f){return f.append(function(){return new NSt({style:d})}).attr("className",Lo.grid.name)},function(f){return f.transition(function(){return this.update(d)})},function(f){return f.remove()}).transitions()}var nH=function(){function n(e,t,i,r){this.set(e,t,i,r)}return Object.defineProperty(n.prototype,"left",{get:function(){return this.x1},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"top",{get:function(){return this.y1},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"right",{get:function(){return this.x2},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"bottom",{get:function(){return this.y2},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"width",{get:function(){return this.defined("x2")&&this.defined("x1")?this.x2-this.x1:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.defined("y2")&&this.defined("y1")?this.y2-this.y1:void 0},enumerable:!1,configurable:!0}),n.prototype.rotatedPoints=function(e,t,i){var r=this,o=r.x1,s=r.y1,a=r.x2,l=r.y2,u=Math.cos(e),d=Math.sin(e),f=t-t*u+i*d,m=i-t*d-i*u;return[[u*o-d*l+f,d*o+u*l+m],[u*a-d*l+f,d*a+u*l+m],[u*o-d*s+f,d*o+u*s+m],[u*a-d*s+f,d*a+u*s+m]]},n.prototype.set=function(e,t,i,r){return i<e?(this.x2=e,this.x1=i):(this.x1=e,this.x2=i),r<t?(this.y2=t,this.y1=r):(this.y1=t,this.y2=r),this},n.prototype.defined=function(e){return this[e]!==Number.MAX_VALUE&&this[e]!==-Number.MAX_VALUE},n}();function iH(n,e){var t=n.getEulerAngles()||0;n.setEulerAngles(0);var i=n.getBounds(),r=Xt(i.min,2),o=r[0],s=r[1],a=Xt(i.max,2),l=a[0],u=a[1],d=n.getBBox(),f=d.width,y=d.height,b=0,E=0,w=o,M=s,x=tit(n);if(x){y-=1.5;var D=x.style.textAlign,k=x.style.textBaseline;"center"===D?w=(o+l)/2:("right"===D||"end"===D)&&(w=l),"middle"===k?M=(s+u)/2:"bottom"===k&&(M=u)}var T=Xt(ta(e),4),O=T[0],R=void 0===O?0:O,L=T[1],F=void 0===L?0:L,U=T[2],X=T[3],gt=new nH((b+=o)-(void 0===X?F:X),(E+=s)-R,b+f+F,E+y+(void 0===U?R:U));return n.setEulerAngles(t),gt.rotatedPoints(z_(t),w,M)}function nS(n,e){return e[0]<=Math.max(n[0][0],n[1][0])&&e[0]<=Math.min(n[0][0],n[1][0])&&e[1]<=Math.max(n[0][1],n[1][1])&&e[1]<=Math.min(n[0][1],n[1][1])}function iS(n,e,t){var i=(e[1]-n[1])*(t[0]-e[0])-(e[0]-n[0])*(t[1]-e[1]);return 0===i?0:i<0?2:1}function YSt(n,e){var t=iS(n[0],n[1],e[0]),i=iS(n[0],n[1],e[1]),r=iS(e[0],e[1],n[0]),o=iS(e[0],e[1],n[1]);return!!(t!==i&&r!==o||0===t&&nS(n,e[0])||0===i&&nS(n,e[1])||0===r&&nS(e,n[0])||0===o&&nS(e,n[1]))}function tDt(n,e){return[[n[0],n[1],n[2],n[3]],[n[2],n[3],n[4],n[5]],[n[4],n[5],n[6],n[7]],[n[6],n[7],n[0],n[1]]].some(function(i){return function JSt(n,e){var t=Xt(n,4),i=t[0],r=t[1],o=t[2],s=t[3],a=Xt(e,4),l=a[0],u=a[1],m=o-i,y=s-r,b=a[2]-l,E=a[3]-u,w=m*E-b*y;if(0===w)return!1;var M=w>0,x=i-l,D=r-u,k=m*D-y*x;if(k<0===M)return!1;var T=b*D-E*x;return!(T<0===M||k>w===M||T>w===M)}(e,i)})}function n4(n,e,t){var i,r,b,E,o=e.crossPadding,s=new Set,a=null,l=function nDt(n,e){var i=n.labelDirection,r=n.crossSize;if(!r)return!1;if("arc"===n.type){var s=n.radius,a=Xt(n.center,2),l=a[0],u=a[1],d="negative"===i?0:r,f=-s-d,m=s+d,y=Xt(ta(e),4);return new nH(l+f-y[3],u+f-y[0],l+m+y[1],u+m+y[2])}var x=Xt(n.startPos,2),D=x[0],k=x[1],T=Xt(n.endPos,2),O=T[0],R=T[1],L=Xt(Git(n)?[-e,0,e,0]:[0,e,0,-e],4),F=L[0],U=L[1],$=L[2],X=L[3],gt=c0(eS(0,n),r),Et=new nH(D,k,O,R);return Et.x1+=X,Et.y1+=F,Et.x2+=U+gt[0],Et.y2+=$+gt[1],Et}(e,o),u=function(b){return!l||function qSt(n,e,t){var i=n.x1,r=n.x2,o=n.y1,s=n.y2;return function QSt(n,e){return e.every(function(t){return function ZSt(n,e){var t=n.length;if(t<3)return!1;var i=[e,[9999,e[1]]],r=0,o=0;do{var s=[n[o],n[(o+1)%t]];if(YSt(s,i)){if(0===iS(s[0],e,s[1]))return nS(s,e);r++}o=(o+1)%t}while(0!==o);return!!(1&r)}(n,t)})}([[i,o],[r,o],[r,s],[i,s]],iH(e,t))}(l,b)};try{for(var f=Z0(n),m=f.next();!m.done;m=f.next()){var y=m.value;u(y)?a&&(E=y,(b=a)&&b.firstChild&&function eDt(n,e,t){var i,r,o=iH(n,t).flat(1),s=iH(e,t).flat(1),a=[[o[0],o[1],o[2],o[3]],[o[0],o[1],o[4],o[5]],[o[4],o[5],o[6],o[7]],[o[2],o[3],o[6],o[7]]];try{for(var l=Z0(a),u=l.next();!u.done;u=l.next())if(tDt(s,u.value))return!0}catch(f){i={error:f}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(i)throw i.error}}return!1}(b.firstChild,E.firstChild,ta(t)))?(s.add(a),s.add(y)):a=y:s.add(y)}}catch(b){i={error:b}}finally{try{m&&!m.done&&(r=f.return)&&r.call(f)}finally{if(i)throw i.error}}return Array.from(s)}function rH(n,e){return void 0===e&&(e={}),Oi(n)?0:"number"==typeof n?n:Math.floor(YCt(n,e))}var rDt_parity=function(n,e){var t=e.seq,i=void 0===t?2:t;return n.filter(function(r,o){return!(o%i&&(Ch(r),1))})},oDt=function(n){return n.filter(qnt)},uDt=new Map([["hide",function sDt(n,e,t,i){var r=n.length,o=e.keepHeader,s=e.keepTail;if(!(r<=1||2===r&&o&&s)){var w,M,a=rDt_parity,l=function(D){return D.forEach(i.show),D},u=2,d=n.slice(),f=n.slice(),m=Math.min.apply(Math,Qn([1],Xt(n.map(function(D){return D.getBBox().width})),!1));if("linear"===t.type&&(Hit(t)||Git(t))){var y=lit(n[0]).left,b=lit(n[r-1]).right,E=Math.abs(b-y)||1;u=Math.max(Math.floor(r*m/E),u)}for(o&&(w=d.splice(0,1)[0]),s&&(M=d.splice(-1,1)[0],d.reverse()),l(d);u<n.length&&n4(oDt(M?Qn(Qn([M],Xt(f),!1),[w],!1):Qn([w],Xt(f),!1)),t,e?.margin).length;)(M&&!w&&u%2==0||M&&w)&&d.splice(0,1).forEach(i.hide),f=a(l(d),{seq:u}),u++}}],["rotate",function aDt(n,e,t,i){var r,o,s=e.optionalAngles,a=void 0===s?[0,45,90]:s,l=e.margin,u=e.recoverWhenFailed,d=void 0===u||u,f=n.map(function(M){return M.getLocalEulerAngles()}),y=function(M){return n.forEach(function(x,D){var k=Array.isArray(M)?M[D]:M;i.rotate(x,+k)})};try{for(var b=Z0(a),E=b.next();!E.done;E=b.next())if(y(E.value),n4(n,t,l).length<1)return}catch(M){r={error:M}}finally{try{E&&!E.done&&(o=b.return)&&o.call(b)}finally{if(r)throw r.error}}d&&y(f)}],["ellipsis",function iDt(n,e,t,i){if(!(n.length<=1)){var r=e.suffix,o=void 0===r?"...":r,s=e.minLength,a=e.maxLength,l=void 0===a?1/0:a,u=e.step,d=void 0===u?" ":u,f=e.margin,m=void 0===f?[0,0,0,0]:f,y=Jnt(i.getTextShape(n[0])),b=rH(d,y),E=s?rH(s,y):b,w=rH(l,y);(Oi(w)||w===1/0)&&(w=Math.max.apply(null,n.map(function(O){return O.getBBox().width})));for(var M=n.slice(),D=(Xt(m,4),function(O){if(M.forEach(function(R){i.ellipsis(i.getTextShape(R),O,o)}),(M=n4(n,t,m)).length<1)return{value:void 0}}),k=w;k>E+b;k-=b){var T=D(k);if("object"==typeof T)return T.value}}}],["wrap",function cDt(n,e,t,i){var r=e.wordWrapWidth,o=void 0===r?50:r,s=e.maxLines,a=void 0===s?3:s,l=e.recoverWhenFailed,u=void 0===l||l,d=e.margin,f=void 0===d?[0,0,0,0]:d,m=n.map(function(x){return x.attr("maxLines")||1}),y=Math.min.apply(Math,Qn([],Xt(m),!1)),E=function lDt(n){var t=n.labelDirection;return"linear"===n.type&&Hit(n)?"negative"===t?"bottom":"top":"middle"}(t),w=function(x){return n.forEach(function(D,k){var T=Array.isArray(x)?x[k]:x;i.wrap(D,o,T,E)})};if(!(y>a)){for(var M=y;M<=a;M++)if(w(M),n4(n,t,f).length<1)return;u&&w(m)}}]]);function fDt(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return n.reduce(function(i,r){return i*function(i){return"positive"===i?-1:1}(r)},1)}function Yit(n){for(var e=n;e<0;)e+=360;return Math.round(e%360)}function oH(n,e){var t=Xt(n,2),i=t[0],r=t[1],o=Xt(e,2),s=o[0],a=o[1],l=Xt([i*s+r*a,i*a-r*s],2);return Math.atan2(l[1],l[0])}function Zit(n,e,t){var i=t.type,r=t.labelAlign,o=eS(n,t),s=Yit(e),a=Yit(Znt(oH([1,0],o))),l="center",u="middle";return"linear"===i?[90,270].includes(a)&&0===s?(l="center",u=1===o[1]?"top":"bottom"):a%180||![90,270].includes(s)?0===a?(ul(s,0,90,!1,!0)||ul(s,0,90)||ul(s,270,360))&&(l="start"):90===a?ul(s,0,90,!1,!0)?l="start":(ul(s,90,180)||ul(s,270,360))&&(l="end"):270===a?ul(s,0,90,!1,!0)?l="end":(ul(s,90,180)||ul(s,270,360))&&(l="start"):180===a&&(90===s?l="start":(ul(s,0,90)||ul(s,270,360))&&(l="end")):l="center":"parallel"===r?u=ul(a,0,180,!0)?"top":"bottom":"horizontal"===r?ul(a,90,270,!1)?l="end":(ul(a,270,360,!1)||ul(a,0,90))&&(l="start"):"perpendicular"===r&&(l=ul(a,90,270)?"end":"start"),{textAlign:l,textBaseline:u}}function Qit(n,e,t){var i=t.showTick,r=t.tickLength,o=t.tickDirection,s=t.labelDirection,a=t.labelSpacing,l=e.indexOf(n),u=_d(a,[n,l,e]),d=Xt([eS(n.value,t),fDt(s,o)],2),b=Xt(Y3(c0(d[0],u+(1===d[1]?_d(i?r:0,[n,l,e]):0)),e4(n.value,t)),2);return{x:b[0],y:b[1]}}function qit(n,e){"text"===n.nodeName&&n.attr(e)}function Jit(n){!function hDt(n,e,t){var i=e.labelOverlap,r=void 0===i?[]:i;r.length&&r.forEach(function(o){var s=o.type,a=uDt.get(s);(function dDt(n,e,t){return!(e.labelOverlap.length<1)&&("hide"===t?!function KCt(n){for(var e=n;e;){if("offscreen"===e.className)return!0;e=e.parent}return!1}(n[0]):"rotate"===t?!n.some(function(i){var r;return!(null===(r=i.attr("transform"))||void 0===r||!r.includes("rotate"))}):"ellipsis"!==t&&"wrap"!==t||n.filter(function(i){return i.querySelector("text")}).length>1)})(n,e,s)&&a?.(n,o,e,t)})}(this.node().childNodes,n,{hide:Ch,show:X3,rotate:function(e,t){!function gDt(n,e,t){e.setLocalEulerAngles(n);var r=Zit(e.__data__.value,n,t),o=e.querySelector(Lo.labelItem.class);o&&qit(o,r)}(+t,e,n)},ellipsis:function(e,t,i){e&&VU(e,t||1/0,i)},wrap:function(e,t,i){e&&function ZCt(n,e,t,i){void 0===t&&(t=2),void 0===i&&(i="top"),eit(n,{wordWrap:!0,wordWrapWidth:e,maxLines:t,textBaseline:i})}(e,t,i)},getTextShape:function(e){return e.querySelector("text")}})}function trt(n,e,t,i,r){var o=t.indexOf(e),s=Mi(n).append(function vDt(n,e,t,i){var r=i.labelFormatter;return ii(r)?function(){return l0(_d(r,[n,e,t,eS(n.value,i)]))}:function(){return l0(n.label||"")}}(e,o,t,r)).attr("className",Lo.labelItem.name).node(),a=Xt(u0(zit(i,[e,o,t])),2),l=a[0],u=a[1],d=u.transform,f=fs(u,["transform"]);uit(s,d);var m=function mDt(n,e,t){var i,r=t.labelAlign;if(null===(i=e.style.transform)||void 0===i?void 0:i.includes("rotate"))return e.getLocalEulerAngles();var a=eS(n.value,t),l=t4(n.value,t);return"horizontal"===r?0:function pDt(n){var e=(n+360)%180;return ul(e,-90,90)||(e+=180),e}(Znt("perpendicular"===r?oH([1,0],a):oH([l[0]<0?-1:1,0],l)))}(e,s,r);return s.getLocalEulerAngles()||s.setLocalEulerAngles(m),qit(s,wn(wn({},Zit(e.value,m,r)),l)),n.attr(f),s}function ert(n,e){return eH(n,e.tickDirection,e)}function nrt(n,e,t,i,r,o){var s=function EDt(n,e,t,i,r){var o=r.tickFormatter,s=ert(e.value,r),a="line";return ii(o)&&(a=function(){return _d(o,[e,t,i,s])}),n.append(a).attr("className",Lo.tickItem.name)}(Mi(this),n,e,t,i);!function wDt(n,e,t,i,r,o,s){var a=ert(n.value,o),l=function _Dt(n,e,t,i,r){var s=Xt(function bDt(n,e){var t=Xt(n,2);return[[0,0],[t[0]*e,t[1]*e]]}(i,_d(r.tickLength,[n,e,t])),2),a=Xt(s[0],2),l=a[0],u=a[1],d=Xt(s[1],2);return{x1:l,x2:d[0],y1:u,y2:d[1]}}(n,e,t,a,o),u=l.x1,d=l.x2,f=l.y1,m=l.y2,y=Xt(u0(zit(s,[n,e,t,a])),2),b=y[0],E=y[1];"line"===i.node().nodeName&&i.styles(wn({x1:u,x2:d,y1:f,y2:m},b)),r.attr(E),i.styles(b)}(n,e,t,s,this,i,r);var a=Xt(e4(n.value,i),2),u=a[1];return Dh(this,{transform:"translate(".concat(a[0],", ").concat(u,")")},o)}var irt=Sh({text:"text"},"title");function i4(n){return/\S+-\S+/g.test(n)?n.split("-").map(function(e){return e[0]}):n.length>2?[n[0]]:n.split("")}function CDt(n,e){var t=Object.entries(e).reduce(function(i,r){var o=Xt(r,2),s=o[0],a=o[1];return n.node().attr(s)||(i[s]=a),i},{});n.styles(t)}var DDt=function(n){function e(t){return n.call(this,t,{text:"",width:0,height:0,fill:"#4a505a",fontWeight:"bold",fontSize:12,fontFamily:"sans-serif",inset:0,spacing:0,position:"top-left"})||this}return lr(e,n),e.prototype.getAvailableSpace=function(){var i=this.attributes,r=i.width,o=i.height,s=i.position,a=i.spacing,l=i.inset,u=this.querySelector(irt.text.class);if(!u)return new Bs(0,0,+r,+o);var d=u.getBBox(),f=d.width,m=d.height,y=Xt(ta(a),4),b=y[0],E=y[1],w=y[2],M=y[3],x=Xt([0,0,+r,+o],4),D=x[0],k=x[1],T=x[2],O=x[3],R=i4(s);if(R.includes("i"))return new Bs(D,k,T,O);R.forEach(function(at,Q){var et,St,Yt,He;"t"===at&&(et=Xt(0===Q?[m+w,+o-m-w]:[0,+o],2),k=et[0],O=et[1]),"r"===at&&(St=Xt([+r-f-M],1),T=St[0]),"b"===at&&(Yt=Xt([+o-m-b],1),O=Yt[0]),"l"===at&&(He=Xt(0===Q?[f+E,+r-f-E]:[0,+r],2),D=He[0],T=He[1])});var L=Xt(ta(l),4),F=L[0],X=L[3],q=Xt([X+L[1],F+L[2]],2);return new Bs(D+X,k+F,T-q[0],O-q[1])},e.prototype.getBBox=function(){return this.title?this.title.getBBox():new Bs(0,0,0,0)},e.prototype.render=function(t,i){var r=this,o=fs(t,["width","height","position","spacing"]),a=Xt(u0(o),1)[0],l=function SDt(n){var e,t,i,r,s=n.width,a=n.height,l=n.position,u=Xt([+s/2,+a/2],2),m=Xt([+u[0],+u[1],"center","middle"],4),y=m[0],b=m[1],E=m[2],w=m[3],M=i4(l);return M.includes("l")&&(y=(e=Xt([0,"start"],2))[0],E=e[1]),M.includes("r")&&(y=(t=Xt([+s,"end"],2))[0],E=t[1]),M.includes("t")&&(b=(i=Xt([0,"top"],2))[0],w=i[1]),M.includes("b")&&(b=(r=Xt([+a,"bottom"],2))[0],w=r[1]),{x:y,y:b,textAlign:E,textBaseline:w}}(t),u=l.x,d=l.y,f=l.textAlign,m=l.textBaseline;Ru(!!o.text,Mi(i),function(y){r.title=y.maybeAppendByClassName(irt.text,"text").styles(a).call(CDt,{x:u,y:d,textAlign:f,textBaseline:m}).node()})},e}(js);function rrt(n,e,t,i,r){var s=Xt(u0(sr(i,"title")),2),a=s[0],l=s[1],u=l.transform,d=l.transformOrigin,f=fs(l,["transform","transformOrigin"]);e.styles(f);var m=u||function ADt(n,e,t){var r=2*n.getGeometryBounds().halfExtents[1];if("vertical"===e){if("left"===t)return"rotate(-90) translate(0, ".concat(r/2,")");if("right"===t)return"rotate(-90) translate(0, -".concat(r/2,")")}return""}(n.node(),a.direction,a.position);n.styles(wn(wn({},a),{transformOrigin:d})),uit(n.node(),m);var y=function TDt(n,e,t){var i=t.titlePosition,r=void 0===i?"lb":i,o=t.titleSpacing,s=i4(r),a=n.node().getLocalBounds(),l=Xt(a.min,2),u=l[0],d=l[1],f=Xt(a.halfExtents,2),m=f[0],y=f[1],b=Xt(e.node().getLocalBounds().halfExtents,2),E=b[0],w=b[1],M=Xt([u+m,d+y],2),x=M[0],D=M[1],k=Xt(ta(o),4),T=k[0],O=k[1],R=k[2],L=k[3];if(["start","end"].includes(r)&&"linear"===t.type){var F=t.startPos,U=t.endPos,$=Xt("start"===r?[F,U]:[U,F],2),X=$[0],q=$[1],Et=Xt(c0(rit([-q[0]+X[0],-q[1]+X[1]]),T),2);return{x:X[0]+Et[0],y:X[1]+Et[1]}}return s.includes("t")&&(D-=y+w+T),s.includes("r")&&(x+=m+E+O),s.includes("l")&&(x-=m+E+L),s.includes("b")&&(D+=y+w+R),{x,y:D}}(Mi(t._offscreen||t.querySelector(Lo.mainGroup.class)),e,i),b=y.x,E=y.y;return Dh(e.node(),{transform:"translate(".concat(b,", ").concat(E,")")},r)}function ort(n,e,t,i){var o=n.showTick,s=n.showLabel,l=Ru(n.showLine,e.maybeAppendByClassName(Lo.lineGroup,"g"),function(y){return GSt(y,n,i)})||[],d=Ru(o,e.maybeAppendByClassName(Lo.tickGroup,"g"),function(y){return function xDt(n,e,t,i){var r=tH(e,t.tickFilter),o=sr(t,"tick");return n.selectAll(Lo.tick.class).data(r,function(s){return s.id||s.label}).join(function(s){return s.append("g").attr("className",Lo.tick.name).transition(function(a,l){return nrt.call(this,a,l,r,t,o,!1)})},function(s){return s.transition(function(a,l){return this.removeChildren(),nrt.call(this,a,l,r,t,o,i.update)})},function(s){return s.transition(function(){var a=this,l=JP(this.childNodes[0],i.exit);return H_(l,function(){return a.remove()}),l})}).transitions()}(y,t,n,i)})||[],m=Ru(s,e.maybeAppendByClassName(Lo.labelGroup,"g"),function(y){return function yDt(n,e,t,i){var r=tH(e,t.labelFilter),o=sr(t,"label");return n.selectAll(Lo.label.class).data(r,function(s,a){return a}).join(function(s){return s.append("g").attr("className",Lo.label.name).transition(function(a){trt(this,a,e,o,t);var l=Qit(a,e,t),d=l.y;return this.style.transform="translate(".concat(l.x,", ").concat(d,")"),null}).call(function(){Jit.call(n,t)})},function(s){return s.transition(function(a){var d=function SSt(n,e,t,i){if(void 0===i&&(i="destroy"),function CSt(n,e){return!("text"!==n.nodeName||"text"!==e.nodeName||n.attributes.text!==e.attributes.text)}(n,e))return n.remove(),[null];var r=function(){"destroy"===i?n.destroy():"hide"===i&&Ch(n),e.isVisible()&&X3(e)};if(!t)return r(),[null];var o=t.duration,s=void 0===o?0:o,a=t.delay,l=void 0===a?0:a,u=Math.ceil(+s/2),d=+s/4,f=Xt(n.getGeometryBounds().center,2),m=f[0],y=f[1],b=Xt(e.getGeometryBounds().center,2),M=Xt([(m+b[0])/2-m,(y+b[1])/2-y],2),x=M[0],D=M[1],k=n.style.opacity,O=e.style.opacity,R=void 0===O?1:O,L=n.style.transform||"",F=e.style.transform||"",U=n.animate([{opacity:void 0===k?1:k,transform:"translate(0, 0) ".concat(L)},{opacity:0,transform:"translate(".concat(x,", ").concat(D,") ").concat(L)}],wn(wn({fill:"both"},t),{duration:l+u+d})),$=e.animate([{opacity:0,transform:"translate(".concat(-x,", ").concat(-D,") ").concat(F),offset:.01},{opacity:R,transform:"translate(0, 0) ".concat(F)}],wn(wn({fill:"both"},t),{duration:u+d,delay:l+u-d}));return H_($,r),[U,$]}(this.querySelector(Lo.labelItem.class),trt(this,a,e,o,t),i.update),f=Qit(a,e,t),y=f.y,b=Dh(this,{transform:"translate(".concat(f.x,", ").concat(y,")")},i.update);return Qn(Qn([],Xt(d),!1),[b],!1)}).call(function(a){!function MSt(n,e){0===n.length?e():Promise.all(n.map(function(t){return t?.finished})).then(e)}(xa(a,"_transitions").flat().filter(qnt),function(){Jit.call(n,t)})})},function(s){return s.transition(function(){var a=this,l=JP(this.childNodes[0],i.exit);return H_(l,function(){return Mi(a).remove()}),l})}).transitions()}(y,t,n,i)})||[];return Qn(Qn(Qn([],Xt(l),!1),Xt(d),!1),Xt(m),!1).filter(function(y){return!!y})}var kDt=function(n){function e(t){return n.call(this,t,qU)||this}return lr(e,n),e.prototype.render=function(t,i,r){var o=this,s=t.titleText,l=t.animate,u=t.showTitle,d=t.showGrid,m=t.truncRange,y=function u3t(n,e){if(n.length<=e)return n;for(var t=Math.floor(n.length/e),i=[],r=0;r<n.length;r+=t)i.push(n[r]);return i}(t.data,t.dataThreshold).filter(function(T){var O=T.value;return!(m&&O>m[0]&&O<m[1])}),b=Pit(void 0===r?l:r),w=Ru(d,Mi(i).maybeAppendByClassName(Lo.gridGroup,"g"),function(T){return XSt(T,y,t,b)})||[],M=Mi(i).maybeAppendByClassName(Lo.mainGroup,"g");s&&(!this.initialized&&b.enter||this.initialized&&b.update)&&ort(t,Mi(this.offscreenGroup),y,Pit(!1));var x=ort(t,Mi(M.node()),y,b),k=Ru(u,Mi(i).maybeAppendByClassName(Lo.titleGroup,"g"),function(T){return function ODt(n,e,t,i){var r=t.titleText;return n.selectAll(Lo.title.class).data([{title:r}].filter(function(o){return!!o.title}),function(o,s){return o.title}).join(function(o){return o.append(function(){return l0(r)}).attr("className",Lo.title.name).transition(function(){return rrt(Mi(this),n,e,t,i.enter)})},function(o){return o.transition(function(){return rrt(Mi(this),n,e,t,i.update)})},function(o){return o.remove()}).transitions()}(T,o,t,b)})||[];return Qn(Qn(Qn([],Xt(w),!1),Xt(x),!1),Xt(k),!1).flat().filter(function(T){return!!T})},e}(js),Ed=Sh({prevBtnGroup:"prev-btn-group",prevBtn:"prev-btn",nextBtnGroup:"next-btn-group",nextBtn:"next-btn",pageInfoGroup:"page-info-group",pageInfo:"page-info",playWindow:"play-window",contentGroup:"content-group",controller:"controller",clipPath:"clip-path"},"navigator"),IDt=function(n){function e(t){var i=n.call(this,t,{x:0,y:0,animate:{easing:"linear",duration:200,fill:"both"},buttonCursor:"pointer",buttonFill:"black",buttonD:V3t(0,0,6),buttonSize:12,controllerPadding:5,controllerSpacing:5,formatter:function(r,o){return"".concat(r,"/").concat(o)},defaultPage:0,loop:!1,orientation:"horizontal",pageNumFill:"black",pageNumFontSize:12,pageNumTextAlign:"start",pageNumTextBaseline:"middle"})||this;return i.playState="idle",i.contentGroup=i.appendChild(new Tl({class:Ed.contentGroup.name})),i.playWindow=i.contentGroup.appendChild(new Tl({class:Ed.playWindow.name})),i.innerCurrPage=i.defaultPage,i}return lr(e,n),Object.defineProperty(e.prototype,"defaultPage",{get:function(){return Ys(this.attributes.defaultPage,0,Math.max(this.pageViews.length-1,0))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pageViews",{get:function(){return this.playWindow.children},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"controllerShape",{get:function(){return this.totalPages>1?{width:55,height:0}:{width:0,height:0}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pageShape",{get:function(){var i=Xt(function E3t(n){var e;return(null===(e=n[0])||void 0===e?void 0:e.map(function(t,i){return n.map(function(r){return r[i]})}))||[]}(this.pageViews.map(function(f){var m=f.getBBox();return[m.width,m.height]})).map(function(f){return Math.max.apply(Math,Qn([],Xt(f),!1))}),2),s=this.attributes,a=s.pageWidth,u=s.pageHeight;return{pageWidth:void 0===a?i[0]:a,pageHeight:void 0===u?i[1]:u}},enumerable:!1,configurable:!0}),e.prototype.getContainer=function(){return this.playWindow},Object.defineProperty(e.prototype,"totalPages",{get:function(){return this.pageViews.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currPage",{get:function(){return this.innerCurrPage},enumerable:!1,configurable:!0}),e.prototype.getBBox=function(){var t=n.prototype.getBBox.call(this),s=this.pageShape;return new Bs(t.x,t.y,s.pageWidth+this.controllerShape.width,s.pageHeight)},e.prototype.goTo=function(t){var i=this,r=this.attributes.animate,o=this,l=o.playWindow,u=o.pageViews;if("idle"!==o.playState||t<0||u.length<=0||t>=u.length)return null;u[o.currPage].setLocalPosition(0,0),this.prepareFollowingPage(t);var d=Xt(this.getFollowingPageDiff(t),2),f=d[0],m=d[1];this.playState="running";var y=Lit(l,[{transform:"translate(0, 0)"},{transform:"translate(".concat(-f,", ").concat(-m,")")}],r);return H_(y,function(){i.innerCurrPage=t,i.playState="idle",i.setVisiblePages([t]),i.updatePageInfo()}),y},e.prototype.prev=function(){var t=this.attributes.loop,i=this.pageViews.length,r=this.currPage;if(!t&&r<=0)return null;var o=t?(r-1+i)%i:Ys(r-1,0,i);return this.goTo(o)},e.prototype.next=function(){var t=this.attributes.loop,i=this.pageViews.length,r=this.currPage;if(!t&&r>=i-1)return null;var o=t?(r+1)%i:Ys(r+1,0,i);return this.goTo(o)},e.prototype.renderClipPath=function(t){var i=this.pageShape,r=i.pageWidth,o=i.pageHeight;r&&o?(this.clipPath=t.maybeAppendByClassName(Ed.clipPath,"rect").styles({width:r,height:o}),this.contentGroup.attr("clipPath",this.clipPath.node())):this.contentGroup.style.clipPath=void 0},e.prototype.setVisiblePages=function(t){this.playWindow.children.forEach(function(i,r){t.includes(r)?X3(i):Ch(i)})},e.prototype.adjustControllerLayout=function(){var t=this,i=t.prevBtnGroup,r=t.nextBtnGroup,o=t.pageInfoGroup,s=this.attributes,a=s.orientation,l=s.controllerPadding,d=o.getBBox().width,f=Xt("horizontal"===a?[-180,0]:[-90,90],2),y=f[1];i.setLocalEulerAngles(f[0]),r.setLocalEulerAngles(y);var b=i.getBBox(),E=b.width,w=b.height,M=r.getBBox(),D=M.height,k=Math.max(E,d,M.width),T="horizontal"===a?{offset:[[0,0],[E/2+l,0],[E+d+2*l,0]],textAlign:"start"}:{offset:[[k/2,-w-l],[k/2,0],[k/2,D+l]],textAlign:"center"},O=Xt(T.offset,3),R=Xt(O[0],2),L=R[0],F=R[1],U=Xt(O[1],2),$=U[0],X=U[1],q=Xt(O[2],2),gt=q[0],Et=q[1],at=T.textAlign,Q=o.querySelector("text");Q&&(Q.style.textAlign=at),i.setLocalPosition(L,F),o.setLocalPosition($,X),r.setLocalPosition(gt,Et)},e.prototype.updatePageInfo=function(){var t,i=this,r=i.currPage,o=i.pageViews,s=i.attributes.formatter;o.length<2||(null===(t=this.pageInfoGroup.querySelector(Ed.pageInfo.class))||void 0===t||t.attr("text",s(r+1,o.length)),this.adjustControllerLayout())},e.prototype.getFollowingPageDiff=function(t){var i=this.currPage;if(i===t)return[0,0];var o=this.pageShape,l=t<i?-1:1;return"horizontal"===this.attributes.orientation?[l*o.pageWidth,0]:[0,l*o.pageHeight]},e.prototype.prepareFollowingPage=function(t){var r=this.currPage,o=this.pageViews;if(this.setVisiblePages([t,r]),t!==r){var s=Xt(this.getFollowingPageDiff(t),2);o[t].setLocalPosition(s[0],s[1])}},e.prototype.renderController=function(t){var i=this,r=this.attributes.controllerSpacing,o=this.pageShape,s=o.pageWidth,a=o.pageHeight,l=this.pageViews.length>=2,u=t.maybeAppendByClassName(Ed.controller,"g");if($P(u.node(),l),l){var d=sr(this.attributes,"button"),f=sr(this.attributes,"pageNum"),m=Xt(u0(d),2),y=m[0],b=m[1],E=y.size,w=fs(y,["size"]),M=!u.select(Ed.prevBtnGroup.class).node(),x=u.maybeAppendByClassName(Ed.prevBtnGroup,"g").styles(b);this.prevBtnGroup=x.node();var D=x.maybeAppendByClassName(Ed.prevBtn,"path"),k=u.maybeAppendByClassName(Ed.nextBtnGroup,"g").styles(b);this.nextBtnGroup=k.node(),[D,k.maybeAppendByClassName(Ed.nextBtn,"path")].forEach(function(R){R.styles(wn(wn({},w),{transformOrigin:"center"})),HU(R.node(),E)});var O=u.maybeAppendByClassName(Ed.pageInfoGroup,"g");this.pageInfoGroup=O.node(),O.maybeAppendByClassName(Ed.pageInfo,"text").styles(f),this.updatePageInfo(),u.node().setLocalPosition(s+r,a/2),M&&(this.prevBtnGroup.addEventListener("click",function(){i.prev()}),this.nextBtnGroup.addEventListener("click",function(){i.next()}))}},e.prototype.render=function(t,i){var r=t.x,s=t.y,a=void 0===s?0:s;this.attr("transform","translate(".concat(void 0===r?0:r,", ").concat(a,")"));var l=Mi(i);this.renderClipPath(l),this.renderController(l),this.setVisiblePages([this.defaultPage]),this.goTo(this.defaultPage)},e.prototype.bindEvents=function(){var t=this,i=K0(function(){return t.render(t.attributes,t)},50);this.playWindow.addEventListener(Hp.INSERTED,i),this.playWindow.addEventListener(Hp.REMOVED,i)},e}(js);function sH(n,e,t){return void 0===n&&(n="horizontal"),"horizontal"===n?e:t}Uo.registerSymbol("hiddenHandle",function RDt(n,e,t){var r=1.4*t;return[["M",n-t,e-r],["L",n+t,e-r],["L",n+t,e+r],["L",n-t,e+r],["Z"]]}),Uo.registerSymbol("verticalHandle",function PDt(n,e,t){var r=1.4*t,o=t/2,s=t/6,a=n+.4*r;return[["M",n,e],["L",a,e+o],["L",n+r,e+o],["L",n+r,e-o],["L",a,e-o],["Z"],["M",a,e+s],["L",n+r-2,e+s],["M",a,e-s],["L",n+r-2,e-s]]}),Uo.registerSymbol("horizontalHandle",function NDt(n,e,t){var r=1.4*t,o=t/2,s=t/6,a=e+.4*r;return[["M",n,e],["L",n-o,a],["L",n-o,e+r],["L",n+o,e+r],["L",n+o,a],["Z"],["M",n-s,a],["L",n-s,e+r-2],["M",n+s,a],["L",n+s,e+r-2]]});var Nu=Sh({layout:"flex",markerGroup:"marker-group",marker:"marker",labelGroup:"label-group",label:"label",valueGroup:"value-group",value:"value",backgroundGroup:"background-group",background:"background"},"legend-category-item"),FDt=function(n){function e(t){return n.call(this,t,{span:[1,1],marker:function(){return new QM({style:{r:6}})},markerSize:10,labelFill:"#646464",valueFill:"#646464",labelFontSize:12,valueFontSize:12,labelTextBaseline:"middle",valueTextBaseline:"middle"})||this}return lr(e,n),Object.defineProperty(e.prototype,"showValue",{get:function(){var t=this.attributes.valueText;return!!t&&("string"==typeof t||"number"==typeof t?""!==t:"function"==typeof t||""!==t.attr("text"))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"actualSpace",{get:function(){var i=this.valueGroup,r=this.attributes.markerSize,o=this.labelGroup.node().getBBox(),s=o.width,a=o.height,l=i.node().getBBox();return{markerWidth:r,labelWidth:s,valueWidth:l.width,height:Math.max(r,a,l.height)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"span",{get:function(){var t=this.attributes.span;if(!t)return[1,1];var i=Xt(ta(t),2),r=i[0],s=this.showValue?i[1]:0,a=r+s;return[r/a,s/a]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shape",{get:function(){var t,i=this.attributes,r=i.markerSize,o=i.width,s=this.actualSpace,a=s.markerWidth,l=s.height,u=this.actualSpace,d=u.labelWidth,f=u.valueWidth,m=Xt(this.spacing,2),y=m[0],b=m[1];if(o){var E=o-r-y-b,w=Xt(this.span,2);d=(t=Xt([w[0]*E,w[1]*E],2))[0],f=t[1]}return{width:a+d+f+y+b,height:l,markerWidth:a,labelWidth:d,valueWidth:f}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"spacing",{get:function(){var t=this.attributes.spacing;if(!t)return[0,0];var i=Xt(ta(t),2),r=i[0];return this.showValue?[r,i[1]]:[r,0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"layout",{get:function(){var t=this.shape,i=t.markerWidth,r=t.labelWidth,o=t.valueWidth,s=t.width,a=t.height,l=Xt(this.spacing,2),u=l[0];return{height:a,width:s,markerWidth:i,labelWidth:r,valueWidth:o,position:[i/2,i+u,i+r+u+l[1]]}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleSize",{get:function(){var t=function LDt(n){var e=n.querySelector(Nu.marker.class);return e?e.style:{}}(this.markerGroup.node()),i=this.attributes,r=i.markerSize,o=i.markerStrokeWidth,a=i.markerLineWidth,u=i.markerStroke,f=+((void 0===o?t.strokeWidth:o)||(void 0===a?t.lineWidth:a)||((void 0===u?t.stroke:u)?1:0))*Math.sqrt(2),m=this.markerGroup.node().getBBox();return(1-f/Math.max(m.width,m.height))*r},enumerable:!1,configurable:!0}),e.prototype.renderMarker=function(t){var i=this,r=this.attributes.marker,o=sr(this.attributes,"marker");this.markerGroup=t.maybeAppendByClassName(Nu.markerGroup,"g").style("zIndex",0),Ru(!!r,this.markerGroup,function(){var s,a=i.markerGroup.node(),l=null===(s=a.childNodes)||void 0===s?void 0:s[0],u="string"==typeof r?new Uo({style:{symbol:r},className:Nu.marker.name}):r();l?u.nodeName===l.nodeName?l instanceof Uo?l.update(wn(wn({},o),{symbol:r})):(function g3t(n,e){var t,i,r=e.attributes;try{for(var o=Z0(Object.entries(r)),s=o.next();!s.done;s=o.next()){var a=Xt(s.value,2),l=a[0];"id"!==l&&"className"!==l&&n.attr(l,a[1])}}catch(d){t={error:d}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(t)throw t.error}}}(l,u),Mi(l).styles(o)):(l.remove(),Mi(u).attr("className",Nu.marker.name).styles(o),a.appendChild(u)):(u instanceof Uo||Mi(u).attr("className",Nu.marker.name).styles(o),a.appendChild(u)),i.markerGroup.node().scale(1/i.markerGroup.node().getScale()[0]);var d=HU(i.markerGroup.node(),i.scaleSize);i.markerGroup.node().style._transform="scale(".concat(d,")")})},e.prototype.renderLabel=function(t){var i=sr(this.attributes,"label"),r=i.text,o=fs(i,["text"]);this.labelGroup=t.maybeAppendByClassName(Nu.labelGroup,"g").style("zIndex",0),this.labelGroup.maybeAppendByClassName(Nu.label,function(){return l0(r)}).styles(o)},e.prototype.renderValue=function(t){var i=this,r=sr(this.attributes,"value"),o=r.text,s=fs(r,["text"]);this.valueGroup=t.maybeAppendByClassName(Nu.valueGroup,"g").style("zIndex",0),Ru(this.showValue,this.valueGroup,function(){i.valueGroup.maybeAppendByClassName(Nu.value,function(){return l0(o)}).styles(s)})},e.prototype.renderBackground=function(t){var i=this.shape,r=i.width,o=i.height,s=sr(this.attributes,"background");this.background=t.maybeAppendByClassName(Nu.backgroundGroup,"g").style("zIndex",-1),this.background.maybeAppendByClassName(Nu.background,"rect").styles(wn({width:r,height:o},s))},e.prototype.adjustLayout=function(){var t=this.layout,i=t.labelWidth,r=t.valueWidth,o=t.height,s=Xt(t.position,3),l=s[1],u=s[2],d=o/2;this.markerGroup.styles({transform:"translate(".concat(s[0],", ").concat(d,")").concat(this.markerGroup.node().style._transform)}),this.labelGroup.styles({transform:"translate(".concat(l,", ").concat(d,")")}),VU(this.labelGroup.select(Nu.label.class).node(),Math.ceil(i)),this.showValue&&(this.valueGroup.styles({transform:"translate(".concat(u,", ").concat(d,")")}),VU(this.valueGroup.select(Nu.value.class).node(),Math.ceil(r)))},e.prototype.render=function(t,i){var r=Mi(i),o=t.x,a=t.y,l=void 0===a?0:a;r.styles({transform:"translate(".concat(void 0===o?0:o,", ").concat(l,")")}),this.renderMarker(r),this.renderLabel(r),this.renderValue(r),this.renderBackground(r),this.adjustLayout()},e}(js),ny=Sh({page:"item-page",navigator:"navigator",item:"item"},"items"),lrt=function(n,e,t){return void 0===t&&(t=!0),n?e(n):t},BDt=function(n){function e(t){var i=n.call(this,t,{data:[],gridRow:1/0,gridCol:void 0,padding:0,width:1e3,height:100,rowPadding:0,colPadding:0,layout:"flex",orientation:"horizontal",click:b1,mouseenter:b1,mouseleave:b1})||this;return i.navigatorShape=[0,0],i}return lr(e,n),Object.defineProperty(e.prototype,"pageViews",{get:function(){return this.navigator.getContainer()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"grid",{get:function(){var t=this.attributes,i=t.gridRow,r=t.gridCol,o=t.data;if(!i&&!r)throw new Error("gridRow and gridCol can not be set null at the same time");return i&&r?[i,r]:i?[i,o.length]:[o.length,r]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"renderData",{get:function(){var t=this.attributes,i=t.data,r=t.layout,o=sr(this.attributes,"item");return i.map(function(a,l){var u=a.id,f=a.label,m=a.value;return{id:"".concat(void 0===u?l:u),index:l,style:wn({layout:r,labelText:f,valueText:m},Object.fromEntries(Object.entries(o).map(function(y){var b=Xt(y,2);return[b[0],_d(b[1],[a,l,i])]})))}})},enumerable:!1,configurable:!0}),e.prototype.getGridLayout=function(){var t=this,i=this.attributes,r=i.orientation,o=i.width,s=i.rowPadding,a=i.colPadding,u=Xt(this.navigatorShape,1)[0],d=Xt(this.grid,2),f=d[0],m=d[1],y=m*f,b=0;return this.pageViews.children.map(function(E,w){var M,x,D=Math.floor(w/y),k=w%y,T=t.ifHorizontal(m,f),O=[Math.floor(k/T),k%T];"vertical"===r&&O.reverse();var R=Xt(O,2),L=R[0],F=R[1],U=(o-u-(m-1)*a)/m,$=E.getBBox().height,X=Xt([0,0],2),q=X[0],gt=X[1];return"horizontal"===r?(q=(M=Xt([b,L*($+s)],2))[0],gt=M[1],b=F===m-1?0:b+U+a):(q=(x=Xt([F*(U+a),b],2))[0],gt=x[1],b=L===f-1?0:b+$+s),{page:D,index:w,row:L,col:F,pageIndex:k,width:U,height:$,x:q,y:gt}})},e.prototype.getFlexLayout=function(){var t=this.attributes,i=t.width,r=t.height,o=t.rowPadding,s=t.colPadding,l=Xt(this.navigatorShape,1)[0],u=Xt(this.grid,2),d=u[0],f=u[1],m=Xt([i-l,r],2),y=m[0],b=m[1],E=Xt([0,0,0,0,0,0,0,0],8),x=E[2],D=E[3],k=E[4],T=E[5],O=E[6],R=E[7];return this.pageViews.children.map(function(L,F){var U,$,X,q,gt=L.getBBox(),Et=gt.width,at=gt.height,Q=0===O?0:s,et=O+Q+Et;return et<=y&&lrt(k,function(Yt){return Yt<f})?(U=Xt([O+Q,R,et],3),O=U[2],{width:Et,height:at,x:U[0],y:U[1],page:x,index:F,pageIndex:D++,row:T,col:k++}):($=Xt([T+1,0,0,R+at+o],4),T=$[0],k=$[1],O=$[2],(R=$[3])+at<=b&&lrt(T,function(Yt){return Yt<d})?(X=Xt([O,R,Et],3),O=X[2],{width:Et,height:at,x:X[0],y:X[1],page:x,index:F,pageIndex:D++,row:T,col:k++}):(q=Xt([0,0,Et,0,x+1,0,0,0],8),O=q[2],R=q[3],D=q[5],k=q[7],{width:Et,height:at,x:q[0],y:q[1],page:x=q[4],index:F,pageIndex:D++,row:T=q[6],col:k++}))})},Object.defineProperty(e.prototype,"itemsLayout",{get:function(){this.navigatorShape=[0,0];var t="grid"===this.attributes.layout?this.getGridLayout:this.getFlexLayout,i=t.call(this);return i.slice(-1)[0].page>0?(this.navigatorShape=[55,0],t.call(this)):i},enumerable:!1,configurable:!0}),e.prototype.ifHorizontal=function(t,i){return sH(this.attributes.orientation,t,i)},e.prototype.flattenPage=function(t){t.querySelectorAll(ny.item.class).forEach(function(i){t.appendChild(i)}),t.querySelectorAll(ny.page.class).forEach(function(i){t.removeChild(i).destroy()})},e.prototype.renderItems=function(t){var i=this.attributes,r=i.click,o=i.mouseenter,s=i.mouseleave;this.flattenPage(t);var a=this.dispatchCustomEvent.bind(this);Mi(t).selectAll(ny.item.class).data(this.renderData,function(l){return l.id}).join(function(l){return l.append(function(u){return new FDt({style:u.style})}).attr("className",ny.item.name).on("click",function(){r?.(this),a("itemClick",{item:this})}).on("pointerenter",function(){o?.(this),a("itemMouseenter",{item:this})}).on("pointerleave",function(){s?.(this),a("itemMouseleave",{item:this})})},function(l){return l.each(function(u){this.update(u.style)})},function(l){return l.remove()})},e.prototype.relayoutNavigator=function(){var t,i=this.attributes,r=i.layout,o=i.width,s=(null===(t=this.pageViews.children[0])||void 0===t?void 0:t.getBBox().height)||0,a=Xt(this.navigatorShape,2);this.navigator.update("grid"===r?{pageWidth:o-a[0],pageHeight:s-a[1]}:{})},e.prototype.adjustLayout=function(){var t=this,i=Object.entries(function QCt(n,e){return n.reduce(function(t,i){return(t[i[e]]=t[i[e]]||[]).push(i),t},{})}(this.itemsLayout,"page")).map(function(o){var s=Xt(o,2);return{page:s[0],layouts:s[1]}}),r=Qn([],Xt(this.navigator.getContainer().children),!1);i.forEach(function(o){var s=o.layouts,a=t.pageViews.appendChild(new Tl({className:ny.page.name}));s.forEach(function(l){var u=l.x,d=l.y,m=l.width,y=l.height,b=r[l.index];a.appendChild(b),th(b,"__layout__",l),b.update({x:u,y:d,width:m,height:y})})}),this.relayoutNavigator()},e.prototype.renderNavigator=function(t){var i=this.attributes.orientation,r=sr(this.attributes,"nav"),o=$a({orientation:i},r),s=this;return t.selectAll(ny.navigator.class).data(["nav"]).join(function(a){return a.append(function(){return new IDt({style:o})}).attr("className",ny.navigator.name).each(function(){s.navigator=this})},function(a){return a.each(function(){this.update(o)})},function(a){return a.remove()}),this.navigator},e.prototype.getBBox=function(){return this.navigator.getBBox()},e.prototype.render=function(t,i){var r=this.attributes.data;if(r&&0!==r.length){var o=this.renderNavigator(Mi(i));this.renderItems(o.getContainer()),this.adjustLayout()}},e.prototype.dispatchCustomEvent=function(t,i){var r=new kb(t,{detail:i});this.dispatchEvent(r)},e}(js),rS=Sh({markerGroup:"marker-group",marker:"marker",labelGroup:"label-group",label:"label"},"handle"),crt={showLabel:!0,formatter:function(n){return n.toString()},markerSize:25,markerStroke:"#c5c5c5",markerFill:"#fff",markerLineWidth:1,labelFontSize:12,labelFill:"#c5c5c5",labelText:"",orientation:"vertical",spacing:0};!function(n){function e(t){return n.call(this,t,crt)||this}lr(e,n),e.prototype.render=function(t,i){var r=Mi(i).maybeAppendByClassName(rS.markerGroup,"g");this.renderMarker(r);var o=Mi(i).maybeAppendByClassName(rS.labelGroup,"g");this.renderLabel(o)},e.prototype.renderMarker=function(t){var i=this,r=this.attributes,s=r.markerSymbol,a=void 0===s?sH(r.orientation,"horizontalHandle","verticalHandle"):s;Ru(!!a,t,function(l){var u=sr(i.attributes,"marker"),d=wn({symbol:a},u);i.marker=l.maybeAppendByClassName(rS.marker,function(){return new Uo({style:d})}).update(d)})},e.prototype.renderLabel=function(t){var i=this,r=this.attributes,s=r.orientation,a=r.spacing,l=void 0===a?0:a,u=r.formatter;Ru(r.showLabel,t,function(d){var f,m=sr(i.attributes,"label"),y=m.text,b=fs(m,["text"]),E=(null===(f=d.select(rS.marker.class))||void 0===f?void 0:f.node().getBBox())||{},w=E.width,x=E.height,k=Xt(sH(s,[0,(void 0===x?0:x)+l,"center","top"],[(void 0===w?0:w)+l,0,"start","middle"]),4),T=k[0],O=k[1],R=k[2],L=k[3];d.maybeAppendByClassName(rS.label,"text").styles(wn(wn({},b),{x:T,y:O,text:u(y).toString(),textAlign:R,textBaseline:L}))})}}(js);var urt={showTitle:!0,padding:0,orientation:"horizontal",backgroundFill:"transparent",titleText:"",titleSpacing:4,titlePosition:"top-left",titleFill:"#2C3542",titleFontWeight:"bold",titleFontFamily:"sans-serif",titleFontSize:12},jDt=$a({},urt,{});$a({},urt,U_(crt,"handle"),{color:["#d0e3fa","#acc7f6","#8daaf2","#6d8eea","#4d73cd","#325bb1","#5a3e75","#8c3c79","#e23455","#e7655b"],indicatorBackgroundFill:"#262626",indicatorLabelFill:"white",indicatorLabelFontSize:12,indicatorVisibility:"hidden",labelAlign:"value",labelDirection:"positive",labelSpacing:5,showHandle:!0,showIndicator:!0,showLabel:!0,slidable:!0,titleText:"",type:"continuous"});var oS=Sh({title:"title",titleGroup:"title-group",items:"items",itemsGroup:"items-group",contentGroup:"content-group",ribbonGroup:"ribbon-group",ribbon:"ribbon",handlesGroup:"handles-group",handle:"handle",startHandle:"start-handle",endHandle:"end-handle",labelGroup:"label-group",label:"label",indicator:"indicator"},"legend"),VDt=function(n){function e(t){return n.call(this,t,jDt)||this}return lr(e,n),e.prototype.renderTitle=function(t,i,r){var o=this.attributes,s=o.showTitle,a=o.titleText,u=Xt(u0(sr(this.attributes,"title")),2),d=u[0],f=u[1];this.titleGroup=t.maybeAppendByClassName(oS.titleGroup,"g").styles(f);var m=wn(wn({width:i,height:r},d),{text:s?a:""});this.title=this.titleGroup.maybeAppendByClassName(oS.title,function(){return new DDt({style:m})}).update(m)},e.prototype.renderItems=function(t,i){var r=i.x,o=i.y,s=i.width,a=i.height,u=Xt(u0(sr(this.attributes,"title",!0)),2),f=u[1],m=wn(wn({},u[0]),{width:s,height:a,x:0,y:0});this.itemsGroup=t.maybeAppendByClassName(oS.itemsGroup,"g").styles(wn(wn({},f),{transform:"translate(".concat(r,", ").concat(o,")")}));var y=this;this.itemsGroup.selectAll(oS.items.class).data(["items"]).join(function(b){return b.append(function(){return new BDt({style:m})}).attr("className",oS.items.name).each(function(){y.items=Mi(this)})},function(b){return b.update(m)},function(b){return b.remove()})},e.prototype.adjustLayout=function(){if(this.attributes.showTitle){var i=this.title.node().getAvailableSpace(),r=i.x,o=i.y;this.itemsGroup.node().style.transform="translate(".concat(r,", ").concat(o,")")}},Object.defineProperty(e.prototype,"availableSpace",{get:function(){var t=this.attributes,r=t.width,o=t.height;return t.showTitle?this.title.node().getAvailableSpace():new Bs(0,0,r,o)},enumerable:!1,configurable:!0}),e.prototype.getBBox=function(){var t,i,r=null===(t=this.title)||void 0===t?void 0:t.node(),o=null===(i=this.items)||void 0===i?void 0:i.node();return r&&o?function MDt(n,e){var t=n.attributes,i=t.position,r=t.spacing,o=t.inset,s=t.text,a=n.getBBox(),l=e.getBBox(),u=i4(i),d=Xt(ta(s?r:0),4),f=d[0],m=d[1],y=d[2],b=d[3],E=Xt(ta(o),4),w=E[0],M=E[1],x=E[2],D=E[3],k=Xt([b+m,f+y],2),T=k[0],O=k[1],R=Xt([D+M,w+x],2),L=R[0],F=R[1];if("l"===u[0])return new Bs(a.x,a.y,l.width+a.width+T+L,Math.max(l.height+F,a.height));if("t"===u[0])return new Bs(a.x,a.y,Math.max(l.width+L,a.width),l.height+a.height+O+F);var U=Xt([e.attributes.width||l.width,e.attributes.height||l.height],2);return new Bs(l.x,l.y,U[0]+a.width+T+L,U[1]+a.height+O+F)}(r,o):n.prototype.getBBox.call(this)},e.prototype.render=function(t,i){var r=this.attributes,o=r.width,s=r.height,a=r.x,l=void 0===a?0:a,u=r.y,d=void 0===u?0:u,f=Mi(i);i.style.transform="translate(".concat(l,", ").concat(d,")"),this.renderTitle(f,o,s),this.renderItems(f,this.availableSpace),this.adjustLayout()},e}(js),zDt={backgroundFill:"#262626",backgroundLineCap:"round",backgroundLineWidth:1,backgroundStroke:"#333",backgroundZIndex:-1,formatter:function(n){return n.toString()},labelFill:"#fff",labelFontSize:12,labelTextBaseline:"middle",padding:[2,4],position:"right",radius:0,zIndex:999},aH=Sh({background:"background",labelGroup:"label-group",label:"label"},"indicator"),UDt=function(n){function e(t){var i=n.call(this,t,zDt)||this;return i.point=[0,0],i.group=i.appendChild(new Tl({})),i.isMutationObserved=!0,i}return lr(e,n),e.prototype.renderBackground=function(){if(this.label){var t=this.attributes,i=t.position,o=Xt(ta(t.padding),4),s=o[0],a=o[1],l=o[2],u=o[3],d=this.label.node().getLocalBounds(),f=d.min,m=d.max,y=new Bs(f[0]-u,f[1]-s,m[0]+a-f[0]+u,m[1]+l-f[1]+s),b=this.getPath(i,y),E=sr(this.attributes,"background");this.background=Mi(this.group).maybeAppendByClassName(aH.background,"path").styles(wn(wn({},E),{d:b})),this.group.appendChild(this.label.node())}},e.prototype.renderLabel=function(){var t=this.attributes,i=t.formatter,r=t.labelText,s=Xt(u0(sr(this.attributes,"label")),2),l=s[1],u=fs(s[0],["text"]);this.label=Mi(this.group).maybeAppendByClassName(aH.labelGroup,"g").styles(l),r&&this.label.maybeAppendByClassName(aH.label,function(){return l0(i(r))}).style("text",i(r).toString()).selectAll("text").styles(u)},e.prototype.adjustLayout=function(){var t=Xt(this.point,2),r=t[1],o=this.attributes,a=o.y;this.group.attr("transform","translate(".concat(o.x-t[0],", ").concat(a-r,")"))},e.prototype.getPath=function(t,i){var r=this.attributes.radius,o=i.x,s=i.y,a=i.width,l=i.height,u=[["M",o+r,s],["L",o+a-r,s],["A",r,r,0,0,1,o+a,s+r],["L",o+a,s+l-r],["A",r,r,0,0,1,o+a-r,s+l],["L",o+r,s+l],["A",r,r,0,0,1,o,s+l-r],["L",o,s+r],["A",r,r,0,0,1,o+r,s],["Z"]],f={top:4,right:6,bottom:0,left:2}[t],m=this.createCorner([u[f].slice(-2),u[f+1].slice(-2)]);return u.splice.apply(u,Qn([f+1,1],Xt(m),!1)),u[0][0]="M",u},e.prototype.createCorner=function(t,i){void 0===i&&(i=10);var o=m3t.apply(void 0,Qn([],Xt(t),!1)),s=Xt(t,2),a=Xt(s[0],2),l=a[0],u=a[1],d=Xt(s[1],2),f=d[0],m=d[1],y=Xt(o?[f-l,[l,f]]:[m-u,[u,m]],2),b=y[0],E=Xt(y[1],2),w=E[0],M=E[1],x=b/2,k=i*(b/Math.abs(b)),T=k/2,O=k*Math.sqrt(3)/2*.8,R=Xt([w,w+x-T,w+x,w+x+T,M],5),L=R[0],F=R[1],U=R[2],$=R[3],X=R[4];return o?(this.point=[U,u-O],[["L",L,u],["L",F,u],["L",U,u-O],["L",$,u],["L",X,u]]):(this.point=[l+O,U],[["L",l,L],["L",l,F],["L",l+O,U],["L",l,$],["L",l,X]])},e.prototype.applyVisibility=function(){"hidden"===this.attributes.visibility?Ch(this):X3(this)},e.prototype.bindEvents=function(){this.label.on(Hp.BOUNDS_CHANGED,this.renderBackground)},e.prototype.render=function(){this.renderLabel(),this.renderBackground(),this.adjustLayout(),this.applyVisibility()},e}(js);function lH(n){return void 0===n&&(n=""),{CONTAINER:"".concat(n,"tooltip"),TITLE:"".concat(n,"tooltip-title"),LIST:"".concat(n,"tooltip-list"),LIST_ITEM:"".concat(n,"tooltip-list-item"),NAME:"".concat(n,"tooltip-list-item-name"),MARKER:"".concat(n,"tooltip-list-item-marker"),NAME_LABEL:"".concat(n,"tooltip-list-item-name-label"),VALUE:"".concat(n,"tooltip-list-item-value"),CROSSHAIR_X:"".concat(n,"tooltip-crosshair-x"),CROSSHAIR_Y:"".concat(n,"tooltip-crosshair-y")}}var drt={overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"};function HDt(n){var e;void 0===n&&(n="");var t=lH(n);return(e={})[".".concat(t.CONTAINER)]={position:"absolute",visibility:"visible","z-index":8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)","background-color":"rgba(255, 255, 255, 0.96)","box-shadow":"0 6px 12px 0 rgba(0, 0, 0, 0.12)","border-radius":"4px",color:"rgba(0, 0, 0, 0.65)","font-size":"12px","line-height":"20px",padding:"12px","min-width":"120px","max-width":"360px","font-family":"Roboto-Regular"},e[".".concat(t.TITLE)]={color:"rgba(0, 0, 0, 0.45)"},e[".".concat(t.LIST)]={margin:"0px","list-style-type":"none",padding:"0px"},e[".".concat(t.LIST_ITEM)]={"list-style-type":"none",display:"flex","line-height":"2em","align-items":"center","justify-content":"space-between","white-space":"nowrap"},e[".".concat(t.MARKER)]={width:"8px",height:"8px","border-radius":"50%",display:"inline-block","margin-right":"4px"},e[".".concat(t.NAME)]={display:"flex","align-items":"center","max-width":"216px"},e[".".concat(t.NAME_LABEL)]=wn({flex:1},drt),e[".".concat(t.VALUE)]=wn({display:"inline-block",float:"right",flex:1,"text-align":"right","min-width":"28px","margin-left":"30px",color:"rgba(0, 0, 0, 0.85)"},drt),e[".".concat(t.CROSSHAIR_X)]={position:"absolute",width:"1px","background-color":"rgba(0, 0, 0, 0.25)"},e[".".concat(t.CROSSHAIR_Y)]={position:"absolute",height:"1px","background-color":"rgba(0, 0, 0, 0.25)"},e}var GDt=function(n){function e(t){var r,o,i=this,s=null===(o=null===(r=t.style)||void 0===r?void 0:r.template)||void 0===o?void 0:o.prefixCls,a=lH(s);return(i=n.call(this,t,{data:[],x:0,y:0,visibility:"visible",title:"",position:"bottom-right",offset:[5,5],enterable:!1,container:{x:0,y:0},bounding:null,template:{prefixCls:"",container:'<div class="'.concat(a.CONTAINER,'"></div>'),title:'<div class="'.concat(a.TITLE,'"></div>'),item:'<li class="'.concat(a.LIST_ITEM,'" data-index={index}>\n        <span class="').concat(a.NAME,'">\n          <span class="').concat(a.MARKER,'" style="background:{color}"></span>\n          <span class="').concat(a.NAME_LABEL,'" title="{name}">{name}</span>\n        </span>\n        <span class="').concat(a.VALUE,'" title="{value}">{value}</span>\n      </li>')},style:HDt(s)})||this).timestamp=-1,i.prevCustomContentKey=i.attributes.contentKey,i.initShape(),i.render(i.attributes,i),i}return lr(e,n),Object.defineProperty(e.prototype,"HTMLTooltipElement",{get:function(){return this.element},enumerable:!1,configurable:!0}),e.prototype.getContainer=function(){return this.element},Object.defineProperty(e.prototype,"elementSize",{get:function(){return{width:this.element.offsetWidth,height:this.element.offsetHeight}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"HTMLTooltipItemsElements",{get:function(){var t=this.attributes,r=t.template;return t.data.map(function(o,s){var a=o.name,l=void 0===a?"":a,u=o.color,d=void 0===u?"black":u,f=o.index,m=fs(o,["name","color","index"]),y=wn({name:l,color:d,index:f??s},m);return F1(jw(r.item,y))})},enumerable:!1,configurable:!0}),e.prototype.render=function(t,i){this.renderHTMLTooltipElement(),this.updatePosition()},e.prototype.destroy=function(){var t;null===(t=this.element)||void 0===t||t.remove(),n.prototype.destroy.call(this)},e.prototype.show=function(t,i){var r=this;if(void 0!==t&&void 0!==i){var s=function(){r.attributes.x=t??r.attributes.x,r.attributes.y=i??r.attributes.y,r.updatePosition()};"hidden"===this.element.style.visibility?this.closeTransition(s):s()}this.element.style.visibility="visible"},e.prototype.hide=function(t,i){void 0===t&&(t=0),void 0===i&&(i=0),this.attributes.enterable&&this.isCursorEntered(t,i)||(this.element.style.visibility="hidden")},e.prototype.initShape=function(){this.element=F1(this.attributes.template.container),this.id&&this.element.setAttribute("id",this.id)},e.prototype.renderCustomContent=function(){if(void 0===this.prevCustomContentKey||this.prevCustomContentKey!==this.attributes.contentKey){this.prevCustomContentKey=this.attributes.contentKey;var t=this.attributes.content;t&&("string"==typeof t?this.element.innerHTML=t:dit(this.element,t))}},e.prototype.renderHTMLTooltipElement=function(){var t,i,r=this.attributes,o=r.template,s=r.title,a=r.enterable,l=r.style,u=r.content,d=lH(o.prefixCls),f=this.element;if(this.element.style.pointerEvents=a?"auto":"none",u)this.renderCustomContent();else{s?(f.innerHTML=o.title,f.getElementsByClassName(d.TITLE)[0].innerHTML=s):null===(i=null===(t=f.getElementsByClassName(d.TITLE))||void 0===t?void 0:t[0])||void 0===i||i.remove();var m=this.HTMLTooltipItemsElements,y=document.createElement("ul");y.className=d.LIST,dit(y,m);var b=this.element.querySelector(".".concat(d.LIST));b?b.replaceWith(y):f.appendChild(y)}!function b3t(n,e){Object.entries(e).forEach(function(t){var i=Xt(t,2),r=i[0],o=i[1];Qn([n],Xt(n.querySelectorAll(r)),!1).filter(function(s){return s.matches(r)}).forEach(function(s){s&&(s.style.cssText+=Object.entries(o).reduce(function(l,u){return"".concat(l).concat(u.join(":"),";")},""))})})}(f,l)},e.prototype.getRelativeOffsetFromCursor=function(t){var i=this.attributes,o=i.offset,a=(t||i.position).split("-"),l={left:[-1,0],right:[1,0],top:[0,-1],bottom:[0,1]},u=this.elementSize,d=u.width,f=u.height,m=[-d/2,-f/2];return a.forEach(function(y){var b=Xt(m,2),E=b[0],w=b[1],M=Xt(l[y],2);m=[E+(d/2+o[0])*M[0],w+(f/2+o[1])*M[1]]}),m},e.prototype.setOffsetPosition=function(t){var i=Xt(t,2),o=i[1],s=this.attributes,a=s.x,u=s.y,d=void 0===u?0:u,f=s.container,y=f.y;this.element.style.left="".concat(+(void 0===a?0:a)+f.x+i[0],"px"),this.element.style.top="".concat(+d+y+o,"px")},e.prototype.updatePosition=function(){var t=this.attributes.showDelay,i=void 0===t?60:t,r=Date.now();this.timestamp>0&&r-this.timestamp<i||(this.timestamp=r,this.setOffsetPosition(this.autoPosition(this.getRelativeOffsetFromCursor())))},e.prototype.autoPosition=function(t){var i=Xt(t,2),r=i[0],o=i[1],s=this.attributes,u=s.bounding,d=s.position;if(!u)return[r,o];var f=this.element,m=f.offsetWidth,y=f.offsetHeight,b=Xt([+s.x+r,+s.y+o],2),E=b[0],w=b[1],M={left:"right",right:"left",top:"bottom",bottom:"top"},x=u.x,D=u.y,O={left:E<x,right:E+m>x+u.width,top:w<D,bottom:w+y>D+u.height},R=[];d.split("-").forEach(function(F){R.push(O[F]?M[F]:F)});var L=R.join("-");return this.getRelativeOffsetFromCursor(L)},e.prototype.isCursorEntered=function(t,i){if(this.element){var r=this.element.getBoundingClientRect();return new Bs(r.x,r.y,r.width,r.height).isPointIn(t,i)}return!1},e.prototype.closeTransition=function(t){var i=this,r=this.element.style.transition;this.element.style.transition="none",t(),setTimeout(function(){i.element.style.transition=r},10)},e.tag="tooltip",e}(js),$Dt=function(n){function e(t){var i=n.call(this,t)||this;i.layoutEvents=[Hp.BOUNDS_CHANGED,Hp.INSERTED,Hp.REMOVED],i.$margin=ta(0),i.$padding=ta(0);var r=t.style||{},o=r.margin,a=r.padding,l=void 0===a?0:a;return i.margin=void 0===o?0:o,i.padding=l,i.isMutationObserved=!0,i.bindEvents(),i}return lr(e,n),Object.defineProperty(e.prototype,"margin",{get:function(){return this.$margin},set:function(t){this.$margin=ta(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"padding",{get:function(){return this.$padding},set:function(t){this.$padding=ta(t)},enumerable:!1,configurable:!0}),e.prototype.getBBox=function(){var t=this.attributes,i=t.x,r=void 0===i?0:i,o=t.y,s=void 0===o?0:o,a=t.width,l=t.height,u=Xt(this.$margin,4),d=u[0],y=u[3];return new Bs(r-y,s-d,a+y+u[1],l+d+u[2])},e.prototype.appendChild=function(t,i){return t.isMutationObserved=!0,n.prototype.appendChild.call(this,t,i),t},e.prototype.getAvailableSpace=function(){var t=this.attributes,i=t.width,r=t.height,o=Xt(this.$padding,4),s=o[0],a=o[1],l=o[2],u=o[3],d=Xt(this.$margin,4);return new Bs(u+d[3],s+d[0],i-u-a,r-s-l)},e.prototype.layout=function(){if(this.attributes.display&&this.isConnected&&!this.children.some(function(s){return!s.isConnected}))try{var t=this.attributes,r=t.y;this.style.transform="translate(".concat(t.x,", ").concat(r,")");var o=function(n,e,t){if(0===e.length)return[];var i={flex:n3t,grid:i3t},r=t.display in i?i[t.display]:null;return r?.call(null,n,e,t)||[]}(this.getAvailableSpace(),this.children.map(function(s){return s.getBBox()}),this.attributes);this.children.forEach(function(s,a){var l=o[a],d=l.y;s.style.transform="translate(".concat(l.x,", ").concat(d,")")})}catch{}},e.prototype.bindEvents=function(){var t=this;this.layoutEvents.forEach(function(i){t.addEventListener(i,function(r){r.target.isMutationObserved=!0,t.layout()})})},e.prototype.attributeChangedCallback=function(t,i,r){"margin"===t?this.margin=r:"padding"===t&&(this.padding=r),this.layout()},e}(Tl),WDt=function(n){function e(t){var i=n.call(this,$a({},e.defaultOptions,t))||this;return i.hoverColor="#f5f5f5",i.selectedColor="#e6f7ff",i.background=i.appendChild(new wu({})),i.label=i.background.appendChild(new Tl({})),i}return lr(e,n),Object.defineProperty(e.prototype,"padding",{get:function(){return ta(this.style.padding)},enumerable:!1,configurable:!0}),e.prototype.renderLabel=function(){var t=this.style,i=t.label,r=t.value,o=sr(this.attributes,"label");Mi(this.label).maybeAppend(".label",function(){return l0(i)}).attr("className","label").styles(o),this.label.attr("__data__",r)},e.prototype.renderBackground=function(){var t=this.label.getBBox(),i=Xt(this.padding,4),a=i[3],u=t.height,d=t.width+a+i[1],f=u+i[0]+i[2],m=sr(this.attributes,"background"),y=this.style,b=y.width,E=void 0===b?0:b,w=y.height,M=void 0===w?0:w,x=y.selected;this.background.attr(wn(wn({},m),{width:Math.max(d,E),height:Math.max(f,M),fill:x?this.selectedColor:"#fff"})),this.label.attr({transform:"translate(".concat(a,", ").concat((f-u)/2,")")})},e.prototype.render=function(){this.renderLabel(),this.renderBackground()},e.prototype.bindEvents=function(){var t=this;this.addEventListener("pointerenter",function(){t.style.selected||t.background.attr("fill",t.hoverColor)}),this.addEventListener("pointerleave",function(){t.style.selected||t.background.attr("fill",t.style.backgroundFill)});var i=this;this.addEventListener("click",function(){var r=t.style,o=r.label,s=r.value,a=r.onClick;a?.(s,{label:o,value:s},i)})},e.defaultOptions={style:{value:"",label:"",cursor:"pointer"}},e}(js),KDt=function(n){function e(t){var i,r,o=n.call(this,$a({},e.defaultOptions,t))||this;o.currentValue=null===(i=e.defaultOptions.style)||void 0===i?void 0:i.defaultValue,o.isPointerInSelect=!1,o.select=o.appendChild(new wu({className:"select",style:{cursor:"pointer",width:0,height:0}})),o.dropdown=o.appendChild(new wu({className:"dropdown"}));var s=o.style.defaultValue;return s&&!(null===(r=o.style.options)||void 0===r)&&r.some(function(a){return a.value===s})&&(o.currentValue=s),o}return lr(e,n),e.prototype.setValue=function(t){this.currentValue=t,this.render()},e.prototype.getValue=function(){return this.currentValue},Object.defineProperty(e.prototype,"dropdownPadding",{get:function(){return ta(this.style.dropdownPadding)},enumerable:!1,configurable:!0}),e.prototype.renderSelect=function(){var i,t=this,r=this.style,o=r.x,s=r.y,a=r.width,l=r.height,u=r.bordered,d=r.showDropdownIcon,f=sr(this.attributes,"select"),m=sr(this.attributes,"placeholder");this.select.attr(wn(wn({x:o,y:s,width:a,height:l},f),{fill:"#fff",strokeWidth:u?1:0}));var y=this.dropdownPadding;d&&Mi(this.select).maybeAppend(".dropdown-icon","path").style("d","M-5,-3.5 L0,3.5 L5,-3.5").style("transform","translate(".concat(o+a-10-y[1]-y[3],", ").concat(s+l/2,")")).style("lineWidth",1).style("stroke",this.select.style.stroke);var E=null===(i=this.style.options)||void 0===i?void 0:i.find(function(D){return D.value===t.currentValue}),w=wn({x:o+y[3]},m);Mi(this.select).selectAll(".placeholder").data(E?[]:[1]).join(function(D){return D.append("text").attr("className","placeholder").styles(w).style("y",function(){var k=this.getBBox();return s+(l-k.height)/2})},function(D){return D.styles(w)},function(D){return D.remove()});var M=sr(this.attributes,"optionLabel"),x=wn({x:o+y[3]},M);Mi(this.select).selectAll(".value").data(E?[E]:[]).join(function(D){return D.append(function(k){return l0(k.label)}).attr("className","value").styles(x).style("y",function(){var k=this.getBBox();return s+(l-k.height)/2})},function(D){return D.styles(x)},function(D){return D.remove()})},e.prototype.renderDropdown=function(){var i,r,t=this,o=this.style,s=o.x,a=o.y,l=o.width,u=o.height,d=o.options,f=o.onSelect,m=o.open,y=sr(this.attributes,"dropdown"),b=sr(this.attributes,"option"),E=this.dropdownPadding;Mi(this.dropdown).maybeAppend(".dropdown-container","g").attr("className","dropdown-container").selectAll(".dropdown-item").data(d,function(x){return x.value}).join(function(x){return x.append(function(D){return new WDt({className:"dropdown-item",style:wn(wn(wn({},D),b),{width:l-E[1]-E[3],selected:D.value===t.currentValue,onClick:function(k,T,O){t.setValue(k),f?.(k,T,O),t.dispatchEvent(new kb("change",{detail:{value:k,option:T,item:O}})),Ch(t.dropdown)}})})}).each(function(D,k){var T,R=(null===(T=this.parentNode)||void 0===T?void 0:T.children).reduce(function(L,F,U){return U<k&&(L+=F.getBBox().height),L},0);this.attr("transform","translate(".concat(E[3],", ").concat(E[0]+R,")"))})},function(x){return x.update(function(D){return{selected:D.value===t.currentValue}})},function(x){return x.remove()});var w=null===(r=null===(i=this.dropdown.getElementsByClassName("dropdown-container"))||void 0===i?void 0:i[0])||void 0===r?void 0:r.getBBox(),M=y.spacing;this.dropdown.attr(wn({transform:"translate(".concat(s,", ").concat(a+u+M,")"),width:w.width+E[1]+E[3],height:w.height+E[0]+E[2]},y)),!m&&Ch(this.dropdown)},e.prototype.render=function(){this.renderSelect(),this.renderDropdown()},e.prototype.bindEvents=function(){var t=this;this.addEventListener("click",function(i){i.stopPropagation()}),this.select.addEventListener("click",function(){"visible"===t.dropdown.style.visibility?Ch(t.dropdown):X3(t.dropdown)}),this.addEventListener("pointerenter",function(){t.isPointerInSelect=!0}),this.addEventListener("pointerleave",function(){t.isPointerInSelect=!1}),document?.addEventListener("click",function(){t.isPointerInSelect||Ch(t.dropdown)})},e.defaultOptions={style:{x:0,y:0,width:140,height:32,options:[],bordered:!0,defaultValue:"",selectRadius:8,selectStroke:"#d9d9d9",showDropdownIcon:!0,placeholderText:"\u8bf7\u9009\u62e9",placeholderFontSize:12,placeholderTextBaseline:"top",placeholderFill:"#c2c2c2",dropdownFill:"#fff",dropdownStroke:"#d9d9d9",dropdownRadius:8,dropdownShadowBlur:4,dropdownShadowColor:"rgba(0, 0, 0, 0.08)",dropdownPadding:8,dropdownSpacing:10,optionPadding:[8,12],optionFontSize:12,optionTextBaseline:"top",optionBackgroundFill:"#fff",optionBackgroundRadius:4,optionLabelFontSize:12,optionLabelTextBaseline:"top"}},e}(js),Th=function(n){function e(t){var i=n.call(this,$a({},{style:{backgroundOpacity:e.backgroundOpacities.default}},e.defaultOptions,t))||this;return i.showBackground=!0,i.background=i.appendChild(new wu({})),i.icon=i.appendChild(new Tl({})),i}return lr(e,n),Object.defineProperty(e.prototype,"label",{get:function(){return"BaseIcon"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineWidth",{get:function(){return Math.log10(this.attributes.size)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"padding",{get:function(){return ta(this.attributes.size/5)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"iconSize",{get:function(){var t=this.attributes.size,i=Xt(this.padding,4);return Math.max(t-Math.max(i[3]+i[1],i[0]+i[2]),2*this.lineWidth+1)},enumerable:!1,configurable:!0}),e.prototype.renderBackground=function(){var t=this.attributes,i=t.x,r=t.y,o=t.size,s=o/2,a=sr(this.attributes,"background");this.background.attr(wn({x:i-s,y:r-s,width:o,height:o},a))},e.prototype.showIndicator=function(){if(this.label){var t=this.attributes.size,i=this.background.getBBox();this.indicator.update({x:i.x+t/2,y:i.y-5,labelText:this.label,visibility:"visible"})}},e.prototype.hideIndicator=function(){this.indicator.update({visibility:"hidden"})},e.prototype.connectedCallback=function(){var t;n.prototype.connectedCallback.call(this);var i=this.attributes.size,r=this.background.getBBox(),a=null===(t=this.ownerDocument)||void 0===t?void 0:t.defaultView;a&&(this.indicator=a.appendChild(new UDt({style:{x:r.x+i/2,y:r.y-i/2,visibility:"hidden",position:"top",radius:3,zIndex:100}})))},e.prototype.disconnectedCallback=function(){this.indicator.destroy()},e.prototype.render=function(){this.renderIcon(),this.showBackground&&this.renderBackground()},e.prototype.bindEvents=function(){var t=this,i=this.attributes.onClick;if(this.addEventListener("click",function(){i?.(t)}),this.showBackground){var r=function(){return t.background.attr({opacity:e.backgroundOpacities.default})};this.addEventListener("pointerenter",function(){t.background.attr({opacity:e.backgroundOpacities.hover}),t.showIndicator()}),this.addEventListener("pointerleave",function(){r(),t.hideIndicator()}),this.addEventListener("pointerdown",function(){t.background.attr({opacity:e.backgroundOpacities.active})}),this.addEventListener("pointerup",function(){r()})}},e.tag="IconBase",e.defaultOptions={style:{x:0,y:0,size:10,color:"#565758",backgroundRadius:4,backgroundFill:"#e2e2e2"}},e.backgroundOpacities={default:0,hover:.8,active:1},e}(js),sS=function(n,e){return void 0===e&&(e="#565758"),new Ib({style:{fill:e,d:"M ".concat(n,",").concat(n," L -").concat(n,",0 L ").concat(n,",-").concat(n," Z"),transformOrigin:"center"}})},XDt=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return lr(e,n),e.prototype.arcPath=function(t,i,r){var o=Xt([r,r],2),s=o[0],a=o[1],l=function(E){return[t+r*Math.cos(E),i+r*Math.sin(E)]},u=Xt(l(-5/4*Math.PI),2),d=u[0],f=u[1],m=Xt(l(1/4*Math.PI),2),y=m[0],b=m[1];return"M".concat(d,",").concat(f,",A").concat(s,",").concat(a,",0,1,1,").concat(y,",").concat(b)},Object.defineProperty(e.prototype,"label",{get:function(){return"\u91cd\u7f6e"},enumerable:!1,configurable:!0}),e.prototype.renderIcon=function(){var t=this.attributes,i=t.x,r=t.y,o=t.color,s=this.iconSize,a=this.lineWidth,l=a+.5;Mi(this.icon).maybeAppend(".reset","path").styles({stroke:o,lineWidth:a,d:this.arcPath(i,r,s/2-a),markerStart:sS(l,o)})},e}(Th),YDt=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return lr(e,n),Object.defineProperty(e.prototype,"label",{get:function(){return"\u5feb\u9000"},enumerable:!1,configurable:!0}),e.prototype.renderIcon=function(){var t=this.attributes,i=t.x,r=t.y,o=t.color,s=this.iconSize,a=s/2,l=s/2/Math.pow(3,.5),u=[[i,r],[i,r-l],[i-a,r],[i,r+l],[i,r],[i+a,r-l],[i+a,r+l],[i,r]];Mi(this.icon).maybeAppend(".backward","polygon").styles({points:u,fill:o})},e}(Th),ZDt=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return lr(e,n),Object.defineProperty(e.prototype,"label",{get:function(){return"\u5feb\u8fdb"},enumerable:!1,configurable:!0}),e.prototype.renderIcon=function(){var t=this.attributes,i=t.x,r=t.y,o=t.color,s=this.iconSize,a=s/2,l=s/2/Math.pow(3,.5),u=[[i,r],[i,r-l],[i+a,r],[i,r+l],[i,r],[i-a,r-l],[i-a,r+l],[i,r]];Mi(this.icon).maybeAppend(".forward","polygon").styles({points:u,fill:o})},e}(Th),QDt=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return lr(e,n),Object.defineProperty(e.prototype,"label",{get:function(){return"\u64ad\u653e"},enumerable:!1,configurable:!0}),e.prototype.renderIcon=function(){var t=this.attributes,i=t.x,r=t.y,o=t.color,s=this.iconSize,a=s/3*Math.pow(3,.5)*.8,l=[[i+a,r],[i-a/2,r-s/2*.8],[i-a/2,r+s/2*.8],[i+a,r]];Mi(this.icon).maybeAppend(".play","polygon").styles({points:l,fill:o})},e}(Th),qDt=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return lr(e,n),Object.defineProperty(e.prototype,"label",{get:function(){return"\u6682\u505c"},enumerable:!1,configurable:!0}),e.prototype.renderIcon=function(){var t=this.attributes,i=t.x,r=t.y,o=t.color,s=this.iconSize,a=s/3,l=[[i-a,r-s/2],[i-a,r+s/2],[i-a/2,r+s/2],[i-a/2,r-s/2],[i-a,r-s/2],[i+a/2,r-s/2],[i+a/2,r+s/2],[i+a,r+s/2],[i+a,r-s/2]];Mi(this.icon).maybeAppend(".pause","polygon").styles({points:l,fill:o})},e}(Th),JDt=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return lr(e,n),Object.defineProperty(e.prototype,"label",{get:function(){return"\u8303\u56f4\u65f6\u95f4"},enumerable:!1,configurable:!0}),e.prototype.renderIcon=function(){var t=this.attributes,i=t.x,r=t.y,o=t.color,a=this.iconSize,l=this.lineWidth,u=l;Mi(this.icon).maybeAppend(".left-line","line").styles({x1:i-a/2,y1:r-a/2,x2:i-a/2,y2:r+a/2,stroke:o,lineWidth:l}),Mi(this.icon).maybeAppend(".right-line","line").styles({x1:i+a/2,y1:r-a/2,x2:i+a/2,y2:r+a/2,stroke:o,lineWidth:l}),Mi(this.icon).maybeAppend(".left-arrow","line").styles({x1:i,y1:r,x2:i-a/2+2*u,y2:r,stroke:o,lineWidth:l,markerEnd:sS(2*l,o)}),Mi(this.icon).maybeAppend(".right-arrow","line").styles({x1:i,y1:r,x2:i+a/2-2*u,y2:r,stroke:o,lineWidth:l,markerEnd:sS(2*l,o)})},e}(Th),tTt=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return lr(e,n),Object.defineProperty(e.prototype,"label",{get:function(){return"\u5355\u4e00\u65f6\u95f4"},enumerable:!1,configurable:!0}),e.prototype.renderIcon=function(){var t=this.attributes,i=t.x,r=t.y,o=t.color,a=this.iconSize,l=this.lineWidth;Mi(this.icon).maybeAppend(".line","line").styles({x1:i,y1:r-a/2,x2:i,y2:r+a/2,stroke:o,lineWidth:l});var u=l;Mi(this.icon).maybeAppend(".left-arrow","line").styles({x1:i-a/2-2*u,y1:r,x2:i-2*u,y2:r,stroke:o,lineWidth:l,markerEnd:sS(2*l,o)}),Mi(this.icon).maybeAppend(".right-arrow","line").styles({x1:i+a/2+2*u,y1:r,x2:i+2*u,y2:r,stroke:o,lineWidth:l,markerEnd:sS(2*l,o)})},e}(Th),hrt=function(n){return[[-n/2,-n/2],[-n/2,n/2],[n/2,n/2]]},eTt=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return lr(e,n),Object.defineProperty(e.prototype,"label",{get:function(){return"\u6298\u7ebf\u56fe"},enumerable:!1,configurable:!0}),e.prototype.renderIcon=function(){var t=this.attributes,i=t.x,r=t.y,o=t.color,a=this.iconSize,l=this.lineWidth,d=(a-2*l-l)/4,f=(a-2*l-l)/2,m=Xt([i-a/2+l,r+a/2-2*l],2),y=m[0],b=m[1];Mi(this.icon).maybeAppend(".coordinate","polyline").styles({points:hrt(a).map(function(E){var w=Xt(E,2);return[w[0]+i,w[1]+r]}),stroke:o,lineWidth:l}),Mi(this.icon).maybeAppend(".line","polyline").styles({points:[[y,b],[y+d,b-f],[y+2*d,b],[y+4*d,b-2*f]],stroke:o,lineWidth:l})},e}(Th),nTt=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return lr(e,n),Object.defineProperty(e.prototype,"label",{get:function(){return"\u6761\u5f62\u56fe"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return[1,4,2,4,3]},enumerable:!1,configurable:!0}),e.prototype.renderIcon=function(){var i=this.attributes,r=i.x,o=i.y,s=i.color,l=this.iconSize,u=this.lineWidth,f=(l-u)/this.data.length,m=(l-2*u)/4,y=Xt([r-l/2+2*u,o+l/2-u],2),b=y[0],E=y[1];Mi(this.icon).maybeAppend(".coordinate","polyline").styles({points:hrt(l).map(function(w){var M=Xt(w,2);return[M[0]+r,M[1]+o]}),stroke:s,lineWidth:u}),Mi(this.icon).maybeAppend(".bars","g").selectAll(".column").data(this.data.map(function(w,M){return{value:w,index:M}})).join(function(w){return w.append("line").attr("className","column").style("x1",function(M){return b+f*M.index}).style("y1",E).style("x2",function(M){return b+f*M.index}).style("y2",function(M){return E-m*M.value}).styles({y1:E,stroke:s,lineWidth:u})})},e}(Th),iTt=function(n){function e(t){var i=n.call(this,$a({},{style:{color:"#d8d9d9"}},t))||this;return i.showBackground=!1,i}return lr(e,n),e.prototype.renderIcon=function(){var t=this.attributes,i=t.x,r=t.y,o=t.color,a=this.iconSize,l=this.lineWidth;Mi(this.icon).maybeAppend(".split","line").styles({x1:i,y1:r-a/2,x2:i,y2:r+a/2,stroke:o,lineWidth:l})},e}(Th),cH=function(n){function e(){var t=n.apply(this,Qn([],Xt(arguments),!1))||this;return t.showBackground=!1,t}return lr(e,n),Object.defineProperty(e.prototype,"padding",{get:function(){return ta(0)},enumerable:!1,configurable:!0}),e.prototype.renderIcon=function(){var t=this.iconSize,i=this.attributes,r=i.x,o=i.y,s=i.speed,a=void 0===s?1:s,l=y1(this.attributes,["x","y","transform","transformOrigin","width","height","size","color","speed"]),u=Ys(t,20,1/0),f=wn(wn({},l),{x:r-u/2,y:o-10,width:u,height:20,defaultValue:a,bordered:!1,showDropdownIcon:!1,selectRadius:2,dropdownPadding:this.padding,dropdownRadius:2,dropdownSpacing:t/5,placeholderFontSize:t/2,optionPadding:0,optionLabelFontSize:t/2,optionBackgroundRadius:1,options:[{label:"1x",value:1},{label:"1.5x",value:1.5},{label:"2x",value:2}]});Mi(this.icon).maybeAppend(".speed",function(){return new KDt({style:f})}).attr("className","speed").each(function(){this.update(f)})},e.tag="SpeedSelect",e}(Th),uH=function(n){function e(t){var i=n.call(this,t)||this;return i.icon=i.appendChild(new Tl({})),i.currentType=i.attributes.type,i}return lr(e,n),e.prototype.getType=function(){return this.currentType},e.prototype.render=function(){var t=this,r=fs(this.attributes,["onChange"]);Mi(this.icon).selectAll(".icon").data([this.currentType]).join(function(o){return o.append(function(s){var a,l=null===(a=t.toggles.find(function(u){return Xt(u,1)[0]===s}))||void 0===a?void 0:a[1];if(!l)throw new Error("Invalid type: ".concat(s));return new l({})}).attr("className","icon").styles(r,!1).update({})},function(o){return o.styles({restStyles:r}).update({})},function(o){return o.remove()})},e.prototype.bindEvents=function(){var t=this,i=this.attributes.onChange;this.addEventListener("click",function(r){r.preventDefault(),r.stopPropagation();var o=(t.toggles.findIndex(function(a){return Xt(a,1)[0]===t.currentType})+1)%t.toggles.length,s=t.toggles[o][0];i?.(t.currentType),t.currentType=s,t.render()})},e.tag="ToggleIcon",e}(js),dH=function(n){function e(t){var i=n.call(this,$a({},{style:{type:"play"}},t))||this;return i.toggles=[["play",QDt],["pause",qDt]],i}return lr(e,n),e}(uH),hH=function(n){function e(t){var i=n.call(this,$a({},{style:{type:"range"}},t))||this;return i.toggles=[["range",JDt],["value",tTt]],i}return lr(e,n),e}(uH),fH=function(n){function e(t){var i=n.call(this,$a({},{style:{type:"column"}},t))||this;return i.toggles=[["line",eTt],["column",nTt]],i}return lr(e,n),e}(uH),rTt={reset:XDt,speed:cH,backward:YDt,playPause:dH,forward:ZDt,selectionType:hH,chartType:fH,split:iTt},oTt=function(n){function e(t){var i=n.call(this,$a({},e.defaultOptions,t))||this;return i.background=i.appendChild(new wu({})),i.functions=i.appendChild(new Tl({})),i}return lr(e,n),Object.defineProperty(e.prototype,"padding",{get:function(){return ta(this.attributes.padding)},enumerable:!1,configurable:!0}),e.prototype.renderBackground=function(){var t=this.style,i=t.x,r=t.y,o=t.width,s=t.height,a=sr(this.attributes,"background");this.background.attr(wn({x:i,y:r,width:o,height:s},a))},e.prototype.renderFunctions=function(){var i,t=this,r=this.attributes,o=r.functions,s=r.iconSize,a=r.iconSpacing,l=r.x,u=r.y,d=r.width,f=r.height,m=r.align,y=Xt(this.padding,4),b=y[1],E=y[3],w=o.reduce(function(D,k){return D.concat.apply(D,Qn(D.length&&k.length?["split"]:[],Xt(k),!1))},[]),M=w.length*(s+a)-a,x={left:E+s/2,center:(d-M)/2+s/2,right:d-M-E-b+s/2}[m]||0;null===(i=this.speedSelect)||void 0===i||i.destroy(),this.functions.removeChildren(),w.forEach(function(D,k){var T,O=rTt[D],R={x:l+k*(s+a)+x,y:u+f/2,size:s};if(O===cH?(R.speed=t.attributes.speed,R.onSelect=function(F){return t.handleFunctionChange(D,{value:F})}):[dH,hH,fH].includes(O)?(R.onChange=function(F){return t.handleFunctionChange(D,{value:F})},O===dH&&(R.type="play"===t.attributes.state?"pause":"play"),O===hH&&(R.type="range"===t.attributes.selectionType?"value":"range"),O===fH&&(R.type="line"===t.attributes.chartType?"column":"line")):R.onClick=function(){return t.handleFunctionChange(D,{value:D})},O===cH){var L=null===(T=t.ownerDocument)||void 0===T?void 0:T.defaultView;L&&(t.speedSelect=new O({style:wn(wn({},R),{zIndex:100})}),L.appendChild(t.speedSelect))}else t.functions.appendChild(new O({style:R}))})},e.prototype.disconnectedCallback=function(){var t;n.prototype.disconnectedCallback.call(this),null===(t=this.speedSelect)||void 0===t||t.destroy()},e.prototype.render=function(){this.renderBackground(),this.renderFunctions()},e.prototype.handleFunctionChange=function(t,i){var r=this.attributes.onChange;r?.(t,i)},e.defaultOptions={style:{x:0,y:0,width:300,height:40,padding:0,align:"center",iconSize:25,iconSpacing:0,speed:1,state:"pause",chartType:"line",selectionType:"range",backgroundFill:"#fbfdff",backgroundStroke:"#ebedf0",functions:[["reset","speed"],["backward","playPause","forward"],["selectionType","chartType"]]}},e}(js),sTt=function(n){function e(t){var i=n.call(this,$a({},e.defaultOptions,t))||this;return i.bindEvents(),i}return lr(e,n),e.prototype.bindEvents=function(){var t=this;this.addEventListener("mouseenter",function(){t.attr("lineWidth",Math.ceil(+(t.style.r||0)/2))}),this.addEventListener("mouseleave",function(){t.attr("lineWidth",0)})},e.defaultOptions={style:{r:5,fill:"#3f7cf7",lineWidth:0,stroke:"#3f7cf7",strokeOpacity:.5,cursor:"pointer"}},e}(QM),aTt=function(n){function e(t){return n.call(this,$a({},e.defaultOptions,t))||this}return lr(e,n),e.prototype.renderBackground=function(){var t=this.attributes,i=t.x,r=t.y,o=t.width,s=t.height,a=sr(this.attributes,"background");Mi(this).maybeAppend("background","rect").attr("className","background").styles(wn({x:i-o/2,y:r-s/2,width:o,height:s},a))},e.prototype.renderIcon=function(){var t=this.attributes,i=t.x,r=t.y,o=t.iconSize,s=sr(this.attributes,"icon"),l=o/2;Mi(this).maybeAppend("icon-left-line","line").attr("className","icon-left-line").styles(wn({x1:i-1,y1:r-l,x2:i-1,y2:r+l},s)),Mi(this).maybeAppend("icon-right-line","line").attr("className","icon-right-line").styles(wn({x1:i+1,y1:r-l,x2:i+1,y2:r+l},s))},e.prototype.renderBorder=function(){var t=this.attributes,i=t.x,r=t.y,o=t.width,s=t.height,a=t.type,l=sr(this.attributes,"border"),u="start"===a?+o/2:-o/2;Mi(this).maybeAppend("border","line").attr("className","border").styles(wn({x1:u+i,y1:r-s/2,x2:u+i,y2:r+s/2},l))},e.prototype.render=function(){this.renderBackground(),this.renderIcon(),this.renderBorder()},e.defaultOptions={style:{x:0,y:0,width:10,height:50,iconSize:10,type:"start",backgroundFill:"#fff",backgroundFillOpacity:.5,iconStroke:"#9a9a9a",iconLineWidth:1,borderStroke:"#e8e8e8",borderLineWidth:1}},e}(js);function frt(n){var e=String(Math.floor(n/3600)).padStart(2,"0"),t=String(Math.floor(n%3600/60)).padStart(2,"0"),i=String(Math.floor(n%60)).padStart(2,"0");return n<3600?"".concat(t,":").concat(i):"".concat(e,":").concat(t,":").concat(i)}var uTt=function(n){function e(t){var i=n.call(this,$a({},e.defaultOptions,t))||this;i.axis=i.appendChild(new kDt({style:{type:"linear",startPos:[0,0],endPos:[0,0],data:[],showArrow:!1,animate:!1}})),i.timeline=i.appendChild(new ASt({style:{onChange:function(f){i.handleSliderChange(f)}}})),i.controller=i.appendChild(new oTt({})),i.states={},i.handleSliderChange=function(f){var y,m=(y=i.states.values,Array.isArray(y)?Qn([],Xt(y),!1):y);i.setBySliderValues(f),i.dispatchOnChange(m)};var r=i.attributes,d=r.values;return i.states={chartType:r.chartType,playMode:r.playMode,selectionType:r.selectionType,speed:r.speed,state:r.state},i.setByTimebarValues(d),i}return lr(e,n),Object.defineProperty(e.prototype,"data",{get:function(){return this.attributes.data.sort(function(r,o){return r.time<o.time?-1:r.time>o.time?1:0})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"space",{get:function(){var t=this.attributes,i=t.x,r=t.y,o=t.width,s=t.height,a=t.type,l=t.controllerHeight,u=Ys(+s-l,0,+s),d=new Bs(i,r+ +s-l,+o,l),m=0,y="time"===a?10:u;return{axisBBox:"chart"===a?new Bs(i,r+u-(m=35),+o,m):new Bs,controllerBBox:d,timelineBBox:new Bs(i,r+("time"===a?u:u-y),+o,y-m)}},enumerable:!1,configurable:!0}),e.prototype.setBySliderValues=function(t){var i,r,o=this.data,s=Xt(Array.isArray(t)?t:[0,t],2),l=s[1],u=o.length,d=o[Math.floor(s[0]*u)],f=o[Math.ceil(l*u)-(Array.isArray(t)?0:1)];this.states.values=[null!==(i=d?.time)&&void 0!==i?i:o[0].time,null!==(r=f?.time)&&void 0!==r?r:1/0]},e.prototype.setByTimebarValues=function(t){var i,r,o,s=this.data,a=Xt(Array.isArray(t)?t:[void 0,t],2),l=a[0],u=a[1],d=s.find(function(m){return m.time===l}),f=s.find(function(m){return m.time===u});this.states.values=[null!==(i=d?.time)&&void 0!==i?i:null===(r=s[0])||void 0===r?void 0:r.time,null!==(o=f?.time)&&void 0!==o?o:1/0]},e.prototype.setByIndex=function(t){var i,r,o,s,a=this.data,l=Xt(t,2);this.states.values=[null!==(r=null===(i=a[l[0]])||void 0===i?void 0:i.time)&&void 0!==r?r:a[0].time,null!==(s=null===(o=this.data[l[1]])||void 0===o?void 0:o.time)&&void 0!==s?s:1/0]},Object.defineProperty(e.prototype,"sliderValues",{get:function(){var y,t=this.states,i=t.values,r=t.selectionType,o=Xt(Array.isArray(i)?i:[void 0,i],2),s=o[0],a=o[1],l=this.data,u=l.length,d="value"===r;return[(y=l.findIndex(function(b){return b.time===s}),d?0:y>-1?y/u:0),function(){if(a===1/0)return 1;var y=l.findIndex(function(b){return b.time===a});return y>-1?y/u:d?.5:1}()]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"values",{get:function(){var t=this.states,i=t.values,r=t.selectionType,o=Xt(Array.isArray(i)?i:[this.data[0].time,i],2),a=o[1];return"value"===r?a:[o[0],a]},enumerable:!1,configurable:!0}),e.prototype.getDatumByRatio=function(t){var i=this.data;return i[Math.floor(t*(i.length-1))]},Object.defineProperty(e.prototype,"chartHandleIconShape",{get:function(){var i=this.space.timelineBBox.height;return"range"===this.states.selectionType?function(r){return new aTt({style:{type:r,height:i,iconSize:i/6}})}:function(){return new qM({style:{x1:0,y1:-i/2,x2:0,y2:i/2,lineWidth:2,stroke:"#c8c8c8"}})}},enumerable:!1,configurable:!0}),e.prototype.getChartStyle=function(t){var i=this,r=t.x,o=t.y,s=t.width,a=t.height,l=this.states,u=l.selectionType,d=l.chartType,f=this.data,m=this.attributes,y=m.type,b=m.labelFormatter,w=fs(sr(this.attributes,"chart"),["type"]),M="range"===u;if("time"===y)return wn({handleIconShape:function(){return new sTt({})},selectionFill:"#2e7ff8",selectionFillOpacity:1,showLabelOnInteraction:!0,handleLabelDy:M?-15:0,autoFitLabel:M,handleSpacing:M?-15:0,trackFill:"#edeeef",trackLength:s,trackOpacity:.5,trackRadius:a/2,trackSize:a/2,type:u,values:this.sliderValues,formatter:function(k){if(b)return b(k);var T=i.getDatumByRatio(k).time;return"number"==typeof T?frt(T):Qc(T,"YYYY-MM-DD HH:mm:ss")},transform:"translate(".concat(r,", ").concat(o,")"),zIndex:1},w);var x="range"===u?5:0,D=f.map(function(k){return k.value});return wn({handleIconOffset:x,handleIconShape:this.chartHandleIconShape,selectionFill:"#fff",selectionFillOpacity:.5,selectionType:"invert",sparklineSpacing:.1,sparklineColumnLineWidth:0,sparklineColor:"#d4e5fd",sparklineAreaOpacity:1,sparklineAreaLineWidth:0,sparklineData:D,sparklineType:d,sparklineScale:.8,trackLength:s,trackSize:a,type:u,values:this.sliderValues,transform:"translate(".concat(r,", ").concat(o,")"),zIndex:1},w)},e.prototype.renderChart=function(t){void 0===t&&(t=this.space.timelineBBox),this.timeline.update(this.getChartStyle(t))},e.prototype.updateSelection=function(){this.timeline.setValues(this.sliderValues,!0),this.handleSliderChange(this.sliderValues)},e.prototype.getAxisStyle=function(t){var i=this.data,r=this.attributes,o=r.interval,s=r.labelFormatter,a=sr(this.attributes,"axis"),l=t.x,u=t.y,d=t.width,f=Qn(Qn([],Xt(i),!1),[{time:0}],!1).map(function(y,b,E){var w=y.time;return{label:"".concat(w),value:b/(E.length-1),time:w}});return wn({startPos:[l,u],endPos:[l+d,u],data:f,labelFilter:function(y,b){return b<f.length-1},labelFormatter:function(y){var b=y.time;return s?s(b):function lTt(n,e){return"number"==typeof n?frt(n):function cTt(n,e){var t=new Date(n);switch(e){case"half-hour":case"hour":case"four-hour":return[0,6,12,18].includes(t.getHours())&&0===t.getMinutes()?Qc(t,"HH:mm\nYYYY-MM-DD"):Qc(t,"HH:mm");case"half-day":return t.getHours()<12?"AM\n".concat(Qc(t,"YYYY-MM-DD")):"PM";case"day":return[1,10,20].includes(t.getDate())?Qc(t,"DD\nYYYY-MM"):Qc(t,"DD");case"week":return t.getDate()<=7?Qc(t,"DD\nYYYY-MM"):Qc(t,"DD");case"month":return[0,6].includes(t.getMonth())?Qc(t,"MM\u6708\nYYYY"):Qc(t,"MM\u6708");case"season":return[0].includes(t.getMonth())?Qc(t,"MM\u6708\nYYYY"):Qc(t,"MM\u6708");case"year":return Qc(t,"YYYY");default:return Qc(t,"YYYY-MM-DD HH:mm")}}(n,e)}(b,o)}},a)},e.prototype.renderAxis=function(t){void 0===t&&(t=this.space.axisBBox),"chart"===this.attributes.type&&this.axis.update(this.getAxisStyle(t))},e.prototype.renderController=function(t){void 0===t&&(t=this.space.controllerBBox);var i=this.attributes.type,r=this.states,o=r.state,s=r.speed,a=r.selectionType,l=r.chartType,u=sr(this.attributes,"controller"),d=this,f=wn(wn(wn({},t),{iconSize:20,speed:s,state:o,selectionType:a,chartType:l,onChange:function(m,y){var b=y.value;switch(m){case"reset":d.internalReset();break;case"speed":d.handleSpeedChange(b);break;case"backward":d.internalBackward();break;case"playPause":"play"===b?d.internalPlay():d.internalPause();break;case"forward":d.internalForward();break;case"selectionType":d.handleSelectionTypeChange(b);break;case"chartType":d.handleChartTypeChange(b)}}}),u);"time"===i&&(f.functions=[["reset","speed"],["backward","playPause","forward"],["selectionType"]]),this.controller.update(f)},e.prototype.dispatchOnChange=function(t){var b,E,i=this.data,r=this.attributes.onChange,o=this.states,a=o.selectionType,l=Xt(o.values,2),u=l[0],d=l[1],f=d===1/0?i.at(-1).time:d;(!t||(b=t,E="range"===a?[u,f]:f,!(Array.isArray(b)?Array.isArray(E)&&b[0]===E[0]&&(b[1]===E[1]||b[1]===1/0||E[1]===1/0):!Array.isArray(E)&&b===E)))&&r?.("range"===a?[u,f]:f)},e.prototype.internalReset=function(t){var i,r,o=this.states.selectionType;this.internalPause(),this.setBySliderValues("range"===o?[0,1]:[0,0]),this.renderController(),this.updateSelection(),t||(null===(r=null===(i=this.attributes)||void 0===i?void 0:i.onReset)||void 0===r||r.call(i),this.dispatchOnChange())},e.prototype.reset=function(){this.internalReset()},e.prototype.moveSelection=function(t,i){var r=this.data,o=r.length,s=this.states,l=s.selectionType,u=s.playMode,d=Xt(s.values,2),f=d[0],m=d[1],y=r.findIndex(function(D){return D.time===f}),b=r.findIndex(function(D){return D.time===m});-1===b&&(b=o);var w,E="backward"===t?-1:1;"range"===l?"acc"===u?(w=[y,b+E],-1===E&&y===b&&(w=[y,o])):w=[y+E,b+E]:w=[y,b+E];var k,T,O,R,x=(T=(k=Xt(w.sort(function(L,F){return L-F}),2))[0],R=function(L){return Ys(L,0,o)},(O=k[1])>o?"value"===l?[0,0]:"acc"===u?[R(T),R(T)]:[0,R(O-T)]:T<0?"acc"===u?[0,R(O)]:[R(T+o-O),o]:[R(T),R(O)]);return this.setByIndex(x),this.updateSelection(),x},e.prototype.internalBackward=function(t){var i,r,o=this.moveSelection("backward",t);return t||(null===(r=null===(i=this.attributes)||void 0===i?void 0:i.onBackward)||void 0===r||r.call(i),this.dispatchOnChange()),o},e.prototype.backward=function(){this.internalBackward()},e.prototype.internalPlay=function(t){var r,o,i=this,s=this.data,a=this.attributes.loop,l=this.states.speed;this.playInterval=window.setInterval(function(){i.internalForward()[1]===s.length&&!a&&(i.internalPause(),i.renderController())},1e3/(void 0===l?1:l)),this.states.state="play",!t&&(null===(o=null===(r=this.attributes)||void 0===r?void 0:r.onPlay)||void 0===o||o.call(r))},e.prototype.play=function(){this.internalPlay()},e.prototype.internalPause=function(t){var i,r;clearInterval(this.playInterval),this.states.state="pause",!t&&(null===(r=null===(i=this.attributes)||void 0===i?void 0:i.onPause)||void 0===r||r.call(i))},e.prototype.pause=function(){this.internalPause()},e.prototype.internalForward=function(t){var i,r,o=this.moveSelection("forward",t);return t||(null===(r=null===(i=this.attributes)||void 0===i?void 0:i.onForward)||void 0===r||r.call(i),this.dispatchOnChange()),o},e.prototype.forward=function(){this.internalForward()},e.prototype.handleSpeedChange=function(t){var i,r;this.states.speed=t,"play"===this.states.state&&(this.internalPause(!0),this.internalPlay(!0)),null===(r=null===(i=this.attributes)||void 0===i?void 0:i.onSpeedChange)||void 0===r||r.call(i,t)},e.prototype.handleSelectionTypeChange=function(t){var i,r;this.states.selectionType=t,this.renderChart(),null===(r=null===(i=this.attributes)||void 0===i?void 0:i.onSelectionTypeChange)||void 0===r||r.call(i,t)},e.prototype.handleChartTypeChange=function(t){var i,r;this.states.chartType=t,this.renderChart(),null===(r=null===(i=this.attributes)||void 0===i?void 0:i.onChartTypeChange)||void 0===r||r.call(i,t)},e.prototype.render=function(){var t=this.space,i=t.axisBBox,o=t.timelineBBox;this.renderController(t.controllerBBox),this.renderAxis(i),this.renderChart(o),"play"===this.states.state&&this.internalPlay()},e.prototype.destroy=function(){n.prototype.destroy.call(this),this.internalPause(!0)},e.defaultOptions={style:{x:0,y:0,axisLabelFill:"#6e6e6e",axisLabelTextAlign:"left",axisLabelTextBaseline:"top",axisLabelTransform:"translate(5, -12)",axisLineLineWidth:1,axisLineStroke:"#cacdd1",axisTickLength:15,axisTickLineWidth:1,axisTickStroke:"#cacdd1",chartShowLabel:!1,chartType:"line",controllerAlign:"center",controllerHeight:40,data:[],interval:"day",loop:!1,playMode:"acc",selectionType:"range",type:"time"}},e}(js);let hTt=(()=>{class n extends da{constructor(t,i){super(t,Object.assign({},n.defaultOptions,i)),this.typePrefix="__data__",this.element=null,this.draw=!1,this.fieldMap={node:new Map,edge:new Map,combo:new Map},this.selectedItems=[],this.bindEvents=()=>{const{graph:r}=this.context;r.on(Dn.AFTER_DRAW,this.createElement)},this.changeState=(r,o)=>{const{graph:s}=this.context,{typePrefix:a}=this,l=xa(r,[a,"id"]),u=xa(r,[a,"style","labelText"]),[d]=l.split("__"),f=this.fieldMap[d].get(u)||[];s.setElementState(Object.fromEntries(f?.map(m=>[m,o])))},this.click=r=>{if("hover"===this.options.trigger)return;const o=xa(r,[this.typePrefix,"id"]);this.selectedItems.includes(o)?(this.selectedItems=this.selectedItems.filter(s=>s!==o),this.changeState(r,[])):(this.selectedItems.push(o),this.changeState(r,"selected"))},this.mouseleave=r=>{"click"!==this.options.trigger&&(this.selectedItems=[],this.changeState(r,[]))},this.mouseenter=r=>{if("click"===this.options.trigger)return;const o=xa(r,[this.typePrefix,"id"]);this.selectedItems.includes(o)?this.selectedItems=this.selectedItems.filter(s=>s!==o):(this.selectedItems.push(o),this.changeState(r,"active"))},this.setFieldMap=(r,o,s)=>{if(!r)return;const a=this.fieldMap[s];if(a)if(a.has(r)){const l=a.get(r);l&&(l.push(o),a.set(r,l))}else a.set(r,[o])},this.getEvents=()=>({mouseenter:this.mouseenter,mouseleave:this.mouseleave,click:this.click}),this.getMarkerData=(r,o)=>{if(!r)return[];const{model:s,element:a}=this.context,{nodes:u,edges:d,combos:f}=s.getData(),m={},y=x=>ii(r)?r(x):r,b={node:"circle",edge:"line",combo:"rect"},E={circle:"circle",ellipse:"circle",image:"bowtie",rect:"square",star:"cross",triangle:"triangle",diamond:"diamond",cubic:"dot",line:"hyphen",polyline:"hyphen",quadratic:"hv","cubic-horizontal":"hyphen","cubic-vertical":"line"},M=(x,D)=>{x.forEach(k=>{const{id:T}=k,O=xa(k,["data",y(k)]),R=a?.getElementType(D,k)||"circle",L=((x,D)=>a?.getElementComputedStyle(x,D))(D,k),F=("edge"===D?L?.stroke:L?.fill)||"#1783ff";T&&O&&O.replace(/\s+/g,"")&&(this.setFieldMap(O,T,D),m[O]||(m[O]={id:`${D}__${T}`,label:O,marker:E[R]||b[D],elementType:D,lineWidth:1,stroke:F,fill:F}))})};switch(o){case"node":M(u,"node");break;case"edge":M(d,"edge");break;case"combo":M(f,"combo");break;default:return[]}return Object.values(m)},this.layout=r=>{let{flexDirection:s,alignItems:a,justifyContent:l}={flexDirection:"row",alignItems:"flex-end",justifyContent:"center"};const u={top:["row","flex-start","center"],bottom:["row","flex-end","center"],left:["column","flex-start","center"],right:["column","flex-end","center"]};return r in u&&([s,a,l]=u[r]),{display:"flex",flexDirection:s,justifyContent:l,alignItems:a}},this.createElement=()=>{if(this.draw)return void this.updateElement();const{canvas:r}=this.context,[o,s]=r.getSize(),a=this.options,{width:l=o,height:u=s,nodeField:d,edgeField:f,comboField:m,position:b}=a,E=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t}(a,["width","height","nodeField","edgeField","comboField","trigger","position"]),w=this.getMarkerData(d,"node"),M=this.getMarkerData(f,"edge"),x=this.getMarkerData(m,"combo"),D=[...w,...x,...M],k=this.layout(b),T=new $Dt({style:Object.assign({width:l,height:u},k)}),O=Object.assign({width:l,height:u,data:D,itemMarkerLineWidth:({lineWidth:L})=>L,itemMarker:({marker:L})=>L,itemMarkerStroke:({stroke:L})=>L,itemMarkerFill:({fill:L})=>L,gridCol:w.length},E,this.getEvents()),R=new VDt({className:"legend",style:O});T.appendChild(R),r.appendChild(T),this.element=T,this.draw=!0},this.bindEvents()}update(t){super.update(t),this.clear(),this.createElement()}clear(){var t;null===(t=this.element)||void 0===t||t.destroy(),this.element=null,this.draw=!1}updateElement(){this.element&&this.element.getChildByIndex(0).update({itemMarkerOpacity:({id:t})=>!this.selectedItems.length||this.selectedItems.includes(t)?1:.5,itemLabelOpacity:({id:t})=>!this.selectedItems.length||this.selectedItems.includes(t)?1:.5})}destroy(){this.clear(),this.context.graph.off(Dn.AFTER_DRAW,this.createElement),super.destroy()}}return n.defaultOptions={position:"bottom",trigger:"hover",orientation:"horizontal",layout:"flex",itemSpacing:4,rowPadding:10,colPadding:10,itemMarkerSize:16,itemLabelFontSize:16},n})(),prt=(()=>{class n extends da{constructor(t,i){super(t,Object.assign({},n.defaultOptions,i)),this.onDraw=r=>{var o;null!==(o=r?.data)&&void 0!==o&&o.render||this.onRender()},this.shapes=new Map,this.landmarkMap=new Map,this.mask=null,this.isMaskDragging=!1,this.onMaskDragStart=r=>{this.mask&&(this.isMaskDragging=!0,this.mask.setPointerCapture(r.pointerId),this.mask.addEventListener("pointermove",this.onMaskDrag),this.mask.addEventListener("pointerup",this.onMaskDragEnd),this.mask.addEventListener("pointercancel",this.onMaskDragEnd))},this.onMaskDrag=r=>{if(!this.mask||!this.isMaskDragging)return;const{size:[o,s]}=this.options,{movementX:a,movementY:l}=r,{left:u,top:d,width:f,height:m}=this.mask.style,[,,y,b]=this.maskBBox;let E=parseInt(u)+a,w=parseInt(d)+l,M=parseInt(f),x=parseInt(m);E<0&&(E=0),w<0&&(w=0),E+M>o&&(E=cg(o-M,0)),w+x>s&&(w=cg(s-x,0)),M<y&&(a>0?(E=cg(E-a,0),M=lg(M+a,o)):a<0&&(M=lg(M-a,o))),x<b&&(l>0?(w=cg(w-l,0),x=lg(x+l,s)):l<0&&(x=lg(x-l,s))),Object.assign(this.mask.style,{left:E+"px",top:w+"px",width:M+"px",height:x+"px"});const D=parseInt(u)-E,k=parseInt(d)-w;if(0===D&&0===k)return;const R=this.context.canvas.getCamera().getZoom()/this.canvas.getCamera().getZoom();this.context.graph.translateBy([D*R,k*R],!1)},this.onMaskDragEnd=r=>{this.mask&&(this.isMaskDragging=!1,this.mask.releasePointerCapture(r.pointerId),this.mask.removeEventListener("pointermove",this.onMaskDrag),this.mask.removeEventListener("pointerup",this.onMaskDragEnd),this.mask.removeEventListener("pointercancel",this.onMaskDragEnd))},this.onTransform=Xw(()=>{this.isMaskDragging||(this.updateMask(),this.setCamera())},32,{leading:!0}),this.setOnRender(),this.bindEvents()}update(t){this.unbindEvents(),super.update(t),"delay"in t&&this.setOnRender(),this.bindEvents()}setOnRender(){this.onRender=K0(()=>{this.renderMinimap(),this.renderMask()},this.options.delay,!0)}bindEvents(){const{graph:t}=this.context;t.on(Dn.AFTER_DRAW,this.onDraw),t.on(Dn.AFTER_RENDER,this.onRender),t.on(Dn.AFTER_TRANSFORM,this.onTransform)}unbindEvents(){const{graph:t}=this.context;t.off(Dn.AFTER_DRAW,this.onDraw),t.off(Dn.AFTER_RENDER,this.onRender),t.off(Dn.AFTER_TRANSFORM,this.onTransform)}renderMinimap(){const t=this.getElements(),i=this.initCanvas();this.setShapes(i,t)}getElements(){const{filter:t}=this.options,{model:i}=this.context,r=i.getData();if(!t)return r;const{nodes:o,edges:s,combos:a}=r;return{nodes:o.filter(l=>t(We(l),"node")),edges:s.filter(l=>t(We(l),"edge")),combos:a.filter(l=>t(We(l),"combo"))}}setShapes(t,i){const{nodes:r,edges:o,combos:s}=i,{shape:a}=this.options,{element:l}=this.context;if("key"===a){const d=new Set,f=m=>{const y=We(m);d.add(y);const b=l.getElement(y);if(!b)return;const E=b.getShape("key"),w=this.shapes.get(y)||E.cloneNode();w.setPosition(E.getPosition()),b.style.zIndex&&(w.style.zIndex=b.style.zIndex),w.id=b.id,this.shapes.has(y)?Object.entries(E.attributes).forEach(([M,x])=>{w.style[M]!==x&&(w.style[M]=x)}):(t.appendChild(w),this.shapes.set(y,w))};return o.forEach(f),s.forEach(f),r.forEach(f),void this.shapes.forEach((m,y)=>{d.has(y)||(t.removeChild(m),this.shapes.delete(y))})}const u=(d,f)=>{const m=l.getElement(d).getPosition();return f.setPosition(m),f};t.removeChildren(),o.forEach(d=>t.appendChild(a(We(d),"edge"))),s.forEach(d=>{t.appendChild(u(We(d),a(We(d),"combo")))}),r.forEach(d=>{t.appendChild(u(We(d),a(We(d),"node")))})}calculatePosition(){const{position:t,size:[i,r]}=this.options,{canvas:o}=this.context,[s,a]=o.getSize(),[l,u]=D2(t);return[l*(s-i),u*(a-r)]}createContainer(){const{container:t,className:i,size:[r,o],containerStyle:s}=this.options;if(t)return"string"==typeof t?document.querySelector(t):t;const a=document.createElement("div");a.classList.add("g6-minimap"),i&&a.classList.add(i);const[l,u]=this.calculatePosition();return Object.assign(a.style,Object.assign({position:"absolute",left:l+"px",top:u+"px",width:r+"px",height:o+"px"},s)),this.context.canvas.getContainer().appendChild(a)}initCanvas(){const{renderer:t,size:[i,r]}=this.options;if(this.canvas){const{width:o,height:s}=this.canvas.getConfig();(i!==o||r!==s)&&this.canvas.resize(i,r),t&&this.canvas.setRenderer(t)}else{const o=document.createElement("div"),s=this.createContainer();this.container=s,s.appendChild(o),this.canvas=new pi.Canvas({width:i,height:r,container:o,renderer:t||new z2})}return this.setCamera(),this.canvas}createLandmark(t,i,r){const o=`${t.join(",")}-${i.join(",")}-${r}`;if(this.landmarkMap.has(o))return this.landmarkMap.get(o);const s=this.canvas.getCamera().createLandmark(o,{position:t,focalPoint:i,zoom:r});return this.landmarkMap.set(o,s),s}setCamera(){var t;const{canvas:i}=this.context,r=null===(t=this.canvas)||void 0===t?void 0:t.getCamera();if(!r)return;const{size:[o,s],padding:a}=this.options,[l,u,d,f]=dh(a),{min:m,max:y,center:b}=i.getBounds("elements"),T=Math.min((o-f-u)/(y[0]-m[0]),(s-l-d)/(y[1]-m[1])),O=this.createLandmark(b,b,T);r.gotoLandmark(O,0)}get maskBBox(){const{canvas:t}=this.context,i=t.getSize(),r=t.getCanvasByViewport([0,0]),o=t.getCanvasByViewport(i),s=this.canvas.canvas2Viewport(sc(r)),a=this.canvas.canvas2Viewport(sc(o));return[s.x,s.y,a.x-s.x,a.y-s.y]}calculateMaskBBox(){const{size:[t,i]}=this.options;let[r,o,s,a]=this.maskBBox;return r<0&&(s=lg(s+r,t),r=0),o<0&&(a=lg(a+o,i),o=0),r+s>t&&(s=cg(t-r,0)),o+a>i&&(a=cg(i-o,0)),[lg(r,t),lg(o,i),cg(s,0),cg(a,0)]}renderMask(){const{maskStyle:t}=this.options;this.mask||(this.mask=document.createElement("div"),this.mask.addEventListener("pointerdown",this.onMaskDragStart)),this.container.appendChild(this.mask),Object.assign(this.mask.style,Object.assign(Object.assign({},t),{cursor:"move",position:"absolute",pointerEvents:"auto"})),this.updateMask()}updateMask(){if(!this.mask)return;const[t,i,r,o]=this.calculateMaskBBox();Object.assign(this.mask.style,{top:i+"px",left:t+"px",width:r+"px",height:o+"px"})}destroy(){var t;this.unbindEvents(),this.canvas.destroy(),null===(t=this.mask)||void 0===t||t.remove(),super.destroy()}}return n.defaultOptions={size:[240,160],shape:"key",padding:10,position:"right-bottom",maskStyle:{border:"1px solid #ddd",background:"rgba(0, 0, 0, 0.1)"},containerStyle:{border:"1px solid #ddd",background:"#fff"},delay:128},n})();const lg=(n,e)=>Math.min(n,e),cg=(n,e)=>Math.max(n,e);var pH=function(n,e,t,i){return new(t||(t=Promise))(function(o,s){function a(d){try{u(i.next(d))}catch(f){s(f)}}function l(d){try{u(i.throw(d))}catch(f){s(f)}}function u(d){d.done?o(d.value):function r(o){return o instanceof t?o:new t(function(s){s(o)})}(d.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};const mH={x1:0,y1:0,x2:0,y2:0,visibility:"hidden"};let fTt=(()=>{class n extends da{constructor(t,i){super(t,Object.assign({},n.defaultOptions,i)),this.initSnapline=()=>{const r=this.context.canvas.getLayer("transient");this.horizontalLine||(this.horizontalLine=r.appendChild(new pi.Line({style:Object.assign(Object.assign({},mH),this.options.horizontalLineStyle)}))),this.verticalLine||(this.verticalLine=r.appendChild(new pi.Line({style:Object.assign(Object.assign({},mH),this.options.verticalLineStyle)})))},this.isHorizontalSticking=!1,this.isVerticalSticking=!1,this.enableStick=!0,this.autoSnapToLine=(r,o,s)=>pH(this,void 0,void 0,function*(){const{verticalX:a,horizontalY:l}=s,{tolerance:u}=this.options,{min:[d,f],max:[m,y],center:[b,E]}=o;let w=0,M=0;null!==a&&(Il(m,a)<u&&(w=a-m),Il(d,a)<u&&(w=a-d),Il(b,a)<u&&(w=a-b),0!==w&&(this.isVerticalSticking=!0)),null!==l&&(Il(y,l)<u&&(M=l-y),Il(f,l)<u&&(M=l-f),Il(E,l)<u&&(M=l-E),0!==M&&(this.isHorizontalSticking=!0)),(0!==w||0!==M)&&(yield this.context.graph.translateElementBy({[r]:[w,M]},!1))}),this.enableSnap=r=>{const{target:o}=r,s=.5;if(this.isHorizontalSticking||this.isVerticalSticking){const[a,l]=this.getDelta(r);if(this.isHorizontalSticking&&this.isVerticalSticking&&Math.abs(a)<=s&&Math.abs(l)<=s)return this.context.graph.translateElementBy({[o.id]:[-a,-l]},!1),!1;if(this.isHorizontalSticking&&Math.abs(l)<=s)return this.context.graph.translateElementBy({[o.id]:[0,-l]},!1),!1;if(this.isVerticalSticking&&Math.abs(a)<=s)return this.context.graph.translateElementBy({[o.id]:[-a,0]},!1),!1;this.isHorizontalSticking=!1,this.isVerticalSticking=!1,this.enableStick=!1,setTimeout(()=>{this.enableStick=!0},200)}return this.enableStick},this.calcSnaplineMetadata=(r,o)=>{const{tolerance:s,shape:a}=this.options,{min:[l,u],max:[d,f],center:[m,y]}=o;let b=null,E=null,w=null,M=null,x=null,D=null;return this.getNodes().some(k=>{if(Xo(r.id,k.id))return!1;const T=mrt(k,a).getRenderBounds(),{min:[O,R],max:[L,F],center:[U,$]}=T;return null===b&&(Il(U,m)<s?b=U:Il(O,l)<s||Il(O,d)<s?b=O:(Il(L,d)<s||Il(L,l)<s)&&(b=L),null!==b&&(E=Math.min(R,u),w=Math.max(F,f))),null===M&&(Il($,y)<s?M=$:Il(R,u)<s||Il(R,f)<s?M=R:(Il(F,f)<s||Il(F,u)<s)&&(M=F),null!==M&&(x=Math.min(O,l),D=Math.max(L,d))),null!==b&&null!==M}),{verticalX:b,verticalMinY:E,verticalMaxY:w,horizontalY:M,horizontalMinX:x,horizontalMaxX:D}},this.onDragStart=()=>{this.initSnapline()},this.onDrag=r=>pH(this,void 0,void 0,function*(){const{target:o}=r;if(this.options.autoSnap&&!this.enableSnap(r))return;const s=mrt(o,this.options.shape).getRenderBounds(),a=this.calcSnaplineMetadata(o,s);this.hideSnapline(),(null!==a.verticalX||null!==a.horizontalY)&&this.updateSnapline(a),this.options.autoSnap&&(yield this.autoSnapToLine(o.id,s,a))}),this.onDragEnd=()=>{this.hideSnapline()},this.bindEvents()}getNodes(){var t;const{filter:i}=this.options,r=((null===(t=this.context.element)||void 0===t?void 0:t.getNodes())||[]).filter(o=>{var s;return function e0t(n){return"hidden"!==xa(n,["style","visibility"])}(o)&&(null===(s=this.context.viewport)||void 0===s?void 0:s.isInViewport(o.getRenderBounds()))});return i?r.filter(o=>i(o)):r}hideSnapline(){this.horizontalLine.style.visibility="hidden",this.verticalLine.style.visibility="hidden"}getLineWidth(t){const{lineWidth:i}=this.options[`${t}LineStyle`];return+(i||mH.lineWidth||1)/this.context.graph.getZoom()}updateSnapline(t){const{verticalX:i,verticalMinY:r,verticalMaxY:o,horizontalY:s,horizontalMinX:a,horizontalMaxX:l}=t,[u,d]=this.context.canvas.getSize(),{offset:f}=this.options;null!==s?Object.assign(this.horizontalLine.style,{x1:f===1/0?0:a-f,y1:s,x2:f===1/0?u:l+f,y2:s,visibility:"visible",lineWidth:this.getLineWidth("horizontal")}):this.horizontalLine.style.visibility="hidden",null!==i?Object.assign(this.verticalLine.style,{x1:i,y1:f===1/0?0:r-f,x2:i,y2:f===1/0?d:o+f,visibility:"visible",lineWidth:this.getLineWidth("vertical")}):this.verticalLine.style.visibility="hidden"}getDelta(t){const i=this.context.graph.getZoom();return Uc([t.dx,t.dy],i)}bindEvents(){return pH(this,void 0,void 0,function*(){const{graph:t}=this.context;t.on(eo.DRAG_START,this.onDragStart),t.on(eo.DRAG,this.onDrag),t.on(eo.DRAG_END,this.onDragEnd)})}unbindEvents(){const{graph:t}=this.context;t.off(eo.DRAG_START,this.onDragStart),t.off(eo.DRAG,this.onDrag),t.off(eo.DRAG_END,this.onDragEnd)}destroyElements(){var t,i;null===(t=this.horizontalLine)||void 0===t||t.destroy(),null===(i=this.verticalLine)||void 0===i||i.destroy()}destroy(){this.destroyElements(),this.unbindEvents(),super.destroy()}}return n.defaultOptions={tolerance:5,offset:20,autoSnap:!0,shape:"key",verticalLineStyle:{stroke:"#1783FF"},horizontalLineStyle:{stroke:"#1783FF"},filter:()=>!0},n})();const Il=(n,e)=>Math.abs(n-e),mrt=(n,e)=>"function"==typeof e?e(n):n.getShape(e);const gTt=["timestamp","time","date","datetime"];let vTt=(()=>{class n extends da{get padding(){return dh(this.options.padding)}constructor(t,i){super(t,Object.assign({},n.defaultOptions,i)),this.backup(),this.upsertTimebar()}play(){var t;null===(t=this.timebar)||void 0===t||t.play()}pause(){var t;null===(t=this.timebar)||void 0===t||t.pause()}forward(){var t;null===(t=this.timebar)||void 0===t||t.forward()}backward(){var t;null===(t=this.timebar)||void 0===t||t.backward()}reset(){var t;null===(t=this.timebar)||void 0===t||t.reset()}update(t){super.update(t),this.backup(),Object.keys(t).forEach(i=>{"position"===i?this.upsertWrapper():this.upsertTimebar()})}backup(){this.originalData=grt(this.context.graph.getData())}upsertTimebar(){const{canvas:t}=this.context,i=this.options,{onChange:r,timebarType:o,data:s,width:u,height:d}=i,m=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t}(i,["onChange","timebarType","data","x","y","width","height","mode"]),y=t.getSize(),[b]=this.padding;this.upsertCanvas().ready.then(()=>{var E;const w=Object.assign(Object.assign({x:y[0]/2-u/2,y:b,onChange:M=>{const x=(qi(M)?M:[M,M]).map(D=>sf(D)?D.getTime():D);"modify"===this.options.mode?this.filterElements(x):this.hiddenElements(x),r?.(x)}},m),{data:s.map(M=>oi(M)?{time:M,value:0}:M),width:u,height:d,type:o});this.timebar?this.timebar.update(w):(this.timebar=new uTt({style:w}),null===(E=this.canvas)||void 0===E||E.appendChild(this.timebar))})}upsertWrapper(){var t;if(!this.wrapper){const a=document.createElement("div");a.style.position="absolute",this.wrapper=a}const{x:i,y:r,className:o,position:s}=this.options;return o&&(this.wrapper.className=o),oi(i)||oi(r)?Object.assign(this.wrapper.style,{left:`${i??0}px`,top:`${r??0}px`}):Object.assign(this.wrapper.style,{["top"===s?"bottom":"top"]:"unset",["top"===s?"top":"bottom"]:"0px"}),null===(t=this.context.canvas.getContainer())||void 0===t||t.appendChild(this.wrapper),this.wrapper}upsertCanvas(){var t,i;const r=this.upsertWrapper();if(this.canvas)return this.canvas;const{height:o}=this.options,[s]=this.context.canvas.getSize(),[a,,l]=this.padding;return this.canvas=new pi.Canvas({container:r,width:s,height:o+a+l,renderer:(null===(i=(t=this.context.options).renderer)||void 0===i?void 0:i.call(t,"main"))||new z2,supportsMutipleCanvasesInOneContainer:!0}),this.canvas}filterElements(t){return function(n,e,t,i){return new(t||(t=Promise))(function(o,s){function a(d){try{u(i.next(d))}catch(f){s(f)}}function l(d){try{u(i.throw(d))}catch(f){s(f)}}function u(d){d.done?o(d.value):function r(o){return o instanceof t?o:new t(function(s){s(o)})}(d.value).then(a,l)}u((i=i.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){var i;if(!this.originalData)return;const{elementTypes:r,getTime:o}=this.options,{graph:s,element:a}=this.context,l=grt(this.originalData);r.forEach(d=>{const f=`${d}s`;l[f]=(this.originalData[f]||[]).filter(m=>{const y=o(m);return!!vrt(y,t)})});const u=[...l.nodes,...l.combos].map(d=>We(d));l.edges=l.edges.filter(d=>{const m=d.target;return u.includes(d.source)&&u.includes(m)}),s.setData(l),yield null===(i=a.draw({animation:!1,silence:!0}))||void 0===i?void 0:i.finished})}hiddenElements(t){const{graph:i}=this.context,{elementTypes:r,getTime:o}=this.options,s=[],a=[];r.forEach(l=>{var u;((null===(u=this.originalData)||void 0===u?void 0:u[`${l}s`])||[]).forEach(f=>{const m=We(f),y=o(f);vrt(y,t)?a.push(m):s.push(m)})}),i.hideElement(s,!1),i.showElement(a,!1)}destroy(){var t,i,r;const{graph:o}=this.context;this.originalData&&o.setData(Object.assign({},this.originalData)),null===(t=this.timebar)||void 0===t||t.destroy(),null===(i=this.canvas)||void 0===i||i.destroy(),null===(r=this.wrapper)||void 0===r||r.remove(),this.originalData=void 0,this.wrapper=void 0,this.timebar=void 0,this.canvas=void 0,super.destroy()}}return n.defaultOptions={position:"bottom",enable:!0,timebarType:"time",className:"g6-timebar",width:450,height:60,zIndex:3,elementTypes:["node"],padding:10,mode:"modify",getTime:e=>yTt(e,gTt,void 0),loop:!1},n})();const grt=n=>{const{nodes:e=[],edges:t=[],combos:i=[]}=n;return{nodes:[...e],edges:[...t],combos:[...i]}},vrt=(n,e)=>{if(oi(e))return n===e;const[t,i]=e;return n>=t&&n<=i},yTt=(n,e,t)=>{var i;for(let r=0;r<e.length;r++){const s=null===(i=n.data)||void 0===i?void 0:i[e[r]];if(s)return s}return t};var yrt=function(n,e,t,i){return new(t||(t=Promise))(function(o,s){function a(d){try{u(i.next(d))}catch(f){s(f)}}function l(d){try{u(i.throw(d))}catch(f){s(f)}}function u(d){d.done?o(d.value):function r(o){return o instanceof t?o:new t(function(s){s(o)})}(d.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};let wTt=(()=>{class n extends da{constructor(t,i){super(t,Object.assign({},n.defaultOptions,i)),this.$element=$3("toolbar",!1),this.onToolbarItemClick=o=>{const{onClick:s}=this.options;if(o.target instanceof Element&&o.target.className.includes("g6-toolbar-item")){const a=o.target.getAttribute("value");s?.(a,o.target)}};const r=this.context.canvas.getContainer();this.$element.style.display="flex",r.appendChild(this.$element),IU("g6-toolbar-css","style",{},"\n  .g6-toolbar {\n    position: absolute;\n    z-index: 100;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n    border-radius: 4px;\n    box-shadow: 0px 0px 8px rgba(0, 0, 0, 0.1);\n    opacity: 0.65;\n  }\n  .g6-toolbar .g6-toolbar-item {\n    display: inline-block;\n    width: 16px;\n    height: 16px;\n    padding: 4px;\n    cursor: pointer;\n    box-sizing: content-box;\n  }\n\n  .g6-toolbar .g6-toolbar-item:hover {\n    background-color: #f0f0f0;\n  }\n\n  .g6-toolbar .g6-toolbar-item svg {\n    display: inline-block;\n    width: 100%;\n    height: 100%;\n    pointer-events: none;\n  }\n",document.head),IU("g6-toolbar-svgicon","div",{display:"none"},'\n  <svg>\n    <symbol id="zoom-in" viewBox="64 64 896 896">\n      <path d="M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"></path>\n    </symbol>\n    <symbol id="zoom-out" viewBox="64 64 896 896">\n      <path d="M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"></path>\n    </symbol>\n    <symbol id="edit" viewBox="64 64 896 896">\n      <path d="M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"></path>\n    </symbol>\n    <symbol id="delete" viewBox="64 64 896 896">\n      <path d="M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"></path>\n    </symbol>\n    <symbol id="redo" viewBox="64 64 896 896">\n      <path d="M758.2 839.1C851.8 765.9 912 651.9 912 523.9 912 303 733.5 124.3 512.6 124 291.4 123.7 112 302.8 112 523.9c0 125.2 57.5 236.9 147.6 310.2 3.5 2.8 8.6 2.2 11.4-1.3l39.4-50.5c2.7-3.4 2.1-8.3-1.2-11.1-8.1-6.6-15.9-13.7-23.4-21.2a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-9.3 9.3-19.1 18-29.3 26L668.2 724a8 8 0 00-14.1 3l-39.6 162.2c-1.2 5 2.6 9.9 7.7 9.9l167 .8c6.7 0 10.5-7.7 6.3-12.9l-37.3-47.9z"></path>\n    </symbol>\n    <symbol id="undo" viewBox="64 64 896 896">\n      <path d="M511.4 124C290.5 124.3 112 303 112 523.9c0 128 60.2 242 153.8 315.2l-37.5 48c-4.1 5.3-.3 13 6.3 12.9l167-.8c5.2 0 9-4.9 7.7-9.9L369.8 727a8 8 0 00-14.1-3L315 776.1c-10.2-8-20-16.7-29.3-26a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-7.5 7.5-15.3 14.5-23.4 21.2a7.93 7.93 0 00-1.2 11.1l39.4 50.5c2.8 3.5 7.9 4.1 11.4 1.3C854.5 760.8 912 649.1 912 523.9c0-221.1-179.4-400.2-400.6-399.9z"></path>\n    </symbol>\n    <symbol id="export" viewBox="64 64 896 896">\n      <path d="M880 912H144c-17.7 0-32-14.3-32-32V144c0-17.7 14.3-32 32-32h360c4.4 0 8 3.6 8 8v56c0 4.4-3.6 8-8 8H184v656h656V520c0-4.4 3.6-8 8-8h56c4.4 0 8 3.6 8 8v360c0 17.7-14.3 32-32 32zM770.87 199.13l-52.2-52.2a8.01 8.01 0 014.7-13.6l179.4-21c5.1-.6 9.5 3.7 8.9 8.9l-21 179.4c-.8 6.6-8.9 9.4-13.6 4.7l-52.4-52.4-256.2 256.2a8.03 8.03 0 01-11.3 0l-42.4-42.4a8.03 8.03 0 010-11.3l256.1-256.3z"></path>\n    </symbol>\n    <symbol id="auto-fit" viewBox="64 64 896 896">\n      <path d="M952 474H829.8C812.5 327.6 696.4 211.5 550 194.2V72c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v122.2C327.6 211.5 211.5 327.6 194.2 474H72c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h122.2C211.5 696.4 327.6 812.5 474 829.8V952c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V829.8C696.4 812.5 812.5 696.4 829.8 550H952c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zM512 756c-134.8 0-244-109.2-244-244s109.2-244 244-244 244 109.2 244 244-109.2 244-244 244z"></path>\n      <path d="M512 392c-32.1 0-62.1 12.4-84.8 35.2-22.7 22.7-35.2 52.7-35.2 84.8s12.5 62.1 35.2 84.8C449.9 619.4 480 632 512 632s62.1-12.5 84.8-35.2C619.4 574.1 632 544 632 512s-12.5-62.1-35.2-84.8A118.57 118.57 0 00512 392z"></path>\n    </symbol>\n    <symbol id="reset" viewBox="64 64 896 896">\n      <path d="M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"></path>\n    </symbol>\n    <symbol id="exit-fullscreen" viewBox="0 0 1024 1024">\n      <path d="M418.13333333 361.43786666c0 0.2048-0.13653333 0.4096-0.13653334 0.68266667C417.99679999 362.32533333 418.13333333 362.53013333 418.13333333 362.73493333 418.13333333 371.54133333 414.44693333 379.392 408.78079999 385.39946666 408.43946666 385.7408 408.30293333 386.21866666 408.02986666 386.49173333c-1.09226667 1.09226667-2.59413333 1.77493333-3.82293333 2.73066667C398.40426666 393.65973333 391.64586666 396.8 383.93173333 396.8 383.72693333 396.8 383.59039999 396.73173333 383.38559999 396.73173333S382.97599999 396.8 382.77119999 396.8L112.29866666 396.8C92.50133333 396.8 76.79999999 381.50826666 76.79999999 362.66666666 76.66346666 343.89333333 92.63786666 328.53333333 112.16213333 328.53333333l189.44 0L87.44959999 114.51733333C73.59146666 100.59093333 73.25013333 78.5408 86.63039999 65.29706666c13.17546667-13.44853333 35.36213333-12.97066667 49.152 0.88746667l214.08426667 214.08426667L349.86666666 90.89706666C349.79839999 71.23626666 365.22666666 55.46666666 383.99999999 55.46666666 402.77333333 55.33013333 418.13333333 71.30453333 418.13333333 90.8288L418.13333333 361.43786666zM928.90453333 328.53333333l-189.44 0 214.15253333-214.08426667c13.85813333-13.9264 14.19946667-35.90826667 0.88746667-49.22026666-13.17546667-13.44853333-35.36213333-12.97066667-49.152 0.88746666l-214.08426667 214.08426667L691.26826666 90.89706666C691.26826666 71.23626666 675.83999999 55.46666666 657.06666666 55.46666666 638.29333333 55.33013333 622.93333333 71.30453333 622.93333333 90.8288l0 270.60906666c0 0.2048 0.13653333 0.4096 0.13653333 0.68266667C623.06986666 362.32533333 622.93333333 362.53013333 622.93333333 362.73493333 622.93333333 371.54133333 626.61973333 379.392 632.28586666 385.39946666c0.34133333 0.34133333 0.47786667 0.8192 0.8192 1.09226667 1.09226667 1.09226667 2.59413333 1.77493333 3.8912 2.73066667C642.66239999 393.65973333 649.42079999 396.8 657.13493333 396.8c0.2048 0 0.34133333-0.06826667 0.54613333-0.06826667S658.09066666 396.8 658.29546666 396.8l270.5408 0C948.56533333 396.8 964.26666666 381.50826666 964.26666666 362.66666666 964.40319999 343.89333333 948.42879999 328.53333333 928.90453333 328.53333333zM418.13333333 635.73333333c0-8.8064-3.6864-16.5888-9.35253334-22.66453333C408.43946666 612.72746666 408.30293333 612.2496 408.02986666 611.90826666 406.86933333 610.88426666 405.43573333 610.2016 404.20693333 609.24586666 398.47253333 604.80853333 391.64586666 601.6 383.93173333 601.6 383.72693333 601.6 383.59039999 601.73653333 383.38559999 601.73653333S382.97599999 601.6 382.77119999 601.6L112.29866666 601.6C92.50133333 601.6 76.79999999 616.96 76.79999999 635.73333333 76.66346666 654.50666666 92.63786666 669.86666666 112.16213333 669.86666666l189.44 0-214.15253334 214.15253334c-13.85813333 13.85813333-14.19946667 35.84-0.88746666 49.22026666 13.17546667 13.44853333 35.36213333 12.9024 49.152-0.95573333l214.08426666-214.08426667 0 189.37173334c0 19.59253333 15.42826667 35.49866667 34.2016 35.36213333C402.77333333 943.2064 418.13333333 927.232 418.13333333 907.5712L418.13333333 637.09866666c0-0.27306667-0.13653333-0.47786667-0.13653334-0.68266666C417.99679999 636.14293333 418.13333333 635.93813333 418.13333333 635.73333333zM739.46453333 669.86666666l189.44 0c19.456 0 35.49866667-15.36 35.36213333-34.13333333C964.26666666 616.96 948.56533333 601.6 928.76799999 601.6L658.29546666 601.6C658.09066666 601.6 657.88586666 601.73653333 657.68106666 601.73653333S657.33973333 601.6 657.13493333 601.6C649.42079999 601.6 642.59413333 604.80853333 636.85973333 609.24586666 635.63093333 610.2016 634.19733333 610.88426666 633.03679999 611.90826666 632.76373333 612.2496 632.62719999 612.72746666 632.28586666 613.0688 626.61973333 619.14453333 622.93333333 626.92693333 622.93333333 635.73333333c0 0.2048 0.13653333 0.4096 0.13653333 0.68266667C623.06986666 636.6208 622.93333333 636.8256 622.93333333 637.09866666l0 270.5408C622.93333333 927.232 638.29333333 943.2064 657.06666666 942.93333333c18.77333333 0.13653333 34.2016-15.70133333 34.2016-35.36213333l0-189.37173334 214.08426667 214.08426667c13.78986667 13.85813333 35.90826667 14.40426667 49.152 0.95573333 13.312-13.312 12.97066667-35.36213333-0.88746667-49.22026666L739.46453333 669.86666666z"  ></path></symbol>\n    <symbol id="request-fullscreen" viewBox="0 0 1024 1024">\n      <path d="M69.818182 87.598545v273.128728a34.909091 34.909091 0 0 0 69.818182 0V163.653818l221.928727 222.021818a33.512727 33.512727 0 0 0 47.383273-47.383272L186.926545 116.363636h197.073455a34.909091 34.909091 0 0 0 0-69.818181H110.871273C85.364364 46.545455 69.818182 59.671273 69.818182 87.598545zM938.542545 46.545455H665.413818a34.909091 34.909091 0 0 0 0 69.818181h197.073455L640.465455 338.292364a33.512727 33.512727 0 0 0 47.383272 47.383272l221.928728-222.021818v197.073455a34.909091 34.909091 0 0 0 69.818181 0V87.598545c0-27.927273-15.453091-41.053091-40.96-41.05309z m-827.671272 907.636363h273.128727a34.909091 34.909091 0 0 0 0-69.818182H186.926545l222.021819-221.928727a33.512727 33.512727 0 0 0-47.383273-47.383273L139.636364 837.073455V640a34.909091 34.909091 0 0 0-69.818182 0v273.128727c0 27.927273 15.546182 41.053091 41.053091 41.053091z m868.724363-41.053091V640a34.909091 34.909091 0 0 0-69.818181 0v197.073455L687.941818 615.051636a33.512727 33.512727 0 0 0-47.383273 47.383273L862.487273 884.363636H665.413818a34.909091 34.909091 0 0 0 0 69.818182h273.128727c25.6 0 41.053091-13.125818 41.053091-41.053091z"  ></path></symbol>\n  </svg>\n'),this.$element.addEventListener("click",this.onToolbarItemClick),this.update(i)}update(t){const i=Object.create(null,{update:{get:()=>super.update}});return yrt(this,void 0,void 0,function*(){i.update.call(this,t);const{className:r,position:o,style:s}=this.options;this.$element.className=`g6-toolbar ${r||""}`,Object.assign(this.$element.style,s,function bTt(n){const e={top:"unset",right:"unset",bottom:"unset",left:"unset"};return n.split("-").forEach(t=>{e[t]="8px"}),e.flexDirection=n.startsWith("top")||n.startsWith("bottom")?"row":"column",e}(o)),this.$element.innerHTML=yield this.getDOMContent()})}destroy(){this.$element.removeEventListener("click",this.onToolbarItemClick),this.$element.remove(),super.destroy()}getDOMContent(){return yrt(this,void 0,void 0,function*(){return(yield this.options.getItems()).map(t=>`\n          <div class="g6-toolbar-item" value="${t.value}">\n            <svg aria-hidden="true" focusable="false">\n              <use xlink:href="#${t.id}"></use>\n            </svg>\n          </div>`).join("")})}}return n.defaultOptions={position:"top-left"},n})(),xTt=(()=>{class n extends da{constructor(t,i){super(t,Object.assign({},n.defaultOptions,i)),this.currentTarget=null,this.tooltipElement=null,this.container=null,this.isEnable=r=>{const{enable:o}=this.options;return"function"==typeof o?o(r):o},this.onClick=r=>{const{target:{id:o}}=r;this.currentTarget===o?(this.hide(r),this.currentTarget=null):(this.currentTarget=o,this.show(r))},this.onPointerMove=r=>{const{target:o}=r;!this.currentTarget||o.id===this.currentTarget||this.show(r)},this.onPointerLeave=r=>{this.hide(r),this.currentTarget=null},this.onCanvasMove=r=>{this.hide(r),this.currentTarget=null},this.onPointerEnter=r=>{this.show(r)},this.showById=r=>{this.show({target:{id:r}})},this.getElementData=(r,o)=>{const{model:s}=this.context;switch(o){case"node":return s.getNodeData([r]);case"edge":return s.getEdgeData([r]);case"combo":return s.getComboData([r]);default:return[]}},this.show=r=>{const{client:o,target:{id:s}}=r;if(TR(r.target)||!this.tooltipElement||!this.isEnable(r))return;const a=this.context.graph.getElementType(s),{getContent:l,title:u}=this.options;this.currentTarget=s;const d=this.getElementData(s,a);let f,m;if(o)f=o.x,m=o.y;else{const b=xa(d,"0.style",{x:0,y:0});f=b.x,m=b.y}let y={};if(l)y.content=l(r,d);else{const b=this.context.graph.getElementRenderStyle(s),E="node"===a?b.fill:b.stroke;y={title:u||a,data:d.map(w=>({name:"ID",value:w.id||`${w.source} -> ${w.target}`,color:E}))}}this.tooltipElement.update(Object.assign(Object.assign(Object.assign({},this.tooltipStyleProps),{x:f,y:m,style:{".tooltip":{visibility:"visible"}}}),y))},this.hide=r=>{var o;if(!r)return void(null===(o=this.tooltipElement)||void 0===o||o.hide());if(!this.tooltipElement||!this.currentTarget)return;const{client:{x:s,y:a}}=r;this.tooltipElement.hide(s,a)},this.initTooltip=()=>{var r;const o=new GDt({className:"tooltip",style:this.tooltipStyleProps});return null===(r=this.container)||void 0===r||r.appendChild(o.HTMLTooltipElement),o},this.render(),this.bindEvents()}getEvents(){return"click"===this.options.trigger?{"node:click":this.onClick,"edge:click":this.onClick,"combo:click":this.onClick,"canvas:click":this.onPointerLeave,contextmenu:this.onPointerLeave,drag:this.onPointerLeave}:{"node:pointerenter":this.onPointerEnter,"node:pointermove":this.onPointerMove,"canvas:pointermove":this.onCanvasMove,"edge:pointerenter":this.onPointerEnter,"edge:pointermove":this.onPointerMove,"combo:pointerenter":this.onPointerEnter,"combo:pointermove":this.onPointerMove,contextmenu:this.onPointerLeave,"node:drag":this.onPointerLeave}}update(t){var i;this.unbindEvents(),super.update(t),this.tooltipElement&&(null===(i=this.container)||void 0===i||i.removeChild(this.tooltipElement.HTMLTooltipElement)),this.tooltipElement=this.initTooltip(),this.bindEvents()}render(){const{canvas:t}=this.context,i=t.getContainer();i&&(this.container=i,this.tooltipElement=this.initTooltip())}unbindEvents(){const{graph:t}=this.context,i=this.getEvents();Object.keys(i).forEach(r=>{t.off(r,i[r])})}bindEvents(){const{graph:t}=this.context,i=this.getEvents();Object.keys(i).forEach(r=>{t.on(r,i[r])})}get tooltipStyleProps(){const{canvas:t}=this.context,{center:i}=t.getBounds(),r=t.getContainer(),{top:o,left:s}=r.getBoundingClientRect(),{style:a,position:l,enterable:u,container:d={x:-s,y:-o},title:f,offset:m}=this.options,[y,b]=i,[E,w]=t.getSize();return{x:y,y:b,container:d,title:f,bounding:{x:0,y:0,width:E,height:w},position:l,enterable:u,offset:m,style:a}}destroy(){var t;this.unbindEvents(),this.tooltipElement&&(null===(t=this.container)||void 0===t||t.removeChild(this.tooltipElement.HTMLTooltipElement)),super.destroy()}}return n.defaultOptions={trigger:"hover",position:"top-right",enterable:!1,enable:!0,offset:[10,10],style:{".tooltip":{visibility:"hidden"}}},n})();var brt=function(n,e,t,i){return new(t||(t=Promise))(function(o,s){function a(d){try{u(i.next(d))}catch(f){s(f)}}function l(d){try{u(i.throw(d))}catch(f){s(f)}}function u(d){d.done?o(d.value):function r(o){return o instanceof t?o:new t(function(s){s(o)})}(d.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};let $_;function _rt(n,e){return $_||($_=document.createElement("canvas")),$_.width=n,$_.height=e,$_.getContext("2d").clearRect(0,0,n,e),$_}class r4 extends da{constructor(e,t){super(e,Object.assign({},r4.defaultOptions,t)),this.$element=$3("watermark"),this.context.canvas.getContainer().appendChild(this.$element),this.update(t)}update(e){const t=Object.create(null,{update:{get:()=>super.update}});return function(n,e,t,i){return new(t||(t=Promise))(function(o,s){function a(d){try{u(i.next(d))}catch(f){s(f)}}function l(d){try{u(i.throw(d))}catch(f){s(f)}}function u(d){d.done?o(d.value):function r(o){return o instanceof t?o:new t(function(s){s(o)})}(d.value).then(a,l)}u((i=i.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){t.update.call(this,e);const i=this.options,{width:r,height:o,text:s,imageURL:a}=i,l=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t}(i,["width","height","text","imageURL"]);Object.keys(l).forEach(d=>{d.startsWith("background")&&(this.$element.style[d]=e[d])});const u=a?yield function CTt(n,e,t,i){return brt(this,void 0,void 0,function*(){const r=_rt(n,e),o=r.getContext("2d"),{rotate:s,opacity:a}=i;s&&o.rotate(s),a&&(o.globalAlpha=a);const l=new Image;return l.crossOrigin="anonymous",l.src=t,new Promise(u=>{l.onload=function(){const d=n>l.width?(n-l.width)/2:0,f=e>l.height?(e-l.height)/2:0;o.drawImage(l,0,0,l.width,l.height,d,f,n-2*d,e-2*f),u(r.toDataURL())}})})}(r,o,a,l):yield function MTt(n,e,t,i){return brt(this,void 0,void 0,function*(){const r=_rt(n,e),o=r.getContext("2d"),{rotate:s,opacity:a,textFill:l,textFontSize:u,textFontFamily:d,textFontVariant:f,textFontWeight:m,textAlign:y,textBaseline:b}=i;return o.textAlign=y,o.textBaseline=b,o.translate(n/2,e/2),o.font=`${u}px ${d} ${f} ${m}`,s&&o.rotate(s),a&&(o.globalAlpha=a),l&&(o.fillStyle=l,o.fillText(`${t}`,0,0)),r.toDataURL()})}(r,o,s,l);this.$element.style.backgroundImage=`url(${u})`})}destroy(){super.destroy(),this.$element.remove()}}r4.defaultOptions={width:200,height:100,opacity:.2,rotate:Math.PI/12,text:"",textFill:"#000",textFontSize:16,textAlign:"center",textBaseline:"middle",backgroundRepeat:"repeat"};const TTt=["#7E92B5","#F4664A","#FFBE3A"],ATt={type:"group",color:["#1783FF","#00C9C9","#F08F56","#D580FF","#7863FF","#DB9D0D","#60C42D","#FF80CA","#2491B3","#17C76F"]},OTt={type:"group",color:["#99ADD1","#1783FF","#00C9C9","#F08F56","#D580FF","#7863FF","#DB9D0D","#60C42D","#FF80CA","#2491B3","#17C76F"]};function Ert(n){const{bgColor:e,textColor:t,nodeColor:i,nodeColorDisabled:r,nodeStroke:o,nodeHaloStrokeOpacityActive:s=.15,nodeHaloStrokeOpacitySelected:a=.25,nodeOpacityDisabled:l=.06,nodeIconOpacityInactive:u=.85,nodeOpacityInactive:d=.25,nodeBadgePalette:f=TTt,nodePaletteOptions:m=ATt,edgeColor:y,edgeColorDisabled:b,edgePaletteOptions:E=OTt,comboColor:w,comboColorDisabled:M,comboStroke:x,comboStrokeDisabled:D,edgeColorInactive:k}=n;return{background:e,node:{palette:m,style:{donutOpacity:1,badgeBackgroundOpacity:1,badgeFill:"#fff",badgeFontSize:8,badgePadding:[0,4],badgePalette:f,fill:i,fillOpacity:1,halo:!1,iconFill:"#fff",iconOpacity:1,labelBackground:!1,labelBackgroundFill:e,labelBackgroundLineWidth:0,labelBackgroundOpacity:.75,labelFill:t,labelFillOpacity:.85,labelLineHeight:16,labelPadding:[0,2],labelFontSize:12,labelFontWeight:400,labelOpacity:1,labelOffsetY:2,lineWidth:0,portFill:i,portLineWidth:1,portStroke:o,portStrokeOpacity:.65,size:32,stroke:o,strokeOpacity:1,zIndex:2},state:{selected:{halo:!0,haloLineWidth:24,haloStrokeOpacity:a,labelFontSize:12,labelFontWeight:"bold",lineWidth:4,stroke:o},active:{halo:!0,haloLineWidth:12,haloStrokeOpacity:s},highlight:{labelFontWeight:"bold",lineWidth:4,stroke:o,strokeOpacity:.85},inactive:{badgeBackgroundOpacity:d,donutOpacity:d,fillOpacity:d,iconOpacity:u,labelFill:t,labelFillOpacity:d,strokeOpacity:d},disabled:{badgeBackgroundOpacity:.25,donutOpacity:l,fill:r,fillOpacity:l,iconFill:r,iconOpacity:.25,labelFill:t,labelFillOpacity:.25,strokeOpacity:l}},animation:{enter:"fade",exit:"fade",show:"fade",hide:"fade",expand:"node-expand",collapse:"node-collapse",update:[{fields:["x","y","fill","stroke"]}],translate:[{fields:["x","y"]}]}},edge:{palette:E,style:{badgeBackgroundFill:y,badgeFill:"#fff",badgeFontSize:8,badgeOffsetX:10,fillOpacity:1,halo:!1,haloLineWidth:12,haloStrokeOpacity:1,increasedLineWidthForHitTesting:2,labelBackground:!1,labelBackgroundFill:e,labelBackgroundLineWidth:0,labelBackgroundOpacity:.75,labelBackgroundPadding:[4,4,4,4],labelFill:t,labelFontSize:12,labelFontWeight:400,labelOpacity:1,labelPlacement:"center",labelTextBaseline:"middle",lineWidth:1,stroke:y,strokeOpacity:1,zIndex:1},state:{selected:{halo:!0,haloStrokeOpacity:.25,labelFontSize:14,labelFontWeight:"bold",lineWidth:3},active:{halo:!0,haloStrokeOpacity:.15},highlight:{labelFontWeight:"bold",lineWidth:3},inactive:{stroke:k,fillOpacity:.08,labelOpacity:.25,strokeOpacity:.08,badgeBackgroundOpacity:.25},disabled:{stroke:b,fillOpacity:.45,strokeOpacity:.45,labelOpacity:.25,badgeBackgroundOpacity:.45}},animation:{enter:"fade",exit:"fade",expand:"path-in",collapse:"path-out",show:"fade",hide:"fade",update:[{fields:["sourceNode","targetNode"]},{fields:["stroke"],shape:"key"}],translate:[{fields:["sourceNode","targetNode"]}]}},combo:{style:{collapsedMarkerFill:e,collapsedMarkerFontSize:12,collapsedMarkerFillOpacity:1,collapsedSize:32,collapsedFillOpacity:1,fill:w,halo:!1,haloLineWidth:12,haloStroke:x,haloStrokeOpacity:.25,labelBackground:!1,labelBackgroundFill:e,labelBackgroundLineWidth:0,labelBackgroundOpacity:.75,labelBackgroundPadding:[2,4,2,4],labelFill:t,labelFontSize:12,labelFontWeight:400,labelOpacity:1,lineDash:0,lineWidth:1,fillOpacity:.04,strokeOpacity:1,padding:10,stroke:x},state:{selected:{halo:!0,labelFontSize:14,labelFontWeight:700,lineWidth:4},active:{halo:!0},highlight:{labelFontWeight:700,lineWidth:4},inactive:{fillOpacity:.65,labelOpacity:.25,strokeOpacity:.65},disabled:{fill:M,fillOpacity:.25,labelOpacity:.25,stroke:D,strokeOpacity:.25}},animation:{enter:"fade",exit:"fade",show:"fade",hide:"fade",expand:"combo-expand",collapse:"combo-collapse",update:[{fields:["x","y"]},{fields:["fill","stroke","lineWidth"],shape:"key"}],translate:[{fields:["x","y"]}]}}}}const RTt=Ert({bgColor:"#000000",comboColor:"#fdfdfd",comboColorDisabled:"#d0e4ff",comboStroke:"#99add1",comboStrokeDisabled:"#969696",edgeColor:"#637088",edgeColorDisabled:"#637088",edgeColorInactive:"#D0E4FF",edgePaletteOptions:{type:"group",color:["#637088","#0F55A6","#008383","#9C5D38","#8B53A6","#4E40A6","#8F6608","#3E801D","#A65383","#175E75","#0F8248"]},nodeColor:"#1783ff",nodeColorDisabled:"#D0E4FF",nodeHaloStrokeOpacityActive:.25,nodeHaloStrokeOpacitySelected:.45,nodeIconOpacityInactive:.45,nodeOpacityDisabled:.25,nodeOpacityInactive:.45,nodeStroke:"#d0e4ff",textColor:"#ffffff"}),NTt=Ert({bgColor:"#ffffff",comboColor:"#99ADD1",comboColorDisabled:"#f0f0f0",comboStroke:"#99add1",comboStrokeDisabled:"#d9d9d9",edgeColor:"#99add1",edgeColorDisabled:"#d9d9d9",edgeColorInactive:"#1B324F",nodeColor:"#1783ff",nodeColorDisabled:"#1B324F",nodeHaloStrokeOpacityActive:.15,nodeHaloStrokeOpacitySelected:.25,nodeIconOpacityInactive:.85,nodeOpacityDisabled:.06,nodeOpacityInactive:.25,nodeStroke:"#000000",textColor:"#000000"});class ug extends ZC{beforeDraw(e,t){return e}afterLayout(){}}function Lu(n,e,t,i,r){const o=We(i),s=`${t}s`,a=r?i:n.add[s].get(o)||n.update[s].get(o)||n.remove[s].get(o)||i;Object.entries(n).forEach(([l,u])=>{e===l?u[s].set(o,a):u[s].delete(o)})}function o4(n,e){return Object.keys(n).every(t=>n[t]===e[t])}const wrt=(n,e,t,i)=>{const r=`${t}s`,o=We(i);!n.add[r].has(o)&&!n.update[r].has(o)&&n[e][r].set(We(i),i)};function hc(n,e,t,i=!1){const r=OC[n][e];!i&&r?r!==t&&oc.warn(`The extension ${e} of ${n} has been registered before.`):Object.assign(OC[n],{[e]:t})}var xrt=function(){function n(e){In(this,n),this.dragndropPluginOptions=e}return On(n,[{key:"apply",value:function(e){var t=this,i=e.renderingService,o=e.renderingContext.root.ownerDocument,s=o.defaultView,a=function(l){var u=l.target,d=u===o,f=d&&t.dragndropPluginOptions.isDocumentDraggable?o:u.closest&&u.closest("[draggable=true]");if(f){var m=!1,y=l.timeStamp,b=[l.clientX,l.clientY],E=null,w=[l.clientX,l.clientY],M=function(){var D=ql(rl().mark(function k(T){var O,R,L,F,U,$;return rl().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:if(m){X.next=8;break}if(O=T.timeStamp-y,R=Fa([T.clientX,T.clientY],b),!(O<=t.dragndropPluginOptions.dragstartTimeThreshold||R<=t.dragndropPluginOptions.dragstartDistanceThreshold)){X.next=5;break}return X.abrupt("return");case 5:T.type="dragstart",f.dispatchEvent(T),m=!0;case 8:if(T.type="drag",T.dx=T.clientX-w[0],T.dy=T.clientY-w[1],f.dispatchEvent(T),w=[T.clientX,T.clientY],d){X.next=21;break}return L="pointer"===t.dragndropPluginOptions.overlap?[T.canvasX,T.canvasY]:u.getBounds().center,X.next=17,o.elementsFromPoint(L[0],L[1]);case 17:U=(F=X.sent)[F.indexOf(u)+1],$=U?.closest("[droppable=true]")||(t.dragndropPluginOptions.isDocumentDroppable?o:null),E!==$&&(E&&(T.type="dragleave",T.target=E,E.dispatchEvent(T)),$&&(T.type="dragenter",T.target=$,$.dispatchEvent(T)),(E=$)&&(T.type="dragover",T.target=E,E.dispatchEvent(T)));case 21:case"end":return X.stop()}},k)}));return function(k){return D.apply(this,arguments)}}();s.addEventListener("pointermove",M);var x=function(D){if(m){D.detail={preventClick:!0};var k=D.clone();E&&(k.type="drop",k.target=E,E.dispatchEvent(k)),k.type="dragend",f.dispatchEvent(k),m=!1}s.removeEventListener("pointermove",M)};u.addEventListener("pointerup",x,{once:!0}),u.addEventListener("pointerupoutside",x,{once:!0})}};i.hooks.init.tap(n.tag,function(){s.addEventListener("pointerdown",a)}),i.hooks.destroy.tap(n.tag,function(){s.removeEventListener("pointerdown",a)})}}])}();xrt.tag="Dragndrop";var jTt=function(n){function e(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return In(this,e),(t=Kn(this,e)).name="dragndrop",t.options=i,t}return br(e,n),On(e,[{key:"init",value:function(){this.addRenderingPlugin(new xrt(xr({overlap:"pointer",isDocumentDraggable:!1,isDocumentDroppable:!1,dragstartDistanceThreshold:0,dragstartTimeThreshold:0},this.options)))}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}},{key:"setOptions",value:function(t){Object.assign(this.plugins[0].dragndropPluginOptions,t)}}])}(Du),Mrt=function(n,e,t,i){return new(t||(t=Promise))(function(o,s){function a(d){try{u(i.next(d))}catch(f){s(f)}}function l(d){try{u(i.throw(d))}catch(f){s(f)}}function u(d){d.done?o(d.value):function r(o){return o instanceof t?o:new t(function(s){s(o)})}(d.value).then(a,l)}u((i=i.apply(n,e||[])).next())})},Crt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t};const Srt=["main"],Drt=["background","main","label","transient"];class Trt{getConfig(){return this.config}getLayer(e="main"){return this.extends.layers[e]||function VTt(n){return n.main}(this.getLayers())}getLayers(){return this.extends.layers}getRenderer(e){return this.extends.renderers[e]}getCamera(e="main"){return this.getLayer(e).getCamera()}getRoot(e="main"){return this.getLayer(e).getRoot()}getContextService(e="main"){return this.getLayer(e).getContextService()}setCursor(e){this.config.cursor=e,this.getLayer().setCursor(e)}get document(){return this.getLayer().document}get context(){return this.getLayer().context}constructor(e){this.config={enableMultiLayer:!0},Object.assign(this.config,e);const t=this.config,{renderer:i,background:r,enableMultiLayer:s}=t,a=Crt(t,["renderer","background","cursor","enableMultiLayer"]),l=s?Drt:Srt,u=Art(i,l),d=Object.fromEntries(l.map(f=>[f,new pi.Canvas(Object.assign(Object.assign({},a),{supportsMutipleCanvasesInOneContainer:s,renderer:u[f],background:s?"background"===f?r:void 0:r}))]));Ort(d),this.extends={config:this.config,renderer:i,renderers:u,layers:d}}get ready(){return Promise.all(Object.entries(this.getLayers()).map(([,e])=>e.ready))}resize(e,t){Object.assign(this.extends.config,{width:e,height:t}),Object.values(this.getLayers()).forEach(i=>{const r=i.getCamera(),o=r.getPosition(),s=r.getFocalPoint();i.resize(e,t),r.setPosition(o),r.setFocalPoint(s)})}getBounds(e){return C2(Object.values(this.getLayers()).map(t=>e?t.getRoot().childNodes.find(i=>i.classList.includes(e)):t.getRoot()).filter(t=>t?.childNodes.length>0).map(t=>t.getBounds()))}getContainer(){const e=this.extends.config.container;return"string"==typeof e?document.getElementById(e):e}getSize(){return[this.extends.config.width||0,this.extends.config.height||0]}appendChild(e,t){var i;const r=(null===(i=e.style)||void 0===i?void 0:i.$layer)||"main";return this.getLayer(r).appendChild(e,t)}setRenderer(e){if(e===this.extends.renderer)return;const t=Art(e,this.config.enableMultiLayer?Drt:Srt);this.extends.renderers=t,Object.entries(t).forEach(([i,r])=>this.getLayer(i).setRenderer(r)),Ort(this.getLayers())}getCanvasByViewport(e){return Ua(this.getLayer().viewport2Canvas(sc(e)))}getViewportByCanvas(e){return Ua(this.getLayer().canvas2Viewport(sc(e)))}getViewportByClient(e){return Ua(this.getLayer().client2Viewport(sc(e)))}getClientByViewport(e){return Ua(this.getLayer().viewport2Client(sc(e)))}getClientByCanvas(e){return this.getClientByViewport(this.getViewportByCanvas(e))}getCanvasByClient(e){const t=this.getLayer(),i=t.client2Viewport(sc(e));return Ua(t.viewport2Canvas(i))}toDataURL(){return Mrt(this,arguments,void 0,function*(e={}){const t=globalThis.devicePixelRatio||1,{mode:i="viewport"}=e,r=Crt(e,["mode"]);let[o,s,a,l]=[0,0,0,0];if("viewport"===i)[a,l]=this.getSize();else if("overall"===i){const M=this.getBounds(),x=Ef(M);[o,s]=M.min,[a,l]=x}const u=F1('<div id="virtual-image"></div>'),d=new pi.Canvas({width:a,height:l,renderer:new z2,devicePixelRatio:t,container:u,background:this.extends.config.background});yield d.ready,d.appendChild(this.getLayer("background").getRoot().cloneNode(!0)),d.appendChild(this.getRoot().cloneNode(!0));const f=this.getLayer("label").getRoot().cloneNode(!0),m=d.viewport2Canvas({x:0,y:0}),y=this.getCanvasByViewport([0,0]);f.translate([y[0]-m.x,y[1]-m.y]),f.scale(1/this.getCamera().getZoom()),d.appendChild(f),d.appendChild(this.getLayer("transient").getRoot().cloneNode(!0));const b=this.getCamera(),E=d.getCamera();if("viewport"===i)E.setZoom(b.getZoom()),E.setPosition(b.getPosition()),E.setFocalPoint(b.getFocalPoint());else if("overall"===i){const[M,x,D]=E.getPosition(),[k,T,O]=E.getFocalPoint();E.setPosition([M+o,x+s,D]),E.setFocalPoint([k+o,T+s,O])}const w=d.getContextService();return new Promise(M=>{d.addEventListener(pi.CanvasEvent.RERENDER,()=>Mrt(this,void 0,void 0,function*(){yield new Promise(D=>setTimeout(D,300));const x=yield w.toDataURL(r);M(x)}))})})}destroy(){Object.values(this.getLayers()).forEach(e=>{e.getCamera().cancelLandmarkAnimation(),e.destroy()})}}function Art(n,e){return Object.fromEntries(e.map(t=>{const i=n?.(t)||new z2;return"main"===t?i.registerPlugin(new jTt({isDocumentDraggable:!0,isDocumentDroppable:!0,dragstartDistanceThreshold:10,dragstartTimeThreshold:100})):i.unregisterPlugin(i.getPlugin("dom-interaction")),[t,i]}))}function Ort(n){Object.entries(n).forEach(([e,t])=>{const i=t.getContextService().getDomElement();null!=i&&i.style&&(i.style.gridArea="1 / 1 / 2 / 2",i.style.outline="none",i.tabIndex=1,"main"!==e&&(i.style.pointerEvents="none")),null!=i&&i.parentElement&&(i.parentElement.style.display="grid")})}class s4{constructor(e){this.type=e}}class Wa extends s4{constructor(e,t){super(e),this.data=t}}class wd extends s4{constructor(e,t,i,r){super(e),this.animationType=t,this.animation=i,this.data=r}}class W_ extends s4{constructor(e,t,i){super(e),this.elementType=t,this.data=i}}class a4 extends s4{constructor(e,t){super(e),this.data=t}}function dl(n,e){n.emit(e.type,e)}const aS="cachedStyle",gH=n=>`__${n}__`;function krt(n,e){return xa(n,[aS,gH(e)])}class GTt{constructor(e){this.tasks=[],this.animations=new Set,this.context=e}getTasks(){const e=[...this.tasks];return this.tasks=[],e}add(e,t){this.tasks.push([e,t])}animate(e,t,i){var r,o,s;null===(r=t?.before)||void 0===r||r.call(t);const a=this.getTasks().map(([u,d])=>{var f,m,y;const{element:b,elementType:E,stage:w}=u,M=function m8(n,e,t,i){var r,o;const{animation:s}=n,a=null===(r=n?.[e])||void 0===r?void 0:r.animation;if(!1===a)return[];const l=a?.[t];if(!1===l)return[];if(!1===s||!1===i)return[];const u=null===(o=kC(n)[e])||void 0===o?void 0:o.animation,d=(m=[])=>function z$(n){return"string"==typeof n?uh(oa.ANIMATION,n)||(oc.warn(`The animation of ${n} is not registered.`),[]):n}(m).map(y=>Object.assign(Object.assign(Object.assign(Object.assign({},AI),mo(s)&&s),y),mo(i)&&i));if(l)return d(l);if(!u)return[];const f=u[t];return!1===f?[]:d(f)}(this.context.options,E,w,e);null===(f=d?.before)||void 0===f||f.call(d);const x=((n,e,t)=>{if(!t.length)return null;const[i,r]=e;let s;const a=t.map(u=>{var{fields:d,shape:f}=u,y=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t}(u,["fields","shape","states"]);const b=(u=>{var d;if(u){const f=n.getShape(u);if(!f)return null;const m=`get${rd(u)}Style`,y=(null===(d=n?.[m])||void 0===d?void 0:d.bind(n))||(w=>w);return{shape:f,fromStyle:y?.(i)||{},toStyle:y?.(r)||{}}}return{shape:n,fromStyle:i,toStyle:r}})(f);if(!b)return null;const{shape:E,fromStyle:w,toStyle:M}=b,x=[{},{}];if(d.forEach(k=>{var T,O;Object.assign(x[0],{[k]:null!==(T=w[k])&&void 0!==T?T:x2(k)}),Object.assign(x[1],{[k]:null!==(O=M[k])&&void 0!==O?O:x2(k)})}),x.some(k=>Object.keys(k).some(T=>["x","y","z"].includes(T)))){const{x:k=0,y:T=0,z:O=0,transform:R=""}=E.attributes||{};x.forEach(L=>{L.transform=PC(L.x||k,L.y||T,L.z||O,R)})}const D=E.animate(RC(x),y);return void 0===f&&(s=D),D}).filter(Boolean),l=s||a?.[0];return l?IC(l,a.filter(u=>u!=u)):null})(b,this.inferStyle(u,i),M);return x?(null===(m=d?.beforeAnimate)||void 0===m||m.call(d,x),x.finished.then(()=>{var D,k;null===(D=d?.afterAnimate)||void 0===D||D.call(d,x),null===(k=d?.after)||void 0===k||k.call(d),this.animations.delete(x)})):null===(y=d?.after)||void 0===y||y.call(d),x}).filter(Boolean);a.forEach(u=>this.animations.add(u));const l=IC(a);return l?(null===(o=t?.beforeAnimate)||void 0===o||o.call(t,l),l.finished.then(()=>{var u,d;null===(u=t?.afterAnimate)||void 0===u||u.call(t,l),null===(d=t?.after)||void 0===d||d.call(t),this.release()})):null===(s=t?.after)||void 0===s||s.call(t),l}inferStyle(e,t){var i,r;const{element:o,elementType:s,stage:a,originalStyle:l,modifiedStyle:u}=e,d={},f={};if("enter"===a)Object.assign(d,{opacity:0});else if("exit"===a)Object.assign(f,{opacity:0});else if("show"===a)Object.assign(d,{opacity:0}),Object.assign(f,{opacity:null!==(i=krt(o,"opacity"))&&void 0!==i?i:x2("opacity")});else if("hide"===a)Object.assign(d,{opacity:null!==(r=krt(o,"opacity"))&&void 0!==r?r:x2("opacity")}),Object.assign(f,{opacity:0});else if("collapse"===a){const{collapse:m}=t||{},{target:y,descendants:b,position:E}=m;if("node"===s){if(b.includes(o.id)){const[w,M,x]=E;Object.assign(f,{x:w,y:M,z:x})}}else if("combo"===s){if(o.id===y||b.includes(o.id)){const[w,M]=E;Object.assign(f,{x:w,y:M,childrenNode:l.childrenNode})}}else"edge"===s&&Object.assign(f,{sourceNode:u.sourceNode,targetNode:u.targetNode})}else if("expand"===a){const{expand:m}=t||{},{target:y,descendants:b,position:E}=m;if("node"===s){if(o.id===y||b.includes(o.id)){const[w,M,x]=E;Object.assign(d,{x:w,y:M,z:x})}}else if("combo"===s){if(o.id===y||b.includes(o.id)){const[w,M,x]=E;Object.assign(d,{x:w,y:M,z:x,childrenNode:u.childrenNode})}}else"edge"===s&&Object.assign(d,{sourceNode:u.sourceNode,targetNode:u.targetNode})}return[Object.keys(d).length>0?Object.assign({},l,d):l,Object.keys(f).length>0?Object.assign({},u,f):u]}stop(){this.animations.forEach(e=>e.cancel())}clear(){this.tasks=[]}release(){var e,t;const{canvas:i}=this.context,r=null===(t=null===(e=i.document)||void 0===e?void 0:e.timeline)||void 0===t?void 0:t.animationsWithPromises;r&&(i.document.timeline.animationsWithPromises=r.filter(o=>"finished"!==o.playState))}destroy(){this.stop(),this.animations.clear(),this.tasks=[]}}class $Tt{constructor(e){this.batchCount=0,this.context=e}emit(e){const{graph:t}=this.context;t.emit(e.type,e)}startBatch(e=!0){this.batchCount++,1===this.batchCount&&this.emit(new Wa(Dn.BATCH_START,{initiate:e}))}endBatch(){this.batchCount--,0===this.batchCount&&this.emit(new Wa(Dn.BATCH_END))}get isBatching(){return this.batchCount>0}destroy(){this.context=null}}class WTt extends YC{constructor(e){super(e),this.currentTarget=null,this.currentTargetType=null,this.category="behavior",this.forwardCanvasEvents=t=>{const{target:i}=t,r=function zTt(n){if(!n)return null;if(n instanceof pi.Document)return{type:"canvas",element:n};let e=n;for(;e;){if(C3(e))return{type:"node",element:e};if(XK(e))return{type:"edge",element:e};if(I9(e))return{type:"combo",element:e};e=e.parentElement}return null}(i);if(!r)return;const{graph:o,canvas:s}=this.context,{type:a,element:l}=r;if("destroyed"in l&&(TR(l)||l.destroyed))return;const{type:u,detail:d,button:f}=t,m=Object.assign(Object.assign({},t),{target:l,targetType:a,originalTarget:i});u===gn.POINTER_MOVE&&(this.currentTarget!==l&&(this.currentTarget&&o.emit(`${this.currentTargetType}:${gn.POINTER_LEAVE}`,Object.assign(Object.assign({},m),{type:gn.POINTER_LEAVE,target:this.currentTarget,targetType:this.currentTargetType})),l&&(Object.assign(m,{type:gn.POINTER_ENTER}),o.emit(`${a}:${gn.POINTER_ENTER}`,m))),this.currentTarget=l,this.currentTargetType=a),u===gn.CLICK&&2===f||(o.emit(`${a}:${u}`,m),o.emit(u,m)),u===gn.CLICK&&2===d&&(Object.assign(m,{type:gn.DBLCLICK}),o.emit(`${a}:${gn.DBLCLICK}`,m),o.emit(gn.DBLCLICK,m)),u===gn.POINTER_DOWN&&2===f&&(Object.assign(m,{type:gn.CONTEXT_MENU,preventDefault:()=>{var y;null===(y=s.getContainer())||void 0===y||y.addEventListener(gn.CONTEXT_MENU,b=>b.preventDefault(),{once:!0})}}),o.emit(`${a}:${gn.CONTEXT_MENU}`,m),o.emit(gn.CONTEXT_MENU,m))},this.forwardContainerEvents=t=>{this.context.graph.emit(t.type,t)},this.forwardEvents(),this.setBehaviors(this.context.options.behaviors||[])}setBehaviors(e){this.setExtensions(e)}forwardEvents(){const e=this.context.canvas.getContainer();e&&[Wp.KEY_DOWN,Wp.KEY_UP].forEach(i=>{e.addEventListener(i,this.forwardContainerEvents)});const t=this.context.canvas.document;t&&[gn.CLICK,gn.DBLCLICK,gn.POINTER_OVER,gn.POINTER_LEAVE,gn.POINTER_ENTER,gn.POINTER_MOVE,gn.POINTER_OUT,gn.POINTER_DOWN,gn.POINTER_UP,gn.CONTEXT_MENU,gn.DRAG_START,gn.DRAG,gn.DRAG_END,gn.DRAG_ENTER,gn.DRAG_OVER,gn.DRAG_LEAVE,gn.DROP,gn.WHEEL].forEach(i=>{t.addEventListener(i,this.forwardCanvasEvents)})}destroy(){const e=this.context.canvas.getContainer();e&&[Wp.KEY_DOWN,Wp.KEY_UP].forEach(t=>{e.removeEventListener(t,this.forwardContainerEvents)}),this.context.canvas.document.removeAllEventListeners(),super.destroy()}}var lS=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t};function dg(n,e){const{data:t,style:i}=n,r=lS(n,["data","style"]),{data:o,style:s}=e,a=lS(e,["data","style"]),l=Object.assign(Object.assign({},r),a);return(t||o)&&Object.assign(l,{data:Object.assign(Object.assign({},t),o)}),(i||s)&&Object.assign(l,{style:Object.assign(Object.assign({},i),s)}),l}function vH(n){const{data:e,style:t}=n,i=lS(n,["data","style"]);return e&&(i.data=Object.assign({},e)),t&&(i.style=Object.assign({},t)),i}function K_(n={},e={}){const{states:t=[],data:i={},style:r={},children:o=[]}=n,s=lS(n,["states","data","style","children"]),{states:a=[],data:l={},style:u={},children:d=[]}=e,m=(b,E)=>b.length===E.length&&b.every((w,M)=>w===E[M]),y=(b,E)=>{const w=Object.keys(b),M=Object.keys(E);return w.length===M.length&&w.every(x=>b[x]===E[x])};return!!(y(s,lS(e,["states","data","style","children"]))&&m(o,d)&&m(t,a)&&y(i,l)&&y(r,u))}function yH(n){const{id:e=We(n),style:t,data:i}=n,r=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t}(n,["id","style","data"]),o=Object.assign(Object.assign({},n),{style:Object.assign({},t),data:Object.assign({},i)});return function M2(n){return"source"in n&&"target"in n}(n)?Object.assign({id:e,data:o},r):{id:e,data:o}}function Ka(n){return n.data}class YTt{constructor(){this.latestRemovedComboIds=new Set,this.comboIds=new Set,this.changes=[],this.batchCount=0,this.isTraceless=!1,this.enableUpdateNodeLikeHierarchy=!0,this.model=new Da}pushChange(e){if(this.isTraceless)return;const{type:t}=e;if(t===Jo.NodeUpdated||t===Jo.EdgeUpdated||t===Jo.ComboUpdated){const{value:i,original:r}=e;this.changes.push({value:vH(i),original:vH(r),type:t})}else this.changes.push({value:vH(e.value),type:t})}getChanges(){return this.changes}clearChanges(){this.changes=[]}batch(e){this.batchCount++,this.model.batch(e),this.batchCount--}silence(e){this.isTraceless=!0,e(),this.isTraceless=!1}isCombo(e){return this.comboIds.has(e)||this.latestRemovedComboIds.has(e)}getData(){return{nodes:this.getNodeData(),edges:this.getEdgeData(),combos:this.getComboData()}}getNodeData(e){return this.model.getAllNodes().reduce((t,i)=>{const r=Ka(i);return this.isCombo(We(r))||(void 0===e||e.includes(We(r)))&&t.push(r),t},[])}getEdgeDatum(e){return Ka(this.model.getEdge(e))}getEdgeData(e){return this.model.getAllEdges().reduce((t,i)=>{const r=Ka(i);return(void 0===e||e.includes(We(r)))&&t.push(r),t},[])}getComboData(e){return this.model.getAllNodes().reduce((t,i)=>{const r=Ka(i);return this.isCombo(We(r))&&(void 0===e||e.includes(We(r)))&&t.push(r),t},[])}getRootsData(e=Su){return this.model.getRoots(e).map(Ka)}getAncestorsData(e,t){const{model:i}=this;return i.hasNode(e)&&i.hasTreeStructure(t)?i.getAncestors(e,t).map(Ka):[]}getDescendantsData(e){const t=this.getElementDataById(e),i=[];return fd(t,r=>{r!==t&&i.push(r)},r=>this.getChildrenData(We(r)),"TB"),i}getParentData(e,t){const{model:i}=this;if(!t)return void oc.warn("The hierarchy structure key is not specified");if(!i.hasNode(e)||!i.hasTreeStructure(t))return;const r=i.getParent(e,t);return r?Ka(r):void 0}getChildrenData(e){const t="node"===this.getElementType(e)?Su:So,{model:i}=this;return i.hasNode(e)&&i.hasTreeStructure(t)?i.getChildren(e,t).map(Ka):[]}getElementsDataByType(e){return"node"===e?this.getNodeData():"edge"===e?this.getEdgeData():"combo"===e?this.getComboData():[]}getElementDataById(e){return"edge"===this.getElementType(e)?this.getEdgeDatum(e):this.getNodeLikeDatum(e)}getNodeLikeDatum(e){return Ka(this.model.getNode(e))}getNodeLikeData(e){return this.model.getAllNodes().reduce((t,i)=>{const r=Ka(i);return e?e.includes(We(r))&&t.push(r):t.push(r),t},[])}getElementDataByState(e,t){return this.getElementsDataByType(e).filter(i=>{var r;return null===(r=i.states)||void 0===r?void 0:r.includes(t)})}getElementState(e){var t;return(null===(t=this.getElementDataById(e))||void 0===t?void 0:t.states)||[]}hasNode(e){return this.model.hasNode(e)&&!this.isCombo(e)}hasEdge(e){return this.model.hasEdge(e)}hasCombo(e){return this.model.hasNode(e)&&this.isCombo(e)}getRelatedEdgesData(e,t="both"){return this.model.getRelatedEdges(e,t).map(Ka)}getNeighborNodesData(e){return this.model.getNeighbors(e).map(Ka)}setData(e){const{nodes:t=[],edges:i=[],combos:r=[]}=e,{nodes:o,edges:s,combos:a}=this.getData(),l=Kp(o,t,f=>We(f),K_),u=Kp(s,i,f=>We(f),K_),d=Kp(a,r,f=>We(f),K_);this.batch(()=>{this.addData({nodes:l.enter,edges:u.enter,combos:d.enter}),this.updateData({nodes:l.update,edges:u.update,combos:d.update}),this.removeData({nodes:l.exit.map(We),edges:u.exit.map(We),combos:d.exit.map(We)})})}addData(e){const{nodes:t,edges:i,combos:r}=e;this.batch(()=>{this.addComboData(r),this.addNodeData(t),this.addEdgeData(i)})}addNodeData(e=[]){e.length&&(this.model.addNodes(e.map(t=>(this.pushChange({value:t,type:Jo.NodeAdded}),yH(t)))),this.updateNodeLikeHierarchy(e))}addEdgeData(e=[]){e.length&&this.model.addEdges(e.map(t=>(this.pushChange({value:t,type:Jo.EdgeAdded}),yH(t))))}addComboData(e=[]){if(!e.length)return;const{model:t}=this;t.hasTreeStructure(So)||t.attachTreeStructure(So),t.addNodes(e.map(i=>(this.comboIds.add(We(i)),this.pushChange({value:i,type:Jo.ComboAdded}),yH(i)))),this.updateNodeLikeHierarchy(e)}addChildrenData(e,t){const i=this.getNodeLikeDatum(e),r=t.map(We);this.addNodeData(t),this.updateNodeData([{id:e,children:[...i.children||[],...r]}]),this.addEdgeData(r.map(o=>({source:e,target:o})))}updateNodeLikeHierarchy(e){if(!this.enableUpdateNodeLikeHierarchy)return;const{model:t}=this;e.forEach(i=>{const r=We(i);l_(i)&&(t.hasTreeStructure(So)||t.attachTreeStructure(So),this.setParent(r,l_(i),So));const o=i.children||[];if(o.length){t.hasTreeStructure(Su)||t.attachTreeStructure(Su);const s=o.filter(a=>t.hasNode(a));s.forEach(a=>this.setParent(a,r,Su)),s.length!==o.length&&this.updateNodeData([{id:r,children:s}])}})}preventUpdateNodeLikeHierarchy(e){this.enableUpdateNodeLikeHierarchy=!1,e(),this.enableUpdateNodeLikeHierarchy=!0}updateData(e){const{nodes:t,edges:i,combos:r}=e;this.batch(()=>{this.updateNodeData(t),this.updateComboData(r),this.updateEdgeData(i)})}updateNodeData(e=[]){if(!e.length)return;const{model:t}=this;this.batch(()=>{const i=[];e.forEach(r=>{const o=We(r),s=Ka(t.getNode(o));if(K_(s,r))return;const a=dg(s,r);this.pushChange({value:a,original:s,type:Jo.NodeUpdated}),t.mergeNodeData(o,a),i.push(a)}),this.updateNodeLikeHierarchy(i)})}refreshData(){const{nodes:e,edges:t,combos:i}=this.getData();e.forEach(r=>{this.pushChange({value:r,original:r,type:Jo.NodeUpdated})}),t.forEach(r=>{this.pushChange({value:r,original:r,type:Jo.EdgeUpdated})}),i.forEach(r=>{this.pushChange({value:r,original:r,type:Jo.ComboUpdated})})}syncNodeDatum(e){const{model:t}=this,i=We(e),o=dg(Ka(t.getNode(i)),e);t.mergeNodeData(i,o)}updateEdgeData(e=[]){if(!e.length)return;const{model:t}=this;this.batch(()=>{e.forEach(i=>{const r=We(i),o=Ka(t.getEdge(r));if(K_(o,i))return;i.source&&o.source!==i.source&&t.updateEdgeSource(r,i.source),i.target&&o.target!==i.target&&t.updateEdgeTarget(r,i.target);const s=dg(o,i);this.pushChange({value:s,original:o,type:Jo.EdgeUpdated}),t.mergeEdgeData(r,s)})})}updateComboData(e=[]){if(!e.length)return;const{model:t}=this;t.batch(()=>{const i=[];e.forEach(r=>{const o=We(r),s=Ka(t.getNode(o));if(K_(s,r))return;const a=dg(s,r);this.pushChange({value:a,original:s,type:Jo.ComboUpdated}),t.mergeNodeData(o,a),i.push(a)}),this.updateNodeLikeHierarchy(i)})}setParent(e,t,i,r=!0){var o;if(e===t)return;const s=this.getNodeLikeDatum(e),a=l_(s);if(t){const l=this.getNodeLikeDatum(t);if(void 0!==(null===(o=l.style)||void 0===o?void 0:o.zIndex)){const u=xa(l,["style","zIndex"],0)+(this.isCombo(t)?1:0);th(s,["style","zIndex"],u)}}if(a!==t&&i===So){const l={id:e,combo:t};this.isCombo(e)?this.syncComboDatum(l):this.syncNodeDatum(l)}this.model.setParent(e,t,i),r&&i===So&&l1([a,t]).forEach(l=>{void 0!==l&&this.refreshComboData(l)})}refreshComboData(e){const t=this.getComboData([e])[0],i=this.getAncestorsData(e,So);t&&this.pushChange({value:t,original:t,type:Jo.ComboUpdated}),i.forEach(r=>{this.pushChange({value:r,original:r,type:Jo.ComboUpdated})})}syncComboDatum(e){const{model:t}=this,i=We(e);if(!t.hasNode(i))return;const o=dg(Ka(t.getNode(i)),e);t.mergeNodeData(i,o)}getElementPosition(e){return sa(this.getElementDataById(e))}translateNodeLikeBy(e,t){this.isCombo(e)?this.translateComboBy(e,t):this.translateNodeBy(e,t)}translateNodeLikeTo(e,t){this.isCombo(e)?this.translateComboTo(e,t):this.translateNodeTo(e,t)}translateNodeBy(e,t){const r=ir(this.getElementPosition(e),[...t,0].slice(0,3));this.translateNodeTo(e,r)}translateNodeTo(e,t){const[i=0,r=0,o=0]=t;this.preventUpdateNodeLikeHierarchy(()=>{this.updateNodeData([{id:e,style:{x:i,y:r,z:o}}])})}translateComboBy(e,t){const[i=0,r=0,o=0]=t;if([i,r,o].some(isNaN)||[i,r,o].every(l=>0===l))return;const s=this.getComboData([e])[0];if(!s)return;const a=new Set;fd(s,l=>{const u=We(l);if(a.has(u))return;a.add(u);const[d,f,m]=sa(l),y=dg(l,{style:{x:d+i,y:f+r,z:m+o}});this.pushChange({value:y,original:l,type:this.isCombo(u)?Jo.ComboUpdated:Jo.NodeUpdated}),this.model.mergeNodeData(u,y)},l=>this.getChildrenData(We(l)),"BT")}translateComboTo(e,t){var i;if(t.some(isNaN))return;const[r=0,o=0,s=0]=t,a=null===(i=this.getComboData([e]))||void 0===i?void 0:i[0];if(!a)return;const[l,u,d]=sa(a),f=r-l,m=o-u,y=s-d;fd(a,b=>{const E=We(b),[w,M,x]=sa(b),D=dg(b,{style:{x:w+f,y:M+m,z:x+y}});this.pushChange({value:D,original:b,type:this.isCombo(E)?Jo.ComboUpdated:Jo.NodeUpdated}),this.model.mergeNodeData(E,D)},b=>this.getChildrenData(We(b)),"BT")}removeData(e){const{nodes:t,edges:i,combos:r}=e;this.batch(()=>{this.removeEdgeData(i),this.removeNodeData(t),this.removeComboData(r),this.latestRemovedComboIds=new Set(r)})}removeNodeData(e=[]){e.length&&this.batch(()=>{e.forEach(t=>{this.removeEdgeData(this.getRelatedEdgesData(t).map(We)),this.pushChange({value:this.getNodeData([t])[0],type:Jo.NodeRemoved}),this.removeNodeLikeHierarchy(t)}),this.model.removeNodes(e)})}removeEdgeData(e=[]){e.length&&(e.forEach(t=>this.pushChange({value:this.getEdgeData([t])[0],type:Jo.EdgeRemoved})),this.model.removeEdges(e))}removeComboData(e=[]){e.length&&this.batch(()=>{e.forEach(t=>{this.pushChange({value:this.getComboData([t])[0],type:Jo.ComboRemoved}),this.removeNodeLikeHierarchy(t),this.comboIds.delete(t)}),this.model.removeNodes(e)})}removeNodeLikeHierarchy(e){if(this.model.hasTreeStructure(So)){const t=l_(this.getNodeLikeDatum(e));this.setParent(e,void 0,So,!1),this.model.getChildren(e,So).forEach(i=>{const r=Ka(i),o=We(r);this.setParent(We(r),t,So,!1);const s=dg(r,{id:We(r),combo:t});this.pushChange({value:s,original:r,type:this.isCombo(o)?Jo.ComboUpdated:Jo.NodeUpdated}),this.model.mergeNodeData(We(r),s)}),_i(t)||this.refreshComboData(t)}}getElementType(e){if(this.model.hasNode(e))return this.isCombo(e)?"combo":"node";if(this.model.hasEdge(e))return"edge";throw new Error(jc(`Unknown element type of id: ${e}`))}destroy(){const{model:e}=this,t=e.getAllNodes(),i=e.getAllEdges();e.removeEdges(i.map(r=>r.id)),e.removeNodes(t.map(r=>r.id)),this.context={}}}var l4=function(n,e,t,i){return new(t||(t=Promise))(function(o,s){function a(d){try{u(i.next(d))}catch(f){s(f)}}function l(d){try{u(i.throw(d))}catch(f){s(f)}}function u(d){d.done?o(d.value):function r(o){return o instanceof t?o:new t(function(s){s(o)})}(d.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};class ZTt{constructor(e){this.elementMap={},this.shapeTypeMap={},this.paletteStyle={},this.defaultStyle={},this.stateStyle={},this.visibilityCache=new WeakMap,this.context=e}init(){if(!this.container){const{canvas:e}=this.context;this.container=e.appendChild(new pi.Group({className:"elements"}))}}emit(e,t){t.silence||dl(this.context.graph,e)}forEachElementData(e){Vm.forEach(t=>{const i=this.context.model.getElementsDataByType(t);e(t,i)})}getElementType(e,t){var i;const{options:r,graph:o}=this.context,s=(null===(i=r[e])||void 0===i?void 0:i.type)||t.type;return s?"string"==typeof s?s:s.call(o,t):"edge"===e?"line":"circle"}getTheme(e){return kC(this.context.options)[e]||{}}getThemeStyle(e){return this.getTheme(e).style||{}}getThemeStateStyle(e,t){const{state:i={}}=this.getTheme(e);return Object.assign({},...t.map(r=>i[r]||{}))}computePaletteStyle(){const{options:e}=this.context;this.paletteStyle={},this.forEachElementData((t,i)=>{var r,o;const s=Object.assign({},ZI(null===(r=this.getTheme(t))||void 0===r?void 0:r.palette),ZI(null===(o=e[t])||void 0===o?void 0:o.palette));null!=s&&s.field&&Object.assign(this.paletteStyle,function V8(n,e){if(!e)return{};const{type:t,color:i,field:r,invert:o}=e,s=l=>{const u="string"==typeof i?uh("palette",i):i;if("function"==typeof u){const d={};return l.forEach(([f,m])=>{d[f]=u(o?1-m:m)}),d}if(Array.isArray(u)){const d=o?[...u].reverse():u,f={};return l.forEach(([m,y])=>{f[m]=d[y%u.length]}),f}return{}},a=(l,u)=>{var d;return"string"==typeof l?null===(d=u.data)||void 0===d?void 0:d[l]:l?.(u)};if("group"===t){const l=id(n,m=>{if(!r)return"default";const y=a(r,m);return y?String(y):"default"}),d=s(Object.keys(l).map((m,y)=>[m,y])),f={};return Object.entries(l).forEach(([m,y])=>{y.forEach(b=>{f[We(b)]=d[m]})}),f}if("value"===t){const[l,u]=n.reduce(([f,m],y)=>{const b=a(r,y);if("number"!=typeof b)throw new Error(jc(`Palette field ${r} is not a number`));return[Math.min(f,b),Math.max(m,b)]},[1/0,-1/0]),d=u-l;return s(n.map(f=>[f.id,(a(r,f)-l)/d]))}}(i,s))})}getPaletteStyle(e,t){const i=this.paletteStyle[t];return i?"edge"===e?{stroke:i}:{fill:i}:{}}computeElementDefaultStyle(e,t){var i;const{options:r}=this.context,o=(null===(i=r[e])||void 0===i?void 0:i.style)||{};"transform"in o&&Array.isArray(o.transform)&&(o.transform=[...o.transform]),this.defaultStyle[We(t.datum)]=YI(o,t)}computeElementsDefaultStyle(e){const{graph:t}=this.context;this.forEachElementData((i,r)=>{const o=r.length;for(let s=0;s<o;s++){const a=r[s];(void 0===e||e.includes(We(a)))&&this.computeElementDefaultStyle(i,{datum:a,graph:t})}})}getDefaultStyle(e){return this.defaultStyle[e]||{}}getElementState(e){try{const{model:t}=this.context;return t.getElementState(e)}catch{return[]}}getElementStateStyle(e,t,i){var r,o;const{options:s}=this.context;return YI((null===(o=null===(r=s[e])||void 0===r?void 0:r.state)||void 0===o?void 0:o[t])||{},i)}computeElementStatesStyle(e,t,i){this.stateStyle[We(i.datum)]=Object.assign({},...t.map(r=>this.getElementStateStyle(e,r,i)))}computeElementsStatesStyle(e){const{graph:t}=this.context;this.forEachElementData((i,r)=>{const o=r.length;for(let s=0;s<o;s++){const a=r[s];if(void 0===e||e.includes(We(a))){const l=this.getElementState(We(a));this.computeElementStatesStyle(i,l,{datum:a,graph:t})}}})}getStateStyle(e){return this.stateStyle[e]||{}}computeStyle(e,t){e&&["translate","zIndex"].includes(e)||(this.computePaletteStyle(),this.computeElementsDefaultStyle(t),this.computeElementsStatesStyle(t))}getElement(e){return this.elementMap[e]}getElementZIndex(e){var t;const i=this.getElement(e);return i&&null!==(t=i.style.zIndex)&&void 0!==t?t:0}getNodes(){return this.context.model.getNodeData().map(({id:e})=>this.elementMap[e])}getEdges(){return this.context.model.getEdgeData().map(e=>this.elementMap[We(e)])}getCombos(){return this.context.model.getComboData().map(({id:e})=>this.elementMap[e])}getElementComputedStyle(e,t){const i=We(t),r=this.getThemeStyle(e),o=this.getPaletteStyle(e,i),s=t.style||{},a=this.getDefaultStyle(i),l=this.getThemeStateStyle(e,this.getElementState(i)),u=this.getStateStyle(i),d=Object.assign({},r,o,s,a,l,u);if("combo"===e){const f=this.context.model.getChildrenData(i),m=d.collapsed?[]:f.map(We).filter(y=>this.getElement(y));Object.assign(d,{childrenNode:m,childrenData:f})}return d}draw(e={animation:!0}){this.init();const t=this.computeChangesAndDrawData(e);if(!t)return null;const{type:i="draw",stage:r=i,animation:o,silence:s}=e,{dataChanges:a,drawData:l}=t;this.markDestroyElement(l),this.computeStyle(r);const{add:u,update:d,remove:f}=l;return this.destroyElements(f,e),this.createElements(u,e),this.updateElements(d,e),this.context.animation.animate(o,s?{}:{before:()=>this.emit(new Wa(Dn.BEFORE_DRAW,{dataChanges:a,animation:o,stage:r,render:"render"===i}),e),beforeAnimate:m=>this.emit(new wd(Dn.BEFORE_ANIMATE,al.DRAW,m,l),e),afterAnimate:m=>this.emit(new wd(Dn.AFTER_ANIMATE,al.DRAW,m,l),e),after:()=>this.emit(new Wa(Dn.AFTER_DRAW,{dataChanges:a,animation:o,stage:r,render:"render"===i,firstRender:!1===this.context.graph.rendered}),e)})}computeChangesAndDrawData(e){const{model:t}=this.context,i=t.getChanges(),r=LU(i);if(0===r.length)return null;const{NodeAdded:o=[],NodeUpdated:s=[],NodeRemoved:a=[],EdgeAdded:l=[],EdgeUpdated:u=[],EdgeRemoved:d=[],ComboAdded:f=[],ComboUpdated:m=[],ComboRemoved:y=[]}=id(r,M=>M.type),b=M=>new Map(M.map(x=>{const D=x.value;return[We(D),D]})),E={add:{nodes:b(o),edges:b(l),combos:b(f)},update:{nodes:b(s),edges:b(u),combos:b(m)},remove:{nodes:b(a),edges:b(d),combos:b(y)}},w=this.transformData(E,e);return t.clearChanges(),{dataChanges:i,drawData:w}}transformData(e,t){const i=this.context.transform.getTransformInstance();return Object.values(i).reduce((r,o)=>o.beforeDraw(r,t),e)}createElement(e,t,i){var r,o;const s=We(t);if(this.getElement(s))return;const a=this.getElementType(e,t),l=this.getElementComputedStyle(e,t),u=uh(e,a);if(!u)return oc.warn(`The element ${a} of ${e} is not registered.`);if(this.emit(new W_(Dn.BEFORE_ELEMENT_CREATE,e,t),i),"expand"===i.stage){const m=this.getElementZIndex(i.target);(!l.zIndex||l.zIndex<m)&&(l.zIndex=m+(null!==(r=l.zIndex)&&void 0!==r?r:0))}const d=this.container.appendChild(new u({id:s,style:Object.assign({context:this.context},l)}));this.shapeTypeMap[s]=a,this.elementMap[s]=d;const{stage:f="enter"}=i;null===(o=this.context.animation)||void 0===o||o.add({element:d,elementType:e,stage:f,originalStyle:Object.assign({},d.attributes),modifiedStyle:Object.assign(Object.assign({},d.attributes),l)},{after:()=>{var m;this.emit(new W_(Dn.AFTER_ELEMENT_CREATE,e,t),i),null===(m=d.onCreate)||void 0===m||m.call(d)}})}createElements(e,t){const{nodes:i,edges:r,combos:o}=e;[["node",i],["combo",o],["edge",r]].forEach(([s,a])=>{a.forEach(l=>this.createElement(s,l,t))})}getUpdateStageStyle(e,t,i){const{stage:r="update"}=i;if("translate"===r){if("node"===e||"combo"===e){const{style:{x:o=0,y:s=0,z:a=0}={}}=t;return{x:o,y:s,z:a}}return{}}return this.getElementComputedStyle(e,t)}updateElement(e,t,i){var r;const o=We(t),{stage:s="update"}=i,a=this.getElement(o);if(!a)return()=>null;this.emit(new W_(Dn.BEFORE_ELEMENT_UPDATE,e,t),i);const l=this.getElementType(e,t),u=this.getUpdateStageStyle(e,t,i);this.shapeTypeMap[o]!==l&&(a.destroy(),delete this.shapeTypeMap[o],delete this.elementMap[o],this.createElement(e,t,{animation:!1,silence:!0}));const d="visibility"!==s?s:"hidden"===u.visibility?"hide":"show";"hide"===d&&delete u.visibility,null===(r=this.context.animation)||void 0===r||r.add({element:a,elementType:e,stage:d,originalStyle:Object.assign({},a.attributes),modifiedStyle:Object.assign(Object.assign({},a.attributes),u)},{before:()=>{const f=this.elementMap[o];"collapse"!==s&&L9(f,u),"visibility"===s&&(function HTt(n,e){return gH(e)in(xa(n,aS)||{})}(f,"opacity")||function UTt(n,e){const t=Array.isArray(e)?e:[e];xa(n,aS)||th(n,aS,{}),t.forEach(i=>{th(xa(n,aS),gH(i),n.attributes[i])})}(f,"opacity"),this.visibilityCache.set(f,"show"===d?"visible":"hidden"),"show"===d&&Lm(f,"visible"))},after:()=>{var f;const m=this.elementMap[o];"collapse"===s&&L9(m,u),"hide"===d&&Lm(m,this.visibilityCache.get(m)),this.emit(new W_(Dn.AFTER_ELEMENT_UPDATE,e,t),i),null===(f=m.onUpdate)||void 0===f||f.call(m)}})}updateElements(e,t){const{nodes:i,edges:r,combos:o}=e;[["node",i],["combo",o],["edge",r]].forEach(([s,a])=>{a.forEach(l=>this.updateElement(s,l,t))})}markDestroyElement(e){Object.values(e.remove).forEach(t=>{t.forEach(i=>{const r=We(i),o=this.getElement(r);o&&function i0t(n){th(n,"__to_be_destroyed__",!0)}(o)})})}destroyElement(e,t,i){var r;const{stage:o="exit"}=i,s=We(t),a=this.elementMap[s];if(!a)return()=>null;this.emit(new W_(Dn.BEFORE_ELEMENT_DESTROY,e,t),i),null===(r=this.context.animation)||void 0===r||r.add({element:a,elementType:e,stage:o,originalStyle:Object.assign({},a.attributes),modifiedStyle:Object.assign({},a.attributes)},{after:()=>{var l;this.clearElement(s),a.destroy(),null===(l=a.onDestroy)||void 0===l||l.call(a),this.emit(new W_(Dn.AFTER_ELEMENT_DESTROY,e,t),i)}})}destroyElements(e,t){const{nodes:i,edges:r,combos:o}=e;[["combo",o],["edge",r],["node",i]].forEach(([s,a])=>{a.forEach(l=>this.destroyElement(s,l,t))})}clearElement(e){delete this.paletteStyle[e],delete this.defaultStyle[e],delete this.stateStyle[e],delete this.elementMap[e],delete this.shapeTypeMap[e]}collapseNode(e,t){return l4(this,void 0,void 0,function*(){var i;const{model:r,layout:o}=this.context,s=this.computeChangesAndDrawData({stage:"collapse",animation:t});if(!s)return;this.markDestroyElement(s.drawData);const a=yield o.simulate();r.updateData(a);const l=this.computeChangesAndDrawData({stage:"collapse",animation:t});if(!l)return;const{drawData:u}=l,{add:d,remove:f,update:m}=u;this.markDestroyElement(u);const y={animation:t,stage:"collapse",data:u};this.destroyElements(f,y),this.createElements(d,y),this.updateElements(m,y),yield null===(i=this.context.animation.animate(t,{beforeAnimate:b=>this.emit(new wd(Dn.BEFORE_ANIMATE,al.COLLAPSE,b,u),y),afterAnimate:b=>this.emit(new wd(Dn.AFTER_ANIMATE,al.COLLAPSE,b,u),y)},{collapse:{target:e,descendants:Array.from(f.nodes).map(([,b])=>We(b)),position:sa(m.nodes.get(e))}}))||void 0===i?void 0:i.finished})}expandNode(e,t){return l4(this,void 0,void 0,function*(){var i;const{model:r,layout:o}=this.context;if(!r.getAncestorsData(e,So).every(b=>ac(b)))return;const s=sa(r.getNodeData([e])[0]),a=this.computeChangesAndDrawData({stage:"expand",animation:t});if(!a)return;const{drawData:{add:l}}=a;this.createElements(l,{animation:!1,stage:"expand",target:e}),this.context.animation.clear();const u=yield o.simulate();r.updateData(u),this.computeStyle("expand");const d=this.computeChangesAndDrawData({stage:"collapse",animation:t});if(!d)return;const{drawData:f}=d,{update:m}=f,y={animation:t,stage:"expand",data:f};l.edges.forEach(b=>m.edges.set(We(b),b)),l.nodes.forEach(b=>m.nodes.set(We(b),b)),this.updateElements(m,y),yield null===(i=this.context.animation.animate(t,{beforeAnimate:b=>this.emit(new wd(Dn.BEFORE_ANIMATE,al.EXPAND,b,f),y),afterAnimate:b=>this.emit(new wd(Dn.AFTER_ANIMATE,al.EXPAND,b,f),y)},{expand:{target:e,descendants:Array.from(l.nodes).map(([,b])=>We(b)),position:s}}))||void 0===i?void 0:i.finished})}collapseCombo(e,t){return l4(this,void 0,void 0,function*(){var i;const{model:r,element:o}=this.context;if(r.getAncestorsData(e,So).some(E=>ac(E)))return;const s=o.getElement(e),a=s.getComboPosition(Object.assign(Object.assign({},s.attributes),{collapsed:!0})),l=this.computeChangesAndDrawData({stage:"collapse",animation:t});if(!l)return;const{dataChanges:u,drawData:d}=l;this.markDestroyElement(d);const{update:f,remove:m}=d,y={animation:t,stage:"collapse",data:d};this.destroyElements(m,y),this.updateElements(f,y);const b=E=>Array.from(E).map(([,w])=>We(w));yield null===(i=this.context.animation.animate(t,{before:()=>this.emit(new Wa(Dn.BEFORE_DRAW,{dataChanges:u,animation:t}),y),beforeAnimate:E=>this.emit(new wd(Dn.BEFORE_ANIMATE,al.COLLAPSE,E,d),y),afterAnimate:E=>this.emit(new wd(Dn.AFTER_ANIMATE,al.COLLAPSE,E,d),y),after:()=>this.emit(new Wa(Dn.AFTER_DRAW,{dataChanges:u,animation:t}),y)},{collapse:{target:e,descendants:[...b(m.nodes),...b(m.combos)],position:a}}))||void 0===i?void 0:i.finished})}expandCombo(e,t){return l4(this,void 0,void 0,function*(){var i;const{model:r}=this.context,o=sa(r.getComboData([e])[0]);this.computeStyle("expand");const s=this.computeChangesAndDrawData({stage:"expand",animation:t});if(!s)return;const{dataChanges:a,drawData:l}=s,{add:u,update:d}=l,f={animation:t,stage:"expand",data:l,target:e};this.createElements(u,f),this.updateElements(d,f);const m=y=>Array.from(y).map(([,b])=>We(b));yield null===(i=this.context.animation.animate(t,{before:()=>this.emit(new Wa(Dn.BEFORE_DRAW,{dataChanges:a,animation:t}),f),beforeAnimate:y=>this.emit(new wd(Dn.BEFORE_ANIMATE,al.EXPAND,y,l),f),afterAnimate:y=>this.emit(new wd(Dn.AFTER_ANIMATE,al.EXPAND,y,l),f),after:()=>this.emit(new Wa(Dn.AFTER_DRAW,{dataChanges:a,animation:t}),f)},{expand:{target:e,descendants:[...m(u.nodes),...m(u.combos)],position:o}}))||void 0===i?void 0:i.finished})}getFrontZIndex(e){const{model:t}=this.context,i=t.getElementType(e),r=t.getElementDataById(e),o=t.getData();if(Object.assign(o,{[`${i}s`]:o[`${i}s`].filter(s=>We(s)!==e)}),"combo"===i&&!ac(r)){const s=t.getAncestorsData(e,So).map(We);o.nodes=o.nodes.filter(a=>!s.includes(We(a))),o.combos=o.combos.filter(a=>!s.includes(We(a))),o.edges=o.edges.filter(({source:a,target:l})=>s.includes(a)&&s.includes(l))}return Math.max(0,...Object.values(o).flat().map(s=>{const a=We(s);return this.getElementZIndex(a)}))+1}destroy(){this.container.destroy(),this.elementMap={},this.shapeTypeMap={},this.defaultStyle={},this.stateStyle={},this.paletteStyle={},this.context={}}}var cS=function(n,e,t,i){return new(t||(t=Promise))(function(o,s){function a(d){try{u(i.next(d))}catch(f){s(f)}}function l(d){try{u(i.throw(d))}catch(f){s(f)}}function u(d){d.done?o(d.value):function r(o){return o instanceof t?o:new t(function(s){s(o)})}(d.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};class qTt{get presetOptions(){return{animation:!!kI(this.context.options,!0)}}get options(){const{options:e}=this.context;return e.layout}constructor(e){this.instances=[],this.context=e}getLayoutInstance(){return this.instances}layout(){return cS(this,void 0,void 0,function*(){if(!this.options)return;const e=Array.isArray(this.options)?this.options:[this.options],{graph:t}=this.context;dl(t,new Wa(Dn.BEFORE_LAYOUT));for(const i of e){const r=e.indexOf(i),o=this.getLayoutData(i),s=Object.assign(Object.assign({},this.presetOptions),i);dl(t,new Wa(Dn.BEFORE_STAGE_LAYOUT,{options:s,index:r}));const a=yield this.stepLayout(o,s,r);dl(t,new Wa(Dn.AFTER_STAGE_LAYOUT,{options:s,index:r})),i.animation||this.updateElementPosition(a,!1)}dl(t,new Wa(Dn.AFTER_LAYOUT)),this.transformDataAfterLayout()})}transformDataAfterLayout(){const e=this.context.transform.getTransformInstance();Object.values(e).forEach(t=>t.afterLayout())}simulate(){return cS(this,void 0,void 0,function*(){if(!this.options)return{};const e=Array.isArray(this.options)?this.options:[this.options];let t={};for(const i of e){const r=e.indexOf(i),o=this.getLayoutData(i);t=yield this.stepLayout(o,Object.assign(Object.assign(Object.assign({},this.presetOptions),i),{animation:!1}),r)}return t})}stepLayout(e,t,i){return cS(this,void 0,void 0,function*(){return function h0t(n){const{type:e}=n;return["compact-box","mindmap","dendrogram","indented"].includes(e)}(t)?yield this.treeLayout(e,t,i):yield this.graphLayout(e,t,i)})}graphLayout(e,t,i){return cS(this,void 0,void 0,function*(){const{animation:r,enableWorker:o,iterations:s=300}=t,a=this.initGraphLayout(t);if(!a)return{};if(this.instances[i]=a,this.instance=a,o){const u=a;return this.supervisor=new yMt(u.graphData2LayoutModel(e),u.instance,{iterations:s}),PR(yield this.supervisor.execute())}if(h7(a))return r?yield a.execute(e,{onTick:u=>{this.updateElementPosition(u,!1)}}):(a.execute(e),a.stop(),a.tick(s));const l=yield a.execute(e);if(r){const u=this.updateElementPosition(l,r);yield u?.finished}return l})}treeLayout(e,t,i){return cS(this,void 0,void 0,function*(){const{type:r,animation:o}=t,s=uh("layout",r);if(!s)return{};const{nodes:a=[],edges:l=[]}=e,u=new Da({nodes:a.map(y=>({id:We(y),data:y.data||{}})),edges:l.map(y=>({id:We(y),source:y.source,target:y.target,data:y.data||{}}))});!function XTt(n){if(n.hasTreeStructure(Su))return;n.attachTreeStructure(Su);const e=n.getAllEdges();for(const t of e){const{source:i,target:r}=t;n.setParent(r,i,Su)}}(u);const d={nodes:[],edges:[]},f={nodes:[],edges:[]};u.getRoots(Su).forEach(y=>{fd(y,x=>{x.children=u.getSuccessors(x.id)},x=>u.getSuccessors(x.id),"TB");const b=s(y,t),{x:E,y:w,z:M=0}=b;fd(b,x=>{const{id:D,x:k,y:T,z:O=0}=x;d.nodes.push({id:D,style:{x:E,y:w,z:M}}),f.nodes.push({id:D,style:{x:k,y:T,z:O}})},x=>x.children,"TB")});const m=this.inferTreeLayoutOffset(f);if(Irt(f,m),o){Irt(d,m),this.updateElementPosition(d,!1);const y=this.updateElementPosition(f,o);yield y?.finished}return f})}inferTreeLayoutOffset(e){var t;let[i,r]=[1/0,-1/0],[o,s]=[1/0,-1/0];null===(t=e.nodes)||void 0===t||t.forEach(E=>{const{x:w=0,y:M=0}=E.style||{};i=Math.min(i,w),r=Math.max(r,w),o=Math.min(o,M),s=Math.max(s,M)});const{canvas:a}=this.context,l=a.getSize(),[u,d]=a.getCanvasByViewport([0,0]),[f,m]=a.getCanvasByViewport(l);return i>=u&&r<=f&&o>=d&&s<=m?[0,0]:[(u+f)/2-(i+r)/2,(d+m)/2-(o+s)/2]}stopLayout(){this.instance&&h7(this.instance)&&(this.instance.stop(),this.instance=void 0),this.supervisor&&(this.supervisor.stop(),this.supervisor=void 0),this.animationResult&&(this.animationResult.finish(),this.animationResult=void 0)}getLayoutData(e){const{nodeFilter:t=()=>!0}=e,{nodes:i,edges:r,combos:o}=this.context.model.getData(),s=d=>this.context.element.getElement(d),a=i.filter(d=>{const f=We(d),m=s(f);return!(!m||TR(m))&&t(d)}),l=new Map(a.map(d=>[We(d),d]));return{nodes:a,edges:r.filter(d=>{const{source:f,target:m}=d;return!(!l.has(f)||!l.has(m))}),combos:o}}initGraphLayout(e){var t;const{element:i,viewport:r}=this.context,{type:o}=e,u=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t}(e,["type","enableWorker","animation","iterations"]),[d,f]=r.getCanvasSize(),m=[d/2,f/2],y=null!==(t=e?.nodeSize)&&void 0!==t?t:x=>{const D=i?.getElement(x.id),{size:k}=D?.attributes||{};return k},b=uh("layout",o);if(!b)return oc.warn(`The layout of ${o} is not registered.`);const w=new(Object.getPrototypeOf(b.prototype)===B9.prototype?b:f0t(b,this.context))(this.context),M={nodeSize:y,width:d,height:f,center:m};switch(w.id){case"d3-force":case"d3-force-3d":Object.assign(M,{center:{x:d/2,y:f/2,z:0}})}return La(w.options,M,u),w}updateElementPosition(e,t){const{model:i,element:r}=this.context;return r?(i.updateData(e),r.draw({animation:t,silence:!0})):null}destroy(){var e;this.stopLayout(),this.context={},null===(e=this.supervisor)||void 0===e||e.kill(),this.supervisor=void 0,this.instance=void 0,this.instances=[],this.animationResult=void 0}}const Irt=(n,e)=>{var t;const[i,r]=e;null===(t=n.nodes)||void 0===t||t.forEach(o=>{if(o.style){const{x:s=0,y:a=0}=o.style;o.style.x=s+i,o.style.y=a+r}else o.style={x:i,y:r}})};class JTt extends YC{constructor(e){super(e),this.category="plugin",this.setPlugins(this.context.options.plugins||[])}setPlugins(e){this.setExtensions(e)}getPluginInstance(e){const t=this.extensionMap[e];if(t)return t;oc.warn(`Cannot find the plugin ${e}, will try to find it by type.`);const i=this.extensions.find(r=>r.type===e);return i?this.extensionMap[i.key]:void 0}}const c4=["update-related-edges","collapse-expand-node","collapse-expand-combo","get-edge-actual-ends","arrange-draw-order"];class tAt extends YC{constructor(e){super(e),this.category="transform",this.setTransforms(this.context.options.transforms||[])}getTransforms(){}setTransforms(e){this.setExtensions([...c4.slice(0,c4.length-1),...e,c4[c4.length-1]])}getTransformInstance(e){return e?this.extensionMap[e]:this.extensionMap}}var uS=function(n,e,t,i){return new(t||(t=Promise))(function(o,s){function a(d){try{u(i.next(d))}catch(f){s(f)}}function l(d){try{u(i.throw(d))}catch(f){s(f)}}function u(d){d.done?o(d.value):function r(o){return o instanceof t?o:new t(function(s){s(o)})}(d.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};class eAt{get padding(){return dh(this.context.options.padding)}get paddingOffset(){const[e,t,i,r]=this.padding,[o,s,a]=[(r-t)/2,(e-i)/2,0];return[o,s,a]}constructor(e){this.landmarkCounter=0,this.context=e;const[t,i]=this.paddingOffset,{zoom:r,rotation:o,x:s=t,y:a=i}=e.options;this.transform({mode:"absolute",scale:r,translate:[s,a],rotate:o},!1)}get camera(){const{canvas:e}=this.context;return new Proxy(e.getCamera(),{get:(t,i)=>{const r=Object.entries(e.getLayers()).filter(([s])=>!["main"].includes(s)).map(([,s])=>s.getCamera()),o=t[i];if("function"==typeof o)return(...s)=>{const a=o.apply(t,s);return r.forEach(l=>{l[i].apply(l,s)}),a}}})}createLandmark(e){return this.camera.createLandmark("landmark-"+this.landmarkCounter++,e)}getAnimation(e){const t=kI(this.context.options,e);return!!t&&af(Object.assign({},t),["easing","duration"])}getCanvasSize(){const{canvas:e}=this.context,{width:t=0,height:i=0}=e.getConfig();return[t,i]}getCanvasCenter(){const{canvas:e}=this.context,{width:t=0,height:i=0}=e.getConfig();return[t/2,i/2,0]}getViewportCenter(){const[e,t]=this.camera.getPosition();return[e,t,0]}getGraphCenter(){return this.context.graph.getViewportByCanvas(this.getCanvasCenter())}getZoom(){return this.camera.getZoom()}getRotation(){return this.camera.getRoll()}getTranslateOptions(e){const{camera:t}=this,{mode:i,translate:r=[]}=e,o=this.getZoom(),s=t.getPosition(),a=t.getFocalPoint(),[l,u]=this.getCanvasCenter(),[d=0,f=0,m=0]=r,y=Uc([-d,-f,-m],o);return"relative"===i?{position:ir(s,y),focalPoint:ir(a,y)}:{position:ir([l,u,s[2]],y),focalPoint:ir([l,u,a[2]],y)}}getRotateOptions(e){const{mode:t,rotate:i=0}=e;return{roll:"relative"===t?this.camera.getRoll()+i:i}}getZoomOptions(e){const{zoomRange:t}=this.context.options,i=this.camera.getZoom(),{mode:r,scale:o=1}=e;return Ys("relative"===r?i*o:o,...t)}transform(e,t){return uS(this,void 0,void 0,function*(){const{graph:i}=this.context,{translate:r,rotate:o,scale:s,origin:a}=e;this.cancelAnimation();const l=this.getAnimation(t);if(dl(i,new a4(Dn.BEFORE_TRANSFORM,e)),!o&&s&&!r&&a&&!l)return this.camera.setZoomByViewportPoint(this.getZoomOptions(e),a),void dl(i,new a4(Dn.AFTER_TRANSFORM,e));const u={};if(r&&Object.assign(u,this.getTranslateOptions(e)),oi(o)&&Object.assign(u,this.getRotateOptions(e)),oi(s)&&Object.assign(u,{zoom:this.getZoomOptions(e)}),l)return dl(i,new wd(Dn.BEFORE_ANIMATE,al.TRANSFORM,null,e)),new Promise(d=>{this.transformResolver=d,this.camera.gotoLandmark(this.createLandmark(u),Object.assign(Object.assign({},l),{onfinish:()=>{dl(i,new wd(Dn.AFTER_ANIMATE,al.TRANSFORM,null,e)),dl(i,new a4(Dn.AFTER_TRANSFORM,e)),this.transformResolver=void 0,d()}}))});this.camera.gotoLandmark(this.createLandmark(u),{duration:0}),dl(i,new a4(Dn.AFTER_TRANSFORM,e))})}fitView(e,t){return uS(this,void 0,void 0,function*(){const[i,r,o,s]=this.padding,{when:a="always",direction:l="both"}=e||{},[u,d]=this.context.canvas.getSize(),f=u-s-r,m=d-i-o,y=this.context.canvas.getBounds(),b=this.getBBoxInViewport(y),[E,w]=Ef(b);if("overflow"===a&&!("x"===l&&E>=f||"y"===l&&w>=m||"both"===l&&E>=f&&w>=m))return yield this.fitCenter(t);const x=f/E,D=m/w,k="x"===l?x:"y"===l?D:Math.min(x,D),T=this.getAnimation(t);yield this.transform({mode:"relative",scale:k,translate:ir(Do(this.getCanvasCenter(),this.getBBoxInViewport(y).center),Uc(this.paddingOffset,k))},T)})}fitCenter(e){return uS(this,void 0,void 0,function*(){const t=this.context.canvas.getBounds();yield this.focus(t,e)})}focusElements(e,t){return uS(this,void 0,void 0,function*(){const{element:i}=this.context;if(!i)return;const r=C2(e.map(o=>i.getElement(o).getRenderBounds()));yield this.focus(r,t)})}focus(e,t){return uS(this,void 0,void 0,function*(){const i=this.context.graph.getViewportByCanvas(e.center),o=Do(this.getCanvasCenter(),i);yield this.transform({mode:"relative",translate:ir(o,this.paddingOffset)},t)})}getBBoxInViewport(e){const{min:t,max:i}=e,{graph:r}=this.context,[o,s]=r.getViewportByCanvas(t),[a,l]=r.getViewportByCanvas(i),u=new pi.AABB;return u.setMinMax([o,s,0],[a,l,0]),u}isInViewport(e,t=!1,i=0){const{graph:r}=this.context,o=this.getCanvasSize(),[s,a]=r.getCanvasByViewport([0,0]),[l,u]=r.getCanvasByViewport(o);let d=new pi.AABB;return d.setMinMax([s,a,0],[l,u,0]),i&&(d=wf(d,i)),Nm(e)?Al(e,d):t?function o_(n,e){const[t,i]=n.min,[r,o]=n.max,[s,a]=e.min,[l,u]=e.max;return t>=s&&r<=l&&i>=a&&o<=u}(e,d):d.intersects(e)}cancelAnimation(){var e,t;!(null===(e=this.camera.landmarks)||void 0===e)&&e.length&&this.camera.cancelLandmarkAnimation(),null===(t=this.transformResolver)||void 0===t||t.call(this)}}var es=function(n,e,t,i){return new(t||(t=Promise))(function(o,s){function a(d){try{u(i.next(d))}catch(f){s(f)}}function l(d){try{u(i.throw(d))}catch(f){s(f)}}function u(d){d.done?o(d.value):function r(o){return o instanceof t?o:new t(function(s){s(o)})}(d.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};let nAt=(()=>{class n extends IR{constructor(t){var i;super(),this.rendered=!1,this.destroyed=!1,this.context={model:new YTt},this.isCollapsingExpanding=!1,this.onResize=K0(()=>{this.resize()},300),this.options=Object.assign({},n.defaultOptions,t),this._setOptions(this.options,!0),this.context.graph=this,this.options.autoResize&&(null===(i=globalThis.addEventListener)||void 0===i||i.call(globalThis,"resize",this.onResize))}getOptions(){return this.options}setOptions(t){this._setOptions(t,!1)}_setOptions(t,i){if(this.updateCanvas(t),i){const{data:y}=t;return void(y&&this.addData(y))}Object.assign(this.options,t);const{behaviors:r,combo:o,data:s,edge:a,layout:l,node:u,plugins:d,theme:f,transforms:m}=t;r&&this.setBehaviors(r),s&&this.setData(s),u&&this.setNode(u),a&&this.setEdge(a),o&&this.setCombo(o),l&&this.setLayout(l),f&&this.setTheme(f),d&&this.setPlugins(d),m&&this.setTransforms(m)}getSize(){return this.context.canvas?this.context.canvas.getSize():[this.options.width||0,this.options.height||0]}setSize(t,i){t&&(this.options.width=t),i&&(this.options.height=i),this.resize(t,i)}setZoomRange(t){this.options.zoomRange=t}getZoomRange(){return this.options.zoomRange}setNode(t){this.options.node=t,this.context.model.refreshData()}setEdge(t){this.options.edge=t,this.context.model.refreshData()}setCombo(t){this.options.combo=t,this.context.model.refreshData()}getTheme(){return this.options.theme}setTheme(t){this.options.theme=ii(t)?t(this.getTheme()):t}setLayout(t){this.options.layout=ii(t)?t(this.getLayout()):t}getLayout(){return this.options.layout}setBehaviors(t){var i;this.options.behaviors=ii(t)?t(this.getBehaviors()):t,null===(i=this.context.behavior)||void 0===i||i.setBehaviors(this.options.behaviors)}updateBehavior(t){this.setBehaviors(i=>i.map(r=>"object"==typeof r&&r.key===t.key?Object.assign(Object.assign({},r),t):r))}getBehaviors(){return this.options.behaviors||[]}setPlugins(t){var i;this.options.plugins=ii(t)?t(this.getPlugins()):t,null===(i=this.context.plugin)||void 0===i||i.setPlugins(this.options.plugins)}updatePlugin(t){this.setPlugins(i=>i.map(r=>"object"==typeof r&&r.key===t.key?Object.assign(Object.assign({},r),t):r))}getPlugins(){return this.options.plugins||[]}getPluginInstance(t){return this.context.plugin.getPluginInstance(t)}setTransforms(t){var i;this.options.transforms=ii(t)?t(this.getTransforms()):t,null===(i=this.context.transform)||void 0===i||i.setTransforms(this.options.transforms)}updateTransform(t){this.setTransforms(i=>i.map(r=>"object"==typeof r&&r.key===t.key?Object.assign(Object.assign({},r),t):r)),this.context.model.refreshData()}getTransforms(){return this.options.transforms||[]}getData(){return this.context.model.getData()}getElementData(t){return Array.isArray(t)?t.map(i=>this.context.model.getElementDataById(i)):this.context.model.getElementDataById(t)}getNodeData(t){var i;return void 0===t?this.context.model.getNodeData():Array.isArray(t)?this.context.model.getNodeData(t):null===(i=this.context.model.getNodeData([t]))||void 0===i?void 0:i[0]}getEdgeData(t){var i;return void 0===t?this.context.model.getEdgeData():Array.isArray(t)?this.context.model.getEdgeData(t):null===(i=this.context.model.getEdgeData([t]))||void 0===i?void 0:i[0]}getComboData(t){var i;return void 0===t?this.context.model.getComboData():Array.isArray(t)?this.context.model.getComboData(t):null===(i=this.context.model.getComboData([t]))||void 0===i?void 0:i[0]}setData(t){this.context.model.setData(ii(t)?t(this.getData()):t)}addData(t){this.context.model.addData(ii(t)?t(this.getData()):t)}addNodeData(t){this.context.model.addNodeData(ii(t)?t(this.getNodeData()):t)}addEdgeData(t){this.context.model.addEdgeData(ii(t)?t(this.getEdgeData()):t)}addComboData(t){this.context.model.addComboData(ii(t)?t(this.getComboData()):t)}addChildrenData(t,i){this.context.model.addChildrenData(t,i)}updateData(t){this.context.model.updateData(ii(t)?t(this.getData()):t)}updateNodeData(t){this.context.model.updateNodeData(ii(t)?t(this.getNodeData()):t)}updateEdgeData(t){this.context.model.updateEdgeData(ii(t)?t(this.getEdgeData()):t)}updateComboData(t){this.context.model.updateComboData(ii(t)?t(this.getComboData()):t)}removeData(t){this.context.model.removeData(ii(t)?t(this.getData()):t)}removeNodeData(t){this.context.model.removeNodeData(ii(t)?t(this.getNodeData()):t)}removeEdgeData(t){this.context.model.removeEdgeData(ii(t)?t(this.getEdgeData()):t)}removeComboData(t){this.context.model.removeComboData(ii(t)?t(this.getComboData()):t)}getElementType(t){return this.context.model.getElementType(t)}getRelatedEdgesData(t,i="both"){return this.context.model.getRelatedEdgesData(t,i)}getNeighborNodesData(t){return this.context.model.getNeighborNodesData(t)}getAncestorsData(t,i){return this.context.model.getAncestorsData(t,i)}getParentData(t,i){return this.context.model.getParentData(t,i)}getChildrenData(t){return this.context.model.getChildrenData(t)}getDescendantsData(t){return this.context.model.getDescendantsData(t)}getElementDataByState(t,i){return this.context.model.getElementDataByState(t,i)}initCanvas(){return es(this,void 0,void 0,function*(){var t;if(this.context.canvas)return yield this.context.canvas.ready;const{container:i="container",width:r,height:o,renderer:s,cursor:a,background:l,canvas:u,devicePixelRatio:d=(null!==(t=globalThis.devicePixelRatio)&&void 0!==t?t:1)}=this.options;if(i instanceof Trt)this.context.canvas=i,a&&i.setCursor(a),s&&i.setRenderer(s),yield i.ready;else{const f=Ki(i)?document.getElementById(i):i,m=wnt(f);this.emit(Dn.BEFORE_CANVAS_INIT,{container:f,width:r,height:o});const y=Object.assign(Object.assign({},u),{container:f,width:r||m[0],height:o||m[1],background:l,renderer:s,cursor:a,devicePixelRatio:d}),b=new Trt(y);this.context.canvas=b,yield b.ready,this.emit(Dn.AFTER_CANVAS_INIT,{canvas:b})}})}updateCanvas(t){var i,r;const{renderer:o,cursor:s,height:a,width:l}=t,u=this.context.canvas;u&&(o&&(this.emit(Dn.BEFORE_RENDERER_CHANGE,{renderer:this.options.renderer}),u.setRenderer(o),this.emit(Dn.AFTER_RENDERER_CHANGE,{renderer:o})),s&&u.setCursor(s),(oi(l)||oi(a))&&this.setSize(null!==(i=l??this.options.width)&&void 0!==i?i:0,null!==(r=a??this.options.height)&&void 0!==r?r:0))}initRuntime(){this.context.options=this.options,this.context.batch||(this.context.batch=new $Tt(this.context)),this.context.plugin||(this.context.plugin=new JTt(this.context)),this.context.viewport||(this.context.viewport=new eAt(this.context)),this.context.transform||(this.context.transform=new tAt(this.context)),this.context.element||(this.context.element=new ZTt(this.context)),this.context.animation||(this.context.animation=new GTt(this.context)),this.context.layout||(this.context.layout=new qTt(this.context)),this.context.behavior||(this.context.behavior=new WTt(this.context))}prepare(){return es(this,void 0,void 0,function*(){if(yield Promise.resolve(),this.destroyed)throw new Error(jc("The graph instance has been destroyed"));yield this.initCanvas(),this.initRuntime()})}render(){return es(this,void 0,void 0,function*(){yield this.prepare(),dl(this,new Wa(Dn.BEFORE_RENDER));const t=this.context.element.draw({type:"render"});yield Promise.all([t?.finished,this.context.layout.layout()]),yield this.autoFit(),this.rendered=!0,dl(this,new Wa(Dn.AFTER_RENDER))})}draw(){return es(this,void 0,void 0,function*(){var t;yield this.prepare(),yield null===(t=this.context.element.draw())||void 0===t?void 0:t.finished})}layout(){return es(this,void 0,void 0,function*(){yield this.context.layout.layout()})}stopLayout(){this.context.layout.stopLayout()}clear(){return es(this,void 0,void 0,function*(){this.context.model.setData({}),yield this.draw()})}destroy(){var t;dl(this,new Wa(Dn.BEFORE_DESTROY));const{layout:i,animation:r,element:o,model:s,canvas:a,behavior:l,plugin:u}=this.context;u?.destroy(),l?.destroy(),i?.destroy(),r?.destroy(),o?.destroy(),s.destroy(),a?.destroy(),this.options={},this.context={},this.off(),null===(t=globalThis.removeEventListener)||void 0===t||t.call(globalThis,"resize",this.onResize),this.destroyed=!0,dl(this,new Wa(Dn.AFTER_DESTROY))}getCanvas(){return this.context.canvas}resize(t,i){var r;const o=wnt(null===(r=this.context.canvas)||void 0===r?void 0:r.getContainer()),s=[t||o[0],i||o[1]];if(!this.context.canvas)return;const a=this.context.canvas.getSize();Xo(s,a)||(dl(this,new Wa(Dn.BEFORE_SIZE_CHANGE,{size:s})),this.context.canvas.resize(...s),dl(this,new Wa(Dn.AFTER_SIZE_CHANGE,{size:s})))}fitView(t,i){return es(this,void 0,void 0,function*(){var r;yield null===(r=this.context.viewport)||void 0===r?void 0:r.fitView(t,i)})}fitCenter(t){return es(this,void 0,void 0,function*(){var i;yield null===(i=this.context.viewport)||void 0===i?void 0:i.fitCenter(t)})}autoFit(){return es(this,void 0,void 0,function*(){const{autoFit:t}=this.context.options;if(t)if(Ki(t))"view"===t?yield this.fitView():"center"===t&&(yield this.fitCenter());else{const{type:i,animation:r}=t;"view"===i?yield this.fitView(t.options,r):"center"===i&&(yield this.fitCenter(r))}})}focusElement(t,i){return es(this,void 0,void 0,function*(){var r;yield null===(r=this.context.viewport)||void 0===r?void 0:r.focusElements(Array.isArray(t)?t:[t],i)})}zoomBy(t,i,r){return es(this,void 0,void 0,function*(){yield this.context.viewport.transform({mode:"relative",scale:t,origin:r},i)})}zoomTo(t,i,r){return es(this,void 0,void 0,function*(){this.context.viewport.transform({mode:"absolute",scale:t,origin:r},i)})}getZoom(){return this.context.viewport.getZoom()}rotateBy(t,i,r){return es(this,void 0,void 0,function*(){yield this.context.viewport.transform({mode:"relative",rotate:t,origin:r},i)})}rotateTo(t,i,r){return es(this,void 0,void 0,function*(){yield this.context.viewport.transform({mode:"absolute",rotate:t,origin:r},i)})}getRotation(){return this.context.viewport.getRotation()}translateBy(t,i){return es(this,void 0,void 0,function*(){yield this.context.viewport.transform({mode:"relative",translate:t},i)})}translateTo(t,i){return es(this,void 0,void 0,function*(){yield this.context.viewport.transform({mode:"absolute",translate:t},i)})}getPosition(){return Do([0,0],this.getCanvasByViewport([0,0]))}translateElementBy(t,i){return es(this,arguments,void 0,function*(r,o,s=!0){var a,l;const[u,d]=mo(r)?[r,null===(a=o)||void 0===a||a]:[{[r]:o},s];Object.entries(u).forEach(([f,m])=>this.context.model.translateNodeLikeBy(f,m)),yield null===(l=this.context.element.draw({animation:d,stage:"translate"}))||void 0===l?void 0:l.finished})}translateElementTo(t,i){return es(this,arguments,void 0,function*(r,o,s=!0){var a,l;const[u,d]=mo(r)?[r,null===(a=o)||void 0===a||a]:[{[r]:o},s];Object.entries(u).forEach(([f,m])=>this.context.model.translateNodeLikeTo(f,m)),yield null===(l=this.context.element.draw({animation:d,stage:"translate"}))||void 0===l?void 0:l.finished})}getElementPosition(t){return this.context.model.getElementPosition(t)}getElementRenderStyle(t){return y1(this.context.element.getElement(t).attributes,["context"])}setElementVisibility(t,i){return es(this,arguments,void 0,function*(r,o,s=!0){var a,l;const[u,d]=mo(r)?[r,null===(a=o)||void 0===a||a]:[{[r]:o},s],f={nodes:[],edges:[],combos:[]};Object.entries(u).forEach(([b,E])=>{const w=this.getElementType(b);f[`${w}s`].push({id:b,style:{visibility:E}})});const{model:m,element:y}=this.context;m.preventUpdateNodeLikeHierarchy(()=>{m.updateData(f)}),yield null===(l=y.draw({animation:d,stage:"visibility"}))||void 0===l?void 0:l.finished})}showElement(t,i){return es(this,void 0,void 0,function*(){const r=Array.isArray(t)?t:[t];yield this.setElementVisibility(Object.fromEntries(r.map(o=>[o,"visible"])),i)})}hideElement(t,i){return es(this,void 0,void 0,function*(){const r=Array.isArray(t)?t:[t];yield this.setElementVisibility(Object.fromEntries(r.map(o=>[o,"hidden"])),i)})}getElementVisibility(t){var i,r;const o=this.context.element.getElement(t);return null!==(r=null===(i=o?.style)||void 0===i?void 0:i.visibility)&&void 0!==r?r:"visible"}setElementZIndex(t,i){return es(this,void 0,void 0,function*(){var r;const o={nodes:[],edges:[],combos:[]},s=mo(t)?t:{[t]:i};Object.entries(s).forEach(([u,d])=>{const f=this.getElementType(u);o[`${f}s`].push({id:u,style:{zIndex:d}})});const{model:a,element:l}=this.context;a.preventUpdateNodeLikeHierarchy(()=>a.updateData(o)),yield null===(r=l.draw({animation:!1,stage:"zIndex"}))||void 0===r?void 0:r.finished})}frontElement(t){return es(this,void 0,void 0,function*(){const i=Array.isArray(t)?t:[t],{model:r,element:o}=this.context,s={};i.map(a=>{const l=o.getFrontZIndex(a);if("combo"===r.getElementType(a)){const u=r.getAncestorsData(a,So).at(-1)||this.getComboData(a),d=[u,...r.getDescendantsData(We(u))],f=l-o.getElementZIndex(a);d.forEach(y=>{s[We(y)]=this.getElementZIndex(We(y))+f});const{internal:m}=k9(d.map(We),y=>r.getRelatedEdgesData(y));m.forEach(y=>{const b=We(y);s[b]=this.getElementZIndex(b)+f})}else s[a]=l}),yield this.setElementZIndex(s)})}getElementZIndex(t){var i,r,o;const{model:s,element:a}=this.context;return null!==(o=null===(r=null===(i=s.getElementDataById(t))||void 0===i?void 0:i.style)||void 0===r?void 0:r.zIndex)&&void 0!==o?o:a.getElementZIndex(t)}setElementState(t,i){return es(this,arguments,void 0,function*(r,o,s=!0){var a,l;const[u,d]=mo(r)?[r,null===(a=o)||void 0===a||a]:[{[r]:o},s],f=y=>y?Array.isArray(y)?y:[y]:[],m={nodes:[],edges:[],combos:[]};Object.entries(u).forEach(([y,b])=>{const E=this.getElementType(y);m[`${E}s`].push({id:y,states:f(b)})}),this.updateData(m),yield null===(l=this.context.element.draw({animation:d,stage:"state"}))||void 0===l?void 0:l.finished})}getElementState(t){return this.context.model.getElementState(t)}getElementRenderBounds(t){return this.context.element.getElement(t).getRenderBounds()}collapseElement(t){return es(this,arguments,void 0,function*(i,r=!0){const{model:o,element:s}=this.context;if(ac(o.getNodeLikeData([i])[0])||this.isCollapsingExpanding)return;const a=o.getElementType(i);yield this.frontElement(i),this.isCollapsingExpanding=!0,this.setElementCollapsibility(i,!0),"node"===a?yield s.collapseNode(i,r):"combo"===a&&(yield s.collapseCombo(i,r)),this.isCollapsingExpanding=!1})}expandElement(t){return es(this,arguments,void 0,function*(i,r=!0){const{model:o,element:s}=this.context;if(!ac(o.getNodeLikeData([i])[0])||this.isCollapsingExpanding)return;const a=o.getElementType(i);this.isCollapsingExpanding=!0,this.setElementCollapsibility(i,!1),"node"===a?yield s.expandNode(i,r):"combo"===a&&(yield s.expandCombo(i,r)),this.isCollapsingExpanding=!1})}setElementCollapsibility(t,i){const r=this.getElementType(t);"node"===r?this.updateNodeData([{id:t,style:{collapsed:i}}]):"combo"===r&&this.updateComboData([{id:t,style:{collapsed:i}}])}toDataURL(){return es(this,arguments,void 0,function*(t={}){return this.context.canvas.toDataURL(t)})}getCanvasByViewport(t){return this.context.canvas.getCanvasByViewport(t)}getViewportByCanvas(t){return this.context.canvas.getViewportByCanvas(t)}getClientByCanvas(t){return this.context.canvas.getClientByCanvas(t)}getCanvasByClient(t){return this.context.canvas.getCanvasByClient(t)}getViewportCenter(){return this.context.viewport.getViewportCenter()}getCanvasCenter(){return this.context.viewport.getCanvasCenter()}on(t,i,r){return super.on(t,i,r)}once(t,i){return super.once(t,i)}off(t,i){return super.off(t,i)}}return n.defaultOptions={autoResize:!1,theme:"light",rotation:0,zoom:1,zoomRange:[.01,10]},n})();var iAt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t};const Rrt=(n,e)=>{const{source:t,target:i}=e,r=n.getElementDataById(t),o=n.getElementDataById(i),s=jK(r,f=>n.getParentData(f,So)),a=jK(o,f=>n.getParentData(f,So)),d={sourceNode:We(s),targetNode:We(a)};return e.style?Object.assign(e.style,d):e.style=d,e};let uAt=(()=>{class n extends ug{constructor(t,i){super(t,La({},n.defaultOptions,i)),this.assignSizeByCentrality=(r,o,s,a,l,u)=>{const d=[o,s],m=[a[1],l[1]],y=[a[2],l[2]],b=(E,w)=>{if("function"==typeof u)return u(E,d,w);switch(u){case"linear":return((n,e,t)=>{const[i,r]=e,[o,s]=t;return r===i?o:o+(n-i)/(r-i)*(s-o)})(E,d,w);case"log":return((n,e,t)=>{const[i,r]=e,[o,s]=t;return o+Math.log(n-i+1)/Math.log(r-i+1)*(s-o)})(E,d,w);case"pow":return((n,e,t,i=2)=>{const[r,o]=e,[s,a]=t;return s+Math.pow((n-r)/(o-r),i)*(a-s)})(E,d,w,2);case"sqrt":return((n,e,t)=>{const[i,r]=e,[o,s]=t;return o+Math.sqrt((n-i)/(r-i))*(s-o)})(E,d,w);default:return w[0]}};return[b(r,[a[0],l[0]]),b(r,m),b(r,y)]}}beforeDraw(t){const{model:i}=this.context,r=i.getNodeData(),o=Hc(this.options.maxSize),s=Hc(this.options.minSize),a=this.getCentralities(this.options.centrality),l=a.size>0?Math.max(...a.values()):0,u=a.size>0?Math.min(...a.values()):0;return r.forEach(d=>{var f;const m=this.assignSizeByCentrality(a.get(We(d))||0,u,l,s,o,this.options.scale),y=null===(f=this.context.element)||void 0===f?void 0:f.getElement(We(d)),b={size:m};this.assignLabelStyle(b,m,d,y),(!y||!o4(b,y.attributes))&&Lu(t,y?"update":"add","node",La(d,{style:b}),!0)}),t}assignLabelStyle(t,i,r,o){var s;const a=o?o.config.style:null===(s=this.context.element)||void 0===s?void 0:s.getElementComputedStyle("node",r);if(Object.assign(t,af(a,["labelFontSize","labelLineHeight"])),this.options.mapLabelSize){const l=this.getLabelSizeByNodeSize(i,1/0,Number(t.labelFontSize));Object.assign(t,{labelFontSize:l,labelLineHeight:l+$$(t.labelPadding)})}return t}getLabelSizeByNodeSize(t,i,r){const o=Math.min(...t)/2,[s,a]=Array.isArray(this.options.mapLabelSize)?this.options.mapLabelSize:[r,i];return Math.min(a,Math.max(o,s))}getCentralities(t){const{model:i}=this.context,r=i.getData();if("function"==typeof t)return t(r);const o=i.getRelatedEdgesData.bind(i);return Mf(r,o,t)}}return n.defaultOptions={centrality:{type:"degree"},maxSize:80,minSize:20,scale:"linear",mapLabelSize:!1},n})(),dAt=(()=>{class n extends ug{constructor(t,i){super(t,Object.assign({},n.defaultOptions,i))}get ref(){return this.context.model.getRootsData()[0]}afterLayout(){var t;const i=sa(this.ref),{graph:r,model:o}=this.context;null===(t=o.getData().nodes)||void 0===t||t.forEach(s=>{if(We(s)===We(this.ref))return;const a=Ps(Do(sa(s),i)),l=Math.abs(a)>Math.PI/2,u=!s.children||0===s.children.length,f=(u?1:-1)*(Hc(r.getElementRenderStyle(We(s)).size)[0]/2+this.options.offset),m=[["translate",f*Math.cos(a),f*Math.sin(a)],["rotate",l?pi.rad2deg(a)+180:pi.rad2deg(a)]];o.updateNodeData([{id:We(s),style:{labelTextAlign:l===u?"right":"left",labelTextBaseline:"middle",labelTransform:m}}])}),r.draw()}}return n.defaultOptions={offset:5},n})();const Prt=["top","top-right","right","right-bottom","bottom","bottom-left","left","left-top"];let fAt=(()=>{class n extends ug{constructor(t,i){super(t,Object.assign({},n.defaultOptions,i)),this.cacheMergeStyle=new Map,this.getAffectedParallelEdges=r=>{const{add:{edges:o},update:{nodes:s,edges:a,combos:l},remove:{edges:u}}=r,{model:d}=this.context,f=new Map,m=(E,w)=>{d.getRelatedEdgesData(w).forEach(M=>!f.has(We(M))&&f.set(We(M),M))};s.forEach(m),l.forEach(m);const y=E=>{const w=d.getEdgeData().map(M=>Rrt(d,M));pAt(E,w).forEach(M=>!f.has(We(M))&&f.set(We(M),M))};if(u.size&&u.forEach(y),o.size&&o.forEach(y),a.size){const E=jnt(LU(d.getChanges())).update.edges;a.forEach(w=>{var M;y(w);const x=null===(M=E.find(D=>We(D.value)===We(w)))||void 0===M?void 0:M.original;x&&!bH(w,x)&&y(x)})}dp(this.options.edges)||f.forEach((E,w)=>!this.options.edges.includes(w)&&f.delete(w));const b=d.getEdgeData().map(We);return new Map([...f].sort((E,w)=>b.indexOf(E[0])-b.indexOf(w[0])))},this.applyBundlingStyle=(r,o,s)=>{const{edgeMap:a,reverses:l}=Nrt(o);a.forEach(u=>{u.forEach((d,f,m)=>{var y;const b=m.length,E=d.style||{};if(d.source===d.target){const x=Prt.length;E.loopPlacement=Prt[f%x],E.loopDist=Math.floor(f/x)*s+50}else if(1===b)E.curveOffset=0;else{const x=(f%2==0?1:-1)*(l[`${d.source}|${d.target}|${f}`]?-1:1);E.curveOffset=b%2==1?x*Math.ceil(f/2)*s*2:x*(Math.floor(f/2)*s*2+s)}const w=Object.assign(d,{type:"quadratic",style:E}),M=null===(y=this.context.element)||void 0===y?void 0:y.getElement(We(d));(!M||!o4(w.style,M.attributes))&&Lu(r,M?"update":"add","edge",w,!0)})})},this.resetEdgeStyle=r=>{const o=r.style||{},s=this.cacheMergeStyle.get(We(r))||{};return Object.keys(s).forEach(a=>{Xo(o[a],s[a])&&(r[a]?o[a]=r[a]:delete o[a])}),Object.assign(r,{style:o})},this.applyMergingStyle=(r,o)=>{const{edgeMap:s,reverses:a}=Nrt(o);s.forEach(l=>{var u;if(1===l.length){const f=l[0],m=null===(u=this.context.element)||void 0===u?void 0:u.getElement(We(f)),y=this.resetEdgeStyle(f);return void((!m||!o4(y,m.attributes))&&Lu(r,m?"update":"add","edge",y))}const d=l.map(({source:f,target:m,style:y={}},b)=>{const{startArrow:E,endArrow:w}=y,M={},[x,D]=a[`${f}|${m}|${b}`]?["endArrow","startArrow"]:["startArrow","endArrow"];return rf(E)&&(M[x]=E),rf(w)&&(M[D]=w),M}).reduce((f,m)=>Object.assign(Object.assign({},f),m),{});l.forEach((f,m,y)=>{var b;if(0!==m)return void Lu(r,"remove","edge",f);const E=Object.assign({},ii(this.options.style)?this.options.style(y):this.options.style,{childrenData:y});this.cacheMergeStyle.set(We(f),E);const w=Object.assign(Object.assign({},f),{type:"line",style:Object.assign(Object.assign(Object.assign({},f.style),d),E)}),M=null===(b=this.context.element)||void 0===b?void 0:b.getElement(We(f));(!M||!o4(w.style,M.attributes))&&Lu(r,M?"update":"add","edge",w,!0)})})}}beforeDraw(t){const i=this.getAffectedParallelEdges(t);return 0===i.size||("bundle"===this.options.mode?this.applyBundlingStyle(t,i,this.options.distance):this.applyMergingStyle(t,i)),t}}return n.defaultOptions={mode:"bundle",distance:15},n})();const Nrt=n=>{const e=new Map,t=new Set,i={};for(const[r,o]of n){if(t.has(r))continue;const{source:s,target:a}=o,l=`${s}-${a}`;e.has(l)||e.set(l,[]),e.get(l).push(o),t.add(r);for(const[u,d]of n)t.has(u)||bH(o,d)&&(e.get(l).push(d),t.add(u),s===d.target&&a===d.source&&(i[`${d.source}|${d.target}|${e.get(l).length-1}`]=!0))}return{edgeMap:e,reverses:i}},pAt=(n,e,t)=>e.filter(i=>bH(i,n)),bH=(n,e)=>{const{sourceNode:t,targetNode:i}=n.style||{},{sourceNode:r,targetNode:o}=e.style||{};return t===r&&i===o||t===o&&i===r},gAt={animation:{"combo-collapse":BC,"combo-expand":H$,"node-collapse":r_,"node-expand":y8,"path-in":LC,"path-out":FC,fade:[{fields:["opacity"]}],translate:[{fields:["x","y"]}]},behavior:{"brush-select":L8,"click-select":oW,"collapse-expand":AR,"create-edge":s0t,"drag-canvas":a0t,"drag-element-force":class m0t extends eX{get forceLayoutInstance(){return this.context.layout.getLayoutInstance().find(e=>["d3-force","d3-force-3d"].includes(e?.id))}validate(e){return!!this.context.layout&&(this.forceLayoutInstance?super.validate(e):(oc.warn("DragElementForce only works with d3-force or d3-force-3d layout"),!1))}moveElement(e,t){return function(n,e,t,i){return new(t||(t=Promise))(function(o,s){function a(d){try{u(i.next(d))}catch(f){s(f)}}function l(d){try{u(i.throw(d))}catch(f){s(f)}}function u(d){d.done?o(d.value):function r(o){return o instanceof t?o:new t(function(s){s(o)})}(d.value).then(a,l)}u((i=i.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){const i=this.forceLayoutInstance;this.context.graph.getNodeData(e).forEach((r,o)=>{const{x:s=0,y:a=0}=r.style||{};i&&j9(i,"setFixedPosition",e[o],[...ir([+s,+a],t)])})})}onDragStart(e){if(this.enable=this.validate(e),!this.enable)return;this.target=this.getSelectedNodeIDs([e.target.id]),this.hideEdge(),this.context.graph.frontElement(this.target);const t=this.forceLayoutInstance;t&&iX(t,"simulation").alphaTarget(.3).restart(),this.context.graph.getNodeData(this.target).forEach(i=>{const{x:r=0,y:o=0}=i.style||{};t&&j9(t,"setFixedPosition",We(i),[+r,+o])})}onDrag(e){if(!this.enable)return;const t=this.getDelta(e);this.moveElement(this.target,t)}onDragEnd(){const e=this.forceLayoutInstance;e&&iX(e,"simulation").alphaTarget(0),this.context.graph.getNodeData(this.target).forEach(t=>{e&&j9(e,"setFixedPosition",We(t),[null,null,null])})}},"drag-element":eX,"fix-element-size":g0t,"focus-element":y0t,"hover-activate":b0t,"lasso-select":class _0t extends L8{onPointerDown(e){if(!super.validate(e)||!super.isKeydown()||this.points)return;const{canvas:t}=this.context;this.pathShape=new pi.Path({id:"g6-lasso-select",style:this.options.style}),t.appendChild(this.pathShape),this.points=[O2(e)]}onPointerMove(e){var t;if(!this.points)return;const{immediately:i,mode:r}=this.options;this.points.push(O2(e)),null===(t=this.pathShape)||void 0===t||t.setAttribute("d",function I2(n,e=!0){const t=[];return n.forEach((i,r)=>{t.push([0===r?"M":"L",...i])}),e&&t.push(["Z"]),t}(this.points)),i&&"default"===r&&this.points.length>2&&super.updateElementsStates(this.points)}onPointerUp(){if(this.points){if(this.points.length<2)return void this.clearLasso();super.updateElementsStates(this.points),this.clearLasso()}}clearLasso(){var e;null===(e=this.pathShape)||void 0===e||e.remove(),this.pathShape=void 0,this.points=void 0}},"auto-adapt-label":BI,"optimize-viewport-transform":E0t,"scroll-canvas":w0t,"zoom-canvas":x0t},combo:{circle:OK,rect:class fpt extends S9{constructor(e){super(e)}drawKeyShape(e,t){return this.upsert("key",pi.Rect,this.getKeyStyle(e),t)}getKeyStyle(e){const t=super.getKeyStyle(e),[i,r]=this.getKeySize(e);return Object.assign(Object.assign(Object.assign({},t),e.collapsed&&qr(t,"collapsed")),{width:i,height:r,x:-i/2,y:-r/2})}}},edge:{cubic:DR,line:zK,polyline:WK,quadratic:KK,"cubic-horizontal":Npt,"cubic-radial":Lpt,"cubic-vertical":Fpt},layout:{"antv-dagre":class wvt{constructor(e={}){this.options=e,this.id="antv-dagre",this.options=Object.assign(Object.assign({},Evt),e)}execute(e,t){return pr(this,void 0,void 0,function*(){return this.genericDagreLayout(!1,e,t)})}assign(e,t){return pr(this,void 0,void 0,function*(){yield this.genericDagreLayout(!0,e,t)})}genericDagreLayout(e,t,i){return pr(this,void 0,void 0,function*(){const r=Object.assign(Object.assign({},this.options),i),{nodeSize:o,align:s,rankdir:a="TB",ranksep:l,nodesep:u,ranksepFunc:d,nodesepFunc:f,edgeLabelSpace:m,ranker:y,nodeOrder:b,begin:E,controlPoints:w,radial:M,sortByCombo:x,preset:D}=r,k=new Da({tree:[]}),T=H2(l||50,d),O=H2(u||50,f);let R=O,L=T;("LR"===a||"RL"===a)&&(R=T,L=O);const F=t7(10,o,!1),U=t.getAllNodes(),$=t.getAllEdges();let X;U.forEach(Q=>{const et=O3(F(Q)),St=L(Q),Yt=R(Q),He=et[0]+2*Yt,Se=et[1]+2*St,un=Q.data.layer;oi(un)?k.addNode({id:Q.id,data:{width:He,height:Se,layer:un}}):k.addNode({id:Q.id,data:{width:He,height:Se}})}),x&&(k.attachTreeStructure("combo"),U.forEach(Q=>{const{parentId:et}=Q.data;void 0!==et&&k.hasNode(et)&&k.setParent(Q.id,et,"combo")})),$.forEach(Q=>{k.addEdge({id:Q.id,source:Q.source,target:Q.target,data:{weight:Q.data.weight||1}})}),null!=D&&D.length&&(X=new Da({nodes:D})),((n,e)=>{const{edgeLabelSpace:t,keepNodeOrder:i,prevGraph:r,rankdir:o,ranksep:s}=e;!i&&r&&((n,e)=>{n.getAllNodes().forEach(t=>{const i=n.getNode(t.id);if(e.hasNode(t.id)){const r=e.getNode(t.id);i.data.fixorder=r.data._order,delete r.data._order}else delete i.data.fixorder})})(n,r);const a=(n=>{const e=new Da({tree:[]});return n.getAllNodes().forEach(t=>{const i=YX(n.getNode(t.id).data),r=Object.assign(Object.assign({},ivt),i),o=XX(r,nvt);e.hasNode(t.id)||e.addNode({id:t.id,data:Object.assign({},o)});const s=n.hasTreeStructure("combo")?n.getParent(t.id,"combo"):n.getParent(t.id);Oi(s)||(e.hasNode(s.id)||e.addNode(Object.assign({},s)),e.setParent(t.id,s.id))}),n.getAllEdges().forEach(t=>{const i=YX(n.getEdge(t.id).data),r={};KX?.forEach(o=>{void 0!==i[o]&&(r[o]=i[o])}),e.addEdge({id:t.id,source:t.source,target:t.target,data:Object.assign({},ovt,XX(i,rvt),r)})}),e})(n);let l;t&&(e.ranksep=((n,e)=>{const{ranksep:t=0,rankdir:i}=e;return n.getAllNodes().forEach(r=>{isNaN(r.data.layer)||r.data.layer||(r.data.layer=0)}),n.getAllEdges().forEach(r=>{var o;r.data.minlen*=2,"c"!==(null===(o=r.data.labelpos)||void 0===o?void 0:o.toLowerCase())&&("TB"===i||"BT"===i?r.data.width+=r.data.labeloffset:r.data.height+=r.data.labeloffset)}),t/2})(a,{rankdir:o,ranksep:s}));try{l=Jgt(a,e)}catch(u){if("Not possible to find intersection inside of the rectangle"===u.message)return void console.error("The following error may be caused by improper layer setting, please make sure your manual layer setting does not violate the graph's structure:\n",u);throw u}((n,e)=>{n.getAllNodes().forEach(t=>{var i;const r=n.getNode(t.id);if(r){const o=e.getNode(t.id);r.data.x=o.data.x,r.data.y=o.data.y,r.data._order=o.data.order,r.data._rank=o.data.rank,null!==(i=e.getChildren(t.id))&&void 0!==i&&i.length&&(r.data.width=o.data.width,r.data.height=o.data.height)}}),n.getAllEdges().forEach(t=>{const i=n.getEdge(t.id),r=e.getEdge(t.id);i.data.points=r?r.data.points:[],r&&r.data.hasOwnProperty("x")&&(i.data.x=r.data.x,i.data.y=r.data.y)})})(n,a)})(k,{prevGraph:X,edgeLabelSpace:m,keepNodeOrder:!!b,nodeOrder:b||[],acyclicer:"greedy",ranker:y,rankdir:a,nodesep:u,align:s});const q=[0,0];if(E){let Q=1/0,et=1/0;k.getAllNodes().forEach(St=>{Q>St.data.x&&(Q=St.data.x),et>St.data.y&&(et=St.data.y)}),k.getAllEdges().forEach(St=>{var Yt;null===(Yt=St.data.points)||void 0===Yt||Yt.forEach(He=>{Q>He.x&&(Q=He.x),et>He.y&&(et=He.y)})}),q[0]=E[0]-Q,q[1]=E[1]-et}const gt="LR"===a||"RL"===a;if(!M){const Q=new Set,et="BT"===a||"RL"===a?(Se,un)=>un-Se:(Se,un)=>Se-un;k.getAllNodes().forEach(Se=>{Se.data.x=Se.data.x+q[0],Se.data.y=Se.data.y+q[1],Q.add(gt?Se.data.x:Se.data.y)});const St=Array.from(Q).sort(et),Yt=gt?(Se,un)=>Se.x!==un.x:(Se,un)=>Se.y!==un.y,He=gt?(Se,un,_n)=>{const Wn=Math.max(un.y,_n.y),Ln=Math.min(un.y,_n.y);return Se.filter(yi=>yi.y<=Wn&&yi.y>=Ln)}:(Se,un,_n)=>{const Wn=Math.max(un.x,_n.x),Ln=Math.min(un.x,_n.x);return Se.filter(yi=>yi.x<=Wn&&yi.x>=Ln)};k.getAllEdges().forEach((Se,un)=>{var _n;m&&w&&"loop"!==Se.data.type&&(Se.data.controlPoints=((n,e,t,i,r,o,s)=>{let a=n?.slice(1,n.length-1)||[];if(e&&t){let{x:l,y:u}=e.data,{x:d,y:f}=t.data;if(r&&(l=e.data.y,u=e.data.x,d=t.data.y,f=t.data.x),f!==u&&l!==d){const m=i.indexOf(u),y=i[m+1];if(y){const w=a[0],M=r?{x:(u+y)/2,y:w?.y||d}:{x:w?.x||d,y:(u+y)/2};(!w||o(w,M))&&a.unshift(M)}const b=i.indexOf(f),E=Math.abs(b-m);if(1===E)a=s(a,e.data,t.data),a.length||a.push(r?{x:(u+f)/2,y:l}:{x:l,y:(u+f)/2});else if(E>1){const w=i[b-1];if(w){const M=a[a.length-1],x=r?{x:(f+w)/2,y:M?.y||d}:{x:M?.x||l,y:(f+w)/2};(!M||o(M,x))&&a.push(x)}}}}return a})(null===(_n=Se.data.points)||void 0===_n?void 0:_n.map(({x:Wn,y:Ln})=>({x:Wn+q[0],y:Ln+q[1]})),k.getNode(Se.source),k.getNode(Se.target),St,gt,Yt,He))})}let Et=[];Et=k.getAllNodes().map(Q=>Ou(Q));const at=k.getAllEdges();return e&&(Et.forEach(Q=>{t.mergeNodeData(Q.id,{x:Q.data.x,y:Q.data.y})}),at.forEach(Q=>{t.mergeEdgeData(Q.id,{controlPoints:Q.data.controlPoints})})),{nodes:Et,edges:at}})}},"combo-combined":class wyt{constructor(e={}){this.options=e,this.id="comboCombined",this.options=Object.assign(Object.assign({},Eyt),e)}execute(e,t){return pr(this,void 0,void 0,function*(){return this.genericComboCombinedLayout(!1,e,t)})}assign(e,t){return pr(this,void 0,void 0,function*(){yield this.genericComboCombinedLayout(!0,e,t)})}genericComboCombinedLayout(e,t,i){return pr(this,void 0,void 0,function*(){const r=this.initVals(Object.assign(Object.assign({},this.options),i)),{center:o,treeKey:s,outerLayout:a}=r,l=t.getAllNodes().filter(R=>!R.data._isCombo),u=t.getAllNodes().filter(R=>R.data._isCombo),d=t.getAllEdges(),f=l?.length;if(!f||1===f)return G2(t,e,o);const m=[],y=new Map;l.forEach(R=>{y.set(R.id,R)});const b=new Map;u.forEach(R=>{b.set(R.id,R)});const E=new Map,w=this.getInnerGraphs(t,s,y,b,d,r,E);yield Promise.all(w);const M=new Map,x=[],D=new Map;let k=!0;t.getRoots(s).forEach(R=>{const L=E.get(R.id),F=b.get(R.id)||y.get(R.id),U={id:R.id,data:Object.assign(Object.assign({},R.data),{x:L.data.x||F.data.x,y:L.data.y||F.data.y,fx:L.data.fx||F.data.fx,fy:L.data.fy||F.data.fy,mass:L.data.mass||F.data.mass,size:L.data.size})};x.push(U),M.set(R.id,!0),isNaN(U.data.x)||0===U.data.x||isNaN(U.data.y)||0===U.data.y?(U.data.x=100*Math.random(),U.data.y=100*Math.random()):k=!1,q9(t,[R],$=>{$.id!==R.id&&D.set($.id,R.id)},"TB",s)});const T=[];let O;if(d.forEach(R=>{const L=D.get(R.source)||R.source,F=D.get(R.target)||R.target;L!==F&&M.has(L)&&M.has(F)&&T.push({id:R.id,source:L,target:F,data:{}})}),null!=x&&x.length){if(1===x.length)x[0].data.x=o[0],x[0].data.y=o[1];else{const R=new Da({nodes:x,edges:T}),L=a||new oY;k&&_yt[L.id]&&(yield(x.length<100?new _Y:new n7).assign(R));const F=Object.assign({center:o,kg:5,preventOverlap:!0,animate:!1},"force"===L.id?{gravity:1,factor:4,linkDistance:(U,$,X)=>(Math.max(...$.data.size)||32)/2+(Math.max(...X.data.size)||32)/2+200}:{});O=yield EY(L,R,F)}E.forEach(R=>{var L;const F=O.nodes.find(X=>X.id===R.id);if(F){const{x:X,y:q}=F.data;R.data.visited=!0,R.data.x=X,R.data.y=q,m.push({id:R.id,data:{x:X,y:q}})}const{x:U,y:$}=R.data;null===(L=R.data.nodes)||void 0===L||L.forEach(X=>{m.push({id:X.id,data:{x:X.data.x+U,y:X.data.y+$}})})}),E.forEach(({data:R})=>{const{x:L,y:F,visited:U,nodes:$}=R;$?.forEach(X=>{if(!U){const q=m.find(gt=>gt.id===X.id);q.data.x+=L||0,q.data.y+=F||0}})})}return e&&m.forEach(R=>{t.mergeNodeData(R.id,{x:R.data.x,y:R.data.y})}),{nodes:m,edges:d}})}initVals(e){const t=Object.assign({},e),{nodeSize:i,spacing:r,comboPadding:o}=e;let s,a,l;if(a=oi(r)?()=>r:ii(r)?r:()=>0,t.spacing=a,i)if(ii(i))s=u=>{const d=i(u),f=a(u);return qp(u.size)?((u.size[0]>u.size[1]?u.size[0]:u.size[1])+f)/2:((d||32)+f)/2};else if(qp(i)){const u=(i[0]>i[1]?i[0]:i[1])/2;s=d=>u+a(d)/2}else{const u=i/2;s=d=>u+a(d)/2}else s=u=>{const d=a(u);return u.size?qp(u.size)?((u.size[0]>u.size[1]?u.size[0]:u.size[1])+d)/2:mo(u.size)?((u.size.width>u.size.height?u.size.width:u.size.height)+d)/2:(u.size+d)/2:32+d/2};return t.nodeSize=s,l=oi(o)?()=>o:qp(o)?()=>Math.max.apply(null,o):ii(o)?o:()=>0,t.comboPadding=l,t}getInnerGraphs(e,t,i,r,o,s,a){const{nodeSize:l,comboPadding:u,spacing:d,innerLayout:f}=s,m=f||new n7({}),y={center:[0,0],preventOverlap:!0,nodeSpacing:d},b=[],E=w=>{let M=u?.(w)||10;return qp(M)&&(M=Math.max(...M)),{size:M?[2*M,2*M]:[30,30],padding:M}};return e.getRoots(t).forEach(w=>{a.set(w.id,{id:w.id,data:{nodes:[],size:E(w).size}});let M=Promise.resolve();q9(e,[w],x=>{var D;if(!x.data._isCombo)return;const{size:k,padding:T}=E(x);if(null!==(D=e.getChildren(x.id,t))&&void 0!==D&&D.length){const O=a.get(x.id);a.set(x.id,{id:x.id,data:Object.assign({nodes:[]},O?.data)});const R=new Map,L=e.getChildren(x.id,t).map($=>{if($.data._isCombo)return a.has($.id)||a.set($.id,{id:$.id,data:Object.assign({},$.data)}),R.set($.id,!0),a.get($.id);const X=i.get($.id)||r.get($.id);return R.set($.id,!0),{id:$.id,data:Object.assign(Object.assign({},X.data),$.data)}}),F={nodes:L,edges:o.filter($=>R.has($.source)&&R.has($.target))};let U=1/0;L.forEach($=>{var X;let{size:q}=$.data;q||(q=(null===(X=a.get($.id))||void 0===X?void 0:X.data.size)||l?.($)||[30,30]),oi(q)&&(q=[q,q]);const[gt,Et]=q;U>gt&&(U=gt),U>Et&&(U=Et),$.data.size=q}),M=M.then(()=>pr(this,void 0,void 0,function*(){const $=new Da(F);yield EY(m,$,y,!0);const{minX:X,minY:q,maxX:gt,maxY:Et}=(n=>{let e=1/0,t=1/0,i=-1/0,r=-1/0;return n.forEach(o=>{let s=o.data.size;qp(s)?1===s.length&&(s=[s[0],s[0]]):oi(s)?s=[s,s]:(void 0===s||isNaN(s))&&(s=[30,30]);const a=[s[0]/2,s[1]/2],l=o.data.x-a[0],u=o.data.x+a[0],d=o.data.y-a[1],f=o.data.y+a[1];e>l&&(e=l),t>d&&(t=d),i<u&&(i=u),r<f&&(r=f)}),{minX:e,minY:t,maxX:i,maxY:r}})(L),at_x=(gt+X)/2,at_y=(Et+q)/2;F.nodes.forEach(et=>{et.data.x-=at_x,et.data.y-=at_y});const Q=[Math.max(gt-X,U)+2*T,Math.max(Et-q,U)+2*T];a.get(x.id).data.size=Q,a.get(x.id).data.nodes=L}))}else a.set(x.id,{id:x.id,data:Object.assign(Object.assign({},x.data),{size:k})});return!0},"BT",t),b.push(M)}),b}},"compact-box":BR.compactBox,"force-atlas2":class jxt{constructor(e={}){this.options=e,this.id="forceAtlas2",this.options=Object.assign(Object.assign({},Bxt),e)}execute(e,t){return pr(this,void 0,void 0,function*(){return this.genericForceAtlas2Layout(!1,e,t)})}assign(e,t){return pr(this,void 0,void 0,function*(){yield this.genericForceAtlas2Layout(!0,e,t)})}genericForceAtlas2Layout(e,t,i){return pr(this,void 0,void 0,function*(){const r=t.getAllEdges(),o=t.getAllNodes(),s=this.formatOptions(i,o.length),{width:a,height:l,prune:u,maxIteration:d,nodeSize:f,center:m}=s;if(null==o||!o.length||1===o.length)return G2(t,e,m);const y=o.map(M=>Ou(M,[a,l])),b=r.filter(M=>{const{source:x,target:D}=M;return x!==D}),E=new Da({nodes:y,edges:b}),w=this.getSizes(E,f);if(this.run(E,t,d,w,e,s),u){for(let x=0;x<b.length;x+=1){const{source:D,target:k}=b[x],T=E.getDegree(D),O=E.getDegree(D);if(T<=1){const R=E.getNode(k);E.mergeNodeData(D,{x:R.data.x,y:R.data.y})}else if(O<=1){const R=E.getNode(D);E.mergeNodeData(k,{x:R.data.x,y:R.data.y})}}const M=Object.assign(Object.assign({},s),{prune:!1,barnesHut:!1});this.run(E,t,100,w,e,M)}return{nodes:y,edges:r}})}getSizes(e,t){const i=e.getAllNodes(),r={};for(let o=0;o<i.length;o+=1){const s=i[o];r[s.id]=e7(t,void 0)(s)}return r}formatOptions(e={},t){const i=Object.assign(Object.assign({},this.options),e),{center:r,width:o,height:s,barnesHut:a,prune:l,maxIteration:u,kr:d,kg:f}=i;return i.width=!o&&typeof window<"u"?window.innerWidth:o,i.height=!s&&typeof window<"u"?window.innerHeight:s,i.center=r||[i.width/2,i.height/2],void 0===a&&t>250&&(i.barnesHut=!0),void 0===l&&t>100&&(i.prune=!0),0!==u||l?0===u&&l&&(i.maxIteration=100,t<=200&&t>100?i.maxIteration=500:t>200&&(i.maxIteration=950)):(i.maxIteration=250,t<=200&&t>100?i.maxIteration=1e3:t>200&&(i.maxIteration=1200)),d||(i.kr=50,t>100&&t<=500?i.kr=20:t>500&&(i.kr=1)),f||(i.kg=20,t>100&&t<=500?i.kg=10:t>500&&(i.kg=1)),i}run(e,t,i,r,o,s){const{kr:a,barnesHut:l,onTick:u}=s,d=e.getAllNodes();let f=0,m=i;const y={},b={},E={};for(let w=0;w<d.length;w+=1){const{data:M,id:x}=d[w];if(y[x]=[0,0],l){const D={id:w,rx:M.x,ry:M.y,mass:1,g:a,degree:e.getDegree(x)};E[x]=new TU(D)}}for(;m>0;)f=this.oneStep(e,{iter:m,preventOverlapIters:50,krPrime:100,sg:f,forces:y,preForces:b,bodies:E,sizes:r},s),m--,u?.({nodes:d,edges:t.getAllEdges()});return e}oneStep(e,t,i){const{iter:r,preventOverlapIters:o,krPrime:s,sg:a,preForces:l,bodies:u,sizes:d}=t;let{forces:f}=t;const{preventOverlap:m,barnesHut:y}=i,b=e.getAllNodes();for(let E=0;E<b.length;E+=1){const{id:w}=b[E];l[w]=[...f[w]],f[w]=[0,0]}return f=this.getAttrForces(e,r,o,d,f,i),f=y&&(m&&r>o||!m)?this.getOptRepGraForces(e,f,u,i):this.getRepGraForces(e,r,o,f,s,d,i),this.updatePos(e,f,l,a,i)}getAttrForces(e,t,i,r,o,s){const{preventOverlap:a,dissuadeHubs:l,mode:u,prune:d}=s,f=e.getAllEdges();for(let m=0;m<f.length;m+=1){const{source:y,target:b}=f[m],E=e.getNode(y),w=e.getNode(b),M=e.getDegree(y),x=e.getDegree(b);if(d&&(M<=1||x<=1))continue;const D=[w.data.x-E.data.x,w.data.y-E.data.y];let k=Math.hypot(D[0],D[1]);k=k<1e-4?1e-4:k,D[0]=D[0]/k,D[1]=D[1]/k,a&&t<i&&(k=k-r[y]-r[b]);let T=k,O=T;"linlog"===u&&(T=Math.log(1+k),O=T),l&&(T=k/M,O=k/x),a&&t<i&&k<=0?(T=0,O=0):a&&t<i&&k>0&&(T=k,O=k),o[y][0]+=T*D[0],o[b][0]-=O*D[0],o[y][1]+=T*D[1],o[b][1]-=O*D[1]}return o}getOptRepGraForces(e,t,i,r){const{kg:o,center:s,prune:a}=r,l=e.getAllNodes(),u=l.length;let d=9e10,f=-9e10,m=9e10,y=-9e10;for(let x=0;x<u;x+=1){const{id:D,data:k}=l[x];a&&e.getDegree(D)<=1||(i[D].setPos(k.x,k.y),k.x>=f&&(f=k.x),k.x<=d&&(d=k.x),k.y>=y&&(y=k.y),k.y<=m&&(m=k.y))}const b=Math.max(f-d,y-m),w=new L_({xmid:(f+d)/2,ymid:(y+m)/2,length:b,massCenter:s,mass:u}),M=new F_(w);for(let x=0;x<u;x+=1){const{id:D}=l[x];a&&e.getDegree(D)<=1||i[D].in(w)&&M.insert(i[D])}for(let x=0;x<u;x+=1){const{id:D,data:k}=l[x],T=e.getDegree(D);if(a&&T<=1)continue;i[D].resetForce(),M.updateForce(i[D]),t[D][0]-=i[D].fx,t[D][1]-=i[D].fy;const O=[k.x-s[0],k.y-s[1]];let R=Math.hypot(O[0],O[1]);R=R<1e-4?1e-4:R,O[0]=O[0]/R,O[1]=O[1]/R;const L=o*(T+1);t[D][0]-=L*O[0],t[D][1]-=L*O[1]}return t}getRepGraForces(e,t,i,r,o,s,a){const{preventOverlap:l,kr:u,kg:d,center:f,prune:m}=a,y=e.getAllNodes(),b=y.length;for(let E=0;E<b;E+=1){const w=y[E],M=e.getDegree(w.id);for(let T=E+1;T<b;T+=1){const O=y[T],R=e.getDegree(O.id);if(m&&(M<=1||R<=1))continue;const L=[O.data.x-w.data.x,O.data.y-w.data.y];let F=Math.hypot(L[0],L[1]);F=F<1e-4?1e-4:F,L[0]=L[0]/F,L[1]=L[1]/F,l&&t<i&&(F=F-s[w.id]-s[O.id]);let U=u*(M+1)*(R+1)/F;l&&t<i&&F<0?U=o*(M+1)*(R+1):l&&t<i&&0===F?U=0:l&&t<i&&F>0&&(U=u*(M+1)*(R+1)/F),r[w.id][0]-=U*L[0],r[O.id][0]+=U*L[0],r[w.id][1]-=U*L[1],r[O.id][1]+=U*L[1]}const x=[w.data.x-f[0],w.data.y-f[1]],D=Math.hypot(x[0],x[1]);x[0]=x[0]/D,x[1]=x[1]/D;const k=d*(M+1);r[w.id][0]-=k*x[0],r[w.id][1]-=k*x[1]}return r}updatePos(e,t,i,r,o){const{ks:s,tao:a,prune:l,ksmax:u}=o,d=e.getAllNodes(),f=d.length,m=[],y=[];let b=0,E=0,w=r;for(let x=0;x<f;x+=1){const{id:D}=d[x],k=e.getDegree(D);if(l&&k<=1)continue;const T=[t[D][0]-i[D][0],t[D][1]-i[D][1]],O=Math.hypot(T[0],T[1]),R=[t[D][0]+i[D][0],t[D][1]+i[D][1]],L=Math.hypot(R[0],R[1]);m[x]=O,y[x]=L/2,b+=(k+1)*m[x],E+=(k+1)*y[x]}const M=w;w=a*E/b,0!==M&&(w=w>1.5*M?1.5*M:w);for(let x=0;x<f;x+=1){const{id:D,data:k}=d[x],T=e.getDegree(D);if(l&&T<=1||oi(k.fx)&&oi(k.fy))continue;let O=s*w/(1+w*Math.sqrt(m[x])),R=Math.hypot(t[D][0],t[D][1]);R=R<1e-4?1e-4:R;const L=u/R;O=O>L?L:O,e.mergeNodeData(D,{x:k.x+O*t[D][0],y:k.y+O*t[D][1]})}return w}},circular:class Cvt{constructor(e={}){this.options=e,this.id="circular",this.options=Object.assign(Object.assign({},Mvt),e)}execute(e,t){return pr(this,void 0,void 0,function*(){return this.genericCircularLayout(!1,e,t)})}assign(e,t){return pr(this,void 0,void 0,function*(){yield this.genericCircularLayout(!0,e,t)})}genericCircularLayout(e,t,i){return pr(this,void 0,void 0,function*(){const r=Object.assign(Object.assign({},this.options),i),{width:o,height:s,center:a,divisions:l,startAngle:u=0,endAngle:d=2*Math.PI,angleRatio:f,ordering:m,clockwise:y,nodeSpacing:b,nodeSize:E}=r,w=t.getAllNodes(),M=t.getAllEdges(),[x,D,k]=((n,e,t)=>{let i=n,r=e,o=t;return!i&&typeof window<"u"&&(i=window.innerWidth),!r&&typeof window<"u"&&(r=window.innerHeight),o||(o=[i/2,r/2]),[i,r,o]})(o,s,a),T=w?.length;if(!T||1===T)return G2(t,e,k);const O=(d-u)/T;let{radius:R,startRadius:L,endRadius:F}=r;if(b){const q=H2(10,b),gt=t7(10,E);let Et=-1/0;w.forEach(Q=>{const et=gt(Q);Et<et&&(Et=et)});let at=0;w.forEach((Q,et)=>{at+=0===et?Et||10:(q(Q)||0)+(Et||10)}),R=at/(2*Math.PI)}else R||L||F?!L&&F?L=F:L&&!F&&(F=L):R=Math.min(D,x)/2;const U=O*f;let $=[];$="topology"===m?JX(t,w):"topology-directed"===m?JX(t,w,!0):"degree"===m?function Svt(n,e){const t=[];return e.forEach((i,r)=>{t.push(Ou(i))}),t.sort((i,r)=>n.getDegree(i.id,"both")-n.getDegree(r.id,"both")),t}(t,w):w.map(q=>Ou(q));const X=Math.ceil(T/l);for(let q=0;q<T;++q){let gt=R;!gt&&null!==L&&null!==F&&(gt=L+q*(F-L)/(T-1)),gt||(gt=10+100*q/(T-1));let Et=u+q%X*U+2*Math.PI/l*Math.floor(q/X);y||(Et=d-q%X*U-2*Math.PI/l*Math.floor(q/X)),$[q].data.x=k[0]+Math.cos(Et)*gt,$[q].data.y=k[1]+Math.sin(Et)*gt}return e&&$.forEach(q=>{t.mergeNodeData(q.id,{x:q.data.x,y:q.data.y})}),{nodes:$,edges:M}})}},concentric:n7,"d3-force":class Xyt{constructor(e){this.id="d3-force",this.config={inputNodeAttrs:["x","y","vx","vy","fx","fy"],outputNodeAttrs:["x","y","vx","vy"],simulationAttrs:["alpha","alphaMin","alphaDecay","alphaTarget","velocityDecay","randomSource"]},this.forceMap={link:Tyt,manyBody:Gyt,center:xyt,collide:Syt,radial:$yt,x:Wyt,y:Kyt},this.options={link:{id:t=>t.id},manyBody:{},center:{x:0,y:0}},this.context={options:{},assign:!1,nodes:[],edges:[]},La(this.options,e),this.options.forceSimulation&&(this.simulation=this.options.forceSimulation)}execute(e,t){return pr(this,void 0,void 0,function*(){return this.genericLayout(!1,e,t)})}assign(e,t){return pr(this,void 0,void 0,function*(){yield this.genericLayout(!0,e,t)})}stop(){this.simulation.stop()}tick(e){return this.simulation.tick(e),this.getResult()}restart(){this.simulation.restart()}setFixedPosition(e,t){const i=this.context.nodes.find(r=>r.id===e);i&&t.forEach((r,o)=>{"number"!=typeof r&&null!==r||(i[["fx","fy","fz"][o]]=r)})}getOptions(e){var t,i;const r=La({},this.options,e);return r.collide&&void 0===(null===(t=r.collide)||void 0===t?void 0:t.radius)&&(r.collide=r.collide||{},r.collide.radius=null!==(i=r.nodeSize)&&void 0!==i?i:10),void 0===r.iterations&&(r.link&&void 0===r.link.iterations&&(r.iterations=r.link.iterations),r.collide&&void 0===r.collide.iterations&&(r.iterations=r.collide.iterations)),this.context.options=r,r}genericLayout(e,t,i){var r;return pr(this,void 0,void 0,function*(){const o=this.getOptions(i),s=t.getAllNodes().map(({id:d,data:f})=>Object.assign(Object.assign({id:d},f),af(f.data,this.config.inputNodeAttrs))),a=t.getAllEdges().map(d=>Object.assign({},d));Object.assign(this.context,{assign:e,nodes:s,edges:a,graph:t});const l=new Promise(d=>{this.resolver=d}),u=this.setSimulation(o);return u.nodes(s),null===(r=u.force("link"))||void 0===r||r.links(a),l})}getResult(){const{assign:e,nodes:t,edges:i,graph:r}=this.context,o=t.map(a=>({id:a.id,data:Object.assign(Object.assign({},a.data),af(a,this.config.outputNodeAttrs))})),s=i.map(({id:a,source:l,target:u,data:d})=>({id:a,source:"object"==typeof l?l.id:l,target:"object"==typeof u?u.id:u,data:d}));return e&&o.forEach(a=>r.mergeNodeData(a.id,a.data)),{nodes:o,edges:s}}initSimulation(){return function Hyt(n){var e,t=1,i=.001,r=1-Math.pow(i,1/300),o=0,s=.6,a=new Map,l=TY(f),u=xY("tick","end"),d=function Byt(){let n=1;return()=>(n=(1664525*n+1013904223)%OY)/OY}();function f(){m(),u.call("tick",e),t<i&&(l.stop(),u.call("end",e))}function m(E){var w,x,M=n.length;void 0===E&&(E=1);for(var D=0;D<E;++D)for(t+=(o-t)*r,a.forEach(function(k){k(t)}),w=0;w<M;++w)null==(x=n[w]).fx?x.x+=x.vx*=s:(x.x=x.fx,x.vx=0),null==x.fy?x.y+=x.vy*=s:(x.y=x.fy,x.vy=0);return e}function y(){for(var M,E=0,w=n.length;E<w;++E){if((M=n[E]).index=E,null!=M.fx&&(M.x=M.fx),null!=M.fy&&(M.y=M.fy),isNaN(M.x)||isNaN(M.y)){var x=10*Math.sqrt(.5+E),D=E*Uyt;M.x=x*Math.cos(D),M.y=x*Math.sin(D)}(isNaN(M.vx)||isNaN(M.vy))&&(M.vx=M.vy=0)}}function b(E){return E.initialize&&E.initialize(n,d),E}return null==n&&(n=[]),y(),e={tick:m,restart:function(){return l.restart(f),e},stop:function(){return l.stop(),e},nodes:function(E){return arguments.length?(n=E,y(),a.forEach(b),e):n},alpha:function(E){return arguments.length?(t=+E,e):t},alphaMin:function(E){return arguments.length?(i=+E,e):i},alphaDecay:function(E){return arguments.length?(r=+E,e):+r},alphaTarget:function(E){return arguments.length?(o=+E,e):o},velocityDecay:function(E){return arguments.length?(s=1-E,e):1-s},randomSource:function(E){return arguments.length?(d=E,a.forEach(b),e):d},force:function(E,w){return arguments.length>1?(null==w?a.delete(E):a.set(E,b(w)),e):a.get(E)},find:function(E,w,M){var k,T,O,R,L,x=0,D=n.length;for(null==M?M=1/0:M*=M,x=0;x<D;++x)(O=(k=E-(R=n[x]).x)*k+(T=w-R.y)*T)<M&&(L=R,M=O);return L},on:function(E,w){return arguments.length>1?(u.on(E,w),e):u.on(E)}}}()}setSimulation(e){const t=this.simulation||this.options.forceSimulation||this.initSimulation();return this.simulation||(this.simulation=t.on("tick",()=>{var i;return null===(i=e.onTick)||void 0===i?void 0:i.call(e,this.getResult())}).on("end",()=>{var i;return null===(i=this.resolver)||void 0===i?void 0:i.call(this,this.getResult())})),kY(t,this.config.simulationAttrs.map(i=>[i,e[i]])),Object.entries(this.forceMap).forEach(([i,r])=>{const o=i;if(e[i]){let s=t.force(o);s||(s=r(),t.force(o,s)),kY(s,Object.entries(e[o]))}else t.force(o,null)}),t}},dagre:Fxt,dendrogram:BR.dendrogram,force:oY,fruchterman:class Uxt{constructor(e={}){this.options=e,this.id="fruchterman",this.timeInterval=0,this.running=!1,this.options=Object.assign(Object.assign({},Vxt),e)}execute(e,t){return pr(this,void 0,void 0,function*(){return this.genericFruchtermanLayout(!1,e,t)})}assign(e,t){return pr(this,void 0,void 0,function*(){yield this.genericFruchtermanLayout(!0,e,t)})}stop(){this.timeInterval&&typeof window<"u"&&window.clearInterval(this.timeInterval),this.running=!1}tick(e=this.options.maxIteration||1){if(this.lastResult)return this.lastResult;for(let i=0;i<e;i++)this.runOneStep(this.lastGraph,this.lastClusterMap,this.lastOptions);const t={nodes:this.lastLayoutNodes,edges:this.lastLayoutEdges};return this.lastAssign&&t.nodes.forEach(i=>this.lastGraph.mergeNodeData(i.id,{x:i.data.x,y:i.data.y,z:3===this.options.dimensions?i.data.z:void 0})),t}genericFruchtermanLayout(e,t,i){return pr(this,void 0,void 0,function*(){if(this.running)return;const r=this.formatOptions(i),{dimensions:o,width:s,height:a,center:l,clustering:u,nodeClusterBy:d,maxIteration:f,onTick:m}=r,y=t.getAllNodes(),b=t.getAllEdges();if(null==y||!y.length){const D={nodes:[],edges:b};return this.lastResult=D,D}if(1===y.length){e&&t.mergeNodeData(y[0].id,{x:l[0],y:l[1],z:3===o?l[2]:void 0});const D={nodes:[Object.assign(Object.assign({},y[0]),{data:Object.assign(Object.assign({},y[0].data),{x:l[0],y:l[1],z:3===o?l[2]:void 0})})],edges:b};return this.lastResult=D,D}const E=y.map(D=>Ou(D,[s,a])),w=new Da({nodes:E,edges:b}),M={};if(u&&E.forEach(D=>{const k=D.data[d];M[k]||(M[k]={name:k,cx:0,cy:0,count:0})}),this.lastLayoutNodes=E,this.lastLayoutEdges=b,this.lastAssign=e,this.lastGraph=w,this.lastOptions=r,this.lastClusterMap=M,typeof window>"u")return;let x=0;return new Promise(D=>{this.timeInterval=window.setInterval(()=>{this.running?(this.runOneStep(w,M,r),e&&E.forEach(({id:k,data:T})=>t.mergeNodeData(k,{x:T.x,y:T.y,z:3===o?T.z:void 0})),m?.({nodes:E,edges:b}),x++,x>=f&&(window.clearInterval(this.timeInterval),D({nodes:E,edges:b}))):D({nodes:E,edges:b})},0),this.running=!0})})}formatOptions(e={}){const t=Object.assign(Object.assign({},this.options),e),{clustering:i,nodeClusterBy:r}=t,{center:o,width:s,height:a}=t;return t.width=!s&&typeof window<"u"?window.innerWidth:s,t.height=!a&&typeof window<"u"?window.innerHeight:a,t.center=o||[t.width/2,t.height/2],t.clustering=i&&!!r,t}runOneStep(e,t,i){const{dimensions:r,height:o,width:s,gravity:a,center:l,speed:u,clustering:d,nodeClusterBy:f,clusterGravity:m}=i,y=o*s,b=Math.sqrt(y)/10,E=e.getAllNodes(),w=y/(E.length+1),M=Math.sqrt(w),x={};if(this.applyCalculate(e,x,M,w),d){for(const k in t)t[k].cx=0,t[k].cy=0,t[k].count=0;E.forEach(k=>{const{data:T}=k,O=t[T[f]];oi(T.x)&&(O.cx+=T.x),oi(T.y)&&(O.cy+=T.y),O.count++});for(const k in t)t[k].cx/=t[k].count,t[k].cy/=t[k].count;const D=m||a;E.forEach((k,T)=>{const{id:O,data:R}=k;if(!oi(R.x)||!oi(R.y))return;const L=t[R[f]],F=Math.sqrt((R.x-L.cx)*(R.x-L.cx)+(R.y-L.cy)*(R.y-L.cy)),U=M*D;x[O].x-=U*(R.x-L.cx)/F,x[O].y-=U*(R.y-L.cy)/F})}E.forEach((D,k)=>{const{id:T,data:O}=D;if(!oi(O.x)||!oi(O.y))return;const R=.01*M*a;x[T].x-=R*(O.x-l[0]),x[T].y-=R*(O.y-l[1]),3===r&&(x[T].z-=R*(O.z-l[2]))}),E.forEach((D,k)=>{const{id:T,data:O}=D;if(oi(O.fx)&&oi(O.fy))return O.x=O.fx,O.y=O.fy,void(3===r&&(O.z=O.fz));if(!oi(O.x)||!oi(O.y))return;const R=Math.sqrt(x[T].x*x[T].x+x[T].y*x[T].y+(3===r?x[T].z*x[T].z:0));if(R>0){const L=Math.min(b*(u/800),R);e.mergeNodeData(T,{x:O.x+x[T].x/R*L,y:O.y+x[T].y/R*L,z:3===r?O.z+x[T].z/R*L:void 0})}})}applyCalculate(e,t,i,r){this.calRepulsive(e,t,r),this.calAttractive(e,t,i)}calRepulsive(e,t,i){const r=e.getAllNodes();r.forEach(({data:o,id:s},a)=>{t[s]={x:0,y:0,z:0},r.forEach(({data:l,id:u},d)=>{if(a<=d||!oi(o.x)||!oi(l.x)||!oi(o.y)||!oi(l.y))return;let f=o.x-l.x,m=o.y-l.y,y=3===this.options.dimensions?o.z-l.z:0,b=f*f+m*m+y*y;0===b&&(b=1,f=.01,m=.01,y=.01);const E=i/b,w=f*E,M=m*E,x=y*E;t[s].x+=w,t[s].y+=M,t[u].x-=w,t[u].y-=M,3===this.options.dimensions&&(t[s].z+=x,t[u].z-=x)})})}calAttractive(e,t,i){e.getAllEdges().forEach(r=>{const{source:o,target:s}=r;if(!o||!s||o===s)return;const{data:a}=e.getNode(o),{data:l}=e.getNode(s);if(!(oi(l.x)&&oi(a.x)&&oi(l.y)&&oi(a.y)))return;const u=l.x-a.x,d=l.y-a.y,f=3===this.options.dimensions?l.z-a.z:0,m=Math.sqrt(u*u+d*d+f*f)/i,y=u*m,b=d*m,E=f*m;t[o].x+=y,t[o].y+=b,t[s].x-=y,t[s].y-=b,3===this.options.dimensions&&(t[o].z+=E,t[s].z-=E)})}},grid:class Gxt{constructor(e={}){this.options=e,this.id="grid",this.options=Object.assign(Object.assign({},Hxt),e)}execute(e,t){return pr(this,void 0,void 0,function*(){return this.genericGridLayout(!1,e,t)})}assign(e,t){return pr(this,void 0,void 0,function*(){yield this.genericGridLayout(!0,e,t)})}genericGridLayout(e,t,i){return pr(this,void 0,void 0,function*(){const r=Object.assign(Object.assign({},this.options),i),{begin:o=[0,0],condense:s,preventOverlapPadding:a,preventOverlap:l,rows:u,cols:d,nodeSpacing:f,nodeSize:m,width:y,height:b,position:E}=r;let{sortBy:w}=r;const M=t.getAllNodes(),x=t.getAllEdges(),D=M?.length;if(!D||1===D)return G2(t,e,o);const k=M.map(Et=>Ou(Et));"id"!==w&&(!Ki(w)||void 0===k[0].data[w])&&(w="degree"),k.sort("degree"===w?(Et,at)=>t.getDegree(at.id,"both")-t.getDegree(Et.id,"both"):"id"===w?(Et,at)=>oi(at.id)&&oi(Et.id)?at.id-Et.id:`${Et.id}`.localeCompare(`${at.id}`):(Et,at)=>at.data[w]-Et.data[w]);const T=!y&&typeof window<"u"?window.innerWidth:y,O=!b&&typeof window<"u"?window.innerHeight:b,R=D,L={rows:u,cols:d};if(null!=u&&null!=d)L.rows=u,L.cols=d;else if(null!=u&&null==d)L.rows=u,L.cols=Math.ceil(R/L.rows);else if(null==u&&null!=d)L.cols=d,L.rows=Math.ceil(R/L.cols);else{const Et=Math.sqrt(R*O/T);L.rows=Math.round(Et),L.cols=Math.round(T/O*Et)}if(L.rows=Math.max(L.rows,1),L.cols=Math.max(L.cols,1),L.cols*L.rows>R){const Et=TP(L),at=AP(L);(Et-1)*at>=R?TP(L,Et-1):(at-1)*Et>=R&&AP(L,at-1)}else for(;L.cols*L.rows<R;){const Et=TP(L),at=AP(L);(at+1)*Et>=R?AP(L,at+1):TP(L,Et+1)}let F=s?0:T/L.cols,U=s?0:O/L.rows;if(l||f){const Et=H2(10,f),at=t7(30,m,!1);k.forEach(Q=>{(!Q.data.x||!Q.data.y)&&(Q.data.x=0,Q.data.y=0);const et=t.getNode(Q.id),[St,Yt]=O3(at(et)||30),He=void 0!==Et?Et(Q):a,un=Yt+He;F=Math.max(F,St+He),U=Math.max(U,un)})}const $={},X={row:0,col:0},q={};for(let Et=0;Et<k.length;Et++){const at=k[Et];let Q;if(E&&(Q=E(t.getNode(at.id))),Q&&(void 0!==Q.row||void 0!==Q.col)){const et={row:Q.row,col:Q.col};if(void 0===et.col)for(et.col=0;AU($,et);)et.col++;else if(void 0===et.row)for(et.row=0;AU($,et);)et.row++;q[at.id]=et,unt($,et)}$xt(at,o,F,U,q,L,X,$)}const gt={nodes:k,edges:x};return e&&k.forEach(Et=>{t.mergeNodeData(Et.id,{x:Et.data.x,y:Et.data.y})}),gt})}},indented:BR.indented,mds:_Y,mindmap:BR.mindmap,radial:class Jxt{constructor(e={}){this.options=e,this.id="radial",this.options=Object.assign(Object.assign({},qxt),e)}execute(e,t){return pr(this,void 0,void 0,function*(){return this.genericRadialLayout(!1,e,t)})}assign(e,t){return pr(this,void 0,void 0,function*(){yield this.genericRadialLayout(!0,e,t)})}genericRadialLayout(e,t,i){return pr(this,void 0,void 0,function*(){const r=Object.assign(Object.assign({},this.options),i),{width:o,height:s,center:a,focusNode:l,unitRadius:u,nodeSize:d,nodeSpacing:f,strictRadial:m,preventOverlap:y,maxPreventOverlapIteration:b,sortBy:E,linkDistance:w=50,sortStrength:M=10,maxIteration:x=1e3}=r,D=t.getAllNodes(),k=t.getAllEdges(),T=!o&&typeof window<"u"?window.innerWidth:o,O=!s&&typeof window<"u"?window.innerHeight:s,R=a||[T/2,O/2];if(null==D||!D.length||1===D.length)return G2(t,e,R);let L=D[0];if(Ki(l)){for(let Ln=0;Ln<D.length;Ln++)if(D[Ln].id===l){L=D[Ln];break}}else L=l||D[0];const F=((n,e)=>{let t=-1;return n.forEach((i,r)=>{i.id===e&&(t=r)}),Math.max(t,0)})(D,L.id),U=QX({nodes:D,edges:k}),$=ZX(U),X=((n,e)=>{let t=0;for(let i=0;i<n[e].length;i++)n[e][i]!==1/0&&(t=n[e][i]>t?n[e][i]:t);return t})($,F);((n,e,t)=>{const i=n.length;for(let r=0;r<i;r++)if(n[e][r]===1/0){n[e][r]=t,n[r][e]=t;for(let o=0;o<i;o++)n[r][o]!==1/0&&n[e][o]===1/0&&(n[e][o]=t+n[r][o],n[o][e]=t+n[r][o])}for(let r=0;r<i;r++)if(r!==e)for(let o=0;o<i;o++)if(n[r][o]===1/0){let s=Math.abs(n[e][r]-n[e][o]);s=0===s?1:s,n[r][o]=s}})($,F,X+1);const q=$[F];let gt=T-R[0]>R[0]?R[0]:T-R[0],Et=O-R[1]>R[1]?R[1]:O-R[1];0===gt&&(gt=T/2),0===Et&&(Et=O/2);const at=Math.min(gt,Et),Q=Math.max(...q),et=[],St=u||at/Q;q.forEach((Ln,yi)=>{et[yi]=Ln*St});const Yt=((n,e,t,i,r,o,s)=>{if(!n)return[];const a=[];if(e){const l={};e.forEach((u,d)=>{const f=[];u.forEach((m,y)=>{var b,E;if(d===y)f.push(0);else if(i[d]===i[y])if("data"===o)f.push(m*(Math.abs(d-y)*s)/(i[d]/r));else if(o){let w,M;if(l[n[d].id])w=l[n[d].id];else{const x=("id"===o?n[d].id:null===(b=n[d].data)||void 0===b?void 0:b[o])||0;w=Ki(x)?x.charCodeAt(0):x,l[n[d].id]=w}if(l[n[y].id])M=l[n[y].id];else{const x=("id"===o?n[y].id:null===(E=n[y].data)||void 0===E?void 0:E[o])||0;M=Ki(x)?x.charCodeAt(0):x,l[n[y].id]=M}f.push(m*(Math.abs(w-M)*s)/(i[d]/r))}else f.push(m*t/(i[d]/r));else f.push(m*((t+r)/2))}),a.push(f)})}return a})(D,$,w,et,St,E,M),He=(n=>{const e=n.length,t=n[0].length,i=[];for(let r=0;r<e;r++){const o=[];for(let s=0;s<t;s++)o.push(0!==n[r][s]?1/(n[r][s]*n[r][s]):0);i.push(o)}return i})(Yt),Se=((n,e,t)=>{try{const i=Qm.mul(Qm.pow(e,2),-.5),r=i.mean("row"),o=i.mean("column"),s=i.mean();i.add(s).subRowVector(r).subColumnVector(o);const a=new bY(i),l=Qm.sqrt(a.diagonalMatrix).diagonal();return a.leftSingularVectors.toJSON().map(u=>Qm.mul([u],[l]).toJSON()[0].splice(0,n))}catch{const i=[];for(let r=0;r<e.length;r++){const o=Math.random()*t,s=Math.random()*t;i.push([o,s])}return i}})(w,Yt,w);let _n,un=Se.map(([Ln,yi])=>({x:(isNaN(Ln)?Math.random()*w:Ln)-Se[F][0],y:(isNaN(yi)?Math.random()*w:yi)-Se[F][1]}));this.run(x,un,He,Yt,et,F),y&&(_n=e7(d,f),un=((n,e)=>{const t=Object.assign(Object.assign({},Xxt),e),{positions:i,iterations:r,width:o,k:s,speed:a=100,strictRadial:l,focusIdx:u,radii:d=[],nodeSizeFunc:f}=t,m=n.getAllNodes(),y=[],b=o/10;for(let E=0;E<r;E++)i.forEach((w,M)=>{y[M]={x:0,y:0}}),Zxt(m,i,y,s,d,f),Qxt(i,y,a,l,u,b,o,d);return i})(t,{nodes:D,nodeSizeFunc:_n,positions:un,radii:et,height:O,width:T,strictRadial:!!m,focusIdx:F,iterations:b||200,k:un.length/4.5}));const Wn=[];return un.forEach((Ln,yi)=>{const Or=Ou(D[yi]);Or.data.x=Ln.x+R[0],Or.data.y=Ln.y+R[1],Wn.push(Or)}),e&&Wn.forEach(Ln=>t.mergeNodeData(Ln.id,{x:Ln.data.x,y:Ln.data.y})),{nodes:Wn,edges:k}})}run(e,t,i,r,o,s){for(let a=0;a<=e;a++)this.oneIteration(a/e,t,o,r,i,s)}oneIteration(e,t,i,r,o,s){const a=1-e;t.forEach((l,u)=>{const d=qX(l,{x:0,y:0}),f=0===d?0:1/d;if(u===s)return;let m=0,y=0,b=0;t.forEach((w,M)=>{if(u===M)return;const x=qX(l,w),D=0===x?0:1/x,k=r[M][u];b+=o[u][M],m+=o[u][M]*(w.x+k*(l.x-w.x)*D),y+=o[u][M]*(w.y+k*(l.y-w.y)*D)});const E=0===i[u]?0:1/i[u];b*=a,b+=e*E*E,m*=a,m+=e*E*l.x*f,l.x=m/b,y*=a,y+=e*E*l.y*f,l.y=y/b})}},random:class sMt{constructor(e={}){this.options=e,this.id="random",this.options=Object.assign(Object.assign({},oMt),e)}execute(e,t){return pr(this,void 0,void 0,function*(){return this.genericRandomLayout(!1,e,t)})}assign(e,t){return pr(this,void 0,void 0,function*(){yield this.genericRandomLayout(!0,e,t)})}genericRandomLayout(e,t,i){return pr(this,void 0,void 0,function*(){const r=Object.assign(Object.assign({},this.options),i),{center:o,width:s,height:a}=r,l=t.getAllNodes(),d=!s&&typeof window<"u"?window.innerWidth:s,f=!a&&typeof window<"u"?window.innerHeight:a,m=o||[d/2,f/2],y=[];return l&&l.forEach(b=>{y.push({id:b.id,data:{x:.9*(Math.random()-.5)*d+m[0],y:.9*(Math.random()-.5)*f+m[1]}})}),e&&y.forEach(b=>t.mergeNodeData(b.id,{x:b.data.x,y:b.data.y})),{nodes:y,edges:t.getAllEdges()}})}}},node:{circle:R2,diamond:class lW extends p3{constructor(e){super(e)}getPoints(e){const[t,i]=this.getSize(e);return function t0t(n,e){return[[0,-e/2],[n/2,0],[0,e/2],[-n/2,0]]}(t,i)}},ellipse:fW,hexagon:class pW extends p3{constructor(e){super(e)}getOuterR(e){return e.outerR||Math.min(...this.getSize(e))/2}getPoints(e){return function n0t(n){return[[0,n],[n*Math.sqrt(3)/2,n/2],[n*Math.sqrt(3)/2,-n/2],[0,-n],[-n*Math.sqrt(3)/2,-n/2],[-n*Math.sqrt(3)/2,n/2]]}(this.getOuterR(e))}getIconStyle(e){const t=super.getIconStyle(e),i=this.getOuterR(e)*hd;return!!t&&Object.assign({width:i,height:i},t)}},html:lpt,image:cpt,rect:class upt extends Df{constructor(e){super(e)}getKeyStyle(e){const[t,i]=this.getSize(e);return Object.assign(Object.assign({},super.getKeyStyle(e)),{width:t,height:i,x:-t/2,y:-i/2})}getIconStyle(e){const t=super.getIconStyle(e),{width:i,height:r}=this.getShape("key").attributes;return!!t&&Object.assign({width:i*hd,height:r*hd},t)}drawKeyShape(e,t){return this.upsert("key",pi.Rect,this.getKeyStyle(e),t)}},star:class dpt extends p3{constructor(e){super(e)}getInnerR(e){return e.innerR||3*this.getOuterR(e)/8}getOuterR(e){return Math.min(...this.getSize(e))/2}getPoints(e){return function Zpt(n,e){return[[0,-n],[e*Math.cos(3*Math.PI/10),-e*Math.sin(3*Math.PI/10)],[n*Math.cos(Math.PI/10),-n*Math.sin(Math.PI/10)],[e*Math.cos(Math.PI/10),e*Math.sin(Math.PI/10)],[n*Math.cos(3*Math.PI/10),n*Math.sin(3*Math.PI/10)],[0,e],[-n*Math.cos(3*Math.PI/10),n*Math.sin(3*Math.PI/10)],[-e*Math.cos(Math.PI/10),e*Math.sin(Math.PI/10)],[-n*Math.cos(Math.PI/10),-n*Math.sin(Math.PI/10)],[-e*Math.cos(3*Math.PI/10),-e*Math.sin(3*Math.PI/10)]]}(this.getOuterR(e),this.getInnerR(e))}getIconStyle(e){const t=super.getIconStyle(e),i=2*this.getInnerR(e)*hd;return!!t&&Object.assign({width:i,height:i},t)}getPortXY(e,t){const{placement:i="top"}=t,r=this.getShape("key").getLocalBounds(),o=function Qpt(n,e){const t={};return t.top=[0,-n],t.left=[-n*Math.cos(Math.PI/10),-n*Math.sin(Math.PI/10)],t["left-bottom"]=[-n*Math.cos(3*Math.PI/10),n*Math.sin(3*Math.PI/10)],t.bottom=[0,e],t["right-bottom"]=[n*Math.cos(3*Math.PI/10),n*Math.sin(3*Math.PI/10)],t.right=t.default=[n*Math.cos(Math.PI/10),-n*Math.sin(Math.PI/10)],t}(this.getOuterR(e),this.getInnerR(e));return R9(r,i,o,!1)}},donut:uW,triangle:hpt},palette:{spectral:["rgb(158, 1, 66)","rgb(213, 62, 79)","rgb(244, 109, 67)","rgb(253, 174, 97)","rgb(254, 224, 139)","rgb(255, 255, 191)","rgb(230, 245, 152)","rgb(171, 221, 164)","rgb(102, 194, 165)","rgb(50, 136, 189)","rgb(94, 79, 162)"],tableau:["rgb(78, 121, 167)","rgb(242, 142, 44)","rgb(225, 87, 89)","rgb(118, 183, 178)","rgb(89, 161, 79)","rgb(237, 201, 73)","rgb(175, 122, 161)","rgb(255, 157, 167)","rgb(156, 117, 95)","rgb(186, 176, 171)"],oranges:["rgb(255, 245, 235)","rgb(254, 230, 206)","rgb(253, 208, 162)","rgb(253, 174, 107)","rgb(253, 141, 60)","rgb(241, 105, 19)","rgb(217, 72, 1)","rgb(166, 54, 3)","rgb(127, 39, 4)"],greens:["rgb(247, 252, 245)","rgb(229, 245, 224)","rgb(199, 233, 192)","rgb(161, 217, 155)","rgb(116, 196, 118)","rgb(65, 171, 93)","rgb(35, 139, 69)","rgb(0, 109, 44)","rgb(0, 68, 27)"],blues:["rgb(247, 251, 255)","rgb(222, 235, 247)","rgb(198, 219, 239)","rgb(158, 202, 225)","rgb(107, 174, 214)","rgb(66, 146, 198)","rgb(33, 113, 181)","rgb(8, 81, 156)","rgb(8, 48, 107)"]},theme:{dark:RTt,light:NTt},plugin:{"bubble-sets":HP,"edge-bundling":iCt,"edge-filter-lens":uCt,"grid-line":mCt,background:DMt,contextmenu:nCt,fisheye:hCt,fullscreen:fCt,history:vCt,hull:$Ct,legend:hTt,minimap:prt,snapline:fTt,timebar:vTt,toolbar:wTt,tooltip:xTt,watermark:r4},transform:{"arrange-draw-order":class LTt extends ug{beforeDraw(e){const{model:t}=this.context,r=o=>{const s=[];return o.forEach((a,l)=>{const u=t.getAncestorsData(l,"combo").map(d=>We(d)).reverse();s.push([l,a,u.length])}),new Map(s.sort(([,,a],[,,l])=>l-a).map(([a,l])=>[a,l]))};return e.add.combos=r(e.add.combos),e.update.combos=r(e.update.combos),e}},"collapse-expand-combo":class FTt extends ug{beforeDraw(e,t){if("visibility"===t.stage||!this.context.model.model.hasTreeStructure(So))return e;const{model:i}=this.context,{add:r,update:o}=e,s=[...e.update.combos.entries(),...e.add.combos.entries()];for(;s.length;){const[a,l]=s.pop();if(ac(l)){const u=i.getDescendantsData(a),d=u.map(We),{internal:f,external:m}=k9(d,y=>i.getRelatedEdgesData(y));u.forEach(y=>{const b=We(y),E=s.findIndex(([M])=>M===b);-1!==E&&s.splice(E,1);const w=i.getElementType(b);Lu(e,"remove",w,y)}),f.forEach(y=>Lu(e,"remove","edge",y)),m.forEach(y=>{var b;const E=We(y);null!==(b=this.context.element)&&void 0!==b&&b.getElement(E)?o.edges.set(E,y):r.edges.set(E,y)})}else{const u=i.getChildrenData(a),d=u.map(We),{edges:f}=k9(d,m=>i.getRelatedEdgesData(m));[...u,...f].forEach(m=>{var y;const b=We(m),E=i.getElementType(b);null!==(y=this.context.element)&&void 0!==y&&y.getElement(b)?Lu(e,"update",E,m):Lu(e,"add",E,m),"combo"===E&&s.push([b,m])})}}return e}},"collapse-expand-node":class BTt extends ug{getElement(e){return this.context.element.getElement(e)}handleExpand(e,t){if(wrt(t,"add","node",e),ac(e))return;const i=We(e);wrt(t,"add","node",e),this.context.model.getRelatedEdgesData(i,"out").forEach(r=>{Lu(t,"add","edge",r)}),this.context.model.getChildrenData(i).forEach(r=>{this.handleExpand(r,t)})}beforeDraw(e){const{graph:t,model:i}=this.context;if(!i.model.hasTreeStructure(Su))return e;const{add:{nodes:r,edges:o},update:{nodes:s}}=e,a=new Map,l=new Map;r.forEach((d,f)=>{ac(d)&&a.set(f,d)}),o.forEach(d=>{if("node"!==t.getElementType(d.source))return;const f=t.getNodeData(d.source);ac(f)&&a.set(d.source,f)}),s.forEach((d,f)=>{const m=this.getElement(f);if(!m)return;const y=m.attributes.collapsed;ac(d)?y||a.set(f,d):y&&l.set(f,d)});const u=new Set;return a.forEach((d,f)=>{i.getDescendantsData(f).forEach(m=>{const y=We(m);u.has(y)||(Lu(e,"remove","node",m),i.getRelatedEdgesData(y).forEach(b=>{Lu(e,"remove","edge",b)}),u.add(y))})}),l.forEach((d,f)=>{i.getAncestorsData(f,Su).some(ac)?Lu(e,"remove","node",d):this.handleExpand(d,e)}),e}},"get-edge-actual-ends":class oAt extends ug{beforeDraw(e){const{add:t,update:i}=e,{model:r}=this.context;return[...t.edges.entries(),...i.edges.entries()].forEach(([,o])=>{Rrt(r,o)}),e}},"map-node-size":uAt,"place-radial-labels":dAt,"process-parallel-edges":fAt,"update-related-edges":class mAt extends ug{beforeDraw(e,t){const{stage:i}=t;if("visibility"===i)return e;const{model:r}=this.context,{update:{nodes:o,edges:s,combos:a}}=e,l=(u,d)=>{r.getRelatedEdgesData(d).forEach(f=>!s.has(We(f))&&s.set(We(f),f))};return o.forEach(l),a.forEach(l),e}}},shape:{circle:pi.Circle,ellipse:pi.Ellipse,group:pi.Group,html:pi.HTML,image:sR,line:pi.Line,path:pi.Path,polygon:pi.Polygon,polyline:pi.Polyline,rect:pi.Rect,text:pi.Text,label:Yp,badge:u3}};!function vAt(){Object.entries(gAt).forEach(([n,e])=>{Object.entries(e).forEach(([t,i])=>{hc(n,t,i)})})}();var Ho={},hg={};Object.defineProperty(hg,"__esModule",{value:!0}),hg.isEdgeData=function yAt(n){return"source"in n&&"target"in n},hg.isVector2=function bAt(n){return 2===n.length},hg.isVector3=function _At(n){return 3===n.length},hg.isPoint=function EAt(n){return n instanceof Float32Array||!(!Array.isArray(n)||2!==n.length&&3!==n.length)&&n.every(e=>"number"==typeof e)};var X_={};Object.defineProperty(X_,"__esModule",{value:!0}),X_.isBetween=function wAt(n,e,t){return n>=e&&n<=t};var iy={};function _H(n=0){if(Array.isArray(n)){const[e=0,t=e,i=e,r=t]=n;return[e,t,i,r]}return[n,n,n,n]}Object.defineProperty(iy,"__esModule",{value:!0}),iy.parsePadding=_H,iy.getVerticalPadding=function xAt(n=0){const e=_H(n);return e[0]+e[2]},iy.getHorizontalPadding=function MAt(n=0){const e=_H(n);return e[1]+e[3]},Object.defineProperty(Ho,"__esModule",{value:!0});var CAt=Ho.getBBoxWidth=Lrt,SAt=Ho.getBBoxHeight=Frt;Ho.getBBoxSize=EH;var DAt=Ho.getNodeBBox=function IAt(n,e){const t=(0,OAt.isPoint)(n)?Brt(n):n.getShape("key").getBounds();return e?jrt(t,e):t};Ho.getPointBBox=Brt,Ho.getExpandedBBox=jrt;var TAt=Ho.getCombinedBBox=function RAt(n){if(0===n.length)return new u4.AABB;if(1===n.length)return n[0];const e=new u4.AABB;e.setMinMax(n[0].min,n[0].max);for(let t=1;t<n.length;t++){const i=n[t];e.setMinMax([Math.min(e.min[0],i.min[0]),Math.min(e.min[1],i.min[1]),Math.min(e.min[2],i.min[2])],[Math.max(e.max[0],i.max[0]),Math.max(e.max[1],i.max[1]),Math.max(e.max[2],i.max[2])])}return e};Ho.isBBoxInside=function PAt(n,e){const[t,i]=n.min,[r,o]=n.max,[s,a]=e.min,[l,u]=e.max;return t>=s&&r<=l&&i>=a&&o<=u},Ho.isPointInBBox=wH,Ho.isPointOnBBoxBoundary=function NAt(n,e,t=!1){const{min:[i,r],max:[o,s]}=e,a=(n[1]===r||n[1]===s)&&(t||(0,Y_.isBetween)(n[0],i,o)),l=(n[0]===i||n[0]===o)&&(t||(0,Y_.isBetween)(n[1],r,s));return a||l},Ho.isPointOutsideBBox=function LAt(n,e){return!wH(n,e)},Ho.isPointBBoxCenter=function FAt(n,e){const{center:t}=e;return n[0]===t[0]&&n[1]===t[1]},Ho.getNearestBoundarySide=Vrt,Ho.getNearestBoundaryPoint=function BAt(n,e){const t=(0,AAt.clone)(n);if(wH(n,e))switch(Vrt(n,e)){case"left":t[0]=e.min[0];break;case"right":t[0]=e.max[0];break;case"top":t[1]=e.min[1];break;case"bottom":t[1]=e.max[1]}else{const[i,r]=n,[o,s]=e.min,[a,l]=e.max;t[0]=(0,Y_.isBetween)(i,o,a)?i:i<o?o:a,t[1]=(0,Y_.isBetween)(r,s,l)?r:r<s?s:l}return t},Ho.getTriangleCenter=function jAt(n,e){const{center:t}=n,[i,r]=EH(n);return["up"===e||"down"===e?t[0]:"right"===e?t[0]-i/6:t[0]+i/6,"left"===e||"right"===e?t[1]:"down"===e?t[1]-r/6:t[1]+r/6]},Ho.getIncircleRadius=function VAt(n,e){let[t,i]=EH(n);return[t,i]="up"===e||"down"===e?[t,i]:[i,t],(Math.pow(i,2)-Math.pow(Math.sqrt(Math.pow(t/2,2)+Math.pow(i,2))-t/2,2))/(2*i)},Ho.getBBoxSegments=function zAt(n){const{min:[e,t],max:[i,r]}=n,o=[e,r],s=[i,r],a=[i,t],l=[e,t];return[[o,s],[s,a],[a,l],[l,o]]};const u4=pi,AAt=Os,OAt=hg,Y_=X_,kAt=iy;function Lrt(n){return n.max[0]-n.min[0]}function Frt(n){return n.max[1]-n.min[1]}function EH(n){return[Lrt(n),Frt(n)]}function Brt(n){const[e,t,i=0]=n,r=new u4.AABB;return r.setMinMax([e,t,i],[e,t,i]),r}function jrt(n,e){const[t,i,r,o]=(0,kAt.parsePadding)(e),[s,a,l]=n.min,[u,d,f]=n.max,m=new u4.AABB;return m.setMinMax([s-o,a-t,l],[u+i,d+r,f]),m}function wH(n,e){return(0,Y_.isBetween)(n[0],e.min[0],e.max[0])&&(0,Y_.isBetween)(n[1],e.min[1],e.max[1])}function Vrt(n,e){const[t,i]=n,[r,o]=e.min,[s,a]=e.max,l=t-r,u=s-t,d=i-o,f=a-i,m=Math.min(l,u,d,f);return m===l?"left":m===u?"right":m===d?"top":m===f?"bottom":"left"}var zrt={},xH={};Object.defineProperty(xH,"__esModule",{value:!0}),xH.isCollapsed=function UAt(n){var e;return!(null===(e=n.style)||void 0===e||!e.collapsed)};var Fo={},Urt={},Hrt={},dS={},Z_={},Q_={};Object.defineProperty(Q_,"__esModule",{value:!0}),Q_.DEFAULT_ELEMENTS_ANIMATION_OPTIONS=Q_.DEFAULT_ANIMATION_OPTIONS=void 0,Q_.DEFAULT_ANIMATION_OPTIONS={duration:500},Q_.DEFAULT_ELEMENTS_ANIMATION_OPTIONS={duration:1e3,easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",iterations:1,fill:"both"};var Grt,q_={};Object.defineProperty(q_,"__esModule",{value:!0}),q_.ChangeType=q_.ChangeEvent=void 0,q_.ChangeEvent={CHANGE:"change"},function(n){n.NodeAdded="NodeAdded",n.NodeUpdated="NodeUpdated",n.NodeRemoved="NodeRemoved",n.EdgeAdded="EdgeAdded",n.EdgeUpdated="EdgeUpdated",n.EdgeRemoved="EdgeRemoved",n.ComboAdded="ComboAdded",n.ComboUpdated="ComboUpdated",n.ComboRemoved="ComboRemoved"}(Grt||(q_.ChangeType=Grt={}));var Wrt,$rt={},d4={};Object.defineProperty(d4,"__esModule",{value:!0}),d4.AnimationType=void 0,function(n){n.DRAW="draw",n.COLLAPSE="collapse",n.EXPAND="expand",n.TRANSFORM="transform"}(Wrt||(d4.AnimationType=Wrt={}));var Krt,h4={};Object.defineProperty(h4,"__esModule",{value:!0}),h4.CanvasEvent=void 0,function(n){n.CLICK="canvas:click",n.DBLCLICK="canvas:dblclick",n.POINTER_OVER="canvas:pointerover",n.POINTER_LEAVE="canvas:pointerleave",n.POINTER_ENTER="canvas:pointerenter",n.POINTER_MOVE="canvas:pointermove",n.POINTER_OUT="canvas:pointerout",n.POINTER_DOWN="canvas:pointerdown",n.POINTER_UP="canvas:pointerup",n.CONTEXT_MENU="canvas:contextmenu",n.DRAG_START="canvas:dragstart",n.DRAG="canvas:drag",n.DRAG_END="canvas:dragend",n.DRAG_ENTER="canvas:dragenter",n.DRAG_OVER="canvas:dragover",n.DRAG_LEAVE="canvas:dragleave",n.DROP="canvas:drop",n.WHEEL="canvas:wheel"}(Krt||(h4.CanvasEvent=Krt={}));var Xrt,f4={};Object.defineProperty(f4,"__esModule",{value:!0}),f4.ComboEvent=void 0,function(n){n.CLICK="combo:click",n.DBLCLICK="combo:dblclick",n.POINTER_OVER="combo:pointerover",n.POINTER_LEAVE="combo:pointerleave",n.POINTER_ENTER="combo:pointerenter",n.POINTER_MOVE="combo:pointermove",n.POINTER_OUT="combo:pointerout",n.POINTER_DOWN="combo:pointerdown",n.POINTER_UP="combo:pointerup",n.CONTEXT_MENU="combo:contextmenu",n.DRAG_START="combo:dragstart",n.DRAG="combo:drag",n.DRAG_END="combo:dragend",n.DRAG_ENTER="combo:dragenter",n.DRAG_OVER="combo:dragover",n.DRAG_LEAVE="combo:dragleave",n.DROP="combo:drop"}(Xrt||(f4.ComboEvent=Xrt={}));var Yrt,p4={};Object.defineProperty(p4,"__esModule",{value:!0}),p4.CommonEvent=void 0,function(n){n.CLICK="click",n.DBLCLICK="dblclick",n.POINTER_OVER="pointerover",n.POINTER_LEAVE="pointerleave",n.POINTER_ENTER="pointerenter",n.POINTER_MOVE="pointermove",n.POINTER_OUT="pointerout",n.POINTER_DOWN="pointerdown",n.POINTER_UP="pointerup",n.CONTEXT_MENU="contextmenu",n.DRAG_START="dragstart",n.DRAG="drag",n.DRAG_END="dragend",n.DRAG_ENTER="dragenter",n.DRAG_OVER="dragover",n.DRAG_LEAVE="dragleave",n.DROP="drop",n.KEY_DOWN="keydown",n.KEY_UP="keyup",n.WHEEL="wheel"}(Yrt||(p4.CommonEvent=Yrt={}));var Zrt,m4={};Object.defineProperty(m4,"__esModule",{value:!0}),m4.ContainerEvent=void 0,function(n){n.KEY_DOWN="keydown",n.KEY_UP="keyup"}(Zrt||(m4.ContainerEvent=Zrt={}));var Qrt,g4={};Object.defineProperty(g4,"__esModule",{value:!0}),g4.EdgeEvent=void 0,function(n){n.CLICK="edge:click",n.DBLCLICK="edge:dblclick",n.POINTER_OVER="edge:pointerover",n.POINTER_LEAVE="edge:pointerleave",n.POINTER_ENTER="edge:pointerenter",n.POINTER_MOVE="edge:pointermove",n.POINTER_OUT="edge:pointerout",n.POINTER_DOWN="edge:pointerdown",n.POINTER_UP="edge:pointerup",n.CONTEXT_MENU="edge:contextmenu",n.DRAG_ENTER="edge:dragenter",n.DRAG_OVER="edge:dragover",n.DRAG_LEAVE="edge:dragleave",n.DROP="edge:drop"}(Qrt||(g4.EdgeEvent=Qrt={}));var qrt,v4={};Object.defineProperty(v4,"__esModule",{value:!0}),v4.GraphEvent=void 0,function(n){n.BEFORE_CANVAS_INIT="beforecanvasinit",n.AFTER_CANVAS_INIT="aftercanvasinit",n.BEFORE_SIZE_CHANGE="beforesizechange",n.AFTER_SIZE_CHANGE="aftersizechange",n.BEFORE_ELEMENT_CREATE="beforeelementcreate",n.AFTER_ELEMENT_CREATE="afterelementcreate",n.BEFORE_ELEMENT_UPDATE="beforeelementupdate",n.AFTER_ELEMENT_UPDATE="afterelementupdate",n.BEFORE_ELEMENT_DESTROY="beforeelementdestroy",n.AFTER_ELEMENT_DESTROY="afterelementdestroy",n.BEFORE_ELEMENT_TRANSLATE="beforeelementtranslate",n.AFTER_ELEMENT_TRANSLATE="afterelementtranslate",n.BEFORE_DRAW="beforedraw",n.AFTER_DRAW="afterdraw",n.BEFORE_RENDER="beforerender",n.AFTER_RENDER="afterrender",n.BEFORE_ANIMATE="beforeanimate",n.AFTER_ANIMATE="afteranimate",n.BEFORE_LAYOUT="beforelayout",n.AFTER_LAYOUT="afterlayout",n.BEFORE_STAGE_LAYOUT="beforestagelayout",n.AFTER_STAGE_LAYOUT="afterstagelayout",n.BEFORE_TRANSFORM="beforetransform",n.AFTER_TRANSFORM="aftertransform",n.BATCH_START="batchstart",n.BATCH_END="batchend",n.BEFORE_DESTROY="beforedestroy",n.AFTER_DESTROY="afterdestroy",n.BEFORE_RENDERER_CHANGE="beforerendererchange",n.AFTER_RENDERER_CHANGE="afterrendererchange"}(qrt||(v4.GraphEvent=qrt={}));var Jrt,y4={};Object.defineProperty(y4,"__esModule",{value:!0}),y4.HistoryEvent=void 0,function(n){n.UNDO="undo",n.REDO="redo",n.CANCEL="cancel",n.ADD="add",n.CLEAR="clear",n.CHANGE="change"}(Jrt||(y4.HistoryEvent=Jrt={}));var tot,b4={};Object.defineProperty(b4,"__esModule",{value:!0}),b4.NodeEvent=void 0,function(n){n.CLICK="node:click",n.DBLCLICK="node:dblclick",n.POINTER_OVER="node:pointerover",n.POINTER_LEAVE="node:pointerleave",n.POINTER_ENTER="node:pointerenter",n.POINTER_MOVE="node:pointermove",n.POINTER_OUT="node:pointerout",n.POINTER_DOWN="node:pointerdown",n.POINTER_UP="node:pointerup",n.CONTEXT_MENU="node:contextmenu",n.DRAG_START="node:dragstart",n.DRAG="node:drag",n.DRAG_END="node:dragend",n.DRAG_ENTER="node:dragenter",n.DRAG_OVER="node:dragover",n.DRAG_LEAVE="node:dragleave",n.DROP="node:drop"}(tot||(b4.NodeEvent=tot={})),function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.NodeEvent=n.HistoryEvent=n.GraphEvent=n.EdgeEvent=n.ContainerEvent=n.CommonEvent=n.ComboEvent=n.CanvasEvent=n.AnimationType=void 0;var e=d4;Object.defineProperty(n,"AnimationType",{enumerable:!0,get:function(){return e.AnimationType}});var t=h4;Object.defineProperty(n,"CanvasEvent",{enumerable:!0,get:function(){return t.CanvasEvent}});var i=f4;Object.defineProperty(n,"ComboEvent",{enumerable:!0,get:function(){return i.ComboEvent}});var r=p4;Object.defineProperty(n,"CommonEvent",{enumerable:!0,get:function(){return r.CommonEvent}});var o=m4;Object.defineProperty(n,"ContainerEvent",{enumerable:!0,get:function(){return o.ContainerEvent}});var s=g4;Object.defineProperty(n,"EdgeEvent",{enumerable:!0,get:function(){return s.EdgeEvent}});var a=v4;Object.defineProperty(n,"GraphEvent",{enumerable:!0,get:function(){return a.GraphEvent}});var l=y4;Object.defineProperty(n,"HistoryEvent",{enumerable:!0,get:function(){return l.HistoryEvent}});var u=b4;Object.defineProperty(n,"NodeEvent",{enumerable:!0,get:function(){return u.NodeEvent}})}($rt);var J_={};Object.defineProperty(J_,"__esModule",{value:!0}),J_.TREE_KEY=J_.COMBO_KEY=void 0,J_.COMBO_KEY="combo",J_.TREE_KEY="tree";var eot,_4={};Object.defineProperty(_4,"__esModule",{value:!0}),_4.ExtensionCategory=void 0,function(n){n.NODE="node",n.EDGE="edge",n.COMBO="combo",n.THEME="theme",n.PALETTE="palette",n.LAYOUT="layout",n.BEHAVIOR="behavior",n.PLUGIN="plugin",n.ANIMATION="animation",n.TRANSFORM="transform",n.SHAPE="shape"}(eot||(_4.ExtensionCategory=eot={})),function(n){var e=ji&&ji.__createBinding||(Object.create?function(i,r,o,s){void 0===s&&(s=o);var a=Object.getOwnPropertyDescriptor(r,o);(!a||("get"in a?!r.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return r[o]}}),Object.defineProperty(i,s,a)}:function(i,r,o,s){void 0===s&&(s=o),i[s]=r[o]}),t=ji&&ji.__exportStar||function(i,r){for(var o in i)"default"!==o&&!Object.prototype.hasOwnProperty.call(r,o)&&e(r,i,o)};Object.defineProperty(n,"__esModule",{value:!0}),t(Q_,n),t(q_,n),t($rt,n),t(J_,n),t(_4,n)}(Z_);var fg={},tE={},E4={};Object.defineProperty(E4,"__esModule",{value:!0}),E4.version=void 0,E4.version="5.0.29",function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.print=void 0,n.format=i;const e=E4,t="G6";function i(r){return`[${t} v${e.version}] ${r}`}n.print={mute:!1,debug:r=>{!n.print.mute&&console.debug(i(r))},info:r=>{!n.print.mute&&console.info(i(r))},warn:r=>{!n.print.mute&&console.warn(i(r))},error:r=>{!n.print.mute&&console.error(i(r))}}}(tE),Object.defineProperty(fg,"__esModule",{value:!0}),fg.idOf=w4,fg.parentIdOf=function GAt(n){return n.combo},fg.idsOf=function $At(n,e){const t={nodes:(n.nodes||[]).map(w4),edges:(n.edges||[]).map(w4),combos:(n.combos||[]).map(w4)};return e?Object.values(t).flat():t};const HAt=tE;function w4(n){if(void 0!==n.id)return n.id;if(void 0!==n.source&&void 0!==n.target)return`${n.source}-${n.target}`;throw new Error((0,HAt.format)("The datum does not have available id."))}var Fu={},MH={};Object.defineProperty(MH,"__esModule",{value:!0}),MH.parseAnchor=function WAt(n){const e="string"==typeof n?n.split(" ").map(t=>parseFloat(t)):n.slice(0,2);return(0,not.isBetween)(e[0],0,1)&&(0,not.isBetween)(e[1],0,1)?e:[.5,.5]};const not=X_;var CH={};Object.defineProperty(CH,"__esModule",{value:!0}),CH.parsePlacement=function KAt(n){if(Array.isArray(n))return(0,iot.isBetween)(n[0],0,1)&&(0,iot.isBetween)(n[1],0,1)?n:[.5,.5];const e=n.split("-");return[e.includes("left")?0:e.includes("right")?1:.5,e.includes("top")?0:e.includes("bottom")?1:.5]};const iot=X_;Object.defineProperty(Fu,"__esModule",{value:!0}),Fu.getPositionByRectPoints=void 0,Fu.positionOf=function ZAt(n){const{x:e=0,y:t=0,z:i=0}=n.style||{};return[+e,+t,+i]},Fu.hasPosition=function QAt(n){const{x:e,y:t,z:i}=n.style||{};return void 0!==e||void 0!==t||void 0!==i},Fu.getXYByRelativePlacement=SH,Fu.getXYByPlacement=function qAt(n,e="center"){return SH(n,(0,YAt.parsePlacement)(e))},Fu.getXYByAnchor=function JAt(n,e){return SH(n,(0,XAt.parseAnchor)(e))};const XAt=MH,YAt=CH;function SH(n,e){const[t,i]=e,{min:r,max:o}=n;return[r[0]+t*(o[0]-r[0]),r[1]+i*(o[1]-r[1])]}Fu.getPositionByRectPoints=n=>{const[e,t]=n;return{left:Math.min(e[0],t[0]),right:Math.max(e[0],t[0]),top:Math.min(e[1],t[1]),bottom:Math.max(e[1],t[1])}};var ha={};Object.defineProperty(ha,"__esModule",{value:!0}),ha.startsWith=x4,ha.addPrefix=DH,ha.removePrefix=TH,ha.subStyleProps=function eOt(n,e){const t=Object.entries(n).reduce((i,[r,o])=>("className"===r||"class"===r||x4(r,e)&&Object.assign(i,{[TH(r,e)]:o}),i),{});if("opacity"in n){const i=DH("opacity",e),r=n.opacity;Object.assign(t,i in n?{opacity:r*n[i]}:{opacity:r})}return t},ha.subObject=function nOt(n,e){const t=e.length;return Object.keys(n).reduce((i,r)=>(r.startsWith(e)&&(i[r.slice(t)]=n[r]),i),{})},ha.omitStyleProps=function iOt(n,e){const t="string"==typeof e?[e]:e,i={};return Object.keys(n).forEach(r=>{t.find(o=>r.startsWith(o))||(i[r]=n[r])}),i},ha.replacePrefix=function rOt(n,e,t){return Object.entries(n).reduce((i,[r,o])=>(x4(r,e)?i[DH(TH(r,e,!1),t)]=o:i[r]=o,i),{})};const rot=Os;function x4(n,e){if(!n.startsWith(e))return!1;const t=n[e.length];return t>="A"&&t<="Z"}function DH(n,e){return`${e}${(0,rot.upperFirst)(n)}`}function TH(n,e,t=!0){if(!e||!x4(n,e))return n;const i=n.slice(e.length);return t?(0,rot.lowerFirst)(i):i}var pg={};Object.defineProperty(pg,"__esModule",{value:!0}),pg.parseSize=function oOt(n=0){if("number"==typeof n)return[n,n,n];const[e,t=e,i=e]=n;return[e,t,i]};var Ts={},sOt=ji&&ji.__rest||function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t};Object.defineProperty(Ts,"__esModule",{value:!0}),Ts.computeElementCallbackStyle=function aOt(n,e){const{datum:t,graph:i}=e;return"function"==typeof n?n.call(i,t):Object.fromEntries(Object.entries(n).map(([r,o])=>"function"==typeof o?[r,o.call(i,t)]:[r,o]))},Ts.mergeOptions=function lOt(n,e){return Object.assign({},n,e,{style:Object.assign({},n?.style||{},e?.style||{})})},Ts.getSubShapeStyle=function cOt(n){return sOt(n,["x","y","z","class","className","transform","transformOrigin","context","zIndex","visibility"])};var ns={};Object.defineProperty(ns,"__esModule",{value:!0}),ns.add=function dOt(n,e){return n.map((t,i)=>t+e[i])},ns.subtract=function hOt(n,e){return n.map((t,i)=>t-e[i])},ns.multiply=sot,ns.divide=function fOt(n,e){return n.map("number"==typeof e?t=>t/e:(t,i)=>t/e[i])},ns.dot=function pOt(n,e){return n.reduce((t,i,r)=>t+i*e[r],0)},ns.cross=function mOt(n,e){const t=OH(n),i=OH(e);return[t[1]*i[2]-t[2]*i[1],t[2]*i[0]-t[0]*i[2],t[0]*i[1]-t[1]*i[0]]},ns.scale=function gOt(n,e){return n.map(t=>t*e)},ns.distance=AH,ns.manhattanDistance=function vOt(n,e){return n.reduce((t,i,r)=>t+Math.abs(i-e[r]),0)},ns.normalize=function yOt(n){const e=n.reduce((t,i)=>t+Math.pow(i,2),0);return n.map(t=>t/Math.sqrt(e))},ns.angle=function bOt(n,e,t=!1){const i=n[0]*e[1]-n[1]*e[0];let r=Math.acos(sot(n,e).reduce((o,s)=>o+s,0)/(AH(n,oot)*AH(e,oot)));return t&&i<0&&(r=2*Math.PI-r),r},ns.exactEquals=function _Ot(n,e){return n.every((t,i)=>t===e[i])},ns.perpendicular=function EOt(n,e=!0){return e?[-n[1],n[0]]:[n[1],-n[0]]},ns.mod=function wOt(n,e){return n.map(t=>t%e)},ns.toVector2=function xOt(n){return[n[0],n[1]]},ns.toVector3=OH,ns.rad=function MOt(n){const[e,t]=n;return e||t?Math.atan2(t,e):0};const uOt=hg,oot=[0,0,0];function sot(n,e){return n.map("number"==typeof e?t=>t*e:(t,i)=>t*e[i])}function AH(n,e){return Math.sqrt(n.reduce((t,i,r)=>t+Math.pow(i-e[r]||0,2),0))}function OH(n){return(0,uOt.isVector2)(n)?[n[0],n[1],0]:n}var hS={};Object.defineProperty(hS,"__esModule",{value:!0}),hS.effect=function COt(n,e,t){kH.has(n)||kH.set(n,{});const i=kH.get(n);return i[e]?!aot(i[e],t)&&(i[e]=t,!0):(i[e]=t,!0)};const kH=new WeakMap,aot=(n,e,t=2)=>{if("object"!=typeof n||"object"!=typeof e)return n===e;const i=Object.keys(n),r=Object.keys(e);if(i.length!==r.length)return!1;for(const o of i){const s=n[o],a=e[o];if(t>1&&"object"==typeof s&&"object"==typeof a){if(!aot(s,a,t-1))return!1}else if(s!==a)return!1}return!0};var lot={},fS={},IH={};Object.defineProperty(IH,"__esModule",{value:!0}),IH.inferIconStyle=function DOt(n,e){const t=(0,SOt.parseSize)(n);let i={};return e.text&&!e.fontSize&&(i={fontSize:.5*Math.min(...t)}),e.src&&(!e.width||!e.height)&&(i={width:.5*t[0],height:.5*t[1]}),i};const SOt=pg;var eE={},ry={},M4={};Object.defineProperty(M4,"__esModule",{value:!0}),M4.EXTENSION_REGISTRY=void 0,M4.EXTENSION_REGISTRY={animation:{},behavior:{},combo:{},edge:{},layout:{},node:{},palette:{},theme:{},plugin:{},transform:{},shape:{}},Object.defineProperty(ry,"__esModule",{value:!0}),ry.getExtension=function TOt(n,e){var t;const i=null===(t=cot.EXTENSION_REGISTRY[n])||void 0===t?void 0:t[e];if(i)return i},ry.getExtensions=function AOt(n){return cot.EXTENSION_REGISTRY[n]};const cot=M4;Object.defineProperty(eE,"__esModule",{value:!0}),eE.parsePalette=function ROt(n){if(n)return"string"==typeof n||"function"==typeof n||Array.isArray(n)?{type:"group",field:e=>e.id,color:n,invert:!1}:n},eE.assignColorByPalette=function POt(n,e){if(!e)return{};const{type:t,color:i,field:r,invert:o}=e,s=l=>{const u="string"==typeof i?(0,uot.getExtension)("palette",i):i;if("function"==typeof u){const d={};return l.forEach(([f,m])=>{d[f]=u(o?1-m:m)}),d}if(Array.isArray(u)){const d=o?[...u].reverse():u,f={};return l.forEach(([m,y])=>{f[m]=d[y%u.length]}),f}return{}},a=(l,u)=>{var d;return"string"==typeof l?null===(d=u.data)||void 0===d?void 0:d[l]:l?.(u)};if("group"===t){const l=(0,OOt.groupBy)(n,m=>{if(!r)return"default";const y=a(r,m);return y?String(y):"default"}),d=s(Object.keys(l).map((m,y)=>[m,y])),f={};return Object.entries(l).forEach(([m,y])=>{y.forEach(b=>{f[(0,kOt.idOf)(b)]=d[m]})}),f}if("value"===t){const[l,u]=n.reduce(([f,m],y)=>{const b=a(r,y);if("number"!=typeof b)throw new Error((0,IOt.format)(`Palette field ${r} is not a number`));return[Math.min(f,b),Math.max(m,b)]},[1/0,-1/0]),d=u-l;return s(n.map(f=>[f.id,(a(r,f)-l)/d]))}},eE.getPaletteColors=function NOt(n){const e="string"==typeof n?(0,uot.getExtension)("palette",n):n;if("function"!=typeof e)return e};const OOt=Os,uot=ry,kOt=fg,IOt=tE;var lo={},pS={};Object.defineProperty(pS,"__esModule",{value:!0}),pS.isLinesParallel=hot,pS.getLinesIntersection=function LOt(n,e,t=!1){if(hot(n,e))return;const[i,r]=n,[o,s]=e,a=((i[0]-o[0])*(o[1]-s[1])-(i[1]-o[1])*(o[0]-s[0]))/((i[0]-r[0])*(o[1]-s[1])-(i[1]-r[1])*(o[0]-s[0])),l=s[0]-o[0]?(i[0]-o[0]+a*(r[0]-i[0]))/(s[0]-o[0]):(i[1]-o[1]+a*(r[1]-i[1]))/(s[1]-o[1]);return t||(0,dot.isBetween)(a,0,1)&&(0,dot.isBetween)(l,0,1)?[i[0]+a*(r[0]-i[0]),i[1]+a*(r[1]-i[1])]:void 0};const dot=X_,RH=ns;function hot(n,e){const[t,i]=n,[r,o]=e,s=(0,RH.subtract)(t,i),a=(0,RH.subtract)(r,o);return(0,RH.cross)(s,a).every(l=>0===l)}Object.defineProperty(lo,"__esModule",{value:!0});var oy=lo.parsePoint=function BOt(n){var e;return[n.x,n.y,null!==(e=n.z)&&void 0!==e?e:0]};lo.toPointObject=function jOt(n){var e;return{x:n[0],y:n[1],z:null!==(e=n[2])&&void 0!==e?e:0}},lo.sortByX=function VOt(n){return n.sort((e,t)=>e[0]-t[0]||e[1]-t[1])},lo.deduplicate=function zOt(n){const e=new Set;return n.filter(t=>{const i=t.join(",");return!e.has(i)&&(e.add(i),!0)})},lo.round=function UOt(n,e=0){return n.map(t=>parseFloat(t.toFixed(e)))},lo.moveTo=function HOt(n,e,t,i=!1){if((0,FOt.isEqual)(n,e))return n;const r=i?(0,xd.subtract)(n,e):(0,xd.subtract)(e,n),o=(0,xd.normalize)(r),s=[o[0]*t,o[1]*t];return(0,xd.add)((0,xd.toVector2)(n),s)},lo.isHorizontal=mot,lo.isVertical=got,lo.isOrthogonal=function GOt(n,e){return mot(n,e)||got(n,e)},lo.isCollinear=function $Ot(n,e,t){return(0,pot.isLinesParallel)([n,e],[e,t])},lo.getSymmetricPoint=PH,lo.getPolygonIntersectPoint=vot,lo.isPointInPolygon=function WOt(n,e,t,i){const r=n[0],o=n[1];let s=!1;void 0===t&&(t=0),void 0===i&&(i=e.length);const a=i-t;for(let l=0,u=a-1;l<a;u=l++){const d=e[l+t][0],f=e[l+t][1],y=e[u+t][1];f>o!=y>o&&r<(e[u+t][0]-d)*(o-f)/(y-f)+d&&(s=!s)}return s},lo.getRectIntersectPoint=function KOt(n,e,t=!1){return vot(n,(0,mS.getXYByPlacement)(e,"center"),[(0,mS.getXYByPlacement)(e,"left-top"),(0,mS.getXYByPlacement)(e,"right-top"),(0,mS.getXYByPlacement)(e,"right-bottom"),(0,mS.getXYByPlacement)(e,"left-bottom")],!1,t).point},lo.getEllipseIntersectPoint=function XOt(n,e,t=!1){const i=e.center,r=t?PH(n,i):n,o=(0,xd.subtract)(r,e.center),s=Math.atan2(o[1],o[0]);if(isNaN(s))return i;const a=(0,fot.getBBoxWidth)(e)/2,l=(0,fot.getBBoxHeight)(e)/2;return[i[0]+a*Math.cos(s),i[1]+l*Math.sin(s)]},lo.findNearestPoints=function YOt(n,e){let t=1/0,i=[n[0],e[0]];return n.forEach(r=>{e.forEach(o=>{const s=(0,xd.distance)(r,o);s<t&&(t=s,i=[r,o])})}),i},lo.findNearestLine=function ZOt(n,e){let t=1/0,i=[[0,0],[0,0]];return e.forEach(r=>{const o=yot(n,r);o<t&&(t=o,i=r)}),i},lo.getDistanceToLine=yot,lo.findNearestPointOnLine=bot,lo.centerOf=_ot,lo.sortByClockwise=function QOt(n,e=!0){const t=_ot(n);return n.sort(([i,r],[o,s])=>{const a=Math.atan2(r-t[1],i-t[0]),l=Math.atan2(s-t[1],o-t[0]);return e?l-a:a-l})},lo.getBoundingPoints=function qOt(n,e){return[n,[n[0],e[1]],e,[e[0],n[1]]]};const FOt=Os,fot=Ho,pot=pS,mS=Fu,xd=ns;function mot(n,e){return n[1]===e[1]}function got(n,e){return n[0]===e[0]}function PH(n,e){return[2*e[0]-n[0],2*e[1]-n[1]]}function vot(n,e,t,i=!0,r=!1){for(let o=0;o<t.length;o++){let s=t[o],a=t[(o+1)%t.length];i&&(s=(0,xd.add)(e,s),a=(0,xd.add)(e,a));const l=r?PH(n,e):n,u=(0,pot.getLinesIntersection)([e,l],[s,a]);if(u)return{point:u,line:[s,a]}}return{point:e,line:void 0}}function yot(n,e){const t=bot(n,e);return(0,xd.distance)(n,t)}function bot(n,e){const[t,i]=e[0],[r,o]=e[1],[s,a]=n,l=r-t,u=o-i;if(0===l&&0===u)return[t,i];let d=((s-t)*l+(a-i)*u)/(l*l+u*u);return d>1?d=1:d<0&&(d=0),[t+d*l,i+d*u]}function _ot(n){const e=n.reduce((t,i)=>(0,xd.add)(t,i),[0,0]);return(0,xd.divide)(e,n.length)}var sy={};Object.defineProperty(sy,"__esModule",{value:!0}),sy.getWordWrapWidthWithBase=NH,sy.getWordWrapWidthByBox=function tkt(n,e,t=1,i=!1){return NH((n.max[0]-n.min[0])*(i?t:1),e)},sy.getWordWrapWidthByEnds=function ekt(n,e,t=1){return NH((0,JOt.distance)(n[0],n[1])*t,e)};const JOt=ns;function NH(n,e){let t=2*n;return"string"==typeof e?t=n*Number(e.replace("%",""))/100:"number"==typeof e&&(t=e),isNaN(t)&&(t=2*n),t}var C4={};Object.defineProperty(C4,"__esModule",{value:!0}),C4.setVisibility=function nkt(n,e,t=!1,i){if(void 0===e)return;const r=(o,s=e)=>{const a=(l=s)=>o.childNodes.forEach(u=>r(u,l));if(i&&!i(o))return a();if(t||o!==n){gS.has(o)||gS.set(o,o.style.visibility);const l="hidden"===s||"hidden"===function ikt(n){return gS.has(n)?gS.get(n):n.style.visibility}(o)?"hidden":"visible";o.style.visibility=l,a(l)}else n.style.visibility=e,gS.delete(n),a(e)};r(n)};const gS=new WeakMap;var vS={},Eot={},yS={},bS={},ay={},LH={};Object.defineProperty(LH,"__esModule",{value:!0}),LH.themeOf=function akt(n){const{theme:e}=n;return e?(0,okt.getExtension)(rkt.ExtensionCategory.THEME,e)||(skt.print.warn(`The theme of ${e} is not registered.`),{}):{}};const rkt=Z_,okt=ry,skt=tE;Object.defineProperty(ay,"__esModule",{value:!0}),ay.createAnimationsProxy=function dkt(n,e){if(Array.isArray(n)&&0===n.length)return null;const t=Array.isArray(n)?n[0]:n,i=Array.isArray(n)?n.slice(1):e||[];return new Proxy(t,{get:(r,o)=>"function"!=typeof r[o]||["onframe","onfinish"].includes(o)?"finished"===o?Promise.all([t.finished,...i.map(s=>s.finished)]):Reflect.get(r,o):(...s)=>{r[o](...s),i.forEach(a=>{var l;return null===(l=a[o])||void 0===l?void 0:l.call(a,...s)})},set:(r,o,s)=>(["onframe","onfinish"].includes(o)||i.forEach(a=>{a[o]=s}),Reflect.set(r,o,s))})},ay.preprocessKeyframes=function hkt(n){const e=n.reduce((i,r)=>(Object.entries(r).forEach(([o,s])=>{void 0===i[o]?i[o]=[s]:i[o].push(s)}),i),{});Object.entries(e).forEach(([i,r])=>{(r.length!==n.length||r.some(o=>(0,nE.isNil)(o))||r.every(o=>!["sourceNode","targetNode","childrenNode"].includes(i)&&(0,nE.isEqual)(o,r[0])))&&delete e[i]});const t=Object.entries(e).reduce((i,[r,o])=>(o.forEach((s,a)=>{i[a]?i[a][r]=s:i[a]={[r]:s}}),i),[]);return 0!==n.length&&0===t.length&&t.push({_:0},{_:0}),t},ay.inferDefaultValue=function fkt(n){switch(n){case"opacity":return 1;case"x":case"y":case"z":case"zIndex":return 0;case"visibility":return"visible";case"collapsed":return!1;case"states":return[];default:return}},ay.getAnimationOptions=function pkt(n,e){const{animation:t}=n;if(!1===t||!1===e)return!1;const i=Object.assign({},FH.DEFAULT_ANIMATION_OPTIONS);return(0,nE.isObject)(t)&&Object.assign(i,t),(0,nE.isObject)(e)&&Object.assign(i,e),i},ay.getElementAnimationOptions=function gkt(n,e,t,i){var r,o;const{animation:s}=n,a=null===(r=n?.[e])||void 0===r?void 0:r.animation;if(!1===a)return[];const l=a?.[t];if(!1===l)return[];if(!1===s||!1===i)return[];const u=null===(o=(0,ukt.themeOf)(n)[e])||void 0===o?void 0:o.animation,d=(m=[])=>function mkt(n){return"string"==typeof n?(0,lkt.getExtension)(FH.ExtensionCategory.ANIMATION,n)||(ckt.print.warn(`The animation of ${n} is not registered.`),[]):n}(m).map(y=>Object.assign(Object.assign(Object.assign(Object.assign({},FH.DEFAULT_ELEMENTS_ANIMATION_OPTIONS),(0,nE.isObject)(s)&&s),y),(0,nE.isObject)(i)&&i));if(l)return d(l);if(!u)return[];const f=u[t];return!1===f?[]:d(f)};const nE=Os,FH=Z_,lkt=ry,ckt=tE,ukt=LH;var wot,BH={};function _S(){if(wot)return bS;wot=1,Object.defineProperty(bS,"__esModule",{value:!0}),bS.BaseShape=void 0;const n=pi,e=Os,t=Z_,i=ay,r=h0(),o=ha,s=tE,a=Ts,l=BH,u=C4,d=ry;function m(y,b){b?.finished.then(()=>{const E=y.activeAnimations.findIndex(w=>w===b);E>-1&&y.activeAnimations.splice(E,1)})}return bS.BaseShape=class f extends n.CustomElement{constructor(b){super(b),this.shapeMap={},this.animateMap={},this.transformPosition(this.attributes),this.render(this.attributes,this),this.setVisibility(),this.bindEvents()}get parsedAttributes(){return this.attributes}upsert(b,E,w,M,x){var D,k,T,O,R,L,F,U;const $=this.shapeMap[b];if(!1===w)return void($&&(null===(D=x?.beforeDestroy)||void 0===D||D.call(x,$),M.removeChild($),delete this.shapeMap[b],null===(k=x?.afterDestroy)||void 0===k||k.call(x,$)));const X="string"==typeof E?(0,d.getExtension)(t.ExtensionCategory.SHAPE,E):E;if(!X)throw new Error((0,s.format)(`Shape ${E} not found`));if(!$||$.destroyed||!($ instanceof X)){$&&(null===(T=x?.beforeDestroy)||void 0===T||T.call(x,$),$?.destroy(),null===(O=x?.afterDestroy)||void 0===O||O.call(x,$)),null===(R=x?.beforeCreate)||void 0===R||R.call(x);const q=new X({className:b,style:w});return M.appendChild(q),this.shapeMap[b]=q,null===(L=x?.afterCreate)||void 0===L||L.call(x,q),q}return null===(F=x?.beforeUpdate)||void 0===F||F.call(x,$),(0,r.updateStyle)($,w),null===(U=x?.afterUpdate)||void 0===U||U.call(x,$),$}transformPosition(b){if("x"in b||"y"in b||"z"in b){const{x:E=0,y:w=0,z:M=0,transform:x}=b,D=(0,l.replaceTranslateInTransform)(+E,+w,+M,x);D&&(this.style.transform=D)}}update(b={}){const E=Object.assign({},this.attributes,b);this.attr(E),this.render(E,this),this.transformPosition(E),this.setVisibility()}bindEvents(){}getGraphicStyle(b){return(0,a.getSubShapeStyle)(b)}get compositeShapes(){return[["badges","badge-"],["ports","port-"]]}animate(b,E){if(0===b.length)return null;const w=[];if(void 0!==b[0].x||void 0!==b[0].y||void 0!==b[0].z){const{x=0,y:D=0,z:k=0}=this.attributes;b.forEach(T=>{const{x:O=x,y:R=D,z:L=k}=T;Object.assign(T,{transform:L?[["translate3d",O,R,L]]:[["translate",O,R]]})})}const M=super.animate(b,E);if(M&&(m(this,M),w.push(M)),Array.isArray(b)&&b.length>0){const x=["transform","transformOrigin","x","y","z","zIndex"];if(Object.keys(b[0]).some(D=>!x.includes(D))){Object.entries(this.shapeMap).forEach(([k,T])=>{const R=this[`get${(0,e.upperFirst)(k)}Style`];if((0,e.isFunction)(R)){const L=b.map(U=>R.call(this,Object.assign(Object.assign({},this.attributes),U))),F=T.animate((0,i.preprocessKeyframes)(L),E);F&&(m(T,F),w.push(F))}});const D=(k,T)=>{if(!(0,e.isEmpty)(k)){const R=this[`get${(0,e.upperFirst)(T)}Style`];if((0,e.isFunction)(R)){const L=b.map(F=>R.call(this,Object.assign(Object.assign({},this.attributes),F)));Object.entries(L[0]).map(([F])=>{const U=L.map(X=>X[F]),$=k[F];if($){const X=$.animate((0,i.preprocessKeyframes)(U),E);X&&(m($,X),w.push(X))}})}}};this.compositeShapes.forEach(([k,T])=>{const O=(0,o.subObject)(this.shapeMap,T);D(O,k)})}}return(0,i.createAnimationsProxy)(w)}getShape(b){return this.shapeMap[b]}setVisibility(){const{visibility:b}=this.attributes;(0,u.setVisibility)(this,b,!0)}destroy(){this.shapeMap={},this.animateMap={},super.destroy()}},bS}Object.defineProperty(BH,"__esModule",{value:!0}),BH.replaceTranslateInTransform=function vkt(n,e,t,i){if(Array.isArray(i)){let o=!1;const s=[];for(let a=0;a<i.length;a++){const l=i[a];if("translate"===l[0]){if(l[1]===n&&l[2]===e)return null;o=!0,s.push(["translate",n,e])}else if("translate3d"===l[0]){if(l[1]===n&&l[2]===e&&l[3]===t)return null;o=!0,s.push(["translate3d",n,e,t])}else s.push(l)}return o||s.splice(0,0,0===t?["translate",n,e]:["translate3d",n,e,t]),s}const r=i?i.replace(/translate(3d)?\([^)]*\)/g,""):"";return 0===t?`translate(${n}, ${e})${r}`:`translate3d(${n}, ${e}, ${t})${r}`};var xot,Mot,ES={};function jH(){if(xot)return ES;xot=1;var n=ji&&ji.__rest||function(a,l){var u={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&l.indexOf(d)<0&&(u[d]=a[d]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols){var f=0;for(d=Object.getOwnPropertySymbols(a);f<d.length;f++)l.indexOf(d[f])<0&&Object.prototype.propertyIsEnumerable.call(a,d[f])&&(u[d[f]]=a[d[f]])}return u};Object.defineProperty(ES,"__esModule",{value:!0}),ES.Label=void 0;const e=pi,t=iy,i=ha,r=Ts,o=_S();class s extends o.BaseShape{constructor(l){super((0,r.mergeOptions)({style:s.defaultStyleProps},l))}isTextStyle(l){return(0,i.startsWith)(l,"label")}isBackgroundStyle(l){return(0,i.startsWith)(l,"background")}getTextStyle(l){const u=this.getGraphicStyle(l),d=n(u,["padding"]);return(0,i.omitStyleProps)(d,"background")}getBackgroundStyle(l){if(!1===l.background)return!1;const u=this.getGraphicStyle(l),{wordWrap:d,wordWrapWidth:f,padding:m}=u,y=(0,i.subStyleProps)(u,"background"),{min:[b,E],center:[w,M],halfExtents:[x,D]}=this.shapeMap.text.getGeometryBounds(),[k,T,O,R]=(0,t.parsePadding)(m),L=2*x+R+T,{width:F,height:U}=y;Object.assign(y,F&&U?{x:w-Number(F)/2,y:M-Number(U)/2}:{x:b-R,y:E-k,width:d?Math.min(L,f+R+T):L,height:2*D+k+O});const{radius:$}=y;if("string"==typeof $&&$.endsWith("%")){const X=Number($.replace("%",""))/100;y.radius=Math.min(+y.width,+y.height)*X}return y}render(l=this.parsedAttributes,u=this){this.upsert("text",e.Text,this.getTextStyle(l),u),this.upsert("background",e.Rect,this.getBackgroundStyle(l),u)}getGeometryBounds(){return(this.getShape("background")||this.getShape("text")).getGeometryBounds()}}return ES.Label=s,s.defaultStyleProps={padding:0,fontSize:12,fontFamily:"system-ui, sans-serif",wordWrap:!0,maxLines:1,wordWrapWidth:128,textOverflow:"...",textBaseline:"middle",backgroundOpacity:.75,backgroundZIndex:-1,backgroundLineWidth:0},ES}var wS={},VH={},ly={};Object.defineProperty(ly,"__esModule",{value:!0}),ly.getClosedSpline=void 0,ly.pointsToPath=function bkt(n,e=!0){const t=[];return n.forEach((i,r)=>{t.push([0===r?"M":"L",...i])}),e&&t.push(["Z"]),t},ly.parsePath=Sot,ly.pathToPoints=function _kt(n){const e=[];return("string"==typeof n?Sot(n):n).forEach(t=>{const i=t[0];if("Z"!==i)if("A"!==i)for(let r=1;r<t.length;r+=2)e.push([t[r],t[r+1],0]);else{const r=t.length;e.push([t[r-2],t[r-1],0])}else e.push(e[0])}),e};const Cot={M:["x","y"],m:["dx","dy"],H:["x"],h:["dx"],V:["y"],v:["dy"],L:["x","y"],l:["dx","dy"],Z:[],z:[],C:["x1","y1","x2","y2","x","y"],c:["dx1","dy1","dx2","dy2","dx","dy"],S:["x2","y2","x","y"],s:["dx2","dy2","dx","dy"],Q:["x1","y1","x","y"],q:["dx1","dy1","dx","dy"],T:["x","y"],t:["dx","dy"],A:["rx","ry","rotation","large-arc","sweep","x","y"],a:["rx","ry","rotation","large-arc","sweep","dx","dy"]};function Sot(n){const e=n.replace(/[\n\r]/g,"").replace(/-/g," -").replace(/(\d*\.)(\d+)(?=\.)/g,"$1$2 ").trim().split(/\s*,|\s+/),t=[];let i="",r={};for(;e.length>0;){let o=e.shift();o in Cot?i=o:e.unshift(o),r={type:i},Cot[i].forEach(l=>{o=e.shift(),r[l]=o}),"M"===i?i="L":"m"===i&&(i="l");const[s,...a]=Object.values(r);t.push([s,...a.map(Number)])}return t}ly.getClosedSpline=n=>{if(n.length<2)return[["M",0,0],["L",0,0]];const e=n[0],t=n[1],i=n[n.length-1];n.unshift(n[n.length-2],i),n.push(e,t);const o=[["M",i[0],i[1]]];for(let s=1;s<n.length-2;s+=1){const[a,l]=n[s-1],[u,d]=n[s],[f,m]=n[s+1],[y,b]=s!==n.length-2?n[s+2]:[f,m];o.push(["C",u+(f-a)/6,d+(m-l)/6,f-(y-u)/6,m-(b-d)/6,f,m])}return o},Object.defineProperty(VH,"__esModule",{value:!0}),VH.getPolygonTextStyleByPlacement=function Ckt(n,e,t,i,r,o,s){const[a,l]=(0,Mkt.getXYByPlacement)(n,e),u={textAlign:"left"===e?"right":"right"===e?"left":"center",textBaseline:"top"===e?"bottom":"bottom"===e?"top":"middle",transform:[["translate",a+t,l+i]]};if("center"===e||!r)return u;const d=(0,xkt.pathToPoints)(o);if(!d||d.length<=3)return u;const f=d.map((b,E)=>{const w=b,M=d[(E+1)%d.length];return(0,wkt.isEqual)(w,M)?null:[w,M]}).filter(Boolean),m=(0,Dot.findNearestLine)([a,l],f),y=(0,Dot.findNearestPointOnLine)([a,l],m);if(y&&m&&(u.transform=[["translate",y[0]+t,y[1]+i]],s)){const b=Math.atan((m[0][1]-m[1][1])/(m[0][0]-m[1][0]));u.transform.push(["rotate",b/Math.PI*180]),u.textAlign="center",("right"===e||"left"===e)&&(u.textBaseline=b>0?"right"===e?"bottom":"top":"right"===e?"top":"bottom")}return u};const wkt=Os,xkt=ly,Dot=lo,Mkt=Fu;var Tot,xS={},Md={},S4={};Object.defineProperty(S4,"__esModule",{value:!0}),S4.getDescendantShapes=function Dkt(n){const e=[],t=i=>{null!=i&&i.children.length&&i.children.forEach(r=>{e.push(r),t(r)})};return t(n),e},S4.getAncestorShapes=function Tkt(n){const e=[];let t=n.parentNode;for(;t;)e.push(t),t=t.parentNode;return e},Object.defineProperty(Md,"__esModule",{value:!0}),Md.dispatchPositionChange=Md.connectImage=Md.Image=void 0;const D4=pi,Akt=S4;Md.Image=class extends D4.Image{constructor(n){super(n),this.onMounted=()=>{this.handleRadius()},this.onAttrModified=()=>{this.handleRadius()},iE=this,this.isMutationObserved=!0,this.addEventListener(D4.ElementEvent.MOUNTED,this.onMounted),this.addEventListener(D4.ElementEvent.ATTR_MODIFIED,this.onAttrModified)}handleRadius(){const{radius:n,clipPath:e,width:t=0,height:i=0}=this.attributes;if(n&&t&&i){const[r,o]=this.getBounds().min,s={x:r,y:o,radius:n,width:t,height:i};if(e)Object.assign(this.parsedStyle.clipPath.style,s);else{const a=new D4.Rect({style:s});this.style.clipPath=a}}else e&&(this.style.clipPath=null)}};const zH=new WeakMap;let iE=null;var Aot,Oot,kot,Rot;function MS(){return Oot||(Oot=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Label=n.Image=n.Icon=n.Contour=n.BaseShape=n.Badge=void 0;var e=function ykt(){if(Mot)return yS;Mot=1,Object.defineProperty(yS,"__esModule",{value:!0}),yS.Badge=void 0;const n=Ts,e=_S(),t=jH();class i extends e.BaseShape{constructor(o){super((0,n.mergeOptions)({style:i.defaultStyleProps},o))}getBadgeStyle(o){return this.getGraphicStyle(o)}render(o=this.parsedAttributes,s=this){this.upsert("label",t.Label,this.getBadgeStyle(o),s)}getGeometryBounds(){const o=this.getShape("label");return(o.getShape("background")||o.getShape("text")).getGeometryBounds()}}return yS.Badge=i,i.defaultStyleProps={padding:[2,4,2,4],fontSize:10,wordWrap:!1,backgroundRadius:"50%",backgroundOpacity:1},yS}();Object.defineProperty(n,"Badge",{enumerable:!0,get:function(){return e.Badge}});var t=_S();Object.defineProperty(n,"BaseShape",{enumerable:!0,get:function(){return t.BaseShape}});var i=function Skt(){if(Tot)return wS;Tot=1;var n=ji&&ji.__rest||function(u,d){var f={};for(var m in u)Object.prototype.hasOwnProperty.call(u,m)&&d.indexOf(m)<0&&(f[m]=u[m]);if(null!=u&&"function"==typeof Object.getOwnPropertySymbols){var y=0;for(m=Object.getOwnPropertySymbols(u);y<m.length;y++)d.indexOf(m[y])<0&&Object.prototype.propertyIsEnumerable.call(u,m[y])&&(f[m[y]]=u[m[y]])}return f};Object.defineProperty(wS,"__esModule",{value:!0}),wS.Contour=void 0;const e=pi,t=VH,i=ha,r=Ts,o=sy,s=_S(),a=jH();class l extends s.BaseShape{constructor(d){super((0,r.mergeOptions)({style:l.defaultStyleProps},d))}getLabelStyle(d){if(!d.label||!d.d||0===d.d.length)return!1;const f=(0,i.subStyleProps)(this.getGraphicStyle(d),"label"),{maxWidth:m,offsetX:y,offsetY:b,autoRotate:E,placement:w,closeToPath:M}=f,x=n(f,["maxWidth","offsetX","offsetY","autoRotate","placement","closeToPath"]),D=this.shapeMap.key,k=D?.getRenderBounds();return Object.assign((0,t.getPolygonTextStyleByPlacement)(k,w,y,b,M,d.d,E),{wordWrapWidth:(0,o.getWordWrapWidthByBox)(k,m)},x)}getKeyStyle(d){return this.getGraphicStyle(d)}render(d,f){this.upsert("key",e.Path,this.getKeyStyle(d),f),this.upsert("label",a.Label,this.getLabelStyle(d),f)}}return wS.Contour=l,l.defaultStyleProps={label:!0,labelPlacement:"bottom",labelCloseToPath:!0,labelAutoRotate:!0,labelOffsetX:0,labelOffsetY:0},wS}();Object.defineProperty(n,"Contour",{enumerable:!0,get:function(){return i.Contour}});var r=function Rkt(){if(Aot)return xS;Aot=1,Object.defineProperty(xS,"__esModule",{value:!0}),xS.Icon=void 0;const n=pi,e=_S(),t=Md;return xS.Icon=class i extends e.BaseShape{constructor(o){super(o)}isImage(){const{src:o}=this.attributes;return!!o}getIconStyle(o=this.attributes){const{width:s=0,height:a=0}=o,l=this.getGraphicStyle(o);return this.isImage()?Object.assign({x:-s/2,y:-a/2},l):Object.assign({textBaseline:"middle",textAlign:"center"},l)}render(o=this.attributes,s=this){this.upsert("icon",this.isImage()?t.Image:n.Text,this.getIconStyle(o),s)}},xS}();Object.defineProperty(n,"Icon",{enumerable:!0,get:function(){return r.Icon}});var o=Md;Object.defineProperty(n,"Image",{enumerable:!0,get:function(){return o.Image}});var s=jH();Object.defineProperty(n,"Label",{enumerable:!0,get:function(){return s.Label}})}(Eot)),Eot}function Iot(){if(kot)return vS;kot=1,Object.defineProperty(vS,"__esModule",{value:!0}),vS.BaseElement=void 0;const n=MS();return vS.BaseElement=class e extends n.BaseShape{get context(){return this.attributes.context}get parsedAttributes(){return this.attributes}onframe(){}animate(i,r){const o=super.animate(i,r);return o&&(o.onframe=()=>this.onframe(),o.finished.then(()=>this.onframe())),o}},vS}function cy(){if(Rot)return fS;Rot=1;var n=ji&&ji.__rest||function(M,x){var D={};for(var k in M)Object.prototype.hasOwnProperty.call(M,k)&&x.indexOf(k)<0&&(D[k]=M[k]);if(null!=M&&"function"==typeof Object.getOwnPropertySymbols){var T=0;for(k=Object.getOwnPropertySymbols(M);T<k.length;T++)x.indexOf(k[T])<0&&Object.prototype.propertyIsEnumerable.call(M,k[T])&&(D[k[T]]=M[k[T]])}return D};Object.defineProperty(fS,"__esModule",{value:!0}),fS.BaseNode=void 0;const e=pi,t=h0(),i=IH,r=eE,o=lo,s=ha,a=pg,l=Ts,u=sy,d=C4,f=Iot(),m=hS,y=MS(),b=Md;class E extends f.BaseElement{constructor(x){super((0,l.mergeOptions)({style:E.defaultStyleProps},x)),this.type="node"}getSize(x=this.attributes){const{size:D}=x;return(0,a.parseSize)(D)}getKeyStyle(x){const D=this.getGraphicStyle(x);return Object.assign((0,s.omitStyleProps)(D,["label","halo","icon","badge","port"]))}getLabelStyle(x){if(!1===x.label||!x.labelText)return!1;const D=(0,s.subStyleProps)(this.getGraphicStyle(x),"label"),{placement:k,maxWidth:T,offsetX:O,offsetY:R}=D,L=n(D,["placement","maxWidth","offsetX","offsetY"]),F=this.getShape("key").getLocalBounds();return Object.assign((0,t.getTextStyleByPlacement)(F,k,O,R),{wordWrapWidth:(0,u.getWordWrapWidthByBox)(F,T)},L)}getHaloStyle(x){if(!1===x.halo)return!1;const D=this.getKeyStyle(x),{fill:k}=D,T=n(D,["fill"]),O=(0,s.subStyleProps)(this.getGraphicStyle(x),"halo");return Object.assign(Object.assign(Object.assign({},T),{stroke:k}),O)}getIconStyle(x){if(!1===x.icon||!x.iconText&&!x.iconSrc)return!1;const D=(0,s.subStyleProps)(this.getGraphicStyle(x),"icon");return Object.assign((0,i.inferIconStyle)(x.size,D),D)}getBadgesStyle(x){var D;const k=(0,s.subObject)(this.shapeMap,"badge-"),T={};if(Object.keys(k).forEach(X=>{T[X]=!1}),!1===x.badge||null===(D=x.badges)||void 0===D||!D.length)return T;const{badges:O=[],badgePalette:R,opacity:L=1}=x,F=n(x,["badges","badgePalette","opacity"]),U=(0,r.getPaletteColors)(R),$=(0,s.subStyleProps)(this.getGraphicStyle(F),"badge");return O.forEach((X,q)=>{T[q]=Object.assign(Object.assign({backgroundFill:U?U[q%U?.length]:void 0,opacity:L},$),this.getBadgeStyle(X))}),T}getBadgeStyle(x){const D=this.getShape("key"),{placement:k="top",offsetX:T,offsetY:O}=x,R=n(x,["placement","offsetX","offsetY"]),L=(0,t.getTextStyleByPlacement)(D.getLocalBounds(),k,T,O,!0);return Object.assign(Object.assign({},L),R)}getPortsStyle(x){var D;const k=this.getPorts(),T={};if(Object.keys(k).forEach(L=>{T[L]=!1}),!1===x.port||null===(D=x.ports)||void 0===D||!D.length)return T;const O=(0,s.subStyleProps)(this.getGraphicStyle(x),"port"),{ports:R=[]}=x;return R.forEach((L,F)=>{const U=L.key||F,$=Object.assign(Object.assign({},O),L);if((0,t.isSimplePort)($))T[U]=!1;else{const[X,q]=this.getPortXY(x,L);T[U]=Object.assign({transform:[["translate",X,q]]},$)}}),T}getPortXY(x,D){const{placement:k="left"}=D,T=this.getShape("key");return(0,t.getPortXYByPlacement)(function w(M,x){if(!M)return x.getLocalBounds();const D=M.canvas.getLayer(),k=x.cloneNode();(0,d.setVisibility)(k,"hidden"),D.appendChild(k);const T=k.getLocalBounds();return k.destroy(),T}(this.context,T),k)}getPorts(){return(0,s.subObject)(this.shapeMap,"port-")}getCenter(){return this.getShape("key").getBounds().center}getIntersectPoint(x,D=!1){const k=this.getShape("key").getBounds();return(0,o.getRectIntersectPoint)(x,k,D)}drawHaloShape(x,D){const k=this.getHaloStyle(x);if(!(0,m.effect)(this,"halo",k))return;const T=this.getShape("key");this.upsert("halo",T.constructor,k,D)}drawIconShape(x,D){const k=this.getIconStyle(x);(0,m.effect)(this,"icon",k)&&(this.upsert("icon",y.Icon,k,D),(0,b.connectImage)(this))}drawBadgeShapes(x,D){const k=this.getBadgesStyle(x);Object.keys(k).forEach(T=>{const O=k[T];(0,m.effect)(this,`badge-${T}`,O)&&this.upsert(`badge-${T}`,y.Badge,O,D)})}drawPortShapes(x,D){const k=this.getPortsStyle(x);Object.keys(k).forEach(T=>{const O=k[T],R=`port-${T}`;(0,m.effect)(this,R,O)&&this.upsert(R,e.Circle,O,D)})}drawLabelShape(x,D){const k=this.getLabelStyle(x);(0,m.effect)(this,"label",k)&&this.upsert("label",y.Label,k,D)}_drawKeyShape(x,D){return this.drawKeyShape(x,D)}render(x=this.parsedAttributes,D=this){this._drawKeyShape(x,D),this.getShape("key")&&(this.drawHaloShape(x,D),this.drawIconShape(x,D),this.drawBadgeShapes(x,D),this.drawLabelShape(x,D),this.drawPortShapes(x,D))}update(x){super.update(x),x&&("x"in x||"y"in x||"z"in x)&&(0,b.dispatchPositionChange)(this)}onframe(){this.drawBadgeShapes(this.parsedAttributes,this),this.drawLabelShape(this.parsedAttributes,this)}}return fS.BaseNode=E,E.defaultStyleProps={x:0,y:0,size:32,droppable:!0,draggable:!0,port:!0,ports:[],portZIndex:2,portLinkToCenter:!1,badge:!0,badges:[],badgeZIndex:3,halo:!1,haloDroppable:!1,haloLineDash:0,haloLineWidth:12,haloStrokeOpacity:.25,haloPointerEvents:"none",haloZIndex:-1,icon:!0,iconZIndex:1,label:!0,labelIsBillboard:!0,labelMaxWidth:"200%",labelPlacement:"bottom",labelWordWrap:!1,labelZIndex:0},fS}Md.connectImage=n=>{if(iE&&(0,Akt.getAncestorShapes)(iE).includes(n)){const e=zH.get(n);e?e.includes(iE)||e.push(iE):zH.set(n,[iE])}},Md.dispatchPositionChange=n=>{const e=zH.get(n);e&&e.forEach(t=>t.handleRadius())};var CS={},Cd={};Object.defineProperty(Cd,"__esModule",{value:!0});var Pot,UH=Cd.ELEMENT_TYPES=Cd.ICON_SIZE_RATIO=void 0;function Not(){if(Pot)return CS;Pot=1,Object.defineProperty(CS,"__esModule",{value:!0}),CS.Circle=void 0;const n=pi,e=Cd,t=lo,i=Ts,r=cy();class o extends r.BaseNode{constructor(a){super((0,i.mergeOptions)({style:o.defaultStyleProps},a))}drawKeyShape(a,l){return this.upsert("key",n.Circle,this.getKeyStyle(a),l)}getKeyStyle(a){const l=super.getKeyStyle(a);return Object.assign(Object.assign({},l),{r:Math.min(...this.getSize(a))/2})}getIconStyle(a){const l=super.getIconStyle(a),{r:u}=this.getShape("key").attributes,d=2*u*e.ICON_SIZE_RATIO;return!!l&&Object.assign({width:d,height:d},l)}getIntersectPoint(a,l=!1){const u=this.getShape("key").getBounds();return(0,t.getEllipseIntersectPoint)(a,u,l)}}return CS.Circle=o,o.defaultStyleProps={size:32},CS}Cd.ICON_SIZE_RATIO=.8,UH=Cd.ELEMENT_TYPES=["node","edge","combo"];var Lot,Fot,SS={},DS={};function T4(){if(Lot)return DS;Lot=1,Object.defineProperty(DS,"__esModule",{value:!0}),DS.Polygon=void 0;const n=pi,e=lo,t=cy();return DS.Polygon=class i extends t.BaseNode{constructor(o){super(o)}get parsedAttributes(){return this.attributes}drawKeyShape(o,s){return this.upsert("key",n.Polygon,this.getKeyStyle(o),s)}getKeyStyle(o){const s=super.getKeyStyle(o);return Object.assign(Object.assign({},s),{points:this.getPoints(o)})}getIntersectPoint(o,s=!1){var a,l;const{points:u}=this.getShape("key").attributes,d=[+((null===(a=this.attributes)||void 0===a?void 0:a.x)||0),+((null===(l=this.attributes)||void 0===l?void 0:l.y)||0)];return(0,e.getPolygonIntersectPoint)(o,d,u,!0,s).point}},DS}var Bot,TS={};var jot,Vot,AS={},OS={},kS={};const Bkt=Po(spt);var zot,Uot,Hot,Got,$ot,Wot,Xot,IS={},RS={},PS={},NS={};function Kot(){return Wot||(Wot=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Triangle=n.Star=n.Rect=n.Image=n.HTML=n.Hexagon=n.Ellipse=n.Donut=n.Diamond=n.Circle=n.BaseNode=void 0;var e=cy();Object.defineProperty(n,"BaseNode",{enumerable:!0,get:function(){return e.BaseNode}});var t=Not();Object.defineProperty(n,"Circle",{enumerable:!0,get:function(){return t.Circle}});var i=function Pkt(){if(Fot)return SS;Fot=1,Object.defineProperty(SS,"__esModule",{value:!0}),SS.Diamond=void 0;const n=h0(),e=T4();return SS.Diamond=class t extends e.Polygon{constructor(r){super(r)}getPoints(r){const[o,s]=this.getSize(r);return(0,n.getDiamondPoints)(o,s)}},SS}();Object.defineProperty(n,"Diamond",{enumerable:!0,get:function(){return i.Diamond}});var r=function Nkt(){if(Bot)return TS;Bot=1;var n=ji&&ji.__rest||function(y,b){var E={};for(var w in y)Object.prototype.hasOwnProperty.call(y,w)&&b.indexOf(w)<0&&(E[w]=y[w]);if(null!=y&&"function"==typeof Object.getOwnPropertySymbols){var M=0;for(w=Object.getOwnPropertySymbols(y);M<w.length;M++)b.indexOf(w[M])<0&&Object.prototype.propertyIsEnumerable.call(y,w[M])&&(E[w[M]]=y[w[M]])}return E};Object.defineProperty(TS,"__esModule",{value:!0}),TS.Donut=void 0;const e=pi,t=Os,i=eE,r=ha,o=pg,s=Ts,a=Not();class l extends a.Circle{constructor(b){super((0,s.mergeOptions)({style:l.defaultStyleProps},b))}parseOuterR(){const{size:b}=this.parsedAttributes;return Math.min(...(0,o.parseSize)(b))/2}parseInnerR(){const{innerR:b}=this.parsedAttributes;return(0,t.isString)(b)?parseInt(b)/100*this.parseOuterR():b}drawDonutShape(b,E){const{donuts:w}=b;if(null==w||!w.length)return;const M=w.map(L=>(0,t.isNumber)(L)?{value:L}:L),x=(0,r.subStyleProps)(this.getGraphicStyle(b),"donut"),D=(0,i.getPaletteColors)(b.donutPalette);if(!D)return;const k=M.reduce((L,F)=>{var U;return L+(null!==(U=F.value)&&void 0!==U?U:0)},0),T=this.parseOuterR(),O=this.parseInnerR();let R=0;M.forEach((L,F)=>{const{value:U=0,color:$=D[F%D.length]}=L,X=n(L,["value","color"]),q=360*(0===k?1/M.length:U/k);this.upsert(`round${F}`,e.Path,Object.assign(Object.assign(Object.assign({},x),{d:m(T,O,R,R+q),fill:$}),X),E),R+=q})}render(b,E=this){super.render(b,E),this.drawDonutShape(b,E)}}TS.Donut=l,l.defaultStyleProps={innerR:"50%",donuts:[],donutPalette:"tableau"};const u=(y,b,E,w)=>[y+Math.sin(w)*E,b-Math.cos(w)*E],m=(y=0,b=0,E,w)=>{const[M,x]=[0,0];return Math.abs(E-w)%360<1e-6?((y,b,E,w)=>w<=0||E<=w?[["M",y-E,b],["A",E,E,0,1,1,y+E,b],["A",E,E,0,1,1,y-E,b],["Z"]]:[["M",y-E,b],["A",E,E,0,1,1,y+E,b],["A",E,E,0,1,1,y-E,b],["Z"],["M",y+w,b],["A",w,w,0,1,0,y-w,b],["A",w,w,0,1,0,y+w,b],["Z"]])(M,x,y,b):((y,b,E,w,M,x)=>{const[D,k]=[M/360*2*Math.PI,x/360*2*Math.PI],T=[u(y,b,w,D),u(y,b,E,D),u(y,b,E,k),u(y,b,w,k)],O=k-D>Math.PI?1:0;return[["M",T[0][0],T[0][1]],["L",T[1][0],T[1][1]],["A",E,E,0,O,1,T[2][0],T[2][1]],["L",T[3][0],T[3][1]],["A",w,w,0,O,0,T[0][0],T[0][1]],["Z"]]})(M,x,y,b,E,w)};return TS}();Object.defineProperty(n,"Donut",{enumerable:!0,get:function(){return r.Donut}});var o=function Lkt(){if(jot)return AS;jot=1,Object.defineProperty(AS,"__esModule",{value:!0}),AS.Ellipse=void 0;const n=pi,e=Cd,t=lo,i=Ts,r=cy();class o extends r.BaseNode{constructor(a){super((0,i.mergeOptions)({style:o.defaultStyleProps},a))}drawKeyShape(a,l){return this.upsert("key",n.Ellipse,this.getKeyStyle(a),l)}getKeyStyle(a){const l=super.getKeyStyle(a),[u,d]=this.getSize(a);return Object.assign(Object.assign({},l),{rx:u/2,ry:d/2})}getIconStyle(a){const l=super.getIconStyle(a),{rx:u,ry:d}=this.getShape("key").attributes,f=2*Math.min(+u,+d)*e.ICON_SIZE_RATIO;return!!l&&Object.assign({width:f,height:f},l)}getIntersectPoint(a,l=!1){const u=this.getShape("key").getBounds();return(0,t.getEllipseIntersectPoint)(a,u,l)}}return AS.Ellipse=o,o.defaultStyleProps={size:[45,35]},AS}();Object.defineProperty(n,"Ellipse",{enumerable:!0,get:function(){return o.Ellipse}});var s=function Fkt(){if(Vot)return OS;Vot=1,Object.defineProperty(OS,"__esModule",{value:!0}),OS.Hexagon=void 0;const n=Cd,e=h0(),t=T4();return OS.Hexagon=class i extends t.Polygon{constructor(o){super(o)}getOuterR(o){return o.outerR||Math.min(...this.getSize(o))/2}getPoints(o){return(0,e.getHexagonPoints)(this.getOuterR(o))}getIconStyle(o){const s=super.getIconStyle(o),a=this.getOuterR(o)*n.ICON_SIZE_RATIO;return!!s&&Object.assign({width:a,height:a},s)}},OS}();Object.defineProperty(n,"Hexagon",{enumerable:!0,get:function(){return s.Hexagon}});var a=function jkt(){if(zot)return kS;zot=1;var n=ji&&ji.__rest||function(a,l){var u={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&l.indexOf(d)<0&&(u[d]=a[d]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols){var f=0;for(d=Object.getOwnPropertySymbols(a);f<d.length;f++)l.indexOf(d[f])<0&&Object.prototype.propertyIsEnumerable.call(a,d[f])&&(u[d[f]]=a[d[f]])}return u};Object.defineProperty(kS,"__esModule",{value:!0}),kS.HTML=void 0;const e=pi,t=Bkt,i=Os,r=Z_,o=cy();class s extends o.BaseNode{constructor(l){super(Object.assign(Object.assign({},l),{style:Object.assign({},s.defaultStyleProps,l.style)})),this.rootPointerEvent=new e.FederatedPointerEvent(null),this.forwardEvents=u=>{const d=this.context.canvas,f=d.context.renderingContext.root.ownerDocument.defaultView;this.normalizeToPointerEvent(u,f).forEach(m=>{const y=this.bootstrapEvent(this.rootPointerEvent,m,f,u);(0,i.set)(d.context.eventService,"mappingTable.pointerupoutside",[]),d.context.eventService.mapEvent(y)})}}get eventService(){return this.context.canvas.context.eventService}get events(){return[r.CommonEvent.CLICK,r.CommonEvent.POINTER_DOWN,r.CommonEvent.POINTER_MOVE,r.CommonEvent.POINTER_UP,r.CommonEvent.POINTER_OVER,r.CommonEvent.POINTER_LEAVE]}getDomElement(){return this.getShape("key").getDomElement()}getKeyStyle(l){const u=(0,i.pick)(l,["dx","dy","innerHTML","pointerEvents","cursor"]),{dx:d=0,dy:f=0}=u,m=n(u,["dx","dy"]),[y,b]=this.getSize(l);return Object.assign(Object.assign({x:d,y:f},m),{width:y,height:b})}drawKeyShape(l,u){const d=this.getKeyStyle(l),{x:f,y:m,width:y=0,height:b=0}=d,E=this.upsert("key-container",e.Rect,{x:f,y:m,width:y,height:b,opacity:0},u);return this.upsert("key",e.HTML,d,E)}connectedCallback(){if(!(this.context.canvas.getRenderer("main")instanceof t.Renderer))return;const l=this.getDomElement();this.events.forEach(u=>{l.addEventListener(u,this.forwardEvents)})}attributeChangedCallback(l,u,d){"zIndex"===l&&u!==d&&(this.getDomElement().style.zIndex=d)}destroy(){const l=this.getDomElement();this.events.forEach(u=>{l.removeEventListener(u,this.forwardEvents)}),super.destroy()}normalizeToPointerEvent(l,u){const d=[];if(u.isTouchEvent(l))for(let f=0;f<l.changedTouches.length;f++){const m=l.changedTouches[f];(0,i.isUndefined)(m.button)&&(m.button=0),(0,i.isUndefined)(m.buttons)&&(m.buttons=1),(0,i.isUndefined)(m.isPrimary)&&(m.isPrimary=1===l.touches.length&&"touchstart"===l.type),(0,i.isUndefined)(m.width)&&(m.width=m.radiusX||1),(0,i.isUndefined)(m.height)&&(m.height=m.radiusY||1),(0,i.isUndefined)(m.tiltX)&&(m.tiltX=0),(0,i.isUndefined)(m.tiltY)&&(m.tiltY=0),(0,i.isUndefined)(m.pointerType)&&(m.pointerType="touch"),(0,i.isUndefined)(m.pointerId)&&(m.pointerId=m.identifier||0),(0,i.isUndefined)(m.pressure)&&(m.pressure=m.force||.5),(0,i.isUndefined)(m.twist)&&(m.twist=0),(0,i.isUndefined)(m.tangentialPressure)&&(m.tangentialPressure=0),m.isNormalized=!0,m.type=l.type,d.push(m)}else if(u.isMouseEvent(l)){const f=l;(0,i.isUndefined)(f.isPrimary)&&(f.isPrimary=!0),(0,i.isUndefined)(f.width)&&(f.width=1),(0,i.isUndefined)(f.height)&&(f.height=1),(0,i.isUndefined)(f.tiltX)&&(f.tiltX=0),(0,i.isUndefined)(f.tiltY)&&(f.tiltY=0),(0,i.isUndefined)(f.pointerType)&&(f.pointerType="mouse"),(0,i.isUndefined)(f.pointerId)&&(f.pointerId=1),(0,i.isUndefined)(f.pressure)&&(f.pressure=.5),(0,i.isUndefined)(f.twist)&&(f.twist=0),(0,i.isUndefined)(f.tangentialPressure)&&(f.tangentialPressure=0),f.isNormalized=!0,d.push(f)}else d.push(l);return d}transferMouseData(l,u){l.isTrusted=u.isTrusted,l.srcElement=u.srcElement,l.timeStamp=performance.now(),l.type=u.type,l.altKey=u.altKey,l.metaKey=u.metaKey,l.shiftKey=u.shiftKey,l.ctrlKey=u.ctrlKey,l.button=u.button,l.buttons=u.buttons,l.client.x=u.clientX,l.client.y=u.clientY,l.movement.x=u.movementX,l.movement.y=u.movementY,l.page.x=u.pageX,l.page.y=u.pageY,l.screen.x=u.screenX,l.screen.y=u.screenY,l.relatedTarget=null}bootstrapEvent(l,u,d,f){l.view=d,l.originalEvent=null,l.nativeEvent=f,l.pointerId=u.pointerId,l.width=u.width,l.height=u.height,l.isPrimary=u.isPrimary,l.pointerType=u.pointerType,l.pressure=u.pressure,l.tangentialPressure=u.tangentialPressure,l.tiltX=u.tiltX,l.tiltY=u.tiltY,l.twist=u.twist,this.transferMouseData(l,u);const{x:m,y}=this.getViewportXY(u);l.viewport.x=m,l.viewport.y=y;const[b,E]=this.context.canvas.getCanvasByViewport([m,y]);return l.canvas.x=b,l.canvas.y=E,l.global.copyFrom(l.canvas),l.offset.copyFrom(l.canvas),l.isTrusted=f.isTrusted,"pointerleave"===l.type&&(l.type="pointerout"),l}getViewportXY(l){let u,d;const{offsetX:f,offsetY:m,clientX:y,clientY:b}=l;if(!this.context.canvas.context.config.supportsCSSTransform||(0,i.isNil)(f)||(0,i.isNil)(m)){const E=this.eventService.client2Viewport({x:y,y:b});u=E.x,d=E.y}else u=f,d=m;return{x:u,y:d}}onframe(){super.onframe();const{opacity:l}=this.attributes;this.getDomElement().style.opacity=`${l}`}}return kS.HTML=s,s.defaultStyleProps={size:[160,80],halo:!1,icon:!1,label:!1,pointerEvents:"auto"},kS}();Object.defineProperty(n,"HTML",{enumerable:!0,get:function(){return a.HTML}});var l=function Vkt(){if(Uot)return IS;Uot=1;var n=ji&&ji.__rest||function(d,f){var m={};for(var y in d)Object.prototype.hasOwnProperty.call(d,y)&&f.indexOf(y)<0&&(m[y]=d[y]);if(null!=d&&"function"==typeof Object.getOwnPropertySymbols){var b=0;for(y=Object.getOwnPropertySymbols(d);b<y.length;b++)f.indexOf(y[b])<0&&Object.prototype.propertyIsEnumerable.call(d,y[b])&&(m[y[b]]=d[y[b]])}return m};Object.defineProperty(IS,"__esModule",{value:!0}),IS.Image=void 0;const e=pi,t=Cd,i=ha,r=Ts,o=ns,s=MS(),a=Md,l=cy();class u extends l.BaseNode{constructor(f){super((0,r.mergeOptions)({style:u.defaultStyleProps},f))}getKeyStyle(f){const[m,y]=this.getSize(f),b=super.getKeyStyle(f),{fillOpacity:E,opacity:w=E}=b,M=n(b,["fillOpacity","opacity"]);return Object.assign(Object.assign({opacity:w},M),{width:m,height:y,x:-m/2,y:-y/2})}getHaloStyle(f){if(!1===f.halo)return!1;const m=this.getShape("key").attributes;n(m,["fill","stroke"]);const y=(0,i.subStyleProps)(this.getGraphicStyle(f),"halo"),b=Number(y.lineWidth),[E,w]=(0,o.add)(this.getSize(f),[b,b]);return Object.assign(Object.assign({},y),{width:E,height:w,fill:"transparent",x:-E/2,y:-w/2})}getIconStyle(f){const m=super.getIconStyle(f),[y,b]=this.getSize(f);return!!m&&Object.assign({width:y*t.ICON_SIZE_RATIO,height:b*t.ICON_SIZE_RATIO},m)}drawKeyShape(f,m){const y=this.upsert("key",s.Image,this.getKeyStyle(f),m);return(0,a.connectImage)(this),y}drawHaloShape(f,m){this.upsert("halo",e.Rect,this.getHaloStyle(f),m)}update(f){super.update(f),f&&("x"in f||"y"in f||"z"in f)&&(0,a.dispatchPositionChange)(this)}}return IS.Image=u,u.defaultStyleProps={size:32},IS}();Object.defineProperty(n,"Image",{enumerable:!0,get:function(){return l.Image}});var u=function zkt(){if(Hot)return RS;Hot=1,Object.defineProperty(RS,"__esModule",{value:!0}),RS.Rect=void 0;const n=pi,e=Cd,t=cy();return RS.Rect=class i extends t.BaseNode{constructor(o){super(o)}getKeyStyle(o){const[s,a]=this.getSize(o);return Object.assign(Object.assign({},super.getKeyStyle(o)),{width:s,height:a,x:-s/2,y:-a/2})}getIconStyle(o){const s=super.getIconStyle(o),{width:a,height:l}=this.getShape("key").attributes;return!!s&&Object.assign({width:a*e.ICON_SIZE_RATIO,height:l*e.ICON_SIZE_RATIO},s)}drawKeyShape(o,s){return this.upsert("key",n.Rect,this.getKeyStyle(o),s)}},RS}();Object.defineProperty(n,"Rect",{enumerable:!0,get:function(){return u.Rect}});var d=function Ukt(){if(Got)return PS;Got=1,Object.defineProperty(PS,"__esModule",{value:!0}),PS.Star=void 0;const n=Cd,e=h0(),t=T4();return PS.Star=class i extends t.Polygon{constructor(o){super(o)}getInnerR(o){return o.innerR||3*this.getOuterR(o)/8}getOuterR(o){return Math.min(...this.getSize(o))/2}getPoints(o){return(0,e.getStarPoints)(this.getOuterR(o),this.getInnerR(o))}getIconStyle(o){const s=super.getIconStyle(o),a=2*this.getInnerR(o)*n.ICON_SIZE_RATIO;return!!s&&Object.assign({width:a,height:a},s)}getPortXY(o,s){const{placement:a="top"}=s,l=this.getShape("key").getLocalBounds(),u=(0,e.getStarPorts)(this.getOuterR(o),this.getInnerR(o));return(0,e.getPortXYByPlacement)(l,a,u,!1)}},PS}();Object.defineProperty(n,"Star",{enumerable:!0,get:function(){return d.Star}});var f=function Hkt(){if($ot)return NS;$ot=1,Object.defineProperty(NS,"__esModule",{value:!0}),NS.Triangle=void 0;const n=Os,e=Cd,t=Ho,i=h0(),r=ha,o=Ts,s=T4();class a extends s.Polygon{constructor(u){super((0,o.mergeOptions)({style:a.defaultStyleProps},u))}getPoints(u){const{direction:d}=u,[f,m]=this.getSize(u);return(0,i.getTrianglePoints)(f,m,d)}getPortXY(u,d){const{direction:f}=u,{placement:m="top"}=d,y=this.getShape("key").getLocalBounds(),[b,E]=this.getSize(u),w=(0,i.getTrianglePorts)(b,E,f);return(0,i.getPortXYByPlacement)(y,m,w,!1)}getIconStyle(u){const{icon:d,iconText:f,iconSrc:m,direction:y}=u;if(!1===d||(0,n.isEmpty)(f||m))return!1;const b=(0,r.subStyleProps)(this.getGraphicStyle(u),"icon"),E=this.getShape("key").getLocalBounds(),[w,M]=(0,t.getTriangleCenter)(E,y),x=2*(0,t.getIncircleRadius)(E,y)*e.ICON_SIZE_RATIO;return Object.assign({x:w,y:M,width:x,height:x},b)}}return NS.Triangle=a,a.defaultStyleProps={size:40,direction:"up"},NS}();Object.defineProperty(n,"Triangle",{enumerable:!0,get:function(){return f.Triangle}})}(lot)),lot}function HH(){if(Xot)return dS;Xot=1;var n=ji&&ji.__rest||function(M,x){var D={};for(var k in M)Object.prototype.hasOwnProperty.call(M,k)&&x.indexOf(k)<0&&(D[k]=M[k]);if(null!=M&&"function"==typeof Object.getOwnPropertySymbols){var T=0;for(k=Object.getOwnPropertySymbols(M);T<k.length;T++)x.indexOf(k[T])<0&&Object.prototype.propertyIsEnumerable.call(M,k[T])&&(D[k[T]]=M[k[T]])}return D};Object.defineProperty(dS,"__esModule",{value:!0}),dS.BaseCombo=void 0;const e=pi,t=Os,i=Z_,r=Ho,o=fg,s=iy,a=Fu,l=ha,u=pg,d=Ts,f=ns,m=hS,y=Kot(),b=MS(),E=Md;class w extends y.BaseNode{constructor(x){super((0,d.mergeOptions)({style:w.defaultStyleProps},x)),this.type="combo",this.updateComboPosition(this.parsedAttributes)}getKeySize(x){const{collapsed:D,childrenNode:k=[]}=x;return 0===k.length?this.getEmptyKeySize(x):D?this.getCollapsedKeySize(x):this.getExpandedKeySize(x)}getEmptyKeySize(x){const{padding:D,collapsedSize:k}=x,[T,O,R,L]=(0,s.parsePadding)(D);return(0,f.add)((0,u.parseSize)(k),[L+O,T+R,0])}getCollapsedKeySize(x){return(0,u.parseSize)(x.collapsedSize)}getExpandedKeySize(x){const D=this.getContentBBox(x);return[(0,r.getBBoxWidth)(D),(0,r.getBBoxHeight)(D),0]}getContentBBox(x){const{context:D,childrenNode:k=[],padding:T}=x,O=k.map(L=>D.element.getElement(L)).filter(Boolean);if(0===O.length){const L=new e.AABB,{x:F=0,y:U=0,size:$}=x,[X,q]=(0,u.parseSize)($);return L.setMinMax([F-X/2,U-q/2,0],[F+X/2,U+q/2,0]),L}const R=(0,r.getCombinedBBox)(O.map(L=>L.getBounds()));return T?(0,r.getExpandedBBox)(R,T):R}drawCollapsedMarkerShape(x,D){const k=this.getCollapsedMarkerStyle(x);(0,m.effect)(this,"collapsedMarker",k)&&(this.upsert("collapsed-marker",b.Icon,k,D),(0,E.connectImage)(this))}getCollapsedMarkerStyle(x){if(!x.collapsed||!x.collapsedMarker)return!1;const D=(0,l.subStyleProps)(this.getGraphicStyle(x),"collapsedMarker"),{type:k}=D,T=n(D,["type"]),O=this.getShape("key"),[R,L]=(0,a.getXYByPlacement)(O.getLocalBounds(),"center"),F=Object.assign(Object.assign({},T),{x:R,y:L});if(k){const U=this.getCollapsedMarkerText(k,x);Object.assign(F,{text:U})}return F}getCollapsedMarkerText(x,D){const{context:k,childrenData:T=[]}=D,{model:O}=k;return"descendant-count"===x?O.getDescendantsData(this.id).length.toString():"child-count"===x?T.length.toString():"node-count"===x?O.getDescendantsData(this.id).filter(R=>"node"===O.getElementType((0,o.idOf)(R))).length.toString():(0,t.isFunction)(x)?x(T):""}getComboZIndex(x){return(this.context.model.getAncestorsData(this.id,i.COMBO_KEY)||[]).length}getComboPosition(x){const{x:D=0,y:k=0,collapsed:T,context:O,childrenData:R=[]}=x;if(0===R.length)return[+D,+k,0];if(T){const{model:L}=O,F=L.getDescendantsData(this.id).filter(U=>!L.isCombo((0,o.idOf)(U)));if(F.length>0&&F.some(a.hasPosition)){const U=F.reduce(($,X)=>(0,f.add)($,(0,a.positionOf)(X)),[0,0,0]);return(0,f.divide)(U,F.length)}return[+D,+k,0]}return this.getContentBBox(x).center}getComboStyle(x){const{zIndex:D=this.getComboZIndex(x)}=x,[k,T]=this.getComboPosition(x);return{x:k,y:T,transform:[["translate",k,T]],zIndex:D}}updateComboPosition(x){const D=this.getComboStyle(x);Object.assign(this.style,D);const{x:k,y:T}=D;this.context.model.syncComboDatum({id:this.id,style:{x:k,y:T}}),(0,E.dispatchPositionChange)(this)}render(x,D=this){super.render(x,D),this.drawCollapsedMarkerShape(x,D)}update(x={}){super.update(x),this.updateComboPosition(this.parsedAttributes)}onframe(){super.onframe(),this.attributes.collapsed||this.updateComboPosition(this.parsedAttributes),this.drawKeyShape(this.parsedAttributes,this)}animate(x,D){const k=super.animate(this.attributes.collapsed?x:x.map(T=>n(T,["x","y","z","transform"])),D);return k&&new Proxy(k,{set:(T,O,R)=>("currentTime"===O&&Promise.resolve().then(()=>this.onframe()),Reflect.set(T,O,R))})}}return dS.BaseCombo=w,w.defaultStyleProps={childrenNode:[],droppable:!0,draggable:!0,collapsed:!1,collapsedSize:32,collapsedMarker:!0,collapsedMarkerZIndex:1,collapsedMarkerFontSize:12,collapsedMarkerTextAlign:"center",collapsedMarkerTextBaseline:"middle",collapsedMarkerType:"child-count"},dS}var Yot,Zot,Qot,LS={},FS={};var Jot,qot={},BS={},Rl={};function jS(){if(Jot)return BS;Jot=1;var n=ji&&ji.__createBinding||(Object.create?function(x,D,k,T){void 0===T&&(T=k);var O=Object.getOwnPropertyDescriptor(D,k);(!O||("get"in O?!D.__esModule:O.writable||O.configurable))&&(O={enumerable:!0,get:function(){return D[k]}}),Object.defineProperty(x,T,O)}:function(x,D,k,T){void 0===T&&(T=k),x[T]=D[k]}),e=ji&&ji.__setModuleDefault||(Object.create?function(x,D){Object.defineProperty(x,"default",{enumerable:!0,value:D})}:function(x,D){x.default=D}),t=ji&&ji.__importStar||function(x){if(x&&x.__esModule)return x;var D={};if(null!=x)for(var k in x)"default"!==k&&Object.prototype.hasOwnProperty.call(x,k)&&n(D,x,k);return e(D,x),D},i=ji&&ji.__rest||function(x,D){var k={};for(var T in x)Object.prototype.hasOwnProperty.call(x,T)&&D.indexOf(T)<0&&(k[T]=x[T]);if(null!=x&&"function"==typeof Object.getOwnPropertySymbols){var O=0;for(T=Object.getOwnPropertySymbols(x);O<T.length;O++)D.indexOf(T[O])<0&&Object.prototype.propertyIsEnumerable.call(x,T[O])&&(k[T[O]]=x[T[O]])}return k};Object.defineProperty(BS,"__esModule",{value:!0}),BS.BaseEdge=void 0;const r=pi,o=Os,s=Ho,a=ZS(),l=h0(),u=ha,d=pg,f=Ts,m=t(Rl),y=sy,b=Iot(),E=hS,w=MS();class M extends b.BaseElement{constructor(D){super((0,f.mergeOptions)({style:M.defaultStyleProps},D)),this.type="edge"}get sourceNode(){const{context:D,sourceNode:k}=this.parsedAttributes;return D.element.getElement(k)}get targetNode(){const{context:D,targetNode:k}=this.parsedAttributes;return D.element.getElement(k)}getKeyStyle(D){const k=this.getGraphicStyle(D),{loop:T}=k,O=i(k,["loop"]),{sourceNode:R,targetNode:L}=this,F=T&&(0,l.isSameNode)(R,L)?this.getLoopPath(D):this.getKeyPath(D);return Object.assign({d:F},(0,u.omitStyleProps)(O,["halo","label","startArrow","endArrow"]))}getLoopPath(D){const{sourcePort:k,targetPort:T}=D,O=this.sourceNode,R=(0,s.getNodeBBox)(O),L=Math.max((0,s.getBBoxWidth)(R),(0,s.getBBoxHeight)(R)),{placement:F,clockwise:U,dist:$=L}=(0,u.subStyleProps)(this.getGraphicStyle(D),"loop");return(0,a.getCubicLoopPath)(O,F,U,$,k,T)}getEndpoints(D,k=!0,T=[]){const{sourcePort:O,targetPort:R}=D,{sourceNode:L,targetNode:F}=this,[U,$]=(0,l.findPorts)(L,F,O,R);if(!k)return[U?(0,l.getPortPosition)(U):L.getCenter(),$?(0,l.getPortPosition)($):F.getCenter()];const X="function"==typeof T?T():T;return[(0,l.getConnectionPoint)(U||L,X[0]||$||F),(0,l.getConnectionPoint)($||F,X[X.length-1]||U||L)]}getHaloStyle(D){if(!1===D.halo)return!1;const k=this.getKeyStyle(D),T=(0,u.subStyleProps)(this.getGraphicStyle(D),"halo");return Object.assign(Object.assign({},k),T)}getLabelStyle(D){if(!1===D.label||!D.labelText)return!1;const k=(0,u.subStyleProps)(this.getGraphicStyle(D),"label"),{placement:T,offsetX:O,offsetY:R,autoRotate:L,maxWidth:F}=k,U=i(k,["placement","offsetX","offsetY","autoRotate","maxWidth"]),$=(0,a.getLabelPositionStyle)(this.shapeMap.key,T,L,O,R),X=this.shapeMap.key.getLocalBounds(),q=(0,y.getWordWrapWidthByEnds)([X.min,X.max],F);return Object.assign({wordWrapWidth:q},$,U)}getBadgeStyle(D){if(!1===D.badge||!D.badgeText)return!1;const k=(0,u.subStyleProps)(D,"badge"),{offsetX:T,offsetY:O,placement:R}=k,L=i(k,["offsetX","offsetY","placement"]);return Object.assign(L,(0,a.getBadgePositionStyle)(this.shapeMap,R,D.labelPlacement,T,O))}drawArrow(D,k){var T;const O="start"===k,L=this.shapeMap.key;if(D["start"===k?"startArrow":"endArrow"]){const F=this.getArrowStyle(D,O);if(!(0,E.effect)(this,`arrow-${k}`,F))return;const[U,$,X]=O?["markerStart","markerStartOffset","startArrowOffset"]:["markerEnd","markerEndOffset","endArrowOffset"],q=L.parsedStyle[U];if(q)q.attr(F);else{const Et=new(F.src?r.Image:r.Path)({style:F});L.style[U]=Et}L.style[$]=D[X]||F.width/2+ +F.lineWidth}else{const F=O?"markerStart":"markerEnd";null===(T=L.style[F])||void 0===T||T.destroy(),L.style[F]=null}}getArrowStyle(D,k){const T=this.getShape("key").attributes,O=k?"startArrow":"endArrow",R=(0,u.subStyleProps)(this.getGraphicStyle(D),O),{size:L,type:F}=R,U=i(R,["size","type"]),[$,X]=(0,d.parseSize)((0,a.getArrowSize)(T.lineWidth,L)),q=((0,o.isFunction)(F)?F:m[F]||m.triangle)($,X);return Object.assign((0,o.pick)(T,["stroke","strokeOpacity","fillOpacity"]),{width:$,height:X},Object.assign({},q&&{d:q,fill:"simple"===F?"":T.stroke}),U)}drawLabelShape(D,k){const T=this.getLabelStyle(D);(0,E.effect)(this,"label",T)&&this.upsert("label",w.Label,T,k)}drawHaloShape(D,k){const T=this.getHaloStyle(D);(0,E.effect)(this,"halo",T)&&this.upsert("halo",r.Path,T,k)}drawBadgeShape(D,k){const T=this.getBadgeStyle(D);(0,E.effect)(this,"badge",T)&&this.upsert("badge",w.Badge,T,k)}drawSourceArrow(D){this.drawArrow(D,"start")}drawTargetArrow(D){this.drawArrow(D,"end")}drawKeyShape(D,k){const T=this.getKeyStyle(D);if((0,E.effect)(this,"key",T))return this.upsert("key",r.Path,T,k)}render(D=this.parsedAttributes,k=this){this.drawKeyShape(D,k),this.getShape("key")&&(this.drawSourceArrow(D),this.drawTargetArrow(D),this.drawLabelShape(D,k),this.drawHaloShape(D,k),this.drawBadgeShape(D,k))}onframe(){this.drawKeyShape(this.parsedAttributes,this),this.drawSourceArrow(this.parsedAttributes),this.drawTargetArrow(this.parsedAttributes),this.drawHaloShape(this.parsedAttributes,this),this.drawLabelShape(this.parsedAttributes,this),this.drawBadgeShape(this.parsedAttributes,this)}animate(D,k){const T=super.animate(D,k);return T&&new Proxy(T,{set:(O,R,L)=>("currentTime"===R&&Promise.resolve().then(()=>this.onframe()),Reflect.set(O,R,L))})}}return BS.BaseEdge=M,M.defaultStyleProps={badge:!0,badgeOffsetX:0,badgeOffsetY:0,badgePlacement:"suffix",isBillboard:!0,label:!0,labelAutoRotate:!0,labelIsBillboard:!0,labelMaxWidth:"80%",labelOffsetX:4,labelOffsetY:0,labelPlacement:"center",labelTextBaseline:"middle",labelWordWrap:!1,halo:!1,haloDroppable:!1,haloLineDash:0,haloLineWidth:12,haloPointerEvents:"none",haloStrokeOpacity:.25,haloZIndex:-1,loop:!0,startArrow:!1,startArrowLineDash:0,startArrowLineJoin:"round",startArrowLineWidth:1,startArrowTransformOrigin:"center",startArrowType:"vee",endArrow:!1,endArrowLineDash:0,endArrowLineJoin:"round",endArrowLineWidth:1,endArrowTransformOrigin:"center",endArrowType:"vee",loopPlacement:"top",loopClockwise:!0},BS}Object.defineProperty(Rl,"__esModule",{value:!0}),Rl.simple=Rl.triangleRect=Rl.rect=Rl.vee=Rl.diamond=Rl.triangle=Rl.circle=void 0,Rl.circle=(n,e)=>{const t=Math.max(n,e)/2;return[["M",-n/2,0],["A",t,t,0,1,0,2*t-n/2,0],["A",t,t,0,1,0,-n/2,0],["Z"]]},Rl.triangle=(n,e)=>[["M",-n/2,0],["L",n/2,-e/2],["L",n/2,e/2],["Z"]],Rl.diamond=(n,e)=>[["M",-n/2,0],["L",0,-e/2],["L",n/2,0],["L",0,e/2],["Z"]],Rl.vee=(n,e)=>[["M",-n/2,0],["L",n/2,-e/2],["L",4*n/5-n/2,0],["L",n/2,e/2],["Z"]],Rl.rect=(n,e)=>[["M",-n/2,-e/2],["L",n/2,-e/2],["L",n/2,e/2],["L",-n/2,e/2],["Z"]],Rl.triangleRect=(n,e)=>{const t=n/2,i=n/7,r=n-i;return[["M",-t,0],["L",0,-e/2],["L",0,e/2],["Z"],["M",r-t,-e/2],["L",r+i-t,-e/2],["L",r+i-t,e/2],["L",r-t,e/2],["Z"]]},Rl.simple=(n,e)=>[["M",n/2,-e/2],["L",-n/2,0],["L",n/2,0],["L",-n/2,0],["L",n/2,e/2]];var tst,VS={};function A4(){if(tst)return VS;tst=1,Object.defineProperty(VS,"__esModule",{value:!0}),VS.Cubic=void 0;const n=ZS(),e=Ts,t=jS();class i extends t.BaseEdge{constructor(o){super((0,e.mergeOptions)({style:i.defaultStyleProps},o))}getKeyPath(o){const[s,a]=this.getEndpoints(o),{controlPoints:l,curvePosition:u,curveOffset:d}=o,f=this.getControlPoints(s,a,(0,n.parseCurvePosition)(u),(0,n.parseCurveOffset)(d),l);return(0,n.getCubicPath)(s,a,f)}getControlPoints(o,s,a,l,u){return 2===u?.length?u:[(0,n.getCurveControlPoint)(o,s,a[0],l[0]),(0,n.getCurveControlPoint)(o,s,a[1],l[1])]}}return VS.Cubic=i,i.defaultStyleProps={curvePosition:.5,curveOffset:20},VS}var est,nst,ist,rst,zS={},US={},HS={},GS={},$S={},Sd={};Object.defineProperty(Sd,"__esModule",{value:!0});var ost=Sd.orth=function oIt(n,e,t,i,r,o){const{padding:s}=Object.assign(rIt,o),a=(0,Go.getNodeBBox)(t,s),l=(0,Go.getNodeBBox)(i,s),u=[n,...r,e];let d=null;const f=[];for(let m=0,y=u.length;m<y-1;m++){const b=m+1,E=u[m],w=u[b],M=(0,Dd.isOrthogonal)(E,w);let x=null;if(0===m)if(b===y-1)if(a.intersects(l))x=k4(E,w,a,l);else if((0,Go.isPointBBoxCenter)(E,a)||(0,Go.isPointBBoxCenter)(w,l))M||(x=lst(E,w,a,l));else{const D=(0,Go.getNearestBoundaryPoint)(E,a),k=(0,Go.getNearestBoundaryPoint)(w,l);x=GH(D,k,fc(D,k)),x.points.unshift(D),x.points.push(k)}else(0,Go.isPointInBBox)(w,a)?x=k4(E,w,a,(0,Go.getNodeBBox)(w,s),d):M||(x=WS(E,w,a));else b===y-1?(0,Go.isPointInBBox)(E,l)?x=k4(E,w,(0,Go.getNodeBBox)(E,s),l,d):M||(x=$H(E,w,l,d)):M||(x=GH(E,w,d));x?(f.push(...x.points),d=x.direction):d=fc(E,w),b<y-1&&f.push(w)}return f.map(uy.toVector2)};Sd.getDirection=fc,Sd.getBBoxSize=O4,Sd.pointToPoint=GH,Sd.nodeToPoint=WS,Sd.pointToNode=$H,Sd.nodeToNode=lst,Sd.insideNode=k4,Sd.freeJoin=KS;const sst=Os,Go=Ho,Dd=lo,uy=ns,rIt={padding:10},sIt={N:"S",S:"N",W:"E",E:"W"},ast={N:-Math.PI/2,S:Math.PI/2,E:0,W:Math.PI};function fc(n,e){const[t,i]=n,[r,o]=e;return t===r?i>o?"N":"S":i===o?t>r?"W":"E":null}function O4(n,e){return"N"===e||"S"===e?(0,Go.getBBoxHeight)(n):(0,Go.getBBoxWidth)(n)}function GH(n,e,t){const i=[n[0],e[1]],r=[e[0],n[1]],o=fc(n,i),s=fc(n,r),l=o===t||o!==(t?sIt[t]:null)&&s!==t?i:r;return{points:[l],direction:fc(l,e)}}function WS(n,e,t){if((0,Go.isPointBBoxCenter)(n,t)){const i=KS(n,e,t);return{points:[i],direction:fc(i,e)}}{const i=(0,Go.getNearestBoundaryPoint)(n,t),r=["left","right"].includes((0,Go.getNearestBoundarySide)(n,t))?[e[0],i[1]]:[i[0],e[1]];return{points:[r],direction:fc(r,e)}}}function $H(n,e,t,i){const r=(0,Go.isPointBBoxCenter)(e,t)?e:(0,Go.getNearestBoundaryPoint)(e,t),o=[[r[0],n[1]],[n[0],r[1]]],s=o.filter(l=>(0,Go.isPointOutsideBBox)(l,t)&&!(0,Go.isPointOnBBoxBoundary)(l,t,!0)),a=s.filter(l=>fc(l,n)!==i);if(a.length>0){const l=a.find(u=>fc(n,u)===i)||a[0];return{points:[l],direction:fc(l,e)}}{const l=(0,sst.difference)(o,s)[0],u=(0,Dd.moveTo)(e,l,O4(t,i)/2);return{points:[KS(u,n,t),u],direction:fc(u,e)}}}function lst(n,e,t,i){let r=WS(n,e,t);const o=(0,uy.toVector3)(r.points[0]);if((0,Go.isPointInBBox)(o,i)){r=WS(e,n,i);const s=(0,uy.toVector3)(r.points[0]);if((0,Go.isPointInBBox)(s,t)){const a=(0,Dd.moveTo)(n,o,O4(t,fc(n,o))/2),l=(0,Dd.moveTo)(e,s,O4(i,fc(e,s))/2),u=[(a[0]+l[0])/2,(a[1]+l[1])/2],d=WS(n,u,t),f=$H(u,e,i,d.direction);r.points=[d.points[0],f.points[0]],r.direction=f.direction}}return r}function k4(n,e,t,i,r){const o=(0,Go.getCombinedBBox)([t,i]),s=(0,uy.distance)(e,o.center)>(0,uy.distance)(n,o.center),[a,l]=s?[e,n]:[n,e],u=(0,Go.getBBoxHeight)(o)+(0,Go.getBBoxWidth)(o);let d;if(r){const y=[a[0]+u*Math.cos(ast[r]),a[1]+u*Math.sin(ast[r])];d=(0,Dd.moveTo)((0,Go.getNearestBoundaryPoint)(y,o),y,.01)}else d=(0,Dd.moveTo)((0,Go.getNearestBoundaryPoint)(a,o),a,-.01);let f=KS(d,l,o),m=[(0,Dd.round)(d,2),(0,Dd.round)(f,2)];if((0,sst.isEqual)((0,Dd.round)(d),(0,Dd.round)(f))){const y=(0,uy.angle)((0,uy.subtract)(d,a),[1,0,0])+Math.PI/2;f=[l[0]+u*Math.cos(y),l[1]+u*Math.sin(y),0],f=(0,Dd.round)((0,Dd.moveTo)((0,Go.getNearestBoundaryPoint)(f,o),l,-.01),2),m=[d,KS(d,f,o),f]}return{points:s?m.reverse():m,direction:fc(s?d:f,e)}}function KS(n,e,t){let i=[n[0],e[1]];return(0,Go.isPointInBBox)(i,t)&&(i=[e[0],n[1]]),i}var dy={};Object.defineProperty(dy,"__esModule",{value:!0}),dy.SortedArray=void 0,dy.estimateCost=WH,dy.getNearestPoint=dst;var aIt=dy.aStarSearch=function pIt(n,e,t,i){const r=(0,XS.toVector2)(n.getCenter()),o=(0,XS.toVector2)(e.getCenter()),s=Object.assign(uIt,i),{gridSize:a}=s,u=hIt(s.enableObstacleAvoidance?t:[n,e],s),d=hy(r,a),f=hy(o,a),m=hst(r,n,s.startDirections,s),y=hst(o,e,s.endDirections,s);m.forEach(L=>delete u[d0(L)]),y.forEach(L=>delete u[d0(L)]);const b={},E={},w={},M={},x={},D=new fst;for(let L=0;L<m.length;L++){const F=m[L],U=d0(F);b[U]=F,M[U]=0,x[U]=WH(F,y,s.distFunc),D.add({id:U,value:x[U]})}const k=y.map(L=>d0(L));let O,T=s.maximumLoops,R=1/0;for(const[L,F]of Object.entries(b))x[L]<=R&&(R=x[L],O=F);for(;Object.keys(b).length>0&&T>0;){const L=D.minId(!1);if(!L)break;O=b[L];const F=d0(O);if(k.includes(F))return fIt(O,w,d,o,m,f,a);delete b[F],D.remove(F),E[F]=!0;for(const U of Object.values(s.directionMap)){const $=(0,XS.add)(O,[U.stepX,U.stepY]),X=d0($);if(E[X])continue;const q=ust(O,$,w,d);if(q>s.maxAllowedDirectionChange||u[X])continue;b[X]||(b[X]=$);const gt=s.penalties[q],Et=s.distFunc(O,$)+(isNaN(gt)?a:gt),at=M[F]+Et,Q=M[X];Q&&at>=Q||(w[X]=O,M[X]=at,x[X]=at+WH($,y,s.distFunc),D.add({id:X,value:x[X]}))}T-=1}return[]};const lIt=Os,rE=Ho,cIt=pS,XS=ns,uIt={enableObstacleAvoidance:!1,offset:10,maxAllowedDirectionChange:Math.PI/2,maximumLoops:3e3,gridSize:5,startDirections:["top","right","bottom","left"],endDirections:["top","right","bottom","left"],directionMap:{right:{stepX:1,stepY:0},left:{stepX:-1,stepY:0},bottom:{stepX:0,stepY:1},top:{stepX:0,stepY:-1}},penalties:{0:0,90:0},distFunc:XS.manhattanDistance},d0=n=>`${Math.round(n[0])}|||${Math.round(n[1])}`;function hy(n,e){const t=i=>Math.round(i/e);return(0,lIt.isNumber)(n)?t(n):n.map(t)}function cst(n,e){const t=e[0]-n[0],i=e[1]-n[1];return t||i?Math.atan2(i,t):0}function ust(n,e,t,i){const r=cst(n,e);return function dIt(n,e){const t=Math.abs(n-e);return t>Math.PI?2*Math.PI-t:t}(cst(t[d0(n)]||i,n),r)}const hIt=(n,e)=>{const{offset:t,gridSize:i}=e,r={};return n.forEach(o=>{if(!o||o.destroyed||!o.isVisible())return;const s=(0,rE.getExpandedBBox)(o.getRenderBounds(),t);for(let a=hy(s.min[0],i);a<=hy(s.max[0],i);a+=1)for(let l=hy(s.min[1],i);l<=hy(s.max[1],i);l+=1)r[`${a}|||${l}`]=!0}),r};function WH(n,e,t){return Math.min(...e.map(i=>t(n,i)))}function dst(n,e,t){let i=n[0],r=t(n[0],e);for(let o=0;o<n.length;o++){const s=n[o],a=t(s,e);a<r&&(i=s,r=a)}return i}const hst=(n,e,t,i)=>{if(!e)return[n];const{directionMap:r,offset:o}=i,s=(0,rE.getExpandedBBox)(e.getRenderBounds(),o),a=Object.keys(r).reduce((l,u)=>{if(t.includes(u)){const d=r[u],[f,m]=(0,rE.getBBoxSize)(s),y=[n[0]+d.stepX*f,n[1]+d.stepY*m],b=(0,rE.getBBoxSegments)(s);for(let E=0;E<b.length;E++){const w=(0,cIt.getLinesIntersection)([n,y],b[E]);w&&(0,rE.isPointOnBBoxBoundary)(w,s)&&l.push(w)}}return l},[]);return(0,rE.isPointInBBox)(n,s)||a.push(n),a.map(l=>hy(l,i.gridSize))},fIt=(n,e,t,i,r,o,s)=>{const a=[];let l=[o[0]===i[0]?i[0]:n[0]*s,o[1]===i[1]?i[1]:n[1]*s];a.unshift(l);let u=n,d=e[d0(u)];for(;d;){const y=d,b=u;ust(y,b,e,t)&&(l=[y[0]===b[0]?l[0]:y[0]*s,y[1]===b[1]?l[1]:y[1]*s],a.unshift(l)),d=e[d0(y)],u=y}const m=dst(r.map(y=>[y[0]*s,y[1]*s]),l,XS.manhattanDistance);return a.unshift(m),a};class fst{constructor(){this.arr=[],this.map={},this.arr=[],this.map={}}_innerAdd(e,t){let i=0,r=t-1;for(;r-i>1;){const o=Math.floor((i+r)/2);if(this.arr[o].value>e.value)r=o;else{if(!(this.arr[o].value<e.value))return this.arr.splice(o,0,e),void(this.map[e.id]=!0);i=o}}this.arr.splice(r,0,e),this.map[e.id]=!0}add(e){delete this.map[e.id];const t=this.arr.length;if(!t||this.arr[t-1].value<e.value)return this.arr.push(e),void(this.map[e.id]=!0);this._innerAdd(e,t)}remove(e){this.map[e]&&delete this.map[e]}_clearAndGetMinId(){let e;for(let t=this.arr.length-1;t>=0;t--)this.map[this.arr[t].id]?e=this.arr[t].id:this.arr.splice(t,1);return e}_findFirstId(){for(;this.arr.length;){const e=this.arr.shift();if(this.map[e.id])return e.id}}minId(e){return e?this._clearAndGetMinId():this._findFirstId()}}var pst;dy.SortedArray=fst;var mst,gst,vst,yst,bst,YS={};function h0(){if(yst)return Fo;yst=1,Object.defineProperty(Fo,"__esModule",{value:!0}),Fo.isNode=s,Fo.isEdge=a,Fo.isCombo=l,Fo.isElement=function u(et){return s(et)||a(et)||l(et)},Fo.isSameNode=function d(et,St){return!(!et||!St)&&et===St},Fo.getPortXYByPlacement=function m(et,St,Yt=f,He=!0){const Se=[.5,.5],un=(0,n.isString)(St)?(0,n.get)(Yt,St.toLocaleLowerCase(),Se):St;if(!He&&(0,n.isString)(St))return un;const[_n,Wn]=un||Se;return[et.min[0]+(0,t.getBBoxWidth)(et)*_n,et.min[1]+(0,t.getBBoxHeight)(et)*Wn]},Fo.getAllPorts=y,Fo.isSimplePort=b,Fo.getPortPosition=E,Fo.findPorts=function w(et,St,Yt,He){return[M(et,St,Yt,He),M(St,et,He,Yt)]},Fo.findPort=M,Fo.getConnectionPoint=function D(et,St){return l(et)||s(et)?T(et,St):k(et,St)},Fo.getPortConnectionPoint=k,Fo.getNodeConnectionPoint=T,Fo.getTextStyleByPlacement=function O(et,St="bottom",Yt=0,He=0,Se=!1){const un=St.split("-"),[_n,Wn]=(0,o.getXYByPlacement)(et,St),Ln=un.includes("left")?"right":un.includes("right")?"left":"center";let yi=un.includes("top")?"bottom":un.includes("bottom")?"top":"middle";return Se&&(yi="top"===yi?"bottom":"bottom"===yi?"top":yi),{transform:[["translate",_n+Yt,Wn+He]],textBaseline:yi,textAlign:Ln}},Fo.getStarPoints=function R(et,St){return[[0,-et],[St*Math.cos(3*Math.PI/10),-St*Math.sin(3*Math.PI/10)],[et*Math.cos(Math.PI/10),-et*Math.sin(Math.PI/10)],[St*Math.cos(Math.PI/10),St*Math.sin(Math.PI/10)],[et*Math.cos(3*Math.PI/10),et*Math.sin(3*Math.PI/10)],[0,St],[-et*Math.cos(3*Math.PI/10),et*Math.sin(3*Math.PI/10)],[-St*Math.cos(Math.PI/10),St*Math.sin(Math.PI/10)],[-et*Math.cos(Math.PI/10),-et*Math.sin(Math.PI/10)],[-St*Math.cos(3*Math.PI/10),-St*Math.sin(3*Math.PI/10)]]},Fo.getStarPorts=function L(et,St){const Yt={};return Yt.top=[0,-et],Yt.left=[-et*Math.cos(Math.PI/10),-et*Math.sin(Math.PI/10)],Yt["left-bottom"]=[-et*Math.cos(3*Math.PI/10),et*Math.sin(3*Math.PI/10)],Yt.bottom=[0,St],Yt["right-bottom"]=[et*Math.cos(3*Math.PI/10),et*Math.sin(3*Math.PI/10)],Yt.right=Yt.default=[et*Math.cos(Math.PI/10),-et*Math.sin(Math.PI/10)],Yt},Fo.getTrianglePoints=function F(et,St,Yt){const He=St/2,Se=et/2,un={up:[[-Se,He],[Se,He],[0,-He]],left:[[-Se,0],[Se,He],[Se,-He]],right:[[-Se,He],[-Se,-He],[Se,0]],down:[[-Se,-He],[Se,-He],[0,He]]};return un[Yt]||un.up},Fo.getTrianglePorts=function U(et,St,Yt){const He=St/2,Se=et/2,un={};return"down"===Yt?(un.bottom=un.default=[0,He],un.right=[Se,-He],un.left=[-Se,-He]):"left"===Yt?(un.top=[Se,-He],un.bottom=[Se,He],un.left=un.default=[-Se,0]):"right"===Yt?(un.top=[-Se,-He],un.bottom=[-Se,He],un.right=un.default=[Se,0]):(un.left=[-Se,He],un.top=un.default=[0,-He],un.right=[Se,He]),un},Fo.getBoundingPoints=function $(et,St){return[[et/2,-St/2],[et/2,St/2],[-et/2,St/2],[-et/2,-St/2]]},Fo.getDiamondPoints=function X(et,St){return[[0,-St/2],[et/2,0],[0,St/2],[-et/2,0]]},Fo.isVisible=function q(et){return"hidden"!==(0,n.get)(et,["style","visibility"])},Fo.updateStyle=function gt(et,St){"update"in et?et.update(St):et.attr(St)},Fo.getHexagonPoints=function Et(et){return[[0,et],[et*Math.sqrt(3)/2,et/2],[et*Math.sqrt(3)/2,-et/2],[0,-et],[-et*Math.sqrt(3)/2,-et/2],[-et*Math.sqrt(3)/2,et/2]]},Fo.markToBeDestroyed=function at(et){(0,n.set)(et,"__to_be_destroyed__",!0)},Fo.isToBeDestroyed=function Q(et){return(0,n.get)(et,"__to_be_destroyed__",!1)};const n=Os,e=function yIt(){return vst||(vst=1,function(n){var e=ji&&ji.__createBinding||(Object.create?function(i,r,o,s){void 0===s&&(s=o);var a=Object.getOwnPropertyDescriptor(r,o);(!a||("get"in a?!r.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return r[o]}}),Object.defineProperty(i,s,a)}:function(i,r,o,s){void 0===s&&(s=o),i[s]=r[o]}),t=ji&&ji.__exportStar||function(i,r){for(var o in i)"default"!==o&&!Object.prototype.hasOwnProperty.call(r,o)&&e(r,i,o)};Object.defineProperty(n,"__esModule",{value:!0}),t(function Wkt(){return Qot||(Qot=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.RectCombo=n.CircleCombo=n.BaseCombo=void 0;var e=HH();Object.defineProperty(n,"BaseCombo",{enumerable:!0,get:function(){return e.BaseCombo}});var t=function Gkt(){if(Yot)return LS;Yot=1,Object.defineProperty(LS,"__esModule",{value:!0}),LS.CircleCombo=void 0;const n=pi,e=Ho,t=lo,i=ha,r=pg,o=HH();return LS.CircleCombo=class s extends o.BaseCombo{constructor(l){super(l)}drawKeyShape(l,u){return this.upsert("key",n.Circle,this.getKeyStyle(l),u)}getKeyStyle(l){const{collapsed:u}=l,d=super.getKeyStyle(l),[f]=this.getKeySize(l);return Object.assign(Object.assign(Object.assign({},d),u&&(0,i.subStyleProps)(d,"collapsed")),{r:f/2})}getCollapsedKeySize(l){const[u,d]=(0,r.parseSize)(l.collapsedSize),f=Math.max(u,d)/2;return[2*f,2*f,0]}getExpandedKeySize(l){const u=this.getContentBBox(l),[d,f]=(0,e.getBBoxSize)(u),m=Math.sqrt(Math.pow(d,2)+Math.pow(f,2))/2;return[2*m,2*m,0]}getIntersectPoint(l,u=!1){const d=this.getShape("key").getBounds();return(0,t.getEllipseIntersectPoint)(l,d,u)}},LS}();Object.defineProperty(n,"CircleCombo",{enumerable:!0,get:function(){return t.CircleCombo}});var i=function $kt(){if(Zot)return FS;Zot=1,Object.defineProperty(FS,"__esModule",{value:!0}),FS.RectCombo=void 0;const n=pi,e=ha,t=HH();return FS.RectCombo=class i extends t.BaseCombo{constructor(o){super(o)}drawKeyShape(o,s){return this.upsert("key",n.Rect,this.getKeyStyle(o),s)}getKeyStyle(o){const s=super.getKeyStyle(o),[a,l]=this.getKeySize(o);return Object.assign(Object.assign(Object.assign({},s),o.collapsed&&(0,e.subStyleProps)(s,"collapsed")),{width:a,height:l,x:-a/2,y:-l/2})}},FS}();Object.defineProperty(n,"RectCombo",{enumerable:!0,get:function(){return i.RectCombo}})}(Hrt)),Hrt}(),n),t(function vIt(){return gst||(gst=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Quadratic=n.Polyline=n.Line=n.CubicVertical=n.CubicRadial=n.CubicHorizontal=n.Cubic=n.BaseEdge=void 0;var e=jS();Object.defineProperty(n,"BaseEdge",{enumerable:!0,get:function(){return e.BaseEdge}});var t=A4();Object.defineProperty(n,"Cubic",{enumerable:!0,get:function(){return t.Cubic}});var i=function tIt(){if(est)return zS;est=1,Object.defineProperty(zS,"__esModule",{value:!0}),zS.CubicHorizontal=void 0;const n=Ts,e=A4();class t extends e.Cubic{constructor(r){super((0,n.mergeOptions)({style:t.defaultStyleProps},r))}getControlPoints(r,o,s,a){const l=o[0]-r[0];return[[r[0]+l*s[0]+a[0],r[1]],[o[0]-l*s[1]+a[1],o[1]]]}}return zS.CubicHorizontal=t,t.defaultStyleProps={curvePosition:[.5,.5],curveOffset:[0,0]},zS}();Object.defineProperty(n,"CubicHorizontal",{enumerable:!0,get:function(){return i.CubicHorizontal}});var r=function eIt(){if(nst)return US;nst=1,Object.defineProperty(US,"__esModule",{value:!0}),US.CubicRadial=void 0;const n=Fu,e=Ts,t=ns,i=A4();class r extends i.Cubic{constructor(s){super((0,e.mergeOptions)({style:r.defaultStyleProps},s))}get ref(){return this.context.model.getRootsData()[0]}getEndpoints(s){if(this.sourceNode.id===this.ref.id)return super.getEndpoints(s);const a=(0,n.positionOf)(this.ref);return[this.sourceNode.getIntersectPoint(a,!0),this.targetNode.getIntersectPoint(a)]}toRadialCoordinate(s){const a=(0,n.positionOf)(this.ref);return[(0,t.distance)(s,a),(0,t.rad)((0,t.subtract)(s,a))]}getControlPoints(s,a,l,u){const[d,f]=this.toRadialCoordinate(s),[m]=this.toRadialCoordinate(a),y=m-d;return[[s[0]+(y*l[0]+u[0])*Math.cos(f),s[1]+(y*l[0]+u[0])*Math.sin(f)],[a[0]-(y*l[1]-u[0])*Math.cos(f),a[1]-(y*l[1]-u[0])*Math.sin(f)]]}}return US.CubicRadial=r,r.defaultStyleProps={curvePosition:.5,curveOffset:20},US}();Object.defineProperty(n,"CubicRadial",{enumerable:!0,get:function(){return r.CubicRadial}});var o=function nIt(){if(ist)return HS;ist=1,Object.defineProperty(HS,"__esModule",{value:!0}),HS.CubicVertical=void 0;const n=Ts,e=A4();class t extends e.Cubic{constructor(r){super((0,n.mergeOptions)({style:t.defaultStyleProps},r))}getControlPoints(r,o,s,a){const l=o[1]-r[1];return[[r[0],r[1]+l*s[0]+a[0]],[o[0],o[1]-l*s[1]+a[1]]]}}return HS.CubicVertical=t,t.defaultStyleProps={curvePosition:[.5,.5],curveOffset:[0,0]},HS}();Object.defineProperty(n,"CubicVertical",{enumerable:!0,get:function(){return o.CubicVertical}});var s=function iIt(){if(rst)return GS;rst=1,Object.defineProperty(GS,"__esModule",{value:!0}),GS.Line=void 0;const n=Ts,e=jS();class t extends e.BaseEdge{constructor(r){super((0,n.mergeOptions)({style:t.defaultStyleProps},r))}getKeyPath(r){const[o,s]=this.getEndpoints(r);return[["M",o[0],o[1]],["L",s[0],s[1]]]}}return GS.Line=t,t.defaultStyleProps={},GS}();Object.defineProperty(n,"Line",{enumerable:!0,get:function(){return s.Line}});var a=function mIt(){if(pst)return $S;pst=1,Object.defineProperty($S,"__esModule",{value:!0}),$S.Polyline=void 0;const n=Ho,e=ZS(),t=ha,i=Sd,r=dy,o=Ts,s=jS();class a extends s.BaseEdge{constructor(u){super((0,o.mergeOptions)({style:a.defaultStyleProps},u))}getControlPoints(u){const{router:d}=u,{sourceNode:f,targetNode:m}=this,[y,b]=this.getEndpoints(u,!1);let E=[];if(d)if("shortest-path"===d.type){const w=this.context.element.getNodes();E=(0,r.aStarSearch)(f,m,w,d),E.length||(E=(0,i.orth)(y,b,f,m,u.controlPoints,{padding:d.offset}))}else"orth"===d.type&&(E=(0,i.orth)(y,b,f,m,u.controlPoints,d));else E=u.controlPoints;return E}getPoints(u){const d=this.getControlPoints(u),[f,m]=this.getEndpoints(u,!0,d);return[f,...d,m]}getKeyPath(u){const d=this.getPoints(u);return(0,e.getPolylinePath)(d,u.radius)}getLoopPath(u){const{sourcePort:d,targetPort:f,radius:m}=u,y=this.sourceNode,b=(0,n.getNodeBBox)(y),E=Math.max((0,n.getBBoxWidth)(b),(0,n.getBBoxHeight)(b))/4,{placement:w,clockwise:M,dist:x=E}=(0,t.subStyleProps)(this.getGraphicStyle(u),"loop");return(0,e.getPolylineLoopPath)(y,m,w,M,x,d,f)}}return $S.Polyline=a,a.defaultStyleProps={radius:0,controlPoints:[],router:!1},$S}();Object.defineProperty(n,"Polyline",{enumerable:!0,get:function(){return a.Polyline}});var l=function gIt(){if(mst)return YS;mst=1,Object.defineProperty(YS,"__esModule",{value:!0}),YS.Quadratic=void 0;const n=ZS(),e=Ts,t=jS();class i extends t.BaseEdge{constructor(o){super((0,e.mergeOptions)({style:i.defaultStyleProps},o))}getKeyPath(o){const{curvePosition:s,curveOffset:a}=o,[l,u]=this.getEndpoints(o),d=o.controlPoint||(0,n.getCurveControlPoint)(l,u,s,a);return(0,n.getQuadraticPath)(l,u,d)}}return YS.Quadratic=i,i.defaultStyleProps={curvePosition:.5,curveOffset:30},YS}();Object.defineProperty(n,"Quadratic",{enumerable:!0,get:function(){return l.Quadratic}})}(qot)),qot}(),n),t(Kot(),n)}(Urt)),Urt}(),t=Ho,i=hg,r=lo,o=Fu;function s(et){return et instanceof e.BaseNode&&"node"===et.type}function a(et){return et instanceof e.BaseEdge}function l(et){return et instanceof e.BaseCombo}const f={top:[.5,0],right:[1,.5],bottom:[.5,1],left:[0,.5],default:[.5,.5]};function y(et){if(!et)return{};const St=et.getPorts();return(et.attributes.ports||[]).forEach((Yt,He)=>{var Se;const{key:un,placement:_n}=Yt;b(Yt)&&(St[Se=un||He]||(St[Se]=(0,o.getXYByPlacement)(et.getShape("key").getBounds(),_n)))}),St}function b(et){const{r:St}=et;return!St||0===Number(St)}function E(et){return(0,i.isPoint)(et)?et:et.getPosition()}function M(et,St,Yt,He){const Se=y(et);if(Yt)return Se[Yt];const un=Object.values(Se);if(0===un.length)return;const _n=un.map(yi=>E(yi)),Wn=function x(et,St){const Yt=y(et);if(St)return[E(Yt[St])];const He=Object.values(Yt);return He.length>0?He.map(Se=>E(Se)):[et.getCenter()]}(St,He),[Ln]=(0,r.findNearestPoints)(_n,Wn);return un.find(yi=>E(yi)===Ln)}function k(et,St){if(!et||!St)return[0,0,0];if((0,i.isPoint)(et))return et;if(et.attributes.linkToCenter)return et.getPosition();const Yt=(0,i.isPoint)(St)?St:s(St)?St.getCenter():St.getPosition();return(0,r.getEllipseIntersectPoint)(Yt,et.getBounds())}function T(et,St){if(!et||!St)return[0,0,0];const Yt=(0,i.isPoint)(St)?St:s(St)?St.getCenter():St.getPosition();return et.getIntersectPoint(Yt)||et.getCenter()}return Fo}function ZS(){return bst||(bst=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getRadians=void 0,n.getLabelPositionStyle=u,n.getBadgePositionStyle=function d(X,q,gt,Et,at){var Q,et;const St=2*(null===(Q=X.badge)||void 0===Q?void 0:Q.getGeometryBounds().halfExtents[0])||0,Yt=2*(null===(et=X.label)||void 0===et?void 0:et.getGeometryBounds().halfExtents[0])||0;return u(X.key,gt,!0,(Yt?(Yt/2+St/2)*("suffix"===q?1:-1):0)+Et,at)},n.getCurveControlPoint=function m(X,q,gt,Et){if((0,e.isEqual)(X,q))return X;const at=(0,l.subtract)(q,X),Q=[X[0]+gt*at[0],X[1]+gt*at[1]],et=(0,l.normalize)((0,l.perpendicular)(at,!1));return Q[0]+=Et*et[0],Q[1]+=Et*et[1],Q},n.parseCurveOffset=function y(X){return(0,e.isNumber)(X)?[X,-X]:X},n.parseCurvePosition=function b(X){return(0,e.isNumber)(X)?[X,1-X]:X},n.getQuadraticPath=function E(X,q,gt){return[["M",X[0],X[1]],["Q",gt[0],gt[1],q[0],q[1]]]},n.getCubicPath=w,n.getPolylinePath=M,n.getBorderRadiusPoints=x,n.getLoopEndpoints=k,n.getCubicLoopPath=function T(X,q,gt,Et,at,Q){const et=X.getPorts()[at||Q],St=X.getPorts()[Q||at];let[Yt,He]=k(X,q,gt,et,St);const Se=O(X,Yt,He,Et);return et&&(Yt=(0,r.getPortConnectionPoint)(et,Se[0])),St&&(He=(0,r.getPortConnectionPoint)(St,Se[Se.length-1])),w(Yt,He,Se)},n.getCubicLoopControlPoints=O,n.getPolylineLoopPath=function R(X,q,gt,Et,at,Q,et){const St=(0,r.getAllPorts)(X),Yt=St[Q||et],He=St[et||Q];let[Se,un]=k(X,gt,Et,Yt,He);const _n=L(X,Se,un,at);return Yt&&(Se=(0,r.getPortConnectionPoint)(Yt,_n[0])),He&&(un=(0,r.getPortConnectionPoint)(He,_n[_n.length-1])),M([Se,..._n,un],q)},n.getPolylineLoopControlPoints=L,n.getSubgraphRelatedEdges=function F(X,q){const gt=new Set,Et=new Set,at=new Set;return X.forEach(Q=>{q(Q).forEach(et=>{gt.add(et),X.includes(et.source)&&X.includes(et.target)?Et.add(et):at.add(et)})}),{edges:Array.from(gt),internal:Array.from(Et),external:Array.from(at)}},n.findActualConnectNodeData=function U(X,q){const gt=[];let Et=X;for(;Et;){gt.push(Et);const at=q((0,o.idOf)(Et));if(!at)break;Et=at}if(gt.some(at=>{var Q;return null===(Q=at.style)||void 0===Q?void 0:Q.collapsed})){const at=gt.reverse().findIndex(i.isCollapsed);return gt[at]||gt.at(-1)}return X},n.getArrowSize=function $(X,q){return q||(X<4?10:4===X?12:2.5*X)};const e=Os,t=Ho,i=xH,r=h0(),o=fg,s=lo,a=Sd,l=ns;function u(X,q,gt,Et,at){let Q="number"==typeof q?q:.5;"start"===q&&(Q=0),"end"===q&&(Q=.99);const et=(0,s.parsePoint)(X.getPoint(Q)),St=(0,s.parsePoint)(X.getPoint(Q+.01));let Yt="start"===q?"left":"end"===q?"right":"center";if((0,s.isHorizontal)(et,St)||!gt){const[Wn,Ln]=f(X,Q,Et,at);return{transform:[["translate",Wn,Ln]],textAlign:Yt}}let He=Math.atan2(St[1]-et[1],St[0]-et[0]);St[0]<et[0]&&(Yt="center"===Yt?Yt:"left"===Yt?"right":"left",Et*=-1,He+=Math.PI);const[Se,un]=f(X,Q,Et,at,He);return{textAlign:Yt,transform:[["translate",Se,un],["rotate",He/Math.PI*180]]}}function f(X,q,gt,Et,at){const[Q,et]=(0,s.parsePoint)(X.getPoint(q));let St=gt,Yt=Et;return at&&(St=gt*Math.cos(at)-Et*Math.sin(at),Yt=gt*Math.sin(at)+Et*Math.cos(at)),[Q+St,et+Yt]}function w(X,q,gt){return[["M",X[0],X[1]],["C",gt[0][0],gt[0][1],gt[1][0],gt[1][1],q[0],q[1]]]}function M(X,q=0,gt=!1){const Et=X[0],at=X[X.length-1],Q=X.slice(1,X.length-1),et=[["M",Et[0],Et[1]]];return Q.forEach((St,Yt)=>{const He=Q[Yt-1]||Et,Se=Q[Yt+1]||at;if(!(0,s.isCollinear)(He,St,Se)&&q){const[un,_n]=x(He,St,Se,q);et.push(["L",un[0],un[1]],["Q",St[0],St[1],_n[0],_n[1]],["L",_n[0],_n[1]])}else et.push(["L",St[0],St[1]])}),et.push(["L",at[0],at[1]]),gt&&et.push(["Z"]),et}function x(X,q,gt,Et){const at=(0,l.manhattanDistance)(X,q),Q=(0,l.manhattanDistance)(gt,q),et=Math.min(Et,Math.min(at,Q)/2);return[[q[0]-et/at*(q[0]-X[0]),q[1]-et/at*(q[1]-X[1])],[q[0]-et/Q*(q[0]-gt[0]),q[1]-et/Q*(q[1]-gt[1])]]}function k(X,q,gt,Et,at){const Q=(0,t.getNodeBBox)(X),et=X.getCenter();let St=Et&&(0,r.getPortPosition)(Et),Yt=at&&(0,r.getPortPosition)(at);if(!St||!Yt){const He=(0,n.getRadians)(Q),Se=He[q][0],un=He[q][1],[_n,Wn]=(0,t.getBBoxSize)(Q),Ln=Math.max(_n,Wn),yi=(0,l.add)(et,[Ln*Math.cos(Se),Ln*Math.sin(Se),0]),Or=(0,l.add)(et,[Ln*Math.cos(un),Ln*Math.sin(un),0]);St=(0,r.getNodeConnectionPoint)(X,yi),Yt=(0,r.getNodeConnectionPoint)(X,Or),gt||([St,Yt]=[Yt,St])}return[St,Yt]}function O(X,q,gt,Et){const at=X.getCenter();if((0,e.isEqual)(q,gt)){const Q=(0,l.subtract)(q,at),et=[Et*Math.sign(Q[0])||Et/2,Et*Math.sign(Q[1])||-Et/2,0];return[(0,l.add)(q,et),(0,l.add)(gt,(0,l.multiply)(et,[1,-1,1]))]}return[(0,s.moveTo)(at,q,(0,l.distance)(at,q)+Et),(0,s.moveTo)(at,gt,(0,l.distance)(at,gt)+Et)]}function L(X,q,gt,Et){const at=[],Q=(0,t.getNodeBBox)(X);if((0,e.isEqual)(q,gt))switch((0,t.getNearestBoundarySide)(q,Q)){case"left":at.push([q[0]-Et,q[1]]),at.push([q[0]-Et,q[1]+Et]),at.push([q[0],q[1]+Et]);break;case"right":at.push([q[0]+Et,q[1]]),at.push([q[0]+Et,q[1]+Et]),at.push([q[0],q[1]+Et]);break;case"top":at.push([q[0],q[1]-Et]),at.push([q[0]+Et,q[1]-Et]),at.push([q[0]+Et,q[1]]);break;case"bottom":at.push([q[0],q[1]+Et]),at.push([q[0]+Et,q[1]+Et]),at.push([q[0]+Et,q[1]])}else{const et=(0,t.getNearestBoundarySide)(q,Q),St=(0,t.getNearestBoundarySide)(gt,Q);if(et===St){let He,Se;switch(et){case"left":He=Math.min(q[0],gt[0])-Et,at.push([He,q[1]]),at.push([He,gt[1]]);break;case"right":He=Math.max(q[0],gt[0])+Et,at.push([He,q[1]]),at.push([He,gt[1]]);break;case"top":Se=Math.min(q[1],gt[1])-Et,at.push([q[0],Se]),at.push([gt[0],Se]);break;case"bottom":Se=Math.max(q[1],gt[1])+Et,at.push([q[0],Se]),at.push([gt[0],Se])}}else{const Yt=(_n,Wn)=>({left:[Wn[0]-Et,Wn[1]],right:[Wn[0]+Et,Wn[1]],top:[Wn[0],Wn[1]-Et],bottom:[Wn[0],Wn[1]+Et]}[_n]),He=Yt(et,q),Se=Yt(St,gt),un=(0,a.freeJoin)(He,Se,Q);at.push(He,un,Se)}}return at}n.getRadians=X=>{const q=Math.PI/2,gt=(0,t.getBBoxHeight)(X)/2,Et=(0,t.getBBoxWidth)(X)/2,at=Math.atan2(gt,Et)/2,Q=Math.atan2(Et,gt)/2;return{top:[-q-Q,-q+Q],"top-right":[-q+Q,-at],"right-top":[-q+Q,-at],right:[-at,at],"bottom-right":[at,q-Q],"right-bottom":[at,q-Q],bottom:[q-Q,q+Q],"bottom-left":[q+Q,Math.PI-at],"left-bottom":[q+Q,Math.PI-at],left:[Math.PI-at,Math.PI+at],"top-left":[Math.PI+at,-q-Q],"left-top":[Math.PI+at,-q-Q]}}}(zrt)),zrt}var _st=ZS();const oE=[16,16],Est=[12,10],wst=(n,e,t)=>{const i=6+oE[0];if(n&&e)return[3,i,3,i];if(t){if(n)return[3,i,3,6];if(e)return[3,6,3,i]}else{if(n)return[3,6,3,i];if(e)return[3,i,3,6]}return[3,6,3,6]},I4=n=>{const e=oy(n.getPoint(.5));return oy(n.getPoint(.51))[0]<e[0]},xst=(n,e)=>{const t=n.getShape("icon")||n,i=e.getShape("icon")||e;return[t.getPosition(),i.getPosition()]},Mst=(n,e,t=0,i=0,r=!0)=>{if(function _It(n,e){const t=oy(n.getPoint(e)),i=oy(n.getPoint(e+.01));return t[1]===i[1]}(n,e)){const[l,u]=Cst(n,e,t,i);return{translate:{x:l,y:u},rotate:0}}let o=((n,e)=>{const t=oy(n.getPoint(e)),i=oy(n.getPoint(e+.01));return Math.atan2(i[1]-t[1],i[0]-t[0])})(n,e);I4(n)&&r&&(t*=-1,o+=Math.PI);const[s,a]=Cst(n,e,t,i,o);return{translate:{x:s,y:a},rotate:o/Math.PI*180}};function Cst(n,e,t,i,r){const[o,s]=oy(n.getPoint(e));let a=t,l=i;return r&&(a=t*Math.cos(r)-i*Math.sin(r),l=t*Math.sin(r)+i*Math.cos(r)),[o+a,s+l]}const fa=n=>{var e;const t=null==(e=n.context)?void 0:e.graph;return t?.mxGraph};function KH(n,e,t){var i;const r=(new DOMParser).parseFromString(n,"image/svg+xml").querySelector(`#${e}`);if(!r)throw new Error(`Icon "${e}" not found`);return t&&(null==(i=r?.querySelectorAll('[fill]:not([fill="none"])'))||i.forEach(o=>{o.setAttribute("fill",t)}),r?.setAttribute("fill",t)),function CIt(n){const e=(new XMLSerializer).serializeToString(n),t=`data:image/svg+xml;base64,${btoa(e)}`,i=new Image;return i.src=t,i}(r)}const Sst=()=>-1!==navigator.userAgent.indexOf("Macintosh"),mg=n=>{const e=n.getLocalBounds(),t=n.getLocalPosition();return{x:t[0],y:t[1],width:e.max[0]-e.min[0],height:e.max[1]-e.min[1],min:{x:e.min[0],y:e.min[1]},max:{x:e.max[0],y:e.max[1]}}},gg=(n=[],e)=>e.every(t=>n.some(i=>i===t)),Dst=(n=0)=>e=>`\x1b[${e+n}m`,Tst=(n=0)=>e=>`\x1b[${38+n};5;${e}m`,Ast=(n=0)=>(e,t,i)=>`\x1b[${38+n};2;${e};${t};${i}m`,ms={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};Object.keys(ms.modifier),Object.keys(ms.color),Object.keys(ms.bgColor);const Nf=function TIt(){const n=new Map;for(const[e,t]of Object.entries(ms)){for(const[i,r]of Object.entries(t))ms[i]={open:`\x1b[${r[0]}m`,close:`\x1b[${r[1]}m`},t[i]=ms[i],n.set(r[0],r[1]);Object.defineProperty(ms,e,{value:t,enumerable:!1})}return Object.defineProperty(ms,"codes",{value:n,enumerable:!1}),ms.color.close="\x1b[39m",ms.bgColor.close="\x1b[49m",ms.color.ansi=Dst(),ms.color.ansi256=Tst(),ms.color.ansi16m=Ast(),ms.bgColor.ansi=Dst(10),ms.bgColor.ansi256=Tst(10),ms.bgColor.ansi16m=Ast(10),Object.defineProperties(ms,{rgbToAnsi256:{value:(e,t,i)=>e===t&&t===i?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(t/255*5)+Math.round(i/255*5),enumerable:!1},hexToRgb:{value(e){const t=/[a-f\d]{6}|[a-f\d]{3}/i.exec(e.toString(16));if(!t)return[0,0,0];let[i]=t;3===i.length&&(i=[...i].map(o=>o+o).join(""));const r=Number.parseInt(i,16);return[r>>16&255,r>>8&255,255&r]},enumerable:!1},hexToAnsi256:{value:e=>ms.rgbToAnsi256(...ms.hexToRgb(e)),enumerable:!1},ansi256ToAnsi:{value(e){if(e<8)return 30+e;if(e<16)return e-8+90;let t,i,r;if(e>=232)t=(10*(e-232)+8)/255,i=t,r=t;else{const a=(e-=16)%36;t=Math.floor(e/36)/5,i=Math.floor(a/6)/5,r=a%6/5}const o=2*Math.max(t,i,r);if(0===o)return 30;let s=30+(Math.round(r)<<2|Math.round(i)<<1|Math.round(t));return 2===o&&(s+=60),s},enumerable:!1},rgbToAnsi:{value:(e,t,i)=>ms.ansi256ToAnsi(ms.rgbToAnsi256(e,t,i)),enumerable:!1},hexToAnsi:{value:e=>ms.ansi256ToAnsi(ms.hexToAnsi256(e)),enumerable:!1}}),ms}(),R4=(()=>{if(navigator.userAgentData){const n=navigator.userAgentData.brands.find(({brand:e})=>"Chromium"===e);if(n&&n.version>93)return 3}return/\b(Chrome|Chromium)\//.test(navigator.userAgent)?1:0})(),Ost=0!==R4&&{level:R4,hasBasic:!0,has256:R4>=2,has16m:R4>=3},AIt={stdout:Ost,stderr:Ost};function OIt(n,e,t){let i=n.indexOf(e);if(-1===i)return n;const r=e.length;let o=0,s="";do{s+=n.slice(o,i)+e+t,o=i+r,i=n.indexOf(e,o)}while(-1!==i);return s+=n.slice(o),s}const{stdout:kst,stderr:Ist}=AIt,YH=Symbol("GENERATOR"),sE=Symbol("STYLER"),QS=Symbol("IS_EMPTY"),Rst=["ansi","ansi","ansi256","ansi16m"],aE=Object.create(null);function qS(n){return(n=>{const e=(...t)=>t.join(" ");return((n,e={})=>{if(e.level&&!(Number.isInteger(e.level)&&e.level>=0&&e.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");n.level=void 0===e.level?kst?kst.level:0:e.level})(e,n),Object.setPrototypeOf(e,qS.prototype),e})(n)}Object.setPrototypeOf(qS.prototype,Function.prototype);for(const[n,e]of Object.entries(Nf))aE[n]={get(){const t=P4(this,QH(e.open,e.close,this[sE]),this[QS]);return Object.defineProperty(this,n,{value:t}),t}};aE.visible={get(){const n=P4(this,this[sE],!0);return Object.defineProperty(this,"visible",{value:n}),n}};const ZH=(n,e,t,...i)=>"rgb"===n?"ansi16m"===e?Nf[t].ansi16m(...i):"ansi256"===e?Nf[t].ansi256(Nf.rgbToAnsi256(...i)):Nf[t].ansi(Nf.rgbToAnsi(...i)):"hex"===n?ZH("rgb",e,t,...Nf.hexToRgb(...i)):Nf[t][n](...i),PIt=["rgb","hex","ansi256"];for(const n of PIt)aE[n]={get(){const{level:t}=this;return function(...i){const r=QH(ZH(n,Rst[t],"color",...i),Nf.color.close,this[sE]);return P4(this,r,this[QS])}}},aE["bg"+n[0].toUpperCase()+n.slice(1)]={get(){const{level:t}=this;return function(...i){const r=QH(ZH(n,Rst[t],"bgColor",...i),Nf.bgColor.close,this[sE]);return P4(this,r,this[QS])}}};const NIt=Object.defineProperties(()=>{},{...aE,level:{enumerable:!0,get(){return this[YH].level},set(n){this[YH].level=n}}}),QH=(n,e,t)=>{let i,r;return void 0===t?(i=n,r=e):(i=t.openAll+n,r=e+t.closeAll),{open:n,close:e,openAll:i,closeAll:r,parent:t}},P4=(n,e,t)=>{const i=(...r)=>LIt(i,1===r.length?""+r[0]:r.join(" "));return Object.setPrototypeOf(i,NIt),i[YH]=n,i[sE]=e,i[QS]=t,i},LIt=(n,e)=>{if(n.level<=0||!e)return n[QS]?"":e;let t=n[sE];if(void 0===t)return e;const{openAll:i,closeAll:r}=t;if(e.includes("\x1b"))for(;void 0!==t;)e=OIt(e,t.close,t.open),t=t.parent;const o=e.indexOf("\n");return-1!==o&&(e=function kIt(n,e,t,i){let r=0,o="";do{const s="\r"===n[i-1];o+=n.slice(r,s?i-1:i)+e+(s?"\r\n":"\n")+t,r=i+1,i=n.indexOf("\n",r)}while(-1!==i);return o+=n.slice(r),o}(e,r,i,o)),i+e+r};Object.defineProperties(qS.prototype,aE);const qH=qS();qS({level:Ist?Ist.level:0});const Pst="color-schemes",Nst="color-palettes",jIt=n=>{const e=i=>0===i.length?[]:i.map(r=>{const o=n.filter(s=>s?.treeParentId===r.id);return{...r,children:e(o)}}),t=n.filter(i=>!(null!=i&&i.treeParentId&&n.find(r=>r.id===i?.treeParentId)));return e(t)},Bst={"background-neutral-default":"#F7FAF9","text-neutral-default":"#191C1C","text-neutral-default-subtle":"#3F4948","background-neutral-subtle":"#FFFFFF","background-neutral-inverse":"#2D3131","text-neutral-inverse":"#EFF1F0","icon-primary-default":"#008585","icon-error-default":"#DE3730","icon-warning-default":"#ED9900","icon-success-default":"#378648","icon-info-default":"#0078DA","border-primary-default":"#008585","border-error-default":"#DE3730","border-warning-default":"#ED9900","border-success-default":"#378648","border-info-default":"#0078DA","path/outline-neutral-default":"#3F4948","guides/outline-accent":"#FF5449","background-primary-default":"#6FF7F6","background-primary-hovered":"#4CDADA","background-neutral-hovered":"#C4C7C6","background-error-default":"#FFDAD6","background-error-hovered":"#FFB4AB","background-warning-default":"#FFDDB7","background-warning-hovered":"#FFB95C","background-success-default":"#A2F6AB","background-success-hovered":"#87D991","background-info-default":"#D4E3FF","background-info-hovered":"#A5C8FF"},jst={"background-neutral-default":"#101414","text-neutral-default":"#E0E3E2","text-neutral-default-subtle":"#A3ADAD","background-neutral-subtle":"#0B0F0F","background-neutral-inverse":"#E0E3E2","text-neutral-inverse":"#191C1C","icon-primary-default":"#1EBEBE","icon-error-default":"#FF897D","icon-warning-default":"#ED9900","icon-success-default":"#6CBD78","icon-info-default":"#72ADFF","border-primary-default":"#1EBEBE","border-error-default":"#FF897D","border-warning-default":"#ED9900","border-success-default":"#6CBD78","border-info-default":"#72ADFF","path/outline-neutral-default":"#BEC9C8","guides/outline-accent":"#FF5449","background-primary-default":"#004F4F","background-primary-hovered":"#006A6A","background-neutral-hovered":"#5B5F5F","background-error-default":"#93000A","background-error-hovered":"#BA1A1A","background-warning-default":"#653E00","background-warning-hovered":"#855400","background-success-default":"#005320","background-success-hovered":"#186C32","background-info-default":"#004786","background-info-hovered":"#005FAF"},Vst={palettes:{"primary/primary-0":"#000000","red/red-0":"#000000","red/red-10":"#410002","red/red-20":"#690005","red/red-30":"#93000A","red/red-40":"#BA1A1A","red/red-50":"#DE3730","red/red-60":"#FF5449","red/red-70":"#FF897D","red/red-80":"#FFB4AB","red/red-90":"#FFDAD6","red/red-95":"#FFEDEA","primary/primary-10":"#002020","primary/primary-20":"#003737","primary/primary-30":"#004F4F","primary/primary-40":"#006A6A","primary/primary-50":"#008585","primary/primary-60":"#00A1A1","primary/primary-70":"#1EBEBE","primary/primary-80":"#4CDADA","primary/primary-90":"#6FF7F6","primary/primary-95":"#ADFFFE","primary/primary-99":"#F1FFFE","red/red-99":"#FFFBFF","yellow/yellow-0":"#000000","yellow/yellow-10":"#2A1700","yellow/yellow-20":"#462A00","yellow/yellow-30":"#653E00","yellow/yellow-40":"#855400","yellow/yellow-50":"#A66A00","yellow/yellow-60":"#C98100","yellow/yellow-70":"#ED9900","yellow/yellow-80":"#FFB95C","yellow/yellow-90":"#FFDDB7","yellow/yellow-95":"#FFEEDE","green/green-0":"#000000","green/green-10":"#002109","green/green-20":"#003914","green/green-30":"#005320","green/green-40":"#186C32","green/green-50":"#378648","yellow/yellow-99":"#FFFBFF","green/green-60":"#52A160","green/green-70":"#6CBD78","green/green-80":"#87D991","green/green-90":"#A2F6AB","green/green-95":"#C6FFC8","blue/blue-0":"#000000","blue/blue-10":"#001C3A","green/green-99":"#F6FFF1","blue/blue-20":"#00315F","blue/blue-30":"#004786","blue/blue-40":"#005FAF","blue/blue-50":"#0078DA","blue/blue-60":"#2792FF","blue/blue-70":"#72ADFF","blue/blue-80":"#A5C8FF","blue/blue-90":"#D4E3FF","blue/blue-95":"#EBF1FF","grey/grey-0":"#000000","grey/grey-4":"#0B0F0F","grey/grey-6":"#101414","grey/grey-10":"#191C1C","grey/grey-20":"#2D3131","grey/grey-30":"#444747","grey/grey-40":"#5B5F5F","grey/grey-50":"#747877","grey/grey-60":"#8E9191","grey/grey-70":"#A9ACAB","grey/grey-80":"#C4C7C6","grey/grey-90":"#E0E3E2","grey/grey-92":"#E6E9E8","grey/grey-95":"#EFF1F0","blue-grey/blue-grey-0":"#000000","blue-grey/blue-grey-10":"#141D1D","blue-grey/blue-grey-20":"#293232","blue-grey/blue-grey-30":"#3F4948","blue-grey/blue-grey-40":"#566060","blue-grey/blue-grey-50":"#6F7979","blue-grey/blue-grey-60":"#889392","blue-grey/blue-grey-70":"#A3ADAD","blue-grey/blue-grey-80":"#BEC9C8","blue-grey/blue-grey-90":"#DAE5E4","blue-grey/blue-grey-92":"#E0EBEA","blue-grey/blue-grey-95":"#E9F3F2","blue/blue-99":"#FDFCFF","grey/grey-98":"#F7FAF9","primary/primary-100":"#FFFFFF","red/red-100":"#FFFFFF","yellow/yellow-100":"#FFFFFF","green/green-100":"#FFFFFF","blue/blue-100":"#FFFFFF","grey/grey-100":"#FFFFFF","blue-grey/blue-grey-100":"#FFFFFF"},light:Bst,dark:jst},JH=(n,e,t,i="light")=>{var r;if(!n.tokenConfig)return;const o=null==(r=n.tokenConfig)?void 0:r[i],s=t.includes("active"),a=t.includes("selected");let l=o["path/outline-neutral-default"];return"default"===e&&(s||a)?l=o["path/outline-neutral-default"]:"info"===e?l=o["border-info-default"]:"success"===e?l=o["border-success-default"]:"warning"===e?l=o["border-warning-default"]:"error"===e&&(l=o["border-error-default"]),l},zst=(n,e)=>{const[t,i]=qi(n)?n:[n,n];return{start:t,end:i}[e]},tG=(n,e,t)=>{const{lineHighlightColor:i,color:r}=n,[o,s]=qi(i)?i:[i,i],a=fa(n),l=JH(a,o,e,t),u=JH(a,s,e,t);return{stroke:r||`linear-gradient(${l} 50%, ${u} 50%)`}},Ust=(n,e)=>fa(e).isElementExist(n.id)?e.context.model.getElementState(n.id):[],eG=(n,e)=>{const t=qr(n.getGraphicStyle(e),"label"),{placement:i,offsetX:r,offsetY:o,autoRotate:s,maxWidth:a,textAlign:l,position:u,type:d,startArrow:f,endArrow:m,fill:y,color:b,customBackground:E,...w}=t,M=((n,e="light")=>{const{color:t,position:i,type:r,customBackground:o}=qr(n,"label"),s=Vst[e];let a=s["text-neutral-default"],l=s["background-neutral-default"],u="transparent";const d=zst(n.lineHighlightColor,i<=.5?"start":"end");"filled"===r?(a=s["text-neutral-inverse"],l=s["background-neutral-inverse"]):"outlined"===r&&(l=s["background-neutral-default"],u=s["path/outline-neutral-default"],"info"===d?u=s["border-info-default"]:"success"===d?u=s["border-success-default"]:"warning"===d?u=s["border-warning-default"]:"error"===d&&(u=s["border-error-default"]));const f=_i(o?.radius)?4:o.radius,m=_i(o?.borderWidth)?1:o.borderWidth;return{fill:t||a,background:!0,backgroundFill:o?.color||l,backgroundStroke:o?.borderColor||u,backgroundRadius:f,backgroundLineWidth:m,backgroundOpacity:1}})(e,fa(e).getTheme()),{translate:x,rotate:D}=Mst(n.getShape("key"),_i(u)?.5:u,0,o),k=s?`translate(${x.x}, ${x.y}) rotate(${D})`:`translate(${x.x}, ${x.y})`,T=n.getShape("key"),O=I4(T);return{...w,...M,textAlign:l||"center",textBaseline:"middle",padding:wst(f,m,O),transform:k}},lE=(n,e,t)=>{const{fill:r}=((n,e,t,i="light")=>{const{color:r,lineHighlightColor:o}=n,s=fa(n),a=zst(o,t),l=JH(s,a,e,i);return{fill:r||l}})(e,Ust(n,e),t,fa(e).getTheme()),{translate:o,rotate:s}=Mst(n.getShape("key"),.5,"start"===t?-Est[0]:0,-Est[1]/2,!1);return{src:KH(fa(e).iconSpriteText,{start:"edge_start_arrow",end:"edge_end_arrow"}[t],r),width:12,height:10,transform:`translate(${o.x}, ${o.y}) rotate(${s})`}},nG=(n,e)=>{var t;const i=I4(n.getShape("key"));null==(t=e.labels)||t.forEach(r=>{const{labelId:o,labelStartArrow:s,labelEndArrow:a}=r,l=n.getShape(`label-${o}`),u=l.style,d={...e,...r},[f,m]=i?[a,s]:[s,a];[{type:"start",key:"startArrow",arrow:f},{type:"end",key:"endArrow",arrow:m}].forEach(({type:y,arrow:b,key:E})=>{var w;if(!1===b&&(null==(w=u[E])||w.destroy(),delete u[E]),!0===b){const M=((n,e,t)=>{const{id:i,startArrow:r,endArrow:o,type:s}=qr(n.getGraphicStyle(e),"label"),a=n.getShape("key"),l=n.getShape(`label-${i}`),u=I4(a),f=((n,e,t)=>{const{halfExtents:r}=n.getGeometryBounds(),s=t[1]===t[3]?0:t[1]>t[3]?t[3]:t[1],a=[-r[0]-s+4,-oE[0]/2],l=[r[0]-oE[0]+s-4,-oE[0]/2],u=[[1*a[0],a[1]],[1*l[0],l[1]]];return"start"===e?u[0]:"end"===e?u[1]:[0,0]})(l,t,wst(r,o,u)),m=`translate(${f[0]}, ${f[1]})`,b="filled"===s?"white":"black";return{src:KH(fa(e).iconSpriteText,{start:"arrow-back",end:"arrow-forward"}[t],b),width:oE[0],height:oE[1],transform:m,zIndex:1}})(n,d,y),x=new Lc({style:M});u[E]=x,l.appendChild(u[E])}})})},iG=n=>{const e=n.shapeMap;Object.keys(e).filter(t=>t.startsWith("label-")).forEach(t=>{var i;null==(i=e[t])||i.destroy(),delete e[t]})};hc(oa.EDGE,"line-edge",class GIt extends zK{getEndpoints(e){return xst(this.sourceNode,this.targetNode)||super.getEndpoints(e)}getKeyStyle(e){return{...super.getKeyStyle(e),...tG(e,Ust(this,e),fa(e).getTheme())}}getLoopPath(e){const{sourcePort:t,targetPort:i}=e,r=this.sourceNode.getShape("icon");r.getPorts=this.sourceNode.getPorts,r.getIntersectPoint=this.sourceNode.getIntersectPoint,r.getCenter=()=>r.getBounds().center,r.getShape=d=>r;const o=DAt(r.getPosition()),s=Math.max(CAt(o),SAt(o)),{placement:a,clockwise:l,dist:u=s}=qr(this.getGraphicStyle(e),"loop");return _st.getCubicLoopPath(r,a,l,u,t,i)}drawCustomLabelShape(e,t){var i;iG(this),null==(i=e.labels)||i.forEach(r=>{const o=eG(this,{...e,...r});this.upsert(`label-${r.labelId}`,Yp,o,t)})}drawMiddleArrow(e,t){var i,r;const{direction:o}=e,s="middle-start-arrow",a="middle-end-arrow";"forward"!==o&&(null==(i=this.shapeMap[s])||i.destroy(),delete this.shapeMap[s]),"backward"!==o&&(null==(r=this.shapeMap[a])||r.destroy(),delete this.shapeMap[a]),("forward"===e.direction||"both"===e.direction)&&this.upsert("middle-start-arrow",Lc,lE(this,e,"start"),t),("backward"===e.direction||"both"===e.direction)&&this.upsert("middle-end-arrow",Lc,lE(this,e,"end"),t)}render(e,t){super.render(e),this.drawCustomLabelShape(e,t),this.drawMiddleArrow(e,t),nG(this,e)}});var Hst=h0();hc(oa.EDGE,"polyline-edge",class $It extends WK{get states(){return this.isEdgeExist?this.parsedAttributes.context.model.getElementState(this.id):[]}get isEdgeExist(){return this.parsedAttributes.context.model.hasEdge(this.id)}getSourceTarget(e=!1){const{sourceNode:t,targetNode:i}=this,r=t.getShape("icon")||t,o=i.getShape("icon")||i;return e?{source:[r.getPosition()[0],r.getPosition()[1]],target:[o.getPosition()[0],o.getPosition()[1]]}:{source:r,target:o}}getKeyPath(e){const{radius:t}=e,i=this.getPoints(e);return _st.getPolylinePath(i,t)}getPoints(e){const{router:t}=e,{source:i,target:r}=this.getSourceTarget(!0),[o,s]=this.getEndpoints(e);let a=[];if(t)if("shortest-path"===t.type){const d=this.context.element.getNodes();a=aIt(i,r,d,t),a.length||(a=ost(o,s,i,r,e.controlPoints,{padding:t.offset}))}else"orth"===t.type&&(a=ost(o,s,i,r,e.controlPoints,t));else a=e.controlPoints;const[l,u]=this.getEndpoints(e,!0,a);return[l,...a,u]}getEndpoints(e,t=!0,i=[]){const{source:r,target:o}=this.getSourceTarget(!0),s="function"==typeof i?i():i;return[Hst.getConnectionPoint(r,s[0]||o),Hst.getConnectionPoint(o,s[s.length-1]||r)]}getKeyStyle(e){return{...super.getKeyStyle(e),...tG(e,this.states,fa(e).getTheme())}}drawCustomLabelShape(e,t){var i;iG(this),null==(i=e.labels)||i.forEach(r=>{const o=eG(this,{...e,...r});this.upsert(`label-${r.labelId}`,Yp,o,t)})}drawMiddleArrow(e,t){var i,r;const{direction:o}=e,s="middle-start-arrow",a="middle-end-arrow";"forward"!==o&&(null==(i=this.shapeMap[s])||i.destroy(),delete this.shapeMap[s]),"backward"!==o&&(null==(r=this.shapeMap[a])||r.destroy(),delete this.shapeMap[a]),("forward"===e.direction||"both"===e.direction)&&this.upsert("middle-start-arrow",Lc,lE(this,e,"start"),t),("backward"===e.direction||"both"===e.direction)&&this.upsert("middle-end-arrow",Lc,lE(this,e,"end"),t)}render(e,t){super.render(e),this.drawCustomLabelShape(e,t),this.drawMiddleArrow(e,t),nG(this,e)}}),hc(oa.EDGE,"quadratic-edge",class WIt extends KK{get states(){return this.isEdgeExist?this.parsedAttributes.context.model.getElementState(this.id):[]}get isEdgeExist(){return this.parsedAttributes.context.model.hasEdge(this.id)}getEndpoints(e){return xst(this.sourceNode,this.targetNode)||super.getEndpoints(e)}getKeyStyle(e){return{...super.getKeyStyle(e),...tG(e,this.states,fa(e).getTheme())}}drawCustomLabelShape(e,t){var i;iG(this),null==(i=e.labels)||i.forEach(r=>{const o=eG(this,{...e,...r});this.upsert(`label-${r.labelId}`,Yp,o,t)})}drawMiddleArrow(e,t){var i,r;const{direction:o}=e,s="middle-start-arrow",a="middle-end-arrow";"forward"!==o&&(null==(i=this.shapeMap[s])||i.destroy(),delete this.shapeMap[s]),"backward"!==o&&(null==(r=this.shapeMap[a])||r.destroy(),delete this.shapeMap[a]),("forward"===e.direction||"both"===e.direction)&&this.upsert("middle-start-arrow",Lc,lE(this,e,"start"),t),("backward"===e.direction||"both"===e.direction)&&this.upsert("middle-end-arrow",Lc,lE(this,e,"end"),t)}render(e,t){super.render(e),this.drawCustomLabelShape(e,t),this.drawMiddleArrow(e,t),nG(this,e)}});const Gst=n=>{if(!n)return{};const{stroke:e,lineWidth:t,lineDash:i,lineHighlightColor:r}=n,o={};return e&&(o.color=e),t&&(o.lineWidth=t),i&&(o.lineDash=n.lineDash),r&&(o.highlight=r),o},$st=n=>({type:{"line-edge":"line-edge","quadratic-edge":"quadratic-edge","polyline-edge":"polyline-edge"}[n||"line-edge"]}),Wst=n=>n?{labels:n.map((e,t)=>{const i={id:e.labelId||+t,show:!!e.label},{labelText:r,labelFill:o,labelMaxWidth:s,labelOffsetX:a,labelOffsetY:l,labelFontSize:u,labelFontFamily:d,labelWordWrap:f,labelWordWrapWidth:m,labelMaxLines:y,labelPosition:b,labelType:E,labelStartArrow:w,labelEndArrow:M,labelAutoRotate:x,labelCustomBackground:D}=e;return r&&(i.text=r),o&&(i.color=o),_i(s)||(i.maxWidth=s),(a||l)&&(i.offset={x:a||0,y:l||0}),u&&(i.fontSize=u),d&&(i.fontFamily=d),_i(f)||(i.wordWrap=f),_i(m)||(i.wordWrapWidth=m),_i(y)||(i.maxLines=y),_i(b)||(i.position=b),_i(E)||(i.type=E),_i(w)||(i.startArrow=w),_i(M)||(i.endArrow=M),_i(D)||(i.background=D),_i(x)||(i.autoRotate=x),i})}:{},Kst=n=>{if(!n)return{};const{startArrow:e,startArrowType:t,startArrowSize:i,startArrowOffset:r,endArrow:o,endArrowType:s,endArrowSize:a,endArrowOffset:l,direction:u}=n,d={};return void 0!==e&&(d.start=e),void 0!==o&&(d.end=o),(t||i)&&(d.start={type:t,size:i,offset:r}),(s||a)&&(d.end={type:s,size:a,offset:l}),u&&(d.direction=u),{arrows:d}},cE_toEdgeData=n=>{var e;const{id:t,source:i,target:r,data:o}=n;return{id:t,source:i,target:r,customData:o,config:{type:"line-edge"},config:{...Gst(n.style),...$st(n.type),...Kst(n.style),...Wst(null==(e=n.style)?void 0:e.labels),...n.states&&{states:n.states}}}},Xst=n=>{const e={};return n.color&&(e.stroke=n.color,e.color=n.color),n.lineWidth&&(e.lineWidth=n.lineWidth),n.lineDash&&(e.lineDash=n.lineDash),n.highlight&&(e.lineHighlightColor=n.highlight),e},rG=n=>n?{type:{"line-edge":"line-edge","quadratic-edge":"quadratic-edge","polyline-edge":"polyline-edge"}[n]}:{},Yst=n=>{const e={label:n.show??!0,labelAutoRotate:!1,labelFontSize:12},{text:t,color:i,background:r,maxWidth:o,offset:s,fontSize:a,fontFamily:l,wordWrap:u,wordWrapWidth:d,maxLines:f,autoRotate:m,position:y,type:b,startArrow:E,endArrow:w}=n;if(t&&(e.labelText=t),i&&(e.labelFill=i,e.labelColor=i),r&&(e.labelCustomBackground=r),_i(o)||(e.labelMaxWidth=o),s){const{x:M,y:x}=s;M&&(e.labelOffsetX=M),x&&(e.labelOffsetY=x)}return a&&(e.labelFontSize=a),l&&(e.labelFontFamily=l),_i(u)||(e.labelWordWrap=u),_i(d)||(e.labelWordWrapWidth=d),_i(f)||(e.labelMaxLines=f),_i(m)||(e.labelAutoRotate=m),Object.assign(e,{labelPosition:y,labelType:b,labelStartArrow:E,labelEndArrow:w})},YIt=n=>n?{labels:n.map((e,t)=>({...Yst(e),labelId:e.id||t}))}:{},Zst=n=>{if(!n)return{};const{start:e,end:t,direction:i}=n,r={startArrow:!!e,endArrow:!!t,direction:i};return mo(e)&&(e.type&&(r.startArrowType=e.type),e.src&&(r.startArrowSrc=e.src),e.size&&(r.startArrowSize=e.size),e.offset&&(r.startArrowOffset=e.offset)),mo(t)&&(t.type&&(r.endArrowType=t.type),t.size&&(r.endArrowSize=t.size),t.src&&(r.endArrowSrc=t.src),t.offset&&(r.endArrowOffset=t.offset)),r},Qst=n=>{if(!n)return{};const{curveOffset:e,placement:t}=n,i={};return e&&(i.loopDist=e),t&&(i.loopPlacement=t),i},qst=n=>"polyline-edge"!==n.type?{}:{router:{type:"orth"}},Jst=n=>{if(!n)return{};const{curveOffset:e,curvePosition:t}=n,i={curveOffset:50};return e&&(i.curveOffset=e),t&&(i.curvePosition=t),i},JS_toEdgeData=(n,e={full:!1})=>{const{id:t,source:i,target:r,config:o,customData:s}=n,a=e.full?{id:t,config:o,data:s,type:"line-edge",source:i,target:r,style:{labelFontFamily:"Roboto",increasedLineWidthForHitTesting:20}}:{id:t,...rG(o?.type)};if(s&&(a.data=s),!o)return a;const l={...a,...rG(o.type),style:{...a.style,...Xst(o),...YIt(o.labels),...Zst(o.arrows),...Jst(o.quadratic),...Qst(o.loop),...qst(o)}};return i&&(l.source=i),r&&(l.target=r),o.states&&(l.states=o.states),l};var tat={exports:{}},eat=[],tD=[];function nat(n,e){if(e=e||{},void 0===n)throw new Error("insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).");var o,t=!0===e.prepend?"prepend":"append",i=void 0!==e.container?e.container:document.querySelector("head"),r=eat.indexOf(i);return-1===r&&(r=eat.push(i)-1,tD[r]={}),void 0!==tD[r]&&void 0!==tD[r][t]?o=tD[r][t]:(o=tD[r][t]=function QIt(){var n=document.createElement("style");return n.setAttribute("type","text/css"),n}(),"prepend"===t?i.insertBefore(o,i.childNodes[0]):i.appendChild(o)),65279===n.charCodeAt(0)&&(n=n.substr(1,n.length)),o.styleSheet?o.styleSheet.cssText+=n:o.textContent+=n,o}tat.exports=nat;var qIt=tat.exports.insertCss=nat;const nRt={version:"1.0.4",metadata:{},collections:[{name:"color-palettes",modes:[{name:"value",variables:[{name:"primary/primary-0",type:"color",isAlias:!1,value:"#000000"},{name:"red/red-0",type:"color",isAlias:!1,value:"#000000"},{name:"red/red-10",type:"color",isAlias:!1,value:"#410002"},{name:"red/red-20",type:"color",isAlias:!1,value:"#690005"},{name:"red/red-30",type:"color",isAlias:!1,value:"#93000A"},{name:"red/red-40",type:"color",isAlias:!1,value:"#BA1A1A"},{name:"red/red-50",type:"color",isAlias:!1,value:"#DE3730"},{name:"red/red-60",type:"color",isAlias:!1,value:"#FF5449"},{name:"red/red-70",type:"color",isAlias:!1,value:"#FF897D"},{name:"red/red-80",type:"color",isAlias:!1,value:"#FFB4AB"},{name:"red/red-90",type:"color",isAlias:!1,value:"#FFDAD6"},{name:"red/red-95",type:"color",isAlias:!1,value:"#FFEDEA"},{name:"primary/primary-10",type:"color",isAlias:!1,value:"#002020"},{name:"primary/primary-20",type:"color",isAlias:!1,value:"#003737"},{name:"primary/primary-30",type:"color",isAlias:!1,value:"#004F4F"},{name:"primary/primary-40",type:"color",isAlias:!1,value:"#006A6A"},{name:"primary/primary-50",type:"color",isAlias:!1,value:"#008585"},{name:"primary/primary-60",type:"color",isAlias:!1,value:"#00A1A1"},{name:"primary/primary-70",type:"color",isAlias:!1,value:"#1EBEBE"},{name:"primary/primary-80",type:"color",isAlias:!1,value:"#4CDADA"},{name:"primary/primary-90",type:"color",isAlias:!1,value:"#6FF7F6"},{name:"primary/primary-95",type:"color",isAlias:!1,value:"#ADFFFE"},{name:"primary/primary-99",type:"color",isAlias:!1,value:"#F1FFFE"},{name:"red/red-99",type:"color",isAlias:!1,value:"#FFFBFF"},{name:"yellow/yellow-0",type:"color",isAlias:!1,value:"#000000"},{name:"yellow/yellow-10",type:"color",isAlias:!1,value:"#2A1700"},{name:"yellow/yellow-20",type:"color",isAlias:!1,value:"#462A00"},{name:"yellow/yellow-30",type:"color",isAlias:!1,value:"#653E00"},{name:"yellow/yellow-40",type:"color",isAlias:!1,value:"#855400"},{name:"yellow/yellow-50",type:"color",isAlias:!1,value:"#A66A00"},{name:"yellow/yellow-60",type:"color",isAlias:!1,value:"#C98100"},{name:"yellow/yellow-70",type:"color",isAlias:!1,value:"#ED9900"},{name:"yellow/yellow-80",type:"color",isAlias:!1,value:"#FFB95C"},{name:"yellow/yellow-90",type:"color",isAlias:!1,value:"#FFDDB7"},{name:"yellow/yellow-95",type:"color",isAlias:!1,value:"#FFEEDE"},{name:"green/green-0",type:"color",isAlias:!1,value:"#000000"},{name:"green/green-10",type:"color",isAlias:!1,value:"#002109"},{name:"green/green-20",type:"color",isAlias:!1,value:"#003914"},{name:"green/green-30",type:"color",isAlias:!1,value:"#005320"},{name:"green/green-40",type:"color",isAlias:!1,value:"#186C32"},{name:"green/green-50",type:"color",isAlias:!1,value:"#378648"},{name:"yellow/yellow-99",type:"color",isAlias:!1,value:"#FFFBFF"},{name:"green/green-60",type:"color",isAlias:!1,value:"#52A160"},{name:"green/green-70",type:"color",isAlias:!1,value:"#6CBD78"},{name:"green/green-80",type:"color",isAlias:!1,value:"#87D991"},{name:"green/green-90",type:"color",isAlias:!1,value:"#A2F6AB"},{name:"green/green-95",type:"color",isAlias:!1,value:"#C6FFC8"},{name:"blue/blue-0",type:"color",isAlias:!1,value:"#000000"},{name:"blue/blue-10",type:"color",isAlias:!1,value:"#001C3A"},{name:"green/green-99",type:"color",isAlias:!1,value:"#F6FFF1"},{name:"blue/blue-20",type:"color",isAlias:!1,value:"#00315F"},{name:"blue/blue-30",type:"color",isAlias:!1,value:"#004786"},{name:"blue/blue-40",type:"color",isAlias:!1,value:"#005FAF"},{name:"blue/blue-50",type:"color",isAlias:!1,value:"#0078DA"},{name:"blue/blue-60",type:"color",isAlias:!1,value:"#2792FF"},{name:"blue/blue-70",type:"color",isAlias:!1,value:"#72ADFF"},{name:"blue/blue-80",type:"color",isAlias:!1,value:"#A5C8FF"},{name:"blue/blue-90",type:"color",isAlias:!1,value:"#D4E3FF"},{name:"blue/blue-95",type:"color",isAlias:!1,value:"#EBF1FF"},{name:"grey/grey-0",type:"color",isAlias:!1,value:"#000000"},{name:"grey/grey-4",type:"color",isAlias:!1,value:"#0B0F0F"},{name:"grey/grey-6",type:"color",isAlias:!1,value:"#101414"},{name:"grey/grey-10",type:"color",isAlias:!1,value:"#191C1C"},{name:"grey/grey-20",type:"color",isAlias:!1,value:"#2D3131"},{name:"grey/grey-30",type:"color",isAlias:!1,value:"#444747"},{name:"grey/grey-40",type:"color",isAlias:!1,value:"#5B5F5F"},{name:"grey/grey-50",type:"color",isAlias:!1,value:"#747877"},{name:"grey/grey-60",type:"color",isAlias:!1,value:"#8E9191"},{name:"grey/grey-70",type:"color",isAlias:!1,value:"#A9ACAB"},{name:"grey/grey-80",type:"color",isAlias:!1,value:"#C4C7C6"},{name:"grey/grey-90",type:"color",isAlias:!1,value:"#E0E3E2"},{name:"grey/grey-92",type:"color",isAlias:!1,value:"#E6E9E8"},{name:"grey/grey-95",type:"color",isAlias:!1,value:"#EFF1F0"},{name:"blue-grey/blue-grey-0",type:"color",isAlias:!1,value:"#000000"},{name:"blue-grey/blue-grey-10",type:"color",isAlias:!1,value:"#141D1D"},{name:"blue-grey/blue-grey-20",type:"color",isAlias:!1,value:"#293232"},{name:"blue-grey/blue-grey-30",type:"color",isAlias:!1,value:"#3F4948"},{name:"blue-grey/blue-grey-40",type:"color",isAlias:!1,value:"#566060"},{name:"blue-grey/blue-grey-50",type:"color",isAlias:!1,value:"#6F7979"},{name:"blue-grey/blue-grey-60",type:"color",isAlias:!1,value:"#889392"},{name:"blue-grey/blue-grey-70",type:"color",isAlias:!1,value:"#A3ADAD"},{name:"blue-grey/blue-grey-80",type:"color",isAlias:!1,value:"#BEC9C8"},{name:"blue-grey/blue-grey-90",type:"color",isAlias:!1,value:"#DAE5E4"},{name:"blue-grey/blue-grey-92",type:"color",isAlias:!1,value:"#E0EBEA"},{name:"blue-grey/blue-grey-95",type:"color",isAlias:!1,value:"#E9F3F2"},{name:"blue/blue-99",type:"color",isAlias:!1,value:"#FDFCFF"},{name:"grey/grey-98",type:"color",isAlias:!1,value:"#F7FAF9"},{name:"primary/primary-100",type:"color",isAlias:!1,value:"#FFFFFF"},{name:"red/red-100",type:"color",isAlias:!1,value:"#FFFFFF"},{name:"yellow/yellow-100",type:"color",isAlias:!1,value:"#FFFFFF"},{name:"green/green-100",type:"color",isAlias:!1,value:"#FFFFFF"},{name:"blue/blue-100",type:"color",isAlias:!1,value:"#FFFFFF"},{name:"grey/grey-100",type:"color",isAlias:!1,value:"#FFFFFF"},{name:"blue-grey/blue-grey-100",type:"color",isAlias:!1,value:"#FFFFFF"}]}]},{name:"color-schemes",modes:[{name:"light",variables:[{name:"background-neutral-default",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"grey/grey-98"}},{name:"text-neutral-default",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"grey/grey-10"}},{name:"text-neutral-default-subtle",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"blue-grey/blue-grey-30"}},{name:"background-neutral-subtle",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"grey/grey-100"}},{name:"background-neutral-inverse",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"grey/grey-20"}},{name:"text-neutral-inverse",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"grey/grey-95"}},{name:"icon-primary-default",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"primary/primary-50"}},{name:"icon-error-default",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"red/red-50"}},{name:"icon-warning-default",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"yellow/yellow-70"}},{name:"icon-success-default",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"green/green-50"}},{name:"icon-info-default",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"blue/blue-50"}},{name:"border-primary-default",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"primary/primary-50"}},{name:"border-error-default",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"red/red-50"}},{name:"border-warning-default",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"yellow/yellow-70"}},{name:"border-success-default",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"green/green-50"}},{name:"border-info-default",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"blue/blue-50"}},{name:"path/outline-neutral-default",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"blue-grey/blue-grey-30"}},{name:"guides/outline-accent",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"red/red-60"}},{name:"background-primary-default",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"primary/primary-90"}},{name:"background-primary-hovered",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"primary/primary-80"}},{name:"background-neutral-hovered",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"grey/grey-80"}},{name:"background-error-default",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"red/red-90"}},{name:"background-error-hovered",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"red/red-80"}},{name:"background-warning-default",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"yellow/yellow-90"}},{name:"background-warning-hovered",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"yellow/yellow-80"}},{name:"background-success-default",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"green/green-90"}},{name:"background-success-hovered",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"green/green-80"}},{name:"background-info-default",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"blue/blue-90"}},{name:"background-info-hovered",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"blue/blue-80"}}]},{name:"dark",variables:[{name:"background-neutral-default",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"grey/grey-6"}},{name:"text-neutral-default",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"grey/grey-90"}},{name:"text-neutral-default-subtle",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"blue-grey/blue-grey-70"}},{name:"background-neutral-subtle",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"grey/grey-4"}},{name:"background-neutral-inverse",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"grey/grey-90"}},{name:"text-neutral-inverse",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"grey/grey-10"}},{name:"icon-primary-default",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"primary/primary-70"}},{name:"icon-error-default",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"red/red-70"}},{name:"icon-warning-default",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"yellow/yellow-70"}},{name:"icon-success-default",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"green/green-70"}},{name:"icon-info-default",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"blue/blue-70"}},{name:"border-primary-default",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"primary/primary-70"}},{name:"border-error-default",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"red/red-70"}},{name:"border-warning-default",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"yellow/yellow-70"}},{name:"border-success-default",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"green/green-70"}},{name:"border-info-default",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"blue/blue-70"}},{name:"path/outline-neutral-default",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"blue-grey/blue-grey-80"}},{name:"guides/outline-accent",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"red/red-60"}},{name:"background-primary-default",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"primary/primary-30"}},{name:"background-primary-hovered",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"primary/primary-40"}},{name:"background-neutral-hovered",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"grey/grey-40"}},{name:"background-error-default",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"red/red-30"}},{name:"background-error-hovered",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"red/red-40"}},{name:"background-warning-default",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"yellow/yellow-30"}},{name:"background-warning-hovered",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"yellow/yellow-40"}},{name:"background-success-default",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"green/green-30"}},{name:"background-success-hovered",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"green/green-40"}},{name:"background-info-default",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"blue/blue-30"}},{name:"background-info-hovered",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"blue/blue-40"}}]}]},{name:"opacity",modes:[{name:"Mode 1",variables:[{name:"opacity-64",type:"number",isAlias:!1,value:64},{name:"opacity-70",type:"number",isAlias:!1,value:70}]}]},{name:"Typography",modes:[{name:"Style",variables:[{name:"typography/topology/title",type:"typography",isAlias:!1,value:{fontSize:14,fontFamily:"Roboto",fontWeight:"Medium",lineHeight:20,lineHeightUnit:"PIXELS",letterSpacing:.10000000149011612,letterSpacingUnit:"PIXELS",textCase:"ORIGINAL",textDecoration:"NONE"}},{name:"typography/topology/body",type:"typography",isAlias:!1,value:{fontSize:14,fontFamily:"Roboto",fontWeight:"Regular",lineHeight:20,lineHeightUnit:"PIXELS",letterSpacing:.25,letterSpacingUnit:"PIXELS",textCase:"ORIGINAL",textDecoration:"NONE"}}]}]}]};var Bi=(n=>(n.ZOOM_CANVAS="zoom-canvas",n.DRAG_CANVAS="drag-canvas",n.DRAG_ELEMENT="drag-element",n.SCROLL_CANVAS="scroll-canvas",n.COLLAPSE_EXPAND="collapse-expand",n.CLICK_SELECT="click-select",n.BRUSH_SELECT="brush-select",n.HOVER_ACTIVATE="hover-activate",n.FOCUS_ELEMENT="focus-element",n.CREATE_EDGE="mx-create-edge",n.SELECT_ALL="select-all",n.FIX_ELEMENT_SIZE="fix-element-size",n))(Bi||{});const oRt=["hover-activate","click-select","drag-canvas","drag-element","zoom-canvas","collapse-expand","select-all"];var uE=(n=>(n[n.CANVAS_CLICK=to.CLICK]="CANVAS_CLICK",n[n.CANVAS_DBLCLICK=to.DBLCLICK]="CANVAS_DBLCLICK",n[n.CANVAS_POINTER_OVER=to.POINTER_OVER]="CANVAS_POINTER_OVER",n[n.CANVAS_POINTER_LEAVE=to.POINTER_LEAVE]="CANVAS_POINTER_LEAVE",n[n.CANVAS_POINTER_ENTER=to.POINTER_ENTER]="CANVAS_POINTER_ENTER",n[n.CANVAS_POINTER_MOVE=to.POINTER_MOVE]="CANVAS_POINTER_MOVE",n[n.CANVAS_POINTER_OUT=to.POINTER_OUT]="CANVAS_POINTER_OUT",n[n.CANVAS_POINTER_DOWN=to.POINTER_DOWN]="CANVAS_POINTER_DOWN",n[n.CANVAS_POINTER_UP=to.POINTER_UP]="CANVAS_POINTER_UP",n[n.CANVAS_CONTEXT_MENU=to.CONTEXT_MENU]="CANVAS_CONTEXT_MENU",n[n.CANVAS_DRAG_START=to.DRAG_START]="CANVAS_DRAG_START",n[n.CANVAS_DRAG=to.DRAG]="CANVAS_DRAG",n[n.CANVAS_DRAG_END=to.DRAG_END]="CANVAS_DRAG_END",n[n.CANVAS_DRAG_ENTER=to.DRAG_ENTER]="CANVAS_DRAG_ENTER",n[n.CANVAS_DRAG_OVER=to.DRAG_OVER]="CANVAS_DRAG_OVER",n[n.CANVAS_DRAG_LEAVE=to.DRAG_LEAVE]="CANVAS_DRAG_LEAVE",n[n.CANVAS_DROP=to.DROP]="CANVAS_DROP",n[n.CANVAS_WHEEL=to.WHEEL]="CANVAS_WHEEL",n))(uE||{}),dE=(n=>(n[n.GRAPH_BEFORE_CANVAS_INIT=Dn.BEFORE_CANVAS_INIT]="GRAPH_BEFORE_CANVAS_INIT",n[n.GRAPH_AFTER_CANVAS_INIT=Dn.AFTER_CANVAS_INIT]="GRAPH_AFTER_CANVAS_INIT",n[n.GRAPH_BEFORE_SIZE_CHANGE=Dn.BEFORE_SIZE_CHANGE]="GRAPH_BEFORE_SIZE_CHANGE",n[n.GRAPH_AFTER_SIZE_CHANGE=Dn.AFTER_SIZE_CHANGE]="GRAPH_AFTER_SIZE_CHANGE",n[n.GRAPH_BEFORE_ELEMENT_CREATE=Dn.BEFORE_ELEMENT_CREATE]="GRAPH_BEFORE_ELEMENT_CREATE",n[n.GRAPH_AFTER_ELEMENT_CREATE=Dn.AFTER_ELEMENT_CREATE]="GRAPH_AFTER_ELEMENT_CREATE",n[n.GRAPH_BEFORE_ELEMENT_UPDATE=Dn.BEFORE_ELEMENT_UPDATE]="GRAPH_BEFORE_ELEMENT_UPDATE",n[n.GRAPH_AFTER_ELEMENT_UPDATE=Dn.AFTER_ELEMENT_UPDATE]="GRAPH_AFTER_ELEMENT_UPDATE",n[n.GRAPH_BEFORE_ELEMENT_DESTROY=Dn.BEFORE_ELEMENT_DESTROY]="GRAPH_BEFORE_ELEMENT_DESTROY",n[n.GRAPH_AFTER_ELEMENT_DESTROY=Dn.AFTER_ELEMENT_DESTROY]="GRAPH_AFTER_ELEMENT_DESTROY",n[n.GRAPH_BEFORE_ELEMENT_TRANSLATE=Dn.BEFORE_ELEMENT_TRANSLATE]="GRAPH_BEFORE_ELEMENT_TRANSLATE",n[n.GRAPH_AFTER_ELEMENT_TRANSLATE=Dn.AFTER_ELEMENT_TRANSLATE]="GRAPH_AFTER_ELEMENT_TRANSLATE",n[n.GRAPH_BEFORE_DRAW=Dn.BEFORE_DRAW]="GRAPH_BEFORE_DRAW",n[n.GRAPH_AFTER_DRAW=Dn.AFTER_DRAW]="GRAPH_AFTER_DRAW",n[n.GRAPH_BEFORE_RENDER=Dn.BEFORE_RENDER]="GRAPH_BEFORE_RENDER",n[n.GRAPH_AFTER_RENDER=Dn.AFTER_RENDER]="GRAPH_AFTER_RENDER",n[n.GRAPH_BEFORE_ANIMATE=Dn.BEFORE_ANIMATE]="GRAPH_BEFORE_ANIMATE",n[n.GRAPH_AFTER_ANIMATE=Dn.AFTER_ANIMATE]="GRAPH_AFTER_ANIMATE",n[n.GRAPH_BEFORE_LAYOUT=Dn.BEFORE_LAYOUT]="GRAPH_BEFORE_LAYOUT",n[n.GRAPH_AFTER_LAYOUT=Dn.AFTER_LAYOUT]="GRAPH_AFTER_LAYOUT",n[n.GRAPH_BEFORE_TRANSFORM=Dn.BEFORE_TRANSFORM]="GRAPH_BEFORE_TRANSFORM",n[n.GRAPH_AFTER_TRANSFORM=Dn.AFTER_TRANSFORM]="GRAPH_AFTER_TRANSFORM",n[n.GRAPH_BATCH_START=Dn.BATCH_START]="GRAPH_BATCH_START",n[n.GRAPH_BATCH_END=Dn.BATCH_END]="GRAPH_BATCH_END",n[n.GRAPH_BEFORE_DESTROY=Dn.BEFORE_DESTROY]="GRAPH_BEFORE_DESTROY",n[n.GRAPH_AFTER_DESTROY=Dn.AFTER_DESTROY]="GRAPH_AFTER_DESTROY",n.GRAPH_BEFORE_BRUSH_SELECT="graph:beforeBrushSelect",n.GRAPH_VIEWPORT_CHANGE="graph:viewportChange",n))(dE||{}),vg=(n=>(n[n.NODE_CLICK=eo.CLICK]="NODE_CLICK",n[n.NODE_DBLCLICK=eo.DBLCLICK]="NODE_DBLCLICK",n[n.NODE_POINTER_OVER=eo.POINTER_OVER]="NODE_POINTER_OVER",n[n.NODE_POINTER_LEAVE=eo.POINTER_LEAVE]="NODE_POINTER_LEAVE",n[n.NODE_POINTER_ENTER=eo.POINTER_ENTER]="NODE_POINTER_ENTER",n[n.NODE_POINTER_MOVE=eo.POINTER_MOVE]="NODE_POINTER_MOVE",n[n.NODE_POINTER_OUT=eo.POINTER_OUT]="NODE_POINTER_OUT",n[n.NODE_POINTER_DOWN=eo.POINTER_DOWN]="NODE_POINTER_DOWN",n[n.NODE_POINTER_UP=eo.POINTER_UP]="NODE_POINTER_UP",n[n.NODE_CONTEXT_MENU=eo.CONTEXT_MENU]="NODE_CONTEXT_MENU",n[n.NODE_DRAG_START=eo.DRAG_START]="NODE_DRAG_START",n[n.NODE_DRAG=eo.DRAG]="NODE_DRAG",n[n.NODE_DRAG_END=eo.DRAG_END]="NODE_DRAG_END",n[n.NODE_DRAG_ENTER=eo.DRAG_ENTER]="NODE_DRAG_ENTER",n[n.NODE_DRAG_OVER=eo.DRAG_OVER]="NODE_DRAG_OVER",n[n.NODE_DRAG_LEAVE=eo.DRAG_LEAVE]="NODE_DRAG_LEAVE",n[n.NODE_DROP=eo.DROP]="NODE_DROP",n.NODE_SELECTED="node:selected",n.NODE_DRAG_MULTI_END="node:dragMultiEnd",n))(vg||{}),N4=(n=>(n[n.EDGE_CLICK=Ms.CLICK]="EDGE_CLICK",n[n.EDGE_DBLCLICK=Ms.DBLCLICK]="EDGE_DBLCLICK",n[n.EDGE_POINTER_OVER=Ms.POINTER_OVER]="EDGE_POINTER_OVER",n[n.EDGE_POINTER_LEAVE=Ms.POINTER_LEAVE]="EDGE_POINTER_LEAVE",n[n.EDGE_POINTER_ENTER=Ms.POINTER_ENTER]="EDGE_POINTER_ENTER",n[n.EDGE_POINTER_MOVE=Ms.POINTER_MOVE]="EDGE_POINTER_MOVE",n[n.EDGE_POINTER_OUT=Ms.POINTER_OUT]="EDGE_POINTER_OUT",n[n.EDGE_POINTER_DOWN=Ms.POINTER_DOWN]="EDGE_POINTER_DOWN",n[n.EDGE_POINTER_UP=Ms.POINTER_UP]="EDGE_POINTER_UP",n[n.EDGE_CONTEXT_MENU=Ms.CONTEXT_MENU]="EDGE_CONTEXT_MENU",n[n.EDGE_DRAG_ENTER=Ms.DRAG_ENTER]="EDGE_DRAG_ENTER",n[n.EDGE_DRAG_OVER=Ms.DRAG_OVER]="EDGE_DRAG_OVER",n[n.EDGE_DRAG_LEAVE=Ms.DRAG_LEAVE]="EDGE_DRAG_LEAVE",n[n.EDGE_DROP=Ms.DROP]="EDGE_DROP",n.EDGE_SELECTED="edge:selected",n))(N4||{}),eD=(n=>(n[n.GROUP_CLICK=yo.CLICK]="GROUP_CLICK",n[n.GROUP_DBLCLICK=yo.DBLCLICK]="GROUP_DBLCLICK",n[n.GROUP_POINTER_OVER=yo.POINTER_OVER]="GROUP_POINTER_OVER",n[n.GROUP_POINTER_LEAVE=yo.POINTER_LEAVE]="GROUP_POINTER_LEAVE",n[n.GROUP_POINTER_ENTER=yo.POINTER_ENTER]="GROUP_POINTER_ENTER",n[n.GROUP_POINTER_MOVE=yo.POINTER_MOVE]="GROUP_POINTER_MOVE",n[n.GROUP_POINTER_OUT=yo.POINTER_OUT]="GROUP_POINTER_OUT",n[n.GROUP_POINTER_DOWN=yo.POINTER_DOWN]="GROUP_POINTER_DOWN",n[n.GROUP_POINTER_UP=yo.POINTER_UP]="GROUP_POINTER_UP",n[n.GROUP_CONTEXT_MENU=yo.CONTEXT_MENU]="GROUP_CONTEXT_MENU",n[n.GROUP_DRAG_START=yo.DRAG_START]="GROUP_DRAG_START",n[n.GROUP_DRAG=yo.DRAG]="GROUP_DRAG",n[n.GROUP_DRAG_END=yo.DRAG_END]="GROUP_DRAG_END",n[n.GROUP_DRAG_ENTER=yo.DRAG_ENTER]="GROUP_DRAG_ENTER",n[n.GROUP_DRAG_OVER=yo.DRAG_OVER]="GROUP_DRAG_OVER",n[n.GROUP_DRAG_LEAVE=yo.DRAG_LEAVE]="GROUP_DRAG_LEAVE",n[n.GROUP_DROP=yo.DROP]="GROUP_DROP",n.GROUP_EXPAND="group:expand",n.GROUP_COLLAPSE="group:collapse",n.GROUP_DRAG_MULTI_END="group:dragMultiEnd",n.GROUP_SELECTED="group:selected",n))(eD||{});const Ah={...uE,...dE,...vg,...N4,...eD};var Td=(n=>(n.ALIGN="align",n.TREE="tree",n.MESH="mesh",n.GRID="grid",n.RING="ring",n))(Td||{}),Lr=(n=>(n.HISTORY="history",n.CONTEXT_MENU="contextmenu",n.TOOLTIP="tooltip",n.FIXED_TOOLBAR="fixed-toolbar",n.ELEMENT_TOOLBAR="element-toolbar",n.GRAPH_BACKGROUND="graphBackground",n.MINIMAP="minimap",n.SNAPLINE="snapline",n))(Lr||{}),oG={},L4={};Object.defineProperty(L4,"__esModule",{value:!0}),L4.dfs=function iat(n,e,t,i,r=0){"TB"===i&&e(n,r);const o=t(n);if(o)for(const s of o)iat(s,e,t,i,r+1);"BT"===i&&e(n,r)},L4.bfs=function aRt(n,e,t){const i=[[n,0]];for(;i.length;){const[r,o]=i.shift();e(r,o);const s=t(r);if(s)for(const a of s)i.push([a,o+1])}},Object.defineProperty(oG,"__esModule",{value:!0});var lRt=oG.getElementNthDegreeIds=function dRt(n,e,t,i,r="both"){if("combo"===e||"node"===e)return F4(n,t,i,r);const o=n.getEdgeData(t);if(!o)return[];const s=F4(n,o.source,i-1,r),a=F4(n,o.target,i-1,r);return Array.from(new Set([...s,...a,t]))};oG.getNodeNthDegreeIds=F4;const cRt=fg,uRt=L4;function F4(n,e,t,i="both"){const r=new Set,o=new Set,s=new Set;return(0,uRt.bfs)(e,(a,l)=>{l>t||(s.add(a),n.getRelatedEdgesData(a,i).forEach(u=>{const d=(0,cRt.idOf)(u);!o.has(d)&&l<t&&(s.add(d),o.add(d))}))},a=>n.getRelatedEdgesData(a,i).map(l=>l.source===a?l.target:l.source).filter(l=>!r.has(l)&&(r.add(l),!0))),Array.from(s)}var rat={};Object.defineProperty(rat,"__esModule",{value:!0});var B4=rat.statesOf=function hRt(n){return n.states||[]};const oat=class hut extends za{constructor(e,t){var i;super(e,Object.assign({},hut.defaultOptions,t)),i=this,ln(this,"shortcut"),ln(this,"onClickSelect",function(){var r=(0,re.A)(function*(o){var s,a;i.validate(o)&&(yield i.updateState(o),null==(a=(s=i.options).onClick)||a.call(s,o))});return function(o){return r.apply(this,arguments)}}()),ln(this,"onClickCanvas",function(){var r=(0,re.A)(function*(o){var s,a;i.validate(o)&&(yield i.clearState(),null==(a=(s=i.options).onClick)||a.call(s,o))});return function(o){return r.apply(this,arguments)}}()),this.shortcut=new Sf(e.graph),this.bindEvents()}bindEvents(){const{graph:e}=this.context;this.unbindEvents(),UH.forEach(t=>{e.on(`${t}:${gn.CLICK}`,this.onClickSelect)}),e.on(to.CLICK,this.onClickCanvas)}get isMultipleSelect(){const{multiple:e,trigger:t}=this.options;return e&&this.shortcut.match(t)}getNeighborIds(e){const{target:t,targetType:i}=e,{graph:r}=this.context,{degree:o}=this.options;return lRt(r,i,t.id,"function"==typeof o?o(e):o).filter(s=>s!==t.id)}updateState(e){var t=this;return(0,re.A)(function*(){const{state:i,unselectedState:r,neighborState:o}=t.options;if(!i&&!o&&!r)return;const{target:a}=e,{graph:l}=t.context,u=l.getElementData(a.id),d=B4(u).includes(i)?"unselect":"select",f={},m=t.isMultipleSelect,y=[a.id],b=t.getNeighborIds(e),E=(w,M)=>{w.forEach(x=>{const D=l.getElementData(x),k=new Set(B4(D));k.add(M),k.delete(r),f[x]=Array.from(k)})};if(m)if(Object.assign(f,t.getDataStates()),"select"===d)E(y,i),E(b,o),r&&Object.keys(f).forEach(w=>{const M=f[w];!M.includes(i)&&!M.includes(o)&&!M.includes(r)&&f[w].push(r)});else{const w=f[a.id];f[a.id]=w.filter(M=>M!==i&&M!==o),w.includes(r)||f[a.id].push(r),b.forEach(M=>{f[M]=f[M].filter(x=>x!==o),f[M].includes(i)||f[M].push(r)})}else"select"===d?(Object.assign(f,t.getClearStates(!!r)),E(y,i),E(b,o),r&&Object.keys(f).forEach(w=>{!y.includes(w)&&!b.includes(w)&&f[w].push(r)})):Object.assign(f,t.getClearStates());yield l.setElementState(f,!1)})()}getDataStates(){const{graph:e}=this.context,{nodes:t,edges:i,combos:r}=e.getData(),o={};return[...t,...i,...r].forEach(s=>{o[We(s)]=B4(s)}),o}getClearStates(e=!1){const{graph:t}=this.context,{state:i,unselectedState:r,neighborState:o}=this.options,s=new Set([i,r,o]),{nodes:a,edges:l,combos:u}=t.getData(),d={};return[...a,...l,...u].forEach(f=>{const m=B4(f),y=m.filter(b=>!s.has(b));(e||y.length!==m.length)&&(d[We(f)]=y)}),d}clearState(){var e=this;return(0,re.A)(function*(){const{graph:t}=e.context;yield t.setElementState(e.getClearStates(),e.options.animation)})()}validate(e){if(this.destroyed)return!1;const{enable:t}=this.options;return ii(t)?t(e):!!t}unbindEvents(){const{graph:e}=this.context;UH.forEach(t=>{e.off(`${t}:${gn.CLICK}`,this.onClickSelect)}),e.off(to.CLICK,this.onClickCanvas)}destroy(){this.unbindEvents(),super.destroy()}};ln(oat,"defaultOptions",{animation:!0,enable:!0,multiple:!1,trigger:["shift"],state:"selected",neighborState:"selected",unselectedState:void 0,degree:0}),hc(oa.BEHAVIOR,"mx-click-select",oat);const nD="create-edge-assist-node-id",sat=class fut extends za{constructor(e,t){var i;super(e,Object.assign({},fut.defaultOptions,t)),i=this,ln(this,"source"),ln(this,"cursorPoint",[0,0]),ln(this,"getEvents",()=>{const{trigger:r}=this.options,o={[gn.POINTER_MOVE]:this.updateAssistEdge,[gn.POINTER_UP]:this.updateCursorPoint};return"none"===r?{...o,[eo.CLICK]:this.createEdgeAndCancel,[yo.CLICK]:this.createEdgeAndCancel,[to.CLICK]:this.cancelEdge,[Ms.CLICK]:this.cancelEdge}:"click"===r?{...o,[eo.CLICK]:this.onCreateEdge,[yo.CLICK]:this.onCreateEdge,[to.CLICK]:this.cancelEdge,[Ms.CLICK]:this.cancelEdge}:{...o,[eo.DRAG_START]:this.onCreateEdge,[yo.DRAG_START]:this.onCreateEdge,[gn.POINTER_UP]:this.drop}}),ln(this,"drop",function(){var r=(0,re.A)(function*(o){const{targetType:s}=o;["combo","node"].includes(s)&&i.source?yield i.onCreateEdge(o):yield i.cancelEdge()});return function(o){return r.apply(this,arguments)}}()),ln(this,"startCreateEdge",r=>{this.onCreateEdge({target:{id:r},targetType:"node"})}),ln(this,"onCreateEdge",function(){var r=(0,re.A)(function*(o){var s;const{graph:a,canvas:l,batch:u,element:d,model:f}=i.context,{onStart:m}=i.options;if(i.source&&i.checkNodeExist(i.source))return void i.createEdgeAndCancel(o);if(i.source=i.getSelectedNodeIDs([o.target.id])[0],!i.checkNodeExist(i.source))return;u.startBatch(),l.setCursor("crosshair"),a.addNodeData([{id:nD,style:{visibility:"hidden",ports:[{key:"port-1",placement:[.5,.5]}]}}]);const b=m(cE_toEdgeData({id:"create-edge-assist-edge-id",source:i.source,target:nD,config:{type:"line-edge"},style:{pointerEvents:"none"}}));if(!b)return void(yield i.cancelEdge(!1));const E=JS_toEdgeData(b,{full:!0});a.addEdgeData([E]),f.translateNodeTo(nD,i.cursorPoint),yield null==(s=d.draw({animation:!1}))?void 0:s.finished});return function(o){return r.apply(this,arguments)}}()),ln(this,"createEdgeAndCancel",function(){var r=(0,re.A)(function*(o){i.createEdge(o),yield i.cancelEdge(!1)});return function(o){return r.apply(this,arguments)}}()),ln(this,"updateCursorPoint",r=>{this.cursorPoint=[r.canvas.x,r.canvas.y]}),ln(this,"updateAssistEdge",function(){var r=(0,re.A)(function*(o){var s;if(!i.source)return;const{model:a,element:l}=i.context;a.translateNodeTo(nD,[o.canvas.x,o.canvas.y]),yield null==(s=l.draw({animation:!1,silence:!0}))?void 0:s.finished});return function(o){return r.apply(this,arguments)}}()),ln(this,"createEdge",r=>{var o,s;const{graph:a}=this.context,{onEnd:l}=this.options;if(void 0===(null==(o=r.target)?void 0:o.id)||void 0===this.source)return;const u=null==(s=this.getSelectedNodeIDs([r.target.id]))?void 0:s[0],d=`${this.source}-${u}-${uv()}`,m=l(cE_toEdgeData({id:d,type:"line-edge",source:this.source,target:u}));if(!m)return;const y=JS_toEdgeData(m,{full:!0});a.addEdgeData([y])}),ln(this,"cancelEdge",(0,re.A)(function*(r=!0){var o;if(!i.source)return;const{graph:s,element:a,batch:l,canvas:u}=i.context,{onCancel:d}=i.options;s.removeNodeData([nD]),i.source=void 0,u.setCursor("default"),yield null==(o=a.draw({animation:!1}))?void 0:o.finished,l.endBatch(),r&&d()})),this.bindEvents()}update(e){this.unbindEvents(),super.update(e),this.bindEvents()}getSelectedNodeIDs(e){return Array.from(new Set(this.context.graph.getElementDataByState("node",this.options.state).map(t=>t.id).concat(e)))}checkNodeExist(e){const{model:t}=this.context;return!!t.hasNode(e)||(this.source=void 0,console.warn(`Node ${e} does not exist`),!1)}bindEvents(){const{graph:e}=this.context,t=this.getEvents();Object.keys(t).forEach(i=>{e.on(i,t[i])})}unbindEvents(){const{graph:e}=this.context,t=this.getEvents();Object.keys(t).forEach(i=>{e.off(i,t[i])})}destroy(){this.unbindEvents(),super.destroy()}};ln(sat,"defaultOptions",{animation:!0,trigger:"click",onStart:n=>n,onEnd:n=>n,onCancel:()=>{}}),hc(oa.BEHAVIOR,Bi.CREATE_EDGE,sat),hc(oa.BEHAVIOR,Bi.SELECT_ALL,class SRt extends za{constructor(e,t){super(e,t),ln(this,"shortcut"),ln(this,"selected",!1),this.shortcut=new Sf(e.graph),this.bindEvents()}bindEvents(){const e=Sst()?["meta","a"]:["control","a"];this.shortcut.bind(e,t=>{const{graph:i}=this.context,{elementTypes:r}=this.options,{nodes:o=[],edges:s=[],combos:a=[]}=i.getData(),l=[...null!=r&&r.includes("node")?o:[],...null!=r&&r.includes("edge")?s:[],...null!=r&&r.includes("group")?a:[]].map(u=>u.id);this.selected=!this.selected,i.setElementState(l.reduce((u,d)=>(d&&(u[d]=this.selected?["selected"]:[]),u),{}))})}destroy(){this.shortcut.destroy(),super.destroy()}});const aat={[Bi.ZOOM_CANVAS]:n=>function(){return{type:Bi.ZOOM_CANVAS,key:Bi.ZOOM_CANVAS,onFinish:()=>{this.emit(Ah.GRAPH_VIEWPORT_CHANGE,{type:Bi.ZOOM_CANVAS})}}},[Bi.DRAG_CANVAS]:n=>function(){return{type:Bi.DRAG_CANVAS,key:Bi.DRAG_CANVAS,enable:e=>{const t=e;return null!=n&&n.enable?n.enable(t):!t.shiftKey&&"canvas"===t.targetType},onFinish:()=>{this.emit(Ah.GRAPH_VIEWPORT_CHANGE,{type:Bi.DRAG_CANVAS})}}},[Bi.DRAG_ELEMENT]:n=>function(){const e=this.mxGraph;return{type:Bi.DRAG_ELEMENT,key:Bi.DRAG_ELEMENT,enable:t=>{const i=e.getElementState(t.target.id),r=i.includes("disabled");if(!i.includes("selected")){const o=e.getElementByState("node","selected").map(a=>a.id),s=e.getElementByState("group","selected").map(a=>a.id);[...o,...s].length>0&&e.clearElementState([...o,...s])}return!r},onFinish:t=>{const i=[],r=[];t.forEach(o=>{const s=this.getElementType(o);"node"===s?i.push(o):"combo"===s&&r.push(o)}),i.length&&this.emit(Ah.NODE_DRAG_MULTI_END,i),r.length&&this.emit(Ah.GROUP_DRAG_MULTI_END,r)},...n}},[Bi.SCROLL_CANVAS]:n=>function(){return{type:Bi.SCROLL_CANVAS,key:Bi.SCROLL_CANVAS}},[Bi.COLLAPSE_EXPAND]:n=>function(){return{type:Bi.COLLAPSE_EXPAND,key:Bi.COLLAPSE_EXPAND,onExpand:e=>{this.emit(Ah.GROUP_EXPAND,e)},onCollapse:e=>{this.emit(Ah.GROUP_COLLAPSE,e)}}},[Bi.CLICK_SELECT]:n=>function(){const e={type:Bi.CLICK_SELECT,key:Bi.CLICK_SELECT,multiple:!0,unselectedState:void 0,trigger:Sst()?["meta"]:["control"],enable:s=>"canvas"===s.targetType||!this.getElementState(s.target.id).includes("disabled"),onClick:s=>{if("canvas"===s.targetType)return;const a=s.target;(n=>n?.mxGraph)(this).getElementState(a.id)&&("node"===s.targetType&&this.emit(vg.NODE_SELECTED,s),"edge"===s.targetType&&this.emit(N4.EDGE_SELECTED,s),"combo"===s.targetType&&this.emit(eD.GROUP_SELECTED,s))}};if(!n)return e;const{multiple:t,multipleMode:i,elementTypes:r}=n,o=e;return void 0!==t&&(o.multiple=t),"click"===i&&(o.trigger=[]),r&&(o.enable=s=>"canvas"===s.targetType||!!r.includes((n=>({node:"node",edge:"edge",combo:"group"}[n]))(s.targetType))&&!this.getElementState(s.target.id).includes("disabled")&&r.includes(s.targetType)),o},[Bi.HOVER_ACTIVATE]:n=>function(){return{type:Bi.HOVER_ACTIVATE,key:Bi.HOVER_ACTIVATE,enable:e=>!this.getElementState(e.target.id).includes("disabled")}},[Bi.FOCUS_ELEMENT]:n=>function(){return{type:Bi.FOCUS_ELEMENT,key:Bi.FOCUS_ELEMENT}},[Bi.CREATE_EDGE]:n=>function(){return{type:Bi.CREATE_EDGE,key:Bi.CREATE_EDGE,...n}},[Bi.BRUSH_SELECT]:(n={type:Bi.BRUSH_SELECT,mode:"key",elementTypes:["node","edge","group"]})=>function(){const e=this.mxGraph,{mode:t,elementTypes:i}=n;return{type:Bi.BRUSH_SELECT,key:Bi.BRUSH_SELECT,trigger:"select"===t?[]:["shift"],enableElements:i?.map(r=>(n=>({node:"node",edge:"edge",group:"combo"}[n]))(r)),immediately:!0,enable:r=>!["node","edge","combo"].includes(r.targetType),onSelect:r=>{const o=Object.keys(r).reduce((s,a)=>(e.isElementShow(a)&&(s[a]=r[a]),s),{});return this.emit(Ah.GRAPH_BEFORE_BRUSH_SELECT,o),o},style:{stroke:"#008585",fill:"#008585",radius:4}}},[Bi.SELECT_ALL]:n=>function(){return{type:Bi.SELECT_ALL,key:Bi.SELECT_ALL,elementTypes:["node","edge","group"],...n}},[Bi.FIX_ELEMENT_SIZE]:n=>function(){return{type:Bi.FIX_ELEMENT_SIZE,key:Bi.FIX_ELEMENT_SIZE,enable:!0,state:"fixed",ranges:[1]}}},lat=n=>n.map(e=>mo(e)?aat[e.type](e):aat[e]()),f0=(n,e,t)=>KH(n.iconSpriteText,e,t),cat=(n,e,t)=>{switch(e){case"success":return f0(n,"check_circle",t["icon-success-default"]);case"warning":return f0(n,"warning",t["icon-warning-default"]);case"error":return f0(n,"cancel",t["icon-error-default"])}return""},uat=(n,e,t)=>{const i=n.getThemeTokens(),r={opacity:1,fillOpacity:0,strokeOpacity:0,strokeWidth:0,lineWidth:0};return["active","selected"].some(o=>e.includes(o)||t&&"default"!==t)&&(r.fillOpacity=.64,r.strokeOpacity=1),"success"===t&&(r.fill=i["background-success-default"]),"warning"===t&&(r.fill=i["background-warning-default"]),"error"===t&&(r.fill=i["background-error-default"]),["active","selected"].some(o=>e.includes(o))&&(gg(e,["selected"])&&(r.fill=i["background-primary-default"],r.stroke=i["border-primary-default"],r.strokeWidth=3,r.lineWidth=3),gg(e,["active"])&&(r.fill=i["background-neutral-hovered"]),gg(e,["selected","active"])&&(r.fill=i["background-primary-hovered"]),"success"===t&&(r.fill=i["background-success-default"]),"success"===t&&e.includes("active")&&(r.fill=i["background-success-hovered"]),"success"===t&&e.includes("selected")&&(r.stroke=i["border-success-default"]),"warning"===t&&(r.fill=i["background-warning-default"]),"warning"===t&&e.includes("active")&&(r.fill=i["background-warning-hovered"]),"warning"===t&&e.includes("selected")&&(r.stroke=i["border-warning-default"]),"error"===t&&(r.fill=i["background-error-default"]),"error"===t&&e.includes("active")&&(r.fill=i["background-error-hovered"]),"error"===t&&e.includes("selected")&&(r.stroke=i["border-error-default"])),e.includes("disabled")&&(gg(e,["disabled"])&&(r.opacity=.38,r.strokeWidth=0),"success"===t&&e.includes("disabled")&&(r.fill=i["background-success-default"]),"warning"===t&&e.includes("disabled")&&(r.fill=i["background-warning-default"]),"error"===t&&e.includes("disabled")&&(r.fill=i["background-error-default"])),r},sG="title",dat="status-icon";class fat extends OK{get states(){return this.isExist?this.parsedAttributes.context.model.getElementState(this.id):[]}get isExist(){return this.parsedAttributes.context.model.hasCombo(this.id)}getElementOffsets(e){const{title:t,label:i,labelText:r}=e,[o,s]=this.getKeySize(e);return t&&i&&r?{iconOffset:0,titleOffset:-(s/2-7-14),labelOffset:+(s/2-7-14)}:e.title?{iconOffset:s/2-24-30,titleOffset:-(s/2-7-24),labelOffset:0}:e.label||r?{iconOffset:-(s/2-24-30),titleOffset:0,labelOffset:s/2-7-24}:{titleOffset:0,labelOffset:0,iconOffset:0}}getKeyStyle(e){var t;const i=super.getKeyStyle(e),r=fa(e),o={...i,...uat(r,this.states,e.highlight),cursor:"default"};return!e.collapsed&&0===o.strokeOpacity&&(o.stroke=null==(t=r.getThemeTokens())?void 0:t["background-neutral-hovered"],o.strokeOpacity=.64,o.strokeWidth=3,o.lineWidth=3),this.states.includes("disabled")&&(o.cursor="not-allowed"),o}getKeySize(e){const{collapsed:t,childrenData:i=[]}=e;return t||0===i.length?this.getCollapsedKeySize(e):this.getExpandedKeySize(e)}getHaloStyle(e){return{...super.getHaloStyle(e),stroke:"none"}}getIconStyle(e){if(!1===e.icon||!1===e.collapsed)return!1;const t=super.getIconStyle(e),i=fa(e),r=i.getThemeTokens(),o=e.iconWidth||48,s=e.iconHeight||48,a={...t,width:o,height:s,opacity:1,transform:`translate(0, ${this.getElementOffsets(e).iconOffset})`,cursor:"default"};return gg(this.states,["disabled"])&&(a.opacity=.38,a.cursor="not-allowed"),t||(a.src=f0(i,"factory",r["text-neutral-default"])),"object"==typeof t&&t.text&&(a.src=f0(i,t.text,r["text-neutral-default"])),"object"==typeof t&&t.src&&(a.src=t.src),a}getLabelStyle(e){const s={...super.getLabelStyle(e),transform:`translate(${e.labelStatus?7:0}, ${this.getElementOffsets(e).labelOffset})`,fontFamily:"Roboto",fontSize:14,fontWeight:400,textAlign:"middle",textBaseline:"middle",textOverflow:"ellipsis",fill:fa(e).getThemeTokens()["text-neutral-default"],zIndex:2,wordWrapWidth:132,wordWrap:!0,maxLines:2,class:"label-text",cursor:"default"};return gg(this.states,["disabled"])&&(s.opacity=.38,s.cursor="not-allowed"),s}getTitleStyle(e){return!!e.title&&{...this.getLabelStyle(e),...qr(e,sG),transform:`translate(0, ${this.getElementOffsets(e).titleOffset})`}}getStatusStyle(e){if(!e.labelStatus)return!1;const t=mg(this.shapeMap.label),i=qr(e,"status"),r=fa(e),a={...i,transform:`translate(${t.min.x-8-7}, ${this.getElementOffsets(e).labelOffset-7})`,width:14,height:14,src:cat(r,e.labelStatus,r.getThemeTokens()),zIndex:1,cursor:"default"};return this.states.includes("disabled")&&(a.cursor="not-allowed"),a}getTitleBackgroundStyle(e){if(!e.title)return!1;const t=this.getLabelBackgroundStyle(e),i=mg(this.shapeMap[sG]),r=[6,2,6,2];return Object.assign(t,{transform:`translate(${i.x-i.width/2-r[2]}, ${i.y-i.height/2-r[3]})`,width:i.width+r[0]+r[2],height:i.height+r[1]+r[3]})}getLabelBackgroundStyle(e){if(!e.label||!e.labelText)return!1;const t=fa(e).getThemeTokens(),i=mg(this.shapeMap.label),r=[6,2,6,2],s=i.y-i.height/2-r[3],a=e.labelCustomBackground,l={transform:`translate(${i.x-i.width/2-r[2]}, ${s})`,width:i.width+r[0]+r[2],height:i.height+r[1]+r[3],opacity:.7,zIndex:0,radius:5,fill:a?.color||t["background-neutral-subtle"],stroke:a?.borderColor||"",lineWidth:a?.borderWidth||0,cursor:"default"};if(e.labelStatus){const u=mg(this.shapeMap[dat]),d=l.width+u.width,f=(i.max.x+u.min.x)/2-d/2;l.width=d,l.transform=`translate(${f}, ${s})`}return this.states.includes("disabled")&&(l.opacity=.38,l.cursor="not-allowed"),l}drawTitleShape(e,t){return this.upsert(sG,Rb,this.getTitleStyle(e),t)}drawStatusShape(e,t){return this.upsert(dat,Lc,this.getStatusStyle(e),t)}drawTitleBackgroundShape(e,t){return this.upsert("title-background",wu,this.getTitleBackgroundStyle(e),t)}drawLabelBackgroundShape(e,t){return this.upsert("label-background",wu,this.getLabelBackgroundStyle(e),t)}render(e,t){super.render(e,t),this.drawTitleShape(e,t),this.drawStatusShape(e,t),this.drawLabelBackgroundShape(e,t)}onframe(){const e=this.parsedAttributes;super.onframe(),this.drawTitleShape(e,this),this.drawStatusShape(e,this),this.drawLabelBackgroundShape(e,this)}animate(e,t){return super.animate(e,t)}}ln(fat,"defaultProps",{collapsedSize:132,padding:-30,collapsedMarker:!1}),hc(oa.COMBO,"device-group",fat);const pat=n=>{const e={},{states:t,combo:i}=n;return t&&(e.states=t),i&&(e.parentId=i),e},mat=n=>{const e={};return void 0!==n?.x&&(e.x=n.x),void 0!==n?.y&&(e.y=n.y),{point:e}},gat=n=>({type:{circle:"circle-group",rect:"rect-group","device-group":"device-group"}[n||"device-group"]}),aG=(n,e)=>{const{text:t,fill:i,maxWidth:r,maxLines:o,offsetX:s,offsetY:a,fontSize:l,fontFamily:u,wordWrap:d,wordWrapWidth:f,status:m,customBackground:y}=qr(n,e);if(!n[e])return{};const b={};if(void 0!==t&&(b.text=t),void 0!==i&&(b.color=i),void 0!==s&&void 0!==a){const E={};void 0!==s&&(E.x=s),void 0!==a&&(E.y=a),b.offset=E}return void 0!==l&&(b.fontSize=l),void 0!==u&&(b.fontFamily=u),void 0!==d&&(b.wordWrap=d),void 0!==f&&(b.wordWrapWidth=f),void 0!==o&&(b.maxLines=o),void 0!==r&&(b.maxWidth=r),void 0!==m&&(b.status=m),y&&(b.background=y),{[e]:b}},vat=n=>{const{src:e,offsetX:t,offsetY:i,width:r,height:o}=qr(n,"icon"),s={};if(void 0!==e&&(n.iconSrc=e),t||i){const a={};void 0!==t&&(a.x=t),void 0!==i&&(a.y=i),s.offset=a}return r&&(s.width=+r),o&&(s.height=+o),s},IRt=n=>{const e={};return void 0!==n.collapsed&&(e.collapsed=n.collapsed),e},RRt=n=>{const e={},{highlight:t}=n;return t&&(e.highlight=t),e},rD_toGroupData=n=>{const{id:e,style:t,data:i}=n,r={id:e,customData:i,config:{}};return t?{...r,config:{...pat(n),...gat(n.type),...mat(t),...aG(t,"title"),...aG(t,"label"),...vat(t),...IRt(t),...RRt(t)}}:r},yat=n=>{const e={};return void 0!==n?.x&&(e.x=n.x),void 0!==n?.y&&(e.y=n.y),e},bat=n=>({type:{"circle-group":"circle","rect-group":"rect","device-group":"device-group"}[n]||"device-group"}),NRt=(n,e)=>{const{status:t,text:i,show:r,color:o,maxWidth:s,offset:a,fontSize:l,fontFamily:u,wordWrap:d,wordWrapWidth:f,maxLines:m,background:y}=n,b=null!=e&&e.full?{title:!0}:{};return void 0!==r&&(b.title=r),void 0!==i&&(b.titleText=i),void 0!==o&&(b.titleFill=o),void 0!==a&&(void 0!==a.x&&(b.titleOffsetX=a.x),void 0!==a.y&&(b.titleOffsetY=a.y)),void 0!==t&&(b.titleStatus=t),void 0!==l&&(b.titleFontSize=l),void 0!==u&&(b.titleFontFamily=u),void 0!==d&&(b.titleWordWrap=d),void 0!==f&&(b.titleWordWrapWidth=f),void 0!==s&&(b.titleMaxWidth=s),void 0!==m&&(b.titleMaxLines=m),y&&(b.titleCustomBackground=y),b},_at=(n,e)=>{const{status:t,text:i,show:r,color:o,maxWidth:s,offset:a,fontSize:l,fontFamily:u,wordWrap:d,wordWrapWidth:f,maxLines:m,background:y}=n,b=null!=e&&e.full?{label:!0}:{};return void 0!==r&&(b.label=r),void 0!==i&&(b.labelText=i),void 0!==o&&(b.labelFill=o),void 0!==s&&(b.labelMaxWidth=s),void 0!==a&&(void 0!==a.x&&(b.labelOffsetX=a.x),void 0!==a.y&&(b.labelOffsetY=a.y)),void 0!==t&&(b.labelStatus=t),void 0!==l&&(b.labelFontSize=l),void 0!==u&&(b.labelFontFamily=u),void 0!==d&&(b.labelWordWrap=d),void 0!==f&&(b.labelWordWrapWidth=f),void 0!==m&&(b.labelMaxLines=m),y&&(b.labelCustomBackground=y),b},Eat=(n,e)=>{const{show:t,src:i,offset:r,width:o,height:s}=n,a=null!=e&&e.full?{icon:!0}:{};return void 0!==t&&(a.icon=t),void 0!==i&&(a.iconSrc=i),r&&(void 0!==r.x&&(a.iconOffsetX=r.x),void 0!==r.y&&(a.iconOffsetY=r.y)),o&&(a.iconWidth=o),s&&(a.iconHeight=s),a},wat=n=>{const e={};return void 0!==n.collapsed&&(e.collapsed=n.collapsed),e},LRt=n=>{const e={collapsedSize:132,padding:-30,collapsedMarker:!1};return n.highlight&&(e.highlight=n.highlight),e},lG_toGroupData=(n,e)=>{const{id:t,config:i,customData:r}=n,o=null!=e&&e.full?{id:t,data:r,type:"device-group",style:{}}:{id:t};if(r&&(o.data=r),!i)return o;const{type:s="device-group",point:a,title:l,label:u,icon:d,parentId:f,states:m}=i,y={...o,...s&&bat(s),style:{...o.style,...wat(i),...a&&yat(a),...l&&NRt(l,e),...u&&_at(u,e),...d&&Eat(d),..."device-group"===s&&LRt(i)}};return f&&(y.combo=f),m&&(y.states=m),y},cG="title",xat="status-icon",Lf=132,V4=48;hc(oa.NODE,"device-node",class jRt extends R2{get nodeData(){return this.isNodeExist?this.parsedAttributes.context.model.getNodeLikeDatum(this.id):null}get states(){return this.isNodeExist?this.parsedAttributes.context.model.getElementState(this.id):[]}get isNodeExist(){return this.parsedAttributes.context.model.hasNode(this.id)}getElementOffsets(e){const{title:t,label:i,labelText:r}=e,s=!(!t&&!e.titleText),a=!(!i&&!r);return s&&a?{iconOffset:0,titleOffset:-Math.abs(12-(Lf/2-7)),labelOffset:+Math.abs(12-(Lf/2-7))}:s?{iconOffset:+Math.abs(26-(Lf/2-V4/2)),titleOffset:-Math.abs(26-(Lf/2-7)),labelOffset:0}:a?{iconOffset:-Math.abs(26-(Lf/2-V4/2)),titleOffset:0,labelOffset:+Math.abs(26-(Lf/2-7))}:{titleOffset:0,labelOffset:0,iconOffset:0}}getKeyStyle(e){const t={...super.getKeyStyle(e),r:Lf/2,cursor:"default"},i=fa(e);return this.states.includes("disabled")&&(t.cursor="not-allowed"),Object.assign(t,uat(i,this.states,e.highlight))}getHaloStyle(e){return!1}getIconStyle(e){const t=super.getIconStyle(e),i=fa(e),r=i.getThemeTokens(),{iconWidth:o=V4,iconHeight:s=V4,iconOffsetX:a=0,iconOffsetY:l=0}=e,u=a,d=this.getElementOffsets(e).iconOffset+l,f={...t,opacity:1,width:o,height:s,transform:`translate(${u}, ${d})`,transformOrigin:"center",cursor:"default"};return gg(this.states,["disabled"])&&(f.opacity=.38,f.cursor="not-allowed"),t||(f.src=f0(i,"factory",r["text-neutral-default"])),"object"==typeof t&&t.text&&(f.src=f0(i,t.text,r["text-neutral-default"])),"object"==typeof t&&t.src&&(f.src=t.src),f}getLabelStyle(e){return!(!1===e.label||!e.labelText)&&this.getTextStyle(e)}getTitleStyle(e){return!(!1===e.title||!e.titleText)&&{...this.getTextStyle(e),...qr(e,cG),transform:`translate(0, ${this.getElementOffsets(e).titleOffset})`}}getTextStyle(e){const t=super.getLabelStyle(e),i=e.labelStatus?7:0,r=this.getElementOffsets(e).labelOffset,o=fa(e).getThemeTokens(),{wordWrap:s=!0,wordWrapWidth:a=Lf,maxLines:l=2,...u}=t,d={...u,transform:`translate(${i}, ${r})`,fontFamily:"Roboto",fontSize:14,fontWeight:400,textAlign:"middle",textBaseline:"middle",textOverflow:"ellipsis",fill:o["text-neutral-default"],zIndex:2,wordWrapWidth:a,wordWrap:s,maxLines:l,class:"label-text",cursor:"default"};return this.states.includes("disabled")&&(d.cursor="not-allowed"),d}getStatusStyle(e){if(!e.labelStatus)return!1;const t=fa(e),i=t.getThemeTokens(),r=mg(this.shapeMap.label),l={...qr(e,"status"),transform:`translate(${r.min.x-8-7}, ${this.getElementOffsets(e).labelOffset-7})`,width:14,height:14,src:cat(t,e.labelStatus,i),zIndex:2,cursor:"not-allowed"};return gg(this.states,["disabled"])&&(l.opacity=.38),l}getTitleBackgroundStyle(e){if(!e.title||!e.titleText)return!1;const t=this.getLabelBackgroundStyle(e),i=mg(this.shapeMap[cG]),r=[6,2,6,2];return Object.assign(t,{transform:`translate(${i.x-i.width/2-r[2]}, ${i.y-i.height/2-r[3]})`,width:i.width+r[0]+r[2],height:i.height+r[1]+r[3]})}getLabelBackgroundStyle(e){if(!e.label||!e.labelText)return!1;const t=fa(e).getThemeTokens(),i=mg(this.shapeMap.label),r=[6,2,6,2],s=i.y-i.height/2-r[3],a=e.labelCustomBackground,l={transform:`translate(${i.x-i.width/2-r[2]}, ${s})`,width:i.width+r[0]+r[2],height:i.height+r[1]+r[3],opacity:.7,zIndex:0,radius:5,fill:a?.color||t["background-neutral-subtle"],stroke:a?.borderColor||"",lineWidth:a?.borderWidth||0,cursor:"default"};if(e.labelStatus){const u=mg(this.shapeMap[xat]),d=l.width+u.width,f=(i.max.x+u.min.x)/2-d/2;l.width=d,l.transform=`translate(${f}, ${s})`}return this.states.includes("disabled")&&(l.opacity=.38,l.cursor="not-allowed"),l}drawTitleShape(e,t){return this.upsert(cG,Rb,this.getTitleStyle(e),t)}drawStatusShape(e,t){return this.upsert(xat,Lc,this.getStatusStyle(e),t)}drawTitleBackgroundShape(e,t){return this.upsert("title-background",wu,this.getTitleBackgroundStyle(e),t)}drawLabelBackgroundShape(e,t){return this.upsert("label-background",wu,this.getLabelBackgroundStyle(e),t)}render(e,t){this.isNodeExist&&(super.render(e,t),this.drawTitleShape(e,t),this.drawStatusShape(e,t),this.drawLabelBackgroundShape(e,t))}});const Mat=n=>{if(!n)return{};const{fill:e,highlight:t}=n,i={};return e&&(i.color=e),t&&(i.highlight=t),i},Cat=n=>({type:{circle:"circle-node",rect:"rect-node","device-node":"device-node"}[n||"circle"]}),Sat=n=>n?{point:{x:n.x||0,y:n.y||0}}:{},uG=(n,e)=>{if(!n)return{};const{text:t,wordWrap:i,wordWrapWidth:r,maxLines:o,maxWidth:s,placement:a,offsetX:l,offsetY:u,status:d,customBackground:f}=qr(n,e);if(!n[e])return{};const m={show:!!n[e],offset:{x:0,y:0}};return t&&(m.text=t),i&&(m.wordWrap=i),r&&(m.wordWrapWidth=r),o&&(m.maxLines=o),s&&(m.maxWidth=s),a&&(m.position=a),void 0!==l&&(m.offset.x=l),void 0!==u&&(m.offset.y=u),d&&(m.status=d),f&&(m.background=f),{[e]:m}},Dat=n=>{if(!n)return{};const{src:e,width:t,height:i}=qr(n,"icon"),r={show:!!n.icon};return e&&(r.src=e),t&&(r.width=+t),i&&(r.height=+i),{icon:r}},sD_toNodeData=n=>{const{id:e,data:t}=n,i={id:e,customData:t,config:{type:"circle-node"}},r={...i,config:{...i.config,...Mat(n.style),...Cat(n.type),...Sat(n.style),...uG(n.style,"title"),...uG(n.style,"label"),...Dat(n.style)}};return n.combo&&(r.config.parentId=n.combo),n.states&&(r.config.states=n.states),r},Tat=(n,e)=>{const{color:t,highlight:i}=n,r=e?{visibility:"visible",labelFontFamily:"Roboto"}:{};return t&&(r.fill=t),i&&(r.highlight=i),r},Aat=n=>n?{type:{"circle-node":"circle","rect-node":"rect","device-node":"device-node"}[n||"device-node"]}:{},Oat=n=>{if(!n)return{};const e={};return void 0!==n.x&&(e.x=n.x),void 0!==n.y&&(e.y=n.y),e},kat=(n,e)=>{if(!n)return{};const{show:t,text:i,wordWrap:r,wordWrapWidth:o,maxLines:s,position:a,maxWidth:l,offset:u,status:d,background:f}=n,m=null!=e&&e.full?{title:!0}:{};return void 0!==t&&(m.title=t),void 0!==i&&(m.titleText=i),void 0!==r&&(m.titleWordWrap=r),void 0!==o&&(m.titleWordWrapWidth=o),void 0!==s&&(m.titleMaxLines=s),void 0!==l&&(m.titleMaxWidth=l),a&&(m.titlePlacement=a),u&&(void 0!==u.x&&(m.titleOffsetX=u.x),void 0!==u.y&&(m.titleOffsetY=u.y)),d&&(m.titleStatus=d),f&&(m.titleCustomBackground=f),m},Iat=(n,e)=>{if(!n)return{};const{show:t,text:i,wordWrap:r,wordWrapWidth:o,maxLines:s,position:a,maxWidth:l,offset:u,status:d,background:f}=n,m=null!=e&&e.full?{label:!0,labelWordWrap:!0,labelWordWrapWidth:Lf,labelMaxWidth:Lf,labelMaxLines:2}:{};return void 0!==t&&(m.label=t),void 0!==i&&(m.labelText=i),void 0!==r&&(m.labelWordWrap=r),void 0!==o&&(m.labelWordWrapWidth=o),void 0!==s&&(m.labelMaxLines=s),void 0!==l&&(m.labelMaxWidth=l),a&&(m.labelPlacement=a),u&&(void 0!==u.x&&(m.labelOffsetX=u.x),void 0!==u.y&&(m.labelOffsetY=u.y)),d&&(m.labelStatus=d),f&&(m.labelCustomBackground=f),m},Rat=(n,e)=>{if(!n)return{};const{show:t,width:i,height:r,src:o,offset:s}=n,a=null!=e&&e.full?{icon:!0,iconTransformOrigin:"center"}:{};if(void 0!==t&&(a.icon=t),o&&(a.iconSrc=o),i&&(a.iconWidth=i),r&&(a.iconHeight=r),s){const{x:l=0,y:u=0}=s;a.iconOffsetX=l,a.iconOffsetY=u,a.iconTransform=`translate(${l}, ${u})`}return a},U4_toNodeData=(n,e)=>{const{id:t,config:i,customData:r}=n,o=null!=e&&e.full?{id:n.id,data:r,type:"device-node"}:{id:t};if(r&&(o.data=r),!i)return o;const s={...o,...Aat(i.type),style:{...Tat(i,e),...Oat(i.point),...kat(i.title,e),...Iat(i.label,e),...Rat(i.icon,e)}};return p1(i,"parentId")&&(s.combo=i.parentId),p1(i,"treeParentId")&&(s.treeParentId=i.treeParentId),i.states&&(s.states=i.states),s};var aD={};Object.defineProperty(aD,"__esModule",{value:!0}),aD.sizeOf=function GRt(n){if(!n)return[0,0];let e=640,t=480;const[i,r]=function HRt(n){const e=getComputedStyle(n),t=n.clientWidth||hE(e.width),i=n.clientHeight||hE(e.height);return[t-(hE(e.paddingLeft)+hE(e.paddingRight)),i-(hE(e.paddingTop)+hE(e.paddingBottom))]}(n);return e=i||e,t=r||t,[Math.max((0,Lat.isNumber)(e)?e:1,1),Math.max((0,Lat.isNumber)(t)?t:1,1)]};var Pat=aD.createPluginContainer=function $Rt(n,e=!0,t){const i=document.createElement("div");return i.setAttribute("class",`g6-${n}`),Object.assign(i.style,{position:"absolute",display:"block"}),e&&Object.assign(i.style,{inset:"0px",height:"100%",width:"100%",overflow:"hidden",pointerEvents:"none"}),t&&Object.assign(i.style,t),i},Nat=aD.insertDOM=function WRt(n,e="div",t={},i="",r=document.body){const o=document.getElementById(n);o&&o.remove();const s=document.createElement(e);return s.innerHTML=i,s.id=n,Object.assign(s.style,t),r.appendChild(s),s};aD.insertBefore=function KRt(n,e){const t=n.firstChild;t?n.insertBefore(e,t):n.appendChild(e)};const Lat=Os,hE=n=>n?parseInt(n):0,lD="mx-element-toolbar",XRt=`\n  .${lD} {\n    position: absolute;\n    z-index: 100;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n    border-radius: 4px;\n    background: #FFFFFF;\n    box-shadow: 0px 1px 3px 1px #0000001F, 0px 1px 2px 0px #00000029;\n    gap: 4px;\n    padding: 4px;\n    opacity: 1 !important;\n  }\n\n  .${lD} .mx-toolbar-item {\n    display: inline-flex;\n    width: 32px;\n    height: 32px;\n    cursor: pointer;\n    box-sizing: content-box;\n    border-radius: 100px;\n    align-items: center;\n    justify-content: center;\n  }\n\n  .${lD} .mx-toolbar-item:hover {\n    background-color: #f0f0f0;\n  }\n\n  .${lD} .mx-toolbar-item img {\n    display: inline-block;\n    width: 20px;\n    height: 20px;\n    pointer-events: none;\n  }\n`,YRt=[{icon:"mx-form-textbox",value:"change-label",info:"Change Label"},{icon:"image",value:"change-icon",info:"Change Icon"},{icon:"delete_forever",value:"group",info:"Assign Group"}],ZRt=[{icon:"mx-form-textbox",value:"change-label",info:"Change Label"}],QRt=[{icon:"mx-form-textbox",value:"change-label",info:"Change Label"},{icon:"image",value:"change-icon",info:"Change Icon"},{icon:"mx-disband_group_outline",value:"un-group",info:"Ungroup"}],qRt=[{icon:"shape_line_outline",value:"auto-layout",info:"Auto Layout"},{icon:"group_work",value:"group",info:"Assign Group"}],Fat=class put extends da{constructor(e,t){super(e,Object.assign({},put.defaultOptions,t)),ln(this,"$element",Pat("element-toolbar",!1)),ln(this,"ids",[]),ln(this,"getEvents",()=>({[vg.NODE_DRAG]:this.onDrag,[eD.GROUP_DRAG]:this.onDrag,[vg.NODE_CLICK]:this.onClick,[vg.NODE_SELECTED]:this.onClick,[N4.EDGE_SELECTED]:this.onClick,[eD.GROUP_SELECTED]:this.onClick,[dE.GRAPH_BEFORE_BRUSH_SELECT]:this.onBrushSelect,[dE.GRAPH_AFTER_TRANSFORM]:this.onDrag,[uE.CANVAS_DRAG]:this.onDrag,[uE.CANVAS_CLICK]:this.onClear})),ln(this,"onClick",i=>{const r=this.getSelectedIds();this.options.enable(r)&&this.showToolbar(r)}),ln(this,"onDrag",i=>{const r=this.getSelectedIds();this.options.enable(r)&&this.showToolbar(r)}),ln(this,"onBrushSelect",i=>{const r=this.getBrushSelectedIds(i);this.options.enable(r)&&this.showToolbar(r)}),ln(this,"onClear",()=>{this.update({visible:!1}),this.ids=[]}),ln(this,"onToolbarItemClick",i=>{const{onClick:r}=this.options;if(i.target instanceof Element&&i.target.className.includes("mx-toolbar-item")){const o=i.target.getAttribute("value"),s=r?.(o,this.ids);(s||_i(s))&&this.onClear()}}),this.init(),this.update(t),this.bindEvents()}init(){const e=this.context.canvas.getContainer();this.$element.style.display="flex",e?.appendChild(this.$element),Nat("mx-element-toolbar-css","style",{},XRt,document.head)}getToolbarPosition(e){const{graph:t}=this.context,i=t.mxGraph.getElementBoundingBox(e);return t.getViewportByCanvas([i.center[0],i.min[1]])}getSelectedIds(){const{graph:e}=this.context;return[...e.getElementDataByState("node","selected"),...e.getElementDataByState("edge","selected"),...e.getElementDataByState("combo","selected")].map(o=>o.id)}getBrushSelectedIds(e){return Object.keys(e).filter(t=>e[t].includes("selected"))}showToolbar(e){if(0===e.length)return void this.onClear();const t=this.getToolbarPosition(e);this.ids=e,this.update({visible:!0,position:{x:t[0],y:t[1]}})}update(e){var t=()=>super.update,i=this;return(0,re.A)(function*(){t().call(i,e);const{className:r,position:o,visible:s}=i.options,a={visibility:s?"visible":"hidden",transform:"translate(-50%, calc(-100% - 12px))",left:o?`${o.x}px`:"0",top:o?`${o.y}px`:"0"};i.$element.className=`${lD} ${r||""}`,Object.assign(i.$element.style,a);const l=yield i.getDOMContent();l?i.$element.innerHTML=l:(i.$element.style.visibility="hidden",i.ids=[])})()}getDOMContent(){var e=this;return(0,re.A)(function*(){const{getItems:t}=e.options,i=e.context.graph.mxGraph;return t(e.ids).map(r=>{var o;const{icon:s,iconSrc:a,value:l,info:u=""}=r;return`\n          <div class="mx-toolbar-item" value="${l}" title="${u}">\n            <img src="${a||s&&(null==(o=f0(i,s,"#566060"))?void 0:o.src)||""}"/>\n          </div>`}).join("")})()}bindEvents(){const{graph:e}=this.context,t=this.getEvents();Object.keys(t).forEach(i=>{e.on(i,t[i])}),this.$element.addEventListener("click",this.onToolbarItemClick)}unbindEvents(){const{graph:e}=this.context,t=this.getEvents();Object.keys(t).forEach(i=>{e.off(i,t[i])}),this.$element.removeEventListener("click",this.onToolbarItemClick)}destroy(){this.unbindEvents(),this.$element.remove(),super.destroy()}};ln(Fat,"defaultOptions",{visible:!1,position:{x:0,y:0},enable:()=>!0}),hc(oa.PLUGIN,Lr.ELEMENT_TOOLBAR,Fat);var fE={};Object.defineProperty(fE,"__esModule",{value:!0}),fE.BUILD_IN_SVG_ICON=fE.TOOLBAR_CSS=void 0;var ePt=fE.parsePositionToStyle=function nPt(n){const e={top:"unset",right:"unset",bottom:"unset",left:"unset"};return n.split("-").forEach(t=>{e[t]="8px"}),e.flexDirection=n.startsWith("top")||n.startsWith("bottom")?"row":"column",e};fE.TOOLBAR_CSS="\n  .g6-toolbar {\n    position: absolute;\n    z-index: 100;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n    border-radius: 4px;\n    box-shadow: 0px 0px 8px rgba(0, 0, 0, 0.1);\n    opacity: 0.65;\n  }\n  .g6-toolbar .g6-toolbar-item {\n    display: inline-block;\n    width: 16px;\n    height: 16px;\n    padding: 4px;\n    cursor: pointer;\n    box-sizing: content-box;\n  }\n\n  .g6-toolbar .g6-toolbar-item:hover {\n    background-color: #f0f0f0;\n  }\n\n  .g6-toolbar .g6-toolbar-item svg {\n    display: inline-block;\n    width: 100%;\n    height: 100%;\n    pointer-events: none;\n  }\n",fE.BUILD_IN_SVG_ICON='\n  <svg>\n    <symbol id="zoom-in" viewBox="64 64 896 896">\n      <path d="M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"></path>\n    </symbol>\n    <symbol id="zoom-out" viewBox="64 64 896 896">\n      <path d="M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"></path>\n    </symbol>\n    <symbol id="edit" viewBox="64 64 896 896">\n      <path d="M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"></path>\n    </symbol>\n    <symbol id="delete" viewBox="64 64 896 896">\n      <path d="M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"></path>\n    </symbol>\n    <symbol id="redo" viewBox="64 64 896 896">\n      <path d="M758.2 839.1C851.8 765.9 912 651.9 912 523.9 912 303 733.5 124.3 512.6 124 291.4 123.7 112 302.8 112 523.9c0 125.2 57.5 236.9 147.6 310.2 3.5 2.8 8.6 2.2 11.4-1.3l39.4-50.5c2.7-3.4 2.1-8.3-1.2-11.1-8.1-6.6-15.9-13.7-23.4-21.2a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-9.3 9.3-19.1 18-29.3 26L668.2 724a8 8 0 00-14.1 3l-39.6 162.2c-1.2 5 2.6 9.9 7.7 9.9l167 .8c6.7 0 10.5-7.7 6.3-12.9l-37.3-47.9z"></path>\n    </symbol>\n    <symbol id="undo" viewBox="64 64 896 896">\n      <path d="M511.4 124C290.5 124.3 112 303 112 523.9c0 128 60.2 242 153.8 315.2l-37.5 48c-4.1 5.3-.3 13 6.3 12.9l167-.8c5.2 0 9-4.9 7.7-9.9L369.8 727a8 8 0 00-14.1-3L315 776.1c-10.2-8-20-16.7-29.3-26a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-7.5 7.5-15.3 14.5-23.4 21.2a7.93 7.93 0 00-1.2 11.1l39.4 50.5c2.8 3.5 7.9 4.1 11.4 1.3C854.5 760.8 912 649.1 912 523.9c0-221.1-179.4-400.2-400.6-399.9z"></path>\n    </symbol>\n    <symbol id="export" viewBox="64 64 896 896">\n      <path d="M880 912H144c-17.7 0-32-14.3-32-32V144c0-17.7 14.3-32 32-32h360c4.4 0 8 3.6 8 8v56c0 4.4-3.6 8-8 8H184v656h656V520c0-4.4 3.6-8 8-8h56c4.4 0 8 3.6 8 8v360c0 17.7-14.3 32-32 32zM770.87 199.13l-52.2-52.2a8.01 8.01 0 014.7-13.6l179.4-21c5.1-.6 9.5 3.7 8.9 8.9l-21 179.4c-.8 6.6-8.9 9.4-13.6 4.7l-52.4-52.4-256.2 256.2a8.03 8.03 0 01-11.3 0l-42.4-42.4a8.03 8.03 0 010-11.3l256.1-256.3z"></path>\n    </symbol>\n    <symbol id="auto-fit" viewBox="64 64 896 896">\n      <path d="M952 474H829.8C812.5 327.6 696.4 211.5 550 194.2V72c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v122.2C327.6 211.5 211.5 327.6 194.2 474H72c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h122.2C211.5 696.4 327.6 812.5 474 829.8V952c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V829.8C696.4 812.5 812.5 696.4 829.8 550H952c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zM512 756c-134.8 0-244-109.2-244-244s109.2-244 244-244 244 109.2 244 244-109.2 244-244 244z"></path>\n      <path d="M512 392c-32.1 0-62.1 12.4-84.8 35.2-22.7 22.7-35.2 52.7-35.2 84.8s12.5 62.1 35.2 84.8C449.9 619.4 480 632 512 632s62.1-12.5 84.8-35.2C619.4 574.1 632 544 632 512s-12.5-62.1-35.2-84.8A118.57 118.57 0 00512 392z"></path>\n    </symbol>\n    <symbol id="reset" viewBox="64 64 896 896">\n      <path d="M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"></path>\n    </symbol>\n    <symbol id="exit-fullscreen" viewBox="0 0 1024 1024">\n      <path d="M418.13333333 361.43786666c0 0.2048-0.13653333 0.4096-0.13653334 0.68266667C417.99679999 362.32533333 418.13333333 362.53013333 418.13333333 362.73493333 418.13333333 371.54133333 414.44693333 379.392 408.78079999 385.39946666 408.43946666 385.7408 408.30293333 386.21866666 408.02986666 386.49173333c-1.09226667 1.09226667-2.59413333 1.77493333-3.82293333 2.73066667C398.40426666 393.65973333 391.64586666 396.8 383.93173333 396.8 383.72693333 396.8 383.59039999 396.73173333 383.38559999 396.73173333S382.97599999 396.8 382.77119999 396.8L112.29866666 396.8C92.50133333 396.8 76.79999999 381.50826666 76.79999999 362.66666666 76.66346666 343.89333333 92.63786666 328.53333333 112.16213333 328.53333333l189.44 0L87.44959999 114.51733333C73.59146666 100.59093333 73.25013333 78.5408 86.63039999 65.29706666c13.17546667-13.44853333 35.36213333-12.97066667 49.152 0.88746667l214.08426667 214.08426667L349.86666666 90.89706666C349.79839999 71.23626666 365.22666666 55.46666666 383.99999999 55.46666666 402.77333333 55.33013333 418.13333333 71.30453333 418.13333333 90.8288L418.13333333 361.43786666zM928.90453333 328.53333333l-189.44 0 214.15253333-214.08426667c13.85813333-13.9264 14.19946667-35.90826667 0.88746667-49.22026666-13.17546667-13.44853333-35.36213333-12.97066667-49.152 0.88746666l-214.08426667 214.08426667L691.26826666 90.89706666C691.26826666 71.23626666 675.83999999 55.46666666 657.06666666 55.46666666 638.29333333 55.33013333 622.93333333 71.30453333 622.93333333 90.8288l0 270.60906666c0 0.2048 0.13653333 0.4096 0.13653333 0.68266667C623.06986666 362.32533333 622.93333333 362.53013333 622.93333333 362.73493333 622.93333333 371.54133333 626.61973333 379.392 632.28586666 385.39946666c0.34133333 0.34133333 0.47786667 0.8192 0.8192 1.09226667 1.09226667 1.09226667 2.59413333 1.77493333 3.8912 2.73066667C642.66239999 393.65973333 649.42079999 396.8 657.13493333 396.8c0.2048 0 0.34133333-0.06826667 0.54613333-0.06826667S658.09066666 396.8 658.29546666 396.8l270.5408 0C948.56533333 396.8 964.26666666 381.50826666 964.26666666 362.66666666 964.40319999 343.89333333 948.42879999 328.53333333 928.90453333 328.53333333zM418.13333333 635.73333333c0-8.8064-3.6864-16.5888-9.35253334-22.66453333C408.43946666 612.72746666 408.30293333 612.2496 408.02986666 611.90826666 406.86933333 610.88426666 405.43573333 610.2016 404.20693333 609.24586666 398.47253333 604.80853333 391.64586666 601.6 383.93173333 601.6 383.72693333 601.6 383.59039999 601.73653333 383.38559999 601.73653333S382.97599999 601.6 382.77119999 601.6L112.29866666 601.6C92.50133333 601.6 76.79999999 616.96 76.79999999 635.73333333 76.66346666 654.50666666 92.63786666 669.86666666 112.16213333 669.86666666l189.44 0-214.15253334 214.15253334c-13.85813333 13.85813333-14.19946667 35.84-0.88746666 49.22026666 13.17546667 13.44853333 35.36213333 12.9024 49.152-0.95573333l214.08426666-214.08426667 0 189.37173334c0 19.59253333 15.42826667 35.49866667 34.2016 35.36213333C402.77333333 943.2064 418.13333333 927.232 418.13333333 907.5712L418.13333333 637.09866666c0-0.27306667-0.13653333-0.47786667-0.13653334-0.68266666C417.99679999 636.14293333 418.13333333 635.93813333 418.13333333 635.73333333zM739.46453333 669.86666666l189.44 0c19.456 0 35.49866667-15.36 35.36213333-34.13333333C964.26666666 616.96 948.56533333 601.6 928.76799999 601.6L658.29546666 601.6C658.09066666 601.6 657.88586666 601.73653333 657.68106666 601.73653333S657.33973333 601.6 657.13493333 601.6C649.42079999 601.6 642.59413333 604.80853333 636.85973333 609.24586666 635.63093333 610.2016 634.19733333 610.88426666 633.03679999 611.90826666 632.76373333 612.2496 632.62719999 612.72746666 632.28586666 613.0688 626.61973333 619.14453333 622.93333333 626.92693333 622.93333333 635.73333333c0 0.2048 0.13653333 0.4096 0.13653333 0.68266667C623.06986666 636.6208 622.93333333 636.8256 622.93333333 637.09866666l0 270.5408C622.93333333 927.232 638.29333333 943.2064 657.06666666 942.93333333c18.77333333 0.13653333 34.2016-15.70133333 34.2016-35.36213333l0-189.37173334 214.08426667 214.08426667c13.78986667 13.85813333 35.90826667 14.40426667 49.152 0.95573333 13.312-13.312 12.97066667-35.36213333-0.88746667-49.22026666L739.46453333 669.86666666z"  ></path></symbol>\n    <symbol id="request-fullscreen" viewBox="0 0 1024 1024">\n      <path d="M69.818182 87.598545v273.128728a34.909091 34.909091 0 0 0 69.818182 0V163.653818l221.928727 222.021818a33.512727 33.512727 0 0 0 47.383273-47.383272L186.926545 116.363636h197.073455a34.909091 34.909091 0 0 0 0-69.818181H110.871273C85.364364 46.545455 69.818182 59.671273 69.818182 87.598545zM938.542545 46.545455H665.413818a34.909091 34.909091 0 0 0 0 69.818181h197.073455L640.465455 338.292364a33.512727 33.512727 0 0 0 47.383272 47.383272l221.928728-222.021818v197.073455a34.909091 34.909091 0 0 0 69.818181 0V87.598545c0-27.927273-15.453091-41.053091-40.96-41.05309z m-827.671272 907.636363h273.128727a34.909091 34.909091 0 0 0 0-69.818182H186.926545l222.021819-221.928727a33.512727 33.512727 0 0 0-47.383273-47.383273L139.636364 837.073455V640a34.909091 34.909091 0 0 0-69.818182 0v273.128727c0 27.927273 15.546182 41.053091 41.053091 41.053091z m868.724363-41.053091V640a34.909091 34.909091 0 0 0-69.818181 0v197.073455L687.941818 615.051636a33.512727 33.512727 0 0 0-47.383273 47.383273L862.487273 884.363636H665.413818a34.909091 34.909091 0 0 0 0 69.818182h273.128727c25.6 0 41.053091-13.125818 41.053091-41.053091z"  ></path></symbol>\n  </svg>\n';const cD="mx-fixed-toolbar",iPt=`\n  .${cD} {\n    position: absolute;\n    z-index: 100;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n    border-radius: 4px;\n    background: #FFFFFF;\n    box-shadow: 0px 1px 3px 1px #0000001F, 0px 1px 2px 0px #00000029;\n    gap: 4px;\n    padding: 4px;\n    opacity: 1 !important;\n  }\n  .${cD} .mx-toolbar-item {\n    display: inline-flex;\n    width: 32px;\n    height: 32px;\n    cursor: pointer;\n    box-sizing: content-box;\n    border-radius: 100px;\n    align-items: center;\n    justify-content: center;\n  }\n\n  .${cD} .mx-toolbar-item:hover {\n    background-color: #f0f0f0;\n  }\n\n  .${cD} .mx-toolbar-item img {\n    display: inline-block;\n    width: 20px;\n    height: 20px;\n    pointer-events: none;\n  }\n`,Bat=class mut extends da{constructor(e,t){super(e,Object.assign({},mut.defaultOptions,t)),ln(this,"$element",Pat("toolbar",!1)),ln(this,"onToolbarItemClick",r=>{const{onClick:o}=this.options;if(r.target instanceof Element&&r.target.className.includes("mx-toolbar-item")){const s=r.target.getAttribute("value");o?.(s,r.target)}});const i=this.context.canvas.getContainer();this.$element.style.display="flex",i.appendChild(this.$element),Nat("mx-toolbar-css","style",{},iPt,document.head),this.$element.addEventListener("click",this.onToolbarItemClick),this.update(t)}update(e){var t=()=>super.update,i=this;return(0,re.A)(function*(){t().call(i,e);const{className:r,position:o,style:s}=i.options;i.$element.className=`${cD} ${r||""}`,Object.assign(i.$element.style,s,ePt(o)),i.$element.innerHTML=yield i.getDOMContent()})()}destroy(){this.$element.removeEventListener("click",this.onToolbarItemClick),this.$element.remove(),super.destroy()}getDOMContent(){var e=this;return(0,re.A)(function*(){const i=e.context.graph.mxGraph;return e.options.items.map(r=>{var o;const{icon:s,iconSrc:a,value:l,info:u=""}=r;return`\n          <div class="mx-toolbar-item" value="${l}" title="${u}">\n            <img src="${a||s&&(null==(o=f0(i,s,"#566060"))?void 0:o.src)||""}"/>\n          </div>`}).join("")})()}};ln(Bat,"defaultOptions",{position:"bottom-right",items:[]}),hc(oa.PLUGIN,Lr.FIXED_TOOLBAR,Bat);const jat=class gut extends da{constructor(e,t){const i={...gut.defaultOptions,...t};super(e,i),ln(this,"imageNode"),ln(this,"getEvents",()=>({[Ah.GRAPH_AFTER_SIZE_CHANGE]:this.onGraphSizeChange})),ln(this,"onGraphSizeChange",r=>{this.setBackgroundImage()}),this.bindEvents(),this.update(i)}update(e){super.update(e),this.setBackgroundImage()}setBackgroundImage(){const{url:e,begin:t,width:i,height:r,opacity:o}=this.options,{graph:s}=this.context,a=s.getSize();if(!e)return;const l=new Lc({style:{src:e,x:t.x,y:t.y,width:i||a[0],height:r||a[1],pointerEvents:"none",opacity:o}});this.imageNode&&this.imageNode.destroy(),s.getCanvas().appendChild(l,0),this.imageNode=l}destroy(){var e;null==(e=this.imageNode)||e.destroy(),this.unbindEvents(),super.destroy()}bindEvents(){const{graph:e}=this.context,t=this.getEvents();Object.keys(t).forEach(i=>{e.on(i,t[i])})}unbindEvents(){const{graph:e}=this.context,t=this.getEvents();Object.keys(t).forEach(i=>{e.off(i,t[i])})}};ln(jat,"defaultOptions",{begin:{x:0,y:0},opacity:1}),hc(oa.PLUGIN,Lr.GRAPH_BACKGROUND,jat);const dG=({current:n,original:e},t,i)=>["add","update","remove"].some(r=>{const s=e[r][t]||[];return(n[r][t]||[]).some(a=>{const l=s.find(u=>a.id===u.id);return i.some(u=>{var d,f;return(null==(d=a.style)?void 0:d[u])!==(null==(f=l?.style)?void 0:f[u])})})}),hPt=({current:n,original:e})=>{const i=e.update.edges||[];return(n.update.edges||[]).some(r=>{var o,s;const a=i.find(d=>r.id===d.id),l=(null==(o=r.style)?void 0:o.labels)||[],u=(null==(s=a?.style)?void 0:s.labels)||[];return JSON.stringify(l)!==JSON.stringify(u)})},fPt={type:Lr.MINIMAP,key:Lr.MINIMAP,position:"bottom-right",size:[120,80],offset:[0,0]},mPt={type:Lr.SNAPLINE,key:Lr.SNAPLINE},yPt=[{type:"background",background:"#fff",zIndex:-5}],bPt=[Lr.HISTORY,Lr.FIXED_TOOLBAR],H4={[Lr.HISTORY]:(n,e)=>({type:Lr.HISTORY,key:Lr.HISTORY,stackSize:100,beforeAddCommand:(t,i)=>{const r=(n=>dG(n,"nodes",["x","y","icon","iconSrc","iconWidth","iconHeight","label","labelText","title","titleText","visibility"]))(t),o=(n=>dG(n,"edges",["visibility"])||hPt(n))(t),s=(n=>dG(n,"combos",["x","y","label","labelText","title","titleText","collapsed","visibility"]))(t);return r||o||s}}),[Lr.CONTEXT_MENU]:(n,e)=>({type:Lr.CONTEXT_MENU,key:Lr.CONTEXT_MENU}),[Lr.TOOLTIP]:(n,e)=>{const t={type:Lr.TOOLTIP,key:Lr.TOOLTIP,enterable:!0};if(!e)return t;const{enable:i,render:r,trigger:o,itemTypes:s}=e,a=t;return void 0!==i&&(a.enable=i),r&&(a.getContent=e.render),o&&(a.trigger=o),s&&(a.enable=l=>{switch(l.targetType){case"node":return s.includes("node");case"edge":return s.includes("edge");case"combo":return s.includes("group")}return!0}),a},[Lr.FIXED_TOOLBAR]:(n,e)=>{const t={type:Lr.FIXED_TOOLBAR,key:Lr.FIXED_TOOLBAR,position:"bottom-right",items:[{icon:"remove",value:"zoom-out",info:"Zoom Out"},{icon:"add",value:"zoom-in",info:"Zoom In"},{icon:"center_focus_weak",value:"fit-view",info:"Fit View"}],onClick:i=>{switch(i){case"zoom-in":n.zoom(1.5);break;case"zoom-out":n.zoom(.5);break;case"fit-view":n.fitView()}}};return e?{...t,...e}:t},[Lr.ELEMENT_TOOLBAR]:(n,e)=>{const i={type:Lr.ELEMENT_TOOLBAR,key:Lr.ELEMENT_TOOLBAR,getItems:r=>{let o=[];const{nodes:s,edges:a,groups:l}=(r=>{const o={nodes:[],edges:[],groups:[]};return r.forEach(s=>{const a=n.getElementType(s);"node"===a&&o.nodes.push(s),"edge"===a&&o.edges.push(s),"group"===a&&o.groups.push(s)}),o})(r),u=s.length>0,d=a.length>0,f=l.length>0;return(s.length>1||l.length>1||u&&f)&&!d?o=qRt:!u||d||f?!f||d||u?d&&!u&&!f&&(o=ZRt):o=QRt:o=YRt,o}};return e?{...i,...e}:i},[Lr.GRAPH_BACKGROUND]:(n,e)=>({type:Lr.GRAPH_BACKGROUND,key:Lr.GRAPH_BACKGROUND,...e}),[Lr.MINIMAP]:(n,e)=>{const{key:t,position:i,size:r,offset:o,className:s}={...fPt,...e},a={key:t,type:"minimap",shape:(l,u)=>{var d;return null==(d=n.elementController.getElement(l))?void 0:d.cloneNode()},containerStyle:{...prt.defaultOptions.containerStyle,transform:`translate(${o[0]}px, ${o[1]}px)`}};return r&&(a.size=r),i&&(a.position=i),s&&(a.className=s),a},[Lr.SNAPLINE]:(n,e)=>{const{key:t}={...mPt,...e};console.log(n.getThemeTokens());const i={stroke:"#FF5449",lineWidth:1,lineDash:5};return{key:t,type:"snapline",autoSnap:!0,horizontalLineStyle:i,verticalLineStyle:i}}},Vat=(n,e)=>e.map(t=>mo(t)?H4[t.type](n,t):H4[t](n));var zat=function(){function n(){In(this,n)}return On(n,[{key:"apply",value:function(e,t){var i=this,r=e.config.document,o=e.renderingService,s=e.svgElementMap;o.hooks.pick.tapPromise(n.tag,function(){var a=ql(rl().mark(function l(u){return rl().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",i.pick(s,r,u));case 1:case"end":return d.stop()}},l)}));return function(l){return a.apply(this,arguments)}}()),o.hooks.pickSync.tap(n.tag,function(a){return i.pick(s,r,a)})}},{key:"pick",value:function(e,t,i){var r=i.topmost,o=i.position,s=o.clientX,a=o.clientY;try{var d,l=[],u=df((t||document).elementsFromPoint(s,a));try{for(u.s();!(d=u.n()).done;){var f=d.value;if(f.shadowRoot&&f.shadowRoot!==t)return this.pick(e,f.shadowRoot,i);var m=e.get(f);if(m&&m.isInteractive()&&(l.push(m),r))return i.picked=l,i}}catch(y){u.e(y)}finally{u.f()}i.picked=l}catch{i.picked=[]}return i}}])}();zat.tag="SVGPicker";var _Pt=function(n){function e(){var t;In(this,e);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=Kn(this,e,[].concat(r))).name="svg-picker",t}return br(e,n),On(e,[{key:"init",value:function(){this.addRenderingPlugin(new zat)}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}}])}(Du),Uat=On(function n(){In(this,n)});function gr(n,e){return(e||document).createElementNS("http://www.w3.org/2000/svg",n)}Uat.tag="c-svg-element";function pE(n){return n.unit===Jn.kPercentage?n.value/100:n.value}function hG(n,e,t){var i=t.type,r=t.slope,o=t.intercept,s=t.tableValues,a=gr("feComponentTransfer",n);[gr("feFuncR",n),gr("feFuncG",n),gr("feFuncB",n)].forEach(function(l){l.setAttribute("type",i),"table"===i?l.setAttribute("tableValues","".concat(s)):(l.setAttribute("slope","".concat(r)),l.setAttribute("intercept","".concat(o))),a.appendChild(l)}),e.appendChild(a)}function Gat(n,e,t){var i=gr("feColorMatrix",n);i.setAttribute("type","matrix"),i.setAttribute("values",t.join(" ")),e.appendChild(i)}var LPt="g-pattern-",G4={},fG=0;function $at(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t="";if(function Xut(n){return!!n.type&&!!n.value}(n)){var i=n.type;if(i===pd.LinearGradient||i===pd.RadialGradient){var o=xr(xr({},n.value),e),a=o.x,l=o.y,u=o.width,d=o.height,f=o.steps,m=o.angle,y=o.cx,b=o.cy,E=o.size;t="gradient-".concat(o.type,"-").concat(a?.toString()||0,"-").concat(l?.toString()||0,"-").concat(m?.toString()||0,"-").concat(y?.toString()||0,"-").concat(b?.toString()||0,"-").concat(E?.toString()||0,"-").concat(u,"-").concat(d,"-").concat(f.map(function(w){var x=w.color;return"".concat(w.offset).concat(x)}).join("-"))}}else Tf(n)&&(t=Ki(n.image)?"pattern-".concat(n.image,"-").concat(n.repetition):"rect"===n.image.nodeName?"pattern-rect-".concat(n.image.entity):"pattern-".concat(fG));return t&&(G4[t]||(G4[t]="".concat(LPt).concat(fG++))),G4[t]}function Wat(n,e,t,i,r,o,s){var a=i.repetition,l=i.transform,u=gr("pattern",n);l&&u.setAttribute("patternTransform",function jPt(n){return a9(n).map(function(e){var t=e.t,i=e.d;if("translate"===t)return"translate(".concat(i[0].value," ").concat(i[1].value,")");if("translateX"===t)return"translate(".concat(i[0].value," 0)");if("translateY"===t)return"translate(0 ".concat(i[0].value,")");if("rotate"===t)return"rotate(".concat(i[0].value,")");if("scale"===t){var r=i?.map(function(x){return x.value})||[1,1];return"scale(".concat(r[0],", ").concat(r[1],")")}if("scaleX"===t){var o=i?.map(function(x){return x.value})||[1];return"scale(".concat(o[0],", 1)")}if("scaleY"===t){var s=i?.map(function(x){return x.value})||[1];return"scale(1, ".concat(s[0],")")}if("skew"===t){var a=i?.map(function(x){return x.value})||[0,0];return"skewX(".concat(a[0],") skewY(").concat(a[1],")")}if("skewZ"===t){var l=i?.map(function(x){return x.value})||[0];return"skewX(".concat(l[0],")")}if("skewY"===t){var u=i?.map(function(x){return x.value})||[0];return"skewY(".concat(u[0],")")}if("matrix"===t){var f=Yi(i.map(function(x){return x.value}),6),y=f[1],b=f[2],E=f[3],w=f[4],M=f[5];return"matrix(".concat(f[0]," ").concat(y," ").concat(b," ").concat(E," ").concat(w," ").concat(M,")")}return null}).filter(function(e){return null!==e}).join(" ")}(l)),u.setAttribute("patternUnits","userSpaceOnUse"),u.id=r,e.appendChild(u);var d=t.getGeometryBounds(),f=d.halfExtents,m=d.min;u.setAttribute("x","".concat(m[0])),u.setAttribute("y","".concat(m[1]));var y=o,b=s;return"repeat-x"===a?b=2*f[1]:"repeat-y"===a?y=2*f[0]:"no-repeat"===a&&(y=2*f[0],b=2*f[1]),u.setAttribute("width","".concat(y)),u.setAttribute("height","".concat(b)),u}function Kat(n,e,t,i,r){var o=e.getGeometryBounds(),s=o&&2*o.halfExtents[0]||0,a=o&&2*o.halfExtents[1]||0,l=o&&o.min||[0,0],u=$at(r,{x:l[0],y:l[1],width:s,height:a}),d=t.querySelector("#".concat(u));if(!d){(d=gr(r.type===pd.LinearGradient?"linearGradient":"radialGradient",n)).setAttribute("gradientUnits","userSpaceOnUse");var f="";r.value.steps.sort(function($,X){return $.offset.value-X.offset.value}).forEach(function($){var q=$.color;f+='<stop offset="'.concat($.offset.value/100,'" stop-color="').concat(q,'"></stop>')}),d.innerHTML=f,d.id=u,t.appendChild(d)}if(r.type===pd.LinearGradient){var b=CW([l[0],l[1]],s,a,r.value.angle),w=b.y1,M=b.x2,x=b.y2;d.setAttribute("x1","".concat(b.x1)),d.setAttribute("y1","".concat(w)),d.setAttribute("x2","".concat(M)),d.setAttribute("y2","".concat(x))}else{var D=r.value,R=SW([l[0],l[1]],s,a,D.cx,D.cy,D.size),F=R.y,U=R.r;d.setAttribute("cx","".concat(R.x)),d.setAttribute("cy","".concat(F)),d.setAttribute("r","".concat(U))}return u}var GPt=/url\("?#(.*)\)/,$Pt=function(){return On(function n(e){In(this,n),this.gradientCache={},this.context=e},[{key:"getDefElement",value:function(){return this.$def}},{key:"init",value:function(){var e=this.context.config.document,t=this.context.contextService.getContext();this.$def=gr("defs",e),t.appendChild(this.$def)}},{key:"clear",value:function(e){var t=this;Object.keys(this.gradientCache).forEach(function(i){t.clearUnusedDefElement(t.gradientCache,i,e)})}},{key:"clearUnusedDefElement",value:function(e,t,i){if(e[t]&&1===e[t].size&&e[t].has(i)){var r=this.$def.querySelector("#".concat(t));r&&this.$def.removeChild(r)}}},{key:"createOrUpdateGradientAndPattern",value:function(e,t,i,r,o){var s=this.context.config,a=s.document,l=s.createImage;if(t){var d=(Tf(i)?t.style[r]:t.getAttribute(r)||"").match(GPt);d&&d.length>1&&this.clearUnusedDefElement(this.gradientCache,d[1].replace('"',""),e.entity);var f=function BPt(n,e,t,i,r,o,s,a){if(!r)return"";if(!N2(r)){if(Tf(r)){var l=function VPt(n,e,t,i,r,o){var s=$at(i);if(!e.querySelector("#".concat(s))){var l=i.image,u="";if(Ki(l)?u=l:w_&&(l instanceof HTMLImageElement?u=l.src:l instanceof HTMLCanvasElement&&(u=l.toDataURL())),u){var f,d=gr("image",n);d.setAttribute("href",u),r?f=r(u):w_&&(f=new window.Image),u.match(/^data:/i)||(f.crossOrigin="Anonymous",d.setAttribute("crossorigin","anonymous")),f.src=u;var m=function(){var x=Wat(n,e,t,i,s,f.width,f.height);e.appendChild(x),x.appendChild(d),d.setAttribute("x","0"),d.setAttribute("y","0"),d.setAttribute("width","".concat(f.width)),d.setAttribute("height","".concat(f.height))};f.complete?m():f.onload=m}if("rect"===l.nodeName){var y=l.parsedStyle,w=Wat(n,e,l,i,s,y.width,y.height);l.forEach(function(x){o.createSVGDom(n,x,null);var D=x.elementSVG,k=x.getLocalTransform();o.applyTransform(D.$groupEl,k)}),w.appendChild(l.elementSVG.$groupEl)}}return s}(n,e,t,r,s,a);return i.style[o]="url(#".concat(l,")"),l}if(1===r.length){var u=Kat(n,t,e,0,r[0]);return i?.setAttribute(o,"url(#".concat(u,")")),u}var d=function zPt(n,e,t,i,r){var o="".concat("g-filter-"+e.entity,"-gradient"),s=t.querySelector("#".concat(o));s||((s=gr("filter",n)).setAttribute("filterUnits","userSpaceOnUse"),s.setAttribute("x","0%"),s.setAttribute("y","0%"),s.setAttribute("width","100%"),s.setAttribute("height","100%"),s.id=o,t.appendChild(s));var a=0;r.forEach(function(u,d){var f=Kat(n,e,t,0,u),m="".concat(f,"_rect"),y=gr("rect",n);y.setAttribute("x","0"),y.setAttribute("y","0"),y.setAttribute("width","100%"),y.setAttribute("height","100%"),y.setAttribute("fill","url(#".concat(f,")")),y.id=m,t.appendChild(y);var b=gr("feImage",n);if(b.setAttribute("href","#".concat(m)),b.setAttribute("result","".concat(o,"-").concat(d)),s.appendChild(b),d>0){var E=gr("feBlend",n);E.setAttribute("in",1===d?"".concat(o,"-").concat(d-1):"".concat(o,"-blended-").concat(a-1)),E.setAttribute("in2","".concat(o,"-").concat(d)),E.setAttribute("result","".concat(o,"-blended-").concat(a++)),E.setAttribute("mode","multiply"),s.appendChild(E)}});var l=gr("feComposite",n);return l.setAttribute("in","".concat(o,"-blended-").concat(a)),l.setAttribute("in2","SourceGraphic"),l.setAttribute("operator","in"),s.appendChild(l),o}(n,t,e,0,r);return i?.setAttribute("filter","url(#".concat(d,")")),i?.setAttribute("fill","black"),d}return i?.setAttribute(o,"currentColor"===t.style[o]?"currentColor":r.isNone?"none":r.toString()),""}(a||document,this.$def,e,t,i,r,l,o);f&&(this.gradientCache[f]||(this.gradientCache[f]=new Set),this.gradientCache[f].add(e.entity))}}},{key:"createOrUpdateShadow",value:function(e,t,i){!function HPt(n,e,t,i,r){var o=t.parsedStyle,s=o.shadowType,a=void 0===s?"outer":s,l=o.shadowBlur,u=o.shadowColor,d=o.shadowOffsetX,f=o.shadowOffsetY,m=!Oi(u)&&l>0,y="g-filter-dropshadow-"+t.entity,b=e.querySelector("#".concat(y));if(b&&(b.getAttribute("data-type")!==a||!m)&&(b.remove(),b=null),m){if(i?.setAttribute("filter","url(#".concat(y,")")),!b){if((b=gr("filter",n)).setAttribute("data-type",a),"outer"===a){var w=gr("feDropShadow",n);w.setAttribute("dx","".concat((d||0)/2)),w.setAttribute("dy","".concat((f||0)/2)),w.setAttribute("stdDeviation","".concat((l||0)/4)),w.setAttribute("flood-color",u.toString()),b.appendChild(w)}else if("inner"===a){var M=gr("feComponentTransfer",n);M.setAttribute("in","SourceAlpha");var x=gr("feFuncA",n);x.setAttribute("type","table"),x.setAttribute("tableValues","1 0"),M.appendChild(x),b.appendChild(M);var D=gr("feGaussianBlur",n);D.setAttribute("stdDeviation","".concat((l||0)/4)),b.appendChild(D);var k=gr("feOffset",n);k.setAttribute("dx","".concat((d||0)/2)),k.setAttribute("dy","".concat((f||0)/2)),k.setAttribute("result","offsetblur"),b.appendChild(k);var T=gr("feFlood",n);T.setAttribute("flood-color",u.toString()),T.setAttribute("result","color"),b.appendChild(T);var O=gr("feComposite",n);O.setAttribute("in2","offsetblur"),O.setAttribute("operator","in"),b.appendChild(O);var R=gr("feComposite",n);R.setAttribute("in2","SourceAlpha"),R.setAttribute("operator","in"),b.appendChild(R);var L=gr("feMerge",n);b.appendChild(L);var F=gr("feMergeNode",n);F.setAttribute("in","SourceGraphic");var U=gr("feMergeNode",n);L.appendChild(F),L.appendChild(U)}return b.id=y,b.setAttribute("filterUnits","userSpaceOnUse"),void e.appendChild(b)}if("inner"===a){var $=b.children[1],X=b.children[2];"shadowColor"===r?b.children[3].setAttribute("flood-color",u.toString()):"shadowBlur"===r?$.setAttribute("stdDeviation","".concat((l||0)/4)):"shadowOffsetX"===r?X.setAttribute("dx","".concat((d||0)/2)):"shadowOffsetY"===r&&X.setAttribute("dy","".concat((f||0)/2))}else if("outer"===a){var gt=b.children[0];"shadowColor"===r?gt.setAttribute("flood-color",u.toString()):"shadowBlur"===r?gt.setAttribute("stdDeviation","".concat((l||0)/4)):"shadowOffsetX"===r?gt.setAttribute("dx","".concat((d||0)/2)):"shadowOffsetY"===r&&gt.setAttribute("dy","".concat((f||0)/2))}}else i?.removeAttribute("filter")}(this.context.config.document||document,this.$def,e,t,i)}},{key:"createOrUpdateFilter",value:function(e,t,i){!function SPt(n,e,t,i,r){var o="g-filter-"+t.entity,s=e.querySelectorAll("[name=".concat(o,"]"));if(s.length&&s.forEach(function(l){e.removeChild(l)}),0===r.length)i?.removeAttribute("filter");else{var a=r.map(function(l,u){var d=l.name,f=l.params,m=gr("filter",n);return m.setAttribute("filterUnits","userSpaceOnUse"),"blur"===d?function DPt(n,e,t){var i=gr("feGaussianBlur",n);i.setAttribute("in","SourceGraphic"),i.setAttribute("stdDeviation","".concat(t[0].value)),e.appendChild(i)}(n,m,f):"brightness"===d?function OPt(n,e,t){hG(n,e,{type:"linear",slope:pE(t[0]),intercept:0})}(n,m,f):"drop-shadow"===d?function RPt(n,e,t){var i=t[0].value,r=t[1].value,o=t[2].value,s=t[3].formatted,a=gr("feGaussianBlur",n);a.setAttribute("in","SourceAlpha"),a.setAttribute("stdDeviation","".concat(o)),e.appendChild(a);var l=gr("feOffset",n);l.setAttribute("dx","".concat(i)),l.setAttribute("dy","".concat(r)),l.setAttribute("result","offsetblur"),e.appendChild(l);var u=gr("feFlood",n);u.setAttribute("flood-color",s),e.appendChild(u);var d=gr("feComposite",n);d.setAttribute("in2","offsetblur"),d.setAttribute("operator","in"),e.appendChild(d);var f=gr("feMerge",n);e.appendChild(f);var m=gr("feMergeNode",n),y=gr("feMergeNode",n);y.setAttribute("in","SourceGraphic"),f.appendChild(m),f.appendChild(y)}(n,m,f):"contrast"===d?function TPt(n,e,t){var i=pE(t[0]);hG(n,e,{type:"linear",slope:i,intercept:-.5*i+.5})}(n,m,f):"grayscale"===d?function PPt(n,e,t){var i=pE(t[0]);Gat(n,e,[.2126+.7874*(1-i),.7152-.7152*(1-i),.0722-.0722*(1-i),0,0,.2126-.2126*(1-i),.7152+.2848*(1-i),.0722-.0722*(1-i),0,0,.2126-.2126*(1-i),.7152-.7152*(1-i),.0722+.9278*(1-i),0,0,0,0,0,1,0])}(n,m,f):"sepia"===d?function NPt(n,e,t){var i=pE(t[0]);Gat(n,e,[.393+.607*(1-i),.769-.769*(1-i),.189-.189*(1-i),0,0,.349-.349*(1-i),.686+.314*(1-i),.168-.168*(1-i),0,0,.272-.272*(1-i),.534-.534*(1-i),.131+.869*(1-i),0,0,0,0,0,1,0])}(n,m,f):"saturate"===d?function kPt(n,e,t){var i=pE(t[0]),r=gr("feColorMatrix",n);r.setAttribute("type","saturate"),r.setAttribute("values","".concat(i)),e.appendChild(r)}(n,m,f):"hue-rotate"===d?function IPt(n,e,t){var i=gr("feColorMatrix",n);i.setAttribute("type","hueRotate"),i.setAttribute("values","".concat(t[0].value)),e.appendChild(i)}(n,m,f):"invert"===d&&function APt(n,e,t){var i=pE(t[0]);hG(n,e,{type:"table",tableValues:"".concat(i," ").concat(1-i)})}(n,m,f),m.id="".concat(o,"-").concat(u),m.setAttribute("name",o),e.appendChild(m),m.id});setTimeout(function(){i?.setAttribute("filter",a.map(function(l){return"url(#".concat(l,")")}).join(" "))})}}(this.context.config.document||document,this.$def,e,t,i)}}])}();function mE(n){return n.toFixed(6).replace(".000000","")}function Xat(n){return n.replace(/[&|<|>|"|']/g,function(t){return"&"===t?"&amp;":"<"===t?"&lt;":">"===t?"&gt;":'"'===t?"&quot;":"&apos;"})}var WPt={opacity:"opacity",fillStyle:"fill",fill:"fill",fillRule:"fill-rule",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",clipPath:"clip-path",textPath:"text-path",r:"r",cx:"cx",cy:"cy",rx:"rx",ry:"ry",x:"x",y:"y",width:"width",height:"height",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",letterSpacing:"letter-spacing",startArrow:"marker-start",endArrow:"marker-end",class:"class",id:"id",preserveAspectRatio:"preserveAspectRatio",visibility:"visibility",shadowColor:"flood-color",shadowBlur:"stdDeviation",shadowOffsetX:"dx",shadowOffsetY:"dy",filter:"filter",innerHTML:"innerHTML",textAlign:"text-anchor",pointerEvents:"pointer-events"},KPt={textAlign:{inherit:"inherit",left:"left",start:"left",center:"middle",right:"end",end:"end"}},Yat={textAlign:"inherit",lineCap:"butt",lineJoin:"miter",lineWidth:"1px",opacity:"1",fillOpacity:"1",fillRule:"nonzero",strokeOpacity:"1",strokeWidth:"0",strokeMiterLimit:"4",letterSpacing:"0",fontSize:"inherit",fontFamily:"inherit",pointerEvents:"auto",transform:"matrix(1,0,0,1,0,0)"},Qat="clip-path-",qat="text-path-",Jat=function(){function n(e,t,i){In(this,n),this.svgElementMap=new WeakMap,this.renderQueue=[],this.dirtyAttributes=new WeakMap,this.pendingReorderQueue=new Set,this.clipPathUseMap=new WeakMap,this.pluginOptions=e,this.defElementManager=t,this.context=i}return On(n,[{key:"apply",value:function(e){var t=this,i=e.renderingService,r=e.renderingContext;this.context=e,this.context.svgElementMap=this.svgElementMap;var o=r.root.ownerDocument.defaultView,s=this.context.config.document,a=function(y){var b=y.target;if(t.clipPathUseMap.get(b)){var M=t.defElementManager.getDefElement().querySelector("#".concat(t.getId(b)));M&&M.remove()}t.createSVGDom(s,b,t.$camera)},l=function(y){var b=y.target;t.defElementManager.clear(b.entity),t.clipPathUseMap.delete(b),t.removeSVGDom(b)},u=function(y){var b,E=y.parentNode,w=null===(b=y.parentNode)||void 0===b||null===(b=b.elementSVG)||void 0===b?void 0:b.$groupEl,M=(E?.children||[]).slice();w&&t.reorderChildren(s,w,M)},d=function(y){u(y.target)},f=function(y){var b=y.target;if(b.elementSVG){var E=y.attrName,w=t.dirtyAttributes.get(b);w||(t.dirtyAttributes.set(b,[]),w=t.dirtyAttributes.get(b)),w.push(E)}},m=function(y){var b=y.target;(b.nodeName===Je.FRAGMENT?b.childNodes:[b]).forEach(function(w){var M,x=null===(M=w.elementSVG)||void 0===M?void 0:M.$el,D=w.parsedStyle,k=D.fill,T=D.stroke,O=D.clipPath;if(k&&!N2(k)&&t.defElementManager.createOrUpdateGradientAndPattern(w,x,k,"fill",t),T&&!N2(T)&&t.defElementManager.createOrUpdateGradientAndPattern(w,x,T,"stroke",t),O){var R=kc(wo(),w.getWorldTransform()),L="".concat(Qat+O.entity,"-").concat(w.entity),U=t.defElementManager.getDefElement().querySelector("#".concat(L));U&&t.applyTransform(U,R)}})};i.hooks.init.tap(n.tag,function(){var y=t.context.config,b=y.background,E=y.document;t.defElementManager.init();var w=t.context.contextService.getContext();b&&(w.style.background=b),w.setAttribute("color-interpolation-filters","sRGB"),t.$camera=gr("g",E),t.$camera.id="".concat("g-svg","-camera"),t.applyTransform(t.$camera,t.context.camera.getOrthoMatrix()),w.appendChild(t.$camera),o.addEventListener(cr.MOUNTED,a),o.addEventListener(cr.UNMOUNTED,l),o.addEventListener(cr.REPARENT,d),o.addEventListener(cr.ATTR_MODIFIED,f),o.addEventListener(cr.BOUNDS_CHANGED,m)}),i.hooks.destroy.tap(n.tag,function(){o.removeEventListener(cr.MOUNTED,a),o.removeEventListener(cr.UNMOUNTED,l),o.removeEventListener(cr.REPARENT,d),o.removeEventListener(cr.ATTR_MODIFIED,f),o.removeEventListener(cr.BOUNDS_CHANGED,m),function FPt(){fG=0,G4={}}()}),i.hooks.render.tap(n.tag,function(y){t.renderQueue.push(y)}),i.hooks.beginFrame.tap(n.tag,function(){var y=t.context.config.document;t.pendingReorderQueue.size&&(t.pendingReorderQueue.forEach(function(b){var E,w=(b?.children||[]).slice(),M=null==b||null===(E=b.elementSVG)||void 0===E?void 0:E.$groupEl;M&&t.reorderChildren(y||s,M,w||[])}),t.pendingReorderQueue.clear())}),i.hooks.endFrame.tap(n.tag,function(){r.renderReasons.has(v9.CAMERA_CHANGED)&&t.applyTransform(t.$camera,t.context.camera.getOrthoMatrix()),t.renderQueue.forEach(function(y){var b,E,w=null===(b=y.elementSVG)||void 0===b?void 0:b.$el,M=null===(E=y.elementSVG)||void 0===E?void 0:E.$groupEl;if(w&&M){var x=y.getLocalTransform();t.applyTransform(M,x);var D=t.clipPathUseMap.get(y);D&&D.length&&D.forEach(function(T){t.applyTransform(T,y.getWorldTransform())}),y.renderable.dirty=!1}var k=t.dirtyAttributes.get(y);k&&(k.forEach(function(T){"zIndex"===T?u(y):"increasedLineWidthForHitTesting"===T&&t.createOrUpdateHitArea(y,w,M),t.updateAttribute(y,[T])}),t.dirtyAttributes.delete(y))}),t.renderQueue=[]})}},{key:"getId",value:function(e){return e.id||"".concat("g-svg","-").concat(e.entity)}},{key:"reorderChildren",value:function(e,t,i){if(i.sort(function(o,s){return o.sortable.renderOrder-s.sortable.renderOrder}),i.length){var r=(e||document).createDocumentFragment();i.forEach(function(o){if(o.isConnected){var s=o.elementSVG.$groupEl;s&&r.appendChild(s)}}),t.appendChild(r)}}},{key:"applyTransform",value:function(e,t){var i="matrix(".concat(mE(t[0]),",").concat(mE(t[1]),",").concat(mE(t[4]),",").concat(mE(t[5]),",").concat(mE(t[12]),",").concat(mE(t[13]),")");i!==e.getAttribute("transform")&&e.setAttribute("transform",i),i===Yat.transform&&e.removeAttribute("transform")}},{key:"applyAttributes",value:function(e){var t=e.elementSVG,i=t?.$el,r=t?.$groupEl;if(i&&r){var o=e.nodeName,s=e.attributes;o!==Je.HTML&&i.setAttribute("fill","none"),o===Je.IMAGE&&i.setAttribute("preserveAspectRatio","none"),this.updateAttribute(e,Object.keys(s))}}},{key:"updateAttribute",value:function(e,t){var i=this,r=this.context.config.document,o=e.elementSVG,s=o.$el,a=o.$hitTestingEl,l=e.parsedStyle,u=e.nodeName;t.some(function(f){return i.context.SVGElementLifeCycleContribution.shouldUpdateElementAttribute(e,f)})&&s&&[s,a].forEach(function(f){f&&i.context.SVGElementLifeCycleContribution.updateElementAttribute(e,f,i.svgElementMap)}),t.forEach(function(f){var m,y,b=WPt[f],E=l[f],w=!Oi(E)&&E.toString(),M=(null===(m=KPt[f])||void 0===m?void 0:m[w])||w,x=l[f],D=b&&!(null===(y=d9[f])||void 0===y||!y.inh);if(u===Je.HTML)"fill"===f?s.style.background=x.toString():"stroke"===f?(s.style["border-color"]=x.toString(),s.style["border-style"]="solid"):"lineWidth"===f?s.style["border-width"]="".concat(x||0,"px"):"lineDash"===f?s.style["border-style"]="dashed":"innerHTML"===f?i.createOrUpdateInnerHTML(r,s,x):"width"===f||"height"===f||"class"===f?s.setAttribute(f,x.toString()):!Oi(e.style[f])&&""!==e.style[f]&&(s.style[f]=e.style[f]);else{if(!b||(u===Je.GROUP||e.isCustomElement)&&(D||"fill"===b||"stroke"===b))return;"fill"===f||"stroke"===f?i.defElementManager.createOrUpdateGradientAndPattern(e,s,x,b,i):"clipPath"===f?i.createOrUpdateClipOrTextPath(r,x,e):"textPath"===f?i.createOrUpdateClipOrTextPath(r,x,e,!0):"shadowType"===f||"shadowColor"===f||"shadowBlur"===f||"shadowOffsetX"===f||"shadowOffsetY"===f?i.defElementManager.createOrUpdateShadow(e,s,f):"filter"===f?i.defElementManager.createOrUpdateFilter(e,s,x):Oi(E)||[s,a].forEach(function(k){k&&b&&("unset"!==w&&w!==Yat[f]?k.setAttribute(b,M):k.removeAttribute(b))})}})}},{key:"createSVGDom",value:function(e,t,i){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t.elementSVG=new Uat;var o=t.elementSVG,s=this.context.SVGElementLifeCycleContribution.createElement(t,this.svgElementMap);if(s){var a,l;t.nodeName===Je.HTML&&(t.parsedStyle.$el=s),this.pluginOptions.outputSVGElementId&&(s.id=this.getId(t)),this.pluginOptions.outputSVGElementName&&t.name&&s.setAttribute("name",t.name),!s.hasAttribute("data-wrapgroup")&&"g"===s.nodeName||r?l=s:(l=gr("g",e)).appendChild(s),o.$el=s,o.$groupEl=l,this.applyAttributes(t),this.createOrUpdateHitArea(t,s,l);var u=i||t.parentNode&&(null===(a=t.parentNode.elementSVG)||void 0===a?void 0:a.$groupEl);u&&(u.appendChild(l),this.pendingReorderQueue.add(t.parentNode))}}},{key:"removeSVGDom",value:function(e){var t,i=null===(t=e.elementSVG)||void 0===t?void 0:t.$groupEl;i&&i.parentNode&&(i.parentNode.removeChild(i),this.context.SVGElementLifeCycleContribution.destroyElement(e,i))}},{key:"createOrUpdateHitArea",value:function(e,t,i){var r=e.elementSVG,o=r.$hitTestingEl,s=Number(e.parsedStyle.increasedLineWidthForHitTesting);if(s){if(!o){o=t.cloneNode(),["filter"].forEach(function(l){o.removeAttribute(l)});var a="none"!==t.getAttribute("fill");o.setAttribute("fill",a?"transparent":"none"),o.setAttribute("stroke","transparent"),i.appendChild(o),r.$hitTestingEl=o,this.svgElementMap.set(o,e)}o.setAttribute("stroke-width","".concat(s+e.parsedStyle.lineWidth))}else o&&(i.removeChild(o),r.$hitTestingEl=null)}},{key:"createOrUpdateInnerHTML",value:function(e,t,i){var r=(e||document).createElement("div");"string"==typeof i?r.innerHTML=i:r.appendChild(i),t.innerHTML="",t.appendChild(r)}},{key:"createOrUpdateClipOrTextPath",value:function(e,t,i){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=i.elementSVG.$groupEl,l=r?"g":"clipPath",u=r?"text-path":"clip-path";if(t){var d="".concat((r?qat:Qat)+t.entity,"-").concat(i.entity),f=this.defElementManager.getDefElement();if(!f.querySelector("#".concat(d))){var y;if(r)this.createSVGDom(e,t,null,!0),y=t.elementSVG.$el;else{t.isConnected||f.querySelector("#".concat(this.getId(t)))||this.createSVGDom(e,t,f,!0),y=gr(l,e);var E=gr("use",e);E.setAttribute("href","#".concat(t.elementSVG.$el.id)),y.appendChild(E);var w=this.clipPathUseMap.get(t);w||(this.clipPathUseMap.set(t,[]),w=this.clipPathUseMap.get(t)),w.push(E),this.applyTransform(E,t.getWorldTransform());var M=kc(wo(),i.getWorldTransform());this.applyTransform(y,M)}this.pluginOptions.outputSVGElementId&&(y.id=d),f.appendChild(y)}this.applyAttributes(t),r||s.setAttribute(u,"url(#".concat(d,")"))}else r||s.removeAttribute(u)}}])}();Jat.tag="SVGRenderer";var pG,tlt={top:"hanging",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",ideographic:"ideographic",hanging:"hanging"},YPt=(Vn(Vn(Vn(Vn(Vn(Vn(Vn(Vn(Vn(Vn(pG={},Je.RECT,"path"),Je.CIRCLE,"circle"),Je.ELLIPSE,"ellipse"),Je.IMAGE,"image"),Je.GROUP,"g"),Je.LINE,"line"),Je.POLYLINE,"polyline"),Je.POLYGON,"polygon"),Je.TEXT,"text"),Je.PATH,"path"),Vn(pG,Je.HTML,"foreignObject")),ZPt=Vn(Vn(Vn(Vn(Vn(Vn(Vn(Vn(Vn({},Je.CIRCLE,["cx","cy","r"]),Je.ELLIPSE,["cx","cy","rx","ry"]),Je.RECT,["x","y","width","height","radius"]),Je.IMAGE,["x","y","src","width","height"]),Je.LINE,["x1","y1","x2","y2","markerStart","markerEnd","markerStartOffset","markerEndOffset"]),Je.POLYLINE,["points","markerStart","markerEnd","markerMid","markerStartOffset","markerEndOffset"]),Je.POLYGON,["points","markerStart","markerEnd","markerMid","markerStartOffset","markerEndOffset"]),Je.PATH,["d","markerStart","markerEnd","markerMid","markerStartOffset","markerEndOffset"]),Je.TEXT,["text","font","fontSize","fontFamily","fontStyle","fontWeight","fontVariant","lineHeight","letterSpacing","wordWrap","wordWrapWidth","maxLines","leading","textBaseline","textAlign","textTransform","textOverflow","textPath","textPathSide","textPathStartOffset","textDecorationLine","textDecorationColor","textDecorationStyle","dx","dy"]),QPt=function(){return On(function n(e,t){In(this,n),this.context=e,this.runtime=t},[{key:"createElement",value:function(e,t){var o=gr(YPt[e.nodeName]||"g",this.context.config.document||document);return t.set(o,e),o}},{key:"destroyElement",value:function(e,t){}},{key:"shouldUpdateElementAttribute",value:function(e,t){return(ZPt[e.nodeName]||[]).indexOf(t)>-1}},{key:"updateElementAttribute",value:function(e){var i=e.elementSVG.$el,o=e.parsedStyle;switch(e.nodeName){case Je.IMAGE:!function EPt(n,e){var t=e.src,i=void 0===t?"":t,r=e.x,s=e.y,a=void 0===s?0:s,l=e.width,u=e.height;if(n.setAttribute("x","".concat(void 0===r?0:r)),n.setAttribute("y","".concat(a)),Ki(i))n.setAttribute("href",i);else if(i instanceof Image)l||n.setAttribute("width","".concat(i.width)),u||n.setAttribute("height","".concat(i.height)),n.setAttribute("href",i.src);else if(i instanceof HTMLElement&&Ki(i.nodeName)&&"CANVAS"===i.nodeName.toUpperCase())n.setAttribute("href",i.toDataURL());else if(i instanceof ImageData){var d=document.createElement("canvas");d.setAttribute("width","".concat(i.width)),d.setAttribute("height","".concat(i.height));var f=d.getContext("2d");f&&(f.putImageData(i,0,0),l||n.setAttribute("width","".concat(i.width)),u||n.setAttribute("height","".concat(i.height)),n.setAttribute("href",d.toDataURL()))}}(i,o);break;case Je.RECT:!function CPt(n,e){var t=e.radius,i=e.x,r=void 0===i?0:i,o=e.y,s=void 0===o?0:o,a=e.width,l=e.height;if(isFinite(a)&&isFinite(l)){var d="";if(t&&t.some(function(k){return 0!==k})){var m=Yi(t.map(function(k){return Ys(k,0,Math.min(Math.abs(a)/2,Math.abs(l)/2))}),4),y=m[0],b=m[1],E=m[2],w=m[3],M=a>0?1:-1,x=l>0?1:-1,D=M+x!==0?1:0;d=[["M ".concat(M*y+r,",").concat(s)],["l ".concat(a-M*(y+b),",0")],["a ".concat(b,",").concat(b,",0,0,").concat(D,",").concat(M*b,",").concat(x*b)],["l 0,".concat(l-x*(b+E))],["a ".concat(E,",").concat(E,",0,0,").concat(D,",").concat(-M*E,",").concat(x*E)],["l ".concat(M*(E+w)-a,",0")],["a ".concat(w,",").concat(w,",0,0,").concat(D,",").concat(-M*w,",").concat(-x*w)],["l 0,".concat(x*(w+y)-l)],["a ".concat(y,",").concat(y,",0,0,").concat(D,",").concat(M*y,",").concat(-x*y)],["z"]].join(" ")}else d="M ".concat(r,",").concat(s," l ").concat(a,",0 l 0,").concat(l," l").concat(-a," 0 z");n.setAttribute("d",d)}}(i,o);break;case Je.LINE:!function wPt(n,e){var E,w,t=e.x1,i=e.y1,r=e.x2,o=e.y2,s=e.markerStart,a=e.markerEnd,l=e.markerStartOffset,u=e.markerEndOffset,d=0,f=0,m=0,y=0,b=0;s&&Sr(s)&&l&&(E=r-t,w=o-i,b=Math.atan2(w,E),d=Math.cos(b)*(l||0),f=Math.sin(b)*(l||0)),a&&Sr(a)&&u&&(E=t-r,w=i-o,b=Math.atan2(w,E),m=Math.cos(b)*(u||0),y=Math.sin(b)*(u||0)),n.setAttribute("x1","".concat(t+d)),n.setAttribute("y1","".concat(i+f)),n.setAttribute("x2","".concat(r+m)),n.setAttribute("y2","".concat(o+y))}(i,o);break;case Je.POLYGON:case Je.POLYLINE:!function MPt(n,e){var t=e.points.points,i=e.markerStart,r=e.markerStartOffset,o=e.markerEnd,s=e.markerEndOffset,a=t.length;if(t&&a>=2){var y,b,l=0,u=0,d=0,f=0,m=0;i&&Sr(i)&&r&&(y=t[1][0]-t[0][0],b=t[1][1]-t[0][1],m=Math.atan2(b,y),l=Math.cos(m)*(r||0),u=Math.sin(m)*(r||0)),o&&Sr(o)&&s&&(y=t[a-2][0]-t[a-1][0],b=t[a-2][1]-t[a-1][1],m=Math.atan2(b,y),d=Math.cos(m)*(s||0),f=Math.sin(m)*(s||0)),n.setAttribute("points",t.map(function(E,w){var M=0,x=0;return 0===w?(M=l,x=u):w===a-1&&(M=d,x=f),"".concat(E[0]+M,",").concat(E[1]+x)}).join(" "))}}(i,o);break;case Je.PATH:!function xPt(n,e){var m,y,t=e.d,i=e.markerStart,r=e.markerEnd,o=e.markerStartOffset,s=e.markerEndOffset,a=0,l=0,u=0,d=0,f=0;if(i&&Sr(i)&&o){var E=Yi(i.parentNode.getStartTangent(),2),w=E[0],M=E[1];m=w[0]-M[0],y=w[1]-M[1],f=Math.atan2(y,m),a=Math.cos(f)*(o||0),l=Math.sin(f)*(o||0)}if(r&&Sr(r)&&s){var D=Yi(r.parentNode.getEndTangent(),2),k=D[0],T=D[1];m=k[0]-T[0],y=k[1]-T[1],f=Math.atan2(y,m),u=Math.cos(f)*(s||0),d=Math.sin(f)*(s||0)}n.setAttribute("d",function udt(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=n.map(function(s,a){var l=s[0],u=n[a+1],f=(a===n.length-1||u&&("M"===u[0]||"Z"===u[0]))&&0!==i&&0!==r,y=Yi(0!==a||0===e&&0===t?[0,0]:[e,t],2),b=y[0],E=y[1],M=Yi(f?[i,r]:[0,0],2),x=M[0],D=M[1];switch(l){case"M":return"M ".concat(s[1]+b,",").concat(s[2]+E);case"L":return"L ".concat(s[1]+x,",").concat(s[2]+D);case"Q":return"Q ".concat(s[1]," ").concat(s[2],",").concat(s[3]+x," ").concat(s[4]+D);case"C":return"C ".concat(s[1]," ").concat(s[2],",").concat(s[3]," ").concat(s[4],",").concat(s[5]+x," ").concat(s[6]+D);case"A":return"A ".concat(s[1]," ").concat(s[2]," ").concat(s[3]," ").concat(s[4]," ").concat(s[5]," ").concat(s[6]+x," ").concat(s[7]+D);case"Z":return"Z";default:return null}}).filter(function(s){return null!==s}).join(" ");return~o.indexOf("NaN")?"":o}(t.absolutePath,a,l,u,d))}(i,o);break;case Je.TEXT:!function XPt(n,e,t){t.getBounds();var r=e.lineWidth,o=void 0===r?1:r,s=e.x,a=void 0===s?0:s,l=e.y,u=void 0===l?0:l,d=e.dx,f=void 0===d?0:d,m=e.dy,y=void 0===m?0:m,b=e.textPath,E=e.textPathSide,w=void 0===E?"left":E,M=e.textPathStartOffset,x=void 0===M?0:M,D=e.textDecorationLine,k=void 0===D?"":D,T=e.textDecorationColor,O=void 0===T?"":T,R=e.textDecorationStyle,L=void 0===R?"":R,F=e.metrics,U=e.textBaseline,$=void 0===U?"alphabetic":U;"alphabetic"===$&&($="bottom"),n.setAttribute("dominant-baseline",tlt[$]),n.setAttribute("paint-order","stroke");var X=F.lines,q=F.lineHeight,gt=F.height,Et=X.length,at="";if((0!==f||0!==y)&&(at+="transform:translate(".concat(f,"px, ").concat(y,"px);")),k&&"none"!==k&&(at+="text-decoration:".concat(k," ").concat(L," ").concat(O,";")),at&&n.setAttribute("style",at),0!==a&&n.setAttribute("x","".concat(a)),0!==u&&n.setAttribute("y","".concat(u)),1===Et){var Q=Xat(X[0]);if(n.setAttribute("dx","".concat(o/2)),("bottom"===$||"top"===$)&&(n.setAttribute("dominant-baseline",tlt.middle),n.setAttribute("dy","bottom"===$?"-".concat(gt/2,"px"):"".concat(gt/2,"px"))),b){n.innerHTML="";var et=gr("textPath",n.ownerDocument);et.setAttribute("href","#".concat(qat+b.entity)),"left"!==w&&et.setAttribute("side",w),0!==x&&et.setAttribute("startOffset","".concat(x)),et.innerHTML=Q,n.appendChild(et)}else n.innerHTML=Q}else n.innerHTML=X.map(function(St,Yt){var He=o/2,Se=0;return 0===Yt?"middle"===$?Se=q/2-gt/2:"top"===$||"hanging"===$?Se=0:("bottom"===$||"ideographic"===$)&&(Se=-q*(Et-1)):Se=q,"<tspan x=".concat(a,' dx="').concat(He,'" dy="').concat(Se,'">').concat(Xat(St),"</tspan>")}).join("")}(i,o,e)}}}])}(),qPt=function(n){function e(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return In(this,e),(t=Kn(this,e)).name="svg-renderer",t.options=i,t}return br(e,n),On(e,[{key:"init",value:function(t){var i=this.options,r=i.outputSVGElementId,o=i.outputSVGElementName,s=new $Pt(this.context),a=new QPt(this.context,t);this.context.defaultElementLifeCycleContribution=a,this.context.SVGElementLifeCycleContribution=a;var l={outputSVGElementId:!!Oi(r)||!!r,outputSVGElementName:!!Oi(o)||!!o};this.addRenderingPlugin(new Jat(l,s,this.context))}},{key:"destroy",value:function(){this.removeAllRenderingPlugins(),delete this.context.defaultElementLifeCycleContribution,delete this.context.SVGElementLifeCycleContribution}}])}(Du),JPt=["offset","composite","computedOffset","easing"],t4t=["offset","composite","computedOffset","easing","transformOrigin"],e4t=["offset","composite","computedOffset","easing","transformOrigin"],n4t=["offset","composite","computedOffset","easing","transformOrigin"],i4t=function(){return On(function n(e){In(this,n),this.context=e,this.canvasConfig=e.config},[{key:"init",value:function(){var e=this.canvasConfig,t=e.container,i=e.document,r=e.devicePixelRatio;if(this.$container=Ki(t)?(i||document).getElementById(t):t,this.$container){this.$container.style.position||(this.$container.style.position="relative");var o=gr("svg",i);o.setAttribute("width","".concat(this.canvasConfig.width)),o.setAttribute("height","".concat(this.canvasConfig.height)),this.$container.appendChild(o),this.$namespace=o}var s=r||w_&&window.devicePixelRatio||1;s=s>=1?Math.ceil(s):1,this.dpr=s}},{key:"getDomElement",value:function(){return this.$namespace}},{key:"getContext",value:function(){return this.$namespace}},{key:"getDPR",value:function(){return this.dpr}},{key:"getBoundingClientRect",value:function(){var e;return null===(e=this.$namespace)||void 0===e?void 0:e.getBoundingClientRect()}},{key:"destroy",value:function(){this.$container&&this.$namespace&&this.$namespace.parentNode&&this.$container.removeChild(this.$namespace)}},{key:"resize",value:function(e,t){this.$namespace&&(this.$namespace.setAttribute("width","".concat(e)),this.$namespace.setAttribute("height","".concat(t)))}},{key:"applyCursorStyle",value:function(e){this.$container&&(this.$container.style.cursor=e)}},{key:"generateCSSText",value:function(e,t,i,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},s=r.duration,a=r.easing,l=r.delay,u=r.direction,d=r.iterations,f=r.fill;return"@keyframes ".concat(e,"{").concat(i.map(function(m){var y=m.computedOffset,b=mu(m,JPt),E=Object.keys(b).map(function(w){return"".concat(w,":").concat(o[w]||"").concat(b[w],";")}).join("");return"".concat(100*y,"%{").concat(E,"}")}).join(""),"}")+"".concat(t," {animation: ").concat(e," ").concat(s,"ms ").concat(a," ").concat(l,"ms ").concat(d===1/0?"infinite":d," ").concat(u," ").concat(f,";}")}},{key:"toDataURL",value:(e=ql(rl().mark(function i(){var o,s,a,l,u,d,r=this;return rl().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return o=this.$namespace.cloneNode(!0),s=this.canvasConfig.document,a=0,l=null,this.context.renderingContext.root.forEach(function(m){var y=m.getAnimations();if(y.length){l||(l=(s||document).createElement("style"),o.appendChild(l));var b=m.elementSVG,E="#".concat(b.$el.id),w="#".concat(b.$groupEl.id),M="",x="";y.forEach(function(D){var k=D.effect.getKeyframes();if(k.length){var T=[],O=[],L=mu(k[0],t4t);if(Object.keys(L).forEach(function($){var X;"transform"===$&&O.push($),null!==(X=d9[$])&&void 0!==X&&X.inh?O.push($):"transform"!==$&&T.push($)}),O.length){var F=k.map(function($){var X=$.offset,q=$.composite,gt=$.computedOffset,Et=$.easing,at=mu($,e4t),Q={offset:X,composite:q,computedOffset:gt,easing:Et};return Object.keys(at).forEach(function(et){O.includes(et)&&(Q[et]=$[et])}),Q});x+=r.generateCSSText("a".concat(a++),w,F,D.effect.getComputedTiming(),{transform:b.$groupEl.getAttribute("transform")})}if(T.length){var U=k.map(function($){var X=$.offset,q=$.composite,gt=$.computedOffset,Et=$.easing,at=mu($,n4t),Q={offset:X,composite:q,computedOffset:gt,easing:Et};return Object.keys(at).forEach(function(et){T.includes(et)&&(Q[et]=$[et])}),Q});M+=r.generateCSSText("a".concat(a++),E,U,D.effect.getComputedTiming())}}}),l.textContent+=M+x}}),u=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),(d=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",u)).replaceChild(o,d.documentElement),f.abrupt("return","data:image/svg+xml;charset=utf8,".concat(encodeURIComponent((new XMLSerializer).serializeToString(d))));case 10:case"end":return f.stop()}},i,this)})),function t(){return e.apply(this,arguments)})}]);var e}(),r4t=function(n){function e(){var t;In(this,e);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=Kn(this,e,[].concat(r))).name="svg-context-register",t}return br(e,n),On(e,[{key:"init",value:function(){this.context.ContextService=i4t}},{key:"destroy",value:function(){delete this.context.ContextService}}])}(Du),o4t=function(n){function e(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return In(this,e),(t=Kn(this,e,[i])).registerPlugin(new r4t),t.registerPlugin(new qPt({outputSVGElementId:i.outputSVGElementId})),t.registerPlugin(new C9),t.registerPlugin(new _Pt),t}return br(e,n),On(e)}(lR);const uD=n=>qi(n)?e=>n.includes(e.id):n,s4t={type:Td.ALIGN,alignment:"horizontal-center"};hc(oa.LAYOUT,Td.ALIGN,class l4t extends B9{constructor(){super(...arguments),ln(this,"id","align-layout")}execute(e){var t=this;return(0,re.A)(function*(){const{nodes:i=[]}=e,{alignment:r="horizontal-center"}=t.options;return 0===i.length?e:["horizontal-center","vertical-center"].includes(r)?{nodes:t.getCenterAlignment(i)}:["horizontal-space","vertical-space"].includes(r)?{nodes:t.getSpaceAlignment(i)}:e})()}getCenterAlignment(e){const{alignment:t}=this.options,i=e.map(s=>{var a,l;return[(null==(a=s.style)?void 0:a.x)||0,(null==(l=s.style)?void 0:l.y)||0]}),r=this.getCenterPoint(i),o={};return"horizontal-center"===t&&(o.x=r[0]),"vertical-center"===t&&(o.y=r[1]),e.map(s=>({...s,style:{...s.style,...o}}))}getSpaceAlignment(e){var t;const{alignment:i}=this.options,r="horizontal-space"===i?"x":"y",o="x"===r?0:1,s=this.sortNodesByDirection(e,r),a=s.map(m=>{var y,b;return[(null==(y=m.style)?void 0:y.x)||0,(null==(b=m.style)?void 0:b.y)||0]}),[l,u]=this.getMinMaxPoints(a),d=(u[o]-l[o])/(e.length-1),f=(null==(t=s[0].style)?void 0:t[r])||0;return s.map((m,y)=>({...m,style:{...m.style,[r]:f+d*y}}))}sortNodesByDirection(e,t){return e.sort((i,r)=>{var o,s;const a=(null==(o=i.style)?void 0:o[t])||0,l=(null==(s=r.style)?void 0:s[t])||0;return a<l?-1:a>l?1:0})}getMinMaxPoints(e){const t=e.map(l=>l[0]),i=e.map(l=>l[1]),r=Math.min(...t),o=Math.max(...t);return[[r,Math.min(...i)],[o,Math.max(...i)]]}getCenterPoint(e){const[[t,i],[r,o]]=this.getMinMaxPoints(e);return[(r+t)/2,(o+i)/2]}});const c4t={type:Td.MESH,linkDistance:100},d4t={nodeSize:133},f4t={type:Td.RING,nodeSize:100},m4t={type:Td.TREE,direction:"TB",verticalGap:100,horizontalGap:100},elt={align:(n,e)=>{const{alignment:t,layoutNodes:i}={...s4t,...e},r={type:Td.ALIGN};return t&&(r.alignment=t),i&&(r.nodeFilter=uD(i)),r},tree:(n,e)=>{const{direction:t,height:i,width:r,verticalGap:o,horizontalGap:s,layoutNodes:a}={...m4t,...e},l={type:"compact-box",getId:u=>u.id};return t&&(l.direction=t),i&&(l.getHeight=()=>i),r&&(l.getWidth=()=>r),o&&(l.getVGap=()=>o),s&&(l.getHGap=()=>s),a&&(l.nodeFilter=uD(a)),l},mesh:(n,e)=>{const{linkDistance:t,width:i,height:r,layoutNodes:o}={...c4t,...e},s={type:"force",preventOverlap:!0,clustering:!1,leafCluster:!1};return t&&(s.linkDistance=t),i&&(s.width=i),r&&(s.height=r),o&&(s.nodeFilter=uD(o)),s},grid:(n,e)=>{const{rows:t,cols:i,width:r,height:o,begin:s,nodeSize:a,layoutNodes:l}={...d4t,...e},u={type:"grid",preventOverlap:!0},d=n.getNodeData().filter(E=>{var w;return!l||(null==(w=uD(l))?void 0:w(E))}),f=d.map(E=>E.id),m=Math.min(d.length,t||10),y=Math.min(d.length,i||10),b=n.getElementBoundingBox(f);return u.begin=b.min,u.width=Math.min(b.width,a*m),u.height=Math.min(b.height,a*y),u.nodeFilter=E=>f.includes(E.id),s&&(u.begin=[s.x,s.y]),t&&(u.rows=t),i&&(u.cols=i),r&&(u.width=r),o&&(u.height=o),a&&(u.nodeSize=a),u},ring:(n,e)=>{const{width:t,height:i,nodeSize:r,layoutNodes:o}={...f4t,...e},s={type:"circular",preventOverlap:!0};return t&&(s.width=t),i&&(s.height=i),r&&(s.nodeSize=r),o&&(s.nodeFilter=uD(o)),s}};var mG={},$4={},W4={};Object.defineProperty(W4,"__esModule",{value:!0}),W4.create=function E4t(n){const{bgColor:e,textColor:t,nodeColor:i,nodeColorDisabled:r,nodeStroke:o,nodeHaloStrokeOpacityActive:s=.15,nodeHaloStrokeOpacitySelected:a=.25,nodeOpacityDisabled:l=.06,nodeIconOpacityInactive:u=.85,nodeOpacityInactive:d=.25,nodeBadgePalette:f=y4t,nodePaletteOptions:m=b4t,edgeColor:y,edgeColorDisabled:b,edgePaletteOptions:E=_4t,comboColor:w,comboColorDisabled:M,comboStroke:x,comboStrokeDisabled:D,edgeColorInactive:k}=n;return{background:e,node:{palette:m,style:{donutOpacity:1,badgeBackgroundOpacity:1,badgeFill:"#fff",badgeFontSize:8,badgePadding:[0,4],badgePalette:f,fill:i,fillOpacity:1,halo:!1,iconFill:"#fff",iconOpacity:1,labelBackground:!1,labelBackgroundFill:e,labelBackgroundLineWidth:0,labelBackgroundOpacity:.75,labelFill:t,labelFillOpacity:.85,labelLineHeight:16,labelPadding:[0,2],labelFontSize:12,labelFontWeight:400,labelOpacity:1,labelOffsetY:2,lineWidth:0,portFill:i,portLineWidth:1,portStroke:o,portStrokeOpacity:.65,size:32,stroke:o,strokeOpacity:1,zIndex:2},state:{selected:{halo:!0,haloLineWidth:24,haloStrokeOpacity:a,labelFontSize:12,labelFontWeight:"bold",lineWidth:4,stroke:o},active:{halo:!0,haloLineWidth:12,haloStrokeOpacity:s},highlight:{labelFontWeight:"bold",lineWidth:4,stroke:o,strokeOpacity:.85},inactive:{badgeBackgroundOpacity:d,donutOpacity:d,fillOpacity:d,iconOpacity:u,labelFill:t,labelFillOpacity:d,strokeOpacity:d},disabled:{badgeBackgroundOpacity:.25,donutOpacity:l,fill:r,fillOpacity:l,iconFill:r,iconOpacity:.25,labelFill:t,labelFillOpacity:.25,strokeOpacity:l}},animation:{enter:"fade",exit:"fade",show:"fade",hide:"fade",expand:"node-expand",collapse:"node-collapse",update:[{fields:["x","y","fill","stroke"]}],translate:[{fields:["x","y"]}]}},edge:{palette:E,style:{badgeBackgroundFill:y,badgeFill:"#fff",badgeFontSize:8,badgeOffsetX:10,fillOpacity:1,halo:!1,haloLineWidth:12,haloStrokeOpacity:1,increasedLineWidthForHitTesting:2,labelBackground:!1,labelBackgroundFill:e,labelBackgroundLineWidth:0,labelBackgroundOpacity:.75,labelBackgroundPadding:[4,4,4,4],labelFill:t,labelFontSize:12,labelFontWeight:400,labelOpacity:1,labelPlacement:"center",labelTextBaseline:"middle",lineWidth:1,stroke:y,strokeOpacity:1,zIndex:1},state:{selected:{halo:!0,haloStrokeOpacity:.25,labelFontSize:14,labelFontWeight:"bold",lineWidth:3},active:{halo:!0,haloStrokeOpacity:.15},highlight:{labelFontWeight:"bold",lineWidth:3},inactive:{stroke:k,fillOpacity:.08,labelOpacity:.25,strokeOpacity:.08,badgeBackgroundOpacity:.25},disabled:{stroke:b,fillOpacity:.45,strokeOpacity:.45,labelOpacity:.25,badgeBackgroundOpacity:.45}},animation:{enter:"fade",exit:"fade",expand:"path-in",collapse:"path-out",show:"fade",hide:"fade",update:[{fields:["sourceNode","targetNode"]},{fields:["stroke"],shape:"key"}],translate:[{fields:["sourceNode","targetNode"]}]}},combo:{style:{collapsedMarkerFill:e,collapsedMarkerFontSize:12,collapsedMarkerFillOpacity:1,collapsedSize:32,collapsedFillOpacity:1,fill:w,halo:!1,haloLineWidth:12,haloStroke:x,haloStrokeOpacity:.25,labelBackground:!1,labelBackgroundFill:e,labelBackgroundLineWidth:0,labelBackgroundOpacity:.75,labelBackgroundPadding:[2,4,2,4],labelFill:t,labelFontSize:12,labelFontWeight:400,labelOpacity:1,lineDash:0,lineWidth:1,fillOpacity:.04,strokeOpacity:1,padding:10,stroke:x},state:{selected:{halo:!0,labelFontSize:14,labelFontWeight:700,lineWidth:4},active:{halo:!0},highlight:{labelFontWeight:700,lineWidth:4},inactive:{fillOpacity:.65,labelOpacity:.25,strokeOpacity:.65},disabled:{fill:M,fillOpacity:.25,labelOpacity:.25,stroke:D,strokeOpacity:.25}},animation:{enter:"fade",exit:"fade",show:"fade",hide:"fade",expand:"combo-expand",collapse:"combo-collapse",update:[{fields:["x","y"]},{fields:["fill","stroke","lineWidth"],shape:"key"}],translate:[{fields:["x","y"]}]}}}};const y4t=["#7E92B5","#F4664A","#FFBE3A"],b4t={type:"group",color:["#1783FF","#00C9C9","#F08F56","#D580FF","#7863FF","#DB9D0D","#60C42D","#FF80CA","#2491B3","#17C76F"]},_4t={type:"group",color:["#99ADD1","#1783FF","#00C9C9","#F08F56","#D580FF","#7863FF","#DB9D0D","#60C42D","#FF80CA","#2491B3","#17C76F"]};Object.defineProperty($4,"__esModule",{value:!0}),$4.dark=void 0,$4.dark=(0,W4.create)({bgColor:"#000000",comboColor:"#fdfdfd",comboColorDisabled:"#d0e4ff",comboStroke:"#99add1",comboStrokeDisabled:"#969696",edgeColor:"#637088",edgeColorDisabled:"#637088",edgeColorInactive:"#D0E4FF",edgePaletteOptions:{type:"group",color:["#637088","#0F55A6","#008383","#9C5D38","#8B53A6","#4E40A6","#8F6608","#3E801D","#A65383","#175E75","#0F8248"]},nodeColor:"#1783ff",nodeColorDisabled:"#D0E4FF",nodeHaloStrokeOpacityActive:.25,nodeHaloStrokeOpacitySelected:.45,nodeIconOpacityInactive:.45,nodeOpacityDisabled:.25,nodeOpacityInactive:.45,nodeStroke:"#d0e4ff",textColor:"#ffffff"});var K4={};Object.defineProperty(K4,"__esModule",{value:!0}),K4.light=void 0,K4.light=(0,W4.create)({bgColor:"#ffffff",comboColor:"#99ADD1",comboColorDisabled:"#f0f0f0",comboStroke:"#99add1",comboStrokeDisabled:"#d9d9d9",edgeColor:"#99add1",edgeColorDisabled:"#d9d9d9",edgeColorInactive:"#1B324F",nodeColor:"#1783ff",nodeColorDisabled:"#1B324F",nodeHaloStrokeOpacityActive:.15,nodeHaloStrokeOpacitySelected:.25,nodeIconOpacityInactive:.85,nodeOpacityDisabled:.06,nodeOpacityInactive:.25,nodeStroke:"#000000",textColor:"#000000"}),function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.light=n.dark=void 0;var e=$4;Object.defineProperty(n,"dark",{enumerable:!0,get:function(){return e.dark}});var t=K4;Object.defineProperty(n,"light",{enumerable:!0,get:function(){return t.light}})}(mG);const D4t={...mG.dark,background:jst["background-neutral-default"]};hc(oa.THEME,"mx-dark",D4t);const T4t={...mG.light,background:Bst["background-neutral-default"]};hc(oa.THEME,"mx-light",T4t);const A4t={light:"mx-light",dark:"mx-dark"},O4t=n=>A4t[n],I4t=n=>{const{width:e,height:t,bgColor:i,autoSize:r,autoFitMode:o,theme:s}=n,a={autoResize:!0};return e&&(a.width=e),t&&(a.height=t),i&&(a.background=i),void 0!==r&&(a.autoResize=r),o&&(a.autoFit=o),s&&(a.theme=s),a},nlt=n=>({container:Ki(n)?document.getElementById(n):n}),ilt=n=>({renderer:()=>"svg"===n?new o4t:new z2}),rlt=n=>{var e,t,i;return n?{data:{nodes:null==(e=n.nodes)?void 0:e.map(r=>U4_toNodeData(r,{full:!0})),edges:null==(t=n.edges)?void 0:t.map(r=>JS_toEdgeData(r,{full:!0})),combos:null==(i=n.groups)?void 0:i.map(r=>lG_toGroupData(r,{full:!0}))}}:{}},R4t=(n,e)=>{var t;const i=e?.find(o=>"tree"===(Ki(o)?o:o.type));if(!n||!e||0===e.length)return{};if(!i)return{};const r=(null==(t=n.nodes)?void 0:t.map(o=>U4_toNodeData(o)))||[];return{data:jIt(r).map(o=>function rAt(n){const{getNodeData:t=(a,l)=>{if(a.depth=l,!a.children)return a;const{children:u}=a,d=iAt(a,["children"]);return Object.assign(Object.assign({},d),{children:u.map(f=>f.id)})},getEdgeData:i=(a,l)=>({source:a.id,target:l.id}),getChildren:r=a=>a.children||[]}={},o=[],s=[];return fd(n,(a,l)=>{o.push(t(a,l));const u=r(a);for(const d of u)s.push(i(a,d))},a=>r(a),"TB"),{nodes:o,edges:s}}(o)).reduce((o,s)=>{var a,l,u;return null==(a=o.nodes)||a.push(...s.nodes||[]),null==(l=o.edges)||l.push(...s.edges||[]),null==(u=o.combos)||u.push(...s.combos||[]),o},{nodes:[],edges:[],combos:[]})}},olt=n=>({behaviors:lat(n||oRt)}),slt=(n,e)=>e&&0!==e.length?{layout:e.map(t=>((n,e)=>Ki(e)?elt[e](n):elt[e.type](n,e))(n,t))}:{},alt=(n,e,t="light")=>{const i=n.tokenConfig[t],r=yPt.map(s=>mo(s)&&"background"===s.type?{...s,background:i["background-neutral-default"]}:s),o=bPt;return{plugins:e?[...r,...Vat(n,e)]:[...r,...Vat(n,o)]}},llt=n=>n?{theme:O4t(n)}:{},clt=n=>{const e={animation:!1};return void 0!==n&&(e.animation=n),e},gE_toGraphOptions=(n,e)=>({...I4t(e),...nlt(e.container),...ilt(e.renderer),...olt(e.behaviors),...slt(n,e.layouts),...alt(n,e.plugins,e.theme),...clt(e.animation),...rlt(e.data),...R4t(e.data,e.layouts),...llt(e.theme)}),gE_toRenderer=ilt,gE_toGraphData=rlt,gE_toLayout=slt,gE_toPlugin=alt,gE_toTheme=llt;class P4t{constructor(e){ln(this,"_graph"),ln(this,"renderType","svg"),ln(this,"iconSpriteText",""),ln(this,"tokenConfig"),ln(this,"graphReady",!1),this.config=e,this.loadIconSprite()&&this.loadTokenConfig()&&this.initGraph(gE_toGraphOptions(this,this.config))}get graph(){return this._graph}get container(){var e;return null==(e=this.graph.getCanvas())?void 0:e.getContainer()}get canvas(){var e;return null==(e=this.graph.getCanvas())?void 0:e.context.contextService.getDomElement()}get elementController(){var e;return null==(e=this.graph.context)?void 0:e.element}get dataController(){var e;return null==(e=this.graph.context)?void 0:e.model}get behaviorController(){var e;return null==(e=this.graph.context)?void 0:e.behavior}get viewportController(){var e;return null==(e=this.graph.context)?void 0:e.viewport}initGraph(e){this._graph=new nAt(e),this.graph.mxGraph=this,this.once(Ah.GRAPH_AFTER_RENDER,()=>{!1!==this.config.showVersion&&console.log(qH.bgBlack.greenBright("\u{1f680} MOXA GRAPH - 2.7.3 \u{1f680}")),this.graphReady=!0,this.canvas.focus(),this.canvas.dispatchEvent(new MouseEvent("click")),qIt(`body #${this.container.id} * { user-select: none; }`)})}loadIconSprite(){const e=new XMLHttpRequest;return e.open("GET","data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20viewBox='0%200%20160%20160'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cstyle%3e:root%3esvg{display:none}:root%3esvg:target{display:block}%3c/style%3e%3csvg%20viewBox='0%200%2024%2024'%20id='account_box'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M3%205v14a2%202%200%200%200%202%202h14c1.1%200%202-.9%202-2V5c0-1.1-.9-2-2-2H5a2%202%200%200%200-2%202zm12%204c0%201.66-1.34%203-3%203s-3-1.34-3-3%201.34-3%203-3%203%201.34%203%203zm-9%208c0-2%204-3.1%206-3.1s6%201.1%206%203.1v1H6v-1z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='account_tree'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M22%2011V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3z'/%3e%3c/svg%3e%3csvg%20fill='none'%20viewBox='0%200%2024%2024'%20id='add'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M19%2013h-6v6h-2v-6H5v-2h6V5h2v6h6v2Z'%20fill='%23000'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='add_box'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M19%203H5a2%202%200%200%200-2%202v14a2%202%200%200%200%202%202h14c1.1%200%202-.9%202-2V5c0-1.1-.9-2-2-2Zm-2%2010h-4v4h-2v-4H7v-2h4V7h2v4h4v2Z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='add_circle'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M12%202C6.48%202%202%206.48%202%2012s4.48%2010%2010%2010%2010-4.48%2010-10S17.52%202%2012%202zm5%2011h-4v4h-2v-4H7v-2h4V7h2v4h4v2z'/%3e%3c/svg%3e%3csvg%20viewBox='0%20-960%20960%20960'%20fill='%23000000de'%20id='add_link'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M440-280H280q-83%200-141.5-58.5T80-480q0-83%2058.5-141.5T280-680h160v80H280q-50%200-85%2035t-35%2085q0%2050%2035%2085t85%2035h160v80ZM320-440v-80h320v80H320Zm200%20160v-80h160q50%200%2085-35t35-85q0-50-35-85t-85-35H520v-80h160q83%200%20141.5%2058.5T880-480q0%2083-58.5%20141.5T680-280H520Z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='apartment'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M17%2011V3H7v4H3v14h8v-4h2v4h8V11h-4ZM7%2019H5v-2h2v2Zm0-4H5v-2h2v2Zm0-4H5V9h2v2Zm4%204H9v-2h2v2Zm0-4H9V9h2v2Zm0-4H9V5h2v2Zm4%208h-2v-2h2v2Zm0-4h-2V9h2v2Zm0-4h-2V5h2v2Zm4%2012h-2v-2h2v2Zm0-4h-2v-2h2v2Z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='api'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill='none'%20d='M0%200h24v24H0z'/%3e%3cpath%20d='m14%2012-2%202-2-2%202-2%202%202zm-2-6%202.12%202.12%202.5-2.5L12%201%207.38%205.62l2.5%202.5L12%206zm-6%206%202.12-2.12-2.5-2.5L1%2012l4.62%204.62%202.5-2.5L6%2012zm12%200-2.12%202.12%202.5%202.5L23%2012l-4.62-4.62-2.5%202.5L18%2012zm-6%206-2.12-2.12-2.5%202.5L12%2023l4.62-4.62-2.5-2.5L12%2018z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='apollo_project'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20data-name='\u5716\u5c64%202'%3e%3cg%20data-name='\u5716\u5c64%201'%3e%3cpath%20style='fill:none'%20d='M0%200h24v24H0V0z'/%3e%3cpath%20d='M12%2017a4%204%200%201%200-4-4%204%204%200%200%200%204%204Zm-1.6-4.8h.06A1.58%201.58%200%200%201%2012%2011a1.6%201.6%200%200%201%201.6%201.6h.2a1%201%200%200%201%200%202h-3.4a1.2%201.2%200%200%201%200-2.4Z'/%3e%3cpath%20d='M20%206h-8l-2-2H4a2%202%200%200%200-2%202v12a2%202%200%200%200%202%202h16a2%202%200%200%200%202-2V8a2%202%200%200%200-2-2Zm0%2012H4V8h16Z'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='apps'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M4%208h4V4H4v4zm6%2012h4v-4h-4v4zm-6%200h4v-4H4v4zm0-6h4v-4H4v4zm6%200h4v-4h-4v4zm6-10v4h4V4h-4zm-6%204h4V4h-4v4zm6%206h4v-4h-4v4zm0%206h4v-4h-4v4z'/%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='archive'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='m20.54%205.23-1.39-1.68C18.88%203.21%2018.47%203%2018%203H6c-.47%200-.88.21-1.16.55L3.46%205.23C3.17%205.57%203%206.02%203%206.5V19c0%201.1.9%202%202%202h14c1.1%200%202-.9%202-2V6.5c0-.48-.17-.93-.46-1.27zM12%2017.5%206.5%2012H10v-2h4v2h3.5L12%2017.5zM5.12%205l.81-1h12l.94%201H5.12z'/%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='arrow_back'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M20%2011H7.83l5.59-5.59L12%204l-8%208%208%208%201.41-1.41L7.83%2013H20v-2z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='arrow_circle_down'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12%204c4.41%200%208%203.59%208%208s-3.59%208-8%208-8-3.59-8-8%203.59-8%208-8Zm0-2C6.48%202%202%206.48%202%2012s4.48%2010%2010%2010%2010-4.48%2010-10S17.52%202%2012%202Zm1%2010V8h-2v4H8l4%204%204-4h-3Z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='arrow_circle_up'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12%2020c-4.41%200-8-3.59-8-8s3.59-8%208-8%208%203.59%208%208-3.59%208-8%208Zm0%202c5.52%200%2010-4.48%2010-10S17.52%202%2012%202%202%206.48%202%2012s4.48%2010%2010%2010Zm-1-10v4h2v-4h3l-4-4-4%204h3Z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='arrow_downward'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill='none'%20d='M0%200h24v24H0V0z'/%3e%3cpath%20d='m20%2012-1.41-1.41L13%2016.17V4h-2v12.17l-5.58-5.59L4%2012l8%208%208-8z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='arrow_drop_down'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='m7%2010%205%205%205-5z'/%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='arrow_drop_up'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='m7%2014%205-5%205%205z'/%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='arrow_forward'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='m12%204-1.41%201.41L16.17%2011H4v2h12.17l-5.58%205.59L12%2020l8-8z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='arrow_left'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='m14%207-5%205%205%205V7z'/%3e%3cpath%20fill='none'%20d='M24%200v24H0V0h24z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='arrow_right'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='m10%2017%205-5-5-5v10z'/%3e%3cpath%20fill='none'%20d='M0%2024V0h24v24H0z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='arrow_upward'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill='none'%20d='M0%200h24v24H0V0z'/%3e%3cpath%20d='m4%2012%201.41%201.41L11%207.83V20h2V7.83l5.58%205.59L20%2012l-8-8-8%208z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='article'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M19%203H5c-1.1%200-2%20.9-2%202v14c0%201.1.9%202%202%202h14c1.1%200%202-.9%202-2V5c0-1.1-.9-2-2-2Zm-5%2014H7v-2h7v2Zm3-4H7v-2h10v2Zm0-4H7V7h10v2Z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='assignment'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M19%203h-4.18C14.4%201.84%2013.3%201%2012%201c-1.3%200-2.4.84-2.82%202H5c-1.1%200-2%20.9-2%202v14c0%201.1.9%202%202%202h14c1.1%200%202-.9%202-2V5c0-1.1-.9-2-2-2zm-7%200c.55%200%201%20.45%201%201s-.45%201-1%201-1-.45-1-1%20.45-1%201-1zm2%2014H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='attach_file'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M16.5%206v11.5c0%202.21-1.79%204-4%204s-4-1.79-4-4V5a2.5%202.5%200%200%201%205%200v10.5c0%20.55-.45%201-1%201s-1-.45-1-1V6H10v9.5a2.5%202.5%200%200%200%205%200V5c0-2.21-1.79-4-4-4S7%202.79%207%205v12.5c0%203.04%202.46%205.5%205.5%205.5s5.5-2.46%205.5-5.5V6h-1.5z'/%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='build'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20clip-rule='evenodd'%20fill='none'%20d='M0%200h24v24H0z'/%3e%3cpath%20d='m22.7%2019-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9%206%206%209%201.6%204.7C.4%207.1.9%2010.1%202.9%2012.1c1.9%201.9%204.6%202.4%206.9%201.5l9.1%209.1c.4.4%201%20.4%201.4%200l2.3-2.3c.5-.4.5-1.1.1-1.4z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='cable'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M20%205V4c0-.55-.45-1-1-1h-2c-.55%200-1%20.45-1%201v1h-1v4c0%20.55.45%201%201%201h1v7c0%201.1-.9%202-2%202s-2-.9-2-2V7c0-2.21-1.79-4-4-4S5%204.79%205%207v7H4c-.55%200-1%20.45-1%201v4h1v1c0%20.55.45%201%201%201h2c.55%200%201-.45%201-1v-1h1v-4c0-.55-.45-1-1-1H7V7c0-1.1.9-2%202-2s2%20.9%202%202v10c0%202.21%201.79%204%204%204s4-1.79%204-4v-7h1c.55%200%201-.45%201-1V5h-1Z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='calculate'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M19%203H5c-1.1%200-2%20.9-2%202v14c0%201.1.9%202%202%202h14c1.1%200%202-.9%202-2V5c0-1.1-.9-2-2-2Zm-5.97%204.06L14.09%206l1.41%201.41L16.91%206l1.06%201.06-1.41%201.41%201.41%201.41-1.06%201.06-1.41-1.4-1.41%201.41-1.06-1.06%201.41-1.41-1.41-1.42Zm-6.78.66h5v1.5h-5v-1.5ZM11.5%2016h-2v2H8v-2H6v-1.5h2v-2h1.5v2h2V16Zm6.5%201.25h-5v-1.5h5v1.5Zm0-2.5h-5v-1.5h5v1.5Z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='camera'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='m9.4%2010.5%204.77-8.26a9.984%209.984%200%200%200-8.49%202.01l3.66%206.35.06-.1zM21.54%209c-.92-2.92-3.15-5.26-6-6.34L11.88%209h9.66zm.26%201h-7.49l.29.5%204.76%208.25A9.91%209.91%200%200%200%2022%2012c0-.69-.07-1.35-.2-2zM8.54%2012l-3.9-6.75A9.958%209.958%200%200%200%202.2%2014h7.49l-1.15-2zm-6.08%203c.92%202.92%203.15%205.26%206%206.34L12.12%2015H2.46zm11.27%200-3.9%206.76a9.984%209.984%200%200%200%208.49-2.01l-3.66-6.35-.93%201.6z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2016%2016'%20id='cancel'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M8%201.333A6.66%206.66%200%200%200%201.333%208%206.66%206.66%200%200%200%208%2014.667%206.66%206.66%200%200%200%2014.667%208%206.66%206.66%200%200%200%208%201.333Zm3.333%209.06-.94.94L8%208.94l-2.393%202.393-.94-.94L7.06%208%204.667%205.607l.94-.94L8%207.06l2.393-2.393.94.94L8.94%208l2.393%202.393Z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='card_membership'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M20%202H4c-1.11%200-2%20.89-2%202v11c0%201.11.89%202%202%202h4v5l4-2%204%202v-5h4c1.11%200%202-.89%202-2V4c0-1.11-.89-2-2-2Zm0%2013H4v-2h16v2Zm0-5H4V4h16v6Z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='category'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='m12%202-5.5%209h11L12%202ZM17.5%2022a4.5%204.5%200%201%200%200-9%204.5%204.5%200%200%200%200%209ZM3%2013.5h8v8H3v-8Z'/%3e%3c/svg%3e%3csvg%20fill='none'%20viewBox='0%200%2024%2024'%20id='center_focus_weak'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M5%2015H3v4c0%201.1.9%202%202%202h4v-2H5v-4ZM5%205h4V3H5c-1.1%200-2%20.9-2%202v4h2V5Zm14-2h-4v2h4v4h2V5c0-1.1-.9-2-2-2Zm0%2016h-4v2h4c1.1%200%202-.9%202-2v-4h-2v4ZM12%208c-2.21%200-4%201.79-4%204s1.79%204%204%204%204-1.79%204-4-1.79-4-4-4Zm0%206c-1.1%200-2-.9-2-2s.9-2%202-2%202%20.9%202%202-.9%202-2%202Z'%20fill='%23000'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2016%2016'%20id='check_circle'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M8%201.333A6.67%206.67%200%200%200%201.333%208%206.67%206.67%200%200%200%208%2014.667%206.67%206.67%200%200%200%2014.667%208%206.67%206.67%200%200%200%208%201.333Zm-1.333%2010L3.333%208l.94-.94%202.394%202.387%205.06-5.06.94.946-6%206Z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='circle'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M12%202C6.47%202%202%206.47%202%2012s4.47%2010%2010%2010%2010-4.47%2010-10S17.53%202%2012%202z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='cleaning_services'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M16%2011h-1V3c0-1.1-.9-2-2-2h-2c-1.1%200-2%20.9-2%202v8H8c-2.76%200-5%202.24-5%205v7h18v-7c0-2.76-2.24-5-5-5Zm3%2010h-2v-3c0-.55-.45-1-1-1s-1%20.45-1%201v3h-2v-3c0-.55-.45-1-1-1s-1%20.45-1%201v3H9v-3c0-.55-.45-1-1-1s-1%20.45-1%201v3H5v-5c0-1.65%201.35-3%203-3h8c1.65%200%203%201.35%203%203v5Z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='clear'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M19%206.41%2017.59%205%2012%2010.59%206.41%205%205%206.41%2010.59%2012%205%2017.59%206.41%2019%2012%2013.41%2017.59%2019%2019%2017.59%2013.41%2012z'/%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='cloud_off'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M19.35%2010.04A7.49%207.49%200%200%200%2012%204c-1.48%200-2.85.43-4.01%201.17l1.46%201.46a5.497%205.497%200%200%201%208.05%204.87v.5H19c1.66%200%203%201.34%203%203%200%201.13-.64%202.11-1.56%202.62l1.45%201.45C23.16%2018.16%2024%2016.68%2024%2015c0-2.64-2.05-4.78-4.65-4.96zM3%205.27l2.75%202.74C2.56%208.15%200%2010.77%200%2014c0%203.31%202.69%206%206%206h11.73l2%202L21%2020.73%204.27%204%203%205.27zM7.73%2010l8%208H6c-2.21%200-4-1.79-4-4s1.79-4%204-4h1.73z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='cloud_queue'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M19.35%2010.04A7.49%207.49%200%200%200%2012%204C9.11%204%206.6%205.64%205.35%208.04A5.994%205.994%200%200%200%200%2014c0%203.31%202.69%206%206%206h13c2.76%200%205-2.24%205-5%200-2.64-2.05-4.78-4.65-4.96zM19%2018H6c-2.21%200-4-1.79-4-4s1.79-4%204-4h.71C7.37%207.69%209.48%206%2012%206c3.04%200%205.5%202.46%205.5%205.5v.5H19c1.66%200%203%201.34%203%203s-1.34%203-3%203z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2020%2020'%20id='cloud_upload_outline'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M5.417%2016.667c-1.264%200-2.344-.438-3.24-1.313C1.281%2014.48.833%2013.41.833%2012.146c0-1.084.327-2.049.98-2.896a4.331%204.331%200%200%201%202.562-1.625%205.656%205.656%200%200%201%202.083-3.104A5.702%205.702%200%200%201%2010%203.333c1.625%200%203.003.566%204.135%201.698%201.132%201.132%201.698%202.51%201.698%204.136a3.64%203.64%200%200%201%202.386%201.239c.632.715.948%201.552.948%202.51%200%201.042-.365%201.928-1.094%202.657-.73.73-1.615%201.094-2.656%201.094h-4.584c-.458%200-.85-.163-1.176-.49A1.606%201.606%200%200%201%209.167%2015v-4.292L7.833%2012l-1.166-1.167L10%207.5l3.333%203.333L12.167%2012l-1.334-1.292V15h4.584c.583%200%201.076-.201%201.479-.604.403-.403.604-.896.604-1.48%200-.583-.201-1.076-.604-1.479a2.012%202.012%200%200%200-1.48-.604h-1.25V9.167c0-1.153-.405-2.136-1.218-2.949C12.135%205.406%2011.153%205%2010%205s-2.135.406-2.948%201.218c-.812.813-1.219%201.796-1.219%202.949h-.416a2.81%202.81%200%200%200-2.063.854%202.81%202.81%200%200%200-.854%202.062c0%20.806.285%201.493.854%202.063A2.81%202.81%200%200%200%205.417%2015H7.5v1.667H5.417Z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2018%2018'%20id='create_new_folder'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M15%204.5H9L7.5%203H3c-.833%200-1.492.667-1.492%201.5l-.008%209c0%20.832.667%201.5%201.5%201.5h12c.832%200%201.5-.668%201.5-1.5V6c0-.832-.668-1.5-1.5-1.5Zm-.75%206H12v2.25h-1.5V10.5H8.25V9h2.25V6.75H12V9h2.25v1.5Z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='dashboard'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M3%2013h8V3H3v10Zm0%208h8v-6H3v6Zm10%200h8V11h-8v10Zm0-18v6h8V3h-8Z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='delete_forever'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill='none'%20d='M0%200h24v24H0V0z'/%3e%3cpath%20d='M6%2019c0%201.1.9%202%202%202h8c1.1%200%202-.9%202-2V7H6v12zm2.46-7.12%201.41-1.41L12%2012.59l2.12-2.12%201.41%201.41L13.41%2014l2.12%202.12-1.41%201.41L12%2015.41l-2.12%202.12-1.41-1.41L10.59%2014l-2.13-2.12zM15.5%204l-1-1h-5l-1%201H5v2h14V4z'/%3e%3cpath%20fill='none'%20d='M0%200h24v24H0z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='description'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M14%202H6c-1.1%200-1.99.9-1.99%202L4%2020c0%201.1.89%202%201.99%202H18c1.1%200%202-.9%202-2V8l-6-6Zm2%2016H8v-2h8v2Zm0-4H8v-2h8v2Zm-3-5V3.5L18.5%209H13Z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='done'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill='none'%20d='M0%200h24v24H0z'/%3e%3cpath%20d='M9%2016.2%204.8%2012l-1.4%201.4L9%2019%2021%207l-1.4-1.4L9%2016.2z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='download'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill='none'%20d='M0%200h24v24H0z'/%3e%3cpath%20d='M5%2020h14v-2H5v2zM19%209h-4V3H9v6H5l7%207%207-7z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='drag_indicator'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%200h24v24H0V0z'%20fill='none'/%3e%3cpath%20d='M11%2018c0%201.1-.9%202-2%202s-2-.9-2-2%20.9-2%202-2%202%20.9%202%202zm-2-8c-1.1%200-2%20.9-2%202s.9%202%202%202%202-.9%202-2-.9-2-2-2zm0-6c-1.1%200-2%20.9-2%202s.9%202%202%202%202-.9%202-2-.9-2-2-2zm6%204c1.1%200%202-.9%202-2s-.9-2-2-2-2%20.9-2%202%20.9%202%202%202zm0%202c-1.1%200-2%20.9-2%202s.9%202%202%202%202-.9%202-2-.9-2-2-2zm0%206c-1.1%200-2%20.9-2%202s.9%202%202%202%202-.9%202-2-.9-2-2-2z'/%3e%3c/svg%3e%3csvg%20fill='none'%20viewBox='0%200%2024%2024'%20id='draw'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M4%2021v-4.25L17.175%203.6c.2-.2.425-.35.675-.45a1.975%201.975%200%200%201%201.512%200c.242.1.455.25.638.45L21.4%205c.2.183.35.396.45.638a1.975%201.975%200%200%201%200%201.512c-.1.25-.25.475-.45.675L8.25%2021H4ZM18.65%207.775%2020%206.425%2018.575%205l-1.35%201.35%201.425%201.425ZM14%2021a6.644%206.644%200%200%200%203.425-.925C18.475%2019.458%2019%2018.6%2019%2017.5c0-.6-.158-1.117-.475-1.55-.317-.433-.742-.808-1.275-1.125L15.775%2016.3c.383.167.683.35.9.55.217.2.325.417.325.65%200%20.383-.304.73-.913%201.038-.608.308-1.304.462-2.087.462a.968.968%200%200%200-.713.288A.968.968%200%200%200%2013%2020c0%20.283.096.52.287.712.192.192.43.288.713.288Zm-9.425-7.65%201.5-1.5a3.576%203.576%200%200%201-.788-.412C5.096%2011.296%205%2011.15%205%2011c0-.2.15-.4.45-.6.3-.2.933-.508%201.9-.925%201.467-.633%202.442-1.208%202.925-1.725.483-.517.725-1.1.725-1.75%200-.917-.367-1.646-1.1-2.188C9.167%203.272%208.2%203%207%203c-.75%200-1.42.133-2.013.4-.591.267-1.045.592-1.362.975A.908.908%200%200%200%203.4%205.1a.938.938%200%200%200%20.375.65.908.908%200%200%200%20.725.225c.267-.033.492-.142.675-.325.233-.233.492-.4.775-.5C6.233%205.05%206.583%205%207%205c.683%200%201.188.1%201.512.3.325.2.488.433.488.7%200%20.233-.146.446-.438.638-.291.191-.962.529-2.012%201.012-1.333.583-2.258%201.112-2.775%201.588A2.298%202.298%200%200%200%203%2011c0%20.533.142.988.425%201.363.283.375.667.704%201.15.987Z'%20fill='%23000'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='dynamic_form'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill='none'%20d='M0%200h24v24H0z'/%3e%3cpath%20d='M17%2020v-9h-2V4h7l-2%205h2l-5%2011zm-2-7v7H4c-1.1%200-2-.9-2-2v-3c0-1.1.9-2%202-2h11zm-8.75%202.75h-1.5v1.5h1.5v-1.5zM13%204v7H4c-1.1%200-2-.9-2-2V6c0-1.1.9-2%202-2h9zM6.25%206.75h-1.5v1.5h1.5v-1.5z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2013%2010'%20id='edge_end_arrow'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='m.5%205%2012%205V0L.5%205Z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2013%2010'%20id='edge_start_arrow'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='m12.5%205-12%205V0l12%205Z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='edit'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M3%2017.25V21h3.75L17.81%209.94l-3.75-3.75L3%2017.25zM20.71%207.04a.996.996%200%200%200%200-1.41l-2.34-2.34a.996.996%200%200%200-1.41%200l-1.83%201.83%203.75%203.75%201.83-1.83z'/%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='edit_attributes'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M17.63%207H6.37C3.96%207%202%209.24%202%2012s1.96%205%204.37%205h11.26c2.41%200%204.37-2.24%204.37-5s-1.96-5-4.37-5zM7.24%2014.46l-2.57-2.57.7-.7%201.87%201.87%203.52-3.52.7.7-4.22%204.22z'/%3e%3cpath%20class='bzst0'%20d='M0%200h24v24H0z'%20fill='none'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='edit_notifications'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='m17.58%206.25%201.77%201.77L14.37%2013H12.6v-1.77l4.98-4.98Zm3.27-.44-1.06-1.06c-.2-.2-.51-.2-.71%200l-.85.85L20%207.37l.85-.85c.2-.2.2-.52%200-.71ZM18%2012.2V17h2v2H4v-2h2v-7c0-2.79%201.91-5.14%204.5-5.8v-.7c0-.83.67-1.5%201.5-1.5s1.5.67%201.5%201.5v.7c.82.21%201.57.59%202.21%201.09L10.6%2010.4V15h4.6l2.8-2.8ZM10%2020h4c0%201.1-.9%202-2%202s-2-.9-2-2Z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='edit_off'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='m12.126%208.125%201.937-1.937%203.747%203.747-1.937%201.938-3.747-3.748ZM20.71%205.63l-2.34-2.34a1%201%200%200%200-1.41%200l-1.83%201.83%203.75%203.75L20.71%207a1%201%200%200%200%200-1.37ZM2%205l6.63%206.63L3%2017.25V21h3.75l5.63-5.62L18%2021l2-2L4%203%202%205Z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='email'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M20%204H4c-1.1%200-1.99.9-1.99%202L2%2018c0%201.1.9%202%202%202h16c1.1%200%202-.9%202-2V6c0-1.1-.9-2-2-2Zm0%204-8%205-8-5V6l8%205%208-5v2Z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='engineering_maintenance'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20data-name='\u5716\u5c64%202'%3e%3cg%20data-name='\u5716\u5c64%201'%3e%3cpath%20d='M0%200h24v24H0Z'%20style='fill:none'/%3e%3cpath%20d='M22.1%206.84V6.5a1.87%201.87%200%200%200%200-.34l.74-.58a.17.17%200%200%200%200-.22l-.7-1.21a.18.18%200%200%200-.14-.08l-.86.35a2.66%202.66%200%200%200-.59-.34l-.13-.93A.18.18%200%200%200%2020.2%203h-1.4a.16.16%200%200%200-.17.15l-.13.93a3.12%203.12%200%200%200-.59.34L17%204.07a.17.17%200%200%200-.21.08l-.7%201.21a.17.17%200%200%200%200%20.22l.74.58a1.94%201.94%200%200%200%200%20.68l-.74.58a.17.17%200%200%200%200%20.22l.7%201.21a.18.18%200%200%200%20.21.08l.87-.35a2.66%202.66%200%200%200%20.59.34l.13.93a.16.16%200%200%200%20.17.15h1.4a.16.16%200%200%200%20.17-.15l.13-.93a3.12%203.12%200%200%200%20.59-.34l.87.35a.17.17%200%200%200%20.21-.08l.7-1.21a.17.17%200%200%200%200-.22Zm-2.6.91a1.25%201.25%200%201%201%201.25-1.25%201.25%201.25%200%200%201-1.25%201.25ZM9%2015c-2.67%200-8%201.34-8%204v2h16v-2c0-2.66-5.33-4-8-4Zm10.42-4.19.5.87a.15.15%200%200%201%200%20.17l-.53.41a1.79%201.79%200%200%201%200%20.24%201.94%201.94%200%200%201%200%20.24l.52.41a.12.12%200%200%201%200%20.16l-.5.87a.12.12%200%200%201-.15.06l-.63-.24a2.18%202.18%200%200%201-.42.24l-.09.66a.11.11%200%200%201-.12.1h-1a.12.12%200%200%201-.12-.11l-.09-.66a1.76%201.76%200%200%201-.42-.24l-.62.25a.12.12%200%200%201-.15-.06l-.5-.87a.12.12%200%200%201%200-.16l.53-.41a1.79%201.79%200%200%201%200-.24%201.94%201.94%200%200%201%200-.24l-.53-.41a.12.12%200%200%201%200-.16l.5-.87a.12.12%200%200%201%20.15-.06l.62.25a2.18%202.18%200%200%201%20.42-.24l.09-.66A.12.12%200%200%201%2017%2010h1a.15.15%200%200%201%20.14.1l.09.66a1.76%201.76%200%200%201%20.42.24l.62-.25a.12.12%200%200%201%20.15.06Zm-2.75%201.69a.83.83%200%201%200%20.83-.83.83.83%200%200%200-.83.83ZM4.74%209h8.53a.49.49%200%200%200%20.49-.49.49.49%200%200%200-.49-.51H13a4%204%200%200%200-2-3.45v1a.5.5%200%200%201-1%200V4.14A4.09%204.09%200%200%200%209%204a4.09%204.09%200%200%200-1%20.14V5.5a.5.5%200%200%201-1%200v-1A4%204%200%200%200%205%208h-.26a.49.49%200%200%200-.49.49.49.49%200%200%200%20.49.51Zm8.12%201a4%204%200%200%201-7.72%200Z'%20style='fill-rule:evenodd'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='error'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M12%202C6.48%202%202%206.48%202%2012s4.48%2010%2010%2010%2010-4.48%2010-10S17.52%202%2012%202zm1%2015h-2v-2h2v2zm0-4h-2V7h2v6z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='event_busy'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='m9.31%2017%202.44-2.44L14.19%2017l1.06-1.06-2.44-2.44%202.44-2.44L14.19%2010l-2.44%202.44L9.31%2010l-1.06%201.06%202.44%202.44-2.44%202.44L9.31%2017ZM19%203h-1V1h-2v2H8V1H6v2H5c-1.11%200-1.99.9-1.99%202L3%2019a2%202%200%200%200%202%202h14c1.1%200%202-.9%202-2V5c0-1.1-.9-2-2-2Zm0%2016H5V8h14v11Z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='event_note'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M17%2010H7v2h10v-2zm2-7h-1V1h-2v2H8V1H6v2H5c-1.11%200-1.99.9-1.99%202L3%2019a2%202%200%200%200%202%202h14c1.1%200%202-.9%202-2V5c0-1.1-.9-2-2-2zm0%2016H5V8h14v11zm-5-5H7v2h7v-2z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='extension'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M20.5%2011H19V7c0-1.1-.9-2-2-2h-4V3.5a2.5%202.5%200%200%200-5%200V5H4c-1.1%200-1.99.9-1.99%202v3.8H3.5c1.49%200%202.7%201.21%202.7%202.7%200%201.49-1.21%202.7-2.7%202.7H2V20c0%201.1.9%202%202%202h3.8v-1.5c0-1.49%201.21-2.7%202.7-2.7%201.49%200%202.7%201.21%202.7%202.7V22H17c1.1%200%202-.9%202-2v-4h1.5a2.5%202.5%200%200%200%200-5Z'/%3e%3c/svg%3e%3csvg%20fill='none'%20viewBox='0%200%2024%2024'%20id='eye_tracking'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M6%2023H3c-.55%200-1.02-.196-1.413-.587A1.926%201.926%200%200%201%201%2021v-3h2v3h3v2Zm12%200v-2h3v-3h2v3c0%20.55-.196%201.02-.587%201.413A1.926%201.926%200%200%201%2021%2023h-3Zm-6-4.5c-2%200-3.813-.592-5.438-1.775C4.938%2015.542%203.75%2013.967%203%2012c.75-1.967%201.938-3.542%203.563-4.725C8.188%206.092%2010%205.5%2012%205.5c2%200%203.813.592%205.438%201.775C19.063%208.458%2020.25%2010.033%2021%2012c-.75%201.967-1.938%203.542-3.563%204.725C15.813%2017.908%2014%2018.5%2012%2018.5Zm0-3c.967%200%201.792-.342%202.475-1.025A3.372%203.372%200%200%200%2015.5%2012c0-.967-.342-1.792-1.025-2.475A3.372%203.372%200%200%200%2012%208.5c-.967%200-1.792.342-2.475%201.025A3.372%203.372%200%200%200%208.5%2012c0%20.967.342%201.792%201.025%202.475A3.372%203.372%200%200%200%2012%2015.5Zm0-2c-.417%200-.77-.146-1.063-.438A1.446%201.446%200%200%201%2010.5%2012c0-.417.146-.77.438-1.063A1.446%201.446%200%200%201%2012%2010.5c.417%200%20.77.146%201.063.438.291.291.437.645.437%201.062%200%20.417-.146.77-.438%201.063A1.446%201.446%200%200%201%2012%2013.5ZM1%206V3c0-.55.196-1.02.587-1.413A1.926%201.926%200%200%201%203%201h3v2H3v3H1Zm20%200V3h-3V1h3c.55%200%201.02.196%201.413.587C22.803%201.98%2023%202.45%2023%203v3h-2Z'%20fill='%23000'/%3e%3c/svg%3e%3csvg%20fill='none'%20viewBox='0%200%2048%2048'%20id='factory'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M33.34%209.389a.562.562%200%200%200-.562.562v11.597h-7.556v-5.184l-8.889%206.08v-6.008L10%2021.056V39.05c0%20.31.252.562.563.562h26.874c.311%200%20.563-.252.563-.562V9.95a.562.562%200%200%200-.563-.562H33.34Zm-2.562.562A2.562%202.562%200%200%201%2033.34%207.39h4.097A2.563%202.563%200%200%201%2040%209.95V39.05a2.562%202.562%200%200%201-2.563%202.562H10.564A2.562%202.562%200%200%201%208%2039.05V20.04l10.333-7.539v6.152l8.89-6.08v6.975h3.555V9.951Z'%20fill='%23191C1C'/%3e%3cpath%20d='M18.14%2026.61h-3.905v3.906h3.906v-3.907ZM18.14%2032.86h-3.905v3.906h3.906v-3.907ZM25.953%2026.61h-3.906v3.906h3.906v-3.907ZM25.953%2032.86h-3.906v3.906h3.906v-3.907ZM33.766%2026.61H29.86v3.906h3.906v-3.907ZM33.766%2032.86H29.86v3.906h3.906v-3.907Z'%20fill='%23191C1C'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='favorite'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='m12%2021.35-1.45-1.32C5.4%2015.36%202%2012.28%202%208.5%202%205.42%204.42%203%207.5%203c1.74%200%203.41.81%204.5%202.09C13.09%203.81%2014.76%203%2016.5%203%2019.58%203%2022%205.42%2022%208.5c0%203.78-3.4%206.86-8.55%2011.54L12%2021.35z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='favorite_border'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M16.5%203c-1.74%200-3.41.81-4.5%202.09C10.91%203.81%209.24%203%207.5%203%204.42%203%202%205.42%202%208.5c0%203.78%203.4%206.86%208.55%2011.54L12%2021.35l1.45-1.32C18.6%2015.36%2022%2012.28%2022%208.5%2022%205.42%2019.58%203%2016.5%203zm-4.4%2015.55-.1.1-.1-.1C7.14%2014.24%204%2011.39%204%208.5%204%206.5%205.5%205%207.5%205c1.54%200%203.04.99%203.57%202.36h1.87C13.46%205.99%2014.96%205%2016.5%205c2%200%203.5%201.5%203.5%203.5%200%202.89-3.14%205.74-7.9%2010.05z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='file_copy'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M16%201H4c-1.1%200-2%20.9-2%202v14h2V3h12V1zm-1%204%206%206v10c0%201.1-.9%202-2%202H7.99C6.89%2023%206%2022.1%206%2021l.01-14c0-1.1.89-2%201.99-2h7zm-1%207h5.5L14%206.5V12z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='filter_alt'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M4.25%205.61C6.27%208.2%2010%2013%2010%2013v6c0%20.55.45%201%201%201h2c.55%200%201-.45%201-1v-6s3.72-4.8%205.74-7.39A.998.998%200%200%200%2018.95%204H5.04c-.83%200-1.3.95-.79%201.61Z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='first_page'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M18.41%2016.59%2013.82%2012l4.59-4.59L17%206l-6%206%206%206%201.41-1.41ZM6%206h2v12H6V6Z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='folder'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M10%204H4c-1.1%200-1.99.9-1.99%202L2%2018c0%201.1.9%202%202%202h16c1.1%200%202-.9%202-2V8c0-1.1-.9-2-2-2h-8l-2-2Z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='folder_off'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20data-name='\u5716\u5c64%202'%3e%3cpath%20d='M0%200h24v24H0Z'%20style='fill:none'/%3e%3cpath%20d='m1.89%204.44%201.33%201.33A1.79%201.79%200%200%200%203%206.6v10.8a1.81%201.81%200%200%200%201.8%201.8h11.86l2.91%202.91%201.27-1.27L3.17%203.16ZM19.2%206.6H12l-1.8-1.8H7.34l13.44%2013.44a1.72%201.72%200%200%200%20.22-.84v-9a1.81%201.81%200%200%200-1.8-1.8Z'/%3e%3c/g%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='folder_open'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M20%206h-8l-2-2H4c-1.1%200-1.99.9-1.99%202L2%2018c0%201.1.9%202%202%202h16c1.1%200%202-.9%202-2V8c0-1.1-.9-2-2-2zm0%2012H4V8h16v10z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='forward'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12%208V4l8%208-8%208v-4H4V8h8Z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='fullscreen'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M7%2014H5v5h5v-2H7v-3Zm-2-4h2V7h3V5H5v5Zm12%207h-3v2h5v-5h-2v3ZM14%205v2h3v3h2V5h-5Z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='fullscreen_exit'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M5%2016h3v3h2v-5H5v2Zm3-8H5v2h5V5H8v3Zm6%2011h2v-3h3v-2h-5v5Zm2-11V5h-2v5h5V8h-3Z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='functions'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M18%204H6v2l6.5%206L6%2018v2h12v-3h-7l5-5-5-5h7z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='gps_fixed'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M12%208c-2.21%200-4%201.79-4%204s1.79%204%204%204%204-1.79%204-4-1.79-4-4-4zm8.94%203A8.994%208.994%200%200%200%2013%203.06V1h-2v2.06A8.994%208.994%200%200%200%203.06%2011H1v2h2.06A8.994%208.994%200%200%200%2011%2020.94V23h2v-2.06A8.994%208.994%200%200%200%2020.94%2013H23v-2h-2.06zM12%2019c-3.87%200-7-3.13-7-7s3.13-7%207-7%207%203.13%207%207-3.13%207-7%207z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2048%2048'%20id='group'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M24%203.79a9.21%209.21%200%200%200-5.694%2016.45l-3.62%205.948A9.21%209.21%200%201%200%2020.97%2037.1h6.06c.95%204.075%204.606%207.11%208.97%207.11a9.21%209.21%200%201%200%200-18.42%209.21%209.21%200%200%200-2.685.398l-3.62-5.949A9.21%209.21%200%200%200%2024%203.79Zm3.816%2017.595A9.176%209.176%200%200%201%2024%2022.21a9.176%209.176%200%200%201-3.816-.825l-3.47%205.701a9.206%209.206%200%200%201%204.495%207.814h5.582a9.205%209.205%200%200%201%204.495-7.814l-3.47-5.701ZM17.21%2013a6.79%206.79%200%201%201%2013.58%200%206.79%206.79%200%200%201-13.58%200Zm-12%2022a6.79%206.79%200%201%201%2013.58%200%206.79%206.79%200%200%201-13.58%200ZM36%2028.21a6.79%206.79%200%201%200%200%2013.58%206.79%206.79%200%200%200%200-13.58Z'/%3e%3c/svg%3e%3csvg%20fill='none'%20viewBox='0%200%2024%2024'%20id='group_work'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12%202C6.48%202%202%206.48%202%2012s4.48%2010%2010%2010%2010-4.48%2010-10S17.52%202%2012%202ZM8%2017.5a2.5%202.5%200%200%201%200-5%202.5%202.5%200%200%201%200%205ZM9.5%208a2.5%202.5%200%200%201%205%200%202.5%202.5%200%200%201-5%200Zm6.5%209.5a2.5%202.5%200%200%201%200-5%202.5%202.5%200%200%201%200%205Z'%20fill='%23000'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='help'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M12%202C6.48%202%202%206.48%202%2012s4.48%2010%2010%2010%2010-4.48%2010-10S17.52%202%2012%202zm1%2017h-2v-2h2v2zm2.07-7.75-.9.92C13.45%2012.9%2013%2013.5%2013%2015h-2v-.5c0-1.1.45-2.1%201.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41%200-1.1-.9-2-2-2s-2%20.9-2%202H8c0-2.21%201.79-4%204-4s4%201.79%204%204c0%20.88-.36%201.68-.93%202.25z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='help_outline'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill='none'%20d='M0%200h24v24H0z'/%3e%3cpath%20d='M11%2018h2v-2h-2v2zm1-16C6.48%202%202%206.48%202%2012s4.48%2010%2010%2010%2010-4.48%2010-10S17.52%202%2012%202zm0%2018c-4.41%200-8-3.59-8-8s3.59-8%208-8%208%203.59%208%208-3.59%208-8%208zm0-14c-2.21%200-4%201.79-4%204h2c0-1.1.9-2%202-2s2%20.9%202%202c0%202-3%201.75-3%205h2c0-2.25%203-2.5%203-5%200-2.21-1.79-4-4-4z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='hide_source'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%200h24v24H0V0z'%20fill='none'/%3e%3cpath%20d='M2.81%202.81%201.39%204.22l2.27%202.27A9.91%209.91%200%200%200%202%2012c0%205.52%204.48%2010%2010%2010%202.04%200%203.93-.61%205.51-1.66l2.27%202.27%201.41-1.41L2.81%202.81zM12%2020c-4.41%200-8-3.59-8-8%200-1.48.41-2.86%201.12-4.06l10.94%2010.94C14.86%2019.59%2013.48%2020%2012%2020zM7.94%205.12%206.49%203.66A9.91%209.91%200%200%201%2012%202c5.52%200%2010%204.48%2010%2010%200%202.04-.61%203.93-1.66%205.51l-1.46-1.46A7.869%207.869%200%200%200%2020%2012c0-4.41-3.59-8-8-8-1.48%200-2.86.41-4.06%201.12z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='highlight_off'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M14.59%208%2012%2010.59%209.41%208%208%209.41%2010.59%2012%208%2014.59%209.41%2016%2012%2013.41%2014.59%2016%2016%2014.59%2013.41%2012%2016%209.41%2014.59%208zM12%202C6.47%202%202%206.47%202%2012s4.47%2010%2010%2010%2010-4.47%2010-10S17.53%202%2012%202zm0%2018c-4.41%200-8-3.59-8-8s3.59-8%208-8%208%203.59%208%208-3.59%208-8%208z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='history'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M13%203a9%209%200%200%200-9%209H1l3.89%203.89.07.14L9%2012H6c0-3.87%203.13-7%207-7s7%203.13%207%207-3.13%207-7%207c-1.93%200-3.68-.79-4.94-2.06l-1.42%201.42A8.954%208.954%200%200%200%2013%2021a9%209%200%200%200%200-18zm-1%205v5l4.28%202.54.72-1.21-3.5-2.08V8H12z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='home'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M10%2020v-6h4v6h5v-8h3L12%203%202%2012h3v8z'/%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3c/svg%3e%3csvg%20fill='none'%20viewBox='0%200%2024%2024'%20id='image'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M19%205v14H5V5h14Zm0-2H5c-1.1%200-2%20.9-2%202v14c0%201.1.9%202%202%202h14c1.1%200%202-.9%202-2V5c0-1.1-.9-2-2-2Zm-4.86%208.86-3%203.87L9%2013.14%206%2017h12l-3.86-5.14Z'%20fill='%23000'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='info_outline'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%200h24v24H0V0z'%20fill='none'/%3e%3cpath%20d='M11%207h2v2h-2zm0%204h2v6h-2zm1-9C6.48%202%202%206.48%202%2012s4.48%2010%2010%2010%2010-4.48%2010-10S17.52%202%2012%202zm0%2018c-4.41%200-8-3.59-8-8s3.59-8%208-8%208%203.59%208%208-3.59%208-8%208z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='inventory'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M20%202H4c-1%200-2%20.9-2%202v3.01c0%20.72.43%201.34%201%201.69V20c0%201.1%201.1%202%202%202h14c.9%200%202-.9%202-2V8.7c.57-.35%201-.97%201-1.69V4c0-1.1-1-2-2-2Zm-5%2012H9v-2h6v2Zm5-7H4V4l16-.02V7Z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='keyboard_arrow_down'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M7.41%208.59%2012%2013.17l4.59-4.58L18%2010l-6%206-6-6%201.41-1.41z'/%3e%3cpath%20fill='none'%20d='M0%200h24v24H0V0z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='keyboard_arrow_up'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M7.41%2015.41%2012%2010.83l4.59%204.58L18%2014l-6-6-6%206z'/%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='label'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M17.63%205.84C17.27%205.33%2016.67%205%2016%205L5%205.01C3.9%205.01%203%205.9%203%207v10c0%201.1.9%201.99%202%201.99L16%2019c.67%200%201.27-.33%201.63-.84L22%2012l-4.37-6.16z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='lan'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M13%2022h8v-7h-3v-4h-5V9h3V2H8v7h3v2H6v4H3v7h8v-7H8v-2h8v2h-3v7Z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='language'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M11.99%202C6.47%202%202%206.48%202%2012s4.47%2010%209.99%2010C17.52%2022%2022%2017.52%2022%2012S17.52%202%2011.99%202zm6.93%206h-2.95a15.65%2015.65%200%200%200-1.38-3.56A8.03%208.03%200%200%201%2018.92%208zM12%204.04c.83%201.2%201.48%202.53%201.91%203.96h-3.82c.43-1.43%201.08-2.76%201.91-3.96zM4.26%2014C4.1%2013.36%204%2012.69%204%2012s.1-1.36.26-2h3.38c-.08.66-.14%201.32-.14%202%200%20.68.06%201.34.14%202H4.26zm.82%202h2.95c.32%201.25.78%202.45%201.38%203.56A7.987%207.987%200%200%201%205.08%2016zm2.95-8H5.08a7.987%207.987%200%200%201%204.33-3.56A15.65%2015.65%200%200%200%208.03%208zM12%2019.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43%201.43-1.08%202.76-1.91%203.96zM14.34%2014H9.66c-.09-.66-.16-1.32-.16-2%200-.68.07-1.35.16-2h4.68c.09.65.16%201.32.16%202%200%20.68-.07%201.34-.16%202zm.25%205.56c.6-1.11%201.06-2.31%201.38-3.56h2.95a8.03%208.03%200%200%201-4.33%203.56zM16.36%2014c.08-.66.14-1.32.14-2%200-.68-.06-1.34-.14-2h3.38c.16.64.26%201.31.26%202s-.1%201.36-.26%202h-3.38z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='last_page'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M5.59%207.41%2010.18%2012l-4.59%204.59L7%2018l6-6-6-6-1.41%201.41ZM16%206h2v12h-2V6Z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='launch'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M19%2019H5V5h7V3H5a2%202%200%200%200-2%202v14a2%202%200%200%200%202%202h14c1.1%200%202-.9%202-2v-7h-2v7zM14%203v2h3.59l-9.83%209.83%201.41%201.41L19%206.41V10h2V3h-7z'/%3e%3c/svg%3e%3csvg%20fill='none'%20viewBox='0%200%2030%2030'%20id='left_circle'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='15'%20cy='15'%20r='14'%20transform='rotate(-180%2015%2015)'%20stroke='%23AFB3BA'%20stroke-width='2'/%3e%3cpath%20d='M18.41%2010.41%2013.83%2015l4.58%204.59L17%2021l-6-6%206-6%201.41%201.41Z'%20fill='%23AFB3BA'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='link'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M3.9%2012c0-1.71%201.39-3.1%203.1-3.1h4V7H7c-2.76%200-5%202.24-5%205s2.24%205%205%205h4v-1.9H7c-1.71%200-3.1-1.39-3.1-3.1zM8%2013h8v-2H8v2zm9-6h-4v1.9h4c1.71%200%203.1%201.39%203.1%203.1s-1.39%203.1-3.1%203.1h-4V17h4c2.76%200%205-2.24%205-5s-2.24-5-5-5z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='link_off'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill='none'%20d='M0%200h24v24H0V0z'/%3e%3cpath%20d='M17%207h-4v1.9h4c1.71%200%203.1%201.39%203.1%203.1%200%201.43-.98%202.63-2.31%202.98l1.46%201.46C20.88%2015.61%2022%2013.95%2022%2012c0-2.76-2.24-5-5-5zm-1%204h-2.19l2%202H16zM2%204.27l3.11%203.11A4.991%204.991%200%200%200%202%2012c0%202.76%202.24%205%205%205h4v-1.9H7c-1.71%200-3.1-1.39-3.1-3.1%200-1.59%201.21-2.9%202.76-3.07L8.73%2011H8v2h2.73L13%2015.27V17h1.73l4.01%204L20%2019.74%203.27%203%202%204.27z'/%3e%3cpath%20fill='none'%20d='M0%2024V0'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='local_activity'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M20%2012c0-1.1.9-2%202-2V6c0-1.1-.9-2-2-2H4c-1.1%200-1.99.9-1.99%202v4c1.1%200%201.99.9%201.99%202s-.89%202-2%202v4c0%201.1.9%202%202%202h16c1.1%200%202-.9%202-2v-4c-1.1%200-2-.9-2-2zm-4.42%204.8L12%2014.5l-3.58%202.3%201.08-4.12-3.29-2.69%204.24-.25L12%205.8l1.54%203.95%204.24.25-3.29%202.69%201.09%204.11z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='local_offer'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='m21.41%2011.58-9-9C12.05%202.22%2011.55%202%2011%202H4c-1.1%200-2%20.9-2%202v7c0%20.55.22%201.05.59%201.42l9%209c.36.36.86.58%201.41.58.55%200%201.05-.22%201.41-.59l7-7c.37-.36.59-.86.59-1.41%200-.55-.23-1.06-.59-1.42zM5.5%207C4.67%207%204%206.33%204%205.5S4.67%204%205.5%204%207%204.67%207%205.5%206.33%207%205.5%207z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='location'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12%202C8.13%202%205%205.13%205%209c0%205.25%207%2013%207%2013s7-7.75%207-13c0-3.87-3.13-7-7-7Zm0%209.5a2.5%202.5%200%200%201%200-5%202.5%202.5%200%200%201%200%205Z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='lock'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M18%208h-1V6c0-2.76-2.24-5-5-5S7%203.24%207%206v2H6c-1.1%200-2%20.9-2%202v10c0%201.1.9%202%202%202h12c1.1%200%202-.9%202-2V10c0-1.1-.9-2-2-2zm-6%209c-1.1%200-2-.9-2-2s.9-2%202-2%202%20.9%202%202-.9%202-2%202zm3.1-9H8.9V6c0-1.71%201.39-3.1%203.1-3.1%201.71%200%203.1%201.39%203.1%203.1v2z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='lock_open'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M12%2017c1.1%200%202-.9%202-2s-.9-2-2-2-2%20.9-2%202%20.9%202%202%202zm6-9h-1V6c0-2.76-2.24-5-5-5S7%203.24%207%206h1.9c0-1.71%201.39-3.1%203.1-3.1%201.71%200%203.1%201.39%203.1%203.1v2H6c-1.1%200-2%20.9-2%202v10c0%201.1.9%202%202%202h12c1.1%200%202-.9%202-2V10c0-1.1-.9-2-2-2zm0%2012H6V10h12v10z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='loop'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12%204V1L8%205l4%204V6c3.31%200%206%202.69%206%206%200%201.01-.25%201.97-.7%202.8l1.46%201.46A7.93%207.93%200%200%200%2020%2012c0-4.42-3.58-8-8-8zm0%2014c-3.31%200-6-2.69-6-6%200-1.01.25-1.97.7-2.8L5.24%207.74A7.93%207.93%200%200%200%204%2012c0%204.42%203.58%208%208%208v3l4-4-4-4v3z'/%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='low_priority'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M14%205h8v2h-8zm0%205.5h8v2h-8zm0%205.5h8v2h-8zM2%2011.5C2%2015.08%204.92%2018%208.5%2018H9v2l3-3-3-3v2h-.5C6.02%2016%204%2013.98%204%2011.5S6.02%207%208.5%207H12V5H8.5C4.92%205%202%207.92%202%2011.5z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='mark_email_unread'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill='none'%20d='M0%200h24v24H0z'/%3e%3cpath%20d='M22%208.98V18c0%201.1-.9%202-2%202H4c-1.1%200-2-.9-2-2V6c0-1.1.9-2%202-2h10.1c-.06.32-.1.66-.1%201%200%201.48.65%202.79%201.67%203.71L12%2011%204%206v2l8%205%205.3-3.32c.54.2%201.1.32%201.7.32%201.13%200%202.16-.39%203-1.02zM16%205c0%201.66%201.34%203%203%203s3-1.34%203-3-1.34-3-3-3-3%201.34-3%203z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='medical_information'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M20%207h-5V4c0-1.1-.9-2-2-2h-2c-1.1%200-2%20.9-2%202v3H4c-1.1%200-2%20.9-2%202v11c0%201.1.9%202%202%202h16c1.1%200%202-.9%202-2V9c0-1.1-.9-2-2-2Zm-9-3h2v5h-2V4Zm0%2012H9v2H7v-2H5v-2h2v-2h2v2h2v2Zm2-1.5V13h6v1.5h-6Zm0%203V16h4v1.5h-4Z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='menu'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M3%2018h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='more_vert'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M12%208c1.1%200%202-.9%202-2s-.9-2-2-2-2%20.9-2%202%20.9%202%202%202zm0%202c-1.1%200-2%20.9-2%202s.9%202%202%202%202-.9%202-2-.9-2-2-2zm0%206c-1.1%200-2%20.9-2%202s.9%202%202%202%202-.9%202-2-.9-2-2-2z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='multiple_stop'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='m17%204%204%204-4%204V9h-4V7h4V4Zm-7%203c-.55%200-1%20.45-1%201s.45%201%201%201%201-.45%201-1-.45-1-1-1ZM6%207c-.55%200-1%20.45-1%201s.45%201%201%201%201-.45%201-1-.45-1-1-1Zm1%2010h4v-2H7v-3l-4%204%204%204v-3Zm7%200c.55%200%201-.45%201-1s-.45-1-1-1-1%20.45-1%201%20.45%201%201%201Zm4%200c.55%200%201-.45%201-1s-.45-1-1-1-1%20.45-1%201%20.45%201%201%201Z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='mx-509_certificate'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20data-name='\u5716\u5c64%202'%3e%3cg%20data-name='\u5716\u5c64%201'%3e%3cpath%20d='M0%200h24v24H0Z'%20style='fill:none'/%3e%3cpath%20d='M4%2010h7v1.5H4zM4%2012.5h6V14H4zM4%207.5h8V9H4z'/%3e%3cpath%20d='M21%203.5H3a2%202%200%200%200-2%202v13a2%202%200%200%200%202%202h18a2%202%200%200%200%202-2v-13a2%202%200%200%200-2-2Zm0%2015H3v-13h18Z'/%3e%3cpath%20d='M13.91%2013.48h1v3l1.5-.64%201.5.64v-3h1V12l1-1-1-1V8.52h-1.5l-1-1-1%201h-1.5V10l-1%201%201%201Zm2.48-3.72A1.24%201.24%200%201%201%2015.15%2011a1.24%201.24%200%200%201%201.24-1.24Z'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='mx-application_cog_outline'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M21.7%2018.6v-1l1.1-.8c.1-.1.2-.2.1-.3l-1-1.7c0-.1-.2-.1-.3-.1l-1.2.5c-.3-.2-.6-.4-.9-.5l-.2-1.3c0-.1-.1-.2-.2-.2h-2c-.2%200-.3.1-.3.2l-.2%201.3c-.3.2-.5.3-.8.5l-1.2-.5c-.1%200-.2%200-.3.1l-1%201.7c0%20.1%200%20.2.1.3l1.1.8v1l-1.1.8c-.1.1-.2.2-.1.3l1%201.7c.1.1.2.1.3.1l1.2-.5c.2.2.5.4.8.5l.2%201.3c.1.1.2.2.3.2h2c.1%200%20.2-.1.2-.2l.2-1.3c.3-.2.5-.3.8-.5l1.2.4c.1%200%20.2%200%20.3-.1l1-1.7c.1-.1.1-.2%200-.2l-1.1-.8Zm-3.7.9c-.8%200-1.5-.7-1.5-1.5s.7-1.5%201.5-1.5%201.5.7%201.5%201.5-.7%201.5-1.5%201.5ZM12.3%2022H3c-1.1%200-2-.9-2-2V4c0-1.1.9-2%202-2h18c1.1%200%202%20.9%202%202v9.1c-.6-.6-1.3-1.1-2-1.4V6H3v14h8.3c.2.7.5%201.4%201%202Z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='mx-application_empty'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20data-name='\u5716\u5c64%202'%3e%3cpath%20d='M0%200h24v24H0Z'%20style='fill:none'/%3e%3cpath%20d='M4%2016h4v4H4zM16%204h4v4h-4zM14%208V4h-4v3.46l.54.54H14zM20%2014v-4h-4v3.46l.54.54H20zM14%2010h-1.46L14%2011.46V10zM20%2016h-1.46L20%2017.46V16z'/%3e%3cpath%20d='m20.84%2020.83-.01.01L3.16%203.17%201.89%204.44%204%206.54V8h1.46l2%202H4v4h4v-3.46l2%202V14h1.46l2%202H10v4h4v-3.46l2%202V20h1.46l2.11%202.11%201.27-1.27v-.01zM8%204H6.54L8%205.46V4z'/%3e%3c/g%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='mx-calendar_clock'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20data-name='\u5716\u5c64%202'%3e%3cg%20data-name='\u5716\u5c64%201'%3e%3cpath%20style='fill:none'%20d='M0%200h24v24H0z'/%3e%3cpath%20d='M15%2013h1.5v2.82l2.44%201.41-.75%201.3L15%2016.69V13m4-5H5v11h4.67A7%207%200%200%201%2019%209.67V8M5%2021a2%202%200%200%201-2-2V5a2%202%200%200%201%202-2h1V1h2v2h8V1h2v2h1a2%202%200%200%201%202%202v6.1a7%207%200%200%201-9.9%209.9H5m11-9.85A4.85%204.85%200%200%200%2011.15%2016a4.85%204.85%200%200%200%209.7%200A4.85%204.85%200%200%200%2016%2011.15Z'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='mx-circle_dash'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='m21.814%2013.956-1.966-.39a8.051%208.051%200%200%200%200-3.125l1.966-.389a10.055%2010.055%200%200%201%200%203.904ZM20.32%206.448l-1.665%201.115a8.05%208.05%200%200%200-2.21-2.21l1.115-1.665c1.09.73%202.03%201.67%202.76%202.76Zm-6.364-4.254-.39%201.966a8.045%208.045%200%200%200-3.125%200l-.389-1.966a10.05%2010.05%200%200%201%203.904%200ZM6.448%203.688l1.114%201.665a8.051%208.051%200%200%200-2.209%202.21L3.688%206.448c.73-1.09%201.67-2.03%202.76-2.76Zm-4.254%206.365a10.05%2010.05%200%200%200%200%203.903l1.966-.39a8.046%208.046%200%200%201%200-3.125l-1.966-.389Zm1.494%207.507%201.665-1.114a8.052%208.052%200%200%200%202.21%202.209L6.447%2020.32a10.055%2010.055%200%200%201-2.76-2.76Zm6.364%204.254.39-1.966a8.044%208.044%200%200%200%203.125%200l.389%201.966a10.046%2010.046%200%200%201-3.904%200Zm7.508-1.494-1.115-1.665a8.05%208.05%200%200%200%202.21-2.21l1.665%201.115a10.056%2010.056%200%200%201-2.76%202.76Z'/%3e%3c/svg%3e%3csvg%20version='1.1'%20id='mx-cog-off'%20x='0'%20y='0'%20viewBox='0%200%2024%2024'%20style='enable-background:new%200%200%2024%2024'%20xml:space='preserve'%20xmlns='http://www.w3.org/2000/svg'%3e%3cstyle%3e.st1{display:none;opacity:.76;fill:none;stroke:%23b1d135;stroke-width:1.8;stroke-miterlimit:10;enable-background:new}%3c/style%3e%3cpath%20d='M0%200h24v24H0V0zm0%200h24v24H0V0zm0%200h24v24H0V0zm0%200h24v24H0V0z'%20style='fill:none'/%3e%3cpath%20d='m2%204.3%202.1%202.1-1.4%202.5c-.1.2%200%20.4.2.6l2%201.6c0%20.3-.1.6-.1.9s0%20.6.1.9l-2%201.6c-.2.1-.2.4-.1.6l1.9%203.3c.1.2.4.3.6.2l2.4-1c.5.4%201%20.7%201.6.9l.4%202.5c0%20.2.2.4.5.4H14c.2%200%20.4-.2.5-.4l.4-2.5c.4-.2.7-.3%201.1-.6l3.9%203.9%201.3-1.3L3.3%203%202%204.3zm10%2011.3c-2%200-3.6-1.6-3.6-3.6%200-.4.1-.8.2-1.1l4.5%204.5c-.3.1-.7.2-1.1.2zM19.1%2012.9c0-.3.1-.6.1-.9s0-.6-.1-.9l2-1.6c.2-.1.2-.4.1-.6l-1.9-3.3c-.1-.2-.4-.3-.6-.2l-2.4%201c-.5-.4-1-.7-1.6-.9L14.3%203c0-.2-.2-.4-.5-.4H10c-.2%200-.4.2-.5.4l-.2%202.4c-.3.1-.5.2-.8.3l2.8%202.8c.2%200%20.5-.1.7-.1%202%200%203.6%201.6%203.6%203.6%200%20.2%200%20.5-.1.7l4.5%204.5%201.2-2.1c.1-.2.1-.5-.1-.6l-2-1.6z'/%3e%3c/svg%3e%3csvg%20fill='none'%20viewBox='0%200%2024%2024'%20id='mx-cursor'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M13.64%2021.97a.99.99%200%200%201-1.33-.47l-2.18-4.74-2.51%202.02c-.17.14-.38.22-.62.22a1%201%200%200%201-1-1V3a1%201%200%200%201%201.64-.77l.01-.01%2011.49%209.64a1.001%201.001%200%200%201-.44%201.75l-3.16.62%202.2%204.73c.26.5.02%201.09-.48%201.32l-3.62%201.69Z'%20fill='%23000'/%3e%3c/svg%3e%3csvg%20fill='none'%20viewBox='0%200%2024%2024'%20id='mx-cursor_add'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='m18%2011%20.113-.001%201.027.861a1.001%201.001%200%200%201-.44%201.75l-3.16.62%202.2%204.73c.26.5.02%201.09-.48%201.32l-3.62%201.69a.99.99%200%200%201-1.33-.47l-2.18-4.74-2.51%202.02c-.17.14-.38.22-.62.22a1%201%200%200%201-1-1V3a1%201%200%200%201%201.64-.77l.01-.01%205.407%204.536A5.001%205.001%200%200%200%2018%2011ZM21%207h-2v2h-2V7h-2V5h2V3h2v2h2v2Z'%20fill='%23000'/%3e%3c/svg%3e%3csvg%20fill='none'%20viewBox='0%200%2024%2024'%20id='mx-cursor_add_outline'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='m18%2011%20.113-.001%201.027.861a1.001%201.001%200%200%201-.44%201.75l-3.16.62%202.2%204.73c.26.5.02%201.09-.48%201.32l-3.62%201.69a.99.99%200%200%201-1.33-.47l-2.18-4.74-2.51%202.02c-.17.14-.38.22-.62.22a1%201%200%200%201-1-1V3a1%201%200%200%201%201.64-.77l.01-.01%205.407%204.536A5.001%205.001%200%200%200%2018%2011Zm-7.93%203.27a.997.997%200%200%201%201.33.48l2.3%204.99%201.8-.85-2.31-4.98c-.24-.5-.02-1.1.48-1.33l.28-.08%202.3-.45L8%205.12V15.9l1.82-1.47.25-.16Z'%20fill='%23000'/%3e%3cpath%20d='M21%207h-2v2h-2V7h-2V5h2V3h2v2h2v2Z'%20fill='%23000'/%3e%3c/svg%3e%3csvg%20fill='none'%20viewBox='0%200%2024%2024'%20id='mx-cursor_outline'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M10.07%2014.27a.997.997%200%200%201%201.33.48l2.3%204.99%201.8-.85-2.31-4.98c-.24-.5-.02-1.1.48-1.33l.28-.08%202.3-.45L8%205.12V15.9l1.82-1.47.25-.16Zm3.57%207.7a.99.99%200%200%201-1.33-.47l-2.18-4.74-2.51%202.02c-.17.14-.38.22-.62.22a1%201%200%200%201-1-1V3a1%201%200%200%201%201.64-.77l.01-.01%2011.49%209.64a1.001%201.001%200%200%201-.44%201.75l-3.16.62%202.2%204.73c.26.5.02%201.09-.48%201.32l-3.62%201.69Z'%20fill='%23000'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20style='enable-background:new%200%200%2024%2024'%20xml:space='preserve'%20id='mx-default_route'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%200h24v24H0V0z'%20style='fill:none'/%3e%3cpath%20d='M22%2012c0-5.5-4.5-10-10-10S2%206.5%202%2012s4.5%2010%2010%2010%2010-4.5%2010-10zM7.1%208.9l3.1%203.1-3.1%203.1v-2.2H4.4v-1.8h2.7V8.9zm1.8-1.8L12%204l3.1%203.1h-2.2v2.7h-1.8V7.1H8.9zm8%208L13.8%2012l3.1-3.1v2.2h2.7v1.8h-2.7v2.2zm-1.8%201.8L12%2020l-3.1-3.1h2.2v-2.7h1.8v2.7h2.2z'/%3e%3c/svg%3e%3csvg%20fill='none'%20viewBox='0%200%2024%2024'%20id='mx-disband_group_outline'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M12%202C6.48%202%202%206.48%202%2012s4.48%2010%2010%2010c.488%200%20.968-.035%201.438-.103A5.976%205.976%200%200%201%2012%2018c0-1.75.749-3.324%201.943-4.42.356-.515.9-.89%201.533-1.025A5.978%205.978%200%200%201%2018%2012c1.488%200%202.849.541%203.897%201.438.068-.47.103-.95.103-1.438%200-5.52-4.48-10-10-10ZM8%2017.5a2.5%202.5%200%200%201%200-5%202.5%202.5%200%200%201%200%205ZM9.5%208a2.5%202.5%200%200%201%205%200%202.5%202.5%200%200%201-5%200Z'%20fill='%23000'/%3e%3cpath%20d='m20.12%2014.47%201.42%201.41L19.41%2018l2.13%202.12-1.42%201.42L18%2019.41l-2.12%202.13-1.41-1.42L16.59%2018l-2.12-2.12%201.41-1.41L18%2016.59l2.12-2.12Z'%20fill='%23000'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%20160%20160'%20id='mx-empty_state_404'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M113.061%2097c-11.08%200-20.06%208.981-20.06%2020.061%200%2011.079%208.98%2020.06%2020.06%2020.06%204.523%200%208.716-1.51%2012.083-4.06v2.378l19.011%2018.975%206.259-6.26-18.974-19.01h-2.378a19.964%2019.964%200%200%200%204.06-12.083c0-11.08-8.982-20.061-20.061-20.061Zm-10.802%2020.061a10.785%2010.785%200%200%201%2010.802-10.802%2010.785%2010.785%200%200%201%2010.802%2010.802%2010.785%2010.785%200%200%201-10.802%2010.802%2010.785%2010.785%200%200%201-10.802-10.802Z'/%3e%3cpath%20d='m80.164%2083.71.002-.008c.456-1.677.702-4.01.702-7.046%200-4.06-.534-6.98-1.487-8.89l-.006-.01c-.91-1.869-2.052-2.62-3.45-2.62-1.012%200-1.847.322-2.557.952l-.003.002c-.648.571-1.253%201.621-1.72%203.335-.43%201.65-.663%203.984-.663%207.051%200%204.059.52%206.982%201.45%208.896.936%201.87%202.094%202.624%203.493%202.624%201.022%200%201.841-.313%202.517-.908.677-.601%201.282-1.666%201.72-3.37l.002-.008Z'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M40%2020c-6.6%200-11.94%205.137-11.94%2011.416l-.055%20100.58a8%208%200%200%200%208%208.004H99.34c1.163%200%201.653-2.375.68-3.013-6.487-4.254-10.771-11.589-10.771-19.926%200-13.151%2010.66-23.811%2023.811-23.811%203.359%200%206.556.696%209.454%201.95.688.299%201.485-.189%201.485-.938V48.379L98.24%2020H40Zm12.196%2073.46v-6.698H39.8v-4.635L48.971%2059l5.199%202.385-7.622%2019.373h5.648v-8.947h5.867v8.947h3.441v6.004h-3.44v6.698h-5.868Zm15.41-4.264-.003-.004c-1.837-3.136-2.696-7.4-2.696-12.67%200-5.3.872-9.56%202.747-12.643l.005-.007c1.945-3.148%204.756-4.74%208.308-4.74%203.581%200%206.387%201.61%208.278%204.804%201.84%203.109%202.698%207.377%202.698%2012.675%200%205.3-.886%209.561-2.79%2012.646C82.234%2092.408%2079.434%2094%2075.883%2094c-3.58%200-6.387-1.61-8.277-4.804Zm35.136-2.434v6.698h5.867v-6.698h3.441v-6.004h-3.441v-8.947h-5.867v8.947h-5.648l7.621-19.373L99.517%2059l-9.171%2023.127v4.635h12.396Z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%20160%20160'%20id='mx-empty_state_500'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M111.211%2089.517c-1.093.27-1.464%201.64-.667%202.436l9.004%209.004-1.369%208.22-8.22%201.37-9.005-9.005c-.801-.801-2.167-.415-2.44.686-1.422%205.737.11%2012.055%204.592%2016.539%204.8%204.8%2011.759%206.121%2017.825%204.123l20.184%2020.183a7.75%207.75%200%200%200%2010.959-10.959l-20.162-20.161c2.024-6.069.688-13.014-4.144-17.846-4.489-4.489-10.816-6.018-16.557-4.59Zm38.288%2048.075a2.906%202.906%200%201%201-5.812.002%202.906%202.906%200%200%201%205.812-.002Z'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M31.88%2030h87.281c2.133%200%203.879%201.741%203.879%203.87v23.22c0%202.13-1.746%203.87-3.879%203.87H31.879c-2.133%200-3.879-1.74-3.879-3.87V33.87c0-2.128%201.746-3.87%203.88-3.87Zm3.878%2015.48c0%204.258%203.492%207.74%207.759%207.74s7.758-3.483%207.758-7.74-3.491-7.74-7.758-7.74c-4.267%200-7.759%203.483-7.759%207.74ZM123.04%20131.07a.996.996%200%200%200-.293-.707l-2.64-2.641a1.03%201.03%200%200%200-.909-.279c-6.629%201.187-13.762-.69-18.92-5.848a21.368%2021.368%200%200%201-6.27-14.556H31.88c-2.133%200-3.879%201.742-3.879%203.87v23.221c0%202.128%201.746%203.87%203.88%203.87h87.281c2.133%200%203.879-1.742%203.879-3.87v-3.06Zm-87.282-8.55c0%204.257%203.492%207.74%207.759%207.74s7.758-3.483%207.758-7.74c0-4.258-3.491-7.741-7.758-7.741-4.267%200-7.759%203.483-7.759%207.741ZM95.558%2099.299H31.879c-2.133%200-3.879-1.742-3.879-3.87v-23.22c0-2.13%201.746-3.87%203.88-3.87h87.281c2.133%200%203.879%201.74%203.879%203.87V84.94c0%20.7-.701%201.184-1.37.982a21.542%2021.542%200%200%200-11.422-.288c-4.165%201.034-5.493%206.187-2.533%209.147l4.518%204.518h-7.865l-.585-.585c-2.477-2.477-6.343-1.93-8.225.585Zm-59.8-15.48c0%204.257%203.492%207.74%207.759%207.74s7.758-3.483%207.758-7.74c0-4.258-3.491-7.74-7.758-7.74-4.267%200-7.759%203.483-7.759%207.74Z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%20160%20160'%20id='mx-empty_state_box'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M119.547%2036H38.6c-6.413%200-11.44%205.142-11.44%2011.556l-.058%2080.889C27.102%20134.8%2032.187%20140%2038.6%20140h80.947c6.355%200%2011.555-5.2%2011.555-11.555v-80.89c0-6.413-5.2-11.555-11.555-11.555Zm0%2069.333H96.436c0%209.592-7.8%2017.334-17.334%2017.334-9.533%200-17.333-7.742-17.333-17.334H38.6V47.556h80.947v57.777ZM118.255%209.578l4.149%2017.313-6.801%201.63-4.149-17.313%206.801-1.63ZM142.853%2016.614l-9.657%2014.898-5.606-3.634%209.657-14.898%205.606%203.634ZM154.207%2039.48l-16.694%204-1.63-6.801%2016.694-4.001%201.63%206.801Z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%20160%20160'%20id='mx-empty_state_module_not_found'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M38.85%2073.099c-.954%203.56%201.183%207.253%204.748%208.209%203.566.955%207.263-1.176%208.217-4.735.954-3.56-1.183-7.254-4.748-8.209-3.566-.955-7.264%201.175-8.217%204.735ZM79.784%2090.835c0%204.493%203.682%208.17%208.183%208.17%204.5%200%208.183-3.677%208.183-8.17s-3.682-8.17-8.183-8.17c-4.5%200-8.183%203.677-8.183%208.17Z'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M60%2032H24c-6.6%200-11.94%205.4-11.94%2012L12%20116c0%206.6%205.4%2012%2012%2012h76.63a1%201%200%200%200%20.864-.496l21.261-36.448c1.602-2.746%204.783-3.66%207.435-2.742.791.274%201.81-.243%201.81-1.08V56c0-6.6-5.4-12-12-12H72L60%2032Zm-1.702%2046.31c-.16.593-.344%201.14-.56%201.66l2.858%203.811c.274.343.244.817-.078%201.155l-5.057%205.041a.89.89%200%200%201-1.168.111L50.45%2087.21a12.79%2012.79%200%200%201-3.37.909L45.21%2092.51a.869.869%200%200%201-1.043.51l-6.915-1.853c-.432-.115-.693-.513-.667-.968l.575-4.74c-.947-.716-1.747-1.547-2.464-2.472l-4.767.573c-.43.02-.846-.227-.956-.68l-1.858-6.895c-.102-.413.118-.874.51-1.039l4.416-1.86c.055-.564.178-1.167.327-1.724.15-.558.38-1.131.615-1.647l-2.895-3.82c-.292-.348-.24-.834.078-1.154l5.039-5.047a.89.89%200%200%201%201.168-.11l3.842%202.878c1.06-.428%202.192-.761%203.37-.908l1.871-4.392c.188-.413.612-.626%201.044-.51l6.915%201.852c.432.116.71.518.667.969l-.575%204.74c.947.716%201.747%201.547%202.464%202.471l4.767-.572c.43-.02.846.227.956.68l1.858%206.895c.102.412-.118.874-.51%201.038l-4.416%201.861a10.729%2010.729%200%200%201-.327%201.724Zm46.036%2012.525c0%20.749-.046%201.452-.137%202.133l4.569%203.585c.432.318.546.886.273%201.385l-4.364%207.534a1.086%201.086%200%200%201-1.342.499l-5.432-2.178a15.62%2015.62%200%200%201-3.683%202.133l-.818%205.764a1.06%201.06%200%200%201-1.069.93h-8.728c-.546%200-.978-.386-1.091-.93l-.819-5.764c-1.341-.545-2.546-1.271-3.682-2.133l-5.433%202.178c-.5.159-1.069%200-1.341-.499l-4.365-7.534c-.25-.454-.136-1.067.273-1.385l4.615-3.585c-.114-.68-.16-1.43-.16-2.133%200-.704.091-1.452.205-2.133l-4.615-3.586c-.454-.317-.545-.907-.272-1.384l4.341-7.534c.273-.5.841-.68%201.342-.5l5.432%202.18c1.114-.84%202.342-1.59%203.683-2.134l.818-5.764c.091-.544.523-.93%201.069-.93h8.728c.546%200%201%20.386%201.092.93l.818%205.764c1.341.545%202.546%201.27%203.682%202.133l5.433-2.178c.5-.16%201.069%200%201.341.499l4.365%207.534c.25.454.136%201.067-.273%201.384l-4.614%203.586c.113.68.159%201.407.159%202.133Z'/%3e%3cpath%20d='M100.755%20136.992c-.778%201.334.183%203.008%201.727%203.008h51.369c1.544%200%202.506-1.674%201.728-3.008l-25.685-44.03c-.772-1.324-2.683-1.324-3.455%200l-25.684%2044.03Zm30.063-4.105h-5.303v-5.264h5.303v5.264Zm0-10.527h-5.303v-15.214h5.303v15.214Z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='mx-file-eye-outline'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M17%2018c.56%200%201%20.44%201%201s-.44%201-1%201-1-.44-1-1%20.44-1%201-1m0-3c-2.73%200-5.06%201.66-6%204%20.94%202.34%203.27%204%206%204s5.06-1.66%206-4c-.94-2.34-3.27-4-6-4m0%206.5a2.5%202.5%200%200%201-2.5-2.5%202.5%202.5%200%200%201%202.5-2.5%202.5%202.5%200%200%201%202.5%202.5%202.5%202.5%200%200%201-2.5%202.5M9.27%2020H6V4h7v5h5v4.07c.7.08%201.36.25%202%20.49V8l-6-6H6a2%202%200%200%200-2%202v16a2%202%200%200%200%202%202h4.5a8.15%208.15%200%200%201-1.23-2Z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='mx-file_cog_outline'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M6%202a2%202%200%200%200-2%202v16c0%201.11.89%202%202%202h6v-2H6V4h7v5h5v3h2V8l-6-6m4%2012a.26.26%200%200%200-.26.21l-.19%201.32c-.3.13-.59.29-.85.47l-1.24-.5c-.11%200-.24%200-.31.13l-1%201.73c-.06.11-.04.24.06.32l1.06.82a4.193%204.193%200%200%200%200%201l-1.06.82a.26.26%200%200%200-.06.32l1%201.73c.06.13.19.13.31.13l1.24-.5c.26.18.54.35.85.47l.19%201.32c.02.12.12.21.26.21h2c.11%200%20.22-.09.24-.21l.19-1.32c.3-.13.57-.29.84-.47l1.23.5c.13%200%20.26%200%20.33-.13l1-1.73a.26.26%200%200%200-.06-.32l-1.07-.82c.02-.17.04-.33.04-.5%200-.17-.01-.33-.04-.5l1.06-.82a.26.26%200%200%200%20.06-.32l-1-1.73c-.06-.13-.19-.13-.32-.13l-1.23.5c-.27-.18-.54-.35-.85-.47l-.19-1.32A.236.236%200%200%200%2020%2014m-1%203.5c.83%200%201.5.67%201.5%201.5s-.67%201.5-1.5%201.5c-.84%200-1.5-.67-1.5-1.5s.67-1.5%201.5-1.5Z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='mx-folder-cog'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20data-name='\u5716\u5c64%202'%3e%3cg%20data-name='\u5716\u5c64%201'%3e%3cpath%20d='M4%204a2%202%200%200%200-2%202v12a2%202%200%200%200%202%202h8.08a6.74%206.74%200%200%201-.08-1%207%207%200%200%201%2010-6.31V8a2%202%200%200%200-2-2h-8l-2-2H4m14%2010a.26.26%200%200%200-.26.21l-.19%201.32a5%205%200%200%200-.85.47l-1.24-.5c-.11%200-.24%200-.31.13l-1%201.73a.25.25%200%200%200%20.06.32l1.06.82a4.18%204.18%200%200%200%200%201l-1.06.82a.26.26%200%200%200-.06.32l1%201.73c.06.13.19.13.31.13l1.24-.5a4.11%204.11%200%200%200%20.85.47l.19%201.32A.25.25%200%200%200%2018%2024h2a.25.25%200%200%200%20.24-.21l.19-1.32a5.31%205.31%200%200%200%20.84-.47l1.23.5c.13%200%20.26%200%20.33-.13l1-1.73a.26.26%200%200%200-.06-.32l-1.07-.82a4.21%204.21%200%200%200%200-.5%202.81%202.81%200%200%200%200-.5l1.06-.82a.26.26%200%200%200%20.06-.32l-1-1.73c-.06-.13-.19-.13-.32-.13l-1.23.5a4.39%204.39%200%200%200-.85-.47l-.19-1.32A.24.24%200%200%200%2020%2014h-2m1%203.5a1.5%201.5%200%201%201-1.5%201.5%201.5%201.5%200%200%201%201.5-1.5Z'/%3e%3cpath%20d='M0%200h24v24H0Z'%20style='fill:none'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e%3csvg%20fill='none'%20viewBox='0%200%2024%2024'%20id='mx-form-textbox'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M17%207h5v10h-5v2a1%201%200%200%200%201%201h2v2h-2.5c-.55%200-1.5-.45-1.5-1%200%20.55-.95%201-1.5%201H12v-2h2a1%201%200%200%200%201-1V5a1%201%200%200%200-1-1h-2V2h2.5c.55%200%201.5.45%201.5%201%200-.55.95-1%201.5-1H20v2h-2a1%201%200%200%200-1%201v2ZM2%207h11v2H4v6h9v2H2V7Zm18%208V9h-3v6h3Z'%20fill='%23000'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='mx-forward'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill='none'%20d='M0%200h24v24H0z'/%3e%3cpath%20d='M12%200C5.4%200%200%205.4%200%2012s5.4%2012%2012%2012%2012-5.4%2012-12S18.6%200%2012%200Zm0%2023C5.936%2023%201%2018.064%201%2012S5.936%201%2012%201s11%204.936%2011%2011-4.936%2011-11%2011Z'/%3e%3cpath%20d='M12.565%209.783V7l5.565%205.565-5.565%205.565v-2.782H7V9.783z'/%3e%3c/svg%3e%3csvg%20fill='none'%20viewBox='0%200%2024%2024'%20id='mx-grid'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M4.25%207.913a2.884%202.884%200%200%201-1.375-.788A2.893%202.893%200%200%201%202%205c0-.833.292-1.542.875-2.125A2.893%202.893%200%200%201%205%202c.833%200%201.542.292%202.125.875.4.4.662.858.788%201.375h1.174c.126-.517.388-.975.788-1.375A2.893%202.893%200%200%201%2012%202c.833%200%201.542.292%202.125.875.4.4.662.858.788%201.375h1.174c.126-.517.388-.975.788-1.375A2.893%202.893%200%200%201%2019%202c.833%200%201.542.292%202.125.875S22%204.167%2022%205s-.292%201.542-.875%202.125c-.4.4-.858.662-1.375.788v1.174c.517.126.975.388%201.375.788.583.583.875%201.292.875%202.125s-.292%201.542-.875%202.125c-.4.4-.858.662-1.375.788v1.174c.517.126.975.388%201.375.788.583.583.875%201.292.875%202.125s-.292%201.542-.875%202.125A2.893%202.893%200%200%201%2019%2022a2.893%202.893%200%200%201-2.125-.875c-.4-.4-.662-.858-.788-1.375h-1.174a2.884%202.884%200%200%201-.788%201.375A2.893%202.893%200%200%201%2012%2022a2.893%202.893%200%200%201-2.125-.875c-.4-.4-.662-.858-.788-1.375H7.913a2.884%202.884%200%200%201-.788%201.375A2.893%202.893%200%200%201%205%2022a2.893%202.893%200%200%201-2.125-.875A2.893%202.893%200%200%201%202%2019c0-.833.292-1.542.875-2.125.4-.4.858-.662%201.375-.788v-1.174a2.884%202.884%200%200%201-1.375-.788A2.893%202.893%200%200%201%202%2012c0-.833.292-1.542.875-2.125.4-.4.858-.662%201.375-.788V7.913Zm12.625-.788c.4.4.858.662%201.375.788v1.174a2.885%202.885%200%200%200-1.375.788c-.4.4-.662.858-.788%201.375h-1.174a2.885%202.885%200%200%200-.788-1.375c-.4-.4-.858-.662-1.375-.788V7.913a2.885%202.885%200%200%200%201.375-.788c.4-.4.662-.858.788-1.375h1.174c.126.517.388.975.788%201.375Zm-5.625.788a2.885%202.885%200%200%201-1.375-.788c-.4-.4-.662-.858-.788-1.375H7.913a2.884%202.884%200%200%201-.788%201.375c-.4.4-.858.662-1.375.788v1.174c.517.126.975.388%201.375.788s.662.858.788%201.375h1.174c.126-.517.388-.975.788-1.375s.858-.662%201.375-.788V7.913Zm0%207a2.884%202.884%200%200%201-1.375-.788c-.4-.4-.662-.858-.788-1.375H7.913a2.884%202.884%200%200%201-.788%201.375c-.4.4-.858.662-1.375.788v1.174c.517.126.975.388%201.375.788s.662.858.788%201.375h1.174c.126-.517.388-.975.788-1.375s.858-.662%201.375-.788v-1.174Zm1.5%201.174c.517.126.975.388%201.375.788s.662.858.788%201.375h1.174c.126-.517.388-.975.788-1.375s.858-.662%201.375-.788v-1.174a2.884%202.884%200%200%201-1.375-.788c-.4-.4-.662-.858-.788-1.375h-1.174a2.884%202.884%200%200%201-.788%201.375c-.4.4-.858.662-1.375.788v1.174Z'%20fill='%23000'/%3e%3c/svg%3e%3csvg%20fill='none'%20viewBox='0%200%2024%2024'%20id='mx-horizontal-line'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M2.875%2014.125A2.893%202.893%200%200%200%205%2015c.833%200%201.542-.292%202.125-.875.4-.4.662-.858.788-1.375h1.174c.126.517.388.975.788%201.375A2.893%202.893%200%200%200%2012%2015c.833%200%201.542-.292%202.125-.875.4-.4.662-.858.788-1.375h1.174c.126.517.388.975.788%201.375A2.893%202.893%200%200%200%2019%2015c.833%200%201.542-.292%202.125-.875A2.893%202.893%200%200%200%2022%2012c0-.833-.292-1.542-.875-2.125A2.893%202.893%200%200%200%2019%209c-.833%200-1.542.292-2.125.875-.4.4-.662.858-.788%201.375h-1.174a2.885%202.885%200%200%200-.788-1.375A2.893%202.893%200%200%200%2012%209c-.833%200-1.542.292-2.125.875-.4.4-.662.858-.788%201.375H7.913a2.884%202.884%200%200%200-.788-1.375A2.893%202.893%200%200%200%205%209c-.833%200-1.542.292-2.125.875A2.893%202.893%200%200%200%202%2012c0%20.833.292%201.542.875%202.125Z'%20fill='%23000'/%3e%3c/svg%3e%3csvg%20fill='none'%20viewBox='0%200%2024%2024'%20id='mx-horizontal_align_center'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M22%2013h-4.2l1.6%201.6L18%2016l-4-4%204-4%201.4%201.4-1.6%201.6H22v2Zm-9%207h-2V4h2v16Zm-3-8-4%204-1.4-1.4L6.2%2013H2v-2h4.2L4.6%209.4%206%208l4%204Z'%20fill='%23000'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2020%2020'%20id='mx-https'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M13.75%2010c0-.567-.05-1.117-.117-1.667h2.817c.133.534.217%201.092.217%201.667%200%20.308-.025.608-.067.9a4.772%204.772%200%200%201%201.6.533c.083-.466.133-.941.133-1.433%200-4.583-3.75-8.333-8.333-8.333-4.608%200-8.333%203.75-8.333%208.333s3.75%208.333%208.333%208.333c.492%200%20.967-.05%201.433-.133-.383-.7-.6-1.508-.6-2.367%200-.241.025-.475.059-.708A12.367%2012.367%200%200%201%2010%2016.633c-.692-1-1.25-2.108-1.592-3.3h3.1a4.959%204.959%200%200%201%202.159-2c.05-.441.083-.883.083-1.333ZM10%203.358c.692%201%201.25%202.117%201.592%203.309H8.408A11.35%2011.35%200%200%201%2010%203.358Zm-6.45%208.309A6.868%206.868%200%200%201%203.333%2010c0-.575.084-1.133.217-1.667h2.817c-.067.55-.117%201.1-.117%201.667s.05%201.117.117%201.667H3.55Zm.683%201.666h2.434c.291%201.042.666%202.042%201.166%202.967a6.673%206.673%200%200%201-3.6-2.967Zm2.434-6.666H4.233a6.603%206.603%200%200%201%203.6-2.967c-.5.925-.875%201.925-1.166%202.967Zm5.283%205h-3.9c-.083-.55-.133-1.1-.133-1.667s.05-1.125.133-1.667h3.9c.075.542.133%201.1.133%201.667s-.058%201.117-.133%201.667Zm.208-7.967a6.656%206.656%200%200%201%203.609%202.967h-2.459a13.042%2013.042%200%200%200-1.15-2.967Z'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M17.396%2014.722h.312c.344%200%20.625.286.625.635v3.175c0%20.349-.28.635-.625.635h-3.75a.632.632%200%200%201-.625-.635v-3.175c0-.349.282-.635.625-.635h.313v-.635c0-.876.7-1.587%201.562-1.587.863%200%201.563.711%201.563%201.587v.635Zm-2.188%202.223c0%20.349.282.634.625.634a.632.632%200%200%200%20.625-.634.632.632%200%200%200-.625-.636.632.632%200%200%200-.625.636Zm-.343-2.858v.635h1.937v-.635a.977.977%200%200%200-.969-.984.977.977%200%200%200-.968.984Z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='mx-ip_network_outline'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M15%2019a1%201%200%200%200-1-1h-1v-2h4a2%202%200%200%200%202-2V4a2%202%200%200%200-2-2H7a2%202%200%200%200-2%202v10a2%202%200%200%200%202%202h4v2h-1a1%201%200%200%200-1%201H2v2h7a1%201%200%200%200%201%201h4a1%201%200%200%200%201-1h7v-2h-7m-8-5V4h10v10H7m3-9H8v8h2V5m4%200h-3v8h2v-2h1a2%202%200%200%200%202-2V7a2%202%200%200%200-2-2m0%204h-1V7h1v2Z'%20fill-rule='nonzero'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='mx-lan'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20data-name='\u5716\u5c64%202'%3e%3cg%20data-name='\u5716\u5c64%201'%3e%3cpath%20d='M0%200h24v24H0Z'%20style='fill:none'/%3e%3cpath%20d='M10%202a2%202%200%200%200-2%202v3a2%202%200%200%200%202%202h1v2H2v2h4v2H5a2%202%200%200%200-2%202v3a2%202%200%200%200%202%202h4a2%202%200%200%200%202-2v-3a2%202%200%200%200-2-2H8v-2h8v2h-1a2%202%200%200%200-2%202v3a2%202%200%200%200%202%202h4a2%202%200%200%200%202-2v-3a2%202%200%200%200-2-2h-1v-2h4v-2h-9V9h1a2%202%200%200%200%202-2V4a2%202%200%200%200-2-2Zm0%202h4v3h-4ZM5%2017h4v3H5Zm10%200h4v3h-4Z'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e%3csvg%20viewBox='0%200%2020%2020'%20id='mx-moxa_device_extension'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M16.389%2012.917V15h2.083v1.389H16.39v2.083H15V16.39h-2.083V15H15v-2.083h1.389Z'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M16.667%202.583%2016%203.25c-1-.917-2.25-1.417-3.5-1.417S10%202.333%209%203.25l-.667-.667A5.874%205.874%200%200%201%2012.5.833c1.5%200%203%20.584%204.167%201.75ZM12.5%202.75c1%200%202%20.417%202.75%201.167l-.667.666C14%204%2013.25%203.75%2012.5%203.75c-.75%200-1.5.25-2.083.833l-.667-.666c.75-.75%201.75-1.167%202.75-1.167Zm.833%206.417H15a1.667%201.667%200%200%201%201.667%201.666v.917a4.167%204.167%200%200%200-5%204.083H3.333a1.667%201.667%200%200%201-1.666-1.666v-3.334a1.667%201.667%200%200%201%201.666-1.666h8.334V5.833h1.666v3.334Zm-9.166%204.166h1.666v-1.666H4.167v1.666Zm2.916%200H8.75v-1.666H7.083v1.666Zm2.917%200h1.667v-1.666H10v1.666Z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2014%2014'%20id='mx-moxa_m'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20data-name='\u5716\u5c64%202'%3e%3cg%20data-name='\u5716\u5c64%201'%3e%3cpath%20d='M2.63%2010.55V5.72l3.44%204.83h1.84l3.47-4.86v4.86H14V3.44h-3.18l-3.83%205.4-3.84-5.4H0v7.11h2.63z'/%3e%3cpath%20style='fill:none'%20d='M0%200h14v14H0V0z'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='mx-package_update'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20data-name='\u5716\u5c64%202'%3e%3cg%20data-name='\u5716\u5c64%201'%3e%3cpath%20style='fill:none'%20d='M0%200h24v24H0z'/%3e%3cpath%20d='M15.06%2012.4a2.61%202.61%200%200%200%200-.4%201.75%201.75%200%200%200%200-.4l.87-.68a.22.22%200%200%200%20.06-.26l-.83-1.42a.2.2%200%200%200-.25-.1l-1%20.41a3.25%203.25%200%200%200-.7-.4L13%208.06a.21.21%200%200%200-.21-.17h-1.61a.19.19%200%200%200-.2.17l-.16%201.09a3.36%203.36%200%200%200-.69.4l-1-.41a.2.2%200%200%200-.25.1L8%2010.66a.2.2%200%200%200%20.05.26l.95.68a2.69%202.69%200%200%200%200%20.4%201.8%201.8%200%200%200%200%20.4l-.87.68a.22.22%200%200%200-.06.26l.83%201.42a.2.2%200%200%200%20.25.1l1-.41a3.25%203.25%200%200%200%20.7.4l.15%201.09a.21.21%200%200%200%20.21.17h1.64a.19.19%200%200%200%20.2-.17l.16-1.09a3%203%200%200%200%20.69-.4l1%20.41a.2.2%200%200%200%20.25-.1l.85-1.42a.2.2%200%200%200-.05-.26ZM12%2013.54A1.54%201.54%200%201%201%2013.54%2012%201.54%201.54%200%200%201%2012%2013.54Z'/%3e%3cpath%20d='M4%2012a8%208%200%200%201%202.62-5.88L9%208.5v-6H3l2.2%202.2A10%2010%200%200%200%2011%2022v-2a8%208%200%200%201-7-8Zm18%200a10%2010%200%200%200-9-9.95v2a8%208%200%200%201%204.38%2013.81L15%2015.5v6h6l-2.2-2.2A9.93%209.93%200%200%200%2022%2012Z'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20style='enable-background:new%200%200%2024%2024'%20xml:space='preserve'%20id='mx-remote_vpn'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%200h24v24H0V0z'%20style='fill:none'/%3e%3cpath%20d='M21.3%202.8H2.7c-.3%200-.6.3-.6.6v9.1c0%203.2%201.7%206.2%204.6%207.7l5.1%202.8c.1%200%20.2.1.3.1s.2%200%20.3-.1l5.1-2.8c2.8-1.6%204.6-4.5%204.6-7.7V3.4c-.2-.3-.4-.6-.8-.6zM9.4%209.6l-1.5%203.7c-.1.2-.3.4-.6.4s-.5-.1-.6-.4L5.2%209.6c-.1-.3.1-.6.4-.7.3-.1.7%200%20.8.3l1%202.4%201-2.4c.1-.3.5-.4.8-.3.2.1.3.4.2.7zm3.2%202.2h-1.5v1.3c0%20.3-.3.6-.6.6s-.6-.3-.6-.6V9.4c0-.3.3-.6.6-.6h2.1c.8%200%201.5.7%201.5%201.5%200%20.9-.7%201.5-1.5%201.5zm6.2%201.3c0%20.3-.2.5-.4.6h-.2c-.2%200-.3-.1-.5-.2l-2-2.4v2c0%20.3-.3.6-.6.6s-.6-.3-.6-.6V9.4c0-.3.2-.5.4-.6.2-.1.5%200%20.7.2l2%202.4v-2c0-.3.3-.6.6-.6s.6.3.6.6v3.7z'/%3e%3cpath%20d='M12.6%2010h-1.5v.7h1.5c.2%200%20.3-.1.3-.3%200-.3-.1-.4-.3-.4z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='mx-restart'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20data-name='\u5716\u5c64%202'%3e%3cg%20data-name='\u5716\u5c64%201'%3e%3cpath%20d='M0%200h24v24H0Z'%20style='fill:none'/%3e%3cpath%20d='M13%203a9%209%200%200%200-9%209H1l3.89%203.89L5%2016l4-4H6a7%207%200%201%201%202.06%204.94l-1.42%201.42A9%209%200%201%200%2013%203Z'/%3e%3cpath%20d='M11.5%209v6l5-3-5-3z'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e%3csvg%20fill='none'%20viewBox='0%200%2024%2024'%20id='mx-ring'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M2.375%2018.625A2.893%202.893%200%200%200%204.5%2019.5c.669%200%201.257-.188%201.765-.564a8.986%208.986%200%200%200%202.772%201.565c.096.62.375%201.161.838%201.624A2.893%202.893%200%200%200%2012%2023c.833%200%201.542-.292%202.125-.875a2.869%202.869%200%200%200%20.838-1.624%208.987%208.987%200%200%200%202.772-1.565c.508.376%201.096.564%201.765.564.833%200%201.542-.292%202.125-.875A2.893%202.893%200%200%200%2022.5%2016.5c0-.833-.292-1.542-.875-2.125a3.008%203.008%200%200%200-.804-.582%209.045%209.045%200%200%200%200-3.586c.29-.142.558-.336.804-.582A2.893%202.893%200%200%200%2022.5%207.5c0-.833-.292-1.542-.875-2.125A2.893%202.893%200%200%200%2019.5%204.5c-.669%200-1.257.188-1.765.564a8.986%208.986%200%200%200-2.772-1.565%202.869%202.869%200%200%200-.838-1.624A2.893%202.893%200%200%200%2012%201c-.833%200-1.542.292-2.125.875a2.869%202.869%200%200%200-.838%201.624%208.995%208.995%200%200%200-3.103%201.852A2.935%202.935%200%200%200%204.5%205c-.833%200-1.542.292-2.125.875A2.893%202.893%200%200%200%201.5%208c0%20.833.292%201.542.875%202.125.223.223.464.403.723.54a9.074%209.074%200%200%200%20.08%203.128c-.29.142-.557.336-.803.582A2.893%202.893%200%200%200%201.5%2016.5c0%20.833.292%201.542.875%202.125ZM9.192%205.09c-.787.32-1.507.77-2.133%201.324.294.466.441.995.441%201.586%200%20.833-.292%201.542-.875%202.125a2.882%202.882%200%200%201-2.015.873%207.524%207.524%200%200%200%20.085%202.507c.75.043%201.393.333%201.93.87.583.583.875%201.292.875%202.125%200%20.451-.085.866-.256%201.244a7.453%207.453%200%200%200%201.948%201.166c.146-.38.373-.725.683-1.035A2.893%202.893%200%200%201%2012%2017c.833%200%201.542.292%202.125.875.31.31.537.655.683%201.035a7.454%207.454%200%200%200%201.948-1.166A2.98%202.98%200%200%201%2016.5%2016.5c0-.833.292-1.542.875-2.125a2.876%202.876%200%200%201%201.93-.87%207.488%207.488%200%200%200%200-3.01%202.876%202.876%200%200%201-1.93-.87A2.893%202.893%200%200%201%2016.5%207.5c0-.451.085-.866.256-1.244a7.455%207.455%200%200%200-1.948-1.167%202.94%202.94%200%200%201-.683%201.036A2.893%202.893%200%200%201%2012%207a2.893%202.893%200%200%201-2.125-.875%202.941%202.941%200%200%201-.683-1.035Z'%20fill='%23000'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='mx-router_empty'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20data-name='\u5716\u5c64%202'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='m12.7%206.7.8.8a3.63%203.63%200%200%201%205%200l.8-.8a4.59%204.59%200%200%200-6.6%200zM19%2013h-2V9h-2v3.46l6%206V15a2%202%200%200%200-2-2z'/%3e%3cpath%20d='M16%204.2a6.25%206.25%200%200%201%204.2%201.7l.8-.8a7%207%200%200%200-10%200l.8.8A6.25%206.25%200%200%201%2016%204.2zm-14.11.24L10.46%2013H5a2%202%200%200%200-2%202v4a2%202%200%200%200%202%202h13.46l1.11%201.11%201.27-1.27L3.17%203.16zM8%2018H6v-2h2zm5-2h.46L15%2017.54V18h-2zm-1.5%202h-2v-2h2z'/%3e%3c/g%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='mx-safety_check'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12%201%203%204.3v6.699C3%2016.554%206.836%2021.735%2012%2023c5.164-1.265%209-6.446%209-12.001V4.3L12%201Zm0%2016.5c-3.105%200-5.625-2.464-5.625-5.5S8.895%206.5%2012%206.5s5.625%202.464%205.625%205.5-2.52%205.5-5.625%205.5Zm1.856-2.915-2.418-2.365V8.7h1.124v3.069l2.082%202.035-.788.781Z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='mx-scan_device'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M17%202v2h3v3h2V2h-5ZM18.29%207.14l.62-.62a5.4%205.4%200%200%200-7.69%200l.61.62a4.64%204.64%200%200%201%206.46%200Z'/%3e%3cpath%20d='M17.6%207.75a3.55%203.55%200%200%200-5.08%200l.62.62a2.79%202.79%200%200%201%203.85%200l.61-.62Z'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M17.37%2012.6h-1.54V9.52h-1.54v3.08H6.6a1.54%201.54%200%200%200-1.54%201.54v3.08a1.55%201.55%200%200%200%201.54%201.54h10.77a1.55%201.55%200%200%200%201.54-1.54v-3.08a1.54%201.54%200%200%200-1.54-1.54Zm-8.46%203.85H7.37v-1.54h1.54v1.54Zm2.69%200h-1.54v-1.54h1.54v1.54Zm2.69%200h-1.54v-1.54h1.54v1.54Z'/%3e%3cpath%20d='M17%2020h3v-3h2v5h-5v-2ZM4%2017H2v5h5v-2H4v-3ZM4%207H2V2h5v2H4v3Z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='mx-system-dashboard'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20data-name='\u5716\u5c64%202'%3e%3cg%20data-name='\u5716\u5c64%201'%3e%3cpath%20d='M0%200h24v24H0Z'%20style='fill:none'/%3e%3cpath%20d='m2%2012%2010-9%2010%209h-3v8H5v-8Zm13.27%204.77a.75.75%200%200%200%20.23-.55v-1.55a.79.79%200%200%200-.78-.78h-.78v-1.56h-.77v1.56H9.28a.79.79%200%200%200-.78.78v1.55a.79.79%200%200%200%20.78.78h5.44a.75.75%200%200%200%20.55-.23ZM12.86%2011a2%202%200%200%200-.59.41l.26.31a1.41%201.41%200%200%201%20.46-.3%201.65%201.65%200%200%201%20.54-.09%201.26%201.26%200%200%201%20.54.09%201.41%201.41%200%200%201%20.46.3l.31-.31a2%202%200%200%200-.59-.41%201.8%201.8%200%200%200-1.39%200Zm.7-.56a2.38%202.38%200%200%201%201.63.66l.36-.31a2.62%202.62%200%200%200-.89-.61%202.7%202.7%200%200%200-1.05-.18%202.66%202.66%200%200%200-1.08.2%202.77%202.77%200%200%200-.92.62l.31.31a2.38%202.38%200%200%201%201.64-.66Zm-3.89%204.62h.78v.78h-.78Zm2.72%200h.78v.78h-.78Zm-.58%200H11v.78h.78Z'%20style='fill-rule:evenodd'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e%3csvg%20viewBox='0%200%2020%2020'%20id='mx-tag-search'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='m17.842%209.65-7.5-7.5c-.3-.3-.717-.483-1.175-.483H3.333a1.66%201.66%200%200%200-1.666%201.666v5.834c0%20.458.183.875.491%201.175l7.492%207.5c.308.3.725.491%201.183.491.459%200%20.875-.191%201.175-.491l.35-.342c-2.691-.083-4.858-2.283-4.858-5%200-2.758%202.242-5%205-5%202.717%200%204.917%202.167%205%204.858l.342-.35c.308-.3.491-.716.491-1.175%200-.466-.191-.883-.491-1.183ZM4.583%205.833c-.691%200-1.25-.558-1.25-1.25%200-.691.559-1.25%201.25-1.25.692%200%201.25.559%201.25%201.25%200%20.692-.558%201.25-1.25%201.25Zm8.009%203.009a3.734%203.734%200%200%201%203.75%203.75c0%20.741-.209%201.425-.575%201.991l2.566%202.592-1.158%201.158-2.592-2.558a3.755%203.755%200%200%201-1.991.567%203.734%203.734%200%200%201-3.75-3.75%203.734%203.734%200%200%201%203.75-3.75Zm0%201.666a2.084%202.084%200%201%200%202.083%202.084%202.074%202.074%200%200%200-2.083-2.084Z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2014%2014'%20id='mx-verified_error'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='m7%20.583%205.25%202.334v3.5c0%203.237-2.24%206.265-5.25%207-3.01-.735-5.25-3.763-5.25-7v-3.5L7%20.583ZM9.01%204%206.918%206.094%204.822%204%204%204.822l2.094%202.095L4%209.01l.822.822L6.918%207.74%209.01%209.833l.822-.822L7.74%206.917l2.094-2.095L9.011%204Z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2014%2014'%20id='mx-verified_unknow'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M7%20.583%201.75%202.917v3.5c0%203.237%202.24%206.265%205.25%207%203.01-.735%205.25-3.763%205.25-7v-3.5L7%20.583Zm.583%2010.5H6.417V9.917h1.166v1.166Zm1.208-4.52-.525.536c-.42.426-.683.776-.683%201.651H6.417v-.292c0-.641.262-1.225.682-1.65l.723-.736a1.14%201.14%200%200%200%20.345-.822A1.17%201.17%200%200%200%207%204.083%201.17%201.17%200%200%200%205.833%205.25H4.667a2.333%202.333%200%201%201%204.666%200c0%20.513-.21.98-.542%201.313Z'/%3e%3c/svg%3e%3csvg%20fill='none'%20viewBox='0%200%2024%2024'%20id='mx-vertical-line'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M9.875%202.875A2.893%202.893%200%200%200%209%205c0%20.833.292%201.542.875%202.125.4.4.858.662%201.375.788v1.174a2.885%202.885%200%200%200-1.375.788A2.893%202.893%200%200%200%209%2012c0%20.833.292%201.542.875%202.125.4.4.858.662%201.375.788v1.174a2.884%202.884%200%200%200-1.375.788A2.893%202.893%200%200%200%209%2019c0%20.833.292%201.542.875%202.125A2.893%202.893%200%200%200%2012%2022c.833%200%201.542-.292%202.125-.875A2.893%202.893%200%200%200%2015%2019c0-.833-.292-1.542-.875-2.125-.4-.4-.858-.662-1.375-.788v-1.174a2.884%202.884%200%200%200%201.375-.788A2.893%202.893%200%200%200%2015%2012c0-.833-.292-1.542-.875-2.125-.4-.4-.858-.662-1.375-.788V7.913a2.885%202.885%200%200%200%201.375-.788A2.893%202.893%200%200%200%2015%205c0-.833-.292-1.542-.875-2.125A2.893%202.893%200%200%200%2012%202c-.833%200-1.542.292-2.125.875Z'%20fill='%23000'/%3e%3c/svg%3e%3csvg%20fill='none'%20viewBox='0%200%2024%2024'%20id='mx-vertical_align_center'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M11%2022v-4.2l-1.6%201.6L8%2018l4-4%204%204-1.4%201.4-1.6-1.6V22h-2Zm-7-9v-2h16v2H4Zm8-3L8%206l1.4-1.4L11%206.2V2h2v4.2l1.6-1.6L16%206l-4%204Z'%20fill='%23000'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='mx-wan'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12%202a8%208%200%200%200-8%208c0%204.03%203%207.42%207%207.93V19h-1a1%201%200%200%200-1%201H2v2h7a1%201%200%200%200%201%201h4a1%201%200%200%200%201-1h7v-2h-7a1%201%200%200%200-1-1h-1v-1.07c4-.5%207-3.9%207-7.93a8%208%200%200%200-8-8m0%202s.74%201.28%201.26%203h-2.52C11.26%205.28%2012%204%2012%204m-2.23.43c-.27.5-.68%201.41-1.03%202.57H6.81C7.5%205.84%208.5%204.93%209.77%204.43m4.46.01c1.27.5%202.27%201.4%202.96%202.56h-1.93c-.35-1.16-.76-2.07-1.03-2.56M6.09%209h2.23c-.04.33-.07.66-.07%201%200%20.34.03.67.07%201H6.09a5.551%205.551%200%200%201%200-2m4.23%200h3.36c.04.33.07.66.07%201%200%20.34-.03.67-.07%201h-3.36c-.04-.33-.07-.66-.07-1%200-.34.03-.67.07-1m5.36%200h2.23a5.551%205.551%200%200%201%200%202h-2.23c.04-.33.07-.66.07-1%200-.34-.03-.67-.07-1m-8.87%204h1.93c.35%201.16.76%202.07%201.03%202.56-1.27-.5-2.27-1.4-2.96-2.56m3.93%200h2.52c-.52%201.72-1.26%203-1.26%203s-.74-1.28-1.26-3m4.52%200h1.93c-.69%201.16-1.69%202.07-2.96%202.57.27-.5.68-1.41%201.03-2.57Z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='my_location'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M12%208c-2.21%200-4%201.79-4%204s1.79%204%204%204%204-1.79%204-4-1.79-4-4-4zm8.94%203A8.994%208.994%200%200%200%2013%203.06V1h-2v2.06A8.994%208.994%200%200%200%203.06%2011H1v2h2.06A8.994%208.994%200%200%200%2011%2020.94V23h2v-2.06A8.994%208.994%200%200%200%2020.94%2013H23v-2h-2.06zM12%2019c-3.87%200-7-3.13-7-7s3.13-7%207-7%207%203.13%207%207-3.13%207-7%207z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='navigate_before'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M15.41%207.41%2014%206l-6%206%206%206%201.41-1.41L10.83%2012z'/%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='navigate_next'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M10%206%208.59%207.41%2013.17%2012l-4.58%204.59L10%2018l6-6z'/%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='near_me'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%200h24v24H0V0z'%20fill='none'/%3e%3cpath%20d='M21%203%203%2010.53v.98l6.84%202.65L12.48%2021h.98L21%203z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='notifications'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12%2022c1.1%200%202-.9%202-2h-4a2%202%200%200%200%202%202zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5%201.5v.68C7.63%205.36%206%207.92%206%2011v5l-2%202v1h16v-1l-2-2z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='notifications_active'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M7.58%204.08%206.15%202.65C3.75%204.48%202.17%207.3%202.03%2010.5h2a8.445%208.445%200%200%201%203.55-6.42zm12.39%206.42h2c-.15-3.2-1.73-6.02-4.12-7.85l-1.42%201.43a8.495%208.495%200%200%201%203.54%206.42zM18%2011c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5%201.5v.68C7.63%205.36%206%207.92%206%2011v5l-2%202v1h16v-1l-2-2v-5zm-6%2011c.14%200%20.27-.01.4-.04.65-.14%201.18-.58%201.44-1.18.1-.24.15-.5.15-.78h-4c.01%201.1.9%202%202.01%202z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='notifications_none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12%2022c1.1%200%202-.9%202-2h-4c0%201.1.9%202%202%202Zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5%201.5v.68C7.64%205.36%206%207.92%206%2011v5l-2%202v1h16v-1l-2-2Zm-2%201H8v-6c0-2.48%201.51-4.5%204-4.5s4%202.02%204%204.5v6Z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='notifications_off'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M20%2018.69%207.84%206.14%205.27%203.49%204%204.76l2.8%202.8v.01c-.52.99-.8%202.16-.8%203.42v5l-2%202v1h13.73l2%202L21%2019.72l-1-1.03zM12%2022c1.11%200%202-.89%202-2h-4c0%201.11.89%202%202%202zm6-7.32V11c0-3.08-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5%201.5v.68c-.15.03-.29.08-.42.12-.1.03-.2.07-.3.11h-.01c-.01%200-.01%200-.02.01-.23.09-.46.2-.68.31%200%200-.01%200-.01.01L18%2014.68z'/%3e%3c/svg%3e%3csvg%20fill='none'%20viewBox='0%200%2048%2048'%20id='nport'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='m25.2%2021.868-.722-.214c.055-1.481-1.49-2.61-2.882-2.116a2.19%202.19%200%200%200-1.438%201.586l-.913%204.256h1.253l.438-2.044c.45.37%201.052.504%201.621.434.602-.075%201.182-.38%201.52-.893l.692.205a2.19%202.19%200%200%200%202.185%202.278h.001c2.873-.049%202.875-4.324%200-4.373h-.001c-.719%200-1.356.347-1.754.88Zm-2.91-1.22c1.265.024%201.263%201.903%200%201.926-1.267-.033-1.271-1.888%200-1.926Zm4.664%201.563c1.264.023%201.264%201.902%200%201.926-1.266-.024-1.262-1.904%200-1.926Z'%20fill='%23191C1C'/%3e%3cpath%20d='M15.023%2019.428h-.13l-.017.08-1.234%205.75-.025.122h1.378l.65-3.032%202.786%203.12.041-.193.948-4.418.306-1.429h-1.378l-.644%203.002-2.68-3.002Z'%20fill='%23191C1C'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M33.925%2020.765h-1.252l-.145.678c-.434.012-1.006.09-1.433.305a1.635%201.635%200%200%200-.487-.515l-.026-.018h-1.346l-.046.189c.25.13.445.38.556.686.112.306.137.661.058.992l-.212.988-.255%201.188-.028.122h1.254l.4-1.87c.067-.262.282-.458.56-.592.234-.112.5-.174.73-.194l.253-1.18-.366%201.706c-.16.61-.082%201.115.234%201.474.313.355.839.543%201.524.569l.084.003.26-1.217-.127.003-.081.002a4.49%204.49%200%200%201-.387.001c-.125-.008-.2-.03-.244-.065-.04-.03-.073-.085-.081-.201-.009-.119.01-.289.062-.531l.008-.034.114-.536h1.028l.274-1.277H33.78l.145-.676Z'%20fill='%23191C1C'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M11.9%204.8a2%202%200%200%200-2%202v31.84a2%202%200%200%200%202%202h4.4v1.56a1%201%200%200%200%201%201h1.84a1%201%200%200%200%201-1v-1.56h1.28v1.56a1%201%200%200%200%201%201h3.12a1%201%200%200%200%201-1v-1.56h1.28v1.56a1%201%200%200%200%201%201h1.84a1%201%200%200%200%201-1v-1.56h4.4a2%202%200%200%200%202-2V6.8a2%202%200%200%200-2-2H11.9Zm24.16%202H11.9v31.84h24.16V6.8Z'%20fill='%23191C1C'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='outlined-feedback'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%200h24v24H0V0z'%20fill='none'/%3e%3cpath%20d='M20%202H4c-1.1%200-1.99.9-1.99%202L2%2022l4-4h14c1.1%200%202-.9%202-2V4c0-1.1-.9-2-2-2zm0%2014H5.17l-.59.59-.58.58V4h16v12zm-9-4h2v2h-2zm0-6h2v4h-2z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='outlined-near_me'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%200h24v24H0V0z'%20fill='none'/%3e%3cpath%20d='m17.27%206.73-4.24%2010.13-1.32-3.42-.32-.83-.82-.32-3.43-1.33%2010.13-4.23M21%203%203%2010.53v.98l6.84%202.65L12.48%2021h.98L21%203z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='outlined-push_pin'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill='none'%20d='M0%200h24v24H0z'/%3e%3cpath%20d='M14%204v5c0%201.12.37%202.16%201%203H9c.65-.86%201-1.9%201-3V4h4m3-2H7c-.55%200-1%20.45-1%201s.45%201%201%201h1v5c0%201.66-1.34%203-3%203v2h5.97v7l1%201%201-1v-7H19v-2c-1.66%200-3-1.34-3-3V4h1c.55%200%201-.45%201-1s-.45-1-1-1z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='outlined-view_week'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill='none'%20d='M0%200h24v24H0z'/%3e%3cpath%20d='M20%204H4c-1.1%200-2%20.9-2%202v12c0%201.1.9%202%202%202h16c1.1%200%202-.9%202-2V6c0-1.1-.9-2-2-2zM8%2018H4V6h4v12zm6%200h-4V6h4v12zm6%200h-4V6h4v12z'/%3e%3c/svg%3e%3csvg%20fill='none'%20viewBox='0%200%2024%2024'%20id='pan_tool'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M23%205.5V20c0%202.2-1.8%204-4%204h-7.3c-1.08%200-2.1-.43-2.85-1.19L1%2014.83s1.26-1.23%201.3-1.25c.22-.19.49-.29.79-.29.22%200%20.42.06.6.16.04.01%204.31%202.46%204.31%202.46V4c0-.83.67-1.5%201.5-1.5S11%203.17%2011%204v7h1V1.5c0-.83.67-1.5%201.5-1.5S15%20.67%2015%201.5V11h1V2.5c0-.83.67-1.5%201.5-1.5s1.5.67%201.5%201.5V11h1V5.5c0-.83.67-1.5%201.5-1.5s1.5.67%201.5%201.5Z'%20fill='%23000'/%3e%3c/svg%3e%3csvg%20fill='none'%20viewBox='0%200%2024%2024'%20id='pan_tool-outline'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M18%2024h-6.55c-1.08%200-2.14-.45-2.89-1.23l-7.3-7.61%202.07-1.83c.62-.55%201.53-.66%202.26-.27L8%2014.34V4.79a2.5%202.5%200%200%201%203.01-2.45C11.1%201.04%2012.18.01%2013.5.01c.86%200%201.61.43%202.06%201.09.29-.12.61-.18.94-.18a2.5%202.5%200%200%201%202.5%202.5v.28a2.5%202.5%200%200%201%203%202.45V20c0%202.21-1.79%204-4%204ZM4.14%2015.28l5.86%206.1c.38.39.9.62%201.44.62H18c1.1%200%202-.9%202-2V6.15c0-.28-.22-.5-.5-.5s-.5.22-.5.5V12h-2V3.42c0-.28-.22-.5-.5-.5s-.5.22-.5.5V12h-2V2.51c0-.28-.22-.5-.5-.5s-.5.22-.5.5V12h-2V4.79c0-.28-.22-.5-.5-.5s-.5.23-.5.5v12.87l-5.35-2.83-.51.45Z'%20fill='%23000'/%3e%3c/svg%3e%3csvg%20viewBox='0%20-960%20960%20960'%20id='panorama_fish_eye'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M480-80q-83%200-156-31.5T197-197q-54-54-85.5-127T80-480q0-83%2031.5-156T197-763q54-54%20127-85.5T480-880q83%200%20156%2031.5T763-763q54%2054%2085.5%20127T880-480q0%2083-31.5%20156T763-197q-54%2054-127%2085.5T480-80Zm0-80q134%200%20227-93t93-227q0-134-93-227t-227-93q-134%200-227%2093t-93%20227q0%20134%2093%20227t227%2093Zm0-320Z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='pending_actions'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M17%2012c-2.76%200-5%202.24-5%205s2.24%205%205%205%205-2.24%205-5-2.24-5-5-5Zm1.65%207.35L16.5%2017.2V14h1v2.79l1.85%201.85-.7.71ZM18%203h-3.18C14.4%201.84%2013.3%201%2012%201c-1.3%200-2.4.84-2.82%202H6c-1.1%200-2%20.9-2%202v15c0%201.1.9%202%202%202h6.11a6.743%206.743%200%200%201-1.42-2H6V5h2v3h8V5h2v5.08c.71.1%201.38.31%202%20.6V5c0-1.1-.9-2-2-2Zm-6%202c-.55%200-1-.45-1-1s.45-1%201-1%201%20.45%201%201-.45%201-1%201Z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='person'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12%2012c2.21%200%204-1.79%204-4s-1.79-4-4-4-4%201.79-4%204%201.79%204%204%204zm0%202c-2.67%200-8%201.34-8%204v2h16v-2c0-2.66-5.33-4-8-4z'/%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='phone'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M6.62%2010.79c1.44%202.83%203.76%205.14%206.59%206.59l2.2-2.2c.27-.27.67-.36%201.02-.24%201.12.37%202.33.57%203.57.57.55%200%201%20.45%201%201V20c0%20.55-.45%201-1%201-9.39%200-17-7.61-17-17%200-.55.45-1%201-1h3.5c.55%200%201%20.45%201%201%200%201.25.2%202.45.57%203.57.11.35.03.74-.25%201.02l-2.2%202.2Z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='policy'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12%2015a3%203%200%201%200%200-6%203%203%200%200%200%200%206Z'/%3e%3cpath%20d='m21%205-9-4-9%204v6c0%205.55%203.84%2010.74%209%2012%202.3-.56%204.33-1.9%205.88-3.71l-3.12-3.12a4.994%204.994%200%200%201-6.29-.64%205.003%205.003%200%200%201%200-7.07%205.003%205.003%200%200%201%207.07%200%205.006%205.006%200%200%201%20.64%206.29l2.9%202.9C20.29%2015.69%2021%2013.38%2021%2011V5Z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='power_settings_new'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill='none'%20d='M0%200h24v24H0z'/%3e%3cpath%20d='M13%203h-2v10h2V3zm4.83%202.17-1.42%201.42A6.92%206.92%200%200%201%2019%2012c0%203.87-3.13%207-7%207A6.995%206.995%200%200%201%207.58%206.58L6.17%205.17A8.932%208.932%200%200%200%203%2012a9%209%200%200%200%2018%200c0-2.74-1.23-5.18-3.17-6.83z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='priority_high'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='12'%20cy='19'%20r='2'/%3e%3cpath%20d='M10%203h4v12h-4z'/%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='project_type_agt'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20data-name='\u5716\u5c64%202'%3e%3cg%20data-name='\u5716\u5c64%201'%3e%3cpath%20d='M0%200h24v24H0Z'%20style='fill:none'/%3e%3cpath%20d='M19%203H5a2%202%200%200%200-2%202v14a2%202%200%200%200%202%202h14a2%202%200%200%200%202-2V5a2%202%200%200%200-2-2Zm-.5%2010.74-2.35%202.16-3.45-.39v-1.09h3.14l.53-.63a4.57%204.57%200%200%200%20.35-1.79%204.41%204.41%200%200%200-.2-1.33%205.68%205.68%200%200%201-1.32.15%205.87%205.87%200%200%201-4.82-2.5%206%206%200%200%201-3.08%203.17%202.91%202.91%200%200%200%200%20.51%204.73%204.73%200%200%200%204.7%204.73%204.65%204.65%200%200%200%201.93-.42c.37.71.54%201.06.53%201.06a8.37%208.37%200%200%201-2.46.53%205.9%205.9%200%200%201-4.18-1.73%205.79%205.79%200%200%201-1.46-2.4H5.5v-2.95h.71a5.9%205.9%200%200%201%2010-3%205.82%205.82%200%200%201%201.61%203h.72ZM13%2012.59a.74.74%200%200%201%20.74-.74.74.74%200%200%201%200%201.48.74.74%200%200%201-.74-.74Zm-2.07%200a.76.76%200%200%201-.21.52.74.74%200%201%201%200-1%20.78.78%200%200%201%20.28.48Z'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='project_type_tpe'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20data-name='\u5716\u5c64%202'%3e%3cg%20data-name='\u5716\u5c64%201'%3e%3cpath%20d='M0%200h24v24H0Z'%20style='fill:none'/%3e%3cpath%20d='M10.02%2012.71H8.4v3.65h1.35v-2.48l1.77%202.48h.95l1.78-2.5v2.5h1.35v-3.65h-1.63l-1.98%202.77-1.97-2.77z'/%3e%3cpath%20d='M19%203H5a2%202%200%200%200-2%202v14a2%202%200%200%200%202%202h14a2%202%200%200%200%202-2V5a2%202%200%200%200-2-2Zm-1%209.6-1.1-.83v5.75H7.09v-5.75L6%2012.61l-.74-1L12%206.48l6.75%205.15Z'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='push_pin'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill='none'%20d='M0%200h24v24H0z'/%3e%3cpath%20d='M16%209V4h1c.55%200%201-.45%201-1s-.45-1-1-1H7c-.55%200-1%20.45-1%201s.45%201%201%201h1v5c0%201.66-1.34%203-3%203v2h5.97v7l1%201%201-1v-7H19v-2c-1.66%200-3-1.34-3-3z'%20fill-rule='evenodd'/%3e%3c/svg%3e%3csvg%20fill='none'%20viewBox='0%200%2024%2024'%20id='redo'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M18.4%2010.6C16.55%208.99%2014.15%208%2011.5%208c-4.65%200-8.58%203.03-9.96%207.22L3.9%2016a8.002%208.002%200%200%201%207.6-5.5c1.95%200%203.73.72%205.12%201.88L13%2016h9V7l-3.6%203.6Z'%20fill='%23000'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='redo_copy'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M18.4%2010.6C16.55%208.99%2014.15%208%2011.5%208c-4.65%200-8.58%203.03-9.96%207.22L3.9%2016a8.002%208.002%200%200%201%207.6-5.5c1.95%200%203.73.72%205.12%201.88L13%2016h9V7l-3.6%203.6Z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='refresh'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M17.65%206.35A7.958%207.958%200%200%200%2012%204c-4.42%200-7.99%203.58-7.99%208s3.57%208%207.99%208c3.73%200%206.84-2.55%207.73-6h-2.08A5.99%205.99%200%200%201%2012%2018c-3.31%200-6-2.69-6-6s2.69-6%206-6c1.66%200%203.14.69%204.22%201.78L13%2011h7V4l-2.35%202.35z'/%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3c/svg%3e%3csvg%20fill='none'%20viewBox='0%200%2024%2024'%20id='remove'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M19%2013H5v-2h14v2Z'%20fill='%23000'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='remove_circle'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M12%202C6.48%202%202%206.48%202%2012s4.48%2010%2010%2010%2010-4.48%2010-10S17.52%202%2012%202zm5%2011H7v-2h10v2z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='remove_copy'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M19%2013H5v-2h14v2Z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='restart_alt'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%200h24v24H0V0z'%20fill='none'/%3e%3cpath%20d='M12%205V2L8%206l4%204V7c3.31%200%206%202.69%206%206%200%202.97-2.17%205.43-5%205.91v2.02c3.95-.49%207-3.85%207-7.93%200-4.42-3.58-8-8-8zM6%2013c0-1.65.67-3.15%201.76-4.24L6.34%207.34A8.014%208.014%200%200%200%204%2013c0%204.08%203.05%207.44%207%207.93v-2.02c-2.83-.48-5-2.94-5-5.91z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='room_preferences'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M14%2011.26V6h3v4h2V4h-5V3H5v16H3v2h9.26A6.963%206.963%200%200%201%2011%2017c0-2.38%201.19-4.47%203-5.74ZM10%2011h2v2h-2v-2Zm11.69%205.37%201.14-1-1-1.73-1.45.49c-.32-.27-.68-.48-1.08-.63L19%2012h-2l-.3%201.49c-.4.15-.76.36-1.08.63l-1.45-.49-1%201.73%201.14%201c-.08.5-.08.76%200%201.26l-1.14%201%201%201.73%201.45-.49c.32.27.68.48%201.08.63L17%2022h2l.3-1.49c.4-.15.76-.36%201.08-.63l1.45.49%201-1.73-1.14-1c.08-.51.08-.77%200-1.27ZM18%2019c-1.1%200-2-.9-2-2s.9-2%202-2%202%20.9%202%202-.9%202-2%202Z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='router'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill='none'%20d='M0%200h24v24H0z'/%3e%3cpath%20d='m20.2%205.9.8-.8C19.6%203.7%2017.8%203%2016%203s-3.6.7-5%202.1l.8.8C13%204.8%2014.5%204.2%2016%204.2s3%20.6%204.2%201.7zm-.9.8c-.9-.9-2.1-1.4-3.3-1.4s-2.4.5-3.3%201.4l.8.8c.7-.7%201.6-1%202.5-1%20.9%200%201.8.3%202.5%201l.8-.8zM19%2013h-2V9h-2v4H5c-1.1%200-2%20.9-2%202v4c0%201.1.9%202%202%202h14c1.1%200%202-.9%202-2v-4c0-1.1-.9-2-2-2zM8%2018H6v-2h2v2zm3.5%200h-2v-2h2v2zm3.5%200h-2v-2h2v2z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='running_with_errors'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M22%2010v8h-2v-8h2Zm-2%2010v2h2v-2h-2Zm-2-2.71A7.99%207.99%200%200%201%2012%2020c-4.41%200-8-3.59-8-8s3.59-8%208-8v9l7.55-7.55A9.965%209.965%200%200%200%2012%202C6.48%202%202%206.48%202%2012s4.48%2010%2010%2010c2.25%200%204.33-.74%206-2v-2.71Z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='save'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M17%203H5a2%202%200%200%200-2%202v14a2%202%200%200%200%202%202h14c1.1%200%202-.9%202-2V7l-4-4zm-5%2016c-1.66%200-3-1.34-3-3s1.34-3%203-3%203%201.34%203%203-1.34%203-3%203zm3-10H5V5h10v4z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='schedule'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M11.99%202C6.47%202%202%206.48%202%2012s4.47%2010%209.99%2010C17.52%2022%2022%2017.52%2022%2012S17.52%202%2011.99%202zM12%2020c-4.42%200-8-3.58-8-8s3.58-8%208-8%208%203.58%208%208-3.58%208-8%208z'/%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M12.5%207H11v6l5.25%203.15.75-1.23-4.5-2.67z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='schedule_send'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M16.5%2012.5H15v4l3%202%20.75-1.23-2.25-1.52V12.5ZM16%209%202%203v7l9%202-9%202v7l7.27-3.11C10.09%2020.83%2012.79%2023%2016%2023c3.86%200%207-3.14%207-7s-3.14-7-7-7Zm0%2012c-2.75%200-4.98-2.22-5-4.97v-.07a5.008%205.008%200%200%201%205-4.97c2.76%200%205%202.24%205%205S18.76%2021%2016%2021Z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='search'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M15.5%2014h-.79l-.28-.27A6.471%206.471%200%200%200%2016%209.5%206.5%206.5%200%201%200%209.5%2016c1.61%200%203.09-.59%204.23-1.57l.27.28v.79l5%204.99L20.49%2019l-4.99-5zm-6%200C7.01%2014%205%2011.99%205%209.5S7.01%205%209.5%205%2014%207.01%2014%209.5%2011.99%2014%209.5%2014z'/%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='security'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12%201%203%205v6c0%205.55%203.84%2010.74%209%2012%205.16-1.26%209-6.45%209-12V5l-9-4zm0%2010.99h7c-.53%204.12-3.28%207.79-7%208.94V12H5V6.3l7-3.11v8.8z'/%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='send'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M2.01%2021%2023%2012%202.01%203%202%2010l15%202-15%202z'/%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='settings'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%200h24v24H0V0z'%20fill='none'/%3e%3cpath%20d='M19.14%2012.94c.04-.3.06-.61.06-.94%200-.32-.02-.64-.07-.94l2.03-1.58a.49.49%200%200%200%20.12-.61l-1.92-3.32a.488.488%200%200%200-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54a.484.484%200%200%200-.48-.41h-3.84c-.24%200-.43.17-.47.41l-.36%202.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47%200-.59.22L2.74%208.87c-.12.21-.08.47.12.61l2.03%201.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03%201.58a.49.49%200%200%200-.12.61l1.92%203.32c.12.22.37.29.59.22l2.39-.96c.5.38%201.03.7%201.62.94l.36%202.54c.05.24.24.41.48.41h3.84c.24%200%20.44-.17.47-.41l.36-2.54c.59-.24%201.13-.56%201.62-.94l2.39.96c.22.08.47%200%20.59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12%2015.6c-1.98%200-3.6-1.62-3.6-3.6s1.62-3.6%203.6-3.6%203.6%201.62%203.6%203.6-1.62%203.6-3.6%203.6z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='settings_applications'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M12%2010c-1.1%200-2%20.9-2%202s.9%202%202%202%202-.9%202-2-.9-2-2-2zm7-7H5a2%202%200%200%200-2%202v14a2%202%200%200%200%202%202h14a2%202%200%200%200%202-2V5a2%202%200%200%200-2-2zm-1.75%209c0%20.23-.02.46-.05.68l1.48%201.16c.13.11.17.3.08.45l-1.4%202.42c-.09.15-.27.21-.43.15l-1.74-.7c-.36.28-.76.51-1.18.69l-.26%201.85c-.03.17-.18.3-.35.3h-2.8c-.17%200-.32-.13-.35-.29l-.26-1.85c-.43-.18-.82-.41-1.18-.69l-1.74.7c-.16.06-.34%200-.43-.15l-1.4-2.42a.353.353%200%200%201%20.08-.45l1.48-1.16c-.03-.23-.05-.46-.05-.69%200-.23.02-.46.05-.68l-1.48-1.16a.353.353%200%200%201-.08-.45l1.4-2.42c.09-.15.27-.21.43-.15l1.74.7c.36-.28.76-.51%201.18-.69l.26-1.85c.03-.17.18-.3.35-.3h2.8c.17%200%20.32.13.35.29l.26%201.85c.43.18.82.41%201.18.69l1.74-.7c.16-.06.34%200%20.43.15l1.4%202.42c.09.15.05.34-.08.45l-1.48%201.16c.03.23.05.46.05.69z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='settings_ethernet'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M7.77%206.76%206.23%205.48.82%2012l5.41%206.52%201.54-1.28L3.42%2012l4.35-5.24zM7%2013h2v-2H7v2zm10-2h-2v2h2v-2zm-6%202h2v-2h-2v2zm6.77-7.52-1.54%201.28L20.58%2012l-4.35%205.24%201.54%201.28L23.18%2012l-5.41-6.52z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='settings_input_component'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M5%202c0-.55-.45-1-1-1s-1%20.45-1%201v4H1v6h6V6H5V2zm4%2014c0%201.3.84%202.4%202%202.82V23h2v-4.18c1.16-.41%202-1.51%202-2.82v-2H9v2zm-8%200c0%201.3.84%202.4%202%202.82V23h2v-4.18C6.16%2018.4%207%2017.3%207%2016v-2H1v2zM21%206V2c0-.55-.45-1-1-1s-1%20.45-1%201v4h-2v6h6V6h-2zm-8-4c0-.55-.45-1-1-1s-1%20.45-1%201v4H9v6h6V6h-2V2zm4%2014c0%201.3.84%202.4%202%202.82V23h2v-4.18c1.16-.41%202-1.51%202-2.82v-2h-6v2z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='settings_power'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M7%2024h2v-2H7v2Zm4%200h2v-2h-2v2Zm2-22h-2v10h2V2Zm3.56%202.44-1.45%201.45A5.969%205.969%200%200%201%2018%2011c0%203.31-2.69%206-6%206s-6-2.69-6-6c0-2.17%201.16-4.06%202.88-5.12L7.44%204.44A7.961%207.961%200%200%200%204%2011c0%204.42%203.58%208%208%208s8-3.58%208-8c0-2.72-1.36-5.12-3.44-6.56ZM15%2024h2v-2h-2v2Z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='settings_remote'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M15%209H9c-.55%200-1%20.45-1%201v12c0%20.55.45%201%201%201h6c.55%200%201-.45%201-1V10c0-.55-.45-1-1-1zm-3%206c-1.1%200-2-.9-2-2s.9-2%202-2%202%20.9%202%202-.9%202-2%202zM7.05%206.05l1.41%201.41a5.022%205.022%200%200%201%207.08%200l1.41-1.41C15.68%204.78%2013.93%204%2012%204s-3.68.78-4.95%202.05zM12%200C8.96%200%206.21%201.23%204.22%203.22l1.41%201.41C7.26%203.01%209.51%202%2012%202s4.74%201.01%206.36%202.64l1.41-1.41C17.79%201.23%2015.04%200%2012%200z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='settings_suggest'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M17.41%206.59%2015%205.5l2.41-1.09L18.5%202l1.09%202.41L22%205.5l-2.41%201.09L18.5%209l-1.09-2.41Zm3.87%206.13L20.5%2011l-.78%201.72-1.72.78%201.72.78.78%201.72.78-1.72L23%2013.5l-1.72-.78Zm-5.04%201.65%201.94%201.47-2.5%204.33-2.24-.94c-.2.13-.42.26-.64.37l-.3%202.4h-5l-.3-2.41c-.22-.11-.43-.23-.64-.37l-2.24.94-2.5-4.33%201.94-1.47c-.01-.11-.01-.24-.01-.36s0-.25.01-.37l-1.94-1.47%202.5-4.33%202.24.94c.2-.13.42-.26.64-.37L7.5%206h5l.3%202.41c.22.11.43.23.64.37l2.24-.94%202.5%204.33-1.94%201.47c.01.12.01.24.01.37s0%20.24-.01.36ZM13%2014c0-1.66-1.34-3-3-3s-3%201.34-3%203%201.34%203%203%203%203-1.34%203-3Z'/%3e%3c/svg%3e%3csvg%20fill='none'%20viewBox='0%200%2024%2024'%20id='shape_line_outline'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M6%2011c2.76%200%205-2.24%205-5S8.76%201%206%201%201%203.24%201%206s2.24%205%205%205Zm0-8c1.65%200%203%201.35%203%203S7.65%209%206%209%203%207.65%203%206s1.35-3%203-3ZM21%2014h-5c-1.1%200-2%20.9-2%202v5c0%201.1.9%202%202%202h5c1.1%200%202-.9%202-2v-5c0-1.1-.9-2-2-2Zm0%207h-5v-5h5v5Z'%20fill='%23000'/%3e%3cpath%20d='M19%208c-.46%200-.89-.11-1.29-.3L7.7%2017.71c.19.4.3.83.3%201.29%200%201.65-1.35%203-3%203s-3-1.35-3-3%201.35-3%203-3c.46%200%20.89.11%201.29.3L16.3%206.29c-.19-.4-.3-.83-.3-1.29%200-1.65%201.35-3%203-3s3%201.35%203%203-1.35%203-3%203Z'%20fill='%23000'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='signal_cellular_alt'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M17%204h3v16h-3zM5%2014h3v6H5zm6-5h3v11h-3z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='signal_cellular_alt_1_bar'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M5%2014h3v6H5v-6Z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='signal_cellular_alt_2_bar'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M5%2014h3v6H5v-6Zm6-5h3v11h-3V9Z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='sms'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M20%202H4c-1.1%200-1.99.9-1.99%202L2%2022l4-4h14c1.1%200%202-.9%202-2V4c0-1.1-.9-2-2-2zM9%2011H7V9h2v2zm4%200h-2V9h2v2zm4%200h-2V9h2v2z'/%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='star'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M12%2017.27%2018.18%2021l-1.64-7.03L22%209.24l-7.19-.61L12%202%209.19%208.63%202%209.24l5.46%204.73L5.82%2021z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='star_border'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='m22%209.24-7.19-.62L12%202%209.19%208.63%202%209.24l5.46%204.73L5.82%2021%2012%2017.27%2018.18%2021l-1.63-7.03L22%209.24zM12%2015.4l-3.76%202.27%201-4.28-3.32-2.88%204.38-.38L12%206.1l1.71%204.04%204.38.38-3.32%202.88%201%204.28L12%2015.4z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='storage'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M2%2020h20v-4H2v4zm2-3h2v2H4v-2zM2%204v4h20V4H2zm4%203H4V5h2v2zm-4%207h20v-4H2v4zm2-3h2v2H4v-2z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='style'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20data-name='\u5716\u5c64%202'%3e%3cg%20data-name='\u5716\u5c64%201'%3e%3cpath%20d='M0%200h24v24H0Z'%20style='fill:none'/%3e%3cpath%20d='m17.91%206%204.14%2010.14a1.69%201.69%200%200%201%20.11.67%201.72%201.72%200%200%201-.15.67%201.76%201.76%200%200%201-.93.93l-7.85%203.29a1.72%201.72%200%200%201-1.31%200%201.73%201.73%200%200%201-.92-.92L6.9%2010.65a1.71%201.71%200%200%201%200-1.33l2.31-5.58a1.73%201.73%200%200%201%202.24-.94L17%205.09a1.72%201.72%200%200%201%20.91.91ZM12%207.26a1.29%201.29%200%200%200%20.69-.69%201.33%201.33%200%200%200%200-1A1.26%201.26%200%200%200%2011%204.88a1.28%201.28%200%200%200-.71.7%201.31%201.31%200%200%200%200%201%201.25%201.25%200%200%200%201.71.68ZM2.53%2019.65l1.34.56v-9L1.44%2017a1.91%201.91%200%200%200-.16.78%201.78%201.78%200%200%200%20.15.78%201.92%201.92%200%200%200%20.44.65%202%202%200%200%200%20.66.44Zm3.35.1a2%202%200%200%200%202%202h1.45l-3.45-8.34Z'%20style='fill-rule:evenodd'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='sync_alt'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill='none'%20d='M0%200h24v24H0z'/%3e%3cpath%20d='m22%208-4-4v3H3v2h15v3l4-4zM2%2016l4%204v-3h15v-2H6v-3l-4%204z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='sync_disabled'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M10%206.35V4.26c-.8.21-1.55.54-2.23.96l1.46%201.46c.25-.12.5-.24.77-.33Zm-7.14-.94%202.36%202.36a7.925%207.925%200%200%200%201.14%209.87L4%2020h6v-6l-2.24%202.24A6.003%206.003%200%200%201%206%2012c0-1%20.25-1.94.68-2.77l8.08%208.08c-.25.13-.5.25-.77.34v2.09c.8-.21%201.55-.54%202.23-.96l2.36%202.36%201.27-1.27L4.14%204.14%202.86%205.41ZM20%204h-6v6l2.24-2.24A6.003%206.003%200%200%201%2018%2012c0%201-.25%201.94-.68%202.77l1.46%201.46a7.925%207.925%200%200%200-1.14-9.87L20%204Z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='sync_problem'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M3%2012c0%202.21.91%204.2%202.36%205.64L3%2020h6v-6l-2.24%202.24A6.003%206.003%200%200%201%205%2012a5.99%205.99%200%200%201%204-5.65V4.26C5.55%205.15%203%208.27%203%2012Zm8%205h2v-2h-2v2ZM21%204h-6v6l2.24-2.24A6.003%206.003%200%200%201%2019%2012a5.99%205.99%200%200%201-4%205.65v2.09c3.45-.89%206-4.01%206-7.74%200-2.21-.91-4.2-2.36-5.64L21%204Zm-10%209h2V7h-2v6Z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='task_alt'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill='none'%20d='M0%200h24v24H0z'/%3e%3cpath%20d='M22%205.18%2010.59%2016.6l-4.24-4.24%201.41-1.41%202.83%202.83%2010-10L22%205.18zm-2.21%205.04c.13.57.21%201.17.21%201.78%200%204.42-3.58%208-8%208s-8-3.58-8-8%203.58-8%208-8c1.58%200%203.04.46%204.28%201.25l1.44-1.44A9.9%209.9%200%200%200%2012%202C6.48%202%202%206.48%202%2012s4.48%2010%2010%2010%2010-4.48%2010-10c0-1.19-.22-2.33-.6-3.39l-1.61%201.61z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='terminal'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill='none'%20d='M0%200h24v24H0z'/%3e%3cpath%20d='M20%204H4a2%202%200%200%200-2%202v12a2%202%200%200%200%202%202h16c1.1%200%202-.9%202-2V6a2%202%200%200%200-2-2zm0%2014H4V8h16v10zm-2-1h-6v-2h6v2zM7.5%2017l-1.41-1.41L8.67%2013l-2.59-2.59L7.5%209l4%204-4%204z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='today'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M19%203h-1V1h-2v2H8V1H6v2H5c-1.11%200-1.99.9-1.99%202L3%2019a2%202%200%200%200%202%202h14c1.1%200%202-.9%202-2V5c0-1.1-.9-2-2-2zm0%2016H5V8h14v11zM7%2010h5v5H7z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='troubleshoot'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='m22%2020.59-4.69-4.69A7.902%207.902%200%200%200%2019%2011c0-4.42-3.58-8-8-8-4.08%200-7.44%203.05-7.93%207h2.02C5.57%207.17%208.03%205%2011%205c3.31%200%206%202.69%206%206s-2.69%206-6%206c-2.42%200-4.5-1.44-5.45-3.5H3.4C4.45%2016.69%207.46%2019%2011%2019c1.85%200%203.55-.63%204.9-1.69L20.59%2022%2022%2020.59Z'/%3e%3cpath%20d='M8.43%209.69%209.65%2015h1.64l1.26-3.78.95%202.28h2V12h-1l-1.25-3h-1.54l-1.12%203.37L9.35%207H7.7l-1.25%204H1v1.5h6.55l.88-2.81Z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='tune'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M3%2017v2h6v-2H3ZM3%205v2h10V5H3Zm10%2016v-2h8v-2h-8v-2h-2v6h2ZM7%209v2H3v2h4v2h2V9H7Zm14%204v-2H11v2h10Zm-6-4h2V7h4V5h-4V3h-2v6Z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='unarchive'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill='none'%20d='M0%200h24v24H0z'/%3e%3cpath%20d='m20.55%205.22-1.39-1.68A1.51%201.51%200%200%200%2018%203H6c-.47%200-.88.21-1.15.55L3.46%205.22C3.17%205.57%203%206.01%203%206.5V19a2%202%200%200%200%202%202h14c1.1%200%202-.9%202-2V6.5c0-.49-.17-.93-.45-1.28zM12%209.5l5.5%205.5H14v2h-4v-2H6.5L12%209.5zM5.12%205l.82-1h12l.93%201H5.12z'/%3e%3c/svg%3e%3csvg%20fill='none'%20viewBox='0%200%2024%2024'%20id='undo'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12.5%208c-2.65%200-5.05.99-6.9%202.6L2%207v9h9l-3.62-3.62c1.39-1.16%203.16-1.88%205.12-1.88%203.54%200%206.55%202.31%207.6%205.5l2.37-.78C21.08%2011.03%2017.15%208%2012.5%208Z'%20fill='%23000'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='undo_copy'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12.5%208c-2.65%200-5.05.99-6.9%202.6L2%207v9h9l-3.62-3.62c1.39-1.16%203.16-1.88%205.12-1.88%203.54%200%206.55%202.31%207.6%205.5l2.37-.78C21.08%2011.03%2017.15%208%2012.5%208Z'/%3e%3c/svg%3e%3csvg%20fill='none'%20viewBox='0%200%2024%2024'%20id='unfold-less'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M7.41%2018.59%208.83%2020%2012%2016.83%2015.17%2020l1.41-1.41L12%2014l-4.59%204.59Zm9.18-13.18L15.17%204%2012%207.17%208.83%204%207.41%205.41%2012%2010l4.59-4.59Z'%20fill='%23000'/%3e%3c/svg%3e%3csvg%20fill='none'%20viewBox='0%200%2024%2024'%20id='unfold-more'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12%205.83%2015.17%209l1.41-1.41L12%203%207.41%207.59%208.83%209%2012%205.83Zm0%2012.34L8.83%2015l-1.41%201.41L12%2021l4.59-4.59L15.17%2015%2012%2018.17Z'%20fill='%23000'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='update'%20xmlns='http://www.w3.org/2000/svg'%3e%3cdefs%3e%3cpath%20id='ina'%20d='M0%200h24v24H0V0z'/%3e%3c/defs%3e%3cclipPath%20id='inb'%3e%3cuse%20xlink:href='%23ina'%20overflow='visible'/%3e%3c/clipPath%3e%3cpath%20clip-path='url(%23inb)'%20d='M21%2010.12h-6.78l2.74-2.82c-2.73-2.7-7.15-2.8-9.88-.1a6.875%206.875%200%200%200%200%209.79%207.02%207.02%200%200%200%209.88%200C18.32%2015.65%2019%2014.08%2019%2012.1h2c0%201.98-.88%204.55-2.64%206.29-3.51%203.48-9.21%203.48-12.72%200-3.5-3.47-3.53-9.11-.02-12.58a8.987%208.987%200%200%201%2012.65%200L21%203v7.12zM12.5%208v4.25l3.5%202.08-.72%201.21L11%2013V8h1.5z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='upgrade'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill='none'%20d='M0%200h24v24H0z'/%3e%3cpath%20d='M16%2018v2H8v-2h8zM11%207.99V16h2V7.99h3L12%204%208%207.99h3z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='upload'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M5%2020h14v-2H5v2Zm0-10h4v6h6v-6h4l-7-7-7%207Z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='verified_user'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M12%201%203%205v6c0%205.55%203.84%2010.74%209%2012%205.16-1.26%209-6.45%209-12V5l-9-4zm-2%2016-4-4%201.41-1.41L10%2014.17l6.59-6.59L18%209l-8%208z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='visibility'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M12%204.5C7%204.5%202.73%207.61%201%2012c1.73%204.39%206%207.5%2011%207.5s9.27-3.11%2011-7.5c-1.73-4.39-6-7.5-11-7.5zM12%2017c-2.76%200-5-2.24-5-5s2.24-5%205-5%205%202.24%205%205-2.24%205-5%205zm0-8c-1.66%200-3%201.34-3%203s1.34%203%203%203%203-1.34%203-3-1.34-3-3-3z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='visibility_off'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%200h24v24H0zm0%200h24v24H0zm0%200h24v24H0zm0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M12%207c2.76%200%205%202.24%205%205%200%20.65-.13%201.26-.36%201.83l2.92%202.92c1.51-1.26%202.7-2.89%203.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4%200-2.74.25-3.98.7l2.16%202.16C10.74%207.13%2011.35%207%2012%207zM2%204.27l2.28%202.28.46.46A11.804%2011.804%200%200%200%201%2012c1.73%204.39%206%207.5%2011%207.5%201.55%200%203.03-.3%204.38-.84l.42.42L19.73%2022%2021%2020.73%203.27%203%202%204.27zM7.53%209.8l1.55%201.55c-.05.21-.08.43-.08.65%200%201.66%201.34%203%203%203%20.22%200%20.44-.03.65-.08l1.55%201.55c-.67.33-1.41.53-2.2.53-2.76%200-5-2.24-5-5%200-.79.2-1.53.53-2.2zm4.31-.78%203.15%203.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='vpn_key'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M12.65%2010A5.99%205.99%200%200%200%207%206c-3.31%200-6%202.69-6%206s2.69%206%206%206a5.99%205.99%200%200%200%205.65-4H17v4h4v-4h2v-4H12.65zM7%2014c-1.1%200-2-.9-2-2s.9-2%202-2%202%20.9%202%202-.9%202-2%202z'/%3e%3c/svg%3e%3csvg%20fill='none'%20viewBox='0%200%2024%2024'%20id='wallpaper'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M4%204h7V2H4c-1.1%200-2%20.9-2%202v7h2V4Zm6%209-4%205h12l-3-4-2.03%202.71L10%2013Zm7-4.5c0-.83-.67-1.5-1.5-1.5S14%207.67%2014%208.5s.67%201.5%201.5%201.5S17%209.33%2017%208.5ZM20%202h-7v2h7v7h2V4c0-1.1-.9-2-2-2Zm0%2018h-7v2h7c1.1%200%202-.9%202-2v-7h-2v7ZM4%2013H2v7c0%201.1.9%202%202%202h7v-2H4v-7Z'%20fill='%23000'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2016%2016'%20id='warning'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M.667%2014h14.666L8%201.333.667%2014Zm8-2H7.333v-1.333h1.334V12Zm0-2.667H7.333V6.667h1.334v2.666Z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='warning_copy'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M1%2021h22L12%202%201%2021zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='widgets'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M13%2013v8h8v-8h-8zM3%2021h8v-8H3v8zM3%203v8h8V3H3zm13.66-1.31L11%207.34%2016.66%2013l5.66-5.66-5.66-5.65z'/%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='wifi'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill='none'%20d='M0%200h24v24H0z'/%3e%3cpath%20d='m1%209%202%202c4.97-4.97%2013.03-4.97%2018%200l2-2C16.93%202.93%207.08%202.93%201%209zm8%208%203%203%203-3a4.237%204.237%200%200%200-6%200zm-4-4%202%202a7.074%207.074%200%200%201%2010%200l2-2C15.14%209.14%208.87%209.14%205%2013z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='wifi_1_bar'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M15.53%2017.46%2012%2021l-3.53-3.54c.9-.9%202.15-1.46%203.53-1.46s2.63.56%203.53%201.46Z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='wifi_2_bar'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12%2010c3.03%200%205.78%201.23%207.76%203.22l-2.12%202.12A7.967%207.967%200%200%200%2012%2013c-2.2%200-4.2.9-5.64%202.35l-2.12-2.12C6.22%2011.23%208.97%2010%2012%2010Zm0%206c-1.38%200-2.63.56-3.53%201.46L12%2021l3.53-3.54A4.98%204.98%200%200%200%2012%2016Z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='wifi_medium_darkTheme'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20fill='none'%20fill-rule='evenodd'%3e%3cpath%20d='M0%200h24v24H0z'/%3e%3cpath%20d='m1%209%202%202c4.97-4.97%2013.03-4.97%2018%200l2-2C16.93%202.93%207.08%202.93%201%209Z'%20fill-opacity='.3'%20fill='%23FFF'%20fill-rule='nonzero'/%3e%3cpath%20d='m9%2017%203%203%203-3a4.237%204.237%200%200%200-6%200ZM5%2013l2%202a7.074%207.074%200%200%201%2010%200l2-2C15.14%209.14%208.87%209.14%205%2013Z'%20fill-opacity='.8'%20fill='%23FFF'%20fill-rule='nonzero'/%3e%3c/g%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='wifi_medium_lightTheme'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20fill='none'%20fill-rule='evenodd'%3e%3cpath%20d='M0%200h24v24H0z'/%3e%3cpath%20d='m1%209%202%202c4.97-4.97%2013.03-4.97%2018%200l2-2C16.93%202.93%207.08%202.93%201%209Z'%20fill-opacity='.1'%20fill='%23000'%20fill-rule='nonzero'/%3e%3cpath%20d='m9%2017%203%203%203-3a4.237%204.237%200%200%200-6%200ZM5%2013l2%202a7.074%207.074%200%200%201%2010%200l2-2C15.14%209.14%208.87%209.14%205%2013Z'%20fill-opacity='.6'%20fill='%23000'%20fill-rule='nonzero'/%3e%3c/g%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='wifi_off'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill='none'%20d='M24%20.01c0-.01%200-.01%200%200L0%200v24h24V.01zM0%200h24v24H0V0zm0%200h24v24H0V0z'/%3e%3cpath%20d='M22.99%209C19.15%205.16%2013.8%203.76%208.84%204.78l2.52%202.52c3.47-.17%206.99%201.05%209.63%203.7l2-2zm-4%204a9.793%209.793%200%200%200-4.49-2.56l3.53%203.53.96-.97zM2%203.05%205.07%206.1C3.6%206.82%202.22%207.78%201%209l1.99%202c1.24-1.24%202.67-2.16%204.2-2.77l2.24%202.24A9.684%209.684%200%200%200%205%2013v.01L6.99%2015a7.042%207.042%200%200%201%204.92-2.06L18.98%2020l1.27-1.26L3.29%201.79%202%203.05zM9%2017l3%203%203-3a4.237%204.237%200%200%200-6%200z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='wifi_strength_darkTheme'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20fill='none'%20fill-rule='evenodd'%3e%3cpath%20d='M0%200h24v24H0z'/%3e%3cpath%20d='m1%209%202%202c4.97-4.97%2013.03-4.97%2018%200l2-2C16.93%202.93%207.08%202.93%201%209ZM9%2017l3%203%203-3a4.237%204.237%200%200%200-6%200Z'%20fill-opacity='.8'%20fill='%23FFF'%20fill-rule='nonzero'/%3e%3cpath%20d='m5%2013%202%202a7.074%207.074%200%200%201%2010%200l2-2C15.14%209.14%208.87%209.14%205%2013Z'%20fill-opacity='.8'%20fill='%23FFF'%20fill-rule='nonzero'/%3e%3c/g%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='wifi_strength_lightTheme'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20fill='none'%20fill-rule='evenodd'%3e%3cpath%20d='M0%200h24v24H0z'/%3e%3cpath%20d='m1%209%202%202c4.97-4.97%2013.03-4.97%2018%200l2-2C16.93%202.93%207.08%202.93%201%209ZM9%2017l3%203%203-3a4.237%204.237%200%200%200-6%200Z'%20fill-opacity='.6'%20fill='%23000'%20fill-rule='nonzero'/%3e%3cpath%20d='m5%2013%202%202a7.074%207.074%200%200%201%2010%200l2-2C15.14%209.14%208.87%209.14%205%2013Z'%20fill-opacity='.6'%20fill='%23000'%20fill-rule='nonzero'/%3e%3c/g%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='wifi_weak_darkTheme'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20fill='none'%20fill-rule='evenodd'%3e%3cpath%20d='M0%200h24v24H0z'/%3e%3cpath%20d='m1%209%202%202c4.97-4.97%2013.03-4.97%2018%200l2-2C16.93%202.93%207.08%202.93%201%209Z'%20fill-opacity='.3'%20fill='%23FFF'%20fill-rule='nonzero'/%3e%3cpath%20d='m9%2017%203%203%203-3a4.237%204.237%200%200%200-6%200Z'%20fill-opacity='.8'%20fill='%23FFF'%20fill-rule='nonzero'/%3e%3cpath%20d='m5%2013%202%202a7.074%207.074%200%200%201%2010%200l2-2C15.14%209.14%208.87%209.14%205%2013Z'%20fill-opacity='.3'%20fill='%23FFF'%20fill-rule='nonzero'/%3e%3c/g%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='wifi_weak_lightTheme'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20fill='none'%20fill-rule='evenodd'%3e%3cpath%20d='M0%200h24v24H0z'/%3e%3cpath%20d='m1%209%202%202c4.97-4.97%2013.03-4.97%2018%200l2-2C16.93%202.93%207.08%202.93%201%209Z'%20fill-opacity='.1'%20fill='%23000'%20fill-rule='nonzero'/%3e%3cpath%20d='m9%2017%203%203%203-3a4.237%204.237%200%200%200-6%200Z'%20fill-opacity='.6'%20fill='%23000'%20fill-rule='nonzero'/%3e%3cpath%20d='m5%2013%202%202a7.074%207.074%200%200%201%2010%200l2-2C15.14%209.14%208.87%209.14%205%2013Z'%20fill-opacity='.1'%20fill='%23000'%20fill-rule='nonzero'/%3e%3c/g%3e%3c/svg%3e%3c/svg%3e",!1),e.setRequestHeader("Cache-Control","no-cache"),e.send(),200!==e.status?(console.error("Failed to load icon sprite"),!1):(this.iconSpriteText=e.responseText,!!this.iconSpriteText)}loadTokenConfig(e=nRt){try{const t=function BIt(n){var e,t,i,r,o;const s=null==(e=n.collections.find(w=>w.name===Pst))?void 0:e.modes,a=null==(t=n.collections.find(w=>w.name===Nst))?void 0:t.modes;if(!s||!a){const w=`\u7121\u6cd5\u627e\u5230 ${Pst} \u6216 ${Nst}`;throw console.log(qH.red(w)),new Error(w)}const l=null==(i=s.find(w=>"light"===w.name))?void 0:i.variables,u=null==(r=s.find(w=>"dark"===w.name))?void 0:r.variables,d=null==(o=a.find(w=>"value"===w.name))?void 0:o.variables;if(!l||!u||!d){const w="\u7121\u6cd5\u627e\u5230 light\u3001dark \u6216\u8abf\u8272\u677f\u503c";throw console.log(qH.red(w)),new Error(w)}const f=l.reduce((w,M)=>{var x;return"object"==typeof M.value&&(w[M.name]=null==(x=M.value)?void 0:x.name),w},{}),m=u.reduce((w,M)=>{var x;return"object"==typeof M.value&&(w[M.name]=null==(x=M.value)?void 0:x.name),w},{}),y=d.reduce((w,M)=>("string"==typeof M.value&&(w[M.name]=M.value),w),{});return{light:Object.keys(f).reduce((w,M)=>{const x=y[f[M]];return x&&(w[M]=x),w},{}),dark:Object.keys(m).reduce((w,M)=>{const x=y[m[M]];return x&&(w[M]=x),w},{})}}(e);this.tokenConfig=t}catch{return console.error("Failed to load design tokens"),!1}return!!this.tokenConfig}isElementExist(e){return!!(this.dataController.hasNode(e)||this.dataController.hasEdge(e)||this.dataController.hasCombo(e))}isElementShow(e){return!!this.elementController.getElement(e)}isElementInView(e){const t=this.elementController.getElement(e);return!!t&&this.viewportController.isInViewport(t.getRenderBounds(),!1,30)}getElementBoundingBox(e){const t=qi(e)?e:[e],i=TAt(t.filter(r=>this.isElementShow(r)).map(r=>"edge"===this.graph.getElementType(r)?this.elementController.getElement(r).getBounds():this.graph.getElementRenderBounds(r)));return{...i,width:i.max[0]-i.min[0],height:i.max[1]-i.min[1]}}getConfig(){const{container:e,autoFit:t,autoResize:i,animation:r}=this.graph.getOptions(),{width:o,height:s}=this.getSize(),a=this.getLayout(),l=this.getBehavior(),u=this.getPlugin(),d=this.getTheme();return{container:e,renderer:this.renderType,width:o,height:s,data:{nodes:this.getNodeData(),edges:this.getEdgeData(),groups:this.getGroupData()},behaviors:l,layouts:a,plugins:u,theme:d,autoFitMode:"center"===t?"center":"view",autoSize:!!i,animation:!!r}}getSize(){const[e,t]=this.graph.getSize();return{width:e,height:t}}getElementType(e){if(!this.isElementExist(e))return null;switch(this.graph.getElementType(e)){case"node":return"node";case"edge":return"edge";case"combo":return"group"}}getElementState(e){return this.isElementExist(e)?this.graph.getElementState(e):[]}getElementByState(e,t){return"node"===e?this.graph.getElementDataByState("node",t).map(i=>sD_toNodeData(i)):"edge"===e?this.graph.getElementDataByState("edge",t).map(i=>cE_toEdgeData(i)):"group"===e?this.graph.getElementDataByState("combo",t).map(i=>rD_toGroupData(i)):[]}getElementByTypes(e){return[...new Set(e)].map(t=>"node"===t?this.getNodeData():"edge"===t?this.getEdgeData():"group"===t?this.getGroupData():[]).flat()}setRenderer(e){const t=this.graph.getOptions();this.graph.destroy();const{renderer:i}=gE_toRenderer(e);this.initGraph({...t,renderer:i}),this.renderType=e}getTheme(){return this.graph?this.graph.getTheme().replace("mx-",""):"light"}getThemeTokens(){const{tokenConfig:e}=this,t=this.getTheme();return e?.[t]}setTheme(e){const{theme:t}=gE_toTheme(e);t&&(this.graph.setTheme(t),this.refresh())}setThemeTokens(e){this.loadTokenConfig(e)&&this.refresh()}getLayout(){const e=this.graph.getLayout();return e?qi(e)?e:[e]:[]}setLayout(e){let t=[];t=ii(e)?e(this.getLayout()):qi(e)?e:[e];const{layout:i}=gE_toLayout(this,t);i&&this.graph.setLayout(i)}layout(){return this.graph.layout().then(()=>{this.setLayout([])})}resize(e,t){e&&t?(this.graph.resize(e,t),this.container.style.width=`${e}px`,this.container.style.height=`${t}px`):this.graph.resize()}refresh(){this.dataController.refreshData(),this.setPlugin([])}autoSize(e){const t=this.graph.getOptions();this.graph.destroy(),this.initGraph({...t,autoResize:e})}zoom(e){this.graph.zoomBy(e)}zoomTo(e){this.graph.zoomTo(e)}getZoom(){var e;return null==(e=this.graph)?void 0:e.getZoom()}getCommonPoints(){const{width:e,height:t}=this.getBoundingRect(),r=[e,0],o=[e,t],s=[0,t],a=this.graph.getCanvas().getCamera().getPosition(),l=this.graph.getCanvas().getCanvasByViewport([0,0]),u=this.graph.getCanvas().getCanvasByViewport(r),d=this.graph.getCanvas().getCanvasByViewport(o),f=this.graph.getCanvas().getCanvasByViewport(s);return{middle:{x:a[0],y:a[1]},leftTop:{x:l[0],y:l[1]},rightTop:{x:u[0],y:u[1]},rightBottom:{x:d[0],y:d[1]},leftBottom:{x:f[0],y:f[1]}}}getBoundingRect(){return this.graph.getCanvas().getContextService().getBoundingClientRect()||{left:0,top:0,right:0,bottom:0,width:0,height:0,x:0,y:0}}canvasToViewport(e){const[t,i]=this.graph.getCanvas().getViewportByCanvas([e.x,e.y]);return{x:t,y:i}}viewportToCanvas(e){const[t,i]=this.graph.getCanvas().getCanvasByViewport([e.x,e.y]);return{x:t,y:i}}fitView(){this.graph.fitView()}fitCenter(){this.graph.fitCenter()}focusItem(e){this.graph.focusElement(e)}undo(){const e=this.graph.getPluginInstance(Lr.HISTORY);e.canUndo()&&e.undo()}redo(){const e=this.graph.getPluginInstance(Lr.HISTORY);e.canRedo()&&e.redo()}render(){return this.graph.render()}setData(e){const{data:t}=gE_toGraphData(e);t&&this.graph.setData(t)}clear(){return this.graph.clear()}destroy(){return new Promise(e=>{this.graph.destroy(),setTimeout(()=>{const t=this;for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&delete t[i];Object.setPrototypeOf(this,null),e()})})}getEvent(){return this.graph.getEvents()}hasEvent(e){const t=this.graph.getEvents();return Object.keys(t).includes(e)}getBehavior(){const e=this.graph.getBehaviors().map(t=>ii(t)?t.bind(this.graph)():t);return[...new Set(e)]}getBehaviorInstance(e){return this.behaviorController.extensionMap[e]}setBehavior(e){let t=[];t=ii(e)?e(this.getBehavior()):Array.isArray(e)?e:[e];const i=lat(t);this.graph.setBehaviors(i)}on(e,t){this.graph.on(e,t)}once(e,t){this.graph.once(e,t)}off(e,t){e&&t?this.graph.off(e,t):e?this.graph.off(e):this.off()}getNodeData(e){if("string"==typeof e){const t=this.graph.getNodeData(e);return sD_toNodeData(t)}return qi(e)?this.graph.getNodeData(e).map(t=>sD_toNodeData(t)):this.graph.getNodeData().map(t=>sD_toNodeData(t))}addNode(e){const t=qi(e)?e:[e];this.graph.addNodeData(t.map(i=>U4_toNodeData(i,{full:!0})))}updateNode(e){const t=qi(e)?e:[e];this.graph.updateNodeData(t.map(i=>U4_toNodeData(i)))}removeNode(e){const t=qi(e)?e:[e];this.graph.removeNodeData(t)}showElement(e){this.graph.showElement(e)}hideElement(e){this.graph.hideElement(e)}removeElement(e){const t=qi(e)?e:[e],{node:i,edge:r,group:o}=t.reduce((s,a)=>{var l;const u=this.getElementType(a);return u&&(null==(l=s[u])||l.push(a)),s},{node:[],edge:[],group:[]});this.removeNode(i),this.removeEdge(r),this.removeGroup(o)}setElementState(e){this.graph.setElementState(e)}clearElementState(e){const t=(qi(e)?e:[e]).reduce((i,r)=>(i[r]=[],i),{});this.graph.setElementState(t)}getEdgeData(e){return"string"==typeof e?cE_toEdgeData(this.graph.getEdgeData(e)):qi(e)?this.graph.getEdgeData(e).map(cE_toEdgeData):this.graph.getEdgeData().map(cE_toEdgeData)}isIsolated(e){return this.graph.getRelatedEdgesData(e).length<=0}addEdge(e){const t=qi(e)?e:[e];this.graph.addEdgeData(t.map(i=>JS_toEdgeData(i,{full:!0})))}removeEdge(e){const t=qi(e)?e:[e];this.graph.removeEdgeData(t)}updateEdge(e){const t=qi(e)?e:[e];this.graph.updateEdgeData(t.map(i=>JS_toEdgeData(i)))}getGroupData(e){if("string"==typeof e){const t=this.graph.getComboData(e);return rD_toGroupData(t)}return qi(e)?this.graph.getComboData(e).map(t=>rD_toGroupData(t)):this.graph.getComboData().map(t=>rD_toGroupData(t))}getChildrenData(e,t={}){const{level:i}=t,r=(o,s=0)=>!_i(i)&&s>=i-1?o:o.map(a=>{if(this.dataController.isCombo(a.id)){const l=this.graph.getChildrenData(a.id);return[a,...r(l,s+1)]}return a}).flat();return r(this.graph.getChildrenData(e)).map(o=>"node"===o.type?sD_toNodeData(o):"combo"===o.type?rD_toGroupData(o):o)}addGroup(e){const t=qi(e)?e:[e];this.graph.addComboData(t.map(i=>lG_toGroupData(i,{full:!0})))}assignGroup(e,t){const i=e.find(r=>this.graph.getChildrenData(r).some(o=>o.id===t));i?console.warn(`Cannot assign group ${i} to its own child`):e.map(r=>({id:r,config:{parentId:t}})).forEach(r=>{const o=this.getElementType(r.id);"node"===o&&this.updateNode(r),"group"===o&&this.updateGroup(r)})}removeGroup(e,t={recursive:!1}){const{recursive:i}=t,r=qi(e)?e:[e];if(r.forEach(o=>this.graph.expandElement(o)),i){const o=r.map(s=>this.getChildrenData(s).map(a=>a.id).filter(a=>"combo"===this.graph.getElementType(a))).flat();this.graph.removeComboData(o)}this.graph.removeComboData(r)}updateGroup(e){const t=qi(e)?e:[e];this.graph.updateComboData(t.map(i=>lG_toGroupData(i)))}expandGroup(e){(qi(e)?e:[e]).forEach(t=>{this.graph.expandElement(t)})}collapseGroup(e){(qi(e)?e:[e]).forEach(t=>{this.graph.collapseElement(t)})}getPlugin(){return this.graph.getPlugins().map(e=>{if(ii(e)){const t=e.bind(this.graph)();return H4[t.type]||null}return mo(e)?H4[e.type]?e:null:e}).filter(Boolean)}getPluginInstance(e){return this.graph.getPluginInstance(e)}setPlugin(e){let t=[];t=ii(e)?e(this.getPlugin()):qi(e)?e:[e];const{plugins:i}=gE_toPlugin(this,t,this.getTheme());i&&this.graph.setPlugins(i)}}function X4(n){const e=(0,g.O8t)(()=>n());return function N4t(n){return n?.constructor===Object}(e)?new Proxy(n,{get:(t,i)=>i in e?((0,g.Hps)(t[i])||Object.defineProperty(t,i,{value:(0,g.EWP)(()=>t()[i]),configurable:!0}),X4(t[i])):t[i]}):n}const gG=new WeakMap,pc=Symbol("STATE_SOURCE");function fy(n,...e){n[pc].update(t=>e.reduce((i,r)=>({...i,..."function"==typeof r?r(i):r}),t)),function F4t(n){const e=function vG(n){return gG.get(n[pc])||[]}(n);for(const t of e)t((0,g.O8t)(()=>ult(n)))}(n)}function ult(n){return n[pc]()}var $o=P(4498);function dlt(n=0,e=Io.E){return n<0&&(n=0),(0,Zu.O)(n,n,e)}var $4t=P(7512),dD=P(3982),W4t=P(8093),Oh=P(8199),py=P(5044);function hlt(n){const e=n.cloneNode(!0),t=e.querySelectorAll("[id]"),i=n.nodeName.toLowerCase();e.removeAttribute("id");for(let r=0;r<t.length;r++)t[r].removeAttribute("id");return"canvas"===i?mlt(n,e):("input"===i||"select"===i||"textarea"===i)&&plt(n,e),flt("canvas",n,e,mlt),flt("input, textarea, select",n,e,plt),e}function flt(n,e,t,i){const r=e.querySelectorAll(n);if(r.length){const o=t.querySelectorAll(n);for(let s=0;s<r.length;s++)i(r[s],o[s])}}let K4t=0;function plt(n,e){"file"!==e.type&&(e.value=n.value),"radio"===e.type&&e.name&&(e.name=`mat-clone-${e.name}-${K4t++}`)}function mlt(n,e){const t=e.getContext("2d");if(t)try{t.drawImage(n,0,0)}catch{}}function yG(n){const e=n.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height,x:e.x,y:e.y}}function bG(n,e,t){const{top:i,bottom:r,left:o,right:s}=n;return t>=i&&t<=r&&e>=o&&e<=s}function hD(n,e,t){n.top+=e,n.bottom=n.top+n.height,n.left+=t,n.right=n.left+n.width}function glt(n,e,t,i){const{top:r,right:o,bottom:s,left:a,width:l,height:u}=n,d=l*e,f=u*e;return i>r-f&&i<s+f&&t>a-d&&t<o+d}class vlt{constructor(e){this._document=e,this.positions=new Map}clear(){this.positions.clear()}cache(e){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),e.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:yG(t)})})}handleScroll(e){const t=(0,Eo.Fb)(e),i=this.positions.get(t);if(!i)return null;const r=i.scrollPosition;let o,s;if(t===this._document){const u=this.getViewportScrollPosition();o=u.top,s=u.left}else o=t.scrollTop,s=t.scrollLeft;const a=r.top-o,l=r.left-s;return this.positions.forEach((u,d)=>{u.clientRect&&t!==d&&t.contains(d)&&hD(u.clientRect,a,l)}),r.top=o,r.left=s,{top:a,left:l}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function ylt(n,e){const t=n.rootNodes;if(1===t.length&&t[0].nodeType===e.ELEMENT_NODE)return t[0];const i=e.createElement("div");return t.forEach(r=>i.appendChild(r)),i}function _G(n,e,t){for(let i in e)if(e.hasOwnProperty(i)){const r=e[i];r?n.setProperty(i,r,t?.has(i)?"important":""):n.removeProperty(i)}return n}function vE(n,e){const t=e?"":"none";_G(n.style,{"touch-action":e?"":"none","-webkit-user-drag":e?"":"none","-webkit-tap-highlight-color":e?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function blt(n,e,t){_G(n.style,{position:e?"":"fixed",top:e?"":"0",opacity:e?"":"0",left:e?"":"-999em"},t)}function Y4(n,e){return e&&"none"!=e?n+" "+e:n}function _lt(n,e){n.style.width=`${e.width}px`,n.style.height=`${e.height}px`,n.style.transform=Z4(e.left,e.top)}function Z4(n,e){return`translate3d(${Math.round(n)}px, ${Math.round(e)}px, 0)`}function Elt(n){const e=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*e}function EG(n,e){return n.getPropertyValue(e).split(",").map(i=>i.trim())}const Y4t=new Set(["position"]);class Z4t{get element(){return this._preview}constructor(e,t,i,r,o,s,a,l,u){this._document=e,this._rootElement=t,this._direction=i,this._initialDomRect=r,this._previewTemplate=o,this._previewClass=s,this._pickupPositionOnPage=a,this._initialTransform=l,this._zIndex=u}attach(e){this._preview=this._createPreview(),e.appendChild(this._preview),wlt(this._preview)&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(e){this._preview.style.transform=e}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(e){this._preview.classList.add(e)}getTransitionDuration(){return function X4t(n){const e=getComputedStyle(n),t=EG(e,"transition-property"),i=t.find(a=>"transform"===a||"all"===a);if(!i)return 0;const r=t.indexOf(i),o=EG(e,"transition-duration"),s=EG(e,"transition-delay");return Elt(o[r])+Elt(s[r])}(this._preview)}addEventListener(e,t){this._preview.addEventListener(e,t)}removeEventListener(e,t){this._preview.removeEventListener(e,t)}_createPreview(){const e=this._previewTemplate,t=this._previewClass,i=e?e.template:null;let r;if(i&&e){const o=e.matchSize?this._initialDomRect:null,s=e.viewContainer.createEmbeddedView(i,e.context);s.detectChanges(),r=ylt(s,this._document),this._previewEmbeddedView=s,e.matchSize?_lt(r,o):r.style.transform=Z4(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else r=hlt(this._rootElement),_lt(r,this._initialDomRect),this._initialTransform&&(r.style.transform=this._initialTransform);return _G(r.style,{"pointer-events":"none",margin:wlt(r)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},Y4t),vE(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("popover","manual"),r.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(o=>r.classList.add(o)):r.classList.add(t)),r}}function wlt(n){return"showPopover"in n}const xlt=(0,Eo.BQ)({passive:!0}),Q4=(0,Eo.BQ)({passive:!1}),Mlt=(0,Eo.BQ)({passive:!1,capture:!0}),Clt=new Set(["position"]);class q4t{get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(e){e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(t=>vE(t,e)))}constructor(e,t,i,r,o,s){this._config=t,this._document=i,this._ngZone=r,this._viewportRuler=o,this._dragDropRegistry=s,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=(0,g.vPA)(!1),this._moveEvents=new ni.B,this._pointerMoveSubscription=$r.yU.EMPTY,this._pointerUpSubscription=$r.yU.EMPTY,this._scrollSubscription=$r.yU.EMPTY,this._resizeSubscription=$r.yU.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this.scale=1,this._disabled=!1,this.beforeStarted=new ni.B,this.started=new ni.B,this.released=new ni.B,this.ended=new ni.B,this.entered=new ni.B,this.exited=new ni.B,this.dropped=new ni.B,this.moved=this._moveEvents,this._pointerDown=a=>{if(this.beforeStarted.next(),this._handles.length){const l=this._getTargetHandle(a);l&&!this._disabledHandles.has(l)&&!this.disabled&&this._initializeDragSequence(l,a)}else this.disabled||this._initializeDragSequence(this._rootElement,a)},this._pointerMove=a=>{const l=this._getPointerPositionOnPage(a);if(!this._hasStartedDragging()){if(Math.abs(l.x-this._pickupPositionOnPage.x)+Math.abs(l.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const y=Date.now()>=this._dragStartTime+this._getDragStartDelay(a),b=this._dropContainer;if(!y)return void this._endDragSequence(a);(!b||!b.isDragging()&&!b.isReceiving())&&(a.cancelable&&a.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(a)))}return}a.cancelable&&a.preventDefault();const u=this._getConstrainedPointerPosition(l);if(this._hasMoved=!0,this._lastKnownPointerPosition=l,this._updatePointerDirectionDelta(u),this._dropContainer)this._updateActiveDropContainer(u,l);else{const d=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,f=this._activeTransform;f.x=u.x-d.x+this._passiveTransform.x,f.y=u.y-d.y+this._passiveTransform.y,this._applyRootElementTransform(f.x,f.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:u,event:a,distance:this._getDragDistance(u),delta:this._pointerDirectionDelta})})},this._pointerUp=a=>{this._endDragSequence(a)},this._nativeDragStart=a=>{if(this._handles.length){const l=this._getTargetHandle(a);l&&!this._disabledHandles.has(l)&&!this.disabled&&a.preventDefault()}else this.disabled||a.preventDefault()},this.withRootElement(e).withParent(t.parentDragRef||null),this._parentPositions=new vlt(i),s.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(e){this._handles=e.map(i=>(0,$o.i8)(i)),this._handles.forEach(i=>vE(i,this.disabled)),this._toggleNativeDragInteractions();const t=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&t.add(i)}),this._disabledHandles=t,this}withPreviewTemplate(e){return this._previewTemplate=e,this}withPlaceholderTemplate(e){return this._placeholderTemplate=e,this}withRootElement(e){const t=(0,$o.i8)(e);return t!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{t.addEventListener("mousedown",this._pointerDown,Q4),t.addEventListener("touchstart",this._pointerDown,xlt),t.addEventListener("dragstart",this._nativeDragStart,Q4)}),this._initialTransform=void 0,this._rootElement=t),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(e){return this._boundaryElement=e?(0,$o.i8)(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(e){return this._parentDragRef=e,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(e){!this._disabledHandles.has(e)&&this._handles.indexOf(e)>-1&&(this._disabledHandles.add(e),vE(e,!0))}enableHandle(e){this._disabledHandles.has(e)&&(this._disabledHandles.delete(e),vE(e,this.disabled))}withDirection(e){return this._direction=e,this}_withDropContainer(e){this._dropContainer=e}getFreeDragPosition(){const e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}setFreeDragPosition(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}withPreviewContainer(e){return this._previewContainer=e,this}_sortFromLastPointerPosition(){const e=this._lastKnownPointerPosition;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e),e)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._getShadowRoot()?.removeEventListener("selectstart",Dlt,Mlt)}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(e){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging()))if(this.released.next({source:this,event:e}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(e),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const t=this._getPointerPositionOnPage(e);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t,event:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(e){fD(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const t=this._getShadowRoot(),i=this._dropContainer;if(t&&this._ngZone.runOutsideAngular(()=>{t.addEventListener("selectstart",Dlt,Mlt)}),i){const r=this._rootElement,o=r.parentNode,s=this._placeholder=this._createPlaceholderElement(),a=this._anchor=this._anchor||this._document.createComment("");o.insertBefore(a,r),this._initialTransform=r.style.transform||"",this._preview=new Z4t(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3),this._preview.attach(this._getPreviewInsertionPoint(o,t)),blt(r,!1,Clt),this._document.body.appendChild(o.replaceChild(s,r)),this.started.next({source:this,event:e}),i.start(),this._initialContainer=i,this._initialIndex=i.getItemIndex(this)}else this.started.next({source:this,event:e}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(i?i.getScrollableParents():[])}_initializeDragSequence(e,t){this._parentDragRef&&t.stopPropagation();const i=this.isDragging(),r=fD(t),o=!r&&0!==t.button,s=this._rootElement,a=(0,Eo.Fb)(t),l=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),u=r?(0,cn.w6)(t):(0,cn._G)(t);if(a&&a.draggable&&"mousedown"===t.type&&t.preventDefault(),i||o||l||u)return;if(this._handles.length){const m=s.style;this._rootElementTapHighlight=m.webkitTapHighlightColor||"",m.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(m=>this._updateOnScroll(m)),this._boundaryElement&&(this._boundaryRect=yG(this._boundaryElement));const d=this._previewTemplate;this._pickupPositionInElement=d&&d.template&&!d.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,e,t);const f=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:f.x,y:f.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(e){blt(this._rootElement,!0,Clt),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const t=this._dropContainer,i=t.getItemIndex(this),r=this._getPointerPositionOnPage(e),o=this._getDragDistance(r),s=t._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:o,dropPoint:r,event:e}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:s,distance:o,dropPoint:r,event:e}),t.drop(this,i,this._initialIndex,this._initialContainer,s,o,r,e),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:e,y:t},{x:i,y:r}){let o=this._initialContainer._getSiblingContainerFromPosition(this,e,t);!o&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(e,t)&&(o=this._initialContainer),o&&o!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=o,this._dropContainer.enter(this,e,t,o===this._initialContainer&&o.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:o,currentIndex:o.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,r),this._dropContainer._sortItem(this,e,t,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(e,t):this._applyPreviewTransform(e-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const e=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(e.left,e.top);const t=this._preview.getTransitionDuration();return 0===t?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{const r=s=>{(!s||this._preview&&(0,Eo.Fb)(s)===this._preview.element&&"transform"===s.propertyName)&&(this._preview?.removeEventListener("transitionend",r),i(),clearTimeout(o))},o=setTimeout(r,1.5*t);this._preview.addEventListener("transitionend",r)}))}_createPlaceholderElement(){const e=this._placeholderTemplate,t=e?e.template:null;let i;return t?(this._placeholderRef=e.viewContainer.createEmbeddedView(t,e.context),this._placeholderRef.detectChanges(),i=ylt(this._placeholderRef,this._document)):i=hlt(this._rootElement),i.style.pointerEvents="none",i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(e,t,i){const r=t===this._rootElement?null:t,o=r?r.getBoundingClientRect():e,s=fD(i)?i.targetTouches[0]:i,a=this._getViewportScrollPosition();return{x:o.left-e.left+(s.pageX-o.left-a.left),y:o.top-e.top+(s.pageY-o.top-a.top)}}_getPointerPositionOnPage(e){const t=this._getViewportScrollPosition(),i=fD(e)?e.touches[0]||e.changedTouches[0]||{pageX:0,pageY:0}:e,r=i.pageX-t.left,o=i.pageY-t.top;if(this._ownerSVGElement){const s=this._ownerSVGElement.getScreenCTM();if(s){const a=this._ownerSVGElement.createSVGPoint();return a.x=r,a.y=o,a.matrixTransform(s.inverse())}}return{x:r,y:o}}_getConstrainedPointerPosition(e){const t=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:r}=this.constrainPosition?this.constrainPosition(e,this,this._initialDomRect,this._pickupPositionInElement):e;if("x"===this.lockAxis||"x"===t?r=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):("y"===this.lockAxis||"y"===t)&&(i=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){const{x:o,y:s}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,a=this._boundaryRect,{width:l,height:u}=this._getPreviewRect(),d=a.top+s,f=a.bottom-(u-s);i=Slt(i,a.left+o,a.right-(l-o)),r=Slt(r,d,f)}return{x:i,y:r}}_updatePointerDirectionDelta(e){const{x:t,y:i}=e,r=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,s=Math.abs(t-o.x),a=Math.abs(i-o.y);return s>this._config.pointerDirectionChangeThreshold&&(r.x=t>o.x?1:-1,o.x=t),a>this._config.pointerDirectionChangeThreshold&&(r.y=i>o.y?1:-1,o.y=i),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,vE(this._rootElement,e))}_removeRootElementListeners(e){e.removeEventListener("mousedown",this._pointerDown,Q4),e.removeEventListener("touchstart",this._pointerDown,xlt),e.removeEventListener("dragstart",this._nativeDragStart,Q4)}_applyRootElementTransform(e,t){const i=1/this.scale,r=Z4(e*i,t*i),o=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=o.transform&&"none"!=o.transform?o.transform:""),o.transform=Y4(r,this._initialTransform)}_applyPreviewTransform(e,t){const i=this._previewTemplate?.template?void 0:this._initialTransform,r=Z4(e,t);this._preview.setTransform(Y4(r,i))}_getDragDistance(e){const t=this._pickupPositionOnPage;return t?{x:e.x-t.x,y:e.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:e,y:t}=this._passiveTransform;if(0===e&&0===t||this.isDragging()||!this._boundaryElement)return;const i=this._rootElement.getBoundingClientRect(),r=this._boundaryElement.getBoundingClientRect();if(0===r.width&&0===r.height||0===i.width&&0===i.height)return;const o=r.left-i.left,s=i.right-r.right,a=r.top-i.top,l=i.bottom-r.bottom;r.width>i.width?(o>0&&(e+=o),s>0&&(e-=s)):e=0,r.height>i.height?(a>0&&(t+=a),l>0&&(t-=l)):t=0,(e!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:e})}_getDragStartDelay(e){const t=this.dragStartDelay;return"number"==typeof t?t:fD(e)?t.touch:t?t.mouse:0}_updateOnScroll(e){const t=this._parentPositions.handleScroll(e);if(t){const i=(0,Eo.Fb)(e);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&hD(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,Eo.KT)(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(e,t){const i=this._previewContainer||"global";if("parent"===i)return e;if("global"===i){const r=this._document;return t||r.fullscreenElement||r.webkitFullscreenElement||r.mozFullScreenElement||r.msFullscreenElement||r.body}return(0,$o.i8)(i)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_getTargetHandle(e){return this._handles.find(t=>e.target&&(e.target===t||t.contains(e.target)))}}function Slt(n,e,t){return Math.max(e,Math.min(t,n))}function fD(n){return"t"===n.type[0]}function Dlt(n){n.preventDefault()}function Tlt(n,e,t){const i=pD(e,n.length-1),r=pD(t,n.length-1);if(i===r)return;const o=n[i],s=r<i?-1:1;for(let a=i;a!==r;a+=s)n[a]=n[a+s];n[r]=o}function pD(n,e){return Math.max(0,Math.min(e,n))}class Alt{constructor(e){this._dragDropRegistry=e,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(e){this.withItems(e)}sort(e,t,i,r){const o=this._itemPositions,s=this._getItemIndexFromPointerPosition(e,t,i,r);if(-1===s&&o.length>0)return null;const a="horizontal"===this.orientation,l=o.findIndex(w=>w.drag===e),u=o[s],f=u.clientRect,m=l>s?1:-1,y=this._getItemOffsetPx(o[l].clientRect,f,m),b=this._getSiblingOffsetPx(l,o,m),E=o.slice();return Tlt(o,l,s),o.forEach((w,M)=>{if(E[M]===w)return;const x=w.drag===e,D=x?y:b,k=x?e.getPlaceholderElement():w.drag.getRootElement();w.offset+=D;const T=Math.round(w.offset*(1/w.drag.scale));a?(k.style.transform=Y4(`translate3d(${T}px, 0, 0)`,w.initialTransform),hD(w.clientRect,0,D)):(k.style.transform=Y4(`translate3d(0, ${T}px, 0)`,w.initialTransform),hD(w.clientRect,D,0))}),this._previousSwap.overlaps=bG(f,t,i),this._previousSwap.drag=u.drag,this._previousSwap.delta=a?r.x:r.y,{previousIndex:l,currentIndex:s}}enter(e,t,i,r){const o=null==r||r<0?this._getItemIndexFromPointerPosition(e,t,i):r,s=this._activeDraggables,a=s.indexOf(e),l=e.getPlaceholderElement();let u=s[o];if(u===e&&(u=s[o+1]),!u&&(null==o||-1===o||o<s.length-1)&&this._shouldEnterAsFirstChild(t,i)&&(u=s[0]),a>-1&&s.splice(a,1),u&&!this._dragDropRegistry.isDragging(u)){const d=u.getRootElement();d.parentElement.insertBefore(l,d),s.splice(o,0,e)}else this._element.appendChild(l),s.push(e);l.style.transform="",this._cacheItemPositions()}withItems(e){this._activeDraggables=e.slice(),this._cacheItemPositions()}withSortPredicate(e){this._sortPredicate=e}reset(){this._activeDraggables?.forEach(e=>{const t=e.getRootElement();if(t){const i=this._itemPositions.find(r=>r.drag===e)?.initialTransform;t.style.transform=i||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(e){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(i=>i.drag===e)}updateOnScroll(e,t){this._itemPositions.forEach(({clientRect:i})=>{hD(i,e,t)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()})}withElementContainer(e){this._element=e}_cacheItemPositions(){const e="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(t=>{const i=t.getVisibleElement();return{drag:t,offset:0,initialTransform:i.style.transform||"",clientRect:yG(i)}}).sort((t,i)=>e?t.clientRect.left-i.clientRect.left:t.clientRect.top-i.clientRect.top)}_getItemOffsetPx(e,t,i){const r="horizontal"===this.orientation;let o=r?t.left-e.left:t.top-e.top;return-1===i&&(o+=r?t.width-e.width:t.height-e.height),o}_getSiblingOffsetPx(e,t,i){const r="horizontal"===this.orientation,o=t[e].clientRect,s=t[e+-1*i];let a=o[r?"width":"height"]*i;if(s){const l=r?"left":"top",u=r?"right":"bottom";-1===i?a-=s.clientRect[l]-o[u]:a+=o[l]-s.clientRect[u]}return a}_shouldEnterAsFirstChild(e,t){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,r="horizontal"===this.orientation;if(i[0].drag!==this._activeDraggables[0]){const s=i[i.length-1].clientRect;return r?e>=s.right:t>=s.bottom}{const s=i[0].clientRect;return r?e<=s.left:t<=s.top}}_getItemIndexFromPointerPosition(e,t,i,r){const o="horizontal"===this.orientation,s=this._itemPositions.findIndex(({drag:a,clientRect:l})=>a!==e&&((!r||a!==this._previousSwap.drag||!this._previousSwap.overlaps||(o?r.x:r.y)!==this._previousSwap.delta)&&(o?t>=Math.floor(l.left)&&t<Math.floor(l.right):i>=Math.floor(l.top)&&i<Math.floor(l.bottom))));return-1!==s&&this._sortPredicate(s,e)?s:-1}}class J4t{constructor(e,t){this._document=e,this._dragDropRegistry=t,this._previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1},this._relatedNodes=[]}start(e){const t=this._element.childNodes;this._relatedNodes=[];for(let i=0;i<t.length;i++){const r=t[i];this._relatedNodes.push([r,r.nextSibling])}this.withItems(e)}sort(e,t,i,r){const o=this._getItemIndexFromPointerPosition(e,t,i),s=this._previousSwap;if(-1===o||this._activeItems[o]===e)return null;const a=this._activeItems[o];if(s.drag===a&&s.overlaps&&s.deltaX===r.x&&s.deltaY===r.y)return null;const l=this.getItemIndex(e),u=e.getPlaceholderElement(),d=a.getRootElement();o>l?d.after(u):d.before(u),Tlt(this._activeItems,l,o);const f=this._getRootNode().elementFromPoint(t,i);return s.deltaX=r.x,s.deltaY=r.y,s.drag=a,s.overlaps=d===f||d.contains(f),{previousIndex:l,currentIndex:o}}enter(e,t,i,r){let o=null==r||r<0?this._getItemIndexFromPointerPosition(e,t,i):r;-1===o&&(o=this._getClosestItemIndexToPointer(e,t,i));const s=this._activeItems[o],a=this._activeItems.indexOf(e);a>-1&&this._activeItems.splice(a,1),s&&!this._dragDropRegistry.isDragging(s)?(this._activeItems.splice(o,0,e),s.getRootElement().before(e.getPlaceholderElement())):(this._activeItems.push(e),this._element.appendChild(e.getPlaceholderElement()))}withItems(e){this._activeItems=e.slice()}withSortPredicate(e){this._sortPredicate=e}reset(){const e=this._element,t=this._previousSwap;for(let i=this._relatedNodes.length-1;i>-1;i--){const[r,o]=this._relatedNodes[i];r.parentNode===e&&r.nextSibling!==o&&(null===o?e.appendChild(r):o.parentNode===e&&e.insertBefore(r,o))}this._relatedNodes=[],this._activeItems=[],t.drag=null,t.deltaX=t.deltaY=0,t.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(e){return this._activeItems.indexOf(e)}updateOnScroll(){this._activeItems.forEach(e=>{this._dragDropRegistry.isDragging(e)&&e._sortFromLastPointerPosition()})}withElementContainer(e){e!==this._element&&(this._element=e,this._rootNode=void 0)}_getItemIndexFromPointerPosition(e,t,i){const r=this._getRootNode().elementFromPoint(Math.floor(t),Math.floor(i)),o=r?this._activeItems.findIndex(s=>{const a=s.getRootElement();return r===a||a.contains(r)}):-1;return-1!==o&&this._sortPredicate(o,e)?o:-1}_getRootNode(){return this._rootNode||(this._rootNode=(0,Eo.KT)(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(e,t,i){if(0===this._activeItems.length)return-1;if(1===this._activeItems.length)return 0;let r=1/0,o=-1;for(let s=0;s<this._activeItems.length;s++){const a=this._activeItems[s];if(a!==e){const{x:l,y:u}=a.getRootElement().getBoundingClientRect(),d=Math.hypot(t-l,i-u);d<r&&(r=d,o=s)}}return o}}var Ad=function(n){return n[n.NONE=0]="NONE",n[n.UP=1]="UP",n[n.DOWN=2]="DOWN",n}(Ad||{}),mc=function(n){return n[n.NONE=0]="NONE",n[n.LEFT=1]="LEFT",n[n.RIGHT=2]="RIGHT",n}(mc||{});class tNt{constructor(e,t,i,r,o){this._dragDropRegistry=t,this._ngZone=r,this._viewportRuler=o,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new ni.B,this.entered=new ni.B,this.exited=new ni.B,this.dropped=new ni.B,this.sorted=new ni.B,this.receivingStarted=new ni.B,this.receivingStopped=new ni.B,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=$r.yU.EMPTY,this._verticalScrollDirection=Ad.NONE,this._horizontalScrollDirection=mc.NONE,this._stopScrollTimers=new ni.B,this._cachedShadowRoot=null,this._scrollableElements=[],this._direction="ltr",this._startScrollInterval=()=>{this._stopScrolling(),dlt(0,$4t.X).pipe((0,fr.Q)(this._stopScrollTimers)).subscribe(()=>{const a=this._scrollNode,l=this.autoScrollStep;this._verticalScrollDirection===Ad.UP?a.scrollBy(0,-l):this._verticalScrollDirection===Ad.DOWN&&a.scrollBy(0,l),this._horizontalScrollDirection===mc.LEFT?a.scrollBy(-l,0):this._horizontalScrollDirection===mc.RIGHT&&a.scrollBy(l,0)})};const s=this.element=(0,$o.i8)(e);this._document=i,this.withOrientation("vertical").withElementContainer(s),t.registerDropContainer(this),this._parentPositions=new vlt(i)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(e,t,i,r){this._draggingStarted(),null==r&&this.sortingDisabled&&(r=this._draggables.indexOf(e)),this._sortStrategy.enter(e,t,i,r),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}exit(e){this._reset(),this.exited.next({item:e,container:this})}drop(e,t,i,r,o,s,a,l={}){this._reset(),this.dropped.next({item:e,currentIndex:t,previousIndex:i,container:this,previousContainer:r,isPointerOverContainer:o,distance:s,dropPoint:a,event:l})}withItems(e){const t=this._draggables;return this._draggables=e,e.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(t.filter(r=>r.isDragging()).every(r=>-1===e.indexOf(r))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(e){return this._direction=e,this._sortStrategy instanceof Alt&&(this._sortStrategy.direction=e),this}connectedTo(e){return this._siblings=e.slice(),this}withOrientation(e){if("mixed"===e)this._sortStrategy=new J4t(this._document,this._dragDropRegistry);else{const t=new Alt(this._dragDropRegistry);t.direction=this._direction,t.orientation=e,this._sortStrategy=t}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((t,i)=>this.sortPredicate(t,i,this)),this}withScrollableParents(e){const t=this._container;return this._scrollableElements=-1===e.indexOf(t)?[t,...e]:e.slice(),this}withElementContainer(e){if(e===this._container)return this;(0,$o.i8)(this.element);const i=this._scrollableElements.indexOf(this._container),r=this._scrollableElements.indexOf(e);return i>-1&&this._scrollableElements.splice(i,1),r>-1&&this._scrollableElements.splice(r,1),this._sortStrategy&&this._sortStrategy.withElementContainer(e),this._cachedShadowRoot=null,this._scrollableElements.unshift(e),this._container=e,this}getScrollableParents(){return this._scrollableElements}getItemIndex(e){return this._isDragging?this._sortStrategy.getItemIndex(e):this._draggables.indexOf(e)}isReceiving(){return this._activeSiblings.size>0}_sortItem(e,t,i,r){if(this.sortingDisabled||!this._domRect||!glt(this._domRect,.05,t,i))return;const o=this._sortStrategy.sort(e,t,i,r);o&&this.sorted.next({previousIndex:o.previousIndex,currentIndex:o.currentIndex,container:this,item:e})}_startScrollingIfNecessary(e,t){if(this.autoScrollDisabled)return;let i,r=Ad.NONE,o=mc.NONE;if(this._parentPositions.positions.forEach((s,a)=>{a===this._document||!s.clientRect||i||glt(s.clientRect,.05,e,t)&&([r,o]=function eNt(n,e,t,i,r){const o=Ilt(e,r),s=Rlt(e,i);let a=Ad.NONE,l=mc.NONE;if(o){const u=n.scrollTop;o===Ad.UP?u>0&&(a=Ad.UP):n.scrollHeight-u>n.clientHeight&&(a=Ad.DOWN)}if(s){const u=n.scrollLeft;"rtl"===t?s===mc.RIGHT?u<0&&(l=mc.RIGHT):n.scrollWidth+u>n.clientWidth&&(l=mc.LEFT):s===mc.LEFT?u>0&&(l=mc.LEFT):n.scrollWidth-u>n.clientWidth&&(l=mc.RIGHT)}return[a,l]}(a,s.clientRect,this._direction,e,t),(r||o)&&(i=a))}),!r&&!o){const{width:s,height:a}=this._viewportRuler.getViewportSize(),l={width:s,height:a,top:0,right:s,bottom:a,left:0};r=Ilt(l,t),o=Rlt(l,e),i=window}i&&(r!==this._verticalScrollDirection||o!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=r,this._horizontalScrollDirection=o,this._scrollNode=i,(r||o)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const e=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;const e=this._container.style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(t=>t._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(e,t){return null!=this._domRect&&bG(this._domRect,e,t)}_getSiblingContainerFromPosition(e,t,i){return this._siblings.find(r=>r._canReceive(e,t,i))}_canReceive(e,t,i){if(!this._domRect||!bG(this._domRect,t,i)||!this.enterPredicate(e,this))return!1;const r=this._getShadowRoot().elementFromPoint(t,i);return!!r&&(r===this._container||this._container.contains(r))}_startReceiving(e,t){const i=this._activeSiblings;!i.has(e)&&t.every(r=>this.enterPredicate(r,this)||this._draggables.indexOf(r)>-1)&&(i.add(e),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:e,receiver:this,items:t}))}_stopReceiving(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:e,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(e=>{if(this.isDragging()){const t=this._parentPositions.handleScroll(e);t&&this._sortStrategy.updateOnScroll(t.top,t.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const e=(0,Eo.KT)(this._container);this._cachedShadowRoot=e||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const e=this._sortStrategy.getActiveItemsSnapshot().filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,e))}}function Ilt(n,e){const{top:t,bottom:i,height:r}=n,o=.05*r;return e>=t-o&&e<=t+o?Ad.UP:e>=i-o&&e<=i+o?Ad.DOWN:Ad.NONE}function Rlt(n,e){const{left:t,right:i,width:r}=n,o=.05*r;return e>=t-o&&e<=t+o?mc.LEFT:e>=i-o&&e<=i+o?mc.RIGHT:mc.NONE}const q4=(0,Eo.BQ)({passive:!1,capture:!0}),J4=new Set;let nNt=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=g.VBU({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],standalone:!0,features:[g.aNF],decls:0,vars:0,template:function(i,r){},styles:["@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}"],encapsulation:2,changeDetection:0})}return n})(),iNt=(()=>{class n{constructor(t,i){this._ngZone=t,this._appRef=(0,g.WQX)(g.o8S),this._environmentInjector=(0,g.WQX)(g.uvJ),this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=(0,g.vPA)([]),this._globalListeners=new Map,this._draggingPredicate=r=>r.isDragging(),this.pointerMove=new ni.B,this.pointerUp=new ni.B,this.scroll=new ni.B,this._preventDefaultWhileDragging=r=>{this._activeDragInstances().length>0&&r.preventDefault()},this._persistentTouchmoveListener=r=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&r.preventDefault(),this.pointerMove.next(r))},this._document=i}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,q4)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,q4)}startDragging(t,i){if(!(this._activeDragInstances().indexOf(t)>-1)&&(this._loadResets(),this._activeDragInstances.update(r=>[...r,t]),1===this._activeDragInstances().length)){const r=i.type.startsWith("touch");this._globalListeners.set(r?"touchend":"mouseup",{handler:o=>this.pointerUp.next(o),options:!0}).set("scroll",{handler:o=>this.scroll.next(o),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:q4}),r||this._globalListeners.set("mousemove",{handler:o=>this.pointerMove.next(o),options:q4}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((o,s)=>{this._document.addEventListener(s,o.handler,o.options)})})}}stopDragging(t){this._activeDragInstances.update(i=>{const r=i.indexOf(t);return r>-1?(i.splice(r,1),[...i]):i}),0===this._activeDragInstances().length&&this._clearGlobalListeners()}isDragging(t){return this._activeDragInstances().indexOf(t)>-1}scrolled(t){const i=[this.scroll];return t&&t!==this._document&&i.push(new dD.c(r=>this._ngZone.runOutsideAngular(()=>{const s=a=>{this._activeDragInstances().length&&r.next(a)};return t.addEventListener("scroll",s,!0),()=>{t.removeEventListener("scroll",s,!0)}}))),(0,Xi.h)(...i)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,i)=>{this._document.removeEventListener(i,t.handler,t.options)}),this._globalListeners.clear()}_loadResets(){if(!J4.has(this._appRef)){J4.add(this._appRef);const t=(0,g.a0P)(nNt,{environmentInjector:this._environmentInjector});this._appRef.onDestroy(()=>{J4.delete(this._appRef),0===J4.size&&t.destroy()})}}static#t=this.\u0275fac=function(i){return new(i||n)(g.KVO(g.SKi),g.KVO(Pi.qQ))};static#e=this.\u0275prov=g.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const rNt={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let Plt=(()=>{class n{constructor(t,i,r,o){this._document=t,this._ngZone=i,this._viewportRuler=r,this._dragDropRegistry=o}createDrag(t,i=rNt){return new q4t(t,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new tNt(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static#t=this.\u0275fac=function(i){return new(i||n)(g.KVO(Pi.qQ),g.KVO(g.SKi),g.KVO(cs.Xj),g.KVO(iNt))};static#e=this.\u0275prov=g.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const mD=new g.nKC("CDK_DRAG_PARENT"),Nlt=new g.nKC("CdkDragHandle"),Llt=new g.nKC("CDK_DRAG_CONFIG"),Flt=new g.nKC("CdkDropList");let Blt=(()=>{class n{static#t=this._dragInstances=[];get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=t,this._dragRef.disabled=this._disabled}constructor(t,i,r,o,s,a,l,u,d,f,m){this.element=t,this.dropContainer=i,this._ngZone=o,this._viewContainerRef=s,this._dir=l,this._changeDetectorRef=d,this._selfHandle=f,this._parentDrag=m,this._destroyed=new ni.B,this._handles=new W4t.t([]),this.scale=1,this.started=new g.bkB,this.released=new g.bkB,this.ended=new g.bkB,this.entered=new g.bkB,this.exited=new g.bkB,this.dropped=new g.bkB,this.moved=new dD.c(y=>{const b=this._dragRef.moved.pipe((0,Oh.T)(E=>({source:this,pointerPosition:E.pointerPosition,event:E.event,delta:E.delta,distance:E.distance}))).subscribe(y);return()=>{b.unsubscribe()}}),this._injector=(0,g.WQX)(g.zZn),this._dragRef=u.createDrag(t,{dragStartThreshold:a&&null!=a.dragStartThreshold?a.dragStartThreshold:5,pointerDirectionChangeThreshold:a&&null!=a.pointerDirectionChangeThreshold?a.pointerDirectionChangeThreshold:5,zIndex:a?.zIndex}),this._dragRef.data=this,n._dragInstances.push(this),a&&this._assignDefaults(a),i&&(this._dragRef._withDropContainer(i._dropListRef),i.addItem(this),i._dropListRef.beforeStarted.pipe((0,fr.Q)(this._destroyed)).subscribe(()=>{this._dragRef.scale=this.scale})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(t){this._dragRef.setFreeDragPosition(t)}ngAfterViewInit(){(0,g.mal)(()=>{this._updateRootElement(),this._setupHandlesListener(),this._dragRef.scale=this.scale,this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},{injector:this._injector})}ngOnChanges(t){const i=t.rootElementSelector,r=t.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),this._dragRef.scale=this.scale,r&&!r.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const t=n._dragInstances.indexOf(this);t>-1&&n._dragInstances.splice(t,1),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(t){const i=this._handles.getValue();i.push(t),this._handles.next(i)}_removeHandle(t){const i=this._handles.getValue(),r=i.indexOf(t);r>-1&&(i.splice(r,1),this._handles.next(i))}_setPreviewTemplate(t){this._previewTemplate=t}_resetPreviewTemplate(t){t===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(t){this._placeholderTemplate=t}_resetPlaceholderTemplate(t){t===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){const t=this.element.nativeElement;let i=t;this.rootElementSelector&&(i=void 0!==t.closest?t.closest(this.rootElementSelector):t.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(i||t)}_getBoundaryElement(){const t=this.boundaryElement;return t?"string"==typeof t?this.element.nativeElement.closest(t):(0,$o.i8)(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){const i=this._dir,r=this.dragStartDelay,o=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,s=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.scale=this.scale,t.dragStartDelay="object"==typeof r&&r?r:(0,$o.OE)(r),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(o).withPreviewTemplate(s).withPreviewContainer(this.previewContainer||"global"),i&&t.withDirection(i.value)}}),t.beforeStarted.pipe((0,ar.s)(1)).subscribe(()=>{if(this._parentDrag)return void t.withParent(this._parentDrag._dragRef);let i=this.element.nativeElement.parentElement;for(;i;){if(i.classList.contains("cdk-drag")){t.withParent(n._dragInstances.find(r=>r.element.nativeElement===i)?._dragRef||null);break}i=i.parentElement}})}_handleEvents(t){t.started.subscribe(i=>{this.started.emit({source:this,event:i.event}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(i=>{this.released.emit({source:this,event:i.event})}),t.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),t.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),t.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event})})}_assignDefaults(t){const{lockAxis:i,dragStartDelay:r,constrainPosition:o,previewClass:s,boundaryElement:a,draggingDisabled:l,rootElementSelector:u,previewContainer:d}=t;this.disabled=l??!1,this.dragStartDelay=r||0,i&&(this.lockAxis=i),o&&(this.constrainPosition=o),s&&(this.previewClass=s),a&&(this.boundaryElement=a),u&&(this.rootElementSelector=u),d&&(this.previewContainer=d)}_setupHandlesListener(){this._handles.pipe((0,py.M)(t=>{const i=t.map(r=>r.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),(0,ht.n)(t=>(0,Xi.h)(...t.map(i=>i._stateChanges.pipe((0,oo.Z)(i))))),(0,fr.Q)(this._destroyed)).subscribe(t=>{const i=this._dragRef,r=t.element.nativeElement;t.disabled?i.disableHandle(r):i.enableHandle(r)})}static#e=this.\u0275fac=function(i){return new(i||n)(g.rXU(g.aKT),g.rXU(Flt,12),g.rXU(Pi.qQ),g.rXU(g.SKi),g.rXU(g.c1b),g.rXU(Llt,8),g.rXU(Ul.dS,8),g.rXU(Plt),g.rXU(g.gRc),g.rXU(Nlt,10),g.rXU(mD,12))};static#n=this.\u0275dir=g.FsC({type:n,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(i,r){2&i&&g.AVh("cdk-drag-disabled",r.disabled)("cdk-drag-dragging",r._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",g.L39],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",g.Udg]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],standalone:!0,features:[g.Jv_([{provide:mD,useExisting:n}]),g.GFd,g.OA$]})}return n})();const wG=new g.nKC("CdkDropListGroup");let lNt=0,jlt=(()=>{class n{static#t=this._dropLists=[];get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(t){this._dropListRef.disabled=this._disabled=t}constructor(t,i,r,o,s,a,l){this.element=t,this._changeDetectorRef=r,this._scrollDispatcher=o,this._dir=s,this._group=a,this._destroyed=new ni.B,this.connectedTo=[],this.id="cdk-drop-list-"+lNt++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new g.bkB,this.entered=new g.bkB,this.exited=new g.bkB,this.sorted=new g.bkB,this._unsortedItems=new Set,this._dropListRef=i.createDropList(t),this._dropListRef.data=this,l&&this._assignDefaults(l),this._dropListRef.enterPredicate=(u,d)=>this.enterPredicate(u.data,d.data),this._dropListRef.sortPredicate=(u,d,f)=>this.sortPredicate(u,d.data,f.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),n._dropLists.push(this),a&&a._items.add(this)}addItem(t){this._unsortedItems.add(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(t){this._unsortedItems.delete(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((t,i)=>t._dragRef.getVisibleElement().compareDocumentPosition(i._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const t=n._dropLists.indexOf(this);t>-1&&n._dropLists.splice(t,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(t){this._dir&&this._dir.change.pipe((0,oo.Z)(this._dir.value),(0,fr.Q)(this._destroyed)).subscribe(i=>t.withDirection(i)),t.beforeStarted.subscribe(()=>{const i=(0,$o.FG)(this.connectedTo).map(r=>"string"==typeof r?n._dropLists.find(s=>s.id===r):r);if(this._group&&this._group._items.forEach(r=>{-1===i.indexOf(r)&&i.push(r)}),!this._scrollableParentsResolved){const r=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(o=>o.getElementRef().nativeElement);this._dropListRef.withScrollableParents(r),this._scrollableParentsResolved=!0}if(this.elementContainerSelector){const r=this.element.nativeElement.querySelector(this.elementContainerSelector);t.withElementContainer(r)}t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.sortingDisabled=this.sortingDisabled,t.autoScrollDisabled=this.autoScrollDisabled,t.autoScrollStep=(0,$o.OE)(this.autoScrollStep,2),t.connectedTo(i.filter(r=>r&&r!==this).map(r=>r._dropListRef)).withOrientation(this.orientation)})}_handleEvents(t){t.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(i=>{this.entered.emit({container:this,item:i.item.data,currentIndex:i.currentIndex})}),t.exited.subscribe(i=>{this.exited.emit({container:this,item:i.item.data}),this._changeDetectorRef.markForCheck()}),t.sorted.subscribe(i=>{this.sorted.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,container:this,item:i.item.data})}),t.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,item:i.item.data,isPointerOverContainer:i.isPointerOverContainer,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),(0,Xi.h)(t.receivingStarted,t.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(t){const{lockAxis:i,draggingDisabled:r,sortingDisabled:o,listAutoScrollDisabled:s,listOrientation:a}=t;this.disabled=r??!1,this.sortingDisabled=o??!1,this.autoScrollDisabled=s??!1,this.orientation=a||"vertical",i&&(this.lockAxis=i)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(t=>t._dragRef))}static#e=this.\u0275fac=function(i){return new(i||n)(g.rXU(g.aKT),g.rXU(Plt),g.rXU(g.gRc),g.rXU(cs.R),g.rXU(Ul.dS,8),g.rXU(wG,12),g.rXU(Llt,8))};static#n=this.\u0275dir=g.FsC({type:n,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(i,r){2&i&&(g.BMQ("id",r.id),g.AVh("cdk-drop-list-disabled",r.disabled)("cdk-drop-list-dragging",r._dropListRef.isDragging())("cdk-drop-list-receiving",r._dropListRef.isReceiving()))},inputs:{connectedTo:[0,"cdkDropListConnectedTo","connectedTo"],data:[0,"cdkDropListData","data"],orientation:[0,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[0,"cdkDropListLockAxis","lockAxis"],disabled:[2,"cdkDropListDisabled","disabled",g.L39],sortingDisabled:[2,"cdkDropListSortingDisabled","sortingDisabled",g.L39],enterPredicate:[0,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[0,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[2,"cdkDropListAutoScrollDisabled","autoScrollDisabled",g.L39],autoScrollStep:[0,"cdkDropListAutoScrollStep","autoScrollStep"],elementContainerSelector:[0,"cdkDropListElementContainer","elementContainerSelector"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],standalone:!0,features:[g.Jv_([{provide:wG,useValue:void 0},{provide:Flt,useExisting:n}]),g.GFd]})}return n})(),hNt=(()=>{class n{constructor(){this._elRef=(0,g.WQX)(g.aKT),this.mxCardHasAction=!1,this.mxCardDisabled=!1,this.cardType="elevated",this.hasAction=!1}set mxCard(t){this.cardType=t||"elevated"}get isOutlined(){return"outlined"===this.cardType}get isElevated(){return"elevated"===this.cardType}get isFilled(){return"filled"===this.cardType}ngOnInit(){this._elRef.nativeElement.insertBefore(document.createElement("div"),this._elRef.nativeElement.firstChild).classList.add("mx-card--ripple"),this._elRef.nativeElement.hasAttribute("cdkDrag")&&(this.mxCardHasAction=!0)}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275dir=g.FsC({type:n,selectors:[["","mxCard",""]],hostAttrs:[1,"mx-card"],hostVars:10,hostBindings:function(i,r){2&i&&g.AVh("mx-card--action",r.mxCardHasAction)("disabled",r.mxCardDisabled)("mx-outlined-card",r.isOutlined)("mx-elevated-card",r.isElevated)("mx-filled-card",r.isFilled)},inputs:{mxCard:"mxCard",mxCardHasAction:[2,"mxCardHasAction","mxCardHasAction",g.L39],mxCardDisabled:[2,"mxCardDisabled","mxCardDisabled",g.L39]},standalone:!0,features:[g.GFd]})}return n})();const fNt=["selector"];function pNt(n,e){if(1&n){const t=g.RV6();g.j41(0,"div",3),g.bIt("cdkDragReleased",function(r){const o=g.eBV(t).$implicit,s=g.XpG();return g.Njj(s.onDragReleased(r,o))}),g.nrm(1,"img",4),g.j41(2,"label"),g.EFF(3),g.k0s()()}if(2&n){const t=e.$implicit;g.R7$(),g.Y8G("src",t.src,g.B4B),g.R7$(2),g.JRh(t.name)}}let Vlt=(()=>{class n{devices=(0,g.hFB)([]);select=(0,g.CGW)();selectorDiv=(0,g.ebz)("selector");onDragReleased(t,i){const r=t.event,s=(this.selectorDiv()?.nativeElement).getBoundingClientRect(),a=t.source.element.nativeElement.getBoundingClientRect();(a.right>s.right||a.bottom>s.bottom||a.left<s.left||a.top<s.top)&&(r.clientX>s.right||r.clientY>s.bottom||r.clientX<s.left||r.clientY<s.top)&&this.select.emit({event:t,item:i}),t.source.reset(),t.source.element.nativeElement.style.position=""}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=g.VBU({type:n,selectors:[["one-ui-device-selector"]],viewQuery:function(i,r){1&i&&g.wEZ(r.selectorDiv,fNt,5),2&i&&g.NyB()},inputs:{devices:[1,"devices"]},outputs:{select:"select"},standalone:!0,features:[g.aNF],decls:4,vars:0,consts:[["selector",""],["cdkDropList","",1,"absolute","left-0","top-0","flex","h-[400px]","flex-col","gap-3","overflow-y-auto","p-3"],["mxCard","elevated","mxCardHasAction","","cdkDrag","","cdkDragBoundary",".boundary",1,"d-flex","flex-col","items-center","justify-center"],["mxCard","elevated","mxCardHasAction","","cdkDrag","","cdkDragBoundary",".boundary",1,"d-flex","flex-col","items-center","justify-center",3,"cdkDragReleased"],["alt","",1,"w-[60px]",3,"src"]],template:function(i,r){1&i&&(g.j41(0,"div",1,0),g.Z7z(2,pNt,4,2,"div",2,g.Vm6),g.k0s()),2&i&&(g.R7$(2),g.Dyx(r.devices()))},dependencies:[Pi.MD,Blt,jlt,hNt],changeDetection:0})}return n})();P(7375);class tN{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(e=!1,t,i=!0,r){this._multiple=e,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new ni.B,t&&t.length&&(e?t.forEach(o=>this._markSelected(o)):this._markSelected(t[0]),this._selectedToEmit.length=0)}select(...e){this._verifyValueAssignment(e),e.forEach(i=>this._markSelected(i));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}deselect(...e){this._verifyValueAssignment(e),e.forEach(i=>this._unmarkSelected(i));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}setSelection(...e){this._verifyValueAssignment(e);const t=this.selected,i=new Set(e);e.forEach(o=>this._markSelected(o)),t.filter(o=>!i.has(this._getConcreteValue(o,i))).forEach(o=>this._unmarkSelected(o));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();const t=this._hasQueuedChanges();return e&&this._emitChangeEvent(),t}isSelected(e){return this._selection.has(this._getConcreteValue(e))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){e=this._getConcreteValue(e),this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){e=this._getConcreteValue(e),this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(e,t){if(this.compareWith){t=t??this._selection;for(let i of t)if(this.compareWith(e,i))return i;return e}return e}}let vNt=(()=>{class n{constructor(){this._listeners=[]}notify(t,i){for(let r of this._listeners)r(t,i)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(i=>t!==i)}}ngOnDestroy(){this._listeners=[]}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275prov=g.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ki=P(4007);const yNt=["button"],bNt=["*"];function _Nt(n,e){if(1&n&&g.nrm(0,"mat-pseudo-checkbox",3),2&n){const t=g.XpG();g.Y8G("disabled",t.disabled)}}function ENt(n,e){if(1&n&&g.nrm(0,"mat-pseudo-checkbox",3),2&n){const t=g.XpG();g.Y8G("disabled",t.disabled)}}const zlt=new g.nKC("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS",{providedIn:"root",factory:function wNt(){return{hideSingleSelectionIndicator:!1,hideMultipleSelectionIndicator:!1,disabledInteractive:!1}}}),Ult=new g.nKC("MatButtonToggleGroup"),xNt={provide:ki.kq,useExisting:(0,g.Rfq)(()=>$lt),multi:!0};let Hlt=0;class Glt{constructor(e,t){this.source=e,this.value=t}}let $lt=(()=>{class n{get name(){return this._name}set name(t){this._name=t,this._markButtonsForCheck()}get value(){const t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t.map(i=>i.value):t[0]?t[0].value:void 0}set value(t){this._setSelectionByValue(t),this.valueChange.emit(this.value)}get selected(){const t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t:t[0]||null}get multiple(){return this._multiple}set multiple(t){this._multiple=t,this._markButtonsForCheck()}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._markButtonsForCheck()}get disabledInteractive(){return this._disabledInteractive}set disabledInteractive(t){this._disabledInteractive=t,this._markButtonsForCheck()}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(t){this._hideSingleSelectionIndicator=t,this._markButtonsForCheck()}get hideMultipleSelectionIndicator(){return this._hideMultipleSelectionIndicator}set hideMultipleSelectionIndicator(t){this._hideMultipleSelectionIndicator=t,this._markButtonsForCheck()}constructor(t,i,r){this._changeDetector=t,this._dir=r,this._multiple=!1,this._disabled=!1,this._disabledInteractive=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name="mat-button-toggle-group-"+Hlt++,this.valueChange=new g.bkB,this.change=new g.bkB,this.appearance=i&&i.appearance?i.appearance:"standard",this.hideSingleSelectionIndicator=i?.hideSingleSelectionIndicator??!1,this.hideMultipleSelectionIndicator=i?.hideMultipleSelectionIndicator??!1}ngOnInit(){this._selectionModel=new tN(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(t=>t.checked)),this.multiple||this._initializeTabIndex()}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_keydown(t){if(this.multiple||this.disabled)return;const r=t.target.id,o=this._buttonToggles.toArray().findIndex(a=>a.buttonId===r);let s=null;switch(t.keyCode){case kn.t6:case kn.Fm:s=this._buttonToggles.get(o)||null;break;case kn.i7:s=this._getNextButton(o,-1);break;case kn.UQ:s=this._getNextButton(o,"ltr"===this.dir?-1:1);break;case kn.n6:s=this._getNextButton(o,1);break;case kn.LE:s=this._getNextButton(o,"ltr"===this.dir?1:-1);break;default:return}s&&(t.preventDefault(),s._onButtonClick(),s.focus())}_emitChangeEvent(t){const i=new Glt(t,this.value);this._rawValue=i.value,this._controlValueAccessorChangeFn(i.value),this.change.emit(i)}_syncButtonToggle(t,i,r=!1,o=!1){!this.multiple&&this.selected&&!t.checked&&(this.selected.checked=!1),this._selectionModel?i?this._selectionModel.select(t):this._selectionModel.deselect(t):o=!0,o?Promise.resolve().then(()=>this._updateModelValue(t,r)):this._updateModelValue(t,r)}_isSelected(t){return this._selectionModel&&this._selectionModel.isSelected(t)}_isPrechecked(t){return!(typeof this._rawValue>"u")&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(i=>null!=t.value&&i===t.value):t.value===this._rawValue)}_initializeTabIndex(){if(this._buttonToggles.forEach(t=>{t.tabIndex=-1}),this.selected)this.selected.tabIndex=0;else for(let t=0;t<this._buttonToggles.length;t++){const i=this._buttonToggles.get(t);if(!i.disabled){i.tabIndex=0;break}}this._markButtonsForCheck()}_getNextButton(t,i){const r=this._buttonToggles;for(let o=1;o<=r.length;o++){const a=r.get((t+i*o+r.length)%r.length);if(a&&!a.disabled)return a}return null}_setSelectionByValue(t){this._rawValue=t,this._buttonToggles&&(this.multiple&&t?(Array.isArray(t),this._clearSelection(),t.forEach(i=>this._selectValue(i))):(this._clearSelection(),this._selectValue(t)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(t=>{t.checked=!1,this.multiple||(t.tabIndex=-1)})}_selectValue(t){const i=this._buttonToggles.find(r=>null!=r.value&&r.value===t);i&&(i.checked=!0,this._selectionModel.select(i),this.multiple||(i.tabIndex=0))}_updateModelValue(t,i){i&&this._emitChangeEvent(t),this.valueChange.emit(this.value)}_markButtonsForCheck(){this._buttonToggles?.forEach(t=>t._markForCheck())}static#t=this.\u0275fac=function(i){return new(i||n)(g.rXU(g.gRc),g.rXU(zlt,8),g.rXU(Ul.dS,8))};static#e=this.\u0275dir=g.FsC({type:n,selectors:[["mat-button-toggle-group"]],contentQueries:function(i,r,o){if(1&i&&g.wni(o,xG,5),2&i){let s;g.mGM(s=g.lsd())&&(r._buttonToggles=s)}},hostAttrs:[1,"mat-button-toggle-group"],hostVars:6,hostBindings:function(i,r){1&i&&g.bIt("keydown",function(s){return r._keydown(s)}),2&i&&(g.BMQ("role",r.multiple?"group":"radiogroup")("aria-disabled",r.disabled),g.AVh("mat-button-toggle-vertical",r.vertical)("mat-button-toggle-group-appearance-standard","standard"===r.appearance))},inputs:{appearance:"appearance",name:"name",vertical:[2,"vertical","vertical",g.L39],value:"value",multiple:[2,"multiple","multiple",g.L39],disabled:[2,"disabled","disabled",g.L39],disabledInteractive:[2,"disabledInteractive","disabledInteractive",g.L39],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",g.L39],hideMultipleSelectionIndicator:[2,"hideMultipleSelectionIndicator","hideMultipleSelectionIndicator",g.L39]},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],standalone:!0,features:[g.Jv_([xNt,{provide:Ult,useExisting:n}]),g.GFd]})}return n})(),xG=(()=>{class n{get buttonId(){return`${this.id}-button`}get tabIndex(){return this._tabIndex}set tabIndex(t){this._tabIndex=t,this._markForCheck()}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(t){this._appearance=t}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(t){t!==this._checked&&(this._checked=t,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(t){this._disabled=t}get disabledInteractive(){return this._disabledInteractive||null!==this.buttonToggleGroup&&this.buttonToggleGroup.disabledInteractive}set disabledInteractive(t){this._disabledInteractive=t}constructor(t,i,r,o,s,a){this._changeDetectorRef=i,this._elementRef=r,this._focusMonitor=o,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new g.bkB;const l=Number(s);this.tabIndex=l||0===l?l:null,this.buttonToggleGroup=t,this.appearance=a&&a.appearance?a.appearance:"standard",this.disabledInteractive=a?.disabledInteractive??!1}ngOnInit(){const t=this.buttonToggleGroup;this.id=this.id||"mat-button-toggle-"+Hlt++,t&&(t._isPrechecked(this)?this.checked=!0:t._isSelected(this)!==this._checked&&t._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const t=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),t&&t._isSelected(this)&&t._syncButtonToggle(this,!1,!1,!0)}focus(t){this._buttonElement.nativeElement.focus(t)}_onButtonClick(){if(this.disabled)return;const t=!!this.isSingleSelector()||!this._checked;if(t!==this._checked&&(this._checked=t,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.isSingleSelector()){const i=this.buttonToggleGroup._buttonToggles.find(r=>0===r.tabIndex);i&&(i.tabIndex=-1),this.tabIndex=0}this.change.emit(new Glt(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this.isSingleSelector()?this.buttonToggleGroup.name:this.name||null}isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}static#t=this.\u0275fac=function(i){return new(i||n)(g.rXU(Ult,8),g.rXU(g.gRc),g.rXU(g.aKT),g.rXU(cn.FN),g.kS0("tabindex"),g.rXU(zlt,8))};static#e=this.\u0275cmp=g.VBU({type:n,selectors:[["mat-button-toggle"]],viewQuery:function(i,r){if(1&i&&g.GBs(yNt,5),2&i){let o;g.mGM(o=g.lsd())&&(r._buttonElement=o.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:14,hostBindings:function(i,r){1&i&&g.bIt("focus",function(){return r.focus()}),2&i&&(g.BMQ("aria-label",null)("aria-labelledby",null)("id",r.id)("name",null),g.AVh("mat-button-toggle-standalone",!r.buttonToggleGroup)("mat-button-toggle-checked",r.checked)("mat-button-toggle-disabled",r.disabled)("mat-button-toggle-disabled-interactive",r.disabledInteractive)("mat-button-toggle-appearance-standard","standard"===r.appearance))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",disableRipple:[2,"disableRipple","disableRipple",g.L39],appearance:"appearance",checked:[2,"checked","checked",g.L39],disabled:[2,"disabled","disabled",g.L39],disabledInteractive:[2,"disabledInteractive","disabledInteractive",g.L39]},outputs:{change:"change"},exportAs:["matButtonToggle"],standalone:!0,features:[g.GFd,g.aNF],ngContentSelectors:bNt,decls:8,vars:14,consts:[["button",""],["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"click","id","disabled"],[1,"mat-button-toggle-label-content"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(i,r){if(1&i){const o=g.RV6();g.NAR(),g.j41(0,"button",1,0),g.bIt("click",function(){return g.eBV(o),g.Njj(r._onButtonClick())}),g.j41(2,"span",2),g.DNE(3,_Nt,1,1,"mat-pseudo-checkbox",3)(4,ENt,1,1,"mat-pseudo-checkbox",3),g.SdG(5),g.k0s()(),g.nrm(6,"span",4)(7,"span",5)}if(2&i){const o=g.sdS(1);g.Y8G("id",r.buttonId)("disabled",r.disabled&&!r.disabledInteractive||null),g.BMQ("role",r.isSingleSelector()?"radio":"button")("tabindex",r.disabled&&!r.disabledInteractive?-1:r.tabIndex)("aria-pressed",r.isSingleSelector()?null:r.checked)("aria-checked",r.isSingleSelector()?r.checked:null)("name",r._getButtonName())("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledby)("aria-disabled",r.disabled&&r.disabledInteractive?"true":null),g.R7$(3),g.vxM(r.buttonToggleGroup&&r.checked&&!r.buttonToggleGroup.multiple&&!r.buttonToggleGroup.hideSingleSelectionIndicator?3:-1),g.R7$(),g.vxM(r.buttonToggleGroup&&r.checked&&r.buttonToggleGroup.multiple&&!r.buttonToggleGroup.hideMultipleSelectionIndicator?4:-1),g.R7$(3),g.Y8G("matRippleTrigger",o)("matRippleDisabled",r.disableRipple||r.disabled)}},dependencies:[Fi.r6,Fi.wg],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0);border-radius:var(--mat-legacy-button-toggle-shape)}.mat-button-toggle-standalone:not([class*=mat-elevation-z]),.mat-button-toggle-group:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full));border:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-app-outline))}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard .mat-pseudo-checkbox,.mat-button-toggle-group-appearance-standard .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-standard-button-toggle-selected-state-text-color, var(--mat-app-on-secondary-container))}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard:not([class*=mat-elevation-z]),.mat-button-toggle-group-appearance-standard:not([class*=mat-elevation-z]){box-shadow:none}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative;color:var(--mat-legacy-button-toggle-text-color);font-family:var(--mat-legacy-button-toggle-label-text-font);font-size:var(--mat-legacy-button-toggle-label-text-size);line-height:var(--mat-legacy-button-toggle-label-text-line-height);font-weight:var(--mat-legacy-button-toggle-label-text-weight);letter-spacing:var(--mat-legacy-button-toggle-label-text-tracking);--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-legacy-button-toggle-selected-state-text-color)}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-legacy-button-toggle-focus-state-layer-opacity)}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle .mat-pseudo-checkbox{margin-right:12px}[dir=rtl] .mat-button-toggle .mat-pseudo-checkbox{margin-right:0;margin-left:12px}.mat-button-toggle-checked{color:var(--mat-legacy-button-toggle-selected-state-text-color);background-color:var(--mat-legacy-button-toggle-selected-state-background-color)}.mat-button-toggle-disabled{pointer-events:none;color:var(--mat-legacy-button-toggle-disabled-state-text-color);background-color:var(--mat-legacy-button-toggle-disabled-state-background-color);--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var(--mat-legacy-button-toggle-disabled-state-text-color)}.mat-button-toggle-disabled.mat-button-toggle-checked{background-color:var(--mat-legacy-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-disabled-interactive{pointer-events:auto}.mat-button-toggle-appearance-standard{color:var(--mat-standard-button-toggle-text-color, var(--mat-app-on-surface));background-color:var(--mat-standard-button-toggle-background-color);font-family:var(--mat-standard-button-toggle-label-text-font, var(--mat-app-label-large-font));font-size:var(--mat-standard-button-toggle-label-text-size, var(--mat-app-label-large-size));line-height:var(--mat-standard-button-toggle-label-text-line-height, var(--mat-app-label-large-line-height));font-weight:var(--mat-standard-button-toggle-label-text-weight, var(--mat-app-label-large-weight));letter-spacing:var(--mat-standard-button-toggle-label-text-tracking, var(--mat-app-label-large-tracking))}.mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-app-outline))}[dir=rtl] .mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-app-outline))}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:none;border-top:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-app-outline))}.mat-button-toggle-appearance-standard.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-selected-state-text-color, var(--mat-app-on-secondary-container));background-color:var(--mat-standard-button-toggle-selected-state-background-color, var(--mat-app-secondary-container))}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled{color:var(--mat-standard-button-toggle-disabled-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var(--mat-standard-button-toggle-disabled-selected-state-text-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-disabled-selected-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{background-color:var(--mat-standard-button-toggle-state-layer-color, var(--mat-app-on-surface))}.mat-button-toggle-appearance-standard:hover .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-button-toggle-appearance-standard.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}@media(hover: none){.mat-button-toggle-appearance-standard:hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;padding:0 16px;line-height:var(--mat-legacy-button-toggle-height);position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px;line-height:var(--mat-standard-button-toggle-height)}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0;background-color:var(--mat-legacy-button-toggle-state-layer-color)}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 500px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard{--mat-focus-indicator-border-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full))}.mat-button-toggle-group-appearance-standard .mat-button-toggle:last-of-type .mat-button-toggle-button::before{border-top-right-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full));border-bottom-right-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full))}.mat-button-toggle-group-appearance-standard .mat-button-toggle:first-of-type .mat-button-toggle-button::before{border-top-left-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full));border-bottom-left-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full))}"],encapsulation:2,changeDetection:0})}return n})(),MNt=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=g.$C({type:n});static#n=this.\u0275inj=g.G2t({imports:[Fi.yE,Fi.pZ,xG,Fi.yE]})}return n})();var Pl=P(4288);const CNt=["tooltip"],Klt=new g.nKC("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{const n=(0,g.WQX)(or.hJ);return()=>n.scrollStrategies.reposition({scrollThrottle:20})}}),DNt={provide:Klt,deps:[or.hJ],useFactory:function SNt(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},ANt=new g.nKC("mat-tooltip-default-options",{providedIn:"root",factory:function TNt(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),Xlt="tooltip-panel",Ylt=(0,Eo.BQ)({passive:!0});let Zlt=(()=>{class n{get position(){return this._position}set position(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(t){this._positionAtOrigin=(0,$o.he)(t),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(t){const i=(0,$o.he)(t);this._disabled!==i&&(this._disabled=i,i?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(t){this._showDelay=(0,$o.OE)(t)}get hideDelay(){return this._hideDelay}set hideDelay(t){this._hideDelay=(0,$o.OE)(t),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(t){const i=this._message;this._message=null!=t?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(i)}get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(t,i,r,o,s,a,l,u,d,f,m,y){this._overlay=t,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=o,this._ngZone=s,this._platform=a,this._ariaDescriber=l,this._focusMonitor=u,this._dir=f,this._defaultOptions=m,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._tooltipComponent=PNt,this._viewportMargin=8,this._cssClassPrefix="mat-mdc",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._touchstartTimeout=null,this._destroyed=new ni.B,this._injector=(0,g.WQX)(g.zZn),this._scrollStrategy=d,this._document=y,m&&(this._showDelay=m.showDelay,this._hideDelay=m.hideDelay,m.position&&(this.position=m.position),m.positionAtOrigin&&(this.positionAtOrigin=m.positionAtOrigin),m.touchGestures&&(this.touchGestures=m.touchGestures),m.tooltipClass&&(this.tooltipClass=m.tooltipClass)),f.change.pipe((0,fr.Q)(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),this._viewportMargin=8}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe((0,fr.Q)(this._destroyed)).subscribe(t=>{t?"keyboard"===t&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const t=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{t.removeEventListener(i,r,Ylt)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(t,this.message,"tooltip"),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay,i){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const r=this._createOverlay(i);this._detach(),this._portal=this._portal||new Qu.A8(this._tooltipComponent,this._viewContainerRef);const o=this._tooltipInstance=r.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe((0,fr.Q)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(t)}hide(t=this.hideDelay){const i=this._tooltipInstance;i&&(i.isVisible()?i.hide(t):(i._cancelPendingAnimations(),this._detach()))}toggle(t){this._isTooltipVisible()?this.hide():this.show(void 0,t)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(t){if(this._overlayRef){const o=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!t)&&o._origin instanceof g.aKT)return this._overlayRef;this._detach()}const i=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),r=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&t||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(i);return r.positionChanges.pipe((0,fr.Q)(this._destroyed)).subscribe(o=>{this._updateCurrentPositionClass(o.connectionPair),this._tooltipInstance&&o.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:r,panelClass:`${this._cssClassPrefix}-${Xlt}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe((0,fr.Q)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe((0,fr.Q)(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe((0,fr.Q)(this._destroyed)).subscribe(o=>{this._isTooltipVisible()&&o.keyCode===kn._f&&!(0,kn.rp)(o)&&(o.preventDefault(),o.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(t){const i=t.getConfig().positionStrategy,r=this._getOrigin(),o=this._getOverlayPosition();i.withPositions([this._addOffset({...r.main,...o.main}),this._addOffset({...r.fallback,...o.fallback})])}_addOffset(t){const r=!this._dir||"ltr"==this._dir.value;return"top"===t.originY?t.offsetY=-8:"bottom"===t.originY?t.offsetY=8:"start"===t.originX?t.offsetX=r?-8:8:"end"===t.originX&&(t.offsetX=r?8:-8),t}_getOrigin(){const t=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&t||"right"==i&&!t?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&t||"left"==i&&!t)&&(r={originX:"end",originY:"center"});const{x:o,y:s}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:o,originY:s}}}_getOverlayPosition(){const t=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&t||"right"==i&&!t?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&t||"left"==i&&!t)&&(r={overlayX:"start",overlayY:"center"});const{x:o,y:s}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:o,overlayY:s}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),(0,g.mal)(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===t?t="start":"start"===t&&(t="end"),{x:t,y:i}}_updateCurrentPositionClass(t){const{overlayY:i,originX:r,originY:o}=t;let s;if(s="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===o?"above":"below",s!==this._currentPosition){const a=this._overlayRef;if(a){const l=`${this._cssClassPrefix}-${Xlt}-`;a.removePanelClass(l+this._currentPosition),a.addPanelClass(l+s)}this._currentPosition=s}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",t=>{let i;this._setupPointerExitEventsIfNeeded(),void 0!==t.x&&void 0!==t.y&&(i=t),this.show(void 0,i)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",t=>{const i=t.targetTouches?.[0],r=i?{x:i.clientX,y:i.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,r)},this._defaultOptions.touchLongPressShowDelay??500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const t=[];if(this._platformSupportsMouseEvents())t.push(["mouseleave",i=>{const r=i.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};t.push(["touchend",i],["touchcancel",i])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,Ylt)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(t){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(t.clientX,t.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const t=this.touchGestures;if("off"!==t){const i=this._elementRef.nativeElement,r=i.style;("on"===t||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===t||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}_syncAriaDescription(t){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,t,"tooltip"),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}static#t=this.\u0275fac=function(i){return new(i||n)(g.rXU(or.hJ),g.rXU(g.aKT),g.rXU(cs.R),g.rXU(g.c1b),g.rXU(g.SKi),g.rXU(Eo.OD),g.rXU(cn.vr),g.rXU(cn.FN),g.rXU(Klt),g.rXU(Ul.dS),g.rXU(ANt,8),g.rXU(Pi.qQ))};static#e=this.\u0275dir=g.FsC({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(i,r){2&i&&g.AVh("mat-mdc-tooltip-disabled",r.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"],standalone:!0})}return n})(),PNt=(()=>{class n{constructor(t,i,r){this._changeDetectorRef=t,this._elementRef=i,this._isMultiline=!1,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new ni.B,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide",this._animationsDisabled="NoopAnimations"===r}show(t){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},t)}hide(t){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},t)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:t}){(!t||!this._triggerElement.contains(t))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const t=this._elementRef.nativeElement.getBoundingClientRect();return t.height>24&&t.width>=200}_handleAnimationEnd({animationName:t}){(t===this._showAnimation||t===this._hideAnimation)&&this._finalizeAnimation(t===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(t){t?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(t){const i=this._tooltip.nativeElement,r=this._showAnimation,o=this._hideAnimation;if(i.classList.remove(t?o:r),i.classList.add(t?r:o),this._isVisible!==t&&(this._isVisible=t,this._changeDetectorRef.markForCheck()),t&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const s=getComputedStyle(i);("0s"===s.getPropertyValue("animation-duration")||"none"===s.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}t&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(t))}static#t=this.\u0275fac=function(i){return new(i||n)(g.rXU(g.gRc),g.rXU(g.aKT),g.rXU(g.bc$,8))};static#e=this.\u0275cmp=g.VBU({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(i,r){if(1&i&&g.GBs(CNt,7),2&i){let o;g.mGM(o=g.lsd())&&(r._tooltip=o.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(i,r){1&i&&g.bIt("mouseleave",function(s){return r._handleMouseLeave(s)})},standalone:!0,features:[g.aNF],decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(i,r){if(1&i){const o=g.RV6();g.j41(0,"div",1,0),g.bIt("animationend",function(a){return g.eBV(o),g.Njj(r._handleAnimationEnd(a))}),g.j41(2,"div",2),g.EFF(3),g.k0s()()}2&i&&(g.AVh("mdc-tooltip--multiline",r._isMultiline),g.Y8G("ngClass",r.tooltipClass),g.R7$(3),g.JRh(r.message))},dependencies:[Pi.YU],styles:['.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mdc-plain-tooltip-container-color, var(--mat-app-inverse-surface));color:var(--mdc-plain-tooltip-supporting-text-color, var(--mat-app-inverse-on-surface));border-radius:var(--mdc-plain-tooltip-container-shape, var(--mat-app-corner-extra-small));font-family:var(--mdc-plain-tooltip-supporting-text-font, var(--mat-app-body-small-font));font-size:var(--mdc-plain-tooltip-supporting-text-size, var(--mat-app-body-small-size));font-weight:var(--mdc-plain-tooltip-supporting-text-weight, var(--mat-app-body-small-weight));line-height:var(--mdc-plain-tooltip-supporting-text-line-height, var(--mat-app-body-small-line-height));letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, var(--mat-app-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return n})(),Qlt=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=g.$C({type:n});static#n=this.\u0275inj=g.G2t({providers:[DNt],imports:[cn.Pd,Pi.MD,or.z_,Fi.yE,Fi.yE,cs.Gj]})}return n})(),NNt=(()=>{class n{constructor(){this.mxSegmentedButtonDensity=0,this.mxSegmentedButtonIsWidthFixed=!1}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275dir=g.FsC({type:n,selectors:[["mat-button-toggle-group","mxSegmentedButton",""]],hostVars:8,hostBindings:function(i,r){2&i&&g.AVh("mx-width-fixed",r.mxSegmentedButtonIsWidthFixed)("mx-density--1",-1===r.mxSegmentedButtonDensity)("mx-density--2",-2===r.mxSegmentedButtonDensity)("mx-density--3",-3===r.mxSegmentedButtonDensity)},inputs:{mxSegmentedButtonDensity:"mxSegmentedButtonDensity",mxSegmentedButtonIsWidthFixed:[2,"mxSegmentedButtonIsWidthFixed","mxSegmentedButtonIsWidthFixed",g.L39]},standalone:!0,features:[g.GFd]})}return n})();var Nl=function(n){return n.MONITOR="monitor",n.DESIGN="design",n}(Nl||{}),Ff=function(n){return n.PAN="pan",n.SINGLE_SELECT="single-select",n.MULTI_SELECT="multi-select",n}(Ff||{}),Bu=function(n){return n.LAYOUT_VERTICAL="layout-vertical",n.LAYOUT_VERTICAL_ARRANGE="layout-vertical-arrange",n.LAYOUT_HORIZONTAL="layout-horizontal",n.LAYOUT_HORIZONTAL_ARRANGE="layout-horizontal-arrange",n.LAYOUT_GRID="layout-grid",n.LAYOUT_CIRCLE="layout-circle",n.LAYOUT_RANDOM="layout-random",n.CHANGE_IP="change-ip",n.REBOOT="reboot",n}(Bu||{});const LNt=["*"];function FNt(n,e){1&n&&(g.nrm(0,"img",17),g.j41(1,"div",18),g.nrm(2,"mat-icon",19),g.k0s()),2&n&&g.Y8G("src","assets/icon-multiple-select-tool-fill.svg",g.B4B)}function BNt(n,e){if(1&n&&(g.nrm(0,"img",17),g.j41(1,"div",18),g.nrm(2,"mat-icon",19),g.k0s()),2&n){g.XpG();const t=g.r8f(4);g.Y8G("src","assets/icon-single-select-tool-"+t+".svg",g.B4B)}}let qlt=(()=>{class n{topologyMode=(0,g.hFB)();interactiveMode=(0,g.hFB)(Ff.PAN);toggleTopologyMode=(0,g.CGW)();toggleInteractiveMode=(0,g.CGW)();selectTopologyAction=(0,g.CGW)();toggleInfo=(0,g.CGW)();TopologyMode=Nl;TopologyInteractiveMode=Ff;TopologyActionType=Bu;isPanMode=(0,g.EWP)(()=>this.interactiveMode()===Ff.PAN);isEditMode=(0,g.EWP)(()=>this.topologyMode()===Nl.DESIGN);onChangeInteractiveMode(t){this.toggleInteractiveMode.emit(t)}onSelectAction(t){this.selectTopologyAction.emit(t)}onChangeTopologyMode(t){this.toggleTopologyMode.emit(t)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=g.VBU({type:n,selectors:[["one-ui-toolbar"]],inputs:{topologyMode:[1,"topologyMode"],interactiveMode:[1,"interactiveMode"]},outputs:{toggleTopologyMode:"toggleTopologyMode",toggleInteractiveMode:"toggleInteractiveMode",selectTopologyAction:"selectTopologyAction",toggleInfo:"toggleInfo"},standalone:!0,features:[g.aNF],ngContentSelectors:LNt,decls:30,vars:8,consts:[["selectMenu","matMenu"],[1,"container"],[1,"container_tool_group"],[1,"select-tool"],["title","Select tool","matTooltip","Select tool",1,"select-tool_arrow",3,"matMenuTriggerFor"],[1,"select-menu"],["mat-menu-item","",3,"click"],[1,"h-100","flex","items-center"],["title","Select tool",1,"select-image",3,"src"],["title","Pan tool","mat-icon-button","","matTooltip","Pan tool",3,"click"],["title","Pan tool",3,"src"],[1,"container_divider","mr-3"],[1,"container_tool_group","flex","items-center","gap-3"],[1,"toggle-mode"],["mxSegmentedButton","","data-testid","mx-seg-btn-1",1,"toggle-mode_segement"],["value","monitorMode",3,"click","checked"],["value","editMode",3,"click","checked"],["title","Select tool",1,"img-select-tool",3,"src"],["mat-icon-button","",1,"menu-trigger"],["svgIcon","icon:arrow_drop_down",1,"select-arrow-down"]],template:function(i,r){if(1&i){const o=g.RV6();g.NAR(),g.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),g.SS7(4),g.DNE(5,FNt,3,1)(6,BNt,3,1),g.k0s(),g.j41(7,"mat-menu",5,0)(9,"button",6),g.bIt("click",function(){return g.eBV(o),g.Njj(r.onChangeInteractiveMode(r.TopologyInteractiveMode.SINGLE_SELECT))}),g.j41(10,"div",7),g.nrm(11,"img",8),g.EFF(12," Single selection "),g.k0s()(),g.j41(13,"button",6),g.bIt("click",function(){return g.eBV(o),g.Njj(r.onChangeInteractiveMode(r.TopologyInteractiveMode.MULTI_SELECT))}),g.j41(14,"div",7),g.nrm(15,"img",8),g.EFF(16," Multiple selection "),g.k0s()()()(),g.j41(17,"div")(18,"button",9),g.bIt("click",function(){return g.eBV(o),g.Njj(r.onChangeInteractiveMode(r.TopologyInteractiveMode.PAN))}),g.SS7(19),g.nrm(20,"img",10),g.k0s()()(),g.nrm(21,"div",11),g.j41(22,"div",12),g.SdG(23),g.k0s(),g.j41(24,"div",13)(25,"mat-button-toggle-group",14)(26,"mat-button-toggle",15),g.bIt("click",function(){return g.eBV(o),g.Njj(r.onChangeTopologyMode(r.TopologyMode.MONITOR))}),g.EFF(27,"Monitor Mode"),g.k0s(),g.j41(28,"mat-button-toggle",16),g.bIt("click",function(){return g.eBV(o),g.Njj(r.onChangeTopologyMode(r.TopologyMode.DESIGN))}),g.EFF(29,"Design mode"),g.k0s()()()()}if(2&i){const o=g.sdS(8);g.R7$(3),g.Y8G("matMenuTriggerFor",o),g.R7$(),g.bH3(r.isPanMode()?"stroke":"fill"),g.R7$(),g.vxM(r.interactiveMode()!==r.TopologyInteractiveMode.MULTI_SELECT||r.isPanMode()?6:5),g.R7$(6),g.Y8G("src","assets/icon-single-select-tool-fill-black.svg",g.B4B),g.R7$(4),g.Y8G("src","assets/icon-multiple-select-tool-fill-black.svg",g.B4B);const s=r.isPanMode()?"fill":"stroke";g.R7$(5),g.Y8G("src","assets/icon-pan-tool-"+s+".svg",g.B4B),g.R7$(6),g.Y8G("checked",!r.isEditMode()),g.R7$(2),g.Y8G("checked",r.isEditMode())}},dependencies:[hi.Hl,hi.iY,MNt,$lt,xG,Pl.m_,Pl.An,N,Ud,su,Rg,NNt,Qlt,Zlt],styles:[".container[_ngcontent-%COMP%]{width:100%;min-width:100%;height:52px;background-color:#e0e3e2;display:flex;justify-content:space-between;align-items:center}.container_divider[_ngcontent-%COMP%]{width:1px;height:32px;background-color:#bec9c8}.container_tool_group[_ngcontent-%COMP%]{display:flex;align-items:center}.container[_ngcontent-%COMP%]   .icon-image[_ngcontent-%COMP%]{width:16.5px;height:16.5px;vertical-align:middle}.container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px;vertical-align:middle}.container[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{display:flex;align-items:center}.toggle-mode[_ngcontent-%COMP%]{margin-left:auto}.toggle-mode_segement[_ngcontent-%COMP%]{height:36px}.text-button[_ngcontent-%COMP%]{display:flex;align-items:center}.text-button[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:0 4px;text-wrap:nowrap}.text-button[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:24px;vertical-align:middle}.info[_ngcontent-%COMP%]{margin-right:10px}.select-tool[_ngcontent-%COMP%]{cursor:pointer}.select-tool_arrow[_ngcontent-%COMP%]{width:48px;margin-left:8px;display:flex;align-items:center;justify-content:center}.select-tool_arrow[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px;vertical-align:middle}.select-tool_arrow[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]{height:52px;display:flex;align-items:center;padding-left:5px}.select-tool_arrow[_ngcontent-%COMP%]   .select-arrow-down[_ngcontent-%COMP%]{width:24px;height:24px}.select-image[_ngcontent-%COMP%]{width:24px;height:24px;vertical-align:middle;margin-right:16px}.global-auto-arrange[_ngcontent-%COMP%]{height:52px;display:flex;align-items:center}.img-fill-pan[_ngcontent-%COMP%]{width:32px!important;height:32px!important;position:relative;top:-4px;left:-4px}"],changeDetection:0})}return n})();const jNt=[Bi.ZOOM_CANVAS,Bi.FIX_ELEMENT_SIZE,Bi.COLLAPSE_EXPAND,Bi.SCROLL_CANVAS,{type:Bi.SELECT_ALL,elementTypes:["node","group"]}],VNt=[{key:"fixedToolbar",type:Lr.FIXED_TOOLBAR}],Jlt=n=>({type:Bi.BRUSH_SELECT,mode:n,elementTypes:["node","group"]});var yE=function(n){return n.NORMAL="normal",n.DASH="dash",n}(yE||{});const MG=()=>Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),gD=function V4t(...n){const e=[...n],t="function"==typeof e[0]?{}:e.shift(),i=e;return(()=>{class o{constructor(){const a=i.reduce((E,w)=>w(E),function z4t(){return{[pc]:(0,g.vPA)({}),stateSignals:{},computedSignals:{},methods:{},hooks:{}}}()),{stateSignals:l,computedSignals:u,methods:d,hooks:f}=a,m={...l,...u,...d};this[pc]=a[pc];for(const E in m)this[E]=m[E];const{onInit:y,onDestroy:b}=f;y&&y(),b&&(0,g.WQX)(g.abz).onDestroy(b)}static \u0275fac=function(l){return new(l||o)};static \u0275prov=g.jDH({token:o,factory:o.\u0275fac,providedIn:t.providedIn||null})}return o})()}({providedIn:"root",protectedState:!1},function G4t(n){return e=>{const t="function"==typeof n?n():n,i=Object.keys(t);e[pc].update(o=>({...o,...t}));const r=i.reduce((o,s)=>{const a=(0,g.EWP)(()=>e[pc]()[s]);return{...o,[s]:X4(a)}},{});return{...e,stateSignals:{...e.stateSignals,...r}}}}({graph:null,isLoading:!1,topologyMode:Nl.DESIGN,interactiveMode:Ff.SINGLE_SELECT,currPoint:{x:0,y:0}}),function U4t(n){return e=>{const t=n({...e.stateSignals,...e.computedSignals});return Object.keys(t),{...e,computedSignals:{...e.computedSignals,...t}}}}(n=>({})),function H4t(n){return e=>{const t=n({[pc]:e[pc],...e.stateSignals,...e.computedSignals,...e.methods});return Object.keys(t),{...e,methods:{...e.methods,...t}}}}(n=>{const{graph:e,currPoint:t}=n;return{addDevice:(i,r)=>{e()?.addNode({id:MG(),config:{type:"device-node",point:t(),label:{text:i},icon:{src:r,width:70,height:70}}}),e()?.render()},addLink:(i,r,o=yE.NORMAL,s)=>{e()?.addEdge({id:MG(),source:i,target:r,config:{type:"line-edge",...o===yE.DASH&&{lineDash:5},labels:[{text:s,type:"text"}]}}),e()?.render()},removeElements:i=>{e()?.removeElement(i),e()?.render()},addGroup:i=>{const r=MG(),o={id:r,config:{type:"device-group",label:{text:i},icon:{src:"assets/icon-group.svg"},collapsed:!0}};return e()?.addGroup(o),e()?.render(),r},assignGroup:(i,r)=>{e()?.assignGroup(i,r),e()?.render()},setLayout:(i,r)=>{r===Bu.LAYOUT_HORIZONTAL?e()?.setLayout((n=>({type:Td.ALIGN,alignment:"vertical-center",layoutNodes:n}))(i)):r===Bu.LAYOUT_VERTICAL?e()?.setLayout((n=>({type:Td.ALIGN,alignment:"horizontal-center",layoutNodes:n}))(i)):r===Bu.LAYOUT_GRID?e()?.setLayout((n=>({type:Td.GRID,layoutNodes:n}))(i)):r===Bu.LAYOUT_CIRCLE?e()?.graph?.setLayout((n=>({type:"circular",startAngle:Math.PI/2,endAngle:2.5*Math.PI,radius:300,center:[400,440],nodeFilter:e=>n.includes(e.id)}))(i)):r===Bu.LAYOUT_HORIZONTAL_ARRANGE?e()?.setLayout((n=>({type:Td.GRID,rows:1,layoutNodes:n}))(i)):r===Bu.LAYOUT_VERTICAL_ARRANGE&&e()?.graph.setLayout({type:"grid",cols:1,sortBy:"id",preventOverlap:!0,nodeSize:133,nodeFilter:o=>i.includes(o.id)}),e()?.graph.layout().then(()=>{e()?.graph.setLayout([])})},setDeviceLabel:(i,r)=>{e()?.updateNode({id:i,config:{label:{text:r}}}),e()?.render()}}}));var qc=P(7083),tct=P(3777),eN=(P(8001),P(3260)),gs=P(5696);const ect=new g.nKC("mat-autocomplete-scroll-strategy",{providedIn:"root",factory:()=>{const n=(0,g.WQX)(or.hJ);return()=>n.scrollStrategies.reposition()}}),e5t={provide:ect,deps:[or.hJ],useFactory:function t5t(n){return()=>n.scrollStrategies.reposition()}};let nct=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=g.$C({type:n});static#n=this.\u0275inj=g.G2t({providers:[e5t],imports:[or.z_,Fi.Sy,Fi.yE,Pi.MD,cs.Gj,Fi.Sy,Fi.yE]})}return n})();var bg=P(1706);const i5t=["trigger"],r5t=["panel"],o5t=[[["mat-select-trigger"]],"*"],s5t=["mat-select-trigger","*"];function a5t(n,e){if(1&n&&(g.j41(0,"span",4),g.EFF(1),g.k0s()),2&n){const t=g.XpG();g.R7$(),g.JRh(t.placeholder)}}function l5t(n,e){1&n&&g.SdG(0)}function c5t(n,e){if(1&n&&(g.j41(0,"span",11),g.EFF(1),g.k0s()),2&n){const t=g.XpG(2);g.R7$(),g.JRh(t.triggerValue)}}function u5t(n,e){if(1&n&&(g.j41(0,"span",5),g.DNE(1,l5t,1,0)(2,c5t,2,1,"span",11),g.k0s()),2&n){const t=g.XpG();g.R7$(),g.vxM(t.customTrigger?1:2)}}function d5t(n,e){if(1&n){const t=g.RV6();g.j41(0,"div",12,1),g.bIt("@transformPanel.done",function(r){g.eBV(t);const o=g.XpG();return g.Njj(o._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){g.eBV(t);const o=g.XpG();return g.Njj(o._handleKeydown(r))}),g.SdG(2,1),g.k0s()}if(2&n){const t=g.XpG();g.ZvI("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",t._getPanelTheme(),""),g.Y8G("ngClass",t.panelClass)("@transformPanel","showing"),g.BMQ("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const h5t={transformPanelWrap:(0,it.hZ)("transformPanelWrap",[(0,it.kY)("* => void",(0,it.P)("@transformPanel",[(0,it.MA)()],{optional:!0}))]),transformPanel:(0,it.hZ)("transformPanel",[(0,it.wk)("void",(0,it.iF)({opacity:0,transform:"scale(1, 0.8)"})),(0,it.kY)("void => showing",(0,it.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,it.iF)({opacity:1,transform:"scale(1, 1)"}))),(0,it.kY)("* => void",(0,it.i0)("100ms linear",(0,it.iF)({opacity:0})))])};let ict=0;const rct=new g.nKC("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{const n=(0,g.WQX)(or.hJ);return()=>n.scrollStrategies.reposition()}}),p5t=new g.nKC("MAT_SELECT_CONFIG"),m5t={provide:rct,deps:[or.hJ],useFactory:function f5t(n){return()=>n.scrollStrategies.reposition()}},g5t=new g.nKC("MatSelectTrigger");class v5t{constructor(e,t){this.source=e,this.value=t}}let y5t=(()=>{class n{_scrollOptionIntoView(t){const i=this.options.toArray()[t];if(i){const r=this.panel.nativeElement,o=(0,Fi.jb)(t,this.options,this.optionGroups),s=i._getHostElement();r.scrollTop=0===t&&1===o?0:(0,Fi.TL)(s.offsetTop,s.offsetHeight,r.scrollTop,r.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(t){return new v5t(this,t)}get focused(){return this._focused||this._panelOpen}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(t){this._hideSingleSelectionIndicator=t,this._syncParentProperties()}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(ki.k0.required)??!1}set required(t){this._required=t,this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=t}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){this._assignValue(t)&&this._onChange(t)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(t){this._errorStateTracker.matcher=t}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}get errorState(){return this._errorStateTracker.errorState}set errorState(t){this._errorStateTracker.errorState=t}constructor(t,i,r,o,s,a,l,u,d,f,m,y,b,E){this._viewportRuler=t,this._changeDetectorRef=i,this._elementRef=s,this._dir=a,this._parentFormField=d,this.ngControl=f,this._liveAnnouncer=b,this._defaultOptions=E,this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._panelOpen=!1,this._compareWith=(w,M)=>w===M,this._uid="mat-select-"+ict++,this._triggerAriaLabelledBy=null,this._destroy=new ni.B,this.stateChanges=new ni.B,this.disableAutomaticLabeling=!0,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+ict++,this._panelDoneAnimatingStream=new ni.B,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._multiple=!1,this.disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._initialized=new ni.B,this.optionSelectionChanges=(0,tct.v)(()=>{const w=this.options;return w?w.changes.pipe((0,oo.Z)(w),(0,ht.n)(()=>(0,Xi.h)(...w.map(M=>M.onSelectionChange)))):this._initialized.pipe((0,ht.n)(()=>this.optionSelectionChanges))}),this.openedChange=new g.bkB,this._openedStream=this.openedChange.pipe((0,G.p)(w=>w),(0,Oh.T)(()=>{})),this._closedStream=this.openedChange.pipe((0,G.p)(w=>!w),(0,Oh.T)(()=>{})),this.selectionChange=new g.bkB,this.valueChange=new g.bkB,this._trackedModal=null,this._skipPredicate=w=>!this.panelOpen&&w.disabled,this.ngControl&&(this.ngControl.valueAccessor=this),null!=E?.typeaheadDebounceInterval&&(this.typeaheadDebounceInterval=E.typeaheadDebounceInterval),this._errorStateTracker=new Fi.X0(o,f,u,l,this.stateChanges),this._scrollStrategyFactory=y,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(m)||0,this.id=this.id}ngOnInit(){this._selectionModel=new tN(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,me.F)(),(0,fr.Q)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe((0,fr.Q)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe((0,fr.Q)(this._destroy)).subscribe(t=>{t.added.forEach(i=>i.select()),t.removed.forEach(i=>i.deselect())}),this.options.changes.pipe((0,oo.Z)(null),(0,fr.Q)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby(),i=this.ngControl;if(t!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?r.setAttribute("aria-labelledby",t):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(t){(t.disabled||t.userAriaDescribedBy)&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_applyModalPanelOwnership(){const t=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!t)return;const i=`${this.id}-panel`;this._trackedModal&&(0,cn.Ae)(this._trackedModal,"aria-owns",i),(0,cn.px)(t,"aria-owns",i),this._trackedModal=t}_clearFromModal(){this._trackedModal&&((0,cn.Ae)(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(t){this._assignValue(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const i=t.keyCode,r=i===kn.n6||i===kn.i7||i===kn.UQ||i===kn.LE,o=i===kn.Fm||i===kn.t6,s=this._keyManager;if(!s.isTyping()&&o&&!(0,kn.rp)(t)||(this.multiple||t.altKey)&&r)t.preventDefault(),this.open();else if(!this.multiple){const a=this.selected;s.onKeydown(t);const l=this.selected;l&&a!==l&&this._liveAnnouncer.announce(l.viewValue,1e4)}}_handleOpenKeydown(t){const i=this._keyManager,r=t.keyCode,o=r===kn.n6||r===kn.i7,s=i.isTyping();if(o&&t.altKey)t.preventDefault(),this.close();else if(s||r!==kn.Fm&&r!==kn.t6||!i.activeItem||(0,kn.rp)(t))if(!s&&this._multiple&&r===kn.A&&t.ctrlKey){t.preventDefault();const a=this.options.some(l=>!l.disabled&&!l.selected);this.options.forEach(l=>{l.disabled||(a?l.select():l.deselect())})}else{const a=i.activeItemIndex;i.onKeydown(t),this._multiple&&o&&t.shiftKey&&i.activeItem&&i.activeItemIndex!==a&&i.activeItem._selectViaInteraction()}else t.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,ar.s)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this.options.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(t);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(t){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,t)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(t){return!!(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t,!0)}_getOverlayWidth(t){return"auto"===this.panelWidth?(t instanceof or.$Q?t.elementRef:t||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}_syncParentProperties(){if(this.options)for(const t of this.options)t._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new cn.Au(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=(0,Xi.h)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,fr.Q)(t)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Xi.h)(...this.options.map(i=>i._stateChanges)).pipe((0,fr.Q)(t)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(t,i){const r=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(r!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),i&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),i&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),r!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,t):t.indexOf(i)-t.indexOf(r)),this.stateChanges.next()}}_propagateChanges(t){let i;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:t,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let t=-1;for(let i=0;i<this.options.length;i++)if(!this.options.get(i).disabled){t=i;break}this._keyManager.setActiveItem(t)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const t=this._parentFormField?.getLabelId();return this.ariaLabelledby?(t?t+" ":"")+this.ariaLabelledby:t}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const t=this._parentFormField?.getLabelId();let i=(t?t+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static#t=this.\u0275fac=function(i){return new(i||n)(g.rXU(cs.Xj),g.rXU(g.gRc),g.rXU(g.SKi),g.rXU(Fi.es),g.rXU(g.aKT),g.rXU(Ul.dS,8),g.rXU(ki.cV,8),g.rXU(ki.j4,8),g.rXU(gs.xb,8),g.rXU(ki.vO,10),g.kS0("tabindex"),g.rXU(rct),g.rXU(cn.Ai),g.rXU(p5t,8))};static#e=this.\u0275cmp=g.VBU({type:n,selectors:[["mat-select"]],contentQueries:function(i,r,o){if(1&i&&(g.wni(o,g5t,5),g.wni(o,Fi.wT,5),g.wni(o,Fi.QC,5)),2&i){let s;g.mGM(s=g.lsd())&&(r.customTrigger=s.first),g.mGM(s=g.lsd())&&(r.options=s),g.mGM(s=g.lsd())&&(r.optionGroups=s)}},viewQuery:function(i,r){if(1&i&&(g.GBs(i5t,5),g.GBs(r5t,5),g.GBs(or.WB,5)),2&i){let o;g.mGM(o=g.lsd())&&(r.trigger=o.first),g.mGM(o=g.lsd())&&(r.panel=o.first),g.mGM(o=g.lsd())&&(r._overlayDir=o.first)}},hostAttrs:["role","combobox","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(i,r){1&i&&g.bIt("keydown",function(s){return r._handleKeydown(s)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),2&i&&(g.BMQ("id",r.id)("tabindex",r.disabled?-1:r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-activedescendant",r._getAriaActiveDescendant()),g.AVh("mat-mdc-select-disabled",r.disabled)("mat-mdc-select-invalid",r.errorState)("mat-mdc-select-required",r.required)("mat-mdc-select-empty",r.empty)("mat-mdc-select-multiple",r.multiple))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",g.L39],disableRipple:[2,"disableRipple","disableRipple",g.L39],tabIndex:[2,"tabIndex","tabIndex",t=>null==t?0:(0,g.Udg)(t)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",g.L39],placeholder:"placeholder",required:[2,"required","required",g.L39],multiple:[2,"multiple","multiple",g.L39],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",g.L39],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",g.Udg],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],standalone:!0,features:[g.Jv_([{provide:gs.qT,useExisting:n},{provide:Fi.is,useExisting:n}]),g.GFd,g.OA$,g.aNF],ngContentSelectors:s5t,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(i,r){if(1&i){const o=g.RV6();g.NAR(o5t),g.j41(0,"div",2,0),g.bIt("click",function(){return g.eBV(o),g.Njj(r.open())}),g.j41(3,"div",3),g.DNE(4,a5t,2,1,"span",4)(5,u5t,3,1,"span",5),g.k0s(),g.j41(6,"div",6)(7,"div",7),g.qSk(),g.j41(8,"svg",8),g.nrm(9,"path",9),g.k0s()()()(),g.DNE(10,d5t,3,9,"ng-template",10),g.bIt("backdropClick",function(){return g.eBV(o),g.Njj(r.close())})("attach",function(){return g.eBV(o),g.Njj(r._onAttached())})("detach",function(){return g.eBV(o),g.Njj(r.close())})}if(2&i){const o=g.sdS(1);g.R7$(3),g.BMQ("id",r._valueId),g.R7$(),g.vxM(r.empty?4:5),g.R7$(6),g.Y8G("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",r._preferredOverlayOrigin||o)("cdkConnectedOverlayOpen",r.panelOpen)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayWidth",r._overlayWidth)}},dependencies:[or.$Q,or.WB,Pi.YU],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color, var(--mat-app-on-surface));font-family:var(--mat-select-trigger-text-font, var(--mat-app-body-large-font));line-height:var(--mat-select-trigger-text-line-height, var(--mat-app-body-large-line-height));font-size:var(--mat-select-trigger-text-size, var(--mat-app-body-large-size));font-weight:var(--mat-select-trigger-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mat-select-trigger-text-tracking, var(--mat-app-body-large-tracking))}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color, var(--mat-app-error))}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color, var(--mat-app-on-surface-variant))}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color, var(--mat-app-primary))}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color, var(--mat-app-surface-container))}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color, var(--mat-app-on-surface-variant))}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform)}'],encapsulation:2,data:{animation:[h5t.transformPanel]},changeDetection:0})}return n})(),oct=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=g.$C({type:n});static#n=this.\u0275inj=g.G2t({providers:[m5t],imports:[Pi.MD,or.z_,Fi.Sy,Fi.yE,cs.Gj,gs.RG,Fi.Sy,Fi.yE]})}return n})();const b5t=(n,e)=>e.id;function _5t(n,e){if(1&n&&(g.j41(0,"mat-option",8),g.EFF(1),g.k0s()),2&n){const t=e.$implicit;g.Y8G("value",null==t.config.label?null:t.config.label.text),g.R7$(),g.JRh(null==t.config.label?null:t.config.label.text)}}function E5t(n,e){1&n&&(g.j41(0,"mat-error"),g.EFF(1,"Value is required."),g.k0s())}function w5t(n,e){if(1&n){const t=g.RV6();g.j41(0,"mat-form-field",3)(1,"mat-label"),g.EFF(2,"Select Group"),g.k0s(),g.j41(3,"mat-select",7)(4,"mat-option",8)(5,"button",9),g.bIt("click",function(){g.eBV(t);const r=g.XpG();return g.Njj(r.triggerCreateGroupMode())}),g.nrm(6,"mat-icon",10),g.EFF(7," Create new group "),g.k0s()(),g.Z7z(8,_5t,2,2,"mat-option",8,b5t),g.k0s(),g.DNE(10,E5t,2,0,"mat-error",11),g.k0s()}if(2&n){const t=g.XpG();g.R7$(3),g.Y8G("formControl",t.groupControl),g.R7$(),g.Y8G("value",null),g.R7$(4),g.Dyx(t.data.groupList),g.R7$(2),g.Y8G("ngIf",null==t.groupControl?null:t.groupControl.hasError("required"))}}function x5t(n,e){1&n&&(g.j41(0,"mat-error"),g.EFF(1,"Value is required."),g.k0s())}function M5t(n,e){if(1&n&&(g.j41(0,"div")(1,"mat-form-field",3)(2,"mat-label"),g.EFF(3,"Group Name"),g.k0s(),g.nrm(4,"input",12),g.j41(5,"mat-hint",13),g.EFF(6),g.k0s(),g.DNE(7,x5t,2,0,"mat-error",11),g.k0s()()),2&n){const t=g.XpG();g.R7$(4),g.Y8G("formControl",t.newGroupControl),g.R7$(2),g.SpI(" ",null==t.newGroupControl.value?null:t.newGroupControl.value.length,"/ 63"),g.R7$(),g.Y8G("ngIf",null==t.newGroupControl?null:t.newGroupControl.hasError("required"))}}function C5t(n,e){if(1&n){const t=g.RV6();g.j41(0,"button",14),g.bIt("click",function(){g.eBV(t);const r=g.XpG();return g.Njj(r.onSave())}),g.EFF(1,"Save"),g.k0s()}if(2&n){const t=g.XpG();g.Y8G("disabled",!t.isValidGroup())}}function S5t(n,e){if(1&n){const t=g.RV6();g.j41(0,"button",14),g.bIt("click",function(){g.eBV(t);const r=g.XpG();return g.Njj(r.onCreate())}),g.EFF(1," Create "),g.k0s()}if(2&n){const t=g.XpG();g.Y8G("disabled",!t.newGroupControl.value)}}let D5t=(()=>{class n{#t=(0,g.WQX)(lt.CP);data=(0,g.WQX)(lt.Vh);groupControl=new ki.MJ("");newGroupControl=new ki.MJ("");isCreateMode=(0,g.vPA)(!1);title=(0,g.EWP)(()=>this.isCreateMode()?"Create Group":"Assign Group");isValidGroup=(0,g.vPA)(!1);groupValue=(0,qc.ot)(this.groupControl.valueChanges,{initialValue:this.groupControl.value});#e=(0,g.QZP)(()=>{this.groupValue(),this.updateButtonState()},{allowSignalWrites:!0});updateButtonState(){const t=!!this.groupControl.value&&this.data.groupList.filter(i=>i.config.label?.text===this.groupControl.value).length>0;this.isValidGroup.set(t)}_filter(t){const i=t.toLowerCase();return this.data.groupList.filter(r=>r.config.label?.text&&r.config.label.text.toLowerCase().includes(i))}triggerCreateGroupMode(){this.isCreateMode.set(!0)}onCreate(){this.newGroupControl.invalid||this.#t.close(this.newGroupControl.value)}onSave(){this.#t.close(this.groupControl.value)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=g.VBU({type:n,selectors:[["one-ui-network-demo-topology-page-ui-assign-group-dialog"]],standalone:!0,features:[g.aNF],decls:13,vars:3,consts:[["mat-dialog-title",""],[1,"flex","items-center","justify-between"],[1,"example-form","overflow-hidden",3,"keydown.enter"],["floatLabel","always",1,"group-field"],[1,"gl-fill-remaining-space"],["type","button","mat-button","","mat-dialog-close",""],["type","button","mat-flat-button","","color","primary",3,"disabled"],["placeholder","---",3,"formControl"],[3,"value"],["type","button","mat-stroked-button","",3,"click"],["svgIcon","icon:add"],[4,"ngIf"],["title","Group Name","matInput","","required","","minlength","1","maxlength","63",3,"formControl"],["align","end"],["type","button","mat-flat-button","","color","primary",3,"click","disabled"]],template:function(i,r){1&i&&(g.j41(0,"h1",0)(1,"div",1),g.EFF(2),g.k0s()(),g.j41(3,"mat-dialog-content")(4,"form",2),g.bIt("keydown.enter",function(s){return s.preventDefault(),r.onCreate()}),g.DNE(5,w5t,11,3,"mat-form-field",3)(6,M5t,8,3,"div"),g.k0s()(),g.j41(7,"mat-dialog-actions"),g.nrm(8,"div",4),g.j41(9,"button",5),g.EFF(10,"Cancel"),g.k0s(),g.DNE(11,C5t,2,1,"button",6)(12,S5t,2,1,"button",6),g.k0s()),2&i&&(g.R7$(2),g.SpI(" ",r.title()," "),g.R7$(3),g.vxM(!1===r.isCreateMode()?5:6),g.R7$(6),g.vxM(!1===r.isCreateMode()?11:12))},dependencies:[Pi.MD,Pi.bT,lt.hM,lt.tx,lt.BI,lt.E7,lt.Yi,hi.Hl,hi.$z,oct,gs.rl,gs.nJ,gs.MV,gs.TL,y5t,Fi.wT,nct,ki.X1,ki.qT,ki.me,ki.BC,ki.cb,ki.YS,ki.xh,ki.tU,ki.l_,gs.RG,bg.fS,bg.fg,Pl.m_,Pl.An],styles:[".group-field[_ngcontent-%COMP%]{width:512px}.create-group-option[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;border-top:1px solid #bec9c8;height:48px}.create-group-option[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;right:16px;top:4px}"],changeDetection:0})}return n})(),SG=(()=>{class n{#t=(0,g.WQX)(lt.CP);DATA=(0,g.WQX)(lt.Vh);confirm(){this.#t.close(!0)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=g.VBU({type:n,selectors:[["one-ui-network-demo-topology-page-ui-ungroup-dialog"]],standalone:!0,features:[g.aNF],decls:10,vars:2,consts:[["mat-dialog-title",""],[1,"gl-fill-remaining-space"],["type","button","mat-button","","mat-dialog-close",""],["type","button","mat-flat-button","","color","primary",3,"click"]],template:function(i,r){1&i&&(g.j41(0,"h1",0),g.EFF(1),g.k0s(),g.j41(2,"mat-dialog-content"),g.EFF(3),g.k0s(),g.j41(4,"mat-dialog-actions"),g.nrm(5,"div",1),g.j41(6,"button",2),g.EFF(7,"Cancel"),g.k0s(),g.j41(8,"button",3),g.bIt("click",function(){return r.confirm()}),g.EFF(9,"Ok"),g.k0s()()),2&i&&(g.R7$(),g.JRh(r.DATA.title),g.R7$(2),g.JRh(r.DATA.message))},dependencies:[lt.hM,lt.tx,lt.BI,lt.E7,lt.Yi,hi.Hl,hi.$z],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}return n})();const T5t=["input"],A5t=["formField"],O5t=["*"];let sct=0;class act{constructor(e,t){this.source=e,this.value=t}}const k5t={provide:ki.kq,useExisting:(0,g.Rfq)(()=>cct),multi:!0},lct=new g.nKC("MatRadioGroup"),I5t=new g.nKC("mat-radio-default-options",{providedIn:"root",factory:function R5t(){return{color:"accent",disabledInteractive:!1}}});let cct=(()=>{class n{get name(){return this._name}set name(t){this._name=t,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(t){this._labelPosition="before"===t?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(t){this._selected=t,this.value=t?t.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._markRadiosForCheck()}get required(){return this._required}set required(t){this._required=t,this._markRadiosForCheck()}get disabledInteractive(){return this._disabledInteractive}set disabledInteractive(t){this._disabledInteractive=t,this._markRadiosForCheck()}constructor(t){this._changeDetector=t,this._value=null,this._name="mat-radio-group-"+sct++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new g.bkB,this._disabledInteractive=!1}ngAfterContentInit(){this._isInitialized=!0,this._buttonChanges=this._radios.changes.subscribe(()=>{this.selected&&!this._radios.find(t=>t===this.selected)&&(this._selected=null)})}ngOnDestroy(){this._buttonChanges?.unsubscribe()}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(t=>{t.name=this.name,t._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(i=>{i.checked=this.value===i.value,i.checked&&(this._selected=i)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new act(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(t=>t._markForCheck())}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetector.markForCheck()}static#t=this.\u0275fac=function(i){return new(i||n)(g.rXU(g.gRc))};static#e=this.\u0275dir=g.FsC({type:n,selectors:[["mat-radio-group"]],contentQueries:function(i,r,o){if(1&i&&g.wni(o,DG,5),2&i){let s;g.mGM(s=g.lsd())&&(r._radios=s)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:[2,"disabled","disabled",g.L39],required:[2,"required","required",g.L39],disabledInteractive:[2,"disabledInteractive","disabledInteractive",g.L39]},outputs:{change:"change"},exportAs:["matRadioGroup"],standalone:!0,features:[g.Jv_([k5t,{provide:lct,useExisting:n}]),g.GFd]})}return n})(),DG=(()=>{class n{get checked(){return this._checked}set checked(t){this._checked!==t&&(this._checked=t,t&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!t&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),t&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===t),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(t){this._labelPosition=t}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(t){this._setDisabled(t)}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(t){this._required=t}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._defaultOptions&&this._defaultOptions.color||"accent"}set color(t){this._color=t}get disabledInteractive(){return this._disabledInteractive||null!==this.radioGroup&&this.radioGroup.disabledInteractive}set disabledInteractive(t){this._disabledInteractive=t}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,i,r,o,s,a,l,u){this._elementRef=i,this._changeDetector=r,this._focusMonitor=o,this._radioDispatcher=s,this._defaultOptions=l,this._ngZone=(0,g.WQX)(g.SKi),this._uniqueId="mat-radio-"+ ++sct,this.id=this._uniqueId,this.disableRipple=!1,this.tabIndex=0,this.change=new g.bkB,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this._injector=(0,g.WQX)(g.zZn),this._onInputClick=d=>{this.disabled&&this.disabledInteractive&&d.preventDefault()},this.radioGroup=t,this._noopAnimations="NoopAnimations"===a,this._disabledInteractive=l?.disabledInteractive??!1,u&&(this.tabIndex=(0,g.Udg)(u,0))}focus(t,i){i?this._focusMonitor.focusVia(this._inputElement,i,t):this._inputElement.nativeElement.focus(t)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((t,i)=>{t!==this.id&&i===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{!t&&this.radioGroup&&this.radioGroup._touch()}),this._ngZone.runOutsideAngular(()=>{this._inputElement.nativeElement.addEventListener("click",this._onInputClick)})}ngOnDestroy(){this._inputElement?.nativeElement.removeEventListener("click",this._onInputClick),this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new act(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputInteraction(t){if(t.stopPropagation(),!this.checked&&!this.disabled){const i=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),i&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(t){this._onInputInteraction(t),(!this.disabled||this.disabledInteractive)&&this._inputElement?.nativeElement.focus()}_setDisabled(t){this._disabled!==t&&(this._disabled=t,this._changeDetector.markForCheck())}_updateTabIndex(){const t=this.radioGroup;let i;if(i=t&&t.selected&&!this.disabled?t.selected===this?this.tabIndex:-1:this.tabIndex,i!==this._previousTabIndex){const r=this._inputElement?.nativeElement;r&&(r.setAttribute("tabindex",i+""),this._previousTabIndex=i,(0,g.mal)(()=>{queueMicrotask(()=>{t&&t.selected&&t.selected!==this&&document.activeElement===r&&(t.selected?._inputElement.nativeElement.focus(),document.activeElement===r&&this._inputElement.nativeElement.blur())})},{injector:this._injector}))}}static#t=this.\u0275fac=function(i){return new(i||n)(g.rXU(lct,8),g.rXU(g.aKT),g.rXU(g.gRc),g.rXU(cn.FN),g.rXU(vNt),g.rXU(g.bc$,8),g.rXU(I5t,8),g.kS0("tabindex"))};static#e=this.\u0275cmp=g.VBU({type:n,selectors:[["mat-radio-button"]],viewQuery:function(i,r){if(1&i&&(g.GBs(T5t,5),g.GBs(A5t,7,g.aKT)),2&i){let o;g.mGM(o=g.lsd())&&(r._inputElement=o.first),g.mGM(o=g.lsd())&&(r._rippleTrigger=o.first)}},hostAttrs:[1,"mat-mdc-radio-button"],hostVars:19,hostBindings:function(i,r){1&i&&g.bIt("focus",function(){return r._inputElement.nativeElement.focus()}),2&i&&(g.BMQ("id",r.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),g.AVh("mat-primary","primary"===r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("mat-mdc-radio-checked",r.checked)("mat-mdc-radio-disabled",r.disabled)("mat-mdc-radio-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable",r._noopAnimations))},inputs:{id:"id",name:"name",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],disableRipple:[2,"disableRipple","disableRipple",g.L39],tabIndex:[2,"tabIndex","tabIndex",t=>null==t?0:(0,g.Udg)(t)],checked:[2,"checked","checked",g.L39],value:"value",labelPosition:"labelPosition",disabled:[2,"disabled","disabled",g.L39],required:[2,"required","required",g.L39],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",g.L39]},outputs:{change:"change"},exportAs:["matRadioButton"],standalone:!0,features:[g.GFd,g.aNF],ngContentSelectors:O5t,decls:13,vars:17,consts:[["formField",""],["input",""],["mat-internal-form-field","",3,"labelPosition"],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"change","id","checked","disabled","required"],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(i,r){if(1&i){const o=g.RV6();g.NAR(),g.j41(0,"div",2,0)(2,"div",3)(3,"div",4),g.bIt("click",function(a){return g.eBV(o),g.Njj(r._onTouchTargetClick(a))}),g.k0s(),g.j41(4,"input",5,1),g.bIt("change",function(a){return g.eBV(o),g.Njj(r._onInputInteraction(a))}),g.k0s(),g.j41(6,"div",6),g.nrm(7,"div",7)(8,"div",8),g.k0s(),g.j41(9,"div",9),g.nrm(10,"div",10),g.k0s()(),g.j41(11,"label",11),g.SdG(12),g.k0s()()}2&i&&(g.Y8G("labelPosition",r.labelPosition),g.R7$(2),g.AVh("mdc-radio--disabled",r.disabled),g.R7$(2),g.Y8G("id",r.inputId)("checked",r.checked)("disabled",r.disabled&&!r.disabledInteractive)("required",r.required),g.BMQ("name",r.name)("value",r.value)("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby)("aria-disabled",r.disabled&&r.disabledInteractive?"true":null),g.R7$(5),g.Y8G("matRippleTrigger",r._rippleTrigger.nativeElement)("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",!0),g.R7$(2),g.Y8G("for",r.inputId))},dependencies:[Fi.r6,Fi.tO],styles:['.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color;padding:calc((var(--mdc-radio-state-layer-size) - 20px)/2)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled])~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color, var(--mat-app-on-surface))}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color, var(--mat-app-primary))}.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color, var(--mat-app-on-surface))}.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color, var(--mat-app-primary))}.mat-mdc-radio-button .mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mat-mdc-radio-button .mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size);top:calc(-1*(var(--mdc-radio-state-layer-size) - 20px)/2);left:calc(-1*(var(--mdc-radio-state-layer-size) - 20px)/2)}.mat-mdc-radio-button .mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;top:0;right:0;left:0;cursor:inherit;z-index:1;width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color, var(--mat-app-on-surface));opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{cursor:default}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color, var(--mat-app-on-surface));opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color, var(--mat-app-primary))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color, var(--mat-app-primary))}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled{pointer-events:auto}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color, var(--mat-app-on-surface));opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled:hover .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled:hover .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:checked:focus+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:checked:focus+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color, var(--mat-app-on-surface));opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color, var(--mat-app-on-surface))}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element,.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color, var(--mat-app-primary))}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mat-ripple-element,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color, var(--mat-app-on-surface))}.mat-mdc-radio-button .mat-internal-form-field{color:var(--mat-radio-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-radio-label-text-font, var(--mat-app-body-medium-font));line-height:var(--mat-radio-label-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-radio-label-text-size, var(--mat-app-body-medium-size));letter-spacing:var(--mat-radio-label-text-tracking, var(--mat-app-body-medium-tracking));font-weight:var(--mat-radio-label-text-weight, var(--mat-app-body-medium-weight))}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, var(--mat-app-on-surface))}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-disabled{cursor:default;pointer-events:none}.mat-mdc-radio-disabled.mat-mdc-radio-disabled-interactive{pointer-events:auto}.mat-mdc-radio-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-radio-touch-target-display)}[dir=rtl] .mat-mdc-radio-touch-target{left:auto;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0})}return n})(),P5t=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=g.$C({type:n});static#n=this.\u0275inj=g.G2t({imports:[Fi.yE,Pi.MD,Fi.pZ,DG,Fi.yE]})}return n})(),N5t=(()=>{class n{#t=(0,g.WQX)(ki.Qk);#e=(0,g.WQX)(lt.CP);DATA=(0,g.WQX)(lt.Vh);LinkStyle=yE;form=this.#t.group({linkType:[yE.NORMAL]});linkTypeValue=(0,qc.ot)(this.form.get("linkType").valueChanges,{initialValue:this.form.getRawValue().linkType});onAddLink(){const{source:t,target:i}=this.DATA;this.#e.close({source:t,target:i,linkType:this.linkTypeValue()})}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=g.VBU({type:n,selectors:[["one-ui-create-link-dialog"]],standalone:!0,features:[g.aNF],decls:17,vars:4,consts:[["mat-dialog-title",""],[3,"formGroup"],["formControlName","linkType",1,"gl-radio-group-vertical"],[3,"value"],[1,"gl-fill-remaining-space"],["type","button","mat-button","","mat-dialog-close",""],["type","button","mat-flat-button","","color","primary",3,"click","disabled"]],template:function(i,r){1&i&&(g.j41(0,"h1",0),g.EFF(1,"Add Link"),g.k0s(),g.j41(2,"mat-dialog-content")(3,"form",1)(4,"mat-label"),g.EFF(5,"Link Type"),g.k0s(),g.j41(6,"mat-radio-group",2)(7,"mat-radio-button",3),g.EFF(8," Wired connection "),g.k0s(),g.j41(9,"mat-radio-button",3),g.EFF(10," Wireless connection "),g.k0s()()()(),g.j41(11,"mat-dialog-actions"),g.nrm(12,"div",4),g.j41(13,"button",5),g.EFF(14,"Cancel"),g.k0s(),g.j41(15,"button",6),g.bIt("click",function(){return r.onAddLink()}),g.EFF(16,"Add"),g.k0s()()),2&i&&(g.R7$(3),g.Y8G("formGroup",r.form),g.R7$(4),g.Y8G("value",r.LinkStyle.NORMAL),g.R7$(2),g.Y8G("value",r.LinkStyle.DASH),g.R7$(6),g.Y8G("disabled",!1))},dependencies:[lt.hM,lt.tx,lt.BI,lt.E7,lt.Yi,gs.RG,gs.nJ,hi.Hl,hi.$z,P5t,cct,DG,ki.X1,ki.qT,ki.BC,ki.cb,ki.j4,ki.JD,bg.fS],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}return n})(),uct=(()=>{class n{layoutMenuBtn;#t=(0,g.WQX)(gD);#e=(0,g.WQX)(lt.bZ);#n=(0,g.WQX)(g.zZn);containerId=Math.random().toString(36).substring(2,7);containerObserver=null;topologyMode=this.#t.topologyMode;interactiveMode=this.#t.interactiveMode;point=this.#t.currPoint;TopologyActionType=Bu;devices=(0,g.hFB)([]);links=(0,g.hFB)([]);groups=(0,g.hFB)([]);background=(0,g.hFB)();tooltip=(0,g.hFB)();disableCreateEdge=(0,g.hFB)(!1);disableRemove=(0,g.hFB)(!1);keyStates=new Set;graph=(0,g.EWP)(()=>this.#t.graph());extendedBehaviors=(0,g.EWP)(()=>{const t=structuredClone(jNt);return this.topologyMode()===Nl.DESIGN&&(t.push(Bi.CLICK_SELECT),t.push(Bi.DRAG_ELEMENT),t.push(Bi.HOVER_ACTIVATE),t.push(Jlt("key")),t.push(((n,e)=>({type:Bi.CREATE_EDGE,trigger:"none",onStart:n,onEnd:e}))(this.onAddLinkStart.bind(this),this.openAddLinkDialog.bind(this)))),this.interactiveMode()===Ff.PAN&&(t.push(Bi.CLICK_SELECT),t.push(Bi.DRAG_CANVAS)),[Ff.SINGLE_SELECT,Ff.MULTI_SELECT].includes(this.interactiveMode())&&(t.push(Bi.CLICK_SELECT),t.push(Jlt("select")),t.push((()=>({type:Bi.DRAG_CANVAS,enable:()=>this.keyStates.has("Space")}))())),this.interactiveMode()===Ff.MULTI_SELECT&&t.push({type:Bi.CLICK_SELECT,multipleMode:"click"}),t});extendedPlugins=(0,g.EWP)(()=>{const t=structuredClone(VNt),i=this.background(),r=this.tooltip();return i&&t.push(i),this.topologyMode()===Nl.DESIGN&&t.push(((n,e)=>({type:Lr.ELEMENT_TOOLBAR,getItems:n,onClick:e}))(this.getElementToolbarItems.bind(this),this.onElementToolbarClick.bind(this))),this.topologyMode()===Nl.MONITOR&&r&&t.push(r),t});#i=(0,g.QZP)(()=>{this.graph()?.setBehavior(this.extendedBehaviors())});#r=(0,g.QZP)(()=>{this.graph()?.setPlugin(this.extendedPlugins()),this.graph()?.render()});#o=(0,g.QZP)(()=>{if(this.topologyMode()===Nl.MONITOR){const t=this.graph()?.getNodeData().map(o=>o.id),i=this.graph()?.getEdgeData().map(o=>o.id),r=this.graph()?.getGroupData().map(o=>o.id);this.graph()?.clearElementState([...t,...i,...r]),this.graph()?.render()}});ngAfterViewInit(){const t=new P4t({renderer:"canvas",container:this.containerId,bgColor:"#F8FAF9",behaviors:this.extendedBehaviors(),plugins:this.extendedPlugins(),data:{nodes:this.devices(),edges:this.links(),groups:this.groups()}});t.render().then(()=>{fy(this.#t,{graph:t}),this.onContainerChange(),this.onPointerMove(),this.onKeyboardEvent()})}getElementToolbarItems(t){if(0===t.length)return[];const i=t.some(y=>"node"===this.graph().getElementType(y)),r=t.some(y=>"edge"===this.graph().getElementType(y)),o=t.some(y=>"group"===this.graph().getElementType(y)),a={icon:"delete_forever",value:"remove",info:"Remove"},l={icon:"group_work",value:"assign-group",info:"Assign Group"},u={icon:"mx-disband_group_outline",value:"un-group",info:"Ungroup"},d={icon:"shape_line_outline",value:"layout",info:"Auto Arrange"},f=t.length>1;let m=[];return m=!i||r||o?!r||i||o?!o||i||r?i&&r&&!o?[d,a]:i&&o&&!r?[d,l,u,a]:r&&o&&!i?[d,a]:[a]:[d,l,u]:[a]:[{icon:"add_link",value:"add-link",info:"Add Link"},d,l,a],this.disableRemove()&&(m=m.filter(y=>"remove"!==y.value)),f||(m=m.filter(y=>"layout"!==y.value)),(this.disableCreateEdge()||f)&&(m=m.filter(y=>"add-link"!==y.value)),m}onKeyboardEvent(){this.graph().on("keydown",t=>{this.keyStates.add(t.code),this.interactiveMode()!==Ff.PAN&&this.graph().graph.getCanvas().setCursor("grab")}),this.graph().on("keyup",t=>{this.keyStates.delete(t.code),this.graph().graph.getCanvas().setCursor("default")})}onElementToolbarClick(t,i){return{"un-group":this.onUnGroup,"add-link":this.onAddLink,"assign-group":this.onAssignGroup,layout:this.onLayoutMenuOpen,remove:this.onRemoveElement}[t].call(this,i),!0}onContainerChange(){const t=document.getElementById(this.containerId);t&&(this.containerObserver=new ResizeObserver(i=>{i.forEach(r=>{r.target===t&&this.graph().resize()})}),this.containerObserver.observe(t))}onPointerMove(){this.graph().on("pointermove",t=>{fy(this.#t,{currPoint:t.canvas})})}onRemoveElement(t){this.#e.open(SG,{panelClass:"mx-dialog-md",autoFocus:!1,data:{title:"Remove Element",message:"The selected elements will be removed."}}).afterClosed().subscribe(i=>{i&&this.#t.removeElements(t)})}onAddLink(t){this.graph().getBehaviorInstance(Bi.CREATE_EDGE).startCreateEdge(t[0])}onLayoutMenuOpen(t){const i=document.getElementById(this.containerId),r=document.getElementById("layout-menu");if(!i||!r)return;const o=this.graph().getElementBoundingBox(t),s=o.center[0]-37,a=o.min[1]-10;i?.appendChild(r),r.style.display="block",r.style.position="absolute",r.style.left=s+"px",r.style.top=a+"px",this.layoutMenuBtn?.openMenu()}onSelectLayout(t){const i=this.graph().getElementByState("node","selected").map(o=>o.id),r=this.graph().getElementByState("group","selected").map(o=>o.id);this.#t.setLayout([...i,...r],t)}onAddLinkStart(t){return t}openAddLinkDialog(t){const{source:i,target:r}=t;i!==r&&this.#e.open(N5t,{panelClass:"mx-dialog-md",autoFocus:!1,data:t,injector:this.#n}).afterClosed().subscribe(o=>{if(!o)return;const{source:s,target:a,linkType:l}=o;this.#t.addLink(s,a,l,l===yE.DASH?"Wireless":"Wired")})}updateState(){const t=this.graph().getNodeData().map(i=>({...i,config:{...i.config,states:[]},customData:{...i.customData}}));this.graph().updateNode(t),this.graph().render()}undo(){this.graph().undo()}redo(){this.graph().redo()}getElementIdByTypes=t=>{const i={nodes:[],edges:[],groups:[]};return t.forEach(r=>{const o=this.graph().getElementType(r);"node"===o&&i.nodes.push(r),"edge"===o&&i.edges.push(r),"group"===o&&i.groups.push(r)}),i};onUnGroup(t){const i=this.graph().getGroupData(t)[0];i&&this.#e.open(SG,{panelClass:"mx-dialog-md",autoFocus:!1,data:{title:"UnGroup",message:`${i.config.label?.text} will be ungrouped. Your devices will remain unaffected.`}}).afterClosed().subscribe(r=>{r&&this.#t.removeElements([i.id])})}onAssignGroup(t){const i=t.flatMap(o=>this.graph().getChildrenData(o)).filter(o=>"group"===this.graph().getElementType(o.id)).map(o=>o.id),r=this.graph().getGroupData().filter(o=>!i.includes(o.id)&&!t.includes(o.id));this.#e.open(D5t,{panelClass:"mx-dialog-md",autoFocus:!0,data:{groupList:r}}).afterClosed().subscribe(o=>{if(!o)return;const s=r.filter(a=>a.config.label?.text===o)[0];if(s?.id)this.#t.assignGroup(t,s.id);else{const a=this.#t.addGroup(o);this.#t.assignGroup(t,a)}})}ngOnDestroy(){this.containerObserver?.disconnect(),this.graph().destroy()}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=g.VBU({type:n,selectors:[["one-ui-topology"]],viewQuery:function(i,r){if(1&i&&g.GBs(Rg,5),2&i){let o;g.mGM(o=g.lsd())&&(r.layoutMenuBtn=o.first)}},inputs:{devices:[1,"devices"],links:[1,"links"],groups:[1,"groups"],background:[1,"background"],tooltip:[1,"tooltip"],disableCreateEdge:[1,"disableCreateEdge"],disableRemove:[1,"disableRemove"]},standalone:!0,features:[g.aNF],decls:29,vars:2,consts:[["layoutMenuBtn",""],["layoutMenu","matMenu"],[1,"container",3,"id"],["id","layout-menu",3,"matMenuTriggerFor"],[1,"select-menu"],["mat-menu-item","",3,"click"],[1,"h-100","flex","items-center","gap-2"],["title","Align horizontally","src","assets/mx-vertical_align_center.svg",1,"select-image"],["title","Align vertically","src","assets/mx-horizontal_align_center.svg",1,"select-image"],["title","Arrange horizontally","src","assets/icon-align-horizontally.svg",1,"select-image"],["title","Arrange vertically","src","assets/icon-align-vertically.svg",1,"select-image"],[1,"h-100","w-100","flex","items-center","justify-start"],["title","Align in a circle","src","assets/icon-align-ring.svg",1,"select-image"],["title"," Arrange in grid","src","assets/mx-grid.svg",1,"select-image"]],template:function(i,r){if(1&i){const o=g.RV6();g.nrm(0,"div",2),g.j41(1,"div",3,0)(3,"mat-menu",4,1)(5,"button",5),g.bIt("click",function(){return g.eBV(o),g.Njj(r.onSelectLayout(r.TopologyActionType.LAYOUT_HORIZONTAL))}),g.j41(6,"span",6),g.nrm(7,"img",7),g.EFF(8," Align horizontally "),g.k0s()(),g.j41(9,"button",5),g.bIt("click",function(){return g.eBV(o),g.Njj(r.onSelectLayout(r.TopologyActionType.LAYOUT_VERTICAL))}),g.j41(10,"span",6),g.nrm(11,"img",8),g.EFF(12," Align vertically "),g.k0s()(),g.j41(13,"button",5),g.bIt("click",function(){return g.eBV(o),g.Njj(r.onSelectLayout(r.TopologyActionType.LAYOUT_HORIZONTAL_ARRANGE))}),g.j41(14,"span",6),g.nrm(15,"img",9),g.EFF(16," Distribute horizontal space "),g.k0s()(),g.j41(17,"button",5),g.bIt("click",function(){return g.eBV(o),g.Njj(r.onSelectLayout(r.TopologyActionType.LAYOUT_VERTICAL_ARRANGE))}),g.j41(18,"span",6),g.nrm(19,"img",10),g.EFF(20," Distribute vertical space "),g.k0s()(),g.j41(21,"button",5),g.bIt("click",function(){return g.eBV(o),g.Njj(r.onSelectLayout(r.TopologyActionType.LAYOUT_CIRCLE))}),g.j41(22,"span",11),g.nrm(23,"img",12),g.EFF(24," Arrange in a Circle "),g.k0s()(),g.j41(25,"button",5),g.bIt("click",function(){return g.eBV(o),g.Njj(r.onSelectLayout(r.TopologyActionType.LAYOUT_GRID))}),g.j41(26,"span",11),g.nrm(27,"img",13),g.EFF(28," Arrange in grid "),g.k0s()()()()}if(2&i){const o=g.sdS(4);g.Y8G("id",r.containerId),g.R7$(),g.Y8G("matMenuTriggerFor",o)}},dependencies:[N,Ud,su,Rg],styles:[".container[_ngcontent-%COMP%]{width:auto;min-width:100%;height:calc(100vh - 132px);background-color:#fff;border-radius:5px}#layout-menu[_ngcontent-%COMP%]{display:none}.select-image[_ngcontent-%COMP%]{width:24px;height:24px;vertical-align:middle;margin-right:16px}"],changeDetection:0})}return n})();const L5t=[{name:"Robot",src:"assets/robot.png"},{name:"Machine",src:"assets/manufacturing.png"},{name:"Central",src:"assets/central.png"}],F5t={key:"graph-background",type:Lr.GRAPH_BACKGROUND,url:"assets/design-background.png",width:1557*.8,height:816};function B5t(n,e){if(1&n){const t=g.RV6();g.j41(0,"div",3)(1,"button",7)(2,"span",8),g.nrm(3,"img",9),g.j41(4,"span"),g.EFF(5,"Global auto arrange"),g.k0s()()(),g.j41(6,"mat-menu",10,0)(8,"button",11),g.bIt("click",function(){g.eBV(t);const r=g.XpG();return g.Njj(r.onSelectTopologyAction(r.TopologyActionType.LAYOUT_HORIZONTAL))}),g.j41(9,"span",12),g.nrm(10,"img",13),g.EFF(11," Align horizontally "),g.k0s()(),g.j41(12,"button",11),g.bIt("click",function(){g.eBV(t);const r=g.XpG();return g.Njj(r.onSelectTopologyAction(r.TopologyActionType.LAYOUT_VERTICAL))}),g.j41(13,"span",12),g.nrm(14,"img",14),g.EFF(15," Align vertically "),g.k0s()(),g.j41(16,"button",11),g.bIt("click",function(){g.eBV(t);const r=g.XpG();return g.Njj(r.onSelectTopologyAction(r.TopologyActionType.LAYOUT_HORIZONTAL_ARRANGE))}),g.j41(17,"span",12),g.nrm(18,"img",15),g.EFF(19," Distribute horizontal space "),g.k0s()(),g.j41(20,"button",11),g.bIt("click",function(){g.eBV(t);const r=g.XpG();return g.Njj(r.onSelectTopologyAction(r.TopologyActionType.LAYOUT_VERTICAL_ARRANGE))}),g.j41(21,"span",12),g.nrm(22,"img",16),g.EFF(23," Distribute vertical space "),g.k0s()(),g.j41(24,"button",11),g.bIt("click",function(){g.eBV(t);const r=g.XpG();return g.Njj(r.onSelectTopologyAction(r.TopologyActionType.LAYOUT_CIRCLE))}),g.j41(25,"span",12),g.nrm(26,"img",17),g.EFF(27," Arrange in a circle "),g.k0s()(),g.j41(28,"button",11),g.bIt("click",function(){g.eBV(t);const r=g.XpG();return g.Njj(r.onSelectTopologyAction(r.TopologyActionType.LAYOUT_GRID))}),g.j41(29,"span",18),g.nrm(30,"img",19),g.EFF(31," Arrange in grid "),g.k0s()()()()}if(2&n){const t=g.sdS(7);g.Y8G("matMenuTriggerFor",t)}}function j5t(n,e){if(1&n){const t=g.RV6();g.j41(0,"one-ui-device-selector",20),g.bIt("select",function(r){g.eBV(t);const o=g.XpG();return g.Njj(o.onAddDevice(r))}),g.k0s()}if(2&n){const t=g.XpG();g.Y8G("devices",t.deviceList())}}let V5t=(()=>{class n{#t=(0,g.WQX)(gD);TopologyMode=Nl;TopologyActionType=Bu;topologyMode=this.#t.topologyMode;interactiveMode=this.#t.interactiveMode;deviceList=(0,g.vPA)(L5t);devices=(0,g.vPA)([]);links=(0,g.vPA)([]);groups=(0,g.vPA)([]);background=(0,g.vPA)(F5t);loading=(0,g.vPA)(!0);selectedDevices=(0,g.vPA)([]);graph=(0,g.EWP)(()=>this.#t.graph());showLayout=(0,g.EWP)(()=>0===this.selectedDevices().length);#e=(0,g.QZP)(()=>{this.graph()?.once(Ah.GRAPH_AFTER_RENDER,()=>{this.loading.set(!1)})});#n=(0,g.QZP)(()=>{if(!this.graph())return;const t=this.graph().getNodeData().map(i=>i.id);this.topologyMode()===Nl.MONITOR?this.graph().updateNode(t.map(i=>({id:i,config:{highlight:"success"}}))):this.topologyMode()===Nl.DESIGN&&(this.graph().clearElementState(t),this.graph().updateNode(t.map(i=>({id:i,config:{highlight:"default"}})))),this.graph().render()});#i=(0,g.QZP)(()=>{this.graph()?.on(vg.NODE_SELECTED,()=>{this.updateSelectedDevices()}),this.graph()?.on(dE.GRAPH_BEFORE_BRUSH_SELECT,()=>{this.updateSelectedDevices()}),this.graph()?.on(uE.CANVAS_CLICK,()=>{this.updateSelectedDevices()})});onChangeTopologyMode(t){fy(this.#t,{topologyMode:t})}onChangeInteractiveMode(t){fy(this.#t,{interactiveMode:t})}onSelectTopologyAction(t){const i=this.graph().getNodeData().map(r=>r.id);this.#t.setLayout(i,t)}onAddDevice({item:t}){this.#t.addDevice(t.name,t.src)}updateSelectedDevices(){const t=this.graph()?.getElementByState("node","selected")?.map(i=>i.id);this.selectedDevices.set(t)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=g.VBU({type:n,selectors:[["one-ui-network-network-design-page"]],standalone:!0,features:[g.Jv_([gD]),g.aNF],decls:6,vars:9,consts:[["layoutMenu","matMenu"],[1,"container",3,"mxLoading"],[3,"toggleTopologyMode","toggleInteractiveMode","selectTopologyAction","topologyMode","interactiveMode"],[1,"global-auto-arrange",3,"matMenuTriggerFor"],[1,"boundary"],[3,"devices","links","groups","background"],[3,"devices"],["title","Global Auto Arrange","mat-button",""],[1,"flex","items-center","justify-between","gap-2"],["title","Global auto arrange","src","assets/icon-global-auto-arrange.svg",1,"icon-image"],[1,"select-menu"],["mat-menu-item","",3,"click"],[1,"h-100","flex","items-center","gap-2"],["title","Align horizontally","src","assets/mx-vertical_align_center.svg",1,"select-image"],["title","Align vertically","src","assets/mx-horizontal_align_center.svg",1,"select-image"],["title","Arrange horizontally","src","assets/icon-align-horizontally.svg",1,"select-image"],["title","Arrange vertically","src","assets/icon-align-vertically.svg",1,"select-image"],["title","Align in a circle","src","assets/icon-align-ring.svg",1,"select-image"],[1,"h-100","w-100","flex","items-center","gap-2"],["title"," Arrange in grid","src","assets/mx-grid.svg",1,"select-image"],[3,"select","devices"]],template:function(i,r){1&i&&(g.j41(0,"div",1)(1,"one-ui-toolbar",2),g.bIt("toggleTopologyMode",function(s){return r.onChangeTopologyMode(s)})("toggleInteractiveMode",function(s){return r.onChangeInteractiveMode(s)})("selectTopologyAction",function(s){return r.onSelectTopologyAction(s)}),g.DNE(2,B5t,32,1,"div",3),g.k0s(),g.j41(3,"div",4),g.nrm(4,"one-ui-topology",5),g.DNE(5,j5t,1,1,"one-ui-device-selector",6),g.k0s()()),2&i&&(g.Y8G("mxLoading",r.loading()),g.R7$(),g.Y8G("topologyMode",r.topologyMode())("interactiveMode",r.interactiveMode()),g.R7$(),g.vxM(r.topologyMode()===r.TopologyMode.DESIGN&&r.showLayout()?2:-1),g.R7$(2),g.Y8G("devices",r.devices())("links",r.links())("groups",r.groups())("background",r.background()),g.R7$(),g.vxM(r.topologyMode()===r.TopologyMode.DESIGN?5:-1))},dependencies:[qlt,uct,Vlt,hi.Hl,hi.$z,N,Ud,su,Rg,_t],styles:[".container[_ngcontent-%COMP%]{padding:0 16px;background-color:#e0e3e2;min-width:100%}[_nghost-%COMP%]     .boundary{position:relative;width:100%;height:100%}"],changeDetection:0})}return n})();var dct=P(633);function z5t(n){return n.value?n.value.split(".").every(i=>function U5t(n,e=255){return parseInt(n,10)<=e}(i)&&function H5t(n,e=0){return parseInt(n,10)>=e}(i))?null:{invalidIPv4:!0}:null}function G5t(n,e){1&n&&(g.j41(0,"mat-error"),g.EFF(1,"Value is required."),g.k0s())}function $5t(n,e){1&n&&(g.j41(0,"mat-error"),g.EFF(1,"Invalid IPv4."),g.k0s())}function W5t(n,e){1&n&&(g.j41(0,"mat-error"),g.EFF(1,"This IP is already in use."),g.k0s())}let K5t=(()=>{class n{#t=(0,g.WQX)(lt.CP);DATA=(0,g.WQX)(lt.Vh);form=new ki.gE({selectIp:new ki.MJ("",{validators:[]}),newIp:new ki.MJ("",{validators:[ki.k0.required,z5t]})});get selectIpForm(){return this.form.get("selectIp")}get newIpForm(){return this.form.get("newIp")}devices=(0,g.vPA)(this.DATA.devices||[]);selectDevice=(0,g.vPA)(this.DATA.selectDevice||{});selectIpValue=(0,qc.ot)(this.selectIpForm.valueChanges.pipe((0,oo.Z)(""),(0,Oh.T)(t=>t.toLowerCase())),{initialValue:""});newIpValue=(0,qc.ot)(this.newIpForm.valueChanges,{initialValue:""});ips=(0,g.EWP)(()=>this.devices().map(t=>t.config.label?.text));filterOptions=(0,g.EWP)(()=>{const t=this.selectIpValue();return this.ips().filter(i=>i?.toLowerCase().includes(t))});isIpInvalid=(0,g.EWP)(()=>{const t=this.selectDevice().config.label?.text,i=this.newIpValue();return this.ips().filter(o=>o!==t).includes(i)});#e=(0,g.QZP)(()=>{const t=this.selectDevice().config.label?.text;this.newIpForm.setValue(t)});onSave(){const{selectIp:t,newIp:i}=this.form.value;this.#t.close({selectIp:t,newIp:i})}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=g.VBU({type:n,selectors:[["one-ui-network-change-ip-dialog"]],standalone:!0,features:[g.aNF],decls:17,vars:3,consts:[["mat-dialog-title",""],[3,"formGroup"],[1,"w-full","max-w-[512px]"],["matInput","","formControlName","newIp","value","Sushi"],[1,"gl-fill-remaining-space"],["type","button","mat-button","","mat-dialog-close",""],["type","button","mat-flat-button","","color","primary",3,"click","disabled"]],template:function(i,r){1&i&&(g.j41(0,"h1",0),g.EFF(1,"Assign IP"),g.k0s(),g.j41(2,"mat-dialog-content")(3,"form",1)(4,"mat-form-field",2)(5,"mat-label"),g.EFF(6,"New IP Address"),g.k0s(),g.nrm(7,"input",3),g.DNE(8,G5t,2,0,"mat-error")(9,$5t,2,0,"mat-error")(10,W5t,2,0,"mat-error"),g.k0s()()(),g.j41(11,"mat-dialog-actions"),g.nrm(12,"div",4),g.j41(13,"button",5),g.EFF(14,"Cancel"),g.k0s(),g.j41(15,"button",6),g.bIt("click",function(){return r.onSave()}),g.EFF(16,"Save"),g.k0s()()),2&i&&(g.R7$(3),g.Y8G("formGroup",r.form),g.R7$(5),g.vxM(r.newIpForm.hasError("required")?8:r.newIpForm.hasError("invalidIPv4")?9:r.newIpForm.hasError("ipDuplicated")?10:-1),g.R7$(7),g.Y8G("disabled",r.form.invalid))},dependencies:[Pi.MD,lt.hM,lt.tx,lt.BI,lt.E7,lt.Yi,hi.Hl,hi.$z,oct,gs.rl,gs.nJ,gs.TL,nct,ki.X1,ki.qT,ki.me,ki.BC,ki.cb,ki.j4,ki.JD,gs.RG,bg.fS,bg.fg,Pl.m_],styles:[".group-field[_ngcontent-%COMP%]{width:512px}.create-group-option[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;border-top:1px solid #bec9c8;height:48px}.create-group-option[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;right:16px;top:4px}"],changeDetection:0})}return n})();const X5t=[],Y5t={key:"graph-background",type:Lr.GRAPH_BACKGROUND,url:"assets/monitor-background.png",width:1259.2,height:864},Q5t=[{id:"node1",config:{type:"device-node",point:{x:200,y:500},highlight:"success",title:{text:"Router"},label:{text:"123.12.12.11"},icon:{src:"assets/router.png",width:70,height:70}}},{id:"node2",config:{type:"device-node",point:{x:400,y:200},highlight:"success",title:{text:"Router"},label:{text:"123.12.12.12"},icon:{src:"assets/router.png",width:70,height:70}}},{id:"node3",config:{type:"device-node",point:{x:800,y:500},highlight:"success",title:{text:"Router"},label:{text:"123.12.12.13"},icon:{src:"assets/router.png",width:70,height:70}}},{id:"node4",config:{type:"device-node",point:{x:800,y:200},highlight:"success",title:{text:"Router"},label:{text:"123.12.12.14"},icon:{src:"assets/router.png",width:70,height:70}}},{id:"node5",config:{type:"device-node",point:{x:1e3,y:200},highlight:"success",title:{text:"Router"},label:{text:"123.12.12.12"},icon:{src:"assets/router.png",width:70,height:70}}},{id:"node6",config:{type:"device-node",point:{x:1e3,y:500},highlight:"success",title:{text:"Router"},label:{text:"123.12.12.16"},icon:{src:"assets/router.png",width:70,height:70}}},{id:"7",config:{type:"device-node",point:{x:600,y:500},highlight:"success",title:{text:"Sensor"},label:{text:"123.34.12.5"},icon:{src:"assets/sensor.png",width:70,height:70}}},{id:"8",config:{type:"device-node",point:{x:200,y:200},highlight:"success",title:{text:"Sensor"},label:{text:"123.34.12.6"},icon:{src:"assets/sensor.png",width:70,height:70}}},{id:"9",config:{type:"device-node",point:{x:600,y:200},highlight:"success",title:{text:"Sensor"},label:{text:"123.34.12.7"},icon:{src:"assets/sensor.png",width:70,height:70}}},{id:"99",config:{type:"device-node",point:{x:400,y:500},highlight:"success",title:{text:"Sensor"},label:{text:"123.34.12.8"},icon:{src:"assets/sensor.png",width:70,height:70}},customData:{needReboot:!0}}],q5t=[{id:"link1",source:"node1",target:"node2",config:{type:"line-edge",highlight:"success",lineDash:5}},{id:"link2",source:"node2",target:"node3",config:{type:"line-edge",highlight:"success",lineDash:5}},{id:"link3",source:"node3",target:"node4",config:{type:"line-edge",highlight:"success",lineDash:5}},{id:"link4",source:"node4",target:"node5",config:{type:"line-edge",highlight:"success",lineDash:5}},{id:"link5",source:"node5",target:"node6",config:{type:"line-edge",highlight:"success",lineDash:5}},{id:"link6",source:"node6",target:"node1",config:{type:"line-edge",highlight:"success",lineDash:5}},{id:"link7",source:"7",target:"8",config:{type:"line-edge",highlight:"success",lineDash:5}},{id:"link8",source:"8",target:"9",config:{type:"line-edge",highlight:"success",lineDash:5}},{id:"link9",source:"9",target:"99",config:{type:"line-edge",highlight:"success",lineDash:5}}];function J5t(n,e){if(1&n){const t=g.RV6();g.j41(0,"div",3)(1,"button",7)(2,"span",8),g.nrm(3,"img",9),g.j41(4,"span"),g.EFF(5,"Global auto arrange"),g.k0s()()(),g.j41(6,"mat-menu",10,0)(8,"button",11),g.bIt("click",function(){g.eBV(t);const r=g.XpG();return g.Njj(r.onSelectTopologyAction(r.TopologyActionType.LAYOUT_HORIZONTAL))}),g.j41(9,"span",12),g.nrm(10,"img",13),g.EFF(11," Align horizontally "),g.k0s()(),g.j41(12,"button",11),g.bIt("click",function(){g.eBV(t);const r=g.XpG();return g.Njj(r.onSelectTopologyAction(r.TopologyActionType.LAYOUT_VERTICAL))}),g.j41(13,"span",12),g.nrm(14,"img",14),g.EFF(15," Align vertically "),g.k0s()(),g.j41(16,"button",11),g.bIt("click",function(){g.eBV(t);const r=g.XpG();return g.Njj(r.onSelectTopologyAction(r.TopologyActionType.LAYOUT_HORIZONTAL_ARRANGE))}),g.j41(17,"span",12),g.nrm(18,"img",15),g.EFF(19," Distribute horizontal space "),g.k0s()(),g.j41(20,"button",11),g.bIt("click",function(){g.eBV(t);const r=g.XpG();return g.Njj(r.onSelectTopologyAction(r.TopologyActionType.LAYOUT_VERTICAL_ARRANGE))}),g.j41(21,"span",12),g.nrm(22,"img",16),g.EFF(23," Distribute vertical space "),g.k0s()(),g.j41(24,"button",11),g.bIt("click",function(){g.eBV(t);const r=g.XpG();return g.Njj(r.onSelectTopologyAction(r.TopologyActionType.LAYOUT_CIRCLE))}),g.j41(25,"span",12),g.nrm(26,"img",17),g.EFF(27," Arrange in a circle "),g.k0s()(),g.j41(28,"button",11),g.bIt("click",function(){g.eBV(t);const r=g.XpG();return g.Njj(r.onSelectTopologyAction(r.TopologyActionType.LAYOUT_GRID))}),g.j41(29,"span",18),g.nrm(30,"img",19),g.EFF(31," Arrange in grid "),g.k0s()()()()}if(2&n){const t=g.sdS(7);g.Y8G("matMenuTriggerFor",t)}}function tLt(n,e){if(1&n){const t=g.RV6();g.j41(0,"button",22),g.bIt("click",function(){g.eBV(t);const r=g.XpG(2);return g.Njj(r.onSelectTopologyAction(r.TopologyActionType.CHANGE_IP))}),g.EFF(1," Assign IP "),g.k0s()}}function eLt(n,e){if(1&n){const t=g.RV6();g.j41(0,"button",23),g.bIt("click",function(){g.eBV(t);const r=g.XpG(2);return g.Njj(r.onSelectTopologyAction(r.TopologyActionType.REBOOT))}),g.EFF(1," Reboot "),g.k0s()}}function nLt(n,e){if(1&n&&g.DNE(0,tLt,2,0,"button",20)(1,eLt,2,0,"button",21),2&n){const t=g.XpG();g.vxM(t.showAssignIp()?0:-1),g.R7$(),g.vxM(t.showReboot()?1:-1)}}function iLt(n,e){if(1&n){const t=g.RV6();g.j41(0,"one-ui-device-selector",24),g.bIt("select",function(r){g.eBV(t);const o=g.XpG();return g.Njj(o.onAddDevice(r))}),g.k0s()}if(2&n){const t=g.XpG();g.Y8G("devices",t.deviceList())}}let rLt=(()=>{class n{#t=(0,g.WQX)(gD);#e=(0,g.WQX)(lt.bZ);#n=(0,g.WQX)(dct.U);TopologyMode=Nl;TopologyActionType=Bu;topologyMode=this.#t.topologyMode;interactiveMode=this.#t.interactiveMode;subscription=new $r.yU;deviceList=(0,g.vPA)(X5t);devices=(0,g.vPA)(Q5t);links=(0,g.vPA)(q5t);groups=(0,g.vPA)([]);background=(0,g.vPA)(Y5t);tooltip=(0,g.vPA)((n=>({key:"tooltip",type:Lr.TOOLTIP,enable:n,render:()=>'<div style="color: red; font-size: 1.2rem; font-family: Roboto">Need Reboot!</div>'}))(this.onEnableTooltip.bind(this)));selectedDevices=(0,g.vPA)([]);loading=(0,g.vPA)(!0);graph=(0,g.EWP)(()=>this.#t.graph());showLayout=(0,g.EWP)(()=>0===this.selectedDevices().length);showAssignIp=(0,g.EWP)(()=>1===this.selectedDevices().length);showReboot=(0,g.EWP)(()=>this.selectedDevices().length>0);#i=(0,g.QZP)(()=>{fy(this.#t,{topologyMode:Nl.MONITOR})},{allowSignalWrites:!0});#r=(0,g.QZP)(()=>{this.graph()?.once(Ah.GRAPH_AFTER_RENDER,()=>{this.loading.set(!1)})});#o=(0,g.QZP)(()=>{});#s=(0,g.QZP)(()=>{this.graph()?.on(vg.NODE_SELECTED,()=>{this.updateSelectedDevices()}),this.graph()?.on(dE.GRAPH_BEFORE_BRUSH_SELECT,()=>{this.updateSelectedDevices()}),this.graph()?.on(uE.CANVAS_CLICK,()=>{this.updateSelectedDevices()})});#a=(0,g.QZP)(()=>{const t=this.topologyMode(),i=this.graph()?.getNodeData().map(o=>o.id),r=this.graph()?.getEdgeData().map(o=>o.id);t===Nl.DESIGN&&(this.graph()?.updateNode(i.map(o=>({id:o,config:{states:[],highlight:"default"}}))),this.graph()?.updateEdge(r.map(o=>({id:o,config:{states:[],highlight:"default"}})))),this.graph()?.render()});#l=(0,g.QZP)(()=>{const t=r=>{const o=this.graph()?.getElementState(r).filter(s=>"active"!==s);return Math.random()>.5?o:[...o,"active"]},i=dlt(1e3).pipe((0,py.M)(()=>{if((0,g.O8t)(this.topologyMode)===Nl.DESIGN)return;const{nodeIds:r,edgeIds:o}=this.getDuplicatedIpElements(),s=[...r,...o].reduce((a,l)=>(a[l]=t(l),a),{});this.updateDeviceAndLinkStatus(r,o),this.graph()?.setElementState(s),this.graph()?.render()})).subscribe();this.subscription.add(i)});updateSelectedDevices(){const t=this.graph()?.getElementByState("node","selected")?.map(i=>i.id);this.selectedDevices.set(t)}getDuplicatedIpElements(){const t=this.graph()?.getNodeData().reduce((o,s)=>{const a=s.config?.label?.text||"";return o[a]?o[a].push(s.id):o[a]=[s.id],o},{}),i=Object.keys(t).filter(o=>t[o].length>1).flatMap(o=>t[o]),r=i.flatMap(o=>this.graph().graph.getRelatedEdgesData(o).map(s=>s.id));return{nodeIds:i,edgeIds:r}}updateDeviceAndLinkStatus(t,i){const r=this.graph().getNodeData().map(s=>s.id),o=this.graph().getEdgeData().map(s=>s.id);this.graph()?.updateNode(r.map(s=>{if("node10"===s){const{customData:a}=this.graph().getNodeData(s);if(a?.needReboot)return{id:s,config:{highlight:"warning"}}}return{id:s,config:{highlight:t.includes(s)?"error":"success"}}})),this.graph()?.updateEdge(o.map(s=>({id:s,config:{highlight:i.includes(s)?"error":"success"}})))}getSelectedDevices(){return this.graph().getElementByState("node","selected")}onEnableTooltip(t){return"node"===t.target.type&&"node10"===t.target.id}onChangeTopologyMode(t){fy(this.#t,{topologyMode:t})}onChangeInteractiveMode(t){fy(this.#t,{interactiveMode:t})}onSelectTopologyAction(t){const i=this.graph().getNodeData().map(r=>r.id);t===Bu.CHANGE_IP?this.openAssignIpDialog():t===Bu.REBOOT?this.openRebootDialog():this.#t.setLayout(i,t)}onAddDevice({item:t}){this.#t.addDevice(t.name,t.src)}openAssignIpDialog(){const t=this.getSelectedDevices();1===t.length?this.#e.open(K5t,{panelClass:"mx-dialog-md",data:{devices:this.graph().getNodeData(),selectDevice:t[0]}}).afterClosed().subscribe(i=>{if(!i)return;const{newIp:r}=i;this.#t.setDeviceLabel(t[0].id,r)}):this.#n.open("Please select one device at a time.")}openRebootDialog(){const t=this.getSelectedDevices();0!==t.length?this.#e.open(SG,{panelClass:"mx-dialog-md",data:{title:"Reboot",message:`The ${t.length} selected devices will be rebooted.`}}).afterClosed().subscribe(i=>{i&&(t.forEach(r=>{const o=this.graph().getNodeData(r.id);delete o.customData?.needReboot,"node10"===r.id&&this.tooltip.set(null)}),this.graph().render())}):this.#n.open("Please select at least one device.")}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=g.VBU({type:n,selectors:[["one-ui-network-system-monitor-page"]],standalone:!0,features:[g.Jv_([gD]),g.aNF],decls:7,vars:12,consts:[["layoutMenu","matMenu"],[1,"container",3,"mxLoading"],[3,"toggleTopologyMode","toggleInteractiveMode","selectTopologyAction","topologyMode","interactiveMode"],[1,"global-auto-arrange",3,"matMenuTriggerFor"],[1,"boundary"],[3,"devices","links","groups","background","tooltip","disableRemove","disableCreateEdge"],[3,"devices"],["title","Global Auto Arrange","mat-button",""],[1,"flex","items-center","justify-between","gap-2"],["title","Global auto arrange","src","assets/icon-global-auto-arrange.svg",1,"icon-image"],[1,"select-menu"],["mat-menu-item","",3,"click"],[1,"h-100","flex","items-center","gap-2"],["title","Align horizontally","src","assets/mx-vertical_align_center.svg",1,"select-image"],["title","Align vertically","src","assets/mx-horizontal_align_center.svg",1,"select-image"],["title","Arrange horizontally","src","assets/icon-align-horizontally.svg",1,"select-image"],["title","Arrange vertically","src","assets/icon-align-vertically.svg",1,"select-image"],["title","Align in a circle","src","assets/icon-align-ring.svg",1,"select-image"],[1,"h-100","w-100","flex","items-center","gap-2"],["title"," Arrange in grid","src","assets/mx-grid.svg",1,"select-image"],["title","Change IP","mat-button","","matTooltip","Change Device IP"],["title","Reboot","mat-button","","matTooltip","Reboot Device"],["title","Change IP","mat-button","","matTooltip","Change Device IP",3,"click"],["title","Reboot","mat-button","","matTooltip","Reboot Device",3,"click"],[3,"select","devices"]],template:function(i,r){1&i&&(g.j41(0,"div",1)(1,"one-ui-toolbar",2),g.bIt("toggleTopologyMode",function(s){return r.onChangeTopologyMode(s)})("toggleInteractiveMode",function(s){return r.onChangeInteractiveMode(s)})("selectTopologyAction",function(s){return r.onSelectTopologyAction(s)}),g.DNE(2,J5t,32,1,"div",3)(3,nLt,2,2),g.k0s(),g.j41(4,"div",4),g.nrm(5,"one-ui-topology",5),g.DNE(6,iLt,1,1,"one-ui-device-selector",6),g.k0s()()),2&i&&(g.Y8G("mxLoading",r.loading()),g.R7$(),g.Y8G("topologyMode",r.topologyMode())("interactiveMode",r.interactiveMode()),g.R7$(),g.vxM(r.topologyMode()===r.TopologyMode.DESIGN&&r.showLayout()?2:r.topologyMode()===r.TopologyMode.MONITOR?3:-1),g.R7$(3),g.Y8G("devices",r.devices())("links",r.links())("groups",r.groups())("background",r.background())("tooltip",r.tooltip())("disableRemove",!0)("disableCreateEdge",!0),g.R7$(),g.vxM(r.topologyMode()===r.TopologyMode.DESIGN?6:-1))},dependencies:[qlt,uct,Vlt,hi.Hl,hi.$z,N,Ud,su,Rg,_t],styles:[".container[_ngcontent-%COMP%]{padding:0 16px;background-color:#e0e3e2;min-width:100%}[_nghost-%COMP%]     .boundary{position:relative;width:100%;height:100%}"],changeDetection:0})}return n})();var bE=P(2308),hct=P(3027);const oLt=[[["","left-content",""]],[["","right-content",""]]],sLt=["[left-content]","[right-content]"];function aLt(n,e){if(1&n){const t=g.RV6();g.j41(0,"button",7),g.bIt("click",function(){g.eBV(t);const r=g.XpG();return g.Njj(r.onToggleMenu())}),g.nrm(1,"mat-icon",8),g.k0s()}if(2&n){const t=g.XpG();g.Y8G("matTooltipDisabled",!t.menuIconTooltip)("matTooltip",t.menuIconTooltip)("disabled",t.isDisabledMenuIcon)}}function lLt(n,e){if(1&n&&g.nrm(0,"img",3),2&n){const t=g.XpG();g.Y8G("width",t.customLogoWidth)("src",t.customLogo,g.B4B)}}function cLt(n,e){1&n&&g.nrm(0,"img",9)(1,"img",10)}let uLt=(()=>{class n{constructor(){this.color="primary",this.menuIconTooltip="",this.isDisabledMenuIcon=!1,this.customLogo="",this.customLogoWidth=110,this.hideMenuButton=!1,this.onClickMenu=new g.bkB,this.onClickLogo=new g.bkB}onToggleMenu(){this.onClickMenu.emit()}onLogoClicked(){this.onClickLogo.emit()}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=g.VBU({type:n,selectors:[["mx-top-nav"]],hostAttrs:[1,"mx-top-nav"],hostVars:4,hostBindings:function(i,r){2&i&&g.AVh("mx-top-nav--primary","primary"===r.color)("mx-top-nav--secondary","secondary"===r.color)},inputs:{color:"color",menuIconTooltip:"menuIconTooltip",isDisabledMenuIcon:[2,"isDisabledMenuIcon","isDisabledMenuIcon",g.L39],customLogo:"customLogo",customLogoWidth:"customLogoWidth",hideMenuButton:[2,"hideMenuButton","hideMenuButton",g.L39]},outputs:{onClickMenu:"onClickMenu",onClickLogo:"onClickLogo"},standalone:!0,features:[g.GFd,g.aNF],ngContentSelectors:sLt,decls:10,vars:2,consts:[[1,"mx-top-nav__menu-logo-wrapper"],["type","button","mat-icon-button","","mxIconButton","",1,"mx-top-nav__menu-btn",3,"matTooltipDisabled","matTooltip","disabled"],[1,"mx-top-nav__logo-wrapper",3,"click"],[1,"mx-top-nav__custom-logo",3,"width","src"],[1,"mx-top-nav__content-wrapper"],[1,"mx-top-nav__left-content"],[1,"mx-top-nav__right-content"],["type","button","mat-icon-button","","mxIconButton","",1,"mx-top-nav__menu-btn",3,"click","matTooltipDisabled","matTooltip","disabled"],["svgIcon","icon:menu"],["width","110","height","16","src","/assets/logo.svg",1,"mx-top-nav__logo","mx-top-nav__logo--primary"],["width","110","height","16","src","/assets/logo-white.svg",1,"mx-top-nav__logo","mx-top-nav__logo--white"]],template:function(i,r){1&i&&(g.NAR(oLt),g.j41(0,"div",0),g.DNE(1,aLt,2,3,"button",1),g.j41(2,"div",2),g.bIt("click",function(){return r.onLogoClicked()}),g.DNE(3,lLt,1,2,"img",3)(4,cLt,2,0),g.k0s()(),g.j41(5,"div",4)(6,"div",5),g.SdG(7),g.k0s(),g.j41(8,"div",6),g.SdG(9,1),g.k0s()()),2&i&&(g.R7$(),g.vxM(r.hideMenuButton?-1:1),g.R7$(2),g.vxM(r.customLogo?3:4))},dependencies:[Pl.m_,Pl.An,Qlt,Zlt,hi.Hl,hi.iY,hct.C],styles:[".gl-display-lg[_ngcontent-%COMP%]{font-weight:400;font-size:56px;line-height:64px;letter-spacing:0}.gl-display-md[_ngcontent-%COMP%]{font-weight:400;font-size:44px;line-height:52px;letter-spacing:0}.gl-display-sm[_ngcontent-%COMP%]{font-weight:400;font-size:36px;line-height:44px;letter-spacing:0}.gl-headline-lg[_ngcontent-%COMP%]{font-weight:400;font-size:32px;line-height:40px;letter-spacing:0}.gl-headline-md[_ngcontent-%COMP%]{font-weight:400;font-size:28px;line-height:36px;letter-spacing:0}.gl-headline-sm[_ngcontent-%COMP%]{font-weight:400;font-size:24px;line-height:32px;letter-spacing:0}.gl-title-lg[_ngcontent-%COMP%]{font-weight:400;font-size:22px;line-height:28px;letter-spacing:0}.gl-title-md[_ngcontent-%COMP%]{font-weight:500;font-size:16px;line-height:24px;letter-spacing:.15px}.gl-title-sm[_ngcontent-%COMP%]{font-weight:500;font-size:14px;line-height:20px;letter-spacing:.1px}.gl-label-lg[_ngcontent-%COMP%]{font-weight:500;font-size:16px;line-height:24px;letter-spacing:.15px}.gl-label-md[_ngcontent-%COMP%]{font-weight:500;font-size:14px;line-height:20px;letter-spacing:.1px}.gl-label-sm[_ngcontent-%COMP%]{font-weight:500;font-size:12px;line-height:16px;letter-spacing:.5px}.gl-body-lg[_ngcontent-%COMP%]{font-weight:400;font-size:16px;line-height:24px;letter-spacing:.5px}.gl-body-md[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{font-weight:400;font-size:14px;line-height:20px;letter-spacing:.25px}.gl-body-sm[_ngcontent-%COMP%]{font-weight:400;font-size:12px;line-height:16px;letter-spacing:.4px}[_nghost-%COMP%]{display:flex;align-items:center;width:100%;height:64px;box-sizing:border-box;padding:12px 16px}.mx-top-nav__menu-logo-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;width:244px}.mx-top-nav__logo-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px 8px;cursor:pointer}.mx-top-nav__logo[_ngcontent-%COMP%]{width:110px;height:16px;background-repeat:no-repeat;background-size:contain}.mx-top-nav__custom-logo[_ngcontent-%COMP%]{object-fit:contain}.mx-top-nav__content-wrapper[_ngcontent-%COMP%]{flex-grow:1;display:flex;align-items:center;justify-content:space-between}.mx-top-nav__left-content[_ngcontent-%COMP%], .mx-top-nav__right-content[_ngcontent-%COMP%]{display:flex;align-items:center}"],changeDetection:0})}return n})(),dLt=(()=>{class n{constructor(){this.modelName="",this.hasBorder=!0}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=g.VBU({type:n,selectors:[["mx-top-nav-model-name"]],hostAttrs:[1,"mx-top-nav-model-name"],hostVars:2,hostBindings:function(i,r){2&i&&g.AVh("mx-top-nav-model-name--has-border",r.hasBorder||""===r.hasBorder)},inputs:{modelName:"modelName",hasBorder:[2,"hasBorder","hasBorder",g.L39]},standalone:!0,features:[g.GFd,g.aNF],decls:2,vars:1,template:function(i,r){1&i&&(g.j41(0,"div"),g.EFF(1),g.k0s()),2&i&&(g.R7$(),g.JRh(r.modelName))},styles:[".gl-display-lg[_ngcontent-%COMP%]{font-weight:400;font-size:56px;line-height:64px;letter-spacing:0}.gl-display-md[_ngcontent-%COMP%]{font-weight:400;font-size:44px;line-height:52px;letter-spacing:0}.gl-display-sm[_ngcontent-%COMP%]{font-weight:400;font-size:36px;line-height:44px;letter-spacing:0}.gl-headline-lg[_ngcontent-%COMP%]{font-weight:400;font-size:32px;line-height:40px;letter-spacing:0}.gl-headline-md[_ngcontent-%COMP%]{font-weight:400;font-size:28px;line-height:36px;letter-spacing:0}.gl-headline-sm[_ngcontent-%COMP%]{font-weight:400;font-size:24px;line-height:32px;letter-spacing:0}.gl-title-lg[_ngcontent-%COMP%]{font-weight:400;font-size:22px;line-height:28px;letter-spacing:0}.gl-title-md[_ngcontent-%COMP%]{font-weight:500;font-size:16px;line-height:24px;letter-spacing:.15px}.gl-title-sm[_ngcontent-%COMP%]{font-weight:500;font-size:14px;line-height:20px;letter-spacing:.1px}.gl-label-lg[_ngcontent-%COMP%]{font-weight:500;font-size:16px;line-height:24px;letter-spacing:.15px}.gl-label-md[_ngcontent-%COMP%]{font-weight:500;font-size:14px;line-height:20px;letter-spacing:.1px}.gl-label-sm[_ngcontent-%COMP%]{font-weight:500;font-size:12px;line-height:16px;letter-spacing:.5px}.gl-body-lg[_ngcontent-%COMP%], [_nghost-%COMP%]{font-weight:400;font-size:16px;line-height:24px;letter-spacing:.5px}.gl-body-md[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{font-weight:400;font-size:14px;line-height:20px;letter-spacing:.25px}.gl-body-sm[_ngcontent-%COMP%]{font-weight:400;font-size:12px;line-height:16px;letter-spacing:.4px}[_nghost-%COMP%]{padding-left:16px;box-sizing:border-box;height:40px;display:flex;align-items:center}"],changeDetection:0})}return n})();var fct=P(8823),Qi=P(5973),hLt=P(9434),fLt=P(1996);let TG=(()=>{class n{static#t=this.nextId=0;get value(){return this._value}set value(t){this._value=t,this.stateChanges.next(),this.onChange&&this.onChange(t)}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required}set required(t){this._required=(0,$o.he)(t),this.stateChanges.next()}get disabled(){return this._disabled}set disabled(t){this._disabled=(0,$o.he)(t),this.stateChanges.next()}get errorState(){return this._errorState||!!this.ngControl?.invalid&&this.touched}set errorState(t){this._errorState=t}get empty(){return!this.value}constructor(t,i){this.ngControl=t,this.elRef=i,this.stateChanges=new ni.B,this.focused=!1,this.touched=!1,this.controlType="mx-password-input",this.describedBy="",this.shouldLabelFloat=!0,this.isVisible=!1,this._cdr=(0,g.WQX)(g.gRc),this._value="",this._placeholder="",this._required=!1,this._disabled=!1,this._errorState=!1,this.id="mx-password-input-"+n.nextId++,this.class="mx-password-input",null!=this.ngControl&&(this.ngControl.valueAccessor=this)}ngDoCheck(){this.ngControl&&this.ngControl.control&&(this.touched=this.ngControl.control.touched,this.stateChanges.next())}ngOnDestroy(){this.stateChanges.complete()}setDescribedByIds(t){this.elRef.nativeElement.querySelector("input").setAttribute("aria-describedby",t.join(" "))}onContainerClick(t){"input"!==t.target.tagName.toLowerCase()&&this.elRef.nativeElement?.querySelector("input")?.focus()}writeValue(t){this.value=t}registerOnChange(t){this.onChange=t,this.stateChanges.next()}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t,this._cdr.markForCheck()}onFocusIn(t){this.focused||(this.focused=!0,this.stateChanges.next())}onFocusOut(t){this.touched=!0,this.focused=!1,this.stateChanges.next(),this.onTouched&&this.onTouched()}onToggleVisibility(){this.isVisible=!this.isVisible}static#e=this.\u0275fac=function(i){return new(i||n)(g.rXU(ki.vO,10),g.rXU(g.aKT))};static#n=this.\u0275cmp=g.VBU({type:n,selectors:[["mx-password-input"]],hostVars:3,hostBindings:function(i,r){2&i&&(g.Mr5("id",r.id),g.HbH(r.class))},inputs:{value:"value",placeholder:"placeholder",required:"required",disabled:"disabled",errorState:"errorState"},standalone:!0,features:[g.Jv_([{provide:gs.qT,useExisting:(0,g.Rfq)(()=>n)}]),g.aNF],decls:3,vars:7,consts:[["matInput","",1,"mx-password-input__input",3,"ngModelChange","focus","focusout","type","placeholder","disabled","ngModel"],["mat-icon-button","","mxIconButton","","type","button",1,"mx-password-input__button",3,"click"],[3,"svgIcon"]],template:function(i,r){1&i&&(g.j41(0,"input",0),g.mxI("ngModelChange",function(s){return g.DH7(r.value,s)||(r.value=s),s}),g.bIt("focus",function(s){return r.onFocusIn(s)})("focusout",function(s){return r.onFocusOut(s)}),g.k0s(),g.j41(1,"button",1),g.bIt("click",function(){return r.onToggleVisibility()}),g.nrm(2,"mat-icon",2),g.k0s()),2&i&&(g.Y8G("type",r.isVisible?"text":"password")("placeholder",r.placeholder)("disabled",r.disabled),g.R50("ngModel",r.value),g.R7$(),g.AVh("disabled",r.disabled),g.R7$(),g.Y8G("svgIcon",r.isVisible?"icon:visibility":"icon:visibility_off"))},dependencies:[ki.YN,ki.me,ki.BC,ki.vS,bg.fS,bg.fg,hi.Hl,hi.iY,Pl.m_,Pl.An,hct.C],styles:[".opacity-008[_ngcontent-%COMP%]{opacity:.08}.opacity-012[_ngcontent-%COMP%]{opacity:.12}.opacity-016[_ngcontent-%COMP%]{opacity:.16}.opacity-038[_ngcontent-%COMP%]{opacity:.38}[_nghost-%COMP%]{display:block;position:relative}.mx-password-input__input[_ngcontent-%COMP%]{width:calc(100% - 32px)}.mx-password-input__input[_ngcontent-%COMP%]:focus   mx-validation-rule-list[_ngcontent-%COMP%] > .mx-validation-rule-list__content[_ngcontent-%COMP%]{display:block}.mx-password-input__button[_ngcontent-%COMP%]{position:absolute;bottom:-4px;right:-16px}.mx-password-input__button.disabled[_ngcontent-%COMP%]{opacity:.38}"],changeDetection:0})}return n})();var pct=P(2151);function pLt(n,e){1&n&&g.eu8(0)}function mLt(n,e){if(1&n&&g.nrm(0,"mat-icon",6),2&n){const t=g.XpG().$implicit;g.AVh("valid",t.isValid)("invalid",!t.isValid),g.Y8G("svgIcon",t.isValid?"icon:done":"icon:clear")}}function gLt(n,e){1&n&&g.nrm(0,"div",5)}function vLt(n,e){if(1&n&&(g.j41(0,"li",3),g.DNE(1,mLt,1,5,"mat-icon",4)(2,gLt,1,0,"div",5),g.EFF(3),g.k0s()),2&n){const t=e.$implicit,i=g.XpG();g.R7$(),g.vxM(i.isInputDirty?1:2),g.R7$(2),g.SpI(" ",t.label," ")}}let yLt=(()=>{class n{constructor(){this.rules=[],this._value="",this.debouncer$=new ni.B,this.isInputDirty=!1,this.displayRules=[],this.debouncerActions$=this.debouncer$.pipe((0,pct.B)(100),(0,py.M)(t=>{this._value=t,this.validateValue(t)}))}get value(){return this._value}set value(t){this.debouncer$.next(t)}get isPasswordValid(){return this.displayRules.every(t=>t.isValid)}ngOnInit(){this.displayRules=this.rules.map(t=>({...t,isValid:!1}))}validateValue(t){this.displayRules.forEach(i=>{i.isValid=i.validator(t)})}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=g.VBU({type:n,selectors:[["mx-validation-rule-list"]],inputs:{rules:"rules",value:"value"},standalone:!0,features:[g.aNF],decls:4,vars:4,consts:[[4,"ngIf"],[1,"mx-validation-rule-list__content"],["class","mx-validation-rule-list__rule",4,"ngFor","ngForOf"],[1,"mx-validation-rule-list__rule"],[3,"valid","invalid","svgIcon"],[1,"mx-validation-rule-list__rule__dot"],[3,"svgIcon"]],template:function(i,r){1&i&&(g.DNE(0,pLt,1,0,"ng-container",0),g.nI1(1,"async"),g.j41(2,"ul",1),g.DNE(3,vLt,4,2,"li",2),g.k0s()),2&i&&(g.Y8G("ngIf",g.bMT(1,2,r.debouncerActions$)),g.R7$(3),g.Y8G("ngForOf",r.displayRules))},dependencies:[Pi.Jj,Pi.bT,Pi.pM,Pl.m_,Pl.An],styles:['.rounded-x-sm[_ngcontent-%COMP%]{border-radius:4px}.rounded-sm[_ngcontent-%COMP%]{border-radius:8px}.rounded-md[_ngcontent-%COMP%]{border-radius:12px}.rounded-lg[_ngcontent-%COMP%]{border-radius:16px}.rounded-x-lg[_ngcontent-%COMP%]{border-radius:28px}.rounded-full[_ngcontent-%COMP%], .mx-validation-rule-list__rule__dot[_ngcontent-%COMP%]:before{border-radius:50%}.gl-display-lg[_ngcontent-%COMP%]{font-weight:400;font-size:56px;line-height:64px;letter-spacing:0}.gl-display-md[_ngcontent-%COMP%]{font-weight:400;font-size:44px;line-height:52px;letter-spacing:0}.gl-display-sm[_ngcontent-%COMP%]{font-weight:400;font-size:36px;line-height:44px;letter-spacing:0}.gl-headline-lg[_ngcontent-%COMP%]{font-weight:400;font-size:32px;line-height:40px;letter-spacing:0}.gl-headline-md[_ngcontent-%COMP%]{font-weight:400;font-size:28px;line-height:36px;letter-spacing:0}.gl-headline-sm[_ngcontent-%COMP%]{font-weight:400;font-size:24px;line-height:32px;letter-spacing:0}.gl-title-lg[_ngcontent-%COMP%]{font-weight:400;font-size:22px;line-height:28px;letter-spacing:0}.gl-title-md[_ngcontent-%COMP%]{font-weight:500;font-size:16px;line-height:24px;letter-spacing:.15px}.gl-title-sm[_ngcontent-%COMP%]{font-weight:500;font-size:14px;line-height:20px;letter-spacing:.1px}.gl-label-lg[_ngcontent-%COMP%]{font-weight:500;font-size:16px;line-height:24px;letter-spacing:.15px}.gl-label-md[_ngcontent-%COMP%]{font-weight:500;font-size:14px;line-height:20px;letter-spacing:.1px}.gl-label-sm[_ngcontent-%COMP%]{font-weight:500;font-size:12px;line-height:16px;letter-spacing:.5px}.gl-body-lg[_ngcontent-%COMP%]{font-weight:400;font-size:16px;line-height:24px;letter-spacing:.5px}.gl-body-md[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{font-weight:400;font-size:14px;line-height:20px;letter-spacing:.25px}.gl-body-sm[_ngcontent-%COMP%], .mx-validation-rule-list__rule[_ngcontent-%COMP%]{font-weight:400;font-size:12px;line-height:16px;letter-spacing:.4px}[_nghost-%COMP%]{display:block;margin-top:-21px}.mx-validation-rule-list__content[_ngcontent-%COMP%]{width:100%;padding:12px;margin:0;list-style:none}.mx-validation-rule-list__rule[_ngcontent-%COMP%]{display:flex;align-items:center}.mx-validation-rule-list__rule[_ngcontent-%COMP%]:not(:last-of-type){margin-bottom:4px}.mx-validation-rule-list__rule[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px;width:20px;height:20px}.mx-validation-rule-list__rule__dot[_ngcontent-%COMP%]{padding:8px;margin-right:8px}.mx-validation-rule-list__rule__dot[_ngcontent-%COMP%]:before{content:"";display:block;width:4px;height:4px}']})}return n})(),bLt=(()=>{class n{constructor(t,i,r){this.elRef=t,this.viewContainerRef=i,this.component=r,this.mxPasswordInputValidationRules=[],this.setInputDirty=()=>{this.componentRef.instance.isInputDirty=!0}}ngOnInit(){this.componentRef=this.viewContainerRef.createComponent(yLt),this.componentRef.instance.rules=this.mxPasswordInputValidationRules;const t=this.elRef.nativeElement.closest("mat-form-field");t&&t.append(this.componentRef.location.nativeElement),this.valueSubscription=this.component.stateChanges.subscribe(()=>{this.componentRef.instance.value=this.component.value}),this._addInputEventListener();const i=this.mxPasswordInputValidationRules.map(r=>o=>r.validator(o.value)?null:{passwordValidation:!0});this.component.ngControl.control&&i.length&&(this.component.ngControl.control.addValidators(i),this.component.ngControl.control.updateValueAndValidity())}ngOnDestroy(){this.valueSubscription&&this.valueSubscription.unsubscribe(),this.invalidSubscription&&this.invalidSubscription.unsubscribe(),this._removeInputEventListener()}_addInputEventListener(){const t=this.elRef.nativeElement.querySelector("input");t&&(t.addEventListener("blur",()=>{this.setInputDirty()}),t.addEventListener("input",()=>{this.setInputDirty()}))}_removeInputEventListener(){const t=this.elRef.nativeElement.querySelector("input");t&&(t.removeEventListener("blur",()=>{this.setInputDirty()}),t.removeEventListener("input",()=>{this.setInputDirty()}))}static#t=this.\u0275fac=function(i){return new(i||n)(g.rXU(g.aKT),g.rXU(g.c1b),g.rXU(TG))};static#e=this.\u0275dir=g.FsC({type:n,selectors:[["mx-password-input","mxPasswordInputValidation",""]],inputs:{mxPasswordInputValidationRules:"mxPasswordInputValidationRules"},standalone:!0})}return n})();function _Lt(n,e){if(1&n&&(g.j41(0,"mat-error",7),g.EFF(1),g.k0s()),2&n){const t=g.XpG().$implicit;g.R7$(),g.SpI(" ",t("blacklist-password-error")," ")}}function ELt(n,e){if(1&n&&(g.j41(0,"mat-error",7),g.EFF(1),g.k0s()),2&n){const t=g.XpG().$implicit;g.R7$(),g.SpI(" ",t("password-length-limit-error"),"")}}function wLt(n,e){if(1&n&&(g.j41(0,"mat-error",7),g.EFF(1),g.k0s()),2&n){const t=g.XpG().$implicit;g.R7$(),g.SpI(" ",t("invalid-password-char"),"")}}function xLt(n,e){if(1&n&&(g.j41(0,"mat-error"),g.EFF(1),g.k0s()),2&n){const t=g.XpG().$implicit,i=g.XpG();g.R7$(),g.SpI(" ",t(i.isNewPassword?"new-password-not-match":"password-not-match")," ")}}function MLt(n,e){if(1&n&&(g.j41(0,"form",1)(1,"mat-form-field")(2,"mat-label"),g.EFF(3),g.k0s(),g.nrm(4,"mx-password-input",2),g.DNE(5,_Lt,2,1,"mat-error",3)(6,ELt,2,1,"mat-error",3)(7,wLt,2,1,"mat-error",3),g.k0s(),g.j41(8,"mat-form-field",4)(9,"mat-label"),g.EFF(10),g.k0s(),g.nrm(11,"mx-password-input",5),g.DNE(12,xLt,2,1,"mat-error",6),g.k0s()()),2&n){let t,i,r;const o=e.$implicit,s=g.XpG();g.Y8G("formGroup",s.form),g.R7$(3),g.JRh(o(s.isNewPassword?"new-password":"password")),g.R7$(),g.Y8G("mxPasswordInputValidationRules",s.passwordRule),g.R7$(),g.Y8G("ngIf",null==(t=s.form.get("password"))?null:t.hasError("blacklistPassword")),g.R7$(),g.Y8G("ngIf",null==(i=s.form.get("password"))?null:i.hasError("maxlength")),g.R7$(),g.Y8G("ngIf",null==(r=s.form.get("password"))?null:r.hasError("invalidChar")),g.R7$(3),g.JRh(o(s.isNewPassword?"confirm-new-password-label":"confirm-password-label")),g.R7$(2),g.Y8G("ngIf",s.confirmPassowrdCtrl.hasError("notConfirmed"))}}let CLt=(()=>{class n extends st{#t=(0,g.WQX)(g.abz);#e=(0,g.WQX)(ki.ze);#n=(0,g.WQX)(Z.Fx);disabled=!1;isNewPassword=!0;passwordStrength;showStrengthBar=!0;passwordUpperLimit=100;formValidators=[];form;passwordRule=[];passwordHide=!0;previousValidator=[];get passwordCtrl(){return this.form?.get("password")}get confirmPassowrdCtrl(){return this.form?.get("confirmPassword")}ngOnInit(){this.passwordRule=this.passwordStrength?this.#n.generatePasswordValidationRules(this.passwordStrength):this.#n.defaultPasswordStrengthRule,this.form=this.#e.group({password:["",[ki.k0.required,ki.k0.maxLength(this.passwordUpperLimit)]],confirmPassword:["",[this.checkConfirmPassword()]]}),this.formValidators.length>0&&(this.previousValidator=this.formValidators,this.form.get("password")?.addValidators(this.formValidators)),this.passwordCtrl.valueChanges.pipe((0,py.M)(t=>{this.changePassword(t),this.confirmPassowrdCtrl&&this.confirmPassowrdCtrl.updateValueAndValidity()}),(0,qc.pQ)(this.#t)).subscribe(),this.confirmPassowrdCtrl.valueChanges.pipe((0,py.M)(()=>{this.changePassword(this.passwordCtrl?.value)}),(0,qc.pQ)(this.#t)).subscribe()}ngOnChanges(t){!t.formValidators?.isFirstChange()&&t.formValidators?.currentValue?.length>0&&(this.previousValidator.length>0&&this.form.get("password")?.removeValidators(this.previousValidator),this.previousValidator=this.formValidators,this.form.get("password")?.addValidators(this.formValidators),this.form.get("password")?.updateValueAndValidity())}validate(){return this.passwordCtrl?.invalid?this.passwordCtrl.errors:this.confirmPassowrdCtrl?.invalid?this.confirmPassowrdCtrl.errors:null}changePassword(t){this.onChanged(t),this.onTouched()}checkPasswordChar(){return t=>/^[0-9a-zA-z~`!@#$%^&*()_\-+={}\\[\]|\\:\\";'<>?,.\\/]{8,255}$/.test(t.value)?null:{invalidChar:!0}}checkConfirmPassword(){return t=>this.passwordCtrl&&this.passwordCtrl.value!==t.value?{notConfirmed:!0}:null}writeValue(t){t||this.form.reset({password:"",confirmPassword:""})}static \u0275fac=(()=>{let t;return function(r){return(t||(t=g.xGo(n)))(r||n)}})();static \u0275cmp=g.VBU({type:n,selectors:[["one-ui-confirm-password"]],inputs:{isNewPassword:"isNewPassword",passwordStrength:"passwordStrength",showStrengthBar:"showStrengthBar",passwordUpperLimit:"passwordUpperLimit",formValidators:"formValidators"},standalone:!0,features:[g.Jv_([{provide:ki.cz,useExisting:(0,g.Rfq)(()=>n),multi:!0},{provide:ki.kq,useExisting:(0,g.Rfq)(()=>n),multi:!0}]),g.Vt3,g.OA$,g.aNF],decls:1,vars:1,consts:[["novalidate","",3,"formGroup",4,"transloco","translocoRead"],["novalidate","",3,"formGroup"],["mxPasswordInputValidation","","formControlName","password",3,"mxPasswordInputValidationRules"],["class","password-error",4,"ngIf"],[1,"confirm-password-field"],["formControlName","confirmPassword"],[4,"ngIf"],[1,"password-error"]],template:function(i,r){1&i&&g.DNE(0,MLt,13,8,"form",0),2&i&&g.Y8G("translocoRead","shared-ui.confirm-password")},dependencies:[Pi.MD,Pi.bT,ki.X1,ki.qT,ki.BC,ki.cb,ki.j4,ki.JD,gs.RG,gs.rl,gs.nJ,gs.TL,bg.fS,Pl.m_,hi.Hl,bE.Q8,bE.bA,TG,bLt],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}.password-error[_ngcontent-%COMP%]{margin-top:12px;margin-left:-16px}.confirm-password-field[_ngcontent-%COMP%]{margin-top:16px}"],changeDetection:0})}return n})();function SLt(n){return e=>{const t=e.value;let i=!1;return n.map(r=>{r===t&&(i=!0)}),i?{blacklistPassword:!0}:null}}const DLt=n=>({passwordUpperLimit:n}),TLt=n=>({"password-error":n});function ALt(n,e){if(1&n&&(g.j41(0,"mx-infotip",10),g.EFF(1),g.k0s()),2&n){const t=g.XpG(2);g.R7$(),g.JRh(t.changeFailMessage)}}function OLt(n,e){if(1&n&&(g.j41(0,"mat-error"),g.EFF(1),g.k0s()),2&n){const t=g.XpG(2).$implicit;g.R7$(),g.JRh(t("input-required"))}}function kLt(n,e){if(1&n&&(g.j41(0,"mat-form-field",11)(1,"mat-label"),g.EFF(2),g.k0s(),g.nrm(3,"mx-password-input",12),g.DNE(4,OLt,2,1,"mat-error",13),g.k0s()),2&n){const t=g.XpG().$implicit,i=g.XpG();g.R7$(2),g.JRh(t("current-password")),g.R7$(2),g.Y8G("ngIf",i.currentPasswordFormControl.hasError("required"))}}function ILt(n,e){if(1&n&&(g.qex(0),g.nrm(1,"one-ui-confirm-password",14),g.bVm()),2&n){let t;const i=e.ngrxLet,r=g.XpG(2);g.R7$(),g.Y8G("passwordUpperLimit",i.passwordUpperLimit)("passwordStrength",r.passwordStrength)("formValidators",r.passwordValidator)("isNewPassword",!0)("ngClass",g.eq3(5,TLt,null==(t=r.form.get("_newPassword"))?null:t.hasError("blacklistPassword")))}}function RLt(n,e){if(1&n){const t=g.RV6();g.qex(0),g.j41(1,"form",1),g.bIt("submit",function(){g.eBV(t);const r=g.XpG();return g.Njj(r.submitChangePassword())}),g.j41(2,"h1",2),g.EFF(3),g.k0s(),g.j41(4,"mat-dialog-content",3),g.DNE(5,ALt,2,1,"mx-infotip",4)(6,kLt,5,2,"mat-form-field",5)(7,ILt,2,7,"ng-container",6),g.k0s(),g.j41(8,"mat-dialog-actions"),g.nrm(9,"div",7),g.j41(10,"button",8),g.bIt("click",function(){g.eBV(t);const r=g.XpG();return g.Njj(r.cancel())}),g.EFF(11),g.k0s(),g.j41(12,"button",9),g.EFF(13),g.k0s()()(),g.bVm()}if(2&n){const t=e.$implicit,i=g.XpG();g.R7$(),g.Y8G("formGroup",i.form),g.R7$(2),g.JRh(t("change-password")),g.R7$(2),g.Y8G("ngIf",i.failMessageContent),g.R7$(),g.Y8G("ngIf",!i.data.noCurrentPassword),g.R7$(),g.Y8G("ngrxLet",g.eq3(9,DLt,i.data.passwordUpperLimit)),g.R7$(4),g.SpI(" ",t("cancel")," "),g.R7$(),g.Y8G("mxButtonIsLoading",i.isLoading)("disabled",i.form.invalid||i.isLoading),g.R7$(),g.SpI(" ",t("save")," ")}}let PLt=(()=>{class n{#t=(0,g.WQX)(ki.ze);#e=(0,g.WQX)(lt.CP);cd=(0,g.WQX)(g.gRc);data=(0,g.WQX)(lt.Vh);form=this.#t.group({currentPassword:["",[ki.k0.required]],newPassword:["",[ki.k0.required,ki.k0.minLength(8),ki.k0.maxLength(20)]]});isLoading=!1;changeFailMessage="";passwordValidator=[];changePassword=new g.bkB;passwordStrength={atLeastLowerCharacter:{enable:!1,minLimitation:1},atLeastUpperCharachter:{enable:!1,minLimitation:1},atLeastDigitCharachter:{enable:!1,minLimitation:1},atLeastSpecialCharachter:{enable:!1,minLimitation:1},atLeastCharachter:{enable:!0,minLimitation:8}};get currentPasswordFormControl(){return this.form.get("currentPassword")}get newPasswordFormControl(){return this.form.get("newPassword")}get failMessageContent(){return""!==this.changeFailMessage}ngOnInit(){this.data.noCurrentPassword?this.form=this.#t.group({newPassword:["",ki.k0.required]}):this.form.get("currentPassword")?.valueChanges.subscribe(t=>{this.setBlacklistValidator([t]),this.cd.markForCheck()})}setBlacklistValidator(t){this.passwordValidator=[SLt(t)]}cancel(){this.#e.close()}submitChangePassword(){this.isLoading=!0,this.changeFailMessage="",this.changePassword.emit(this.data.noCurrentPassword?{newPassword:this.form.get("newPassword").value}:{oldPassword:this.form.get("currentPassword").value,newPassword:this.form.get("newPassword").value})}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=g.VBU({type:n,selectors:[["one-ui-change-password-dialog"]],standalone:!0,features:[g.aNF],decls:1,vars:1,consts:[[4,"transloco","translocoRead"],["novalidate","",3,"submit","formGroup"],["mat-dialog-title",""],[1,"change-password-dialog"],["class","change-default-err","mx-error-tip","",4,"ngIf"],["floatLabel","always",4,"ngIf"],[4,"ngrxLet"],[1,"gl-fill-remaining-space"],["type","button","mat-button","",3,"click"],["type","submit","mat-flat-button","","color","primary",3,"mxButtonIsLoading","disabled"],["mx-error-tip","",1,"change-default-err"],["floatLabel","always"],["formControlName","currentPassword"],[4,"ngIf"],["formControlName","newPassword",3,"passwordUpperLimit","passwordStrength","formValidators","isNewPassword","ngClass"]],template:function(i,r){1&i&&g.DNE(0,RLt,14,11,"ng-container",0),2&i&&g.Y8G("translocoRead","shared-ui.change-password-dialog")},dependencies:[Pi.MD,Pi.YU,Pi.bT,ki.X1,ki.qT,ki.BC,ki.cb,ki.j4,ki.JD,lt.hM,lt.BI,lt.E7,lt.Yi,gs.RG,gs.rl,gs.nJ,gs.TL,hi.Hl,hi.$z,TG,fLt.u,hLt.h,fct.Nj,CLt,bE.Q8,bE.bA],styles:["[_nghost-%COMP%]{display:block}mat-form-field[_ngcontent-%COMP%]{width:272px}.change-default-err[_ngcontent-%COMP%]{margin-bottom:16px}"],changeDetection:0})}return n})(),mct=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(t){this._vertical=(0,$o.he)(t)}get inset(){return this._inset}set inset(t){this._inset=(0,$o.he)(t)}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=g.VBU({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(i,r){2&i&&(g.BMQ("aria-orientation",r.vertical?"vertical":"horizontal"),g.AVh("mat-divider-vertical",r.vertical)("mat-divider-horizontal",!r.vertical)("mat-divider-inset",r.inset))},inputs:{vertical:"vertical",inset:"inset"},standalone:!0,features:[g.aNF],decls:0,vars:0,template:function(i,r){},styles:[".mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color, var(--mat-app-outline));border-top-width:var(--mat-divider-width)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color, var(--mat-app-outline));border-right-width:var(--mat-divider-width)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0})}return n})(),AG=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=g.$C({type:n});static#n=this.\u0275inj=g.G2t({imports:[Fi.yE,Fi.yE]})}return n})();var OG=P(2959);const gct=["*"],yct=["unscopedContent"],NLt=["text"],LLt=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],FLt=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"],bct=new g.nKC("ListOption");let _ct=(()=>{class n{constructor(t){this._elementRef=t}static#t=this.\u0275fac=function(i){return new(i||n)(g.rXU(g.aKT))};static#e=this.\u0275dir=g.FsC({type:n,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"],standalone:!0})}return n})(),Ect=(()=>{class n{constructor(t){this._elementRef=t}static#t=this.\u0275fac=function(i){return new(i||n)(g.rXU(g.aKT))};static#e=this.\u0275dir=g.FsC({type:n,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"],standalone:!0})}return n})(),e6t=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275dir=g.FsC({type:n,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"],standalone:!0})}return n})(),wct=(()=>{class n{constructor(t){this._listOption=t}_isAlignedAtStart(){return!this._listOption||"after"===this._listOption?._getTogglePosition()}static#t=this.\u0275fac=function(i){return new(i||n)(g.rXU(bct,8))};static#e=this.\u0275dir=g.FsC({type:n,hostVars:4,hostBindings:function(i,r){2&i&&g.AVh("mdc-list-item__start",r._isAlignedAtStart())("mdc-list-item__end",!r._isAlignedAtStart())},standalone:!0})}return n})(),n6t=(()=>{class n extends wct{static#t=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=g.xGo(n)))(r||n)}})();static#e=this.\u0275dir=g.FsC({type:n,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],standalone:!0,features:[g.Vt3]})}return n})(),i6t=(()=>{class n extends wct{static#t=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=g.xGo(n)))(r||n)}})();static#e=this.\u0275dir=g.FsC({type:n,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],standalone:!0,features:[g.Vt3]})}return n})();const r6t=new g.nKC("MAT_LIST_CONFIG");let _E=(()=>{class n{constructor(){this._isNonInteractive=!0,this._disableRipple=!1,this._disabled=!1,this._defaultOptions=(0,g.WQX)(r6t,{optional:!0})}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=(0,$o.he)(t)}get disabled(){return this._disabled}set disabled(t){this._disabled=(0,$o.he)(t)}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275dir=g.FsC({type:n,hostVars:1,hostBindings:function(i,r){2&i&&g.BMQ("aria-disabled",r.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},standalone:!0})}return n})(),kG=(()=>{class n{set lines(t){this._explicitLines=(0,$o.OE)(t,null),this._updateItemLines(!1)}get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(t){this._disableRipple=(0,$o.he)(t)}get disabled(){return this._disabled||!!this._listBase?.disabled}set disabled(t){this._disabled=(0,$o.he)(t)}get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(t,i,r,o,s,a){this._elementRef=t,this._ngZone=i,this._listBase=r,this._platform=o,this._explicitLines=null,this._disableRipple=!1,this._disabled=!1,this._subscriptions=new $r.yU,this._rippleRenderer=null,this._hasUnscopedTextContent=!1,this.rippleConfig=s||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement="button"===this._hostElement.nodeName.toLowerCase(),this._noopAnimations="NoopAnimations"===a,r&&!r._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),null!==this._rippleRenderer&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!(!this._avatars.length&&!this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new Fi.ug(this,this._ngZone,this._hostElement,this._platform),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add((0,Xi.h)(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(t){if(!this._lines||!this._titles||!this._unscopedContent)return;t&&this._checkDomForUnscopedTextContent();const i=this._explicitLines??this._inferLinesFromContent(),r=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",2===i),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",3===i),this._hasUnscopedTextContent){const o=0===this._titles.length&&1===i;r.classList.toggle("mdc-list-item__primary-text",o),r.classList.toggle("mdc-list-item__secondary-text",!o)}else r.classList.remove("mdc-list-item__primary-text"),r.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let t=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(t+=1),t}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(t=>t.nodeType!==t.COMMENT_NODE).some(t=>!(!t.textContent||!t.textContent.trim()))}static#t=this.\u0275fac=function(i){return new(i||n)(g.rXU(g.aKT),g.rXU(g.SKi),g.rXU(_E,8),g.rXU(Eo.OD),g.rXU(Fi.$E,8),g.rXU(g.bc$,8))};static#e=this.\u0275dir=g.FsC({type:n,contentQueries:function(i,r,o){if(1&i&&(g.wni(o,n6t,4),g.wni(o,i6t,4)),2&i){let s;g.mGM(s=g.lsd())&&(r._avatars=s),g.mGM(s=g.lsd())&&(r._icons=s)}},hostVars:4,hostBindings:function(i,r){2&i&&(g.BMQ("aria-disabled",r.disabled)("disabled",r._isButtonElement&&r.disabled||null),g.AVh("mdc-list-item--disabled",r.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"},standalone:!0})}return n})(),o6t=(()=>{class n extends kG{get activated(){return this._activated}set activated(t){this._activated=(0,$o.he)(t)}constructor(t,i,r,o,s,a){super(t,i,r,o,s,a),this._activated=!1}_getAriaCurrent(){return"A"===this._hostElement.nodeName&&this._activated?"page":null}_hasBothLeadingAndTrailing(){return 0!==this._meta.length&&(0!==this._avatars.length||0!==this._icons.length)}static#t=this.\u0275fac=function(i){return new(i||n)(g.rXU(g.aKT),g.rXU(g.SKi),g.rXU(_E,8),g.rXU(Eo.OD),g.rXU(Fi.$E,8),g.rXU(g.bc$,8))};static#e=this.\u0275cmp=g.VBU({type:n,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(i,r,o){if(1&i&&(g.wni(o,Ect,5),g.wni(o,_ct,5),g.wni(o,e6t,5)),2&i){let s;g.mGM(s=g.lsd())&&(r._lines=s),g.mGM(s=g.lsd())&&(r._titles=s),g.mGM(s=g.lsd())&&(r._meta=s)}},viewQuery:function(i,r){if(1&i&&(g.GBs(yct,5),g.GBs(NLt,5)),2&i){let o;g.mGM(o=g.lsd())&&(r._unscopedContent=o.first),g.mGM(o=g.lsd())&&(r._itemText=o.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:13,hostBindings:function(i,r){2&i&&(g.BMQ("aria-current",r._getAriaCurrent()),g.AVh("mdc-list-item--activated",r.activated)("mdc-list-item--with-leading-avatar",0!==r._avatars.length)("mdc-list-item--with-leading-icon",0!==r._icons.length)("mdc-list-item--with-trailing-meta",0!==r._meta.length)("mat-mdc-list-item-both-leading-and-trailing",r._hasBothLeadingAndTrailing())("_mat-animation-noopable",r._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],standalone:!0,features:[g.Vt3,g.aNF],ngContentSelectors:FLt,decls:10,vars:0,consts:[["unscopedContent",""],[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],[1,"mat-mdc-focus-indicator"]],template:function(i,r){if(1&i){const o=g.RV6();g.NAR(LLt),g.SdG(0),g.j41(1,"span",1),g.SdG(2,1),g.SdG(3,2),g.j41(4,"span",2,0),g.bIt("cdkObserveContent",function(){return g.eBV(o),g.Njj(r._updateItemLines(!0))}),g.SdG(6,3),g.k0s()(),g.SdG(7,4),g.SdG(8,5),g.nrm(9,"div",3)}},dependencies:[OG.Wv],encapsulation:2,changeDetection:0})}return n})(),Mct=(()=>{class n extends _E{constructor(){super(...arguments),this._isNonInteractive=!1}static#t=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=g.xGo(n)))(r||n)}})();static#e=this.\u0275cmp=g.VBU({type:n,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-mdc-nav-list","mat-mdc-list-base","mdc-list"],exportAs:["matNavList"],standalone:!0,features:[g.Jv_([{provide:_E,useExisting:n}]),g.Vt3,g.aNF],ngContentSelectors:gct,decls:1,vars:0,template:function(i,r){1&i&&(g.NAR(),g.SdG(0))},styles:['.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item{display:flex;position:relative;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer;padding-left:16px;padding-right:16px;background-color:var(--mdc-list-list-item-container-color);border-radius:var(--mdc-list-list-item-container-shape, var(--mat-app-corner-none))}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item:focus{outline:0}.mdc-list-item.mdc-list-item--disabled{cursor:auto}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height)}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height)}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height)}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--selected::before,.mdc-list-item.mdc-list-item--selected:focus::before,.mdc-list-item:not(.mdc-list-item--selected):focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.cdk-high-contrast-active .mdc-list-item.mdc-list-item--selected::before,.cdk-high-contrast-active .mdc-list-item.mdc-list-item--selected:focus::before,.cdk-high-contrast-active .mdc-list-item:not(.mdc-list-item--selected):focus::before{border-color:CanvasText}.mdc-list-item.mdc-list-item--selected:focus::before,.mdc-list-item.mdc-list-item--selected::before{border-width:3px;border-style:double}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color, var(--mat-app-on-surface-variant));width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size);margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size);height:var(--mdc-list-list-item-leading-avatar-size);margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item--with-leading-avatar .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font, var(--mat-app-label-small-font));line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height, var(--mat-app-label-small-line-height));font-size:var(--mdc-list-list-item-trailing-supporting-text-size, var(--mat-app-label-small-size));font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight, var(--mat-app-label-small-weight));letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking, var(--mat-app-label-small-tracking))}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color, var(--mat-app-on-surface-variant));width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color, var(--mat-app-on-surface-variant))}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color, var(--mat-app-primary))}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;color:var(--mdc-list-list-item-label-text-color, var(--mat-app-on-surface));font-family:var(--mdc-list-list-item-label-text-font, var(--mat-app-body-large-font));line-height:var(--mdc-list-list-item-label-text-line-height, var(--mat-app-body-large-line-height));font-size:var(--mdc-list-list-item-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-list-list-item-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-list-list-item-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color, var(--mat-app-on-surface))}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color, var(--mat-app-on-surface))}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;color:var(--mdc-list-list-item-supporting-text-color, var(--mat-app-on-surface-variant));font-family:var(--mdc-list-list-item-supporting-text-font, var(--mat-app-body-medium-font));line-height:var(--mdc-list-list-item-supporting-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mdc-list-list-item-supporting-text-size, var(--mat-app-body-medium-size));font-weight:var(--mdc-list-list-item-supporting-text-weight, var(--mat-app-body-medium-weight));letter-spacing:var(--mdc-list-list-item-supporting-text-tracking, var(--mat-app-body-medium-tracking))}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:16px}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:16px;padding-right:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-trailing-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:0;padding-right:0}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-webkit-user-select:none;user-select:none;margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;line-height:normal;align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-left:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-right:0}.mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-group__subheader{margin:.75rem 16px}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color, var(--mat-app-on-surface));opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color, var(--mat-app-on-surface));opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity)}.mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing,[dir=rtl] .mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing{padding-left:0;padding-right:0}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color, var(--mat-app-on-surface))}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color, var(--mat-app-on-surface));opacity:var(--mdc-list-list-item-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color, var(--mat-app-on-surface));opacity:var(--mdc-list-list-item-disabled-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color, var(--mat-app-on-surface));opacity:var(--mdc-list-list-item-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape, var(--mat-app-corner-full));background-color:var(--mdc-list-list-item-leading-avatar-color, var(--mat-app-primary-container))}.mat-mdc-list-item-icon{font-size:var(--mdc-list-list-item-leading-icon-size)}.cdk-high-contrast-active a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none}.mat-mdc-list-item>.mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-mdc-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:start}mat-action-list button::-moz-focus-inner{border:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-inline-start:var(--mat-list-list-item-leading-icon-start-space);margin-inline-end:var(--mat-list-list-item-leading-icon-end-space)}.mat-mdc-nav-list .mat-mdc-list-item{border-radius:var(--mat-list-active-indicator-shape, var(--mat-app-corner-full));--mat-mdc-focus-indicator-border-radius:var(--mat-list-active-indicator-shape, var(--mat-app-corner-full))}.mat-mdc-nav-list .mat-mdc-list-item.mdc-list-item--activated{background-color:var(--mat-list-active-indicator-color, var(--mat-app-secondary-container))}'],encapsulation:2,changeDetection:0})}return n})(),Cct=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=g.$C({type:n});static#n=this.\u0275inj=g.G2t({imports:[OG.w5,Pi.MD,Fi.yE,Fi.pZ,Fi.O5,AG]})}return n})();var u6t=P(8030);function d6t(n,e){if(1&n&&g.eu8(0,7),2&n){g.XpG(2);const t=g.sdS(2);g.Y8G("ngTemplateOutlet",t)}}function h6t(n,e){if(1&n&&g.eu8(0,7),2&n){g.XpG(2);const t=g.sdS(4);g.Y8G("ngTemplateOutlet",t)}}function f6t(n,e){if(1&n&&g.eu8(0,7),2&n){g.XpG(2);const t=g.sdS(6);g.Y8G("ngTemplateOutlet",t)}}function p6t(n,e){if(1&n){const t=g.RV6();g.j41(0,"mx-side-nav-item",9),g.bIt("onToggleGroup",function(r){g.eBV(t);const o=g.XpG(3);return g.Njj(o.toggleGroup(r))})("onClickRoute",function(r){g.eBV(t);const o=g.XpG(3);return g.Njj(o.clickRoute(r))}),g.k0s()}if(2&n){const t=e.$implicit,i=g.XpG(3);g.Y8G("data",t)("open",i.open)("isGroupItem","Group"===i.data.type)}}function m6t(n,e){if(1&n&&(g.j41(0,"mat-nav-list"),g.DNE(1,p6t,1,3,"mx-side-nav-item",8),g.k0s()),2&n){const t=g.XpG(2);g.R7$(),g.Y8G("ngForOf",t.data.children)}}function g6t(n,e){if(1&n&&(g.qex(0),g.DNE(1,d6t,1,1,"ng-container",6)(2,h6t,1,1,"ng-container",6)(3,f6t,1,1,"ng-container",6)(4,m6t,2,1,"mat-nav-list",5),g.bVm()),2&n){const t=g.XpG();g.R7$(),g.Y8G("ngIf","Category"===t.data.type),g.R7$(),g.Y8G("ngIf","Group"===t.data.type),g.R7$(),g.Y8G("ngIf","Route"===t.data.type),g.R7$(),g.Y8G("ngIf",t.showChildren)}}function v6t(n,e){if(1&n&&(g.j41(0,"span",12),g.EFF(1),g.k0s()),2&n){const t=g.XpG(2);g.R7$(),g.JRh(t.data.displayName)}}function y6t(n,e){1&n&&g.nrm(0,"mat-divider")}function b6t(n,e){if(1&n&&(g.j41(0,"div",10),g.DNE(1,v6t,2,1,"span",11)(2,y6t,1,0,"ng-template",null,3,g.C5r),g.k0s()),2&n){const t=g.sdS(3),i=g.XpG();g.R7$(),g.Y8G("ngIf",i.open)("ngIfElse",t)}}function _6t(n,e){if(1&n&&g.nrm(0,"mat-icon",17),2&n){const t=g.XpG(2);g.Y8G("svgIcon",t.data.iconName)}}function E6t(n,e){if(1&n){const t=g.RV6();g.j41(0,"mat-list-item",13),g.bIt("click",function(){g.eBV(t);const r=g.XpG();return g.Njj(r.data.disabled||r.toggleGroup())}),g.j41(1,"div",14),g.nrm(2,"mat-icon",15),g.DNE(3,_6t,1,1,"mat-icon",16),g.j41(4,"div",12),g.EFF(5),g.k0s()()()}if(2&n){const t=g.XpG();g.AVh("is-active",t.isActive)("is-side-nav-close",!t.open),g.Y8G("disabled",t.data.disabled),g.R7$(2),g.Y8G("svgIcon",t.data.expand?"icon:keyboard_arrow_down":"icon:navigate_next"),g.R7$(),g.Y8G("ngIf",t.data.iconName),g.R7$(2),g.JRh(t.data.displayName)}}function w6t(n,e){if(1&n&&g.nrm(0,"mat-icon",17),2&n){const t=g.XpG(2);g.Y8G("svgIcon",t.data.iconName)}}function x6t(n,e){1&n&&g.nrm(0,"span")}function M6t(n,e){if(1&n){const t=g.RV6();g.j41(0,"mat-list-item",18),g.bIt("click",function(){g.eBV(t);const r=g.XpG();return g.Njj(r.data.disabled||r.clickRoute())}),g.j41(1,"div",14),g.nrm(2,"span"),g.DNE(3,w6t,1,1,"mat-icon",19)(4,x6t,1,0,"ng-template",null,4,g.C5r),g.j41(6,"div",12),g.EFF(7),g.k0s()()()}if(2&n){const t=g.sdS(5),i=g.XpG();g.AVh("is-active",i.isActive)("is-group-item",i.isGroupItem)("is-side-nav-close",!i.open),g.Y8G("disabled",i.data.disabled),g.R7$(3),g.Y8G("ngIf",i.data.iconName)("ngIfElse",t),g.R7$(4),g.JRh(i.data.displayName)}}let C6t=(()=>{class n{constructor(){this.open=!1,this.isGroupItem=!1,this.onToggleGroup=new g.bkB,this.onClickRoute=new g.bkB}get isActive(){return this.data.isActive||this.isChildActive()}get showChildren(){return!!this.data.children&&!!this.data.children.length&&(this.data.expand??!0)&&!this.data.hide}isChildActive(){return!(!this.data.children||0==this.data.children.length||!this.data.children.find(t=>t.isActive))}toggleGroup(t=this.data){this.onToggleGroup.emit(t)}clickRoute(t=this.data){this.onClickRoute.emit(t)}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=g.VBU({type:n,selectors:[["mx-side-nav-item"]],inputs:{data:"data",open:[2,"open","open",g.L39],isGroupItem:[2,"isGroupItem","isGroupItem",g.L39]},outputs:{onToggleGroup:"onToggleGroup",onClickRoute:"onClickRoute"},standalone:!0,features:[g.Jv_([(0,g.Rfq)(()=>n)]),g.GFd,g.aNF],decls:7,vars:1,consts:[["category",""],["group",""],["route",""],["divider",""],["iconSpace",""],[4,"ngIf"],[3,"ngTemplateOutlet",4,"ngIf"],[3,"ngTemplateOutlet"],[3,"data","open","isGroupItem","onToggleGroup","onClickRoute",4,"ngFor","ngForOf"],[3,"onToggleGroup","onClickRoute","data","open","isGroupItem"],["category","",1,"mx-side-nav-node"],["class","node-name",4,"ngIf","ngIfElse"],[1,"node-name"],["group","",1,"mx-side-nav-node",3,"click","disabled"],[1,"mx-side-nav-node__item"],[1,"node-expand-icon",3,"svgIcon"],["class","node-icon","mat-list-icon","",3,"svgIcon",4,"ngIf"],["mat-list-icon","",1,"node-icon",3,"svgIcon"],["route","",1,"mx-side-nav-node",3,"click","disabled"],["class","node-icon","mat-list-icon","",3,"svgIcon",4,"ngIf","ngIfElse"]],template:function(i,r){1&i&&g.DNE(0,g6t,5,4,"ng-container",5)(1,b6t,4,2,"ng-template",null,0,g.C5r)(3,E6t,6,8,"ng-template",null,1,g.C5r)(5,M6t,8,10,"ng-template",null,2,g.C5r),2&i&&g.Y8G("ngIf",r.data)},dependencies:[n,Pi.MD,Pi.Sq,Pi.bT,Pi.T3,Cct,Mct,o6t,mct,Pl.m_,Pl.An,hi.Hl,AG],styles:['.gl-display-lg[_ngcontent-%COMP%]{font-weight:400;font-size:56px;line-height:64px;letter-spacing:0}.gl-display-md[_ngcontent-%COMP%]{font-weight:400;font-size:44px;line-height:52px;letter-spacing:0}.gl-display-sm[_ngcontent-%COMP%]{font-weight:400;font-size:36px;line-height:44px;letter-spacing:0}.gl-headline-lg[_ngcontent-%COMP%]{font-weight:400;font-size:32px;line-height:40px;letter-spacing:0}.gl-headline-md[_ngcontent-%COMP%]{font-weight:400;font-size:28px;line-height:36px;letter-spacing:0}.gl-headline-sm[_ngcontent-%COMP%]{font-weight:400;font-size:24px;line-height:32px;letter-spacing:0}.gl-title-lg[_ngcontent-%COMP%]{font-weight:400;font-size:22px;line-height:28px;letter-spacing:0}.gl-title-md[_ngcontent-%COMP%]{font-weight:500;font-size:16px;line-height:24px;letter-spacing:.15px}.gl-title-sm[_ngcontent-%COMP%]{font-weight:500;font-size:14px;line-height:20px;letter-spacing:.1px}.gl-label-lg[_ngcontent-%COMP%]{font-weight:500;font-size:16px;line-height:24px;letter-spacing:.15px}.gl-label-md[_ngcontent-%COMP%], .mx-side-nav-node__item[_ngcontent-%COMP%]   .node-name[_ngcontent-%COMP%], .mx-side-nav-node[route].is-group-item.is-active[_ngcontent-%COMP%]   .node-name[_ngcontent-%COMP%]{font-weight:500;font-size:14px;line-height:20px;letter-spacing:.1px}.gl-label-sm[_ngcontent-%COMP%], .mx-side-nav-node[category][_ngcontent-%COMP%]   .node-name[_ngcontent-%COMP%]{font-weight:500;font-size:12px;line-height:16px;letter-spacing:.5px}.gl-body-lg[_ngcontent-%COMP%]{font-weight:400;font-size:16px;line-height:24px;letter-spacing:.5px}.gl-body-md[_ngcontent-%COMP%], .mx-side-nav-node[route].is-group-item[_ngcontent-%COMP%]   .node-name[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{font-weight:400;font-size:14px;line-height:20px;letter-spacing:.25px}.gl-body-sm[_ngcontent-%COMP%]{font-weight:400;font-size:12px;line-height:16px;letter-spacing:.4px}.rounded-x-sm[_ngcontent-%COMP%], .mx-side-nav-node[_ngcontent-%COMP%]{border-radius:4px}.rounded-sm[_ngcontent-%COMP%]{border-radius:8px}.rounded-md[_ngcontent-%COMP%]{border-radius:12px}.rounded-lg[_ngcontent-%COMP%]{border-radius:16px}.rounded-x-lg[_ngcontent-%COMP%]{border-radius:28px}.rounded-full[_ngcontent-%COMP%]{border-radius:50%}[_nghost-%COMP%]{display:block}.mdc-list[_ngcontent-%COMP%], .mdc-list-item[_ngcontent-%COMP%]{padding:0}.mx-side-nav-node[_ngcontent-%COMP%]{box-sizing:border-box;display:flex;height:40px!important}.mx-side-nav-node__item[_ngcontent-%COMP%]{height:100%;width:100%;display:grid;grid-template-columns:24px 20px 1fr;align-items:center}.mx-side-nav-node__item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:20px;width:20px;padding:0;border-radius:0;font-size:20px;margin-right:8px}.mx-side-nav-node__item[_ngcontent-%COMP%]   .node-name[_ngcontent-%COMP%]{margin-left:8px;overflow:hidden;white-space:nowrap}.mx-side-nav-node[category][_ngcontent-%COMP%]{height:32px!important;display:flex;align-items:center;padding:0 0 0 4px}.mx-side-nav-node[category][_ngcontent-%COMP%]   .node-name[_ngcontent-%COMP%]{white-space:nowrap}.mx-side-nav-node[category][_ngcontent-%COMP%]   .mat-divider[_ngcontent-%COMP%]{width:100%}.mx-side-nav-node[group][_ngcontent-%COMP%]   .node-expand-icon[_ngcontent-%COMP%]{width:16px;height:16px;margin:0 2px 0 6px}.mx-side-nav-node[route].is-active[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;width:4px;opacity:1}.mx-side-nav-node[route].is-group-item.is-side-nav-close[_ngcontent-%COMP%]:after{content:"";display:inline-block;position:absolute;z-index:3;right:13px;width:1px;height:100%}.mx-side-nav-node[route].is-group-item[_ngcontent-%COMP%]   .node-name[_ngcontent-%COMP%]{margin-left:20px}']})}return n})();const S6t=[[["","mx-side-nav-header",""]]],D6t=["[mx-side-nav-header]"];function T6t(n,e){if(1&n){const t=g.RV6();g.j41(0,"mx-side-nav-item",6),g.bIt("onToggleGroup",function(r){g.eBV(t);const o=g.XpG(2);return g.Njj(o.toggleGroup(r))})("onClickRoute",function(r){g.eBV(t);const o=g.XpG(2);return g.Njj(o.clickRoute(r))}),g.k0s()}if(2&n){const t=e.$implicit,i=g.XpG(2);g.AVh("is-category","Category"===t.type),g.Y8G("data",t)("open",i.isOpen())}}function A6t(n,e){if(1&n&&(g.j41(0,"mat-nav-list"),g.DNE(1,T6t,1,4,"mx-side-nav-item",5),g.k0s()),2&n){const t=g.XpG();g.R7$(),g.Y8G("ngForOf",t.fixedData())}}function O6t(n,e){1&n&&g.nrm(0,"mat-divider")}function k6t(n,e){if(1&n){const t=g.RV6();g.j41(0,"mx-side-nav-item",6),g.bIt("onToggleGroup",function(r){g.eBV(t);const o=g.XpG();return g.Njj(o.toggleGroup(r))})("onClickRoute",function(r){g.eBV(t);const o=g.XpG();return g.Njj(o.clickRoute(r))}),g.k0s()}if(2&n){const t=e.$implicit,i=g.XpG();g.AVh("is-category","Category"===t.type),g.Y8G("data",t)("open",i.isOpen())}}let I6t=(()=>{class n{constructor(){this.containerHeight="100vh",this.onToggleGroup=new g.bkB,this.onClickRoute=new g.bkB,this.isOpen=(0,g.vPA)(!0),this.dataItems=(0,g.vPA)([]),this.expandItems=(0,g.vPA)({}),this.randomIdItems=(0,g.EWP)(()=>this.generateIDs(this.dataItems())),this.viewData=(0,g.EWP)(()=>this.updateItems(this.randomIdItems())),this.fixedData=(0,g.EWP)(()=>this.getFixedItems(this.viewData())),this.normalData=(0,g.EWP)(()=>this.getNormalItems(this.viewData())),this.isOpenWithAudit=(0,qc.ot)((0,qc.br)(this.isOpen).pipe((0,u6t.Z)(30)))}set data(t){this.dataItems.set(t)}set open(t){this.isOpen.set(t)}generateIDs(t,i=""){return t.map(r=>{const o=r.id??Math.random().toString(36).substring(2);return{...r,id:o,parentId:r.parentId??i,children:r.children&&this.generateIDs(r.children,o)}})}getFixedItems(t){const i=[],r=o=>{o.map(s=>{s.isFixed&&i.push({...s,isFixed:!1}),s.children&&r(s.children)})};return r(t),i}getNormalItems(t){const i=r=>r.filter(s=>!s.isFixed).map(s=>({...s,children:s.children&&i(s.children)}));return i(t)}updateItems(t){const i=this.expandItems();return t.map(r=>({...r,isActive:r.isActive,expand:i[r.id]?i[r.id].expand:r.expand,children:r.children&&this.updateItems(r.children)}))}toggleGroup(t){this.expandItems.update(i=>{const r=structuredClone(i);return r[t.id]={...t,expand:!t.expand},r}),this.onToggleGroup.emit(t)}clickRoute(t){this.onClickRoute.emit(t)}animationEnd(){}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=g.VBU({type:n,selectors:[["mx-side-nav"]],inputs:{data:"data",open:[2,"open","open",g.L39],containerHeight:"containerHeight"},outputs:{onToggleGroup:"onToggleGroup",onClickRoute:"onClickRoute"},standalone:!0,features:[g.Jv_([(0,g.Rfq)(()=>n)]),g.GFd,g.aNF],ngContentSelectors:D6t,decls:9,vars:8,consts:[["header",""],[1,"mx-side-nav-wrapper"],[1,"mx-side-nav-header"],[4,"ngIf"],[1,"mx-side-nav-scrollable-container"],[3,"data","open","is-category","onToggleGroup","onClickRoute",4,"ngFor","ngForOf"],[3,"onToggleGroup","onClickRoute","data","open"]],template:function(i,r){if(1&i){const o=g.RV6();g.NAR(S6t),g.j41(0,"div",1),g.bIt("@openClose.done",function(){return g.eBV(o),g.Njj(r.animationEnd())}),g.j41(1,"div",2,0),g.SdG(3),g.DNE(4,A6t,2,1,"mat-nav-list",3),g.k0s(),g.DNE(5,O6t,1,0,"mat-divider",3),g.j41(6,"div",4)(7,"mat-nav-list"),g.DNE(8,k6t,1,4,"mx-side-nav-item",5),g.k0s()()()}if(2&i){const o=g.sdS(2);g.xc7("height",r.containerHeight),g.AVh("is-side-nav-close",!r.isOpen()),g.Y8G("@openClose",r.isOpen()?"open":"close"),g.R7$(4),g.Y8G("ngIf",r.fixedData().length>0),g.R7$(),g.Y8G("ngIf",o.children.length),g.R7$(3),g.Y8G("ngForOf",r.normalData())}},dependencies:[Pi.MD,Pi.Sq,Pi.bT,C6t,N,Cct,Mct,mct,Pl.m_,AG],styles:[".mx-side-nav-wrapper[_ngcontent-%COMP%]{padding:8px;box-sizing:border-box;overflow:hidden;display:flex;flex-direction:column;max-height:100vh}.mx-side-nav-wrapper[_ngcontent-%COMP%]   .mx-side-nav-scrollable-container[_ngcontent-%COMP%]{display:block;overflow:auto;flex:1}.mx-side-nav-wrapper[_ngcontent-%COMP%]   .mx-side-nav-scrollable-container[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.mx-side-nav-wrapper[_ngcontent-%COMP%]   .mat-divider[_ngcontent-%COMP%]{margin:8px 0}.mx-side-nav-wrapper[_ngcontent-%COMP%]   .mdc-list[_ngcontent-%COMP%]{padding:0}.mx-side-nav-wrapper[_ngcontent-%COMP%]   .is-category[_ngcontent-%COMP%] + .is-category[_ngcontent-%COMP%]{margin-top:8px}"],data:{animation:[(0,it.hZ)("openClose",[(0,it.wk)("open",(0,it.iF)({width:"260px"})),(0,it.wk)("close",(0,it.iF)({width:"64px"})),(0,it.kY)("open => close",[(0,it.i0)("0.3s cubic-bezier(0.63, 0.06, 0.33, 0.93)")]),(0,it.kY)("close => open",[(0,it.i0)("0.3s cubic-bezier(0.63, 0.06, 0.33, 0.93)")])])]}})}return n})(),Sct=(()=>{class n extends or.Sf{constructor(){super((0,g.WQX)(Pi.qQ),(0,g.WQX)(Eo.OD))}setContainerElement(t){this._containerElement=t}static \u0275fac=function(i){return new(i||n)};static \u0275prov=g.jDH({token:n,factory:n.\u0275fac})}return n})(),Dct=(()=>{class n extends or.hJ{#t;#e;constructor(){const t=(0,g.WQX)(or.Tv),i=(0,g.WQX)(Sct),r=(0,g.WQX)(g.OM3),o=(0,g.WQX)(or.lF),s=(0,g.WQX)(or.Jr),a=(0,g.WQX)(g.zZn),l=(0,g.WQX)(g.SKi),u=(0,g.WQX)(Pi.qQ),d=(0,g.WQX)(Ul.dS),f=(0,g.WQX)(Pi.aZ),m=(0,g.WQX)(or.hr),y=(0,g.WQX)(g._9s);super(t,i,r,o,s,a,l,u,d,f,m),this.#e=y.createRenderer(null,null),this.#t=i}setContainerElement(t){this.#t.setContainerElement(t)}setTransform(t,i){i?this.#e.setStyle(t,"transform","translateZ(0)"):this.#e.removeStyle(t,"transform")}static \u0275fac=function(i){return new(i||n)};static \u0275prov=g.jDH({token:n,factory:n.\u0275fac})}return n})();var tr=function(n){return n[n.EntitiesOnly=0]="EntitiesOnly",n[n.Both=1]="Both",n[n.None=2]="None",n}(tr||{});function vs(n){return function(t,i){const r={ids:[...i.ids],entities:{...i.entities}},o=n(t,r);return o===tr.Both?Object.assign({},i,r):o===tr.EntitiesOnly?{...i,entities:r.entities}:i}}function p0(n,e){const t=e(n);return(0,g.naY)()&&void 0===t&&console.warn("@ngrx/entity: The entity passed to the `selectId` implementation returned undefined.","You should probably provide your own `selectId` implementation.","The entity that was passed:",n,"The `selectId` implementation:",e.toString()),t}function Tct(n){function e(w,M){const x=p0(w,n);return x in M.entities?tr.None:(M.ids.push(x),M.entities[x]=w,tr.Both)}function t(w,M){let x=!1;for(const D of w)x=e(D,M)!==tr.None||x;return x?tr.Both:tr.None}function r(w,M){const x=p0(w,n);return x in M.entities?(M.entities[x]=w,tr.EntitiesOnly):(M.ids.push(x),M.entities[x]=w,tr.Both)}function a(w,M){const D=(w instanceof Array?w:M.ids.filter(k=>w(M.entities[k]))).filter(k=>k in M.entities).map(k=>delete M.entities[k]).length>0;return D&&(M.ids=M.ids.filter(k=>k in M.entities)),D?tr.Both:tr.None}function d(w,M){return f([w],M)}function f(w,M){const x={};return(w=w.filter(k=>k.id in M.entities)).length>0?w.filter(T=>function u(w,M,x){const k=Object.assign({},x.entities[M.id],M.changes),T=p0(k,n),O=T!==M.id;return O&&(w[M.id]=T,delete x.entities[M.id]),x.entities[T]=k,O}(x,T,M)).length>0?(M.ids=M.ids.map(T=>x[T]||T),tr.Both):tr.EntitiesOnly:tr.None}function E(w,M){const x=[],D=[];for(const O of w){const R=p0(O,n);R in M.entities?D.push({id:R,changes:O}):x.push(O)}const k=f(D,M),T=t(x,M);switch(!0){case T===tr.None&&k===tr.None:return tr.None;case T===tr.Both||k===tr.Both:return tr.Both;default:return tr.EntitiesOnly}}return{removeAll:function l(w){return Object.assign({},w,{ids:[],entities:{}})},addOne:vs(e),addMany:vs(t),setAll:vs(function i(w,M){return M.ids=[],M.entities={},t(w,M),tr.Both}),setOne:vs(r),setMany:vs(function o(w,M){const x=w.map(D=>r(D,M));switch(!0){case x.some(D=>D===tr.Both):return tr.Both;case x.some(D=>D===tr.EntitiesOnly):return tr.EntitiesOnly;default:return tr.None}}),updateOne:vs(d),updateMany:vs(f),upsertOne:vs(function b(w,M){return E([w],M)}),upsertMany:vs(E),removeOne:vs(function s(w,M){return a([w],M)}),removeMany:vs(a),map:vs(function m(w,M){return f(M.ids.reduce((k,T)=>{const O=w(M.entities[T]);return O!==M.entities[T]&&k.push({id:T,changes:O}),k},[]).filter(({id:k})=>k in M.entities),M)}),mapOne:vs(function y({map:w,id:M},x){const D=x.entities[M];return D?d({id:M,changes:w(D)},x):tr.None})}}function L6t(n,e){const{removeOne:t,removeMany:i,removeAll:r}=Tct(n);function o(x,D){return s([x],D)}function s(x,D){const k=x.filter(T=>!(p0(T,n)in D.entities));return 0===k.length?tr.None:(M(k,D),tr.Both)}function l(x,D){const k=p0(x,n);return k in D.entities?(D.ids=D.ids.filter(T=>T!==k),M([x],D),tr.Both):o(x,D)}function d(x,D){return m([x],D)}function m(x,D){const k=[],T=x.filter(O=>function f(x,D,k){if(!(D.id in k.entities))return!1;const O=Object.assign({},k.entities[D.id],D.changes),R=p0(O,n);return delete k.entities[D.id],x.push(O),R!==D.id}(k,O,D)).length>0;if(0===k.length)return tr.None;{const O=D.ids,R=[];return D.ids=D.ids.filter((L,F)=>L in D.entities||(R.push(F),!1)),M(k,D),!T&&R.every(L=>D.ids[L]===O[L])?tr.EntitiesOnly:tr.Both}}function w(x,D){const k=[],T=[];for(const L of x){const F=p0(L,n);F in D.entities?T.push({id:F,changes:L}):k.push(L)}const O=m(T,D),R=s(k,D);switch(!0){case R===tr.None&&O===tr.None:return tr.None;case R===tr.Both||O===tr.Both:return tr.Both;default:return tr.EntitiesOnly}}function M(x,D){x.sort(e);const k=[];let T=0,O=0;for(;T<x.length&&O<D.ids.length;){const R=x[T],L=p0(R,n),F=D.ids[O];e(R,D.entities[F])<=0?(k.push(L),T++):(k.push(F),O++)}D.ids=k.concat(T<x.length?x.slice(T).map(n):D.ids.slice(O)),x.forEach((R,L)=>{D.entities[n(R)]=R})}return{removeOne:t,removeMany:i,removeAll:r,addOne:vs(o),updateOne:vs(d),upsertOne:vs(function E(x,D){return w([x],D)}),setAll:vs(function a(x,D){return D.entities={},D.ids=[],s(x,D),tr.Both}),setOne:vs(l),setMany:vs(function u(x,D){const k=x.map(T=>l(T,D));switch(!0){case k.some(T=>T===tr.Both):return tr.Both;case k.some(T=>T===tr.EntitiesOnly):return tr.EntitiesOnly;default:return tr.None}}),addMany:vs(s),updateMany:vs(m),upsertMany:vs(w),map:vs(function y(x,D){return m(D.ids.reduce((T,O)=>{const R=x(D.entities[O]);return R!==D.entities[O]&&T.push({id:O,changes:R}),T},[]),D)}),mapOne:vs(function b({map:x,id:D},k){const T=k.entities[D];return T?d({id:D,changes:x(T)},k):tr.None})}}const IG=(0,Qi.VP)("[Tp Menu Container] Create",(0,Qi.xk)()),Act=(0,Qi.VP)("[Tp Menu Container] Remove Menu Item",(0,Qi.xk)()),Oct=(0,Qi.VP)("[Tp Menu Container] Add Menu Item",(0,Qi.xk)()),kct=(0,Qi.VP)("[Tp Menu Container] Toggle Menu Group",(0,Qi.xk)()),RG=(0,Qi.VP)("[Tp Menu Container] Collapse Inactived Menu Group",(0,Qi.xk)()),PG=(0,Qi.VP)("[Tp Menu Container] Set Menu Item or Group active",(0,Qi.xk)()),NG=(0,Qi.VP)("[Tp Menu Container] Clear all Menu Item active state",(0,Qi.xk)()),Ict=(0,Qi.VP)("[Tp Menu Container] Toggle hide status for menu item",(0,Qi.xk)()),_g=((0,Qi.KC)({createAllMenuItem:IG,removeMenuItem:Act,addMenuItem:Oct,toggleMenuGroup:kct,toggleMenuItems:Ict,collapaseInactivedMenuGroup:RG,setActiveMenuItem:PG,clearActiveMenuItem:NG}),function F6t(n={}){const{selectId:e,sortComparer:t}={selectId:n.selectId??(s=>s.id),sortComparer:n.sortComparer??!1},i=function P6t(){return{getInitialState:function n(e={}){return Object.assign({ids:[],entities:{}},e)}}}(),r=function N6t(){return{getSelectors:function n(e){const t=s=>s.ids,i=s=>s.entities,r=(0,Qi.Mz)(t,i,(s,a)=>s.map(l=>a[l])),o=(0,Qi.Mz)(t,s=>s.length);return e?{selectIds:(0,Qi.Mz)(e,t),selectEntities:(0,Qi.Mz)(e,i),selectAll:(0,Qi.Mz)(e,r),selectTotal:(0,Qi.Mz)(e,o)}:{selectIds:t,selectEntities:i,selectAll:r,selectTotal:o}}}}();return{selectId:e,sortComparer:t,...i,...r,...t?L6t(e,t):Tct(e)}}({selectId:n=>n.id??"",sortComparer:!1})),B6t=_g.getInitialState({loading:!1}),j6t=(0,Qi.vy)(B6t,(0,Qi.on)(IG,(n,e)=>_g.setAll(e.payload,n)),(0,Qi.on)(Act,(n,e)=>_g.removeMany(e.payload,n)),(0,Qi.on)(Oct,(n,e)=>_g.addMany(e.payload,n)),(0,Qi.on)(kct,(n,e)=>_g.updateOne(e.payload,n)),(0,Qi.on)(Ict,(n,e)=>_g.updateMany(e.payload,n)),(0,Qi.on)(PG,NG,RG,(n,e)=>_g.updateMany(e.payload,n)));function V6t(n,e){return j6t(n,e)}const z6t=(0,Qi.UX)("menu"),{selectAll:U6t}=_g.getSelectors(z6t),H6t=["progressSpinnerRef"],G6t=["containerRef"],$6t=["contentRef"],W6t=[[["","progress-spinner-content",""]]],K6t=["[progress-spinner-content]"];function X6t(n,e){1&n&&g.nrm(0,"mx-progress-spinner")}let Y6t=(()=>{class n{isLoading=!1;#t=(0,g.WQX)(g.c1b);#e=(0,g.WQX)(Dct);#n;#i;progressSpinnerRef;containerRef;contentRef;ngOnInit(){this.#e.setContainerElement(this.containerRef.nativeElement);const t=this.#e.position().global().centerHorizontally().centerVertically(),i=new or.rR({hasBackdrop:!0,backdropClass:"cdk-overlay-transparent-backdrop",positionStrategy:t,scrollStrategy:this.#e.scrollStrategies.block()});this.#n=this.#e.create(i),this.#i=new Qu.VA(this.progressSpinnerRef,this.#t),this.isLoading&&(this.#n.attach(this.#i),this.#e.setTransform(this.containerRef.nativeElement,!0),this.setContentTransparency(!0))}ngOnChanges(t){t.isLoading&&!t.isLoading.isFirstChange()&&(this.isLoading?(this.#n.attach(this.#i),this.#e.setTransform(this.containerRef.nativeElement,!0),this.setContentTransparency(!0)):(this.#n.detach(),this.#e.setTransform(this.containerRef.nativeElement,!1),this.setContentTransparency(!1)))}setContentTransparency(t){t?this.contentRef.nativeElement.setAttribute("class","gl-transparency"):this.contentRef.nativeElement.removeAttribute("class","gl-transparency")}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=g.VBU({type:n,selectors:[["one-ui-page-spinner"]],viewQuery:function(i,r){if(1&i&&(g.GBs(H6t,7),g.GBs(G6t,7),g.GBs($6t,7)),2&i){let o;g.mGM(o=g.lsd())&&(r.progressSpinnerRef=o.first),g.mGM(o=g.lsd())&&(r.containerRef=o.first),g.mGM(o=g.lsd())&&(r.contentRef=o.first)}},inputs:{isLoading:"isLoading"},standalone:!0,features:[g.Jv_([Sct,Dct]),g.OA$,g.aNF],ngContentSelectors:K6t,decls:7,vars:4,consts:[["progressSpinnerRef",""],["containerRef",""],["contentRef",""]],template:function(i,r){1&i&&(g.NAR(W6t),g.DNE(0,X6t,1,0,"ng-template",null,0,g.C5r),g.j41(2,"div",null,1)(4,"div",null,2),g.SdG(6),g.k0s()()),2&i&&(g.R7$(2),g.xc7("height","100%"),g.R7$(2),g.xc7("height","100%"))},dependencies:[W],encapsulation:2,changeDetection:0})}return n})();const Z6t=["*"];let Q6t=(()=>{class n{set fixedMenu(t){this.isFixed.set(t),this.openMenu.set(t)}get fixedMenu(){return this.openMenu()}set enableHoverMenu(t){this.enableHover.set(t)}get enableHoverMenu(){return this.enableHover()}isPageLoading=!1;#t=(0,g.WQX)(Qi.il);#e=(0,g.WQX)(ea.Ix);openMenu=(0,g.vPA)(!1);isFixed=(0,g.vPA)(!1);enableHover=(0,g.vPA)(!0);activatedMenuItem=(0,g.vPA)(null);flatMenuItems=(0,qc.ot)(this.#t.select(U6t),{requireSync:!0});nestedMenuItems=(0,g.EWP)(()=>this.flatMenuItems()?.length?this.#r(this.flatMenuItems()):[]);routerChanged$=this.#e.events.pipe((0,G.p)(t=>t instanceof ea.wF),(0,G.p)(()=>!!this.flatMenuItems()?.length),(0,py.M)(t=>{this.#i(t?.url)}),(0,qc.pQ)());#n=(0,g.QZP)(()=>{(0,g.O8t)(()=>{this.#i(this.#e.url)})},{allowSignalWrites:!0});constructor(){this.routerChanged$.subscribe()}changeRoute(t){t&&this.#e.navigate([t])}hoverSideNav(t){this.isFixed()||this.enableHover()&&this.openMenu.set(t)}#i(t){this.flatMenuItems().filter(i=>i.route&&t.includes(i.route)).forEach(i=>{this.#s(),this.#a(i),this.#o(i)})}#r(t){const i=JSON.parse(JSON.stringify(t)),r=i.reduce((a,l)=>(a[l.id]=!1,a),{}),o=[],s=a=>{const l=new Map;let u=!1;a.forEach(f=>{const m=i.find(y=>y.id===f.parentId);if(m){const y=l.get(m);l.set(m,y?.length?[...y,f]:[f])}else if(l.has(f)){const y=l.get(f)||[];l.set(f,[...y,...f.children])}else l.set(f,f.children);m&&(u=!0),r[f.id]=!0});const d=[...l].map(([f,m])=>(f.children=m,f));return u?s(d):d};for(const a of["Route","Group","Category"]){const l=i.filter(d=>d.type===a&&!r[d.id]),u=s(l);o.push(...u)}return o}#o(t){const i=this.flatMenuItems().filter(r=>r.expand&&!r.isActive&&(!t||r.id!==t.parentId)).map(r=>({id:r.id||"",changes:{expand:!1}}));i&&this.#t.dispatch(RG({payload:i}))}#s(){const t=this.flatMenuItems().filter(i=>i.isActive).map(i=>({id:i.id||"",changes:{isActive:!1}}));this.#t.dispatch(NG({payload:t}))}#a(t){const i=this.flatMenuItems().filter(o=>o.id===t.id).map(o=>({id:o.id||"",changes:{isActive:!0}})),r=this.flatMenuItems().filter(o=>o.id===t.parentId&&"Group"===o.type).map(o=>({id:o.id||"",changes:{isActive:!0,expand:!0}}));this.#t.dispatch(PG({payload:i.concat(r)}))}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=g.VBU({type:n,selectors:[["one-ui-layout-container"]],inputs:{fixedMenu:[2,"fixedMenu","fixedMenu",g.L39],enableHoverMenu:[2,"enableHoverMenu","enableHoverMenu",g.L39],isPageLoading:[2,"isPageLoading","isPageLoading",g.L39]},standalone:!0,features:[g.GFd,g.aNF],ngContentSelectors:Z6t,decls:6,vars:3,consts:[[1,"sidenav-container"],["containerHeight","calc(100vh - 64px)",1,"menu",3,"onClickRoute","mouseenter","mouseleave","data","open"],[1,"sidenav-content"],[3,"isLoading"],["progress-spinner-content","",1,"gl-page-content-wrapper"]],template:function(i,r){1&i&&(g.NAR(),g.j41(0,"div",0)(1,"mx-side-nav",1),g.bIt("onClickRoute",function(s){return r.changeRoute(s.route)})("mouseenter",function(){return r.hoverSideNav(!0)})("mouseleave",function(){return r.hoverSideNav(!1)}),g.k0s(),g.j41(2,"div",2)(3,"one-ui-page-spinner",3)(4,"div",4),g.SdG(5),g.k0s()()()()),2&i&&(g.R7$(),g.Y8G("data",r.nestedMenuItems())("open",r.openMenu()),g.R7$(2),g.Y8G("isLoading",r.isPageLoading))},dependencies:[Y6t,I6t],styles:["[_nghost-%COMP%]{display:block;height:100vh}.sidenav-container[_ngcontent-%COMP%]{display:flex}.sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]{width:100%;overflow:auto}.gl-page-content-wrapper[_ngcontent-%COMP%]{padding-top:0}"],changeDetection:0})}return n})();var LG=P(8752),Rct=P(1534),Pct=P(4080);const q6t=n=>({isPageLoading:n});function J6t(n,e){if(1&n){const t=g.RV6();g.qex(0),g.j41(1,"mx-top-nav",1),g.bIt("onClickMenu",function(){g.eBV(t);const r=g.XpG();return g.Njj(r.onToggle())}),g.nrm(2,"mx-top-nav-model-name",2),g.k0s(),g.j41(3,"one-ui-layout-container",3),g.nrm(4,"router-outlet"),g.k0s(),g.bVm()}if(2&n){const t=e.ngrxLet,i=g.XpG();g.R7$(2),g.Y8G("modelName","Topology Web Demo"),g.R7$(),g.Y8G("fixedMenu",i.isToggle)("isPageLoading",t.isPageLoading)}}const tFt=[{path:"",component:(()=>{class n{#t=(0,g.WQX)(Qi.il);#e=(0,g.WQX)(ea.Ix);#n=(0,g.WQX)(lt.bZ);#i=(0,g.WQX)(Z.uR);#r=(0,g.WQX)(dct.U);#o=(0,g.WQX)(bE.JO);isToggle=!0;isDarkTheme=!1;isPageLoading$=this.#t.pipe((0,Qi.Lt)(LG.pr)).pipe((0,qc.pQ)());passwordDialogRef=null;sessionDialogRef=null;constructor(){this.#e.events.pipe((0,qc.pQ)()).subscribe(t=>{t instanceof ea.Z?this.#t.dispatch(LG.pe.pageLoading({isPageLoading:!0})):(t instanceof ea.wF||t instanceof ea.L6||t instanceof ea.j5||t instanceof ea.gx)&&this.#t.dispatch(LG.pe.pageLoadingCompletion({isPageLoading:!1}))})}onToggle(){this.isToggle=!this.isToggle}openChangePasswordDialog(){this.passwordDialogRef=this.#n.open(PLt,{panelClass:"mx-dialog-sm",autoFocus:!0,disableClose:!0,data:{noCurrentPassword:!1,passwordUpperLimit:20}}),this.passwordDialogRef.componentInstance.changePassword.subscribe(this.sendUserPasswordUpdateRequest)}sendUserPasswordUpdateRequest=t=>{this.#i.changePassword(t).pipe((0,Rct.W)(()=>(this.passwordDialogRef&&(this.passwordDialogRef.componentInstance.isLoading=!1,this.passwordDialogRef.componentInstance.changeFailMessage=this.#o.translateObject("app.user-profile-menu.password-update-fail"),this.passwordDialogRef.componentInstance.cd.markForCheck()),Pct.w))).subscribe(()=>{this.#r.open(this.#o.translateObject("app.user-profile-menu.password-update-success")),this.passwordDialogRef&&this.passwordDialogRef.close()})};static \u0275fac=function(i){return new(i||n)};static \u0275cmp=g.VBU({type:n,selectors:[["one-ui-shell"]],standalone:!0,features:[g.aNF],decls:1,vars:3,consts:[[4,"ngrxLet"],["customLogo","assets/logo-white.svg",3,"onClickMenu"],["left-content","",3,"modelName"],[3,"fixedMenu","isPageLoading"]],template:function(i,r){1&i&&g.DNE(0,J6t,5,3,"ng-container",0),2&i&&g.Y8G("ngrxLet",g.eq3(1,q6t,r.isPageLoading$))},dependencies:[ea.n3,uLt,dLt,Q6t,fct.Nj],styles:[".page-loading[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;align-items:center;justify-content:center}"],changeDetection:0})}return n})(),children:[{path:"design",component:V5t,data:{breadcrumb:se(Gr,"Network Design"),preload:!0}},{path:"monitor",component:rLt,data:{breadcrumb:se(Gr,"System Monitor"),preload:!0}},{path:"",redirectTo:"design",pathMatch:"full"}]},{path:"mobile",component:fo},{path:"login",loadChildren:()=>P.e(680).then(P.bind(P,9680)).then(n=>n.AUTH_PAGE_ROUTES),data:{preload:!0}},{path:"500",redirectTo:"/internal-server-error"},{path:"**",redirectTo:"404"}],vD={production:!0,hideFeatures:!0,baseHref:"/topology-web/",api:{basePath:"/api/v1",privateBasePath:"/api"},socket:{host:location.host}};let nFt=(()=>{class n{enableDebug=!1;debug(t){this.enableDebug=t}getDebugStatus(){return this.enableDebug}error(t,i){this.enableDebug&&this.log(`\u{1f525}  ${t}`,i)}info(t,i){this.enableDebug&&this.log(`\u2139\ufe0f  ${t}`,i)}success(t,i){this.enableDebug&&this.log(`\u2705  ${t}`,i)}warn(t,i){this.enableDebug&&this.log(`\u26a0\ufe0f  ${t}`,i)}log(...t){this.enableDebug&&console.log.apply(window,["\u{1f4e2}"].concat(t))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=g.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),iFt=(()=>{class n{#t=(0,g.WQX)(Pl.tp);#e=(0,g.WQX)(C.up);#n=(0,g.WQX)(nFt);#i=(0,g.WQX)(Qi.il);initialize(t){vD.production||this.#n.debug(!0),this.#s(),this.#i.dispatch(Z.j4.loadInitState()),this.#i.dispatch(IG({payload:this.#r([])})),t()}#r(t){const i=yr,r=[];for(const o of i)o.permission?.length>0&&!t.some(s=>!!o.permission?.includes(s))||(r.push({...o,children:[]}),o.children&&this.#o(o.children,r,t));return r}#o(t,i,r){for(const o of t)o.permission?.length>0&&!r.some(s=>!!o.permission?.includes(s))||(i.push({...o,children:[]}),o.children&&this.#o(o.children,i,r))}#s(){this.#t.addSvgIconSetInNamespace("icon",this.#e.bypassSecurityTrustResourceUrl("assets/icons-sprite.svg?ts="+(new Date).getTime()))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=g.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function rFt(n){return()=>new Promise(e=>{n.initialize(e)})}let aFt=(()=>{class n{#t=(0,g.WQX)(H.Qq);getTranslation(t){return this.#t.get(`./assets/i18n/${t}.json`)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=g.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();new g.nKC("MQTT_OVER_WEBSOCKET_CONFIG"),new g.nKC("SSE_CONFIG");const dFt=new g.nKC("WEBSOCKET_CONFIG");var fFt=P(1867),pFt=P(391),mFt=P(7650),gFt=P(3622),vFt=P(5799),yFt=P(5098),bFt=P(1531),_Ft=P(7272),EFt=P(1391),wFt=P(782);const xFt=(0,_Ft.L)(n=>function(t=null){n(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t});function CFt(n){throw new xFt(n)}var SFt=P(2422),DFt=P(1240),TFt=P(6058),AFt=P(1546);const yD="PERFORM_ACTION",jct="TOGGLE_ACTION",zct="JUMP_TO_STATE",Uct="JUMP_TO_ACTION",FG="IMPORT_STATE",Hct="LOCK_CHANGES",Gct="PAUSE_RECORDING";class nN{constructor(e,t){if(this.action=e,this.timestamp=t,this.type=yD,typeof e.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class kFt{constructor(){this.type="REFRESH"}}class IFt{constructor(e){this.timestamp=e,this.type="RESET"}}class RFt{constructor(e){this.timestamp=e,this.type="ROLLBACK"}}class PFt{constructor(e){this.timestamp=e,this.type="COMMIT"}}class NFt{constructor(){this.type="SWEEP"}}class LFt{constructor(e){this.id=e,this.type=jct}}class FFt{constructor(e){this.index=e,this.type=zct}}class BFt{constructor(e){this.actionId=e,this.type=Uct}}class jFt{constructor(e){this.nextLiftedState=e,this.type=FG}}class VFt{constructor(e){this.status=e,this.type=Hct}}class zFt{constructor(e){this.status=e,this.type=Gct}}const iN=new g.nKC("@ngrx/store-devtools Options"),$ct=new g.nKC("@ngrx/store-devtools Initial Config");function Wct(){return null}const UFt="NgRx Store DevTools";function HFt(n){const e={maxAge:!1,monitor:Wct,actionSanitizer:void 0,stateSanitizer:void 0,name:UFt,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0},connectInZone:!1},t="function"==typeof n?n():n,r=t.features||!!t.logOnly&&{pause:!0,export:!0,test:!0}||e.features;!0===r.import&&(r.import="custom");const o=Object.assign({},e,{features:r},t);if(o.maxAge&&o.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${o.maxAge}`);return o}function Kct(n,e){return n.filter(t=>e.indexOf(t)<0)}function Xct(n){const{computedStates:e,currentStateIndex:t}=n;if(t>=e.length){const{state:r}=e[e.length-1];return r}const{state:i}=e[t];return i}function bD(n){return new nN(n,+Date.now())}function GFt(n,e){return Object.keys(e).reduce((t,i)=>{const r=Number(i);return t[r]=Yct(n,e[r],r),t},{})}function Yct(n,e,t){return{...e,action:n(e.action,t)}}function $Ft(n,e){return e.map((t,i)=>({state:Zct(n,t.state,i),error:t.error}))}function Zct(n,e,t){return n(e,t)}function Qct(n){return n.predicate||n.actionsSafelist||n.actionsBlocklist}function BG(n,e,t,i,r){const o=t&&!t(n,e.action),s=i&&!e.action.type.match(i.map(l=>qct(l)).join("|")),a=r&&e.action.type.match(r.map(l=>qct(l)).join("|"));return o||s||a}function qct(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Jct(n){return{ngZone:n?(0,g.WQX)(g.SKi):null,connectInZone:n}}let rN=(()=>{class n extends Qi.SS{static#t=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=g.xGo(n)))(r||n)}})();static#e=this.\u0275prov=g.jDH({token:n,factory:n.\u0275fac})}return n})();const jG=new g.nKC("@ngrx/store-devtools Redux Devtools Extension");let tut=(()=>{class n{constructor(t,i,r){this.config=i,this.dispatcher=r,this.zoneConfig=Jct(this.config.connectInZone),this.devtoolsExtension=t,this.createActionStreams()}notify(t,i){if(this.devtoolsExtension)if(t.type===yD){if(i.isLocked||i.isPaused)return;const r=Xct(i);if(Qct(this.config)&&BG(r,t,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const o=this.config.stateSanitizer?Zct(this.config.stateSanitizer,r,i.currentStateIndex):r,s=this.config.actionSanitizer?Yct(this.config.actionSanitizer,t,i.nextActionId):t;this.sendToReduxDevtools(()=>this.extensionConnection.send(s,o))}else{const r={...i,stagedActionIds:i.stagedActionIds,actionsById:this.config.actionSanitizer?GFt(this.config.actionSanitizer,i.actionsById):i.actionsById,computedStates:this.config.stateSanitizer?$Ft(this.config.stateSanitizer,i.computedStates):i.computedStates};this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,r,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new dD.c(t=>{const i=this.zoneConfig.connectInZone?this.zoneConfig.ngZone.runOutsideAngular(()=>this.devtoolsExtension.connect(this.getExtensionConfig(this.config))):this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=i,i.init(),i.subscribe(r=>t.next(r)),i.unsubscribe}):Pct.w}createActionStreams(){const t=this.createChangesObservable().pipe((0,gFt.u)()),i=t.pipe((0,G.p)(u=>"START"===u.type)),r=t.pipe((0,G.p)(u=>"STOP"===u.type)),o=t.pipe((0,G.p)(u=>"DISPATCH"===u.type),(0,Oh.T)(u=>this.unwrapAction(u.payload)),(0,vFt.H)(u=>u.type===FG?this.dispatcher.pipe((0,G.p)(d=>d.type===Qi.q6),function MFt(n,e){const{first:t,each:i,with:r=CFt,scheduler:o=e??Io.E,meta:s=null}=(0,yFt.v)(n)?{first:n}:"number"==typeof n?{each:n}:n;if(null==t&&null==i)throw new TypeError("No timeout provided.");return(0,bFt.N)((a,l)=>{let u,d,f=null,m=0;const y=b=>{d=(0,wFt.N)(l,o,()=>{try{u.unsubscribe(),(0,Yu.Tg)(r({meta:s,lastValue:f,seen:m})).subscribe(l)}catch(E){l.error(E)}},b)};u=a.subscribe((0,EFt._)(l,b=>{d?.unsubscribe(),m++,l.next(f=b),i>0&&y(i)},void 0,void 0,()=>{d?.closed||d?.unsubscribe(),f=null})),!m&&y(null!=t?"number"==typeof t?t:+t-o.now():i)})}(1e3),(0,pct.B)(1e3),(0,Oh.T)(()=>u),(0,Rct.W)(()=>(0,_o.of)(u)),(0,ar.s)(1)):(0,_o.of)(u))),a=t.pipe((0,G.p)(u=>"ACTION"===u.type),(0,Oh.T)(u=>this.unwrapAction(u.payload))).pipe((0,fr.Q)(r)),l=o.pipe((0,fr.Q)(r));this.start$=i.pipe((0,fr.Q)(r)),this.actions$=this.start$.pipe((0,ht.n)(()=>a)),this.liftedActions$=this.start$.pipe((0,ht.n)(()=>l))}unwrapAction(t){return"string"==typeof t?(0,eval)(`(${t})`):t}getExtensionConfig(t){const i={name:t.name,features:t.features,serialize:t.serialize,autoPause:t.autoPause??!1,trace:t.trace??!1,traceLimit:t.traceLimit??75};return!1!==t.maxAge&&(i.maxAge=t.maxAge),i}sendToReduxDevtools(t){try{t()}catch(i){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",i)}}static#t=this.\u0275fac=function(i){return new(i||n)(g.KVO(jG),g.KVO(iN),g.KVO(rN))};static#e=this.\u0275prov=g.jDH({token:n,factory:n.\u0275fac})}return n})();const sN={type:Qi.Zz},KFt={type:"@ngrx/store-devtools/recompute"};function eut(n,e,t,i,r){if(i)return{state:t,error:"Interrupted by an error up the chain"};let s,o=t;try{o=n(t,e)}catch(a){s=a.toString(),r.handleError(a)}return{state:o,error:s}}function aN(n,e,t,i,r,o,s,a,l){if(e>=n.length&&n.length===o.length)return n;const u=n.slice(0,e),d=o.length-(l?1:0);for(let f=e;f<d;f++){const m=o[f],y=r[m].action,b=u[f-1],E=b?b.state:i,w=b?b.error:void 0,x=s.indexOf(m)>-1?b:eut(t,y,E,w,a);u.push(x)}return l&&u.push(n[n.length-1]),u}let nut=(()=>{class n{constructor(t,i,r,o,s,a,l,u){const d=function XFt(n,e){return{monitorState:e(void 0,{}),nextActionId:1,actionsById:{0:bD(sN)},stagedActionIds:[0],skippedActionIds:[],committedState:n,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}(l,u.monitor),f=function YFt(n,e,t,i,r={}){return o=>(s,a)=>{let{monitorState:l,actionsById:u,nextActionId:d,stagedActionIds:f,skippedActionIds:m,committedState:y,currentStateIndex:b,computedStates:E,isLocked:w,isPaused:M}=s||e;function x(T){let O=T,R=f.slice(1,O+1);for(let L=0;L<R.length;L++){if(E[L+1].error){O=L,R=f.slice(1,O+1);break}delete u[R[L]]}m=m.filter(L=>-1===R.indexOf(L)),f=[0,...f.slice(O+1)],y=E[O].state,E=E.slice(O),b=b>O?b-O:0}function D(){u={0:bD(sN)},d=1,f=[0],m=[],y=E[b].state,b=0,E=[]}s||(u=Object.create(u));let k=0;switch(a.type){case Hct:w=a.status,k=1/0;break;case Gct:M=a.status,M?(f=[...f,d],u[d]=new nN({type:"@ngrx/devtools/pause"},+Date.now()),d++,k=f.length-1,E=E.concat(E[E.length-1]),b===f.length-2&&b++,k=1/0):D();break;case"RESET":u={0:bD(sN)},d=1,f=[0],m=[],y=n,b=0,E=[];break;case"COMMIT":D();break;case"ROLLBACK":u={0:bD(sN)},d=1,f=[0],m=[],b=0,E=[];break;case jct:{const{id:T}=a;m=-1===m.indexOf(T)?[T,...m]:m.filter(R=>R!==T),k=f.indexOf(T);break}case"SET_ACTIONS_ACTIVE":{const{start:T,end:O,active:R}=a,L=[];for(let F=T;F<O;F++)L.push(F);m=R?Kct(m,L):[...m,...L],k=f.indexOf(T);break}case zct:b=a.index,k=1/0;break;case Uct:{const T=f.indexOf(a.actionId);-1!==T&&(b=T),k=1/0;break}case"SWEEP":f=Kct(f,m),m=[],b=Math.min(b,f.length-1);break;case yD:{if(w)return s||e;if(M||s&&BG(s.computedStates[b],a,r.predicate,r.actionsSafelist,r.actionsBlocklist)){const O=E[E.length-1];E=[...E.slice(0,-1),eut(o,a.action,O.state,O.error,t)],k=1/0;break}r.maxAge&&f.length===r.maxAge&&x(1),b===f.length-1&&b++;const T=d++;u[T]=a,f=[...f,T],k=f.length-1;break}case FG:({monitorState:l,actionsById:u,nextActionId:d,stagedActionIds:f,skippedActionIds:m,committedState:y,currentStateIndex:b,computedStates:E,isLocked:w,isPaused:M}=a.nextLiftedState);break;case Qi.Zz:k=0,r.maxAge&&f.length>r.maxAge&&(E=aN(E,k,o,y,u,f,m,t,M),x(f.length-r.maxAge),k=1/0);break;case Qi.q6:if(E.filter(O=>O.error).length>0)k=0,r.maxAge&&f.length>r.maxAge&&(E=aN(E,k,o,y,u,f,m,t,M),x(f.length-r.maxAge),k=1/0);else{if(!M&&!w){b===f.length-1&&b++;const O=d++;u[O]=new nN(a,+Date.now()),f=[...f,O],k=f.length-1,E=aN(E,k,o,y,u,f,m,t,M)}E=E.map(O=>({...O,state:o(O.state,KFt)})),b=f.length-1,r.maxAge&&f.length>r.maxAge&&x(f.length-r.maxAge),k=1/0}break;default:k=1/0}return E=aN(E,k,o,y,u,f,m,t,M),l=i(l,a),{monitorState:l,actionsById:u,nextActionId:d,stagedActionIds:f,skippedActionIds:m,committedState:y,currentStateIndex:b,computedStates:E,isLocked:w,isPaused:M}}}(l,d,a,u.monitor,u),m=(0,Xi.h)((0,Xi.h)(i.asObservable().pipe((0,SFt.i)(1)),o.actions$).pipe((0,Oh.T)(bD)),t,o.liftedActions$).pipe((0,DFt.Q)(pFt.T)),y=r.pipe((0,Oh.T)(f)),b=Jct(u.connectInZone),E=new mFt.m(1);this.liftedStateSubscription=m.pipe((0,TFt.E)(y),iut(b),(0,AFt.S)(({state:x},[D,k])=>{let T=k(x,D);return D.type!==yD&&Qct(u)&&(T=function WFt(n,e,t,i){const r=[],o={},s=[];return n.stagedActionIds.forEach((a,l)=>{const u=n.actionsById[a];u&&(l&&BG(n.computedStates[l],u,e,t,i)||(o[a]=u,r.push(a),s.push(n.computedStates[l])))}),{...n,stagedActionIds:r,actionsById:o,computedStates:s}}(T,u.predicate,u.actionsSafelist,u.actionsBlocklist)),o.notify(D,T),{state:T,action:D}},{state:d,action:null})).subscribe(({state:x,action:D})=>{E.next(x),D.type===yD&&s.next(D.action)}),this.extensionStartSubscription=o.start$.pipe(iut(b)).subscribe(()=>{this.refresh()});const w=E.asObservable(),M=w.pipe((0,Oh.T)(Xct));Object.defineProperty(M,"state",{value:(0,qc.ot)(M,{manualCleanup:!0,requireSync:!0})}),this.dispatcher=t,this.liftedState=w,this.state=M}ngOnDestroy(){this.liftedStateSubscription.unsubscribe(),this.extensionStartSubscription.unsubscribe()}dispatch(t){this.dispatcher.next(t)}next(t){this.dispatcher.next(t)}error(t){}complete(){}performAction(t){this.dispatch(new nN(t,+Date.now()))}refresh(){this.dispatch(new kFt)}reset(){this.dispatch(new IFt(+Date.now()))}rollback(){this.dispatch(new RFt(+Date.now()))}commit(){this.dispatch(new PFt(+Date.now()))}sweep(){this.dispatch(new NFt)}toggleAction(t){this.dispatch(new LFt(t))}jumpToAction(t){this.dispatch(new BFt(t))}jumpToState(t){this.dispatch(new FFt(t))}importState(t){this.dispatch(new jFt(t))}lockChanges(t){this.dispatch(new VFt(t))}pauseRecording(t){this.dispatch(new zFt(t))}static#t=this.\u0275fac=function(i){return new(i||n)(g.KVO(rN),g.KVO(Qi.SS),g.KVO(Qi.QU),g.KVO(tut),g.KVO(Qi.sA),g.KVO(g.zcH),g.KVO(Qi.N_),g.KVO(iN))};static#e=this.\u0275prov=g.jDH({token:n,factory:n.\u0275fac})}return n})();function iut({ngZone:n,connectInZone:e}){return t=>e?new dD.c(i=>t.subscribe({next:r=>n.run(()=>i.next(r)),error:r=>n.run(()=>i.error(r)),complete:()=>n.run(()=>i.complete())})):t}const ZFt=new g.nKC("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function QFt(n,e){return!!n||e.monitor!==Wct}function qFt(){const n="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&typeof window[n]<"u"?window[n]:null}function JFt(n={}){return(0,g.EmA)([tut,rN,nut,{provide:$ct,useValue:n},{provide:ZFt,deps:[jG,iN],useFactory:QFt},{provide:jG,useFactory:qFt},{provide:iN,deps:[$ct],useFactory:HFt},{provide:Qi.h1,deps:[nut],useFactory:t8t},{provide:Qi.Bh,useExisting:rN}])}function t8t(n){return n.state}const n8t={providers:[(0,g.oKB)([lt.hM,ct._T]),function zh(...n){const{configProvider:e,featureProviders:t}=function Tg(n){let e;const t=[],i=new Set;for(const r of n){if(i.has(r.kind))throw new Error(`Feature ${r.kind} is already provided.`);r.kind===yl.Config?e=r.providers[0]:t.push(...r.providers),i.add(r.kind)}return{configProvider:e??{provide:$s,useValue:{prefix:v0,separator:"|",caseSensitive:false}},featureProviders:t}}(n);return(0,g.EmA)([e,xg,{provide:g.hnV,useFactory:x0,multi:!0},...t])}(function Sc(n){return jd(yl.Config,[{provide:$s,useValue:n}])}({separator:"_",prefix:"ngx"}),function M0(){return jd(yl.LocalStorage,[Bo,Cc,b0])}(),function yy(){return jd(yl.SessionStorage,[Gs,Vh,Mg])}()),(0,H.$R)((0,H.b$)([J.iZ,Z._L])),function wg(){return(0,g.ngT)("NgEagerAnimations"),[...wc]}(),function cFt(){return[{provide:Fi.MJ,useClass:Z.p4,deps:[Fi.Ju]},{provide:Fi.de,useValue:Z.H0},{provide:ct.x6,useValue:{horizontalPosition:"right",verticalPosition:"bottom"}}]}(),function uFt(){return{provide:J.CH,useValue:{basePath:vD.api.basePath}}}(),function hFt(){return{provide:dFt,useValue:{host:vD.socket.host}}}(),function e8t(){return[(0,Qi.NT)(Z.PG,{metaReducers:Z.h4}),(0,Qi.vQ)("menu",V6t),(0,Qi.vQ)(Z.nH,Z.li),(0,Qi.vQ)(Z.j3,Z.x1),(0,fFt.SI)([Z.oy,Z.Do,Z.oY]),JFt({maxAge:25,logOnly:!(0,g.naY)(),connectInZone:!0})]}(),function eFt(){return[(0,ea.lh)(tFt,(0,ea.Zy)(),(0,ea.Sn)(Uh.vS),(0,ea.GB)()),(0,Dc.y8)({serializer:Dc.ME,stateKey:"router"}),{provide:Dc.jr,useClass:Uh.Gn},{provide:Uh.$9,useValue:{defaultLoginRoute:"login",loginSuccessRedirectRoute:"design"}}]}(),function oFt(){return{provide:g.hnV,useFactory:rFt,deps:[iFt],multi:!0}}(),function lFt(){return[(0,bE.$o)({config:{availableLangs:Z.gq,defaultLang:"en",reRenderOnLangChange:!0,prodMode:vD.production},loader:aFt})]}(),function sFt(){return{provide:Pi.kB,useValue:vD.baseHref}}()]};let i8t=(()=>{class n{#t=(0,g.WQX)(Z.Fs);#e=(0,g.WQX)(g.abz);#n=(0,g.WQX)(Pi.qQ);#i=(0,g.WQX)(g.sFG);#r=(0,g.WQX)(eN.QP);#o=(0,g.WQX)(ea.Ix);ngOnInit(){this.#r.observe([eN.Rp.Handset]).subscribe(t=>{t.matches?this.#o.navigate(["/mobile"]):this.#o.navigate(["/"])}),this.#t.isDarkTheme$.pipe((0,qc.pQ)(this.#e)).subscribe(t=>{t?this.#i.addClass(this.#n.body,"one-dark-theme"):this.#i.removeClass(this.#n.body,"one-dark-theme")})}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=g.VBU({type:n,selectors:[["one-ui-root"]],standalone:!0,features:[g.aNF],decls:3,vars:0,consts:[["oneUiTheme","",1,"gl-full-height"],[1,"mat-app-background","gl-full-height"]],template:function(i,r){1&i&&(g.j41(0,"div",0)(1,"div",1),g.nrm(2,"router-outlet"),g.k0s()())},dependencies:[ea.n3,Z.rE],styles:["div[_ngcontent-%COMP%]{overflow:hidden}"],changeDetection:0})}return n})();(0,C.B8)(i8t,n8t).catch(n=>console.error(n))},3198:(mn,ae,P)=>{"use strict";P.d(ae,{nH:()=>qt,Do:()=>mt,_L:()=>yn,uR:()=>Ni,Fx:()=>rn,p4:()=>yt,gq:()=>Ft,N:()=>Bn,H0:()=>At,PG:()=>Xe,oy:()=>kr,j3:()=>ho,oY:()=>no,Fs:()=>kt,li:()=>Ge,gi:()=>C,j4:()=>H,h4:()=>Ur,rE:()=>pe,Pu:()=>Ye,AU:()=>si,m5:()=>ie,d0:()=>Sn,dO:()=>on,x1:()=>ne});var C={};P.r(C),P.d(C,{clearAuthlocalStorage:()=>Vt,idleLogoutComfirmed:()=>dt,login:()=>De,loginFail:()=>Oe,loginSuccess:()=>ge,loginingReset:()=>ee,logout:()=>Ot,logoutCancelled:()=>ut,logoutComfirmed:()=>ft,logoutComfirmedByAuth:()=>ot,logoutComfirmedByUser:()=>Mt,logoutComplete:()=>Dt});var H={};P.r(H),P.d(H,{loadInitState:()=>Rt,loadInitStateFail:()=>vt,loadInitStateSuccess:()=>Tt});var g=P(6569),lt=P(3580),it=(P(6943),P(8762)),jt=P(1353),It=P(9393),pt=P(9469),bt=P(4291);const At={parse:{dateInput:"MMM DD, YYYY"},display:{dateInput:"MMM DD, YYYY",monthYearLabel:"YYYY MMM",dateA11yLabel:"YYYY-MM-DD",monthYearA11yLabel:"YYYY MMM"}};function Pt(ve,Cn){const Re=Array(ve);for(let Qe=0;Qe<ve;Qe++)Re[Qe]=Cn(Qe);return Re}let yt=(()=>{class ve extends g.MJ{#t;constructor(Re){super(),this.setLocale(Re||"en")}setLocale(Re){super.setLocale(Re),lt.locale(Re),lt.extend(it),lt.extend(It),lt.extend(jt),lt.extend(pt);const Qe=lt().localeData();this.#t={firstDayOfWeek:Qe.firstDayOfWeek(),longMonths:Qe.months(),shortMonths:Qe.monthsShort(),dates:Pt(31,Hn=>this.createDate(2017,0,Hn+1).format("D")),longDaysOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDaysOfWeek:Qe.weekdaysShort(),narrowDaysOfWeek:Qe.weekdaysMin()}}addCalendarDays(Re,Qe){return Re.add(Qe,"day")}addCalendarMonths(Re,Qe){return Re.add(Qe,"month")}addCalendarYears(Re,Qe){return Re.add(Qe,"year")}clone(Re){return Re.clone()}createDate(Re,Qe,Hn){if(Qe<0||Qe>11)throw Error(`Invalid month index "${Qe}". Month index has to be between 0 and 11.`);if(Hn<1)throw Error(`Invalid date "${Hn}". Date has to be greater than 0.`);const fi=new Date(Re,Qe,Hn),gi=lt(fi).locale(this.locale);if(!gi.isValid())throw Error(`Invalid date "${Hn}" for month with index "${Qe}".`);return gi}format(Re,Qe){if(Re=this.clone(Re),!this.isValid(Re))throw Error("CustomDayjsAdapter: Cannot format invalid date.");return Re.format(Qe)}getDate(Re){return this.clone(Re).date()}getDateNames(){return this.#t.dates}getDayOfWeek(Re){return this.clone(Re).day()}getDayOfWeekNames(Re){return"long"===Re?this.#t.longDaysOfWeek:"short"===Re?this.#t.shortDaysOfWeek:this.#t.narrowDaysOfWeek}getFirstDayOfWeek(){return this.#t.firstDayOfWeek}getMonth(Re){return this.clone(Re).month()}getMonthNames(Re){return"long"===Re?this.#t.longMonths:this.#t.shortMonths}getNumDaysInMonth(Re){return this.clone(Re).daysInMonth()}getYear(Re){return this.clone(Re).year()}getYearName(Re){return this.clone(Re).format("YYYY")}invalid(){return lt()}isDateInstance(Re){return lt.isDayjs(Re)}isValid(Re){return this.clone(Re).isValid()}parse(Re,Qe="MMM DD, YYYY"){return Re?lt(Re,Qe):null}toIso8601(Re){return this.clone(Re).format()}today(){return lt()}deserialize(Re){let Qe;if(Re instanceof Date)Qe=lt(Re).locale(this.locale);else if(this.isDateInstance(Re))return this.clone(Re);if("string"==typeof Re){if(!Re)return null;Qe=lt(Re).locale(this.locale)}return Qe&&this.isValid(Qe)?lt(Qe).locale(this.locale):super.deserialize(Re)}static \u0275fac=function(Qe){return new(Qe||ve)(bt.KVO(g.Ju,8))};static \u0275prov=bt.jDH({token:ve,factory:ve.\u0275fac})}return ve})();const Ft=["en"];var Ht=P(7083),ue=P(7569),ye=P(2308);const Le={atLeastCharachter:{limitation:8,i18nKey:"at-least-characters"},atLeastDigitCharachter:{limitation:1,i18nKey:"at-least-numbers"},atLeastSpecialCharachter:{limitation:1,i18nKey:"at-least-special-charachers"},atLeastLowerCharacter:{limitation:1,i18nKey:"at-least-lower-charachers"},atLeastUpperCharachter:{limitation:1,i18nKey:"at-least-upper-charachers"}};let rn=(()=>{class ve{translocoService;defaultPasswordStrength;defaultPasswordValidationRules;passwordTranslateObject;strengthValidate={atLeastCharachter:(Re,Qe)=>Re.length>=Qe,atLeastDigitCharachter:(Re,Qe)=>(Re.match(/\d/g)||[]).length>=Qe,atLeastSpecialCharachter:(Re,Qe)=>(Re.match(/\W|_/g)||[]).length>=Qe,atLeastUpperCharachter:(Re,Qe)=>(Re.match(/[A-Z]/g)||[]).length>=Qe,atLeastLowerCharacter:(Re,Qe)=>(Re.match(/[a-z]/g)||[]).length>=Qe};get initPasswordStrength(){return this.defaultPasswordStrength}get defaultPasswordStrengthRule(){return this.defaultPasswordValidationRules}constructor(Re){this.translocoService=Re,this.translocoService.selectTranslateObject("shared-ui.change-password-service",this.convertToTranslateParams()).subscribe(Qe=>{this.passwordTranslateObject=Qe,this.defaultPasswordStrength={atLeastCharachter:{enable:!0,minLimitation:Le.atLeastCharachter.limitation},atLeastDigitCharachter:{enable:!0,minLimitation:Le.atLeastDigitCharachter.limitation},atLeastSpecialCharachter:{enable:!0,minLimitation:Le.atLeastSpecialCharachter.limitation},atLeastLowerCharacter:{enable:!0,minLimitation:Le.atLeastLowerCharacter.limitation},atLeastUpperCharachter:{enable:!0,minLimitation:Le.atLeastUpperCharachter.limitation}},this.defaultPasswordValidationRules=[{label:Qe["at-least-characters"],validator:Hn=>this.strengthValidate.atLeastCharachter(Hn,Le.atLeastCharachter.limitation)},{label:Qe["at-least-numbers"],validator:Hn=>this.strengthValidate.atLeastDigitCharachter(Hn,Le.atLeastDigitCharachter.limitation)},{label:Qe["at-least-special-charachers"],validator:Hn=>this.strengthValidate.atLeastSpecialCharachter(Hn,Le.atLeastSpecialCharachter.limitation)},{label:Qe["at-least-lower-charachers"],validator:Hn=>this.strengthValidate.atLeastLowerCharacter(Hn,Le.atLeastLowerCharacter.limitation)},{label:Qe["at-least-upper-charachers"],validator:Hn=>this.strengthValidate.atLeastUpperCharachter(Hn,Le.atLeastUpperCharachter.limitation)}]})}generatePasswordValidationRules(Re){const Qe=Object.keys(Re),Hn=[];return Qe.forEach(fi=>{Re[fi].enable&&Hn.push({label:this.translocoService.translateObject(`shared-ui.change-password-service.${Le[fi].i18nKey}`,{limitation:Re[fi].minLimitation}),validator:gi=>this.strengthValidate[fi](gi,Re[fi].minLimitation)})}),Hn}convertToTranslateParams(){const Re={};return Object.keys(Le).forEach(Qe=>{Re[Le[Qe].i18nKey]={limitation:Le[Qe].limitation}}),Re}static \u0275fac=function(Qe){return new(Qe||ve)(bt.KVO(ye.JO))};static \u0275prov=bt.jDH({token:ve,factory:ve.\u0275fac,providedIn:"root"})}return ve})();var _e=P(5973);const Ke=(0,_e.VP)("[Core] Toogle theme",(0,_e.xk)()),Qt=(0,_e.vy)(!1,(0,_e.on)(Ke,(ve,{isDarkTheme:Cn})=>Cn)),Ut=(0,_e.UX)("isDarkTheme");let kt=(()=>{class ve{#t=(0,bt.WQX)(_e.il);isDarkTheme$=this.#t.pipe((0,_e.Lt)(Ut),(0,ue.F)());setDarkTheme(Re){this.#t.dispatch(Ke({isDarkTheme:Re}))}static \u0275fac=function(Qe){return new(Qe||ve)};static \u0275prov=bt.jDH({token:ve,factory:ve.\u0275fac,providedIn:"root"})}return ve})(),pe=(()=>{class ve{#t=(0,bt.WQX)(bt.abz);#e=(0,bt.WQX)(kt);#n=(0,bt.WQX)(bt.aKT);#i=(0,bt.WQX)(bt.sFG);ngOnInit(){this.#e.isDarkTheme$.pipe((0,ue.F)(),(0,Ht.pQ)(this.#t)).subscribe(Re=>{Re?this.#i.addClass(this.#n.nativeElement,"one-dark-theme"):this.#i.removeClass(this.#n.nativeElement,"one-dark-theme")})}static \u0275fac=function(Qe){return new(Qe||ve)};static \u0275dir=bt.FsC({type:ve,selectors:[["","oneUiTheme",""]],standalone:!0})}return ve})();var Te=P(5263),oe=P(633),Kt=P(1534),Zt=P(5910),ke=P(535);const De=(0,_e.VP)("[Auth Page] Login",(0,_e.xk)()),ge=(0,_e.VP)("[Auth Page] Login Success",(0,_e.xk)()),Oe=(0,_e.VP)("[Auth API] Login Failed",(0,_e.xk)()),ee=(0,_e.VP)("[Auth Page] Logining Status Reset"),Ot=(0,_e.VP)("[Auth] Confirmed Logout"),ut=(0,_e.VP)("[Auth] Logout Cancelled"),ft=(0,_e.VP)("[Auth] Logout Confirmed"),Mt=(0,_e.VP)("[Auth] Logout Confirmed by User"),ot=(0,_e.VP)("[Auth] Logout Confirmed by Auth"),Dt=(0,_e.VP)("[Auth] Logout Compolete"),dt=(0,_e.VP)("[Auth] Idle Timeout Logout Confirmed"),Vt=(0,_e.VP)("[Auth] Clear Auth Local Storage");var Ee=P(6627),we=P(1867),Ie=P(6148),fn=P(3204),Un=P(8199),Ri=P(6345),Fn=P(7071),ci=P(6058),Di=P(5044),Li=P(3815);let Ni=(()=>{class ve{#t=(0,bt.WQX)(Li.G9);attemptAuth(Re){return this.#t.post("/login",Re).pipe((0,Un.T)(Qe=>Qe))}getCurrentUser(){return this.#t.get("/account/me").pipe((0,Un.T)(Re=>Re))}changePassword=Re=>this.#t.put("/account/me/changePassword",Re);getSessionTimeout=()=>this.#t.get("/session").pipe((0,Un.T)(Re=>({sessionTimeout:Re.data.session_timeout})));updateSessionTimeout=Re=>this.#t.put("/session",{session_timeout:Re.sessionTimeout}).pipe((0,Un.T)(Qe=>({sessionTimeout:Qe.data.session_timeout})));logout$=()=>this.#t.post("/logout");static \u0275fac=function(Qe){return new(Qe||ve)};static \u0275prov=bt.jDH({token:ve,factory:ve.\u0275fac,providedIn:"root"})}return ve})();const Vi=(0,_e.VP)("[Router] Go",(0,_e.xk)()),Tn=(0,_e.VP)("[Router] Back"),er=(0,_e.VP)("[Router] Forward");var ur=P(9284);let kr=(()=>{class ve{#t=(0,bt.WQX)(we.En);#e=(0,bt.WQX)(Te.Ix);#n=(0,bt.WQX)(ur.aZ);navigate$=(0,we.EH)(()=>this.#t.pipe((0,we.gp)(Vi),(0,Un.T)(({payload:Re})=>Re),(0,Di.M)(({path:Re,query:Qe,extras:Hn})=>{const fi=this.#e.createUrlTree(Re,{...Hn,queryParams:Qe});this.#e.navigateByUrl(fi)})),{dispatch:!1});navigateBack$=(0,we.EH)(()=>this.#t.pipe((0,we.gp)(Tn),(0,Di.M)(()=>{this.#n.back()})),{dispatch:!1});navigateForward$=(0,we.EH)(()=>this.#t.pipe((0,we.gp)(er),(0,Di.M)(()=>{this.#n.back()})),{dispatch:!1});static \u0275fac=function(Qe){return new(Qe||ve)};static \u0275prov=bt.jDH({token:ve,factory:ve.\u0275fac})}return ve})();const Ir=(0,_e.UX)("router");(0,_e.Mz)(Ir,ve=>ve.state);let mt=(()=>{class ve{#t=(0,bt.WQX)(we.En);#e=(0,bt.WQX)(Ni);#n=(0,bt.WQX)(Te.Ix);#i=(0,bt.WQX)(Ie.$9);#r=(0,bt.WQX)(Ee.bZ);login$=(0,we.EH)(()=>this.#t.pipe((0,we.gp)(De),(0,Un.T)(({payload:Re})=>Re),(0,Ri.p)(Re=>this.#e.attemptAuth(Re).pipe((0,Fn.n)(()=>this.#e.getCurrentUser().pipe((0,Un.T)(Qe=>ge({payload:Qe})))),(0,Kt.W)(Qe=>(console.error("errore",Qe),(0,fn.of)(Oe({payload:Qe}))))))));loginRedirect$=(0,we.EH)(()=>this.#t.pipe((0,we.gp)(ge),(0,ci.E)(this.#n.routerState.root.queryParams),(0,Fn.n)(([Re,Qe])=>{const Hn=[];return Hn.push(Vi(Qe.returnUrl?{payload:{path:[Qe.returnUrl]}}:{payload:{path:[this.#i.loginSuccessRedirectRoute??""]}})),Hn})));logout$=(0,we.EH)(()=>this.#t.pipe((0,we.gp)(Ot),(0,Un.T)(()=>Mt())));logoutConfirmedByUser$=(0,we.EH)(()=>this.#t.pipe((0,we.gp)(Mt),(0,Fn.n)(()=>[Dt(),Vi({payload:{path:[this.#i.defaultLoginRoute]}})])));logoutConfirmedByAuth$=(0,we.EH)(()=>this.#t.pipe((0,we.gp)(ot),(0,Di.M)(()=>this.#r.closeAll()),(0,Un.T)(()=>Vi({payload:{path:[this.#i.defaultLoginRoute]}}))));logoutConfirmed$=(0,we.EH)(()=>this.#t.pipe((0,we.gp)(ft),(0,Di.M)(()=>this.#r.closeAll()),(0,Fn.n)(()=>[Dt(),Vi({payload:{path:[this.#i.defaultLoginRoute]}})])));idleTimeoutConfirmed$=(0,we.EH)(()=>this.#t.pipe((0,we.gp)(dt),(0,Di.M)(()=>{this.#r.closeAll()}),(0,Fn.n)(()=>[Dt(),Vi({payload:{path:[this.#i.defaultLoginRoute]}})])));logoutComplete$=(0,we.EH)(()=>this.#t.pipe((0,we.gp)(Dt),(0,Fn.n)(()=>this.#e.logout$())),{dispatch:!1});static \u0275fac=function(Qe){return new(Qe||ve)};static \u0275prov=bt.jDH({token:ve,factory:ve.\u0275fac})}return ve})();const Nt={loading:!1,loadend:!1,loggedIn:!1,isLoginFail:!1,isLogoutByUser:!1,isLogoutByTimeout:!1,requestSuccess:!1,requestError:!1},fe=(0,_e.vy)(Nt,(0,_e.on)(De,ve=>({...ve,loading:!0,loadend:!1,isLogoutByTimeout:!1,isLogoutByUser:!1,isLoginFail:!1})),(0,_e.on)(ee,ve=>({...ve,loading:!1})),(0,_e.on)(ge,(ve,Cn)=>({...ve,session:{...Cn.payload},loading:!1,loadend:!0,loggedIn:!0})),(0,_e.on)(Oe,ve=>({...ve,loading:!1,loadend:!1,loggedIn:!1,isLoginFail:!0})),(0,_e.on)(Mt,()=>({...Nt,isLogoutByUser:!0})),(0,_e.on)(dt,()=>({...Nt,isLogoutByTimeout:!0})),(0,_e.on)(Vt,ot,()=>Nt));function Ge(ve,Cn){return fe(ve,Cn)}const Wt=(0,_e.UX)("auth"),qe=(0,_e.Mz)(Wt,ve=>ve.loggedIn),ie=(0,_e.Mz)(Wt,ve=>ve.loading),on=((0,_e.Mz)(Wt,ve=>ve.loadend),(0,_e.Mz)(qe,ve=>!ve),(0,_e.Mz)(Wt,ve=>ve.isLogoutByUser)),Sn=(0,_e.Mz)(Wt,ve=>ve.isLogoutByTimeout),si=(0,_e.Mz)(Wt,ve=>ve.isLoginFail);function yn(ve,Cn){const Re=(0,bt.WQX)(ye.JO),Qe=(0,bt.WQX)(oe.U),Hn=(0,bt.WQX)(_e.il),fi=(0,bt.WQX)(Te.Ix);return Cn(ve).pipe((0,Kt.W)(gi=>(gi&&401===gi.status&&!ve.url.includes("/auth/revoke")&&"/login"!==fi.url&&Re.selectTranslateObject("app.auth-interceptor.warn").pipe((0,Zt.s)(1)).subscribe(li=>{Qe.open(li),Hn.dispatch(ft())}),(0,ke.$)(()=>gi))))}(0,_e.Mz)(Wt,ve=>ve.requestSuccess),(0,_e.Mz)(Wt,ve=>ve.requestError),(0,_e.Mz)(Wt,ve=>ve.session?.username??"");let Bn=(()=>{class ve{transform(Re){return Re?"./assets/logo-white.svg":"./assets/logo.svg"}static \u0275fac=function(Qe){return new(Qe||ve)};static \u0275pipe=bt.EJ8({name:"logoImg",type:ve,pure:!0,standalone:!0})}return ve})();const Rt=(0,_e.VP)("[Application Init] Get basic init state."),Tt=(0,_e.VP)("[Application Init] Get basic init state success.",(0,_e.xk)()),vt=(0,_e.VP)("[Application Init] Get basic init state failed",(0,_e.xk)());var Lt=P(1487),Ze=P(5561);const An=(0,_e.VP)("[Core] Toogle language",(0,_e.xk)()),ei=(0,_e.vy)("",(0,_e.on)(An,(ve,{language:Cn})=>Cn)),Fe=((0,_e.UX)("language"),(0,_e.VP)("[Core] Page Loading",(0,_e.xk)())),Me=(0,_e.VP)("[Core] Page Loading Completion",(0,_e.xk)()),Gt=(0,_e.vy)(!1,(0,_e.on)(Fe,(ve,{isPageLoading:Cn})=>Cn),(0,_e.on)(Me,(ve,{isPageLoading:Cn})=>Cn)),qt=((0,_e.UX)("isPageLoading"),"auth"),Ve={router:Ze.C_,isDarkTheme:Qt,language:ei,isPageLoading:Gt},Xe=new bt.nKC("ROOT_REDUCERS",{factory:()=>Ve}),Ur=[function ai(ve){return(0,Lt.N)({features:[{stateKey:"isDarkTheme"},{stateKey:"language"},{stateKey:"permissionList",shouldSync:Cn=>!!Cn},{stateKey:qt,excludeKeys:["isLoginFail","isLogoutByUser","isLogoutByTimeout","isLogoutByPassword"],shouldSync:Cn=>!!Cn}],storage:window.localStorage})(ve)}];let uo=(()=>{class ve{#t=(0,bt.WQX)(Li.G9);load(){return this.#t.get("/model_name",{},{basePath:"/api/v1"})}static \u0275fac=function(Qe){return new(Qe||ve)};static \u0275prov=bt.jDH({token:ve,factory:ve.\u0275fac,providedIn:"root"})}return ve})(),no=(()=>{class ve{#t=(0,bt.WQX)(we.En);#e=(0,bt.WQX)(uo);model_name="Application Framework";loadServerInitState$=(0,we.EH)(()=>this.#t.pipe((0,we.gp)(Rt),(0,Fn.n)(()=>(0,fn.of)(Tt({payload:{model_name:this.model_name}})))));static \u0275fac=function(Qe){return new(Qe||ve)};static \u0275prov=bt.jDH({token:ve,factory:ve.\u0275fac})}return ve})();const ho="serverInitState",Mn=(0,_e.vy)({modelName:""},(0,_e.on)(Tt,(ve,{payload:Cn})=>({...ve,modelName:Cn.model_name})));function ne(ve,Cn){return Mn(ve,Cn)}const Pe=(0,_e.UX)(ho),Ye=(0,_e.Mz)(Pe,ve=>ve.modelName)},3815:(mn,ae,P)=>{"use strict";function C(pt,bt){if(pt.headers.has("mx-api-ts")||(pt=pt.clone({headers:pt.headers.set("mx-api-ts",`${(new Date).getTime()}`)})),!pt.headers.has("x-xsrf-token")&&localStorage.getItem("XSRF-TOKEN")){const At=localStorage.getItem("XSRF-TOKEN")??"";pt=pt.clone({headers:pt.headers.set("x-xsrf-token",At)})}return bt(pt)}P.d(ae,{iZ:()=>C,CH:()=>jt,G9:()=>It});var H=P(7715),g=P(4291),lt=P(1071),ct=P(535),it=P(1534);const jt=new g.nKC("REST_CONFIG");let It=(()=>{class pt{#t={withCredentials:!1};#e=(0,g.WQX)(H.Qq);#n=(0,g.WQX)(jt);#i=new lt.B;#r(At){return this.#i.next(At),(0,ct.$)(()=>At)}thrownErrors$=this.#i.asObservable();get(At,Pt,yt){const Ft=yt&&yt.basePath?yt.basePath:this.#n.basePath;return this.#e.get(`${Ft}${At}`,{params:Pt}).pipe((0,it.W)(Ht=>this.#r(Ht)))}put(At,Pt,yt){const Ft=yt&&yt.basePath?yt.basePath:this.#n.basePath;return this.#e.put(`${Ft}${At}`,Pt,this.#t).pipe((0,it.W)(Ht=>this.#r(Ht)))}patch(At,Pt,yt){const Ft=yt&&yt.basePath?yt.basePath:this.#n.basePath;return this.#e.patch(`${Ft}${At}`,Pt,this.#t).pipe((0,it.W)(Ht=>this.#r(Ht)))}post(At,Pt,yt){const Ft=yt&&yt.basePath?yt.basePath:this.#n.basePath;return this.#e.post(`${Ft}${At}`,Pt,this.#t).pipe((0,it.W)(Ht=>this.#r(Ht)))}delete(At,Pt,yt){const Ft=yt&&yt.basePath?yt.basePath:this.#n.basePath;return this.#e.request("DELETE",`${Ft}${At}`,{body:Pt,withCredentials:this.#t.withCredentials}).pipe((0,it.W)(Ht=>this.#r(Ht)))}upload(At,Pt,yt){const Ft=yt&&yt.basePath?yt.basePath:this.#n.basePath;return this.#e.request(yt&&yt.method?yt.method:"POST",`${Ft}${At}`,{body:Pt,reportProgress:!0,observe:"events",withCredentials:this.#t.withCredentials}).pipe((0,it.W)(ue=>this.#r(ue)))}static \u0275fac=function(Pt){return new(Pt||pt)};static \u0275prov=g.jDH({token:pt,factory:pt.\u0275fac,providedIn:"root"})}return pt})()},6148:(mn,ae,P)=>{"use strict";P.d(ae,{Gn:()=>ct,vS:()=>lt,$9:()=>H});var C=P(4291);const H=new C.nKC("ROUTE_CONFIG");var g=P(4080);let lt=(()=>{class it{preload(It,pt){return It.data&&(this.hasGoodNetworkConnection()||It.data.preload)?pt():g.w}hasGoodNetworkConnection(){const It=navigator.connection;if(It){if(It.saveData)return!1;if(["slow-2g","2g","3g"].includes(It.effectiveType||""))return!1}return!0}static \u0275fac=function(pt){return new(pt||it)};static \u0275prov=C.jDH({token:it,factory:it.\u0275fac,providedIn:"root"})}return it})(),ct=(()=>{class it{serialize(It){const{url:pt}=It,{queryParams:bt}=It.root;let At=It.root;for(;At.firstChild;)At=At.firstChild;const{params:Pt,data:yt}=At;return{url:pt,queryParams:bt,params:Pt,data:yt}}static \u0275fac=function(pt){return new(pt||it)};static \u0275prov=C.jDH({token:it,factory:it.\u0275fac})}return it})()},8752:(mn,ae,P)=>{"use strict";P.d(ae,{Fs:()=>Kt,pe:()=>C,pr:()=>Ht});var C={};P.r(C),P.d(C,{pageLoading:()=>Pt,pageLoadingCompletion:()=>yt});var H=P(4291),lt=(P(1487),P(5561)),ct=P(5973);const it=(0,ct.VP)("[Core] Toogle theme",(0,ct.xk)()),jt=(0,ct.vy)(!1,(0,ct.on)(it,(ke,{isDarkTheme:De})=>De)),It=(0,ct.UX)("isDarkTheme"),pt=(0,ct.VP)("[Core] Toogle language",(0,ct.xk)()),bt=(0,ct.vy)("",(0,ct.on)(pt,(ke,{language:De})=>De)),Pt=((0,ct.UX)("language"),(0,ct.VP)("[Core] Page Loading",(0,ct.xk)())),yt=(0,ct.VP)("[Core] Page Loading Completion",(0,ct.xk)()),Ft=(0,ct.vy)(!1,(0,ct.on)(Pt,(ke,{isPageLoading:De})=>De),(0,ct.on)(yt,(ke,{isPageLoading:De})=>De)),Ht=(0,ct.UX)("isPageLoading"),ye={router:lt.C_,isDarkTheme:jt,language:bt,isPageLoading:Ft};new H.nKC("ROOT_REDUCERS",{factory:()=>ye}),(0,ct.VP)("[Router] Go",(0,ct.xk)()),(0,ct.VP)("[Router] Back"),(0,ct.VP)("[Router] Forward");const pe=(0,ct.UX)("router");(0,ct.Mz)(pe,ke=>ke.state);var oe=P(7569);let Kt=(()=>{class ke{#t=(0,H.WQX)(ct.il);isDarkTheme$=this.#t.pipe((0,ct.Lt)(It),(0,oe.F)());setDarkTheme(ge){this.#t.dispatch(it({isDarkTheme:ge}))}static \u0275fac=function(Oe){return new(Oe||ke)};static \u0275prov=H.jDH({token:ke,factory:ke.\u0275fac,providedIn:"root"})}return ke})()},3580:function(mn){mn.exports=function(){"use strict";var P=6e4,C=36e5,H="millisecond",g="second",lt="minute",ct="hour",it="day",jt="week",It="month",pt="quarter",bt="year",At="date",Pt="Invalid Date",yt=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,Ft=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Ht={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(oe){var Kt=["th","st","nd","rd"],Zt=oe%100;return"["+oe+(Kt[(Zt-20)%10]||Kt[Zt]||Kt[0])+"]"}},ue=function(oe,Kt,Zt){var ke=String(oe);return!ke||ke.length>=Kt?oe:""+Array(Kt+1-ke.length).join(Zt)+oe},ye={s:ue,z:function(oe){var Kt=-oe.utcOffset(),Zt=Math.abs(Kt),ke=Math.floor(Zt/60),De=Zt%60;return(Kt<=0?"+":"-")+ue(ke,2,"0")+":"+ue(De,2,"0")},m:function oe(Kt,Zt){if(Kt.date()<Zt.date())return-oe(Zt,Kt);var ke=12*(Zt.year()-Kt.year())+(Zt.month()-Kt.month()),De=Kt.clone().add(ke,It),ge=Zt-De<0,Oe=Kt.clone().add(ke+(ge?-1:1),It);return+(-(ke+(Zt-De)/(ge?De-Oe:Oe-De))||0)},a:function(oe){return oe<0?Math.ceil(oe)||0:Math.floor(oe)},p:function(oe){return{M:It,y:bt,w:jt,d:it,D:At,h:ct,m:lt,s:g,ms:H,Q:pt}[oe]||String(oe||"").toLowerCase().replace(/s$/,"")},u:function(oe){return void 0===oe}},Le="en",rn={};rn[Le]=Ht;var _e="$isDayjsObject",Ke=function(oe){return oe instanceof pe||!(!oe||!oe[_e])},Qt=function oe(Kt,Zt,ke){var De;if(!Kt)return Le;if("string"==typeof Kt){var ge=Kt.toLowerCase();rn[ge]&&(De=ge),Zt&&(rn[ge]=Zt,De=ge);var Oe=Kt.split("-");if(!De&&Oe.length>1)return oe(Oe[0])}else{var ee=Kt.name;rn[ee]=Kt,De=ee}return!ke&&De&&(Le=De),De||!ke&&Le},Ut=function(oe,Kt){if(Ke(oe))return oe.clone();var Zt="object"==typeof Kt?Kt:{};return Zt.date=oe,Zt.args=arguments,new pe(Zt)},kt=ye;kt.l=Qt,kt.i=Ke,kt.w=function(oe,Kt){return Ut(oe,{locale:Kt.$L,utc:Kt.$u,x:Kt.$x,$offset:Kt.$offset})};var pe=function(){function oe(Zt){this.$L=Qt(Zt.locale,null,!0),this.parse(Zt),this.$x=this.$x||Zt.x||{},this[_e]=!0}var Kt=oe.prototype;return Kt.parse=function(Zt){this.$d=function(ke){var De=ke.date,ge=ke.utc;if(null===De)return new Date(NaN);if(kt.u(De))return new Date;if(De instanceof Date)return new Date(De);if("string"==typeof De&&!/Z$/i.test(De)){var Oe=De.match(yt);if(Oe){var ee=Oe[2]-1||0,Ot=(Oe[7]||"0").substring(0,3);return ge?new Date(Date.UTC(Oe[1],ee,Oe[3]||1,Oe[4]||0,Oe[5]||0,Oe[6]||0,Ot)):new Date(Oe[1],ee,Oe[3]||1,Oe[4]||0,Oe[5]||0,Oe[6]||0,Ot)}}return new Date(De)}(Zt),this.init()},Kt.init=function(){var Zt=this.$d;this.$y=Zt.getFullYear(),this.$M=Zt.getMonth(),this.$D=Zt.getDate(),this.$W=Zt.getDay(),this.$H=Zt.getHours(),this.$m=Zt.getMinutes(),this.$s=Zt.getSeconds(),this.$ms=Zt.getMilliseconds()},Kt.$utils=function(){return kt},Kt.isValid=function(){return this.$d.toString()!==Pt},Kt.isSame=function(Zt,ke){var De=Ut(Zt);return this.startOf(ke)<=De&&De<=this.endOf(ke)},Kt.isAfter=function(Zt,ke){return Ut(Zt)<this.startOf(ke)},Kt.isBefore=function(Zt,ke){return this.endOf(ke)<Ut(Zt)},Kt.$g=function(Zt,ke,De){return kt.u(Zt)?this[ke]:this.set(De,Zt)},Kt.unix=function(){return Math.floor(this.valueOf()/1e3)},Kt.valueOf=function(){return this.$d.getTime()},Kt.startOf=function(Zt,ke){var De=this,ge=!!kt.u(ke)||ke,Oe=kt.p(Zt),ee=function(Vt,Ee){var we=kt.w(De.$u?Date.UTC(De.$y,Ee,Vt):new Date(De.$y,Ee,Vt),De);return ge?we:we.endOf(it)},Ot=function(Vt,Ee){return kt.w(De.toDate()[Vt].apply(De.toDate("s"),(ge?[0,0,0,0]:[23,59,59,999]).slice(Ee)),De)},ut=this.$W,ft=this.$M,Mt=this.$D,ot="set"+(this.$u?"UTC":"");switch(Oe){case bt:return ge?ee(1,0):ee(31,11);case It:return ge?ee(1,ft):ee(0,ft+1);case jt:var Dt=this.$locale().weekStart||0,dt=(ut<Dt?ut+7:ut)-Dt;return ee(ge?Mt-dt:Mt+(6-dt),ft);case it:case At:return Ot(ot+"Hours",0);case ct:return Ot(ot+"Minutes",1);case lt:return Ot(ot+"Seconds",2);case g:return Ot(ot+"Milliseconds",3);default:return this.clone()}},Kt.endOf=function(Zt){return this.startOf(Zt,!1)},Kt.$set=function(Zt,ke){var De,ge=kt.p(Zt),Oe="set"+(this.$u?"UTC":""),ee=(De={},De[it]=Oe+"Date",De[At]=Oe+"Date",De[It]=Oe+"Month",De[bt]=Oe+"FullYear",De[ct]=Oe+"Hours",De[lt]=Oe+"Minutes",De[g]=Oe+"Seconds",De[H]=Oe+"Milliseconds",De)[ge],Ot=ge===it?this.$D+(ke-this.$W):ke;if(ge===It||ge===bt){var ut=this.clone().set(At,1);ut.$d[ee](Ot),ut.init(),this.$d=ut.set(At,Math.min(this.$D,ut.daysInMonth())).$d}else ee&&this.$d[ee](Ot);return this.init(),this},Kt.set=function(Zt,ke){return this.clone().$set(Zt,ke)},Kt.get=function(Zt){return this[kt.p(Zt)]()},Kt.add=function(Zt,ke){var De,ge=this;Zt=Number(Zt);var Oe=kt.p(ke),ee=function(ft){var Mt=Ut(ge);return kt.w(Mt.date(Mt.date()+Math.round(ft*Zt)),ge)};if(Oe===It)return this.set(It,this.$M+Zt);if(Oe===bt)return this.set(bt,this.$y+Zt);if(Oe===it)return ee(1);if(Oe===jt)return ee(7);var Ot=(De={},De[lt]=P,De[ct]=C,De[g]=1e3,De)[Oe]||1,ut=this.$d.getTime()+Zt*Ot;return kt.w(ut,this)},Kt.subtract=function(Zt,ke){return this.add(-1*Zt,ke)},Kt.format=function(Zt){var ke=this,De=this.$locale();if(!this.isValid())return De.invalidDate||Pt;var ge=Zt||"YYYY-MM-DDTHH:mm:ssZ",Oe=kt.z(this),ee=this.$H,Ot=this.$m,ut=this.$M,ft=De.weekdays,Mt=De.months,Dt=function(Ee,we,Ie,fn){return Ee&&(Ee[we]||Ee(ke,ge))||Ie[we].slice(0,fn)},dt=function(Ee){return kt.s(ee%12||12,Ee,"0")},Vt=De.meridiem||function(Ee,we,Ie){var fn=Ee<12?"AM":"PM";return Ie?fn.toLowerCase():fn};return ge.replace(Ft,function(Ee,we){return we||function(Ie){switch(Ie){case"YY":return String(ke.$y).slice(-2);case"YYYY":return kt.s(ke.$y,4,"0");case"M":return ut+1;case"MM":return kt.s(ut+1,2,"0");case"MMM":return Dt(De.monthsShort,ut,Mt,3);case"MMMM":return Dt(Mt,ut);case"D":return ke.$D;case"DD":return kt.s(ke.$D,2,"0");case"d":return String(ke.$W);case"dd":return Dt(De.weekdaysMin,ke.$W,ft,2);case"ddd":return Dt(De.weekdaysShort,ke.$W,ft,3);case"dddd":return ft[ke.$W];case"H":return String(ee);case"HH":return kt.s(ee,2,"0");case"h":return dt(1);case"hh":return dt(2);case"a":return Vt(ee,Ot,!0);case"A":return Vt(ee,Ot,!1);case"m":return String(Ot);case"mm":return kt.s(Ot,2,"0");case"s":return String(ke.$s);case"ss":return kt.s(ke.$s,2,"0");case"SSS":return kt.s(ke.$ms,3,"0");case"Z":return Oe}return null}(Ee)||Oe.replace(":","")})},Kt.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},Kt.diff=function(Zt,ke,De){var ge,Oe=this,ee=kt.p(ke),Ot=Ut(Zt),ut=(Ot.utcOffset()-this.utcOffset())*P,ft=this-Ot,Mt=function(){return kt.m(Oe,Ot)};switch(ee){case bt:ge=Mt()/12;break;case It:ge=Mt();break;case pt:ge=Mt()/3;break;case jt:ge=(ft-ut)/6048e5;break;case it:ge=(ft-ut)/864e5;break;case ct:ge=ft/C;break;case lt:ge=ft/P;break;case g:ge=ft/1e3;break;default:ge=ft}return De?ge:kt.a(ge)},Kt.daysInMonth=function(){return this.endOf(It).$D},Kt.$locale=function(){return rn[this.$L]},Kt.locale=function(Zt,ke){if(!Zt)return this.$L;var De=this.clone(),ge=Qt(Zt,ke,!0);return ge&&(De.$L=ge),De},Kt.clone=function(){return kt.w(this.$d,this)},Kt.toDate=function(){return new Date(this.valueOf())},Kt.toJSON=function(){return this.isValid()?this.toISOString():null},Kt.toISOString=function(){return this.$d.toISOString()},Kt.toString=function(){return this.$d.toUTCString()},oe}(),Te=pe.prototype;return Ut.prototype=Te,[["$ms",H],["$s",g],["$m",lt],["$H",ct],["$W",it],["$M",It],["$y",bt],["$D",At]].forEach(function(oe){Te[oe[1]]=function(Kt){return this.$g(Kt,oe[0],oe[1])}}),Ut.extend=function(oe,Kt){return oe.$i||(oe(Kt,pe,Ut),oe.$i=!0),Ut},Ut.locale=Qt,Ut.isDayjs=Ke,Ut.unix=function(oe){return Ut(1e3*oe)},Ut.en=rn[Le],Ut.Ls=rn,Ut.p={},Ut}()},6943:function(mn){mn.exports=function(){"use strict";return{name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(ae){var P=["th","st","nd","rd"],C=ae%100;return"["+ae+(P[(C-20)%10]||P[C]||P[0])+"]"}}}()},8762:function(mn){mn.exports=function(){"use strict";var ae={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},P=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,C=/\d/,H=/\d\d/,g=/\d\d?/,lt=/\d*[^-_:/,()\s\d]+/,ct={},it=function(yt){return(yt=+yt)+(yt>68?1900:2e3)},jt=function(yt){return function(Ft){this[yt]=+Ft}},It=[/[+-]\d\d:?(\d\d)?|Z/,function(yt){(this.zone||(this.zone={})).offset=function(Ft){if(!Ft||"Z"===Ft)return 0;var Ht=Ft.match(/([+-]|\d\d)/g),ue=60*Ht[1]+(+Ht[2]||0);return 0===ue?0:"+"===Ht[0]?-ue:ue}(yt)}],pt=function(yt){var Ft=ct[yt];return Ft&&(Ft.indexOf?Ft:Ft.s.concat(Ft.f))},bt=function(yt,Ft){var Ht,ue=ct.meridiem;if(ue){for(var ye=1;ye<=24;ye+=1)if(yt.indexOf(ue(ye,0,Ft))>-1){Ht=ye>12;break}}else Ht=yt===(Ft?"pm":"PM");return Ht},At={A:[lt,function(yt){this.afternoon=bt(yt,!1)}],a:[lt,function(yt){this.afternoon=bt(yt,!0)}],Q:[C,function(yt){this.month=3*(yt-1)+1}],S:[C,function(yt){this.milliseconds=100*+yt}],SS:[H,function(yt){this.milliseconds=10*+yt}],SSS:[/\d{3}/,function(yt){this.milliseconds=+yt}],s:[g,jt("seconds")],ss:[g,jt("seconds")],m:[g,jt("minutes")],mm:[g,jt("minutes")],H:[g,jt("hours")],h:[g,jt("hours")],HH:[g,jt("hours")],hh:[g,jt("hours")],D:[g,jt("day")],DD:[H,jt("day")],Do:[lt,function(yt){var Ft=ct.ordinal,Ht=yt.match(/\d+/);if(this.day=Ht[0],Ft)for(var ue=1;ue<=31;ue+=1)Ft(ue).replace(/\[|\]/g,"")===yt&&(this.day=ue)}],w:[g,jt("week")],ww:[H,jt("week")],M:[g,jt("month")],MM:[H,jt("month")],MMM:[lt,function(yt){var Ft=pt("months"),Ht=(pt("monthsShort")||Ft.map(function(ue){return ue.slice(0,3)})).indexOf(yt)+1;if(Ht<1)throw new Error;this.month=Ht%12||Ht}],MMMM:[lt,function(yt){var Ft=pt("months").indexOf(yt)+1;if(Ft<1)throw new Error;this.month=Ft%12||Ft}],Y:[/[+-]?\d+/,jt("year")],YY:[H,function(yt){this.year=it(yt)}],YYYY:[/\d{4}/,jt("year")],Z:It,ZZ:It};return function(yt,Ft,Ht){Ht.p.customParseFormat=!0,yt&&yt.parseTwoDigitYear&&(it=yt.parseTwoDigitYear);var ue=Ft.prototype,ye=ue.parse;ue.parse=function(Le){var rn=Le.date,_e=Le.utc,Ke=Le.args;this.$u=_e;var Qt=Ke[1];if("string"==typeof Qt){var Ut=!0===Ke[2],kt=!0===Ke[3],pe=Ut||kt,Te=Ke[2];kt&&(Te=Ke[2]),ct=this.$locale(),!Ut&&Te&&(ct=Ht.Ls[Te]),this.$d=function(ke,De,ge,Oe){try{if(["x","X"].indexOf(De)>-1)return new Date(("X"===De?1e3:1)*ke);var ee=function Pt(yt){var Ht;Ht=ct&&ct.formats;for(var ue=(yt=yt.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(Ut,kt,pe){var Te=pe&&pe.toUpperCase();return kt||Ht[pe]||ae[pe]||Ht[Te].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(oe,Kt,Zt){return Kt||Zt.slice(1)})})).match(P),ye=ue.length,Le=0;Le<ye;Le+=1){var rn=ue[Le],_e=At[rn],Qt=_e&&_e[1];ue[Le]=Qt?{regex:_e&&_e[0],parser:Qt}:rn.replace(/^\[|\]$/g,"")}return function(Ut){for(var kt={},pe=0,Te=0;pe<ye;pe+=1){var oe=ue[pe];if("string"==typeof oe)Te+=oe.length;else{var Kt=oe.regex,Zt=oe.parser,ke=Ut.slice(Te),De=Kt.exec(ke)[0];Zt.call(kt,De),Ut=Ut.replace(De,"")}}return function(ge){var Oe=ge.afternoon;if(void 0!==Oe){var ee=ge.hours;Oe?ee<12&&(ge.hours+=12):12===ee&&(ge.hours=0),delete ge.afternoon}}(kt),kt}}(De)(ke),Ot=ee.year,ut=ee.month,ft=ee.day,Mt=ee.hours,ot=ee.minutes,Dt=ee.seconds,dt=ee.milliseconds,Vt=ee.zone,Ee=ee.week,we=new Date,Ie=ft||(Ot||ut?1:we.getDate()),fn=Ot||we.getFullYear(),Un=0;Ot&&!ut||(Un=ut>0?ut-1:we.getMonth());var Ri,Fn=Mt||0,ci=ot||0,Di=Dt||0,Li=dt||0;return Vt?new Date(Date.UTC(fn,Un,Ie,Fn,ci,Di,Li+60*Vt.offset*1e3)):ge?new Date(Date.UTC(fn,Un,Ie,Fn,ci,Di,Li)):(Ri=new Date(fn,Un,Ie,Fn,ci,Di,Li),Ee&&(Ri=Oe(Ri).week(Ee).toDate()),Ri)}catch{return new Date("")}}(rn,Qt,_e,Ht),this.init(),Te&&!0!==Te&&(this.$L=this.locale(Te).$L),pe&&rn!=this.format(Qt)&&(this.$d=new Date("")),ct={}}else if(Qt instanceof Array)for(var oe=Qt.length,Kt=1;Kt<=oe;Kt+=1){Ke[1]=Qt[Kt-1];var Zt=Ht.apply(this,Ke);if(Zt.isValid()){this.$d=Zt.$d,this.$L=Zt.$L,this.init();break}Kt===oe&&(this.$d=new Date(""))}else ye.call(this,Le)}}}()},1353:function(mn){mn.exports=function(){"use strict";return function(ae,P,C){var g=function(It){return It&&(It.indexOf?It:It.s)},lt=function(It,pt,bt,At,Pt){var yt=It.name?It:It.$locale(),Ft=g(yt[pt]),Ht=g(yt[bt]),ue=Ft||Ht.map(function(Le){return Le.slice(0,At)});if(!Pt)return ue;var ye=yt.weekStart;return ue.map(function(Le,rn){return ue[(rn+(ye||0))%7]})},ct=function(){return C.Ls[C.locale()]},it=function(It,pt){return It.formats[pt]||It.formats[pt.toUpperCase()].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(At,Pt,yt){return Pt||yt.slice(1)})},jt=function(){var It=this;return{months:function(pt){return pt?pt.format("MMMM"):lt(It,"months")},monthsShort:function(pt){return pt?pt.format("MMM"):lt(It,"monthsShort","months",3)},firstDayOfWeek:function(){return It.$locale().weekStart||0},weekdays:function(pt){return pt?pt.format("dddd"):lt(It,"weekdays")},weekdaysMin:function(pt){return pt?pt.format("dd"):lt(It,"weekdaysMin","weekdays",2)},weekdaysShort:function(pt){return pt?pt.format("ddd"):lt(It,"weekdaysShort","weekdays",3)},longDateFormat:function(pt){return it(It.$locale(),pt)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};P.prototype.localeData=function(){return jt.bind(this)()},C.localeData=function(){var It=ct();return{firstDayOfWeek:function(){return It.weekStart||0},weekdays:function(){return C.weekdays()},weekdaysShort:function(){return C.weekdaysShort()},weekdaysMin:function(){return C.weekdaysMin()},months:function(){return C.months()},monthsShort:function(){return C.monthsShort()},longDateFormat:function(pt){return it(It,pt)},meridiem:It.meridiem,ordinal:It.ordinal}},C.months=function(){return lt(ct(),"months")},C.monthsShort=function(){return lt(ct(),"monthsShort","months",3)},C.weekdays=function(It){return lt(ct(),"weekdays",null,null,It)},C.weekdaysShort=function(It){return lt(ct(),"weekdaysShort","weekdays",3,It)},C.weekdaysMin=function(It){return lt(ct(),"weekdaysMin","weekdays",2,It)}}}()},9393:function(mn){mn.exports=function(){"use strict";var ae={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(P,C,H){var g=C.prototype,lt=g.format;H.en.formats=ae,g.format=function(ct){void 0===ct&&(ct="YYYY-MM-DDTHH:mm:ssZ");var pt,it=this.$locale().formats,jt=(pt=void 0===it?{}:it,ct.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(bt,At,Pt){var yt=Pt&&Pt.toUpperCase();return At||pt[Pt]||ae[Pt]||pt[yt].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(Ft,Ht,ue){return Ht||ue.slice(1)})}));return lt.call(this,jt)}}}()},9469:function(mn){mn.exports=function(){"use strict";return function(ae,P){P.prototype.weekday=function(C){var H=this.$locale().weekStart||0,g=this.$W,lt=(g<H?g+7:g)-H;return this.$utils().u(C)?lt:this.subtract(lt,"day").add(C,"day")}}}()},8093:(mn,ae,P)=>{"use strict";P.d(ae,{t:()=>H});var C=P(1071);class H extends C.B{constructor(lt){super(),this._value=lt}get value(){return this.getValue()}_subscribe(lt){const ct=super._subscribe(lt);return!ct.closed&&lt.next(this._value),ct}getValue(){const{hasError:lt,thrownError:ct,_value:it}=this;if(lt)throw ct;return this._throwIfClosed(),it}next(lt){super.next(this._value=lt)}}},3982:(mn,ae,P)=>{"use strict";P.d(ae,{c:()=>It});var C=P(12),H=P(3479),g=P(7303),lt=P(3754),ct=P(1517),it=P(4834),jt=P(4479);let It=(()=>{class Pt{constructor(Ft){Ft&&(this._subscribe=Ft)}lift(Ft){const Ht=new Pt;return Ht.source=this,Ht.operator=Ft,Ht}subscribe(Ft,Ht,ue){const ye=function At(Pt){return Pt&&Pt instanceof C.vU||function bt(Pt){return Pt&&(0,it.T)(Pt.next)&&(0,it.T)(Pt.error)&&(0,it.T)(Pt.complete)}(Pt)&&(0,H.Uv)(Pt)}(Ft)?Ft:new C.Ms(Ft,Ht,ue);return(0,jt.Y)(()=>{const{operator:Le,source:rn}=this;ye.add(Le?Le.call(ye,rn):rn?this._subscribe(ye):this._trySubscribe(ye))}),ye}_trySubscribe(Ft){try{return this._subscribe(Ft)}catch(Ht){Ft.error(Ht)}}forEach(Ft,Ht){return new(Ht=pt(Ht))((ue,ye)=>{const Le=new C.Ms({next:rn=>{try{Ft(rn)}catch(_e){ye(_e),Le.unsubscribe()}},error:ye,complete:ue});this.subscribe(Le)})}_subscribe(Ft){var Ht;return null===(Ht=this.source)||void 0===Ht?void 0:Ht.subscribe(Ft)}[g.s](){return this}pipe(...Ft){return(0,lt.m)(Ft)(this)}toPromise(Ft){return new(Ft=pt(Ft))((Ht,ue)=>{let ye;this.subscribe(Le=>ye=Le,Le=>ue(Le),()=>Ht(ye))})}}return Pt.create=yt=>new Pt(yt),Pt})();function pt(Pt){var yt;return null!==(yt=Pt??ct.$.Promise)&&void 0!==yt?yt:Promise}},7650:(mn,ae,P)=>{"use strict";P.d(ae,{m:()=>g});var C=P(1071),H=P(360);class g extends C.B{constructor(ct=1/0,it=1/0,jt=H.U){super(),this._bufferSize=ct,this._windowTime=it,this._timestampProvider=jt,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=it===1/0,this._bufferSize=Math.max(1,ct),this._windowTime=Math.max(1,it)}next(ct){const{isStopped:it,_buffer:jt,_infiniteTimeWindow:It,_timestampProvider:pt,_windowTime:bt}=this;it||(jt.push(ct),!It&&jt.push(pt.now()+bt)),this._trimBuffer(),super.next(ct)}_subscribe(ct){this._throwIfClosed(),this._trimBuffer();const it=this._innerSubscribe(ct),{_infiniteTimeWindow:jt,_buffer:It}=this,pt=It.slice();for(let bt=0;bt<pt.length&&!ct.closed;bt+=jt?1:2)ct.next(pt[bt]);return this._checkFinalizedStatuses(ct),it}_trimBuffer(){const{_bufferSize:ct,_timestampProvider:it,_buffer:jt,_infiniteTimeWindow:It}=this,pt=(It?1:2)*ct;if(ct<1/0&&pt<jt.length&&jt.splice(0,jt.length-pt),!It){const bt=it.now();let At=0;for(let Pt=1;Pt<jt.length&&jt[Pt]<=bt;Pt+=2)At=Pt;At&&jt.splice(0,At+1)}}}},1071:(mn,ae,P)=>{"use strict";P.d(ae,{B:()=>jt});var C=P(3982),H=P(3479);const lt=(0,P(7272).L)(pt=>function(){pt(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ct=P(1935),it=P(4479);let jt=(()=>{class pt extends C.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(At){const Pt=new It(this,this);return Pt.operator=At,Pt}_throwIfClosed(){if(this.closed)throw new lt}next(At){(0,it.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Pt of this.currentObservers)Pt.next(At)}})}error(At){(0,it.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=At;const{observers:Pt}=this;for(;Pt.length;)Pt.shift().error(At)}})}complete(){(0,it.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:At}=this;for(;At.length;)At.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var At;return(null===(At=this.observers)||void 0===At?void 0:At.length)>0}_trySubscribe(At){return this._throwIfClosed(),super._trySubscribe(At)}_subscribe(At){return this._throwIfClosed(),this._checkFinalizedStatuses(At),this._innerSubscribe(At)}_innerSubscribe(At){const{hasError:Pt,isStopped:yt,observers:Ft}=this;return Pt||yt?H.Kn:(this.currentObservers=null,Ft.push(At),new H.yU(()=>{this.currentObservers=null,(0,ct.o)(Ft,At)}))}_checkFinalizedStatuses(At){const{hasError:Pt,thrownError:yt,isStopped:Ft}=this;Pt?At.error(yt):Ft&&At.complete()}asObservable(){const At=new C.c;return At.source=this,At}}return pt.create=(bt,At)=>new It(bt,At),pt})();class It extends jt{constructor(bt,At){super(),this.destination=bt,this.source=At}next(bt){var At,Pt;null===(Pt=null===(At=this.destination)||void 0===At?void 0:At.next)||void 0===Pt||Pt.call(At,bt)}error(bt){var At,Pt;null===(Pt=null===(At=this.destination)||void 0===At?void 0:At.error)||void 0===Pt||Pt.call(At,bt)}complete(){var bt,At;null===(At=null===(bt=this.destination)||void 0===bt?void 0:bt.complete)||void 0===At||At.call(bt)}_subscribe(bt){var At,Pt;return null!==(Pt=null===(At=this.source)||void 0===At?void 0:At.subscribe(bt))&&void 0!==Pt?Pt:H.Kn}}},12:(mn,ae,P)=>{"use strict";P.d(ae,{Ms:()=>ue,vU:()=>Pt});var C=P(4834),H=P(3479),g=P(1517),lt=P(6155),ct=P(1670);const it=pt("C",void 0,void 0);function pt(Ke,Qt,Ut){return{kind:Ke,value:Qt,error:Ut}}var bt=P(7547),At=P(4479);class Pt extends H.yU{constructor(Qt){super(),this.isStopped=!1,Qt?(this.destination=Qt,(0,H.Uv)(Qt)&&Qt.add(this)):this.destination=_e}static create(Qt,Ut,kt){return new ue(Qt,Ut,kt)}next(Qt){this.isStopped?rn(function It(Ke){return pt("N",Ke,void 0)}(Qt),this):this._next(Qt)}error(Qt){this.isStopped?rn(function jt(Ke){return pt("E",void 0,Ke)}(Qt),this):(this.isStopped=!0,this._error(Qt))}complete(){this.isStopped?rn(it,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Qt){this.destination.next(Qt)}_error(Qt){try{this.destination.error(Qt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const yt=Function.prototype.bind;function Ft(Ke,Qt){return yt.call(Ke,Qt)}class Ht{constructor(Qt){this.partialObserver=Qt}next(Qt){const{partialObserver:Ut}=this;if(Ut.next)try{Ut.next(Qt)}catch(kt){ye(kt)}}error(Qt){const{partialObserver:Ut}=this;if(Ut.error)try{Ut.error(Qt)}catch(kt){ye(kt)}else ye(Qt)}complete(){const{partialObserver:Qt}=this;if(Qt.complete)try{Qt.complete()}catch(Ut){ye(Ut)}}}class ue extends Pt{constructor(Qt,Ut,kt){let pe;if(super(),(0,C.T)(Qt)||!Qt)pe={next:Qt??void 0,error:Ut??void 0,complete:kt??void 0};else{let Te;this&&g.$.useDeprecatedNextContext?(Te=Object.create(Qt),Te.unsubscribe=()=>this.unsubscribe(),pe={next:Qt.next&&Ft(Qt.next,Te),error:Qt.error&&Ft(Qt.error,Te),complete:Qt.complete&&Ft(Qt.complete,Te)}):pe=Qt}this.destination=new Ht(pe)}}function ye(Ke){g.$.useDeprecatedSynchronousErrorHandling?(0,At.l)(Ke):(0,lt.m)(Ke)}function rn(Ke,Qt){const{onStoppedNotification:Ut}=g.$;Ut&&bt.f.setTimeout(()=>Ut(Ke,Qt))}const _e={closed:!0,next:ct.l,error:function Le(Ke){throw Ke},complete:ct.l}},3479:(mn,ae,P)=>{"use strict";P.d(ae,{Kn:()=>it,yU:()=>ct,Uv:()=>jt});var C=P(4834);const g=(0,P(7272).L)(pt=>function(At){pt(this),this.message=At?`${At.length} errors occurred during unsubscription:\n${At.map((Pt,yt)=>`${yt+1}) ${Pt.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=At});var lt=P(1935);class ct{constructor(bt){this.initialTeardown=bt,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let bt;if(!this.closed){this.closed=!0;const{_parentage:At}=this;if(At)if(this._parentage=null,Array.isArray(At))for(const Ft of At)Ft.remove(this);else At.remove(this);const{initialTeardown:Pt}=this;if((0,C.T)(Pt))try{Pt()}catch(Ft){bt=Ft instanceof g?Ft.errors:[Ft]}const{_finalizers:yt}=this;if(yt){this._finalizers=null;for(const Ft of yt)try{It(Ft)}catch(Ht){bt=bt??[],Ht instanceof g?bt=[...bt,...Ht.errors]:bt.push(Ht)}}if(bt)throw new g(bt)}}add(bt){var At;if(bt&&bt!==this)if(this.closed)It(bt);else{if(bt instanceof ct){if(bt.closed||bt._hasParent(this))return;bt._addParent(this)}(this._finalizers=null!==(At=this._finalizers)&&void 0!==At?At:[]).push(bt)}}_hasParent(bt){const{_parentage:At}=this;return At===bt||Array.isArray(At)&&At.includes(bt)}_addParent(bt){const{_parentage:At}=this;this._parentage=Array.isArray(At)?(At.push(bt),At):At?[At,bt]:bt}_removeParent(bt){const{_parentage:At}=this;At===bt?this._parentage=null:Array.isArray(At)&&(0,lt.o)(At,bt)}remove(bt){const{_finalizers:At}=this;At&&(0,lt.o)(At,bt),bt instanceof ct&&bt._removeParent(this)}}ct.EMPTY=(()=>{const pt=new ct;return pt.closed=!0,pt})();const it=ct.EMPTY;function jt(pt){return pt instanceof ct||pt&&"closed"in pt&&(0,C.T)(pt.remove)&&(0,C.T)(pt.add)&&(0,C.T)(pt.unsubscribe)}function It(pt){(0,C.T)(pt)?pt():pt.unsubscribe()}},1517:(mn,ae,P)=>{"use strict";P.d(ae,{$:()=>C});const C={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},103:(mn,ae,P)=>{"use strict";P.d(ae,{z:()=>bt});var C=P(3982),H=P(8568),g=P(3467),lt=P(7992),ct=P(1963),it=P(9323),jt=P(2213),It=P(1391),pt=P(782);function bt(...yt){const Ft=(0,it.lI)(yt),Ht=(0,it.ms)(yt),{args:ue,keys:ye}=(0,H.D)(yt);if(0===ue.length)return(0,g.H)([],Ft);const Le=new C.c(function At(yt,Ft,Ht=lt.D){return ue=>{Pt(Ft,()=>{const{length:ye}=yt,Le=new Array(ye);let rn=ye,_e=ye;for(let Ke=0;Ke<ye;Ke++)Pt(Ft,()=>{const Qt=(0,g.H)(yt[Ke],Ft);let Ut=!1;Qt.subscribe((0,It._)(ue,kt=>{Le[Ke]=kt,Ut||(Ut=!0,_e--),_e||ue.next(Ht(Le.slice()))},()=>{--rn||ue.complete()}))},ue)},ue)}}(ue,Ft,ye?rn=>(0,jt.e)(ye,rn):lt.D));return Ht?Le.pipe((0,ct.I)(Ht)):Le}function Pt(yt,Ft,Ht){yt?(0,pt.N)(Ht,yt,Ft):Ft()}},3279:(mn,ae,P)=>{"use strict";P.d(ae,{x:()=>ct});var C=P(7294),g=P(9323),lt=P(3467);function ct(...it){return function H(){return(0,C.U)(1)}()((0,lt.H)(it,(0,g.lI)(it)))}},3777:(mn,ae,P)=>{"use strict";P.d(ae,{v:()=>g});var C=P(3982),H=P(4637);function g(lt){return new C.c(ct=>{(0,H.Tg)(lt()).subscribe(ct)})}},4080:(mn,ae,P)=>{"use strict";P.d(ae,{w:()=>H});const H=new(P(3982).c)(ct=>ct.complete())},745:(mn,ae,P)=>{"use strict";P.d(ae,{p:()=>It});var C=P(3982),H=P(8568),g=P(4637),lt=P(9323),ct=P(1391),it=P(1963),jt=P(2213);function It(...pt){const bt=(0,lt.ms)(pt),{args:At,keys:Pt}=(0,H.D)(pt),yt=new C.c(Ft=>{const{length:Ht}=At;if(!Ht)return void Ft.complete();const ue=new Array(Ht);let ye=Ht,Le=Ht;for(let rn=0;rn<Ht;rn++){let _e=!1;(0,g.Tg)(At[rn]).subscribe((0,ct._)(Ft,Ke=>{_e||(_e=!0,Le--),ue[rn]=Ke},()=>ye--,void 0,()=>{(!ye||!_e)&&(Le||Ft.next(Pt?(0,jt.e)(Pt,ue):ue),Ft.complete())}))}});return bt?yt.pipe((0,it.I)(bt)):yt}},3467:(mn,ae,P)=>{"use strict";P.d(ae,{H:()=>Ut});var C=P(4637),H=P(1240),g=P(1531);function lt(kt,pe=0){return(0,g.N)((Te,oe)=>{oe.add(kt.schedule(()=>Te.subscribe(oe),pe))})}var jt=P(3982),pt=P(8916),bt=P(4834),At=P(782);function yt(kt,pe){if(!kt)throw new Error("Iterable cannot be null");return new jt.c(Te=>{(0,At.N)(Te,pe,()=>{const oe=kt[Symbol.asyncIterator]();(0,At.N)(Te,pe,()=>{oe.next().then(Kt=>{Kt.done?Te.complete():Te.next(Kt.value)})},0,!0)})})}var Ft=P(8228),Ht=P(2373),ue=P(2454),ye=P(8296),Le=P(4566),rn=P(9958),_e=P(7481);function Ut(kt,pe){return pe?function Qt(kt,pe){if(null!=kt){if((0,Ft.l)(kt))return function ct(kt,pe){return(0,C.Tg)(kt).pipe(lt(pe),(0,H.Q)(pe))}(kt,pe);if((0,ue.X)(kt))return function It(kt,pe){return new jt.c(Te=>{let oe=0;return pe.schedule(function(){oe===kt.length?Te.complete():(Te.next(kt[oe++]),Te.closed||this.schedule())})})}(kt,pe);if((0,Ht.y)(kt))return function it(kt,pe){return(0,C.Tg)(kt).pipe(lt(pe),(0,H.Q)(pe))}(kt,pe);if((0,Le.T)(kt))return yt(kt,pe);if((0,ye.x)(kt))return function Pt(kt,pe){return new jt.c(Te=>{let oe;return(0,At.N)(Te,pe,()=>{oe=kt[pt.l](),(0,At.N)(Te,pe,()=>{let Kt,Zt;try{({value:Kt,done:Zt}=oe.next())}catch(ke){return void Te.error(ke)}Zt?Te.complete():Te.next(Kt)},0,!0)}),()=>(0,bt.T)(oe?.return)&&oe.return()})}(kt,pe);if((0,_e.U)(kt))return function Ke(kt,pe){return yt((0,_e.C)(kt),pe)}(kt,pe)}throw(0,rn.L)(kt)}(kt,pe):(0,C.Tg)(kt)}},8001:(mn,ae,P)=>{"use strict";P.d(ae,{R:()=>bt});var C=P(4637),H=P(3982),g=P(7252),lt=P(2454),ct=P(4834),it=P(1963);const jt=["addListener","removeListener"],It=["addEventListener","removeEventListener"],pt=["on","off"];function bt(Ht,ue,ye,Le){if((0,ct.T)(ye)&&(Le=ye,ye=void 0),Le)return bt(Ht,ue,ye).pipe((0,it.I)(Le));const[rn,_e]=function Ft(Ht){return(0,ct.T)(Ht.addEventListener)&&(0,ct.T)(Ht.removeEventListener)}(Ht)?It.map(Ke=>Qt=>Ht[Ke](ue,Qt,ye)):function Pt(Ht){return(0,ct.T)(Ht.addListener)&&(0,ct.T)(Ht.removeListener)}(Ht)?jt.map(At(Ht,ue)):function yt(Ht){return(0,ct.T)(Ht.on)&&(0,ct.T)(Ht.off)}(Ht)?pt.map(At(Ht,ue)):[];if(!rn&&(0,lt.X)(Ht))return(0,g.Z)(Ke=>bt(Ke,ue,ye))((0,C.Tg)(Ht));if(!rn)throw new TypeError("Invalid event target");return new H.c(Ke=>{const Qt=(...Ut)=>Ke.next(1<Ut.length?Ut:Ut[0]);return rn(Qt),()=>_e(Qt)})}function At(Ht,ue){return ye=>Le=>Ht[ye](ue,Le)}},4637:(mn,ae,P)=>{"use strict";P.d(ae,{Tg:()=>yt});var C=P(3460),H=P(2454),g=P(2373),lt=P(3982),ct=P(8228),it=P(4566),jt=P(9958),It=P(8296),pt=P(7481),bt=P(4834),At=P(6155),Pt=P(7303);function yt(Ke){if(Ke instanceof lt.c)return Ke;if(null!=Ke){if((0,ct.l)(Ke))return function Ft(Ke){return new lt.c(Qt=>{const Ut=Ke[Pt.s]();if((0,bt.T)(Ut.subscribe))return Ut.subscribe(Qt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ke);if((0,H.X)(Ke))return function Ht(Ke){return new lt.c(Qt=>{for(let Ut=0;Ut<Ke.length&&!Qt.closed;Ut++)Qt.next(Ke[Ut]);Qt.complete()})}(Ke);if((0,g.y)(Ke))return function ue(Ke){return new lt.c(Qt=>{Ke.then(Ut=>{Qt.closed||(Qt.next(Ut),Qt.complete())},Ut=>Qt.error(Ut)).then(null,At.m)})}(Ke);if((0,it.T)(Ke))return Le(Ke);if((0,It.x)(Ke))return function ye(Ke){return new lt.c(Qt=>{for(const Ut of Ke)if(Qt.next(Ut),Qt.closed)return;Qt.complete()})}(Ke);if((0,pt.U)(Ke))return function rn(Ke){return Le((0,pt.C)(Ke))}(Ke)}throw(0,jt.L)(Ke)}function Le(Ke){return new lt.c(Qt=>{(function _e(Ke,Qt){var Ut,kt,pe,Te;return(0,C.sH)(this,void 0,void 0,function*(){try{for(Ut=(0,C.xN)(Ke);!(kt=yield Ut.next()).done;)if(Qt.next(kt.value),Qt.closed)return}catch(oe){pe={error:oe}}finally{try{kt&&!kt.done&&(Te=Ut.return)&&(yield Te.call(Ut))}finally{if(pe)throw pe.error}}Qt.complete()})})(Ke,Qt).catch(Ut=>Qt.error(Ut))})}},8169:(mn,ae,P)=>{"use strict";P.d(ae,{h:()=>it});var C=P(7294),H=P(4637),g=P(4080),lt=P(9323),ct=P(3467);function it(...jt){const It=(0,lt.lI)(jt),pt=(0,lt.R0)(jt,1/0),bt=jt;return bt.length?1===bt.length?(0,H.Tg)(bt[0]):(0,C.U)(pt)((0,ct.H)(bt,It)):g.w}},3204:(mn,ae,P)=>{"use strict";P.d(ae,{of:()=>g});var C=P(9323),H=P(3467);function g(...lt){const ct=(0,C.lI)(lt);return(0,H.H)(lt,ct)}},535:(mn,ae,P)=>{"use strict";P.d(ae,{$:()=>g});var C=P(3982),H=P(4834);function g(lt,ct){const it=(0,H.T)(lt)?lt:()=>lt,jt=It=>It.error(it());return new C.c(ct?It=>ct.schedule(jt,0,It):jt)}},2388:(mn,ae,P)=>{"use strict";P.d(ae,{O:()=>ct});var C=P(3982),H=P(1201),g=P(5805),lt=P(5098);function ct(it=0,jt,It=H.b){let pt=-1;return null!=jt&&((0,g.m)(jt)?It=jt:pt=jt),new C.c(bt=>{let At=(0,lt.v)(it)?+it-It.now():it;At<0&&(At=0);let Pt=0;return It.schedule(function(){bt.closed||(bt.next(Pt++),0<=pt?this.schedule(void 0,pt):bt.complete())},At)})}},1391:(mn,ae,P)=>{"use strict";P.d(ae,{H:()=>g,_:()=>H});var C=P(12);function H(lt,ct,it,jt,It){return new g(lt,ct,it,jt,It)}class g extends C.vU{constructor(ct,it,jt,It,pt,bt){super(ct),this.onFinalize=pt,this.shouldUnsubscribe=bt,this._next=it?function(At){try{it(At)}catch(Pt){ct.error(Pt)}}:super._next,this._error=It?function(At){try{It(At)}catch(Pt){ct.error(Pt)}finally{this.unsubscribe()}}:super._error,this._complete=jt?function(){try{jt()}catch(At){ct.error(At)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ct;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:it}=this;super.unsubscribe(),!it&&(null===(ct=this.onFinalize)||void 0===ct||ct.call(this))}}}},8030:(mn,ae,P)=>{"use strict";P.d(ae,{Z:()=>jt});var C=P(1201),H=P(1531),g=P(4637),lt=P(1391),it=P(2388);function jt(It,pt=C.E){return function ct(It){return(0,H.N)((pt,bt)=>{let At=!1,Pt=null,yt=null,Ft=!1;const Ht=()=>{if(yt?.unsubscribe(),yt=null,At){At=!1;const ye=Pt;Pt=null,bt.next(ye)}Ft&&bt.complete()},ue=()=>{yt=null,Ft&&bt.complete()};pt.subscribe((0,lt._)(bt,ye=>{At=!0,Pt=ye,yt||(0,g.Tg)(It(ye)).subscribe(yt=(0,lt._)(bt,Ht,ue))},()=>{Ft=!0,(!At||!yt||yt.closed)&&bt.complete()}))})}(()=>(0,it.O)(It,pt))}},1534:(mn,ae,P)=>{"use strict";P.d(ae,{W:()=>lt});var C=P(4637),H=P(1391),g=P(1531);function lt(ct){return(0,g.N)((it,jt)=>{let bt,It=null,pt=!1;It=it.subscribe((0,H._)(jt,void 0,void 0,At=>{bt=(0,C.Tg)(ct(At,lt(ct)(it))),It?(It.unsubscribe(),It=null,bt.subscribe(jt)):pt=!0})),pt&&(It.unsubscribe(),It=null,bt.subscribe(jt))})}},5799:(mn,ae,P)=>{"use strict";P.d(ae,{H:()=>g});var C=P(7252),H=P(4834);function g(lt,ct){return(0,H.T)(ct)?(0,C.Z)(lt,ct,1):(0,C.Z)(lt,1)}},2151:(mn,ae,P)=>{"use strict";P.d(ae,{B:()=>lt});var C=P(1201),H=P(1531),g=P(1391);function lt(ct,it=C.E){return(0,H.N)((jt,It)=>{let pt=null,bt=null,At=null;const Pt=()=>{if(pt){pt.unsubscribe(),pt=null;const Ft=bt;bt=null,It.next(Ft)}};function yt(){const Ft=At+ct,Ht=it.now();if(Ht<Ft)return pt=this.schedule(void 0,Ft-Ht),void It.add(pt);Pt()}jt.subscribe((0,g._)(It,Ft=>{bt=Ft,At=it.now(),pt||(pt=it.schedule(yt,ct),It.add(pt))},()=>{Pt(),It.complete()},void 0,()=>{bt=pt=null}))})}},7569:(mn,ae,P)=>{"use strict";P.d(ae,{F:()=>lt});var C=P(7992),H=P(1531),g=P(1391);function lt(it,jt=C.D){return it=it??ct,(0,H.N)((It,pt)=>{let bt,At=!0;It.subscribe((0,g._)(pt,Pt=>{const yt=jt(Pt);(At||!it(bt,yt))&&(At=!1,bt=yt,pt.next(Pt))}))})}function ct(it,jt){return it===jt}},6345:(mn,ae,P)=>{"use strict";P.d(ae,{p:()=>ct});var C=P(8199),H=P(4637),g=P(1531),lt=P(1391);function ct(it,jt){return jt?It=>It.pipe(ct((pt,bt)=>(0,H.Tg)(it(pt,bt)).pipe((0,C.T)((At,Pt)=>jt(pt,At,bt,Pt))))):(0,g.N)((It,pt)=>{let bt=0,At=null,Pt=!1;It.subscribe((0,lt._)(pt,yt=>{At||(At=(0,lt._)(pt,void 0,()=>{At=null,Pt&&pt.complete()}),(0,H.Tg)(it(yt,bt++)).subscribe(At))},()=>{Pt=!0,!At&&pt.complete()}))})}},2647:(mn,ae,P)=>{"use strict";P.d(ae,{p:()=>g});var C=P(1531),H=P(1391);function g(lt,ct){return(0,C.N)((it,jt)=>{let It=0;it.subscribe((0,H._)(jt,pt=>lt.call(ct,pt,It++)&&jt.next(pt)))})}},4507:(mn,ae,P)=>{"use strict";P.d(ae,{j:()=>H});var C=P(1531);function H(g){return(0,C.N)((lt,ct)=>{try{lt.subscribe(ct)}finally{ct.add(g)}})}},5266:(mn,ae,P)=>{"use strict";P.d(ae,{w:()=>lt});var C=P(1531),H=P(1391),g=P(1670);function lt(){return(0,C.N)((ct,it)=>{ct.subscribe((0,H._)(it,g.l))})}},8199:(mn,ae,P)=>{"use strict";P.d(ae,{T:()=>g});var C=P(1531),H=P(1391);function g(lt,ct){return(0,C.N)((it,jt)=>{let It=0;it.subscribe((0,H._)(jt,pt=>{jt.next(lt.call(ct,pt,It++))}))})}},3498:(mn,ae,P)=>{"use strict";P.d(ae,{u:()=>H});var C=P(8199);function H(g){return(0,C.T)(()=>g)}},7294:(mn,ae,P)=>{"use strict";P.d(ae,{U:()=>g});var C=P(7252),H=P(7992);function g(lt=1/0){return(0,C.Z)(H.D,lt)}},7252:(mn,ae,P)=>{"use strict";P.d(ae,{Z:()=>It});var C=P(8199),H=P(4637),g=P(1531),lt=P(782),ct=P(1391),jt=P(4834);function It(pt,bt,At=1/0){return(0,jt.T)(bt)?It((Pt,yt)=>(0,C.T)((Ft,Ht)=>bt(Pt,Ft,yt,Ht))((0,H.Tg)(pt(Pt,yt))),At):("number"==typeof bt&&(At=bt),(0,g.N)((Pt,yt)=>function it(pt,bt,At,Pt,yt,Ft,Ht,ue){const ye=[];let Le=0,rn=0,_e=!1;const Ke=()=>{_e&&!ye.length&&!Le&&bt.complete()},Qt=kt=>Le<Pt?Ut(kt):ye.push(kt),Ut=kt=>{Ft&&bt.next(kt),Le++;let pe=!1;(0,H.Tg)(At(kt,rn++)).subscribe((0,ct._)(bt,Te=>{yt?.(Te),Ft?Qt(Te):bt.next(Te)},()=>{pe=!0},void 0,()=>{if(pe)try{for(Le--;ye.length&&Le<Pt;){const Te=ye.shift();Ht?(0,lt.N)(bt,Ht,()=>Ut(Te)):Ut(Te)}Ke()}catch(Te){bt.error(Te)}}))};return pt.subscribe((0,ct._)(bt,Qt,()=>{_e=!0,Ke()})),()=>{ue?.()}}(Pt,yt,pt,At)))}},1240:(mn,ae,P)=>{"use strict";P.d(ae,{Q:()=>lt});var C=P(782),H=P(1531),g=P(1391);function lt(ct,it=0){return(0,H.N)((jt,It)=>{jt.subscribe((0,g._)(It,pt=>(0,C.N)(It,ct,()=>It.next(pt),it),()=>(0,C.N)(It,ct,()=>It.complete(),it),pt=>(0,C.N)(It,ct,()=>It.error(pt),it)))})}},1546:(mn,ae,P)=>{"use strict";P.d(ae,{S:()=>lt});var C=P(1531),H=P(1391);function lt(ct,it){return(0,C.N)(function g(ct,it,jt,It,pt){return(bt,At)=>{let Pt=jt,yt=it,Ft=0;bt.subscribe((0,H._)(At,Ht=>{const ue=Ft++;yt=Pt?ct(yt,Ht,ue):(Pt=!0,Ht),It&&At.next(yt)},pt&&(()=>{Pt&&At.next(yt),At.complete()})))}}(ct,it,arguments.length>=2,!0))}},3622:(mn,ae,P)=>{"use strict";P.d(ae,{u:()=>ct});var C=P(4637),H=P(1071),g=P(12),lt=P(1531);function ct(jt={}){const{connector:It=()=>new H.B,resetOnError:pt=!0,resetOnComplete:bt=!0,resetOnRefCountZero:At=!0}=jt;return Pt=>{let yt,Ft,Ht,ue=0,ye=!1,Le=!1;const rn=()=>{Ft?.unsubscribe(),Ft=void 0},_e=()=>{rn(),yt=Ht=void 0,ye=Le=!1},Ke=()=>{const Qt=yt;_e(),Qt?.unsubscribe()};return(0,lt.N)((Qt,Ut)=>{ue++,!Le&&!ye&&rn();const kt=Ht=Ht??It();Ut.add(()=>{ue--,0===ue&&!Le&&!ye&&(Ft=it(Ke,At))}),kt.subscribe(Ut),!yt&&ue>0&&(yt=new g.Ms({next:pe=>kt.next(pe),error:pe=>{Le=!0,rn(),Ft=it(_e,pt,pe),kt.error(pe)},complete:()=>{ye=!0,rn(),Ft=it(_e,bt),kt.complete()}}),(0,C.Tg)(Qt).subscribe(yt))})(Pt)}}function it(jt,It,...pt){if(!0===It)return void jt();if(!1===It)return;const bt=new g.Ms({next:()=>{bt.unsubscribe(),jt()}});return(0,C.Tg)(It(...pt)).subscribe(bt)}},7621:(mn,ae,P)=>{"use strict";P.d(ae,{t:()=>g});var C=P(7650),H=P(3622);function g(lt,ct,it){let jt,It=!1;return lt&&"object"==typeof lt?({bufferSize:jt=1/0,windowTime:ct=1/0,refCount:It=!1,scheduler:it}=lt):jt=lt??1/0,(0,H.u)({connector:()=>new C.m(jt,ct,it),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:It})}},2422:(mn,ae,P)=>{"use strict";P.d(ae,{i:()=>H});var C=P(2647);function H(g){return(0,C.p)((lt,ct)=>g<=ct)}},613:(mn,ae,P)=>{"use strict";P.d(ae,{Z:()=>lt});var C=P(3279),H=P(9323),g=P(1531);function lt(...ct){const it=(0,H.lI)(ct);return(0,g.N)((jt,It)=>{(it?(0,C.x)(ct,jt,it):(0,C.x)(ct,jt)).subscribe(It)})}},7071:(mn,ae,P)=>{"use strict";P.d(ae,{n:()=>lt});var C=P(4637),H=P(1531),g=P(1391);function lt(ct,it){return(0,H.N)((jt,It)=>{let pt=null,bt=0,At=!1;const Pt=()=>At&&!pt&&It.complete();jt.subscribe((0,g._)(It,yt=>{pt?.unsubscribe();let Ft=0;const Ht=bt++;(0,C.Tg)(ct(yt,Ht)).subscribe(pt=(0,g._)(It,ue=>It.next(it?it(yt,ue,Ht,Ft++):ue),()=>{pt=null,Pt()}))},()=>{At=!0,Pt()}))})}},5910:(mn,ae,P)=>{"use strict";P.d(ae,{s:()=>lt});var C=P(4080),H=P(1531),g=P(1391);function lt(ct){return ct<=0?()=>C.w:(0,H.N)((it,jt)=>{let It=0;it.subscribe((0,g._)(jt,pt=>{++It<=ct&&(jt.next(pt),ct<=It&&jt.complete())}))})}},3796:(mn,ae,P)=>{"use strict";P.d(ae,{Q:()=>ct});var C=P(1531),H=P(1391),g=P(4637),lt=P(1670);function ct(it){return(0,C.N)((jt,It)=>{(0,g.Tg)(it).subscribe((0,H._)(It,()=>It.complete(),lt.l)),!It.closed&&jt.subscribe(It)})}},5044:(mn,ae,P)=>{"use strict";P.d(ae,{M:()=>ct});var C=P(4834),H=P(1531),g=P(1391),lt=P(7992);function ct(it,jt,It){const pt=(0,C.T)(it)||jt||It?{next:it,error:jt,complete:It}:it;return pt?(0,H.N)((bt,At)=>{var Pt;null===(Pt=pt.subscribe)||void 0===Pt||Pt.call(pt);let yt=!0;bt.subscribe((0,g._)(At,Ft=>{var Ht;null===(Ht=pt.next)||void 0===Ht||Ht.call(pt,Ft),At.next(Ft)},()=>{var Ft;yt=!1,null===(Ft=pt.complete)||void 0===Ft||Ft.call(pt),At.complete()},Ft=>{var Ht;yt=!1,null===(Ht=pt.error)||void 0===Ht||Ht.call(pt,Ft),At.error(Ft)},()=>{var Ft,Ht;yt&&(null===(Ft=pt.unsubscribe)||void 0===Ft||Ft.call(pt)),null===(Ht=pt.finalize)||void 0===Ht||Ht.call(pt)}))}):lt.D}},6058:(mn,ae,P)=>{"use strict";P.d(ae,{E:()=>jt});var C=P(1531),H=P(1391),g=P(4637),lt=P(7992),ct=P(1670),it=P(9323);function jt(...It){const pt=(0,it.ms)(It);return(0,C.N)((bt,At)=>{const Pt=It.length,yt=new Array(Pt);let Ft=It.map(()=>!1),Ht=!1;for(let ue=0;ue<Pt;ue++)(0,g.Tg)(It[ue]).subscribe((0,H._)(At,ye=>{yt[ue]=ye,!Ht&&!Ft[ue]&&(Ft[ue]=!0,(Ht=Ft.every(lt.D))&&(Ft=null))},ct.l));bt.subscribe((0,H._)(At,ue=>{if(Ht){const ye=[ue,...yt];At.next(pt?pt(...ye):ye)}}))})}},7561:(mn,ae,P)=>{"use strict";P.d(ae,{R:()=>ct});var C=P(3479);class H extends C.yU{constructor(jt,It){super()}schedule(jt,It=0){return this}}const g={setInterval(it,jt,...It){const{delegate:pt}=g;return pt?.setInterval?pt.setInterval(it,jt,...It):setInterval(it,jt,...It)},clearInterval(it){const{delegate:jt}=g;return(jt?.clearInterval||clearInterval)(it)},delegate:void 0};var lt=P(1935);class ct extends H{constructor(jt,It){super(jt,It),this.scheduler=jt,this.work=It,this.pending=!1}schedule(jt,It=0){var pt;if(this.closed)return this;this.state=jt;const bt=this.id,At=this.scheduler;return null!=bt&&(this.id=this.recycleAsyncId(At,bt,It)),this.pending=!0,this.delay=It,this.id=null!==(pt=this.id)&&void 0!==pt?pt:this.requestAsyncId(At,this.id,It),this}requestAsyncId(jt,It,pt=0){return g.setInterval(jt.flush.bind(jt,this),pt)}recycleAsyncId(jt,It,pt=0){if(null!=pt&&this.delay===pt&&!1===this.pending)return It;null!=It&&g.clearInterval(It)}execute(jt,It){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const pt=this._execute(jt,It);if(pt)return pt;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(jt,It){let bt,pt=!1;try{this.work(jt)}catch(At){pt=!0,bt=At||new Error("Scheduled action threw falsy error")}if(pt)return this.unsubscribe(),bt}unsubscribe(){if(!this.closed){const{id:jt,scheduler:It}=this,{actions:pt}=It;this.work=this.state=this.scheduler=null,this.pending=!1,(0,lt.o)(pt,this),null!=jt&&(this.id=this.recycleAsyncId(It,jt,null)),this.delay=null,super.unsubscribe()}}}},8792:(mn,ae,P)=>{"use strict";P.d(ae,{q:()=>g});var C=P(360);class H{constructor(ct,it=H.now){this.schedulerActionCtor=ct,this.now=it}schedule(ct,it=0,jt){return new this.schedulerActionCtor(this,ct).schedule(jt,it)}}H.now=C.U.now;class g extends H{constructor(ct,it=H.now){super(ct,it),this.actions=[],this._active=!1}flush(ct){const{actions:it}=this;if(this._active)return void it.push(ct);let jt;this._active=!0;do{if(jt=ct.execute(ct.state,ct.delay))break}while(ct=it.shift());if(this._active=!1,jt){for(;ct=it.shift();)ct.unsubscribe();throw jt}}}},7512:(mn,ae,P)=>{"use strict";P.d(ae,{X:()=>jt});var C=P(7561),H=P(3479);const g={schedule(pt){let bt=requestAnimationFrame,At=cancelAnimationFrame;const{delegate:Pt}=g;Pt&&(bt=Pt.requestAnimationFrame,At=Pt.cancelAnimationFrame);const yt=bt(Ft=>{At=void 0,pt(Ft)});return new H.yU(()=>At?.(yt))},requestAnimationFrame(...pt){const{delegate:bt}=g;return(bt?.requestAnimationFrame||requestAnimationFrame)(...pt)},cancelAnimationFrame(...pt){const{delegate:bt}=g;return(bt?.cancelAnimationFrame||cancelAnimationFrame)(...pt)},delegate:void 0};var ct=P(8792);const jt=new class it extends ct.q{flush(bt){this._active=!0;const At=this._scheduled;this._scheduled=void 0;const{actions:Pt}=this;let yt;bt=bt||Pt.shift();do{if(yt=bt.execute(bt.state,bt.delay))break}while((bt=Pt[0])&&bt.id===At&&Pt.shift());if(this._active=!1,yt){for(;(bt=Pt[0])&&bt.id===At&&Pt.shift();)bt.unsubscribe();throw yt}}}(class lt extends C.R{constructor(bt,At){super(bt,At),this.scheduler=bt,this.work=At}requestAsyncId(bt,At,Pt=0){return null!==Pt&&Pt>0?super.requestAsyncId(bt,At,Pt):(bt.actions.push(this),bt._scheduled||(bt._scheduled=g.requestAnimationFrame(()=>bt.flush(void 0))))}recycleAsyncId(bt,At,Pt=0){var yt;if(null!=Pt?Pt>0:this.delay>0)return super.recycleAsyncId(bt,At,Pt);const{actions:Ft}=bt;null!=At&&(null===(yt=Ft[Ft.length-1])||void 0===yt?void 0:yt.id)!==At&&(g.cancelAnimationFrame(At),bt._scheduled=void 0)}})},7969:(mn,ae,P)=>{"use strict";P.d(ae,{$:()=>Ft});var C=P(7561);let g,H=1;const lt={};function ct(ue){return ue in lt&&(delete lt[ue],!0)}const it={setImmediate(ue){const ye=H++;return lt[ye]=!0,g||(g=Promise.resolve()),g.then(()=>ct(ye)&&ue()),ye},clearImmediate(ue){ct(ue)}},{setImmediate:It,clearImmediate:pt}=it,bt={setImmediate(...ue){const{delegate:ye}=bt;return(ye?.setImmediate||It)(...ue)},clearImmediate(ue){const{delegate:ye}=bt;return(ye?.clearImmediate||pt)(ue)},delegate:void 0};var Pt=P(8792);const Ft=new class yt extends Pt.q{flush(ye){this._active=!0;const Le=this._scheduled;this._scheduled=void 0;const{actions:rn}=this;let _e;ye=ye||rn.shift();do{if(_e=ye.execute(ye.state,ye.delay))break}while((ye=rn[0])&&ye.id===Le&&rn.shift());if(this._active=!1,_e){for(;(ye=rn[0])&&ye.id===Le&&rn.shift();)ye.unsubscribe();throw _e}}}(class At extends C.R{constructor(ye,Le){super(ye,Le),this.scheduler=ye,this.work=Le}requestAsyncId(ye,Le,rn=0){return null!==rn&&rn>0?super.requestAsyncId(ye,Le,rn):(ye.actions.push(this),ye._scheduled||(ye._scheduled=bt.setImmediate(ye.flush.bind(ye,void 0))))}recycleAsyncId(ye,Le,rn=0){var _e;if(null!=rn?rn>0:this.delay>0)return super.recycleAsyncId(ye,Le,rn);const{actions:Ke}=ye;null!=Le&&(null===(_e=Ke[Ke.length-1])||void 0===_e?void 0:_e.id)!==Le&&(bt.clearImmediate(Le),ye._scheduled===Le&&(ye._scheduled=void 0))}})},1201:(mn,ae,P)=>{"use strict";P.d(ae,{E:()=>g,b:()=>lt});var C=P(7561);const g=new(P(8792).q)(C.R),lt=g},360:(mn,ae,P)=>{"use strict";P.d(ae,{U:()=>C});const C={now:()=>(C.delegate||Date).now(),delegate:void 0}},391:(mn,ae,P)=>{"use strict";P.d(ae,{T:()=>ct});var C=P(7561),g=P(8792);const ct=new class lt extends g.q{}(class H extends C.R{constructor(It,pt){super(It,pt),this.scheduler=It,this.work=pt}schedule(It,pt=0){return pt>0?super.schedule(It,pt):(this.delay=pt,this.state=It,this.scheduler.flush(this),this)}execute(It,pt){return pt>0||this.closed?super.execute(It,pt):this._execute(It,pt)}requestAsyncId(It,pt,bt=0){return null!=bt&&bt>0||null==bt&&this.delay>0?super.requestAsyncId(It,pt,bt):(It.flush(this),0)}})},7547:(mn,ae,P)=>{"use strict";P.d(ae,{f:()=>C});const C={setTimeout(H,g,...lt){const{delegate:ct}=C;return ct?.setTimeout?ct.setTimeout(H,g,...lt):setTimeout(H,g,...lt)},clearTimeout(H){const{delegate:g}=C;return(g?.clearTimeout||clearTimeout)(H)},delegate:void 0}},8916:(mn,ae,P)=>{"use strict";P.d(ae,{l:()=>H});const H=function C(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},7303:(mn,ae,P)=>{"use strict";P.d(ae,{s:()=>C});const C="function"==typeof Symbol&&Symbol.observable||"@@observable"},9323:(mn,ae,P)=>{"use strict";P.d(ae,{R0:()=>it,lI:()=>ct,ms:()=>lt});var C=P(4834),H=P(5805);function g(jt){return jt[jt.length-1]}function lt(jt){return(0,C.T)(g(jt))?jt.pop():void 0}function ct(jt){return(0,H.m)(g(jt))?jt.pop():void 0}function it(jt,It){return"number"==typeof g(jt)?jt.pop():It}},8568:(mn,ae,P)=>{"use strict";P.d(ae,{D:()=>ct});const{isArray:C}=Array,{getPrototypeOf:H,prototype:g,keys:lt}=Object;function ct(jt){if(1===jt.length){const It=jt[0];if(C(It))return{args:It,keys:null};if(function it(jt){return jt&&"object"==typeof jt&&H(jt)===g}(It)){const pt=lt(It);return{args:pt.map(bt=>It[bt]),keys:pt}}}return{args:jt,keys:null}}},1935:(mn,ae,P)=>{"use strict";function C(H,g){if(H){const lt=H.indexOf(g);0<=lt&&H.splice(lt,1)}}P.d(ae,{o:()=>C})},7272:(mn,ae,P)=>{"use strict";function C(H){const lt=H(ct=>{Error.call(ct),ct.stack=(new Error).stack});return lt.prototype=Object.create(Error.prototype),lt.prototype.constructor=lt,lt}P.d(ae,{L:()=>C})},2213:(mn,ae,P)=>{"use strict";function C(H,g){return H.reduce((lt,ct,it)=>(lt[ct]=g[it],lt),{})}P.d(ae,{e:()=>C})},4479:(mn,ae,P)=>{"use strict";P.d(ae,{Y:()=>g,l:()=>lt});var C=P(1517);let H=null;function g(ct){if(C.$.useDeprecatedSynchronousErrorHandling){const it=!H;if(it&&(H={errorThrown:!1,error:null}),ct(),it){const{errorThrown:jt,error:It}=H;if(H=null,jt)throw It}}else ct()}function lt(ct){C.$.useDeprecatedSynchronousErrorHandling&&H&&(H.errorThrown=!0,H.error=ct)}},782:(mn,ae,P)=>{"use strict";function C(H,g,lt,ct=0,it=!1){const jt=g.schedule(function(){lt(),it?H.add(this.schedule(null,ct)):this.unsubscribe()},ct);if(H.add(jt),!it)return jt}P.d(ae,{N:()=>C})},7992:(mn,ae,P)=>{"use strict";function C(H){return H}P.d(ae,{D:()=>C})},2454:(mn,ae,P)=>{"use strict";P.d(ae,{X:()=>C});const C=H=>H&&"number"==typeof H.length&&"function"!=typeof H},4566:(mn,ae,P)=>{"use strict";P.d(ae,{T:()=>H});var C=P(4834);function H(g){return Symbol.asyncIterator&&(0,C.T)(g?.[Symbol.asyncIterator])}},5098:(mn,ae,P)=>{"use strict";function C(H){return H instanceof Date&&!isNaN(H)}P.d(ae,{v:()=>C})},4834:(mn,ae,P)=>{"use strict";function C(H){return"function"==typeof H}P.d(ae,{T:()=>C})},8228:(mn,ae,P)=>{"use strict";P.d(ae,{l:()=>g});var C=P(7303),H=P(4834);function g(lt){return(0,H.T)(lt[C.s])}},8296:(mn,ae,P)=>{"use strict";P.d(ae,{x:()=>g});var C=P(8916),H=P(4834);function g(lt){return(0,H.T)(lt?.[C.l])}},7375:(mn,ae,P)=>{"use strict";P.d(ae,{A:()=>g});var C=P(3982),H=P(4834);function g(lt){return!!lt&&(lt instanceof C.c||(0,H.T)(lt.lift)&&(0,H.T)(lt.subscribe))}},2373:(mn,ae,P)=>{"use strict";P.d(ae,{y:()=>H});var C=P(4834);function H(g){return(0,C.T)(g?.then)}},7481:(mn,ae,P)=>{"use strict";P.d(ae,{C:()=>g,U:()=>lt});var C=P(3460),H=P(4834);function g(ct){return(0,C.AQ)(this,arguments,function*(){const jt=ct.getReader();try{for(;;){const{value:It,done:pt}=yield(0,C.N3)(jt.read());if(pt)return yield(0,C.N3)(void 0);yield yield(0,C.N3)(It)}}finally{jt.releaseLock()}})}function lt(ct){return(0,H.T)(ct?.getReader)}},5805:(mn,ae,P)=>{"use strict";P.d(ae,{m:()=>H});var C=P(4834);function H(g){return g&&(0,C.T)(g.schedule)}},1531:(mn,ae,P)=>{"use strict";P.d(ae,{N:()=>g,S:()=>H});var C=P(4834);function H(lt){return(0,C.T)(lt?.lift)}function g(lt){return ct=>{if(H(ct))return ct.lift(function(it){try{return lt(it,this)}catch(jt){this.error(jt)}});throw new TypeError("Unable to lift unknown Observable type")}}},1963:(mn,ae,P)=>{"use strict";P.d(ae,{I:()=>lt});var C=P(8199);const{isArray:H}=Array;function lt(ct){return(0,C.T)(it=>function g(ct,it){return H(it)?ct(...it):ct(it)}(ct,it))}},1670:(mn,ae,P)=>{"use strict";function C(){}P.d(ae,{l:()=>C})},3754:(mn,ae,P)=>{"use strict";P.d(ae,{F:()=>H,m:()=>g});var C=P(7992);function H(...lt){return g(lt)}function g(lt){return 0===lt.length?C.D:1===lt.length?lt[0]:function(it){return lt.reduce((jt,It)=>It(jt),it)}}},6155:(mn,ae,P)=>{"use strict";P.d(ae,{m:()=>g});var C=P(1517),H=P(7547);function g(lt){H.f.setTimeout(()=>{const{onUnhandledError:ct}=C.$;if(!ct)throw lt;ct(lt)})}},9958:(mn,ae,P)=>{"use strict";function C(H){return new TypeError(`You provided ${null!==H&&"object"==typeof H?"an invalid object":`'${H}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(ae,{L:()=>C})},1732:(mn,ae,P)=>{"use strict";P.d(ae,{FX:()=>Te,If:()=>C,K2:()=>it,MA:()=>Pt,Os:()=>ct,P:()=>Ft,hZ:()=>g,i0:()=>lt,iF:()=>jt,kY:()=>bt,kp:()=>H,sf:()=>kt,ui:()=>pe,wk:()=>It});var C=function(oe){return oe[oe.State=0]="State",oe[oe.Transition=1]="Transition",oe[oe.Sequence=2]="Sequence",oe[oe.Group=3]="Group",oe[oe.Animate=4]="Animate",oe[oe.Keyframes=5]="Keyframes",oe[oe.Style=6]="Style",oe[oe.Trigger=7]="Trigger",oe[oe.Reference=8]="Reference",oe[oe.AnimateChild=9]="AnimateChild",oe[oe.AnimateRef=10]="AnimateRef",oe[oe.Query=11]="Query",oe[oe.Stagger=12]="Stagger",oe}(C||{});const H="*";function g(oe,Kt){return{type:C.Trigger,name:oe,definitions:Kt,options:{}}}function lt(oe,Kt=null){return{type:C.Animate,styles:Kt,timings:oe}}function ct(oe,Kt=null){return{type:C.Group,steps:oe,options:Kt}}function it(oe,Kt=null){return{type:C.Sequence,steps:oe,options:Kt}}function jt(oe){return{type:C.Style,styles:oe,offset:null}}function It(oe,Kt,Zt){return{type:C.State,name:oe,styles:Kt,options:Zt}}function bt(oe,Kt,Zt=null){return{type:C.Transition,expr:oe,animation:Kt,options:Zt}}function Pt(oe=null){return{type:C.AnimateChild,options:oe}}function Ft(oe,Kt,Zt=null){return{type:C.Query,selector:oe,animation:Kt,options:Zt}}class kt{constructor(Kt=0,Zt=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Kt+Zt}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Kt=>Kt()),this._onDoneFns=[])}onStart(Kt){this._originalOnStartFns.push(Kt),this._onStartFns.push(Kt)}onDone(Kt){this._originalOnDoneFns.push(Kt),this._onDoneFns.push(Kt)}onDestroy(Kt){this._onDestroyFns.push(Kt)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Kt=>Kt()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Kt=>Kt()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Kt){this._position=this.totalTime?Kt*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Kt){const Zt="start"==Kt?this._onStartFns:this._onDoneFns;Zt.forEach(ke=>ke()),Zt.length=0}}class pe{constructor(Kt){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Kt;let Zt=0,ke=0,De=0;const ge=this.players.length;0==ge?queueMicrotask(()=>this._onFinish()):this.players.forEach(Oe=>{Oe.onDone(()=>{++Zt==ge&&this._onFinish()}),Oe.onDestroy(()=>{++ke==ge&&this._onDestroy()}),Oe.onStart(()=>{++De==ge&&this._onStart()})}),this.totalTime=this.players.reduce((Oe,ee)=>Math.max(Oe,ee.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Kt=>Kt()),this._onDoneFns=[])}init(){this.players.forEach(Kt=>Kt.init())}onStart(Kt){this._onStartFns.push(Kt)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Kt=>Kt()),this._onStartFns=[])}onDone(Kt){this._onDoneFns.push(Kt)}onDestroy(Kt){this._onDestroyFns.push(Kt)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Kt=>Kt.play())}pause(){this.players.forEach(Kt=>Kt.pause())}restart(){this.players.forEach(Kt=>Kt.restart())}finish(){this._onFinish(),this.players.forEach(Kt=>Kt.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Kt=>Kt.destroy()),this._onDestroyFns.forEach(Kt=>Kt()),this._onDestroyFns=[])}reset(){this.players.forEach(Kt=>Kt.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Kt){const Zt=Kt*this.totalTime;this.players.forEach(ke=>{const De=ke.totalTime?Math.min(1,Zt/ke.totalTime):1;ke.setPosition(De)})}getPosition(){const Kt=this.players.reduce((Zt,ke)=>null===Zt||ke.totalTime>Zt.totalTime?ke:Zt,null);return null!=Kt?Kt.getPosition():0}beforeDestroy(){this.players.forEach(Kt=>{Kt.beforeDestroy&&Kt.beforeDestroy()})}triggerCallback(Kt){const Zt="start"==Kt?this._onStartFns:this._onDoneFns;Zt.forEach(ke=>ke()),Zt.length=0}}const Te="!"},6582:(mn,ae,P)=>{"use strict";P.d(ae,{Pd:()=>Ce,Au:()=>ut,vr:()=>ke,Bu:()=>ft,FN:()=>Ze,GX:()=>tn,Q_:()=>Gt,Z7:()=>fn,Ai:()=>Bn,px:()=>Ut,_G:()=>ie,w6:()=>be,Ae:()=>kt});var C=P(9284),H=P(4291),g=P(3823),lt=P(1071),ct=P(3479),jt=(P(7375),P(3204)),It=P(8093),pt=P(2675),bt=P(5044),At=P(2151),Pt=P(2647),yt=P(8199),Ht=(P(5910),P(2422)),ue=P(7569),ye=P(3796),rn=P(2959),_e=P(4498),Ke=P(3260);const Qt=" ";function Ut(Jt,$t,wt){const qt=pe(Jt,$t);wt=wt.trim(),!qt.some(Ve=>Ve.trim()===wt)&&(qt.push(wt),Jt.setAttribute($t,qt.join(Qt)))}function kt(Jt,$t,wt){const qt=pe(Jt,$t);wt=wt.trim();const Ve=qt.filter(Xe=>Xe!==wt);Ve.length?Jt.setAttribute($t,Ve.join(Qt)):Jt.removeAttribute($t)}function pe(Jt,$t){return Jt.getAttribute($t)?.match(/\S+/g)??[]}const oe="cdk-describedby-message",Kt="cdk-describedby-host";let Zt=0,ke=(()=>{class Jt{constructor(wt,qt){this._platform=qt,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+Zt++,this._document=wt,this._id=(0,H.WQX)(H.sZ2)+"-"+Zt++}describe(wt,qt,Ve){if(!this._canBeDescribed(wt,qt))return;const Xe=De(qt,Ve);"string"!=typeof qt?(ge(qt,this._id),this._messageRegistry.set(Xe,{messageElement:qt,referenceCount:0})):this._messageRegistry.has(Xe)||this._createMessageElement(qt,Ve),this._isElementDescribedByMessage(wt,Xe)||this._addMessageReference(wt,Xe)}removeDescription(wt,qt,Ve){if(!qt||!this._isElementNode(wt))return;const Xe=De(qt,Ve);if(this._isElementDescribedByMessage(wt,Xe)&&this._removeMessageReference(wt,Xe),"string"==typeof qt){const ai=this._messageRegistry.get(Xe);ai&&0===ai.referenceCount&&this._deleteMessageElement(Xe)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const wt=this._document.querySelectorAll(`[${Kt}="${this._id}"]`);for(let qt=0;qt<wt.length;qt++)this._removeCdkDescribedByReferenceIds(wt[qt]),wt[qt].removeAttribute(Kt);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(wt,qt){const Ve=this._document.createElement("div");ge(Ve,this._id),Ve.textContent=wt,qt&&Ve.setAttribute("role",qt),this._createMessagesContainer(),this._messagesContainer.appendChild(Ve),this._messageRegistry.set(De(wt,qt),{messageElement:Ve,referenceCount:0})}_deleteMessageElement(wt){this._messageRegistry.get(wt)?.messageElement?.remove(),this._messageRegistry.delete(wt)}_createMessagesContainer(){if(this._messagesContainer)return;const wt="cdk-describedby-message-container",qt=this._document.querySelectorAll(`.${wt}[platform="server"]`);for(let Xe=0;Xe<qt.length;Xe++)qt[Xe].remove();const Ve=this._document.createElement("div");Ve.style.visibility="hidden",Ve.classList.add(wt),Ve.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&Ve.setAttribute("platform","server"),this._document.body.appendChild(Ve),this._messagesContainer=Ve}_removeCdkDescribedByReferenceIds(wt){const qt=pe(wt,"aria-describedby").filter(Ve=>0!=Ve.indexOf(oe));wt.setAttribute("aria-describedby",qt.join(" "))}_addMessageReference(wt,qt){const Ve=this._messageRegistry.get(qt);Ut(wt,"aria-describedby",Ve.messageElement.id),wt.setAttribute(Kt,this._id),Ve.referenceCount++}_removeMessageReference(wt,qt){const Ve=this._messageRegistry.get(qt);Ve.referenceCount--,kt(wt,"aria-describedby",Ve.messageElement.id),wt.removeAttribute(Kt)}_isElementDescribedByMessage(wt,qt){const Ve=pe(wt,"aria-describedby"),Xe=this._messageRegistry.get(qt),ai=Xe&&Xe.messageElement.id;return!!ai&&-1!=Ve.indexOf(ai)}_canBeDescribed(wt,qt){if(!this._isElementNode(wt))return!1;if(qt&&"object"==typeof qt)return!0;const Ve=null==qt?"":`${qt}`.trim(),Xe=wt.getAttribute("aria-label");return!(!Ve||Xe&&Xe.trim()===Ve)}_isElementNode(wt){return wt.nodeType===this._document.ELEMENT_NODE}static#t=this.\u0275fac=function(qt){return new(qt||Jt)(H.KVO(C.qQ),H.KVO(g.OD))};static#e=this.\u0275prov=H.jDH({token:Jt,factory:Jt.\u0275fac,providedIn:"root"})}return Jt})();function De(Jt,$t){return"string"==typeof Jt?`${$t||""}/${Jt}`:Jt}function ge(Jt,$t){Jt.id||(Jt.id=`${oe}-${$t}-${Zt++}`)}class ee{constructor($t,wt){this._letterKeyStream=new lt.B,this._items=[],this._selectedItemIndex=-1,this._pressedLetters=[],this._selectedItem=new lt.B,this.selectedItem=this._selectedItem;const qt="number"==typeof wt?.debounceInterval?wt.debounceInterval:200;wt?.skipPredicate&&(this._skipPredicateFn=wt.skipPredicate),this.setItems($t),this._setupKeyHandler(qt)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex($t){this._selectedItemIndex=$t}setItems($t){this._items=$t}handleKey($t){const wt=$t.keyCode;$t.key&&1===$t.key.length?this._letterKeyStream.next($t.key.toLocaleUpperCase()):(wt>=pt.A&&wt<=pt.Z||wt>=pt.f2&&wt<=pt.bn)&&this._letterKeyStream.next(String.fromCharCode(wt))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler($t){this._letterKeyStream.pipe((0,bt.M)(wt=>this._pressedLetters.push(wt)),(0,At.B)($t),(0,Pt.p)(()=>this._pressedLetters.length>0),(0,yt.T)(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(wt=>{for(let qt=1;qt<this._items.length+1;qt++){const Xe=this._items[(this._selectedItemIndex+qt)%this._items.length];if(!this._skipPredicateFn?.(Xe)&&0===Xe.getLabel?.().toLocaleUpperCase().trim().indexOf(wt)){this._selectedItem.next(Xe);break}}this._pressedLetters=[]})}}class Ot{constructor($t,wt){this._items=$t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._typeaheadSubscription=ct.yU.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=qt=>qt.disabled,this.tabOut=new lt.B,this.change=new lt.B,$t instanceof H.rOR?this._itemChangesSubscription=$t.changes.subscribe(qt=>this._itemsChanged(qt.toArray())):(0,H.Hps)($t)&&(this._effectRef=(0,H.QZP)(()=>this._itemsChanged($t()),{injector:wt}))}skipPredicate($t){return this._skipPredicateFn=$t,this}withWrap($t=!0){return this._wrap=$t,this}withVerticalOrientation($t=!0){return this._vertical=$t,this}withHorizontalOrientation($t){return this._horizontal=$t,this}withAllowedModifierKeys($t){return this._allowedModifierKeys=$t,this}withTypeAhead($t=200){this._typeaheadSubscription.unsubscribe();const wt=this._getItemsArray();return this._typeahead=new ee(wt,{debounceInterval:"number"==typeof $t?$t:void 0,skipPredicate:qt=>this._skipPredicateFn(qt)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(qt=>{this.setActiveItem(qt)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd($t=!0){return this._homeAndEnd=$t,this}withPageUpDown($t=!0,wt=10){return this._pageUpAndDown={enabled:$t,delta:wt},this}setActiveItem($t){const wt=this._activeItem;this.updateActiveItem($t),this._activeItem!==wt&&this.change.next(this._activeItemIndex)}onKeydown($t){const wt=$t.keyCode,Ve=["altKey","ctrlKey","metaKey","shiftKey"].every(Xe=>!$t[Xe]||this._allowedModifierKeys.indexOf(Xe)>-1);switch(wt){case pt.wn:return void this.tabOut.next();case pt.n6:if(this._vertical&&Ve){this.setNextItemActive();break}return;case pt.i7:if(this._vertical&&Ve){this.setPreviousItemActive();break}return;case pt.LE:if(this._horizontal&&Ve){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case pt.UQ:if(this._horizontal&&Ve){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case pt.yZ:if(this._homeAndEnd&&Ve){this.setFirstItemActive();break}return;case pt.Kp:if(this._homeAndEnd&&Ve){this.setLastItemActive();break}return;case pt.w_:if(this._pageUpAndDown.enabled&&Ve){const Xe=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(Xe>0?Xe:0,1);break}return;case pt.dB:if(this._pageUpAndDown.enabled&&Ve){const Xe=this._activeItemIndex+this._pageUpAndDown.delta,ai=this._getItemsArray().length;this._setActiveItemByIndex(Xe<ai?Xe:ai-1,-1);break}return;default:return void((Ve||(0,pt.rp)($t,"shiftKey"))&&this._typeahead?.handleKey($t))}this._typeahead?.reset(),$t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem($t){const wt=this._getItemsArray(),qt="number"==typeof $t?$t:wt.indexOf($t);this._activeItem=wt[qt]??null,this._activeItemIndex=qt,this._typeahead?.setCurrentSelectedItemIndex(qt)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta($t){this._wrap?this._setActiveInWrapMode($t):this._setActiveInDefaultMode($t)}_setActiveInWrapMode($t){const wt=this._getItemsArray();for(let qt=1;qt<=wt.length;qt++){const Ve=(this._activeItemIndex+$t*qt+wt.length)%wt.length;if(!this._skipPredicateFn(wt[Ve]))return void this.setActiveItem(Ve)}}_setActiveInDefaultMode($t){this._setActiveItemByIndex(this._activeItemIndex+$t,$t)}_setActiveItemByIndex($t,wt){const qt=this._getItemsArray();if(qt[$t]){for(;this._skipPredicateFn(qt[$t]);)if(!qt[$t+=wt])return;this.setActiveItem($t)}}_getItemsArray(){return(0,H.Hps)(this._items)?this._items():this._items instanceof H.rOR?this._items.toArray():this._items}_itemsChanged($t){if(this._typeahead?.setItems($t),this._activeItem){const wt=$t.indexOf(this._activeItem);wt>-1&&wt!==this._activeItemIndex&&(this._activeItemIndex=wt,this._typeahead?.setCurrentSelectedItemIndex(wt))}}}class ut extends Ot{setActiveItem($t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem($t),this.activeItem&&this.activeItem.setActiveStyles()}}class ft extends Ot{constructor(){super(...arguments),this._origin="program"}setFocusOrigin($t){return this._origin=$t,this}setActiveItem($t){super.setActiveItem($t),this.activeItem&&this.activeItem.focus(this._origin)}}let fn=(()=>{class Jt{constructor(wt){this._platform=wt}isDisabled(wt){return wt.hasAttribute("disabled")}isVisible(wt){return function Ri(Jt){return!!(Jt.offsetWidth||Jt.offsetHeight||"function"==typeof Jt.getClientRects&&Jt.getClientRects().length)}(wt)&&"visible"===getComputedStyle(wt).visibility}isTabbable(wt){if(!this._platform.isBrowser)return!1;const qt=function Un(Jt){try{return Jt.frameElement}catch{return null}}(function kr(Jt){return Jt.ownerDocument&&Jt.ownerDocument.defaultView||window}(wt));if(qt&&(-1===Tn(qt)||!this.isVisible(qt)))return!1;let Ve=wt.nodeName.toLowerCase(),Xe=Tn(wt);return wt.hasAttribute("contenteditable")?-1!==Xe:!("iframe"===Ve||"object"===Ve||this._platform.WEBKIT&&this._platform.IOS&&!function er(Jt){let $t=Jt.nodeName.toLowerCase(),wt="input"===$t&&Jt.type;return"text"===wt||"password"===wt||"select"===$t||"textarea"===$t}(wt))&&("audio"===Ve?!!wt.hasAttribute("controls")&&-1!==Xe:"video"===Ve?-1!==Xe&&(null!==Xe||this._platform.FIREFOX||wt.hasAttribute("controls")):wt.tabIndex>=0)}isFocusable(wt,qt){return function ur(Jt){return!function ci(Jt){return function Li(Jt){return"input"==Jt.nodeName.toLowerCase()}(Jt)&&"hidden"==Jt.type}(Jt)&&(function Fn(Jt){let $t=Jt.nodeName.toLowerCase();return"input"===$t||"select"===$t||"button"===$t||"textarea"===$t}(Jt)||function Di(Jt){return function Ni(Jt){return"a"==Jt.nodeName.toLowerCase()}(Jt)&&Jt.hasAttribute("href")}(Jt)||Jt.hasAttribute("contenteditable")||Vi(Jt))}(wt)&&!this.isDisabled(wt)&&(qt?.ignoreVisibility||this.isVisible(wt))}static#t=this.\u0275fac=function(qt){return new(qt||Jt)(H.KVO(g.OD))};static#e=this.\u0275prov=H.jDH({token:Jt,factory:Jt.\u0275fac,providedIn:"root"})}return Jt})();function Vi(Jt){if(!Jt.hasAttribute("tabindex")||void 0===Jt.tabIndex)return!1;let $t=Jt.getAttribute("tabindex");return!(!$t||isNaN(parseInt($t,10)))}function Tn(Jt){if(!Vi(Jt))return null;const $t=parseInt(Jt.getAttribute("tabindex")||"",10);return isNaN($t)?-1:$t}class Ir{get enabled(){return this._enabled}set enabled($t){this._enabled=$t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex($t,this._startAnchor),this._toggleAnchorTabIndex($t,this._endAnchor))}constructor($t,wt,qt,Ve,Xe=!1,ai){this._element=$t,this._checker=wt,this._ngZone=qt,this._document=Ve,this._injector=ai,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,Xe||this.attachAnchors()}destroy(){const $t=this._startAnchor,wt=this._endAnchor;$t&&($t.removeEventListener("focus",this.startAnchorListener),$t.remove()),wt&&(wt.removeEventListener("focus",this.endAnchorListener),wt.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady($t){return new Promise(wt=>{this._executeOnStable(()=>wt(this.focusInitialElement($t)))})}focusFirstTabbableElementWhenReady($t){return new Promise(wt=>{this._executeOnStable(()=>wt(this.focusFirstTabbableElement($t)))})}focusLastTabbableElementWhenReady($t){return new Promise(wt=>{this._executeOnStable(()=>wt(this.focusLastTabbableElement($t)))})}_getRegionBoundary($t){const wt=this._element.querySelectorAll(`[cdk-focus-region-${$t}], [cdkFocusRegion${$t}], [cdk-focus-${$t}]`);return"start"==$t?wt.length?wt[0]:this._getFirstTabbableElement(this._element):wt.length?wt[wt.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement($t){const wt=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(wt){if(!this._checker.isFocusable(wt)){const qt=this._getFirstTabbableElement(wt);return qt?.focus($t),!!qt}return wt.focus($t),!0}return this.focusFirstTabbableElement($t)}focusFirstTabbableElement($t){const wt=this._getRegionBoundary("start");return wt&&wt.focus($t),!!wt}focusLastTabbableElement($t){const wt=this._getRegionBoundary("end");return wt&&wt.focus($t),!!wt}hasAttached(){return this._hasAttached}_getFirstTabbableElement($t){if(this._checker.isFocusable($t)&&this._checker.isTabbable($t))return $t;const wt=$t.children;for(let qt=0;qt<wt.length;qt++){const Ve=wt[qt].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(wt[qt]):null;if(Ve)return Ve}return null}_getLastTabbableElement($t){if(this._checker.isFocusable($t)&&this._checker.isTabbable($t))return $t;const wt=$t.children;for(let qt=wt.length-1;qt>=0;qt--){const Ve=wt[qt].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(wt[qt]):null;if(Ve)return Ve}return null}_createAnchor(){const $t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,$t),$t.classList.add("cdk-visually-hidden"),$t.classList.add("cdk-focus-trap-anchor"),$t.setAttribute("aria-hidden","true"),$t}_toggleAnchorTabIndex($t,wt){$t?wt.setAttribute("tabindex","0"):wt.removeAttribute("tabindex")}toggleAnchors($t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex($t,this._startAnchor),this._toggleAnchorTabIndex($t,this._endAnchor))}_executeOnStable($t){this._injector?(0,H.mal)($t,{injector:this._injector}):setTimeout($t)}}let tn=(()=>{class Jt{constructor(wt,qt,Ve){this._checker=wt,this._ngZone=qt,this._injector=(0,H.WQX)(H.zZn),this._document=Ve}create(wt,qt=!1){return new Ir(wt,this._checker,this._ngZone,this._document,qt,this._injector)}static#t=this.\u0275fac=function(qt){return new(qt||Jt)(H.KVO(fn),H.KVO(H.SKi),H.KVO(C.qQ))};static#e=this.\u0275prov=H.jDH({token:Jt,factory:Jt.\u0275fac,providedIn:"root"})}return Jt})();function ie(Jt){return 0===Jt.buttons||0===Jt.detail}function be(Jt){const $t=Jt.touches&&Jt.touches[0]||Jt.changedTouches&&Jt.changedTouches[0];return!(!$t||-1!==$t.identifier||null!=$t.radiusX&&1!==$t.radiusX||null!=$t.radiusY&&1!==$t.radiusY)}const je=new H.nKC("cdk-input-modality-detector-options"),on={ignoreKeys:[pt.A$,pt.W3,pt.eg,pt.Ge,pt.FX]},si=(0,g.BQ)({passive:!0,capture:!0});let xe=(()=>{class Jt{get mostRecentModality(){return this._modality.value}constructor(wt,qt,Ve,Xe){this._platform=wt,this._mostRecentTarget=null,this._modality=new It.t(null),this._lastTouchMs=0,this._onKeydown=ai=>{this._options?.ignoreKeys?.some(Ur=>Ur===ai.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,g.Fb)(ai))},this._onMousedown=ai=>{Date.now()-this._lastTouchMs<650||(this._modality.next(ie(ai)?"keyboard":"mouse"),this._mostRecentTarget=(0,g.Fb)(ai))},this._onTouchstart=ai=>{be(ai)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,g.Fb)(ai))},this._options={...on,...Xe},this.modalityDetected=this._modality.pipe((0,Ht.i)(1)),this.modalityChanged=this.modalityDetected.pipe((0,ue.F)()),wt.isBrowser&&qt.runOutsideAngular(()=>{Ve.addEventListener("keydown",this._onKeydown,si),Ve.addEventListener("mousedown",this._onMousedown,si),Ve.addEventListener("touchstart",this._onTouchstart,si)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,si),document.removeEventListener("mousedown",this._onMousedown,si),document.removeEventListener("touchstart",this._onTouchstart,si))}static#t=this.\u0275fac=function(qt){return new(qt||Jt)(H.KVO(g.OD),H.KVO(H.SKi),H.KVO(C.qQ),H.KVO(je,8))};static#e=this.\u0275prov=H.jDH({token:Jt,factory:Jt.\u0275fac,providedIn:"root"})}return Jt})();const pn=new H.nKC("liveAnnouncerElement",{providedIn:"root",factory:function en(){return null}}),yn=new H.nKC("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let $e=0,Bn=(()=>{class Jt{constructor(wt,qt,Ve,Xe){this._ngZone=qt,this._defaultOptions=Xe,this._document=Ve,this._liveElement=wt||this._createLiveElement()}announce(wt,...qt){const Ve=this._defaultOptions;let Xe,ai;return 1===qt.length&&"number"==typeof qt[0]?ai=qt[0]:[Xe,ai]=qt,this.clear(),clearTimeout(this._previousTimeout),Xe||(Xe=Ve&&Ve.politeness?Ve.politeness:"polite"),null==ai&&Ve&&(ai=Ve.duration),this._liveElement.setAttribute("aria-live",Xe),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(Ur=>this._currentResolve=Ur)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=wt,"number"==typeof ai&&(this._previousTimeout=setTimeout(()=>this.clear(),ai)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const wt="cdk-live-announcer-element",qt=this._document.getElementsByClassName(wt),Ve=this._document.createElement("div");for(let Xe=0;Xe<qt.length;Xe++)qt[Xe].remove();return Ve.classList.add(wt),Ve.classList.add("cdk-visually-hidden"),Ve.setAttribute("aria-atomic","true"),Ve.setAttribute("aria-live","polite"),Ve.id="cdk-live-announcer-"+$e++,this._document.body.appendChild(Ve),Ve}_exposeAnnouncerToModals(wt){const qt=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let Ve=0;Ve<qt.length;Ve++){const Xe=qt[Ve],ai=Xe.getAttribute("aria-owns");ai?-1===ai.indexOf(wt)&&Xe.setAttribute("aria-owns",ai+" "+wt):Xe.setAttribute("aria-owns",wt)}}static#t=this.\u0275fac=function(qt){return new(qt||Jt)(H.KVO(pn,8),H.KVO(H.SKi),H.KVO(C.qQ),H.KVO(yn,8))};static#e=this.\u0275prov=H.jDH({token:Jt,factory:Jt.\u0275fac,providedIn:"root"})}return Jt})();var Tt=function(Jt){return Jt[Jt.IMMEDIATE=0]="IMMEDIATE",Jt[Jt.EVENTUAL=1]="EVENTUAL",Jt}(Tt||{});const vt=new H.nKC("cdk-focus-monitor-default-options"),Lt=(0,g.BQ)({passive:!0,capture:!0});let Ze=(()=>{class Jt{constructor(wt,qt,Ve,Xe,ai){this._ngZone=wt,this._platform=qt,this._inputModalityDetector=Ve,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new lt.B,this._rootNodeFocusAndBlurListener=Ur=>{for(let no=(0,g.Fb)(Ur);no;no=no.parentElement)"focus"===Ur.type?this._onFocus(Ur,no):this._onBlur(Ur,no)},this._document=Xe,this._detectionMode=ai?.detectionMode||Tt.IMMEDIATE}monitor(wt,qt=!1){const Ve=(0,_e.i8)(wt);if(!this._platform.isBrowser||1!==Ve.nodeType)return(0,jt.of)();const Xe=(0,g.KT)(Ve)||this._getDocument(),ai=this._elementInfo.get(Ve);if(ai)return qt&&(ai.checkChildren=!0),ai.subject;const Ur={checkChildren:qt,subject:new lt.B,rootNode:Xe};return this._elementInfo.set(Ve,Ur),this._registerGlobalListeners(Ur),Ur.subject}stopMonitoring(wt){const qt=(0,_e.i8)(wt),Ve=this._elementInfo.get(qt);Ve&&(Ve.subject.complete(),this._setClasses(qt),this._elementInfo.delete(qt),this._removeGlobalListeners(Ve))}focusVia(wt,qt,Ve){const Xe=(0,_e.i8)(wt);Xe===this._getDocument().activeElement?this._getClosestElementsInfo(Xe).forEach(([Ur,uo])=>this._originChanged(Ur,qt,uo)):(this._setOrigin(qt),"function"==typeof Xe.focus&&Xe.focus(Ve))}ngOnDestroy(){this._elementInfo.forEach((wt,qt)=>this.stopMonitoring(qt))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(wt){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(wt)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:wt&&this._isLastInteractionFromInputLabel(wt)?"mouse":"program"}_shouldBeAttributedToTouch(wt){return this._detectionMode===Tt.EVENTUAL||!!wt?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(wt,qt){wt.classList.toggle("cdk-focused",!!qt),wt.classList.toggle("cdk-touch-focused","touch"===qt),wt.classList.toggle("cdk-keyboard-focused","keyboard"===qt),wt.classList.toggle("cdk-mouse-focused","mouse"===qt),wt.classList.toggle("cdk-program-focused","program"===qt)}_setOrigin(wt,qt=!1){this._ngZone.runOutsideAngular(()=>{this._origin=wt,this._originFromTouchInteraction="touch"===wt&&qt,this._detectionMode===Tt.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(wt,qt){const Ve=this._elementInfo.get(qt),Xe=(0,g.Fb)(wt);!Ve||!Ve.checkChildren&&qt!==Xe||this._originChanged(qt,this._getFocusOrigin(Xe),Ve)}_onBlur(wt,qt){const Ve=this._elementInfo.get(qt);!Ve||Ve.checkChildren&&wt.relatedTarget instanceof Node&&qt.contains(wt.relatedTarget)||(this._setClasses(qt),this._emitOrigin(Ve,null))}_emitOrigin(wt,qt){wt.subject.observers.length&&this._ngZone.run(()=>wt.subject.next(qt))}_registerGlobalListeners(wt){if(!this._platform.isBrowser)return;const qt=wt.rootNode,Ve=this._rootNodeFocusListenerCount.get(qt)||0;Ve||this._ngZone.runOutsideAngular(()=>{qt.addEventListener("focus",this._rootNodeFocusAndBlurListener,Lt),qt.addEventListener("blur",this._rootNodeFocusAndBlurListener,Lt)}),this._rootNodeFocusListenerCount.set(qt,Ve+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,ye.Q)(this._stopInputModalityDetector)).subscribe(Xe=>{this._setOrigin(Xe,!0)}))}_removeGlobalListeners(wt){const qt=wt.rootNode;if(this._rootNodeFocusListenerCount.has(qt)){const Ve=this._rootNodeFocusListenerCount.get(qt);Ve>1?this._rootNodeFocusListenerCount.set(qt,Ve-1):(qt.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Lt),qt.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Lt),this._rootNodeFocusListenerCount.delete(qt))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(wt,qt,Ve){this._setClasses(wt,qt),this._emitOrigin(Ve,qt),this._lastFocusOrigin=qt}_getClosestElementsInfo(wt){const qt=[];return this._elementInfo.forEach((Ve,Xe)=>{(Xe===wt||Ve.checkChildren&&Xe.contains(wt))&&qt.push([Xe,Ve])}),qt}_isLastInteractionFromInputLabel(wt){const{_mostRecentTarget:qt,mostRecentModality:Ve}=this._inputModalityDetector;if("mouse"!==Ve||!qt||qt===wt||"INPUT"!==wt.nodeName&&"TEXTAREA"!==wt.nodeName||wt.disabled)return!1;const Xe=wt.labels;if(Xe)for(let ai=0;ai<Xe.length;ai++)if(Xe[ai].contains(qt))return!0;return!1}static#t=this.\u0275fac=function(qt){return new(qt||Jt)(H.KVO(H.SKi),H.KVO(g.OD),H.KVO(xe),H.KVO(C.qQ,8),H.KVO(vt,8))};static#e=this.\u0275prov=H.jDH({token:Jt,factory:Jt.\u0275fac,providedIn:"root"})}return Jt})();var ei=function(Jt){return Jt[Jt.NONE=0]="NONE",Jt[Jt.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",Jt[Jt.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",Jt}(ei||{});const bi="cdk-high-contrast-black-on-white",Fe="cdk-high-contrast-white-on-black",Me="cdk-high-contrast-active";let Gt=(()=>{class Jt{constructor(wt,qt){this._platform=wt,this._document=qt,this._breakpointSubscription=(0,H.WQX)(Ke.QP).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return ei.NONE;const wt=this._document.createElement("div");wt.style.backgroundColor="rgb(1,2,3)",wt.style.position="absolute",this._document.body.appendChild(wt);const qt=this._document.defaultView||window,Ve=qt&&qt.getComputedStyle?qt.getComputedStyle(wt):null,Xe=(Ve&&Ve.backgroundColor||"").replace(/ /g,"");switch(wt.remove(),Xe){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return ei.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return ei.BLACK_ON_WHITE}return ei.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const wt=this._document.body.classList;wt.remove(Me,bi,Fe),this._hasCheckedHighContrastMode=!0;const qt=this.getHighContrastMode();qt===ei.BLACK_ON_WHITE?wt.add(Me,bi):qt===ei.WHITE_ON_BLACK&&wt.add(Me,Fe)}}static#t=this.\u0275fac=function(qt){return new(qt||Jt)(H.KVO(g.OD),H.KVO(C.qQ))};static#e=this.\u0275prov=H.jDH({token:Jt,factory:Jt.\u0275fac,providedIn:"root"})}return Jt})(),Ce=(()=>{class Jt{constructor(wt){wt._applyBodyHighContrastModeCssClasses()}static#t=this.\u0275fac=function(qt){return new(qt||Jt)(H.KVO(Gt))};static#e=this.\u0275mod=H.$C({type:Jt});static#n=this.\u0275inj=H.G2t({imports:[rn.w5]})}return Jt})()},4700:(mn,ae,P)=>{"use strict";P.d(ae,{dS:()=>jt,jI:()=>pt});var C=P(4291),H=P(9284);const g=new C.nKC("cdk-dir-doc",{providedIn:"root",factory:function lt(){return(0,C.WQX)(H.qQ)}}),ct=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let jt=(()=>{class bt{constructor(Pt){this.value="ltr",this.change=new C.bkB,Pt&&(this.value=function it(bt){const At=bt?.toLowerCase()||"";return"auto"===At&&typeof navigator<"u"&&navigator?.language?ct.test(navigator.language)?"rtl":"ltr":"rtl"===At?"rtl":"ltr"}((Pt.body?Pt.body.dir:null)||(Pt.documentElement?Pt.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#t=this.\u0275fac=function(yt){return new(yt||bt)(C.KVO(g,8))};static#e=this.\u0275prov=C.jDH({token:bt,factory:bt.\u0275fac,providedIn:"root"})}return bt})(),pt=(()=>{class bt{static#t=this.\u0275fac=function(yt){return new(yt||bt)};static#e=this.\u0275mod=C.$C({type:bt});static#n=this.\u0275inj=C.G2t({})}return bt})()},4498:(mn,ae,P)=>{"use strict";P.d(ae,{FG:()=>ct,OE:()=>g,a1:()=>it,he:()=>H,i8:()=>jt});var C=P(4291);function H(pt){return null!=pt&&"false"!=`${pt}`}function g(pt,bt=0){return function lt(pt){return!isNaN(parseFloat(pt))&&!isNaN(Number(pt))}(pt)?Number(pt):2===arguments.length?bt:0}function ct(pt){return Array.isArray(pt)?pt:[pt]}function it(pt){return null==pt?"":"string"==typeof pt?pt:`${pt}px`}function jt(pt){return pt instanceof C.aKT?pt.nativeElement:pt}},2675:(mn,ae,P)=>{"use strict";P.d(ae,{A:()=>ot,A$:()=>It,FX:()=>it,Fm:()=>ct,Ge:()=>Wt,Kp:()=>Ht,LE:()=>rn,UQ:()=>ye,W3:()=>jt,Z:()=>Ge,_f:()=>At,bn:()=>ee,dB:()=>Ft,eg:()=>bn,f2:()=>pe,i7:()=>Le,n6:()=>_e,rp:()=>Pn,t6:()=>Pt,w_:()=>yt,wn:()=>g,yZ:()=>ue});const g=9,ct=13,it=16,jt=17,It=18,At=27,Pt=32,yt=33,Ft=34,Ht=35,ue=36,ye=37,Le=38,rn=39,_e=40,pe=48,ee=57,ot=65,Ge=90,Wt=91,bn=224;function Pn(Rn,...Ei){return Ei.length?Ei.some(Ci=>Rn[Ci]):Rn.altKey||Rn.shiftKey||Rn.ctrlKey||Rn.metaKey}},3260:(mn,ae,P)=>{"use strict";P.d(ae,{QP:()=>_e,Rp:()=>Qt});var C=P(4291),H=P(4498),g=P(1071),lt=P(103),ct=P(3279),it=P(3982),jt=P(5910),It=P(2422),pt=P(2151),bt=P(8199),At=P(613),Pt=P(3796),yt=P(3823);const Ht=new Set;let ue,ye=(()=>{class Ut{constructor(pe,Te){this._platform=pe,this._nonce=Te,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):rn}matchMedia(pe){return(this._platform.WEBKIT||this._platform.BLINK)&&function Le(Ut,kt){if(!Ht.has(Ut))try{ue||(ue=document.createElement("style"),kt&&ue.setAttribute("nonce",kt),ue.setAttribute("type","text/css"),document.head.appendChild(ue)),ue.sheet&&(ue.sheet.insertRule(`@media ${Ut} {body{ }}`,0),Ht.add(Ut))}catch(pe){console.error(pe)}}(pe,this._nonce),this._matchMedia(pe)}static#t=this.\u0275fac=function(Te){return new(Te||Ut)(C.KVO(yt.OD),C.KVO(C.BIS,8))};static#e=this.\u0275prov=C.jDH({token:Ut,factory:Ut.\u0275fac,providedIn:"root"})}return Ut})();function rn(Ut){return{matches:"all"===Ut||""===Ut,media:Ut,addListener:()=>{},removeListener:()=>{}}}let _e=(()=>{class Ut{constructor(pe,Te){this._mediaMatcher=pe,this._zone=Te,this._queries=new Map,this._destroySubject=new g.B}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(pe){return Ke((0,H.FG)(pe)).some(oe=>this._registerQuery(oe).mql.matches)}observe(pe){const oe=Ke((0,H.FG)(pe)).map(Zt=>this._registerQuery(Zt).observable);let Kt=(0,lt.z)(oe);return Kt=(0,ct.x)(Kt.pipe((0,jt.s)(1)),Kt.pipe((0,It.i)(1),(0,pt.B)(0))),Kt.pipe((0,bt.T)(Zt=>{const ke={matches:!1,breakpoints:{}};return Zt.forEach(({matches:De,query:ge})=>{ke.matches=ke.matches||De,ke.breakpoints[ge]=De}),ke}))}_registerQuery(pe){if(this._queries.has(pe))return this._queries.get(pe);const Te=this._mediaMatcher.matchMedia(pe),Kt={observable:new it.c(Zt=>{const ke=De=>this._zone.run(()=>Zt.next(De));return Te.addListener(ke),()=>{Te.removeListener(ke)}}).pipe((0,At.Z)(Te),(0,bt.T)(({matches:Zt})=>({query:pe,matches:Zt})),(0,Pt.Q)(this._destroySubject)),mql:Te};return this._queries.set(pe,Kt),Kt}static#t=this.\u0275fac=function(Te){return new(Te||Ut)(C.KVO(ye),C.KVO(C.SKi))};static#e=this.\u0275prov=C.jDH({token:Ut,factory:Ut.\u0275fac,providedIn:"root"})}return Ut})();function Ke(Ut){return Ut.map(kt=>kt.split(",")).reduce((kt,pe)=>kt.concat(pe)).map(kt=>kt.trim())}const Qt={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},2959:(mn,ae,P)=>{"use strict";P.d(ae,{Wv:()=>At,w5:()=>Pt});var C=P(4498),H=P(4291),g=P(3982),lt=P(1071),ct=P(8199),it=P(2647),jt=P(2151);let pt=(()=>{class yt{create(Ht){return typeof MutationObserver>"u"?null:new MutationObserver(Ht)}static#t=this.\u0275fac=function(ue){return new(ue||yt)};static#e=this.\u0275prov=H.jDH({token:yt,factory:yt.\u0275fac,providedIn:"root"})}return yt})(),bt=(()=>{class yt{constructor(Ht){this._mutationObserverFactory=Ht,this._observedElements=new Map,this._ngZone=(0,H.WQX)(H.SKi)}ngOnDestroy(){this._observedElements.forEach((Ht,ue)=>this._cleanupObserver(ue))}observe(Ht){const ue=(0,C.i8)(Ht);return new g.c(ye=>{const rn=this._observeElement(ue).pipe((0,ct.T)(_e=>_e.filter(Ke=>!function It(yt){if("characterData"===yt.type&&yt.target instanceof Comment)return!0;if("childList"===yt.type){for(let Ft=0;Ft<yt.addedNodes.length;Ft++)if(!(yt.addedNodes[Ft]instanceof Comment))return!1;for(let Ft=0;Ft<yt.removedNodes.length;Ft++)if(!(yt.removedNodes[Ft]instanceof Comment))return!1;return!0}return!1}(Ke))),(0,it.p)(_e=>!!_e.length)).subscribe(_e=>{this._ngZone.run(()=>{ye.next(_e)})});return()=>{rn.unsubscribe(),this._unobserveElement(ue)}})}_observeElement(Ht){return this._ngZone.runOutsideAngular(()=>{if(this._observedElements.has(Ht))this._observedElements.get(Ht).count++;else{const ue=new lt.B,ye=this._mutationObserverFactory.create(Le=>ue.next(Le));ye&&ye.observe(Ht,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(Ht,{observer:ye,stream:ue,count:1})}return this._observedElements.get(Ht).stream})}_unobserveElement(Ht){this._observedElements.has(Ht)&&(this._observedElements.get(Ht).count--,this._observedElements.get(Ht).count||this._cleanupObserver(Ht))}_cleanupObserver(Ht){if(this._observedElements.has(Ht)){const{observer:ue,stream:ye}=this._observedElements.get(Ht);ue&&ue.disconnect(),ye.complete(),this._observedElements.delete(Ht)}}static#t=this.\u0275fac=function(ue){return new(ue||yt)(H.KVO(pt))};static#e=this.\u0275prov=H.jDH({token:yt,factory:yt.\u0275fac,providedIn:"root"})}return yt})(),At=(()=>{class yt{get disabled(){return this._disabled}set disabled(Ht){this._disabled=Ht,this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(Ht){this._debounce=(0,C.OE)(Ht),this._subscribe()}constructor(Ht,ue){this._contentObserver=Ht,this._elementRef=ue,this.event=new H.bkB,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const Ht=this._contentObserver.observe(this._elementRef);this._currentSubscription=(this.debounce?Ht.pipe((0,jt.B)(this.debounce)):Ht).subscribe(this.event)}_unsubscribe(){this._currentSubscription?.unsubscribe()}static#t=this.\u0275fac=function(ue){return new(ue||yt)(H.rXU(bt),H.rXU(H.aKT))};static#e=this.\u0275dir=H.FsC({type:yt,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[2,"cdkObserveContentDisabled","disabled",H.L39],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"],standalone:!0,features:[H.GFd]})}return yt})(),Pt=(()=>{class yt{static#t=this.\u0275fac=function(ue){return new(ue||yt)};static#e=this.\u0275mod=H.$C({type:yt});static#n=this.\u0275inj=H.G2t({providers:[pt]})}return yt})()},3788:(mn,ae,P)=>{"use strict";P.d(ae,{WB:()=>Tn,$Q:()=>Vi,hJ:()=>Di,rR:()=>Te,Sf:()=>ut,Jr:()=>Oe,z_:()=>kr,hr:()=>ee,lF:()=>Fn,yY:()=>ft,Tv:()=>pe});var C=P(9755),H=P(9284),g=P(4291),lt=P(4498),ct=P(3823),it=P(2647),jt=P(3796),It=P(1531),pt=P(1391),At=P(4700),Pt=P(3068),yt=P(1071),Ft=P(3479),Ht=P(8169),ue=P(2675);const ye=(0,ct.CZ)();class Le{constructor(mt,Nt){this._viewportRuler=mt,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=Nt}attach(){}enable(){if(this._canBeEnabled()){const mt=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=mt.style.left||"",this._previousHTMLStyles.top=mt.style.top||"",mt.style.left=(0,lt.a1)(-this._previousScrollPosition.left),mt.style.top=(0,lt.a1)(-this._previousScrollPosition.top),mt.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const mt=this._document.documentElement,fe=mt.style,Ge=this._document.body.style,Wt=fe.scrollBehavior||"",qe=Ge.scrollBehavior||"";this._isEnabled=!1,fe.left=this._previousHTMLStyles.left,fe.top=this._previousHTMLStyles.top,mt.classList.remove("cdk-global-scrollblock"),ye&&(fe.scrollBehavior=Ge.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),ye&&(fe.scrollBehavior=Wt,Ge.scrollBehavior=qe)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const Nt=this._document.body,fe=this._viewportRuler.getViewportSize();return Nt.scrollHeight>fe.height||Nt.scrollWidth>fe.width}}class _e{constructor(mt,Nt,fe,Ge){this._scrollDispatcher=mt,this._ngZone=Nt,this._viewportRuler=fe,this._config=Ge,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(mt){this._overlayRef=mt}enable(){if(this._scrollSubscription)return;const mt=this._scrollDispatcher.scrolled(0).pipe((0,it.p)(Nt=>!Nt||!this._overlayRef.overlayElement.contains(Nt.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=mt.subscribe(()=>{const Nt=this._viewportRuler.getViewportScrollPosition().top;Math.abs(Nt-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=mt.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Ke{enable(){}disable(){}attach(){}}function Qt(tn,mt){return mt.some(Nt=>tn.bottom<Nt.top||tn.top>Nt.bottom||tn.right<Nt.left||tn.left>Nt.right)}function Ut(tn,mt){return mt.some(Nt=>tn.top<Nt.top||tn.bottom>Nt.bottom||tn.left<Nt.left||tn.right>Nt.right)}class kt{constructor(mt,Nt,fe,Ge){this._scrollDispatcher=mt,this._viewportRuler=Nt,this._ngZone=fe,this._config=Ge,this._scrollSubscription=null}attach(mt){this._overlayRef=mt}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const Nt=this._overlayRef.overlayElement.getBoundingClientRect(),{width:fe,height:Ge}=this._viewportRuler.getViewportSize();Qt(Nt,[{width:fe,height:Ge,bottom:Ge,right:fe,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let pe=(()=>{class tn{constructor(Nt,fe,Ge,Wt){this._scrollDispatcher=Nt,this._viewportRuler=fe,this._ngZone=Ge,this.noop=()=>new Ke,this.close=qe=>new _e(this._scrollDispatcher,this._ngZone,this._viewportRuler,qe),this.block=()=>new Le(this._viewportRuler,this._document),this.reposition=qe=>new kt(this._scrollDispatcher,this._viewportRuler,this._ngZone,qe),this._document=Wt}static#t=this.\u0275fac=function(fe){return new(fe||tn)(g.KVO(C.R),g.KVO(C.Xj),g.KVO(g.SKi),g.KVO(H.qQ))};static#e=this.\u0275prov=g.jDH({token:tn,factory:tn.\u0275fac,providedIn:"root"})}return tn})();class Te{constructor(mt){if(this.scrollStrategy=new Ke,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,mt){const Nt=Object.keys(mt);for(const fe of Nt)void 0!==mt[fe]&&(this[fe]=mt[fe])}}}class Zt{constructor(mt,Nt){this.connectionPair=mt,this.scrollableViewProperties=Nt}}let ge=(()=>{class tn{constructor(Nt){this._attachedOverlays=[],this._document=Nt}ngOnDestroy(){this.detach()}add(Nt){this.remove(Nt),this._attachedOverlays.push(Nt)}remove(Nt){const fe=this._attachedOverlays.indexOf(Nt);fe>-1&&this._attachedOverlays.splice(fe,1),0===this._attachedOverlays.length&&this.detach()}static#t=this.\u0275fac=function(fe){return new(fe||tn)(g.KVO(H.qQ))};static#e=this.\u0275prov=g.jDH({token:tn,factory:tn.\u0275fac,providedIn:"root"})}return tn})(),Oe=(()=>{class tn extends ge{constructor(Nt,fe){super(Nt),this._ngZone=fe,this._keydownListener=Ge=>{const Wt=this._attachedOverlays;for(let qe=Wt.length-1;qe>-1;qe--)if(Wt[qe]._keydownEvents.observers.length>0){const ie=Wt[qe]._keydownEvents;this._ngZone?this._ngZone.run(()=>ie.next(Ge)):ie.next(Ge);break}}}add(Nt){super.add(Nt),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#t=this.\u0275fac=function(fe){return new(fe||tn)(g.KVO(H.qQ),g.KVO(g.SKi,8))};static#e=this.\u0275prov=g.jDH({token:tn,factory:tn.\u0275fac,providedIn:"root"})}return tn})(),ee=(()=>{class tn extends ge{constructor(Nt,fe,Ge){super(Nt),this._platform=fe,this._ngZone=Ge,this._cursorStyleIsSet=!1,this._pointerDownListener=Wt=>{this._pointerDownEventTarget=(0,ct.Fb)(Wt)},this._clickListener=Wt=>{const qe=(0,ct.Fb)(Wt),ie="click"===Wt.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:qe;this._pointerDownEventTarget=null;const be=this._attachedOverlays.slice();for(let je=be.length-1;je>-1;je--){const on=be[je];if(on._outsidePointerEvents.observers.length<1||!on.hasAttached())continue;if(Ot(on.overlayElement,qe)||Ot(on.overlayElement,ie))break;const Sn=on._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>Sn.next(Wt)):Sn.next(Wt)}}}add(Nt){if(super.add(Nt),!this._isAttached){const fe=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(fe)):this._addEventListeners(fe),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=fe.style.cursor,fe.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const Nt=this._document.body;Nt.removeEventListener("pointerdown",this._pointerDownListener,!0),Nt.removeEventListener("click",this._clickListener,!0),Nt.removeEventListener("auxclick",this._clickListener,!0),Nt.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(Nt.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(Nt){Nt.addEventListener("pointerdown",this._pointerDownListener,!0),Nt.addEventListener("click",this._clickListener,!0),Nt.addEventListener("auxclick",this._clickListener,!0),Nt.addEventListener("contextmenu",this._clickListener,!0)}static#t=this.\u0275fac=function(fe){return new(fe||tn)(g.KVO(H.qQ),g.KVO(ct.OD),g.KVO(g.SKi,8))};static#e=this.\u0275prov=g.jDH({token:tn,factory:tn.\u0275fac,providedIn:"root"})}return tn})();function Ot(tn,mt){const Nt=typeof ShadowRoot<"u"&&ShadowRoot;let fe=mt;for(;fe;){if(fe===tn)return!0;fe=Nt&&fe instanceof ShadowRoot?fe.host:fe.parentNode}return!1}let ut=(()=>{class tn{constructor(Nt,fe){this._platform=fe,this._document=Nt}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Nt="cdk-overlay-container";if(this._platform.isBrowser||(0,ct.v8)()){const Ge=this._document.querySelectorAll(`.${Nt}[platform="server"], .${Nt}[platform="test"]`);for(let Wt=0;Wt<Ge.length;Wt++)Ge[Wt].remove()}const fe=this._document.createElement("div");fe.classList.add(Nt),(0,ct.v8)()?fe.setAttribute("platform","test"):this._platform.isBrowser||fe.setAttribute("platform","server"),this._document.body.appendChild(fe),this._containerElement=fe}static#t=this.\u0275fac=function(fe){return new(fe||tn)(g.KVO(H.qQ),g.KVO(ct.OD))};static#e=this.\u0275prov=g.jDH({token:tn,factory:tn.\u0275fac,providedIn:"root"})}return tn})();class ft{constructor(mt,Nt,fe,Ge,Wt,qe,ie,be,je,on=!1,Sn){this._portalOutlet=mt,this._host=Nt,this._pane=fe,this._config=Ge,this._ngZone=Wt,this._keyboardDispatcher=qe,this._document=ie,this._location=be,this._outsideClickDispatcher=je,this._animationsDisabled=on,this._injector=Sn,this._backdropElement=null,this._backdropClick=new yt.B,this._attachments=new yt.B,this._detachments=new yt.B,this._locationChanges=Ft.yU.EMPTY,this._backdropClickHandler=si=>this._backdropClick.next(si),this._backdropTransitionendHandler=si=>{this._disposeBackdrop(si.target)},this._keydownEvents=new yt.B,this._outsidePointerEvents=new yt.B,this._renders=new yt.B,Ge.scrollStrategy&&(this._scrollStrategy=Ge.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=Ge.positionStrategy,this._afterRenderRef=(0,g.O8t)(()=>(0,g.Tzd)(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(mt){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const Nt=this._portalOutlet.attach(mt);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=(0,g.mal)(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof Nt?.onDestroy&&Nt.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),Nt}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const mt=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),mt}dispose(){const mt=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=null,mt&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(mt){mt!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=mt,this.hasAttached()&&(mt.attach(this),this.updatePosition()))}updateSize(mt){this._config={...this._config,...mt},this._updateElementSize()}setDirection(mt){this._config={...this._config,direction:mt},this._updateElementDirection()}addPanelClass(mt){this._pane&&this._toggleClasses(this._pane,mt,!0)}removePanelClass(mt){this._pane&&this._toggleClasses(this._pane,mt,!1)}getDirection(){const mt=this._config.direction;return mt?"string"==typeof mt?mt:mt.value:"ltr"}updateScrollStrategy(mt){mt!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=mt,this.hasAttached()&&(mt.attach(this),mt.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const mt=this._pane.style;mt.width=(0,lt.a1)(this._config.width),mt.height=(0,lt.a1)(this._config.height),mt.minWidth=(0,lt.a1)(this._config.minWidth),mt.minHeight=(0,lt.a1)(this._config.minHeight),mt.maxWidth=(0,lt.a1)(this._config.maxWidth),mt.maxHeight=(0,lt.a1)(this._config.maxHeight)}_togglePointerEvents(mt){this._pane.style.pointerEvents=mt?"":"none"}_attachBackdrop(){const mt="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(mt)})}):this._backdropElement.classList.add(mt)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const mt=this._backdropElement;if(mt){if(this._animationsDisabled)return void this._disposeBackdrop(mt);mt.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{mt.addEventListener("transitionend",this._backdropTransitionendHandler)}),mt.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(mt)},500))}}_toggleClasses(mt,Nt,fe){const Ge=(0,lt.FG)(Nt||[]).filter(Wt=>!!Wt);Ge.length&&(fe?mt.classList.add(...Ge):mt.classList.remove(...Ge))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{const mt=this._renders.pipe((0,jt.Q)((0,Ht.h)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),mt.unsubscribe())})})}_disposeScrollStrategy(){const mt=this._scrollStrategy;mt&&(mt.disable(),mt.detach&&mt.detach())}_disposeBackdrop(mt){mt&&(mt.removeEventListener("click",this._backdropClickHandler),mt.removeEventListener("transitionend",this._backdropTransitionendHandler),mt.remove(),this._backdropElement===mt&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Mt="cdk-overlay-connected-position-bounding-box",ot=/([A-Za-z%]+)$/;class Dt{get positions(){return this._preferredPositions}constructor(mt,Nt,fe,Ge,Wt){this._viewportRuler=Nt,this._document=fe,this._platform=Ge,this._overlayContainer=Wt,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new yt.B,this._resizeSubscription=Ft.yU.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(mt)}attach(mt){this._validatePositions(),mt.hostElement.classList.add(Mt),this._overlayRef=mt,this._boundingBox=mt.hostElement,this._pane=mt.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const mt=this._originRect,Nt=this._overlayRect,fe=this._viewportRect,Ge=this._containerRect,Wt=[];let qe;for(let ie of this._preferredPositions){let be=this._getOriginPoint(mt,Ge,ie),je=this._getOverlayPoint(be,Nt,ie),on=this._getOverlayFit(je,Nt,fe,ie);if(on.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(ie,be);this._canFitWithFlexibleDimensions(on,je,fe)?Wt.push({position:ie,origin:be,overlayRect:Nt,boundingBoxRect:this._calculateBoundingBoxRect(be,ie)}):(!qe||qe.overlayFit.visibleArea<on.visibleArea)&&(qe={overlayFit:on,overlayPoint:je,originPoint:be,position:ie,overlayRect:Nt})}if(Wt.length){let ie=null,be=-1;for(const je of Wt){const on=je.boundingBoxRect.width*je.boundingBoxRect.height*(je.position.weight||1);on>be&&(be=on,ie=je)}return this._isPushed=!1,void this._applyPosition(ie.position,ie.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(qe.position,qe.originPoint);this._applyPosition(qe.position,qe.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&dt(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Mt),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const mt=this._lastPosition;if(mt){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const Nt=this._getOriginPoint(this._originRect,this._containerRect,mt);this._applyPosition(mt,Nt)}else this.apply()}withScrollableContainers(mt){return this._scrollables=mt,this}withPositions(mt){return this._preferredPositions=mt,-1===mt.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(mt){return this._viewportMargin=mt,this}withFlexibleDimensions(mt=!0){return this._hasFlexibleDimensions=mt,this}withGrowAfterOpen(mt=!0){return this._growAfterOpen=mt,this}withPush(mt=!0){return this._canPush=mt,this}withLockedPosition(mt=!0){return this._positionLocked=mt,this}setOrigin(mt){return this._origin=mt,this}withDefaultOffsetX(mt){return this._offsetX=mt,this}withDefaultOffsetY(mt){return this._offsetY=mt,this}withTransformOriginOn(mt){return this._transformOriginSelector=mt,this}_getOriginPoint(mt,Nt,fe){let Ge,Wt;if("center"==fe.originX)Ge=mt.left+mt.width/2;else{const qe=this._isRtl()?mt.right:mt.left,ie=this._isRtl()?mt.left:mt.right;Ge="start"==fe.originX?qe:ie}return Nt.left<0&&(Ge-=Nt.left),Wt="center"==fe.originY?mt.top+mt.height/2:"top"==fe.originY?mt.top:mt.bottom,Nt.top<0&&(Wt-=Nt.top),{x:Ge,y:Wt}}_getOverlayPoint(mt,Nt,fe){let Ge,Wt;return Ge="center"==fe.overlayX?-Nt.width/2:"start"===fe.overlayX?this._isRtl()?-Nt.width:0:this._isRtl()?0:-Nt.width,Wt="center"==fe.overlayY?-Nt.height/2:"top"==fe.overlayY?0:-Nt.height,{x:mt.x+Ge,y:mt.y+Wt}}_getOverlayFit(mt,Nt,fe,Ge){const Wt=Ee(Nt);let{x:qe,y:ie}=mt,be=this._getOffset(Ge,"x"),je=this._getOffset(Ge,"y");be&&(qe+=be),je&&(ie+=je);let si=0-ie,xe=ie+Wt.height-fe.height,pn=this._subtractOverflows(Wt.width,0-qe,qe+Wt.width-fe.width),en=this._subtractOverflows(Wt.height,si,xe),yn=pn*en;return{visibleArea:yn,isCompletelyWithinViewport:Wt.width*Wt.height===yn,fitsInViewportVertically:en===Wt.height,fitsInViewportHorizontally:pn==Wt.width}}_canFitWithFlexibleDimensions(mt,Nt,fe){if(this._hasFlexibleDimensions){const Ge=fe.bottom-Nt.y,Wt=fe.right-Nt.x,qe=Vt(this._overlayRef.getConfig().minHeight),ie=Vt(this._overlayRef.getConfig().minWidth);return(mt.fitsInViewportVertically||null!=qe&&qe<=Ge)&&(mt.fitsInViewportHorizontally||null!=ie&&ie<=Wt)}return!1}_pushOverlayOnScreen(mt,Nt,fe){if(this._previousPushAmount&&this._positionLocked)return{x:mt.x+this._previousPushAmount.x,y:mt.y+this._previousPushAmount.y};const Ge=Ee(Nt),Wt=this._viewportRect,qe=Math.max(mt.x+Ge.width-Wt.width,0),ie=Math.max(mt.y+Ge.height-Wt.height,0),be=Math.max(Wt.top-fe.top-mt.y,0),je=Math.max(Wt.left-fe.left-mt.x,0);let on=0,Sn=0;return on=Ge.width<=Wt.width?je||-qe:mt.x<this._viewportMargin?Wt.left-fe.left-mt.x:0,Sn=Ge.height<=Wt.height?be||-ie:mt.y<this._viewportMargin?Wt.top-fe.top-mt.y:0,this._previousPushAmount={x:on,y:Sn},{x:mt.x+on,y:mt.y+Sn}}_applyPosition(mt,Nt){if(this._setTransformOrigin(mt),this._setOverlayElementStyles(Nt,mt),this._setBoundingBoxStyles(Nt,mt),mt.panelClass&&this._addPanelClasses(mt.panelClass),this._positionChanges.observers.length){const fe=this._getScrollVisibility();if(mt!==this._lastPosition||!this._lastScrollVisibility||!function we(tn,mt){return tn===mt||tn.isOriginClipped===mt.isOriginClipped&&tn.isOriginOutsideView===mt.isOriginOutsideView&&tn.isOverlayClipped===mt.isOverlayClipped&&tn.isOverlayOutsideView===mt.isOverlayOutsideView}(this._lastScrollVisibility,fe)){const Ge=new Zt(mt,fe);this._positionChanges.next(Ge)}this._lastScrollVisibility=fe}this._lastPosition=mt,this._isInitialRender=!1}_setTransformOrigin(mt){if(!this._transformOriginSelector)return;const Nt=this._boundingBox.querySelectorAll(this._transformOriginSelector);let fe,Ge=mt.overlayY;fe="center"===mt.overlayX?"center":this._isRtl()?"start"===mt.overlayX?"right":"left":"start"===mt.overlayX?"left":"right";for(let Wt=0;Wt<Nt.length;Wt++)Nt[Wt].style.transformOrigin=`${fe} ${Ge}`}_calculateBoundingBoxRect(mt,Nt){const fe=this._viewportRect,Ge=this._isRtl();let Wt,qe,ie,on,Sn,si;if("top"===Nt.overlayY)qe=mt.y,Wt=fe.height-qe+this._viewportMargin;else if("bottom"===Nt.overlayY)ie=fe.height-mt.y+2*this._viewportMargin,Wt=fe.height-ie+this._viewportMargin;else{const xe=Math.min(fe.bottom-mt.y+fe.top,mt.y),pn=this._lastBoundingBoxSize.height;Wt=2*xe,qe=mt.y-xe,Wt>pn&&!this._isInitialRender&&!this._growAfterOpen&&(qe=mt.y-pn/2)}if("end"===Nt.overlayX&&!Ge||"start"===Nt.overlayX&&Ge)si=fe.width-mt.x+2*this._viewportMargin,on=mt.x-this._viewportMargin;else if("start"===Nt.overlayX&&!Ge||"end"===Nt.overlayX&&Ge)Sn=mt.x,on=fe.right-mt.x;else{const xe=Math.min(fe.right-mt.x+fe.left,mt.x),pn=this._lastBoundingBoxSize.width;on=2*xe,Sn=mt.x-xe,on>pn&&!this._isInitialRender&&!this._growAfterOpen&&(Sn=mt.x-pn/2)}return{top:qe,left:Sn,bottom:ie,right:si,width:on,height:Wt}}_setBoundingBoxStyles(mt,Nt){const fe=this._calculateBoundingBoxRect(mt,Nt);!this._isInitialRender&&!this._growAfterOpen&&(fe.height=Math.min(fe.height,this._lastBoundingBoxSize.height),fe.width=Math.min(fe.width,this._lastBoundingBoxSize.width));const Ge={};if(this._hasExactPosition())Ge.top=Ge.left="0",Ge.bottom=Ge.right=Ge.maxHeight=Ge.maxWidth="",Ge.width=Ge.height="100%";else{const Wt=this._overlayRef.getConfig().maxHeight,qe=this._overlayRef.getConfig().maxWidth;Ge.height=(0,lt.a1)(fe.height),Ge.top=(0,lt.a1)(fe.top),Ge.bottom=(0,lt.a1)(fe.bottom),Ge.width=(0,lt.a1)(fe.width),Ge.left=(0,lt.a1)(fe.left),Ge.right=(0,lt.a1)(fe.right),Ge.alignItems="center"===Nt.overlayX?"center":"end"===Nt.overlayX?"flex-end":"flex-start",Ge.justifyContent="center"===Nt.overlayY?"center":"bottom"===Nt.overlayY?"flex-end":"flex-start",Wt&&(Ge.maxHeight=(0,lt.a1)(Wt)),qe&&(Ge.maxWidth=(0,lt.a1)(qe))}this._lastBoundingBoxSize=fe,dt(this._boundingBox.style,Ge)}_resetBoundingBoxStyles(){dt(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){dt(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(mt,Nt){const fe={},Ge=this._hasExactPosition(),Wt=this._hasFlexibleDimensions,qe=this._overlayRef.getConfig();if(Ge){const on=this._viewportRuler.getViewportScrollPosition();dt(fe,this._getExactOverlayY(Nt,mt,on)),dt(fe,this._getExactOverlayX(Nt,mt,on))}else fe.position="static";let ie="",be=this._getOffset(Nt,"x"),je=this._getOffset(Nt,"y");be&&(ie+=`translateX(${be}px) `),je&&(ie+=`translateY(${je}px)`),fe.transform=ie.trim(),qe.maxHeight&&(Ge?fe.maxHeight=(0,lt.a1)(qe.maxHeight):Wt&&(fe.maxHeight="")),qe.maxWidth&&(Ge?fe.maxWidth=(0,lt.a1)(qe.maxWidth):Wt&&(fe.maxWidth="")),dt(this._pane.style,fe)}_getExactOverlayY(mt,Nt,fe){let Ge={top:"",bottom:""},Wt=this._getOverlayPoint(Nt,this._overlayRect,mt);return this._isPushed&&(Wt=this._pushOverlayOnScreen(Wt,this._overlayRect,fe)),"bottom"===mt.overlayY?Ge.bottom=this._document.documentElement.clientHeight-(Wt.y+this._overlayRect.height)+"px":Ge.top=(0,lt.a1)(Wt.y),Ge}_getExactOverlayX(mt,Nt,fe){let qe,Ge={left:"",right:""},Wt=this._getOverlayPoint(Nt,this._overlayRect,mt);return this._isPushed&&(Wt=this._pushOverlayOnScreen(Wt,this._overlayRect,fe)),qe=this._isRtl()?"end"===mt.overlayX?"left":"right":"end"===mt.overlayX?"right":"left","right"===qe?Ge.right=this._document.documentElement.clientWidth-(Wt.x+this._overlayRect.width)+"px":Ge.left=(0,lt.a1)(Wt.x),Ge}_getScrollVisibility(){const mt=this._getOriginRect(),Nt=this._pane.getBoundingClientRect(),fe=this._scrollables.map(Ge=>Ge.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Ut(mt,fe),isOriginOutsideView:Qt(mt,fe),isOverlayClipped:Ut(Nt,fe),isOverlayOutsideView:Qt(Nt,fe)}}_subtractOverflows(mt,...Nt){return Nt.reduce((fe,Ge)=>fe-Math.max(Ge,0),mt)}_getNarrowedViewportRect(){const mt=this._document.documentElement.clientWidth,Nt=this._document.documentElement.clientHeight,fe=this._viewportRuler.getViewportScrollPosition();return{top:fe.top+this._viewportMargin,left:fe.left+this._viewportMargin,right:fe.left+mt-this._viewportMargin,bottom:fe.top+Nt-this._viewportMargin,width:mt-2*this._viewportMargin,height:Nt-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(mt,Nt){return"x"===Nt?null==mt.offsetX?this._offsetX:mt.offsetX:null==mt.offsetY?this._offsetY:mt.offsetY}_validatePositions(){}_addPanelClasses(mt){this._pane&&(0,lt.FG)(mt).forEach(Nt=>{""!==Nt&&-1===this._appliedPanelClasses.indexOf(Nt)&&(this._appliedPanelClasses.push(Nt),this._pane.classList.add(Nt))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(mt=>{this._pane.classList.remove(mt)}),this._appliedPanelClasses=[])}_getOriginRect(){const mt=this._origin;if(mt instanceof g.aKT)return mt.nativeElement.getBoundingClientRect();if(mt instanceof Element)return mt.getBoundingClientRect();const Nt=mt.width||0,fe=mt.height||0;return{top:mt.y,bottom:mt.y+fe,left:mt.x,right:mt.x+Nt,height:fe,width:Nt}}}function dt(tn,mt){for(let Nt in mt)mt.hasOwnProperty(Nt)&&(tn[Nt]=mt[Nt]);return tn}function Vt(tn){if("number"!=typeof tn&&null!=tn){const[mt,Nt]=tn.split(ot);return Nt&&"px"!==Nt?null:parseFloat(mt)}return tn||null}function Ee(tn){return{top:Math.floor(tn.top),right:Math.floor(tn.right),bottom:Math.floor(tn.bottom),left:Math.floor(tn.left),width:Math.floor(tn.width),height:Math.floor(tn.height)}}const Un="cdk-global-overlay-wrapper";class Ri{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(mt){const Nt=mt.getConfig();this._overlayRef=mt,this._width&&!Nt.width&&mt.updateSize({width:this._width}),this._height&&!Nt.height&&mt.updateSize({height:this._height}),mt.hostElement.classList.add(Un),this._isDisposed=!1}top(mt=""){return this._bottomOffset="",this._topOffset=mt,this._alignItems="flex-start",this}left(mt=""){return this._xOffset=mt,this._xPosition="left",this}bottom(mt=""){return this._topOffset="",this._bottomOffset=mt,this._alignItems="flex-end",this}right(mt=""){return this._xOffset=mt,this._xPosition="right",this}start(mt=""){return this._xOffset=mt,this._xPosition="start",this}end(mt=""){return this._xOffset=mt,this._xPosition="end",this}width(mt=""){return this._overlayRef?this._overlayRef.updateSize({width:mt}):this._width=mt,this}height(mt=""){return this._overlayRef?this._overlayRef.updateSize({height:mt}):this._height=mt,this}centerHorizontally(mt=""){return this.left(mt),this._xPosition="center",this}centerVertically(mt=""){return this.top(mt),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const mt=this._overlayRef.overlayElement.style,Nt=this._overlayRef.hostElement.style,fe=this._overlayRef.getConfig(),{width:Ge,height:Wt,maxWidth:qe,maxHeight:ie}=fe,be=!("100%"!==Ge&&"100vw"!==Ge||qe&&"100%"!==qe&&"100vw"!==qe),je=!("100%"!==Wt&&"100vh"!==Wt||ie&&"100%"!==ie&&"100vh"!==ie),on=this._xPosition,Sn=this._xOffset,si="rtl"===this._overlayRef.getConfig().direction;let xe="",pn="",en="";be?en="flex-start":"center"===on?(en="center",si?pn=Sn:xe=Sn):si?"left"===on||"end"===on?(en="flex-end",xe=Sn):("right"===on||"start"===on)&&(en="flex-start",pn=Sn):"left"===on||"start"===on?(en="flex-start",xe=Sn):("right"===on||"end"===on)&&(en="flex-end",pn=Sn),mt.position=this._cssPosition,mt.marginLeft=be?"0":xe,mt.marginTop=je?"0":this._topOffset,mt.marginBottom=this._bottomOffset,mt.marginRight=be?"0":pn,Nt.justifyContent=en,Nt.alignItems=je?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const mt=this._overlayRef.overlayElement.style,Nt=this._overlayRef.hostElement,fe=Nt.style;Nt.classList.remove(Un),fe.justifyContent=fe.alignItems=mt.marginTop=mt.marginBottom=mt.marginLeft=mt.marginRight=mt.position="",this._overlayRef=null,this._isDisposed=!0}}let Fn=(()=>{class tn{constructor(Nt,fe,Ge,Wt){this._viewportRuler=Nt,this._document=fe,this._platform=Ge,this._overlayContainer=Wt}global(){return new Ri}flexibleConnectedTo(Nt){return new Dt(Nt,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#t=this.\u0275fac=function(fe){return new(fe||tn)(g.KVO(C.Xj),g.KVO(H.qQ),g.KVO(ct.OD),g.KVO(ut))};static#e=this.\u0275prov=g.jDH({token:tn,factory:tn.\u0275fac,providedIn:"root"})}return tn})(),ci=0,Di=(()=>{class tn{constructor(Nt,fe,Ge,Wt,qe,ie,be,je,on,Sn,si,xe){this.scrollStrategies=Nt,this._overlayContainer=fe,this._componentFactoryResolver=Ge,this._positionBuilder=Wt,this._keyboardDispatcher=qe,this._injector=ie,this._ngZone=be,this._document=je,this._directionality=on,this._location=Sn,this._outsideClickDispatcher=si,this._animationsModuleType=xe}create(Nt){const fe=this._createHostElement(),Ge=this._createPaneElement(fe),Wt=this._createPortalOutlet(Ge),qe=new Te(Nt);return qe.direction=qe.direction||this._directionality.value,new ft(Wt,fe,Ge,qe,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType,this._injector.get(g.uvJ))}position(){return this._positionBuilder}_createPaneElement(Nt){const fe=this._document.createElement("div");return fe.id="cdk-overlay-"+ci++,fe.classList.add("cdk-overlay-pane"),Nt.appendChild(fe),fe}_createHostElement(){const Nt=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(Nt),Nt}_createPortalOutlet(Nt){return this._appRef||(this._appRef=this._injector.get(g.o8S)),new Pt.aI(Nt,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#t=this.\u0275fac=function(fe){return new(fe||tn)(g.KVO(pe),g.KVO(ut),g.KVO(g.OM3),g.KVO(Fn),g.KVO(Oe),g.KVO(g.zZn),g.KVO(g.SKi),g.KVO(H.qQ),g.KVO(At.dS),g.KVO(H.aZ),g.KVO(ee),g.KVO(g.bc$,8))};static#e=this.\u0275prov=g.jDH({token:tn,factory:tn.\u0275fac,providedIn:"root"})}return tn})();const Li=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Ni=new g.nKC("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const tn=(0,g.WQX)(Di);return()=>tn.scrollStrategies.reposition()}});let Vi=(()=>{class tn{constructor(Nt){this.elementRef=Nt}static#t=this.\u0275fac=function(fe){return new(fe||tn)(g.rXU(g.aKT))};static#e=this.\u0275dir=g.FsC({type:tn,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return tn})(),Tn=(()=>{class tn{get offsetX(){return this._offsetX}set offsetX(Nt){this._offsetX=Nt,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(Nt){this._offsetY=Nt,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(Nt){this._disposeOnNavigation=Nt}constructor(Nt,fe,Ge,Wt,qe){this._overlay=Nt,this._dir=qe,this._backdropSubscription=Ft.yU.EMPTY,this._attachSubscription=Ft.yU.EMPTY,this._detachSubscription=Ft.yU.EMPTY,this._positionSubscription=Ft.yU.EMPTY,this._disposeOnNavigation=!1,this._ngZone=(0,g.WQX)(g.SKi),this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new g.bkB,this.positionChange=new g.bkB,this.attach=new g.bkB,this.detach=new g.bkB,this.overlayKeydown=new g.bkB,this.overlayOutsideClick=new g.bkB,this._templatePortal=new Pt.VA(fe,Ge),this._scrollStrategyFactory=Wt,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(Nt){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),Nt.origin&&this.open&&this._position.apply()),Nt.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Li);const Nt=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=Nt.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=Nt.detachments().subscribe(()=>this.detach.emit()),Nt.keydownEvents().subscribe(fe=>{this.overlayKeydown.next(fe),fe.keyCode===ue._f&&!this.disableClose&&!(0,ue.rp)(fe)&&(fe.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(fe=>{const Ge=this._getOriginElement(),Wt=(0,ct.Fb)(fe);(!Ge||Ge!==Wt&&!Ge.contains(Wt))&&this.overlayOutsideClick.next(fe)})}_buildConfig(){const Nt=this._position=this.positionStrategy||this._createPositionStrategy(),fe=new Te({direction:this._dir,positionStrategy:Nt,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||0===this.width)&&(fe.width=this.width),(this.height||0===this.height)&&(fe.height=this.height),(this.minWidth||0===this.minWidth)&&(fe.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(fe.minHeight=this.minHeight),this.backdropClass&&(fe.backdropClass=this.backdropClass),this.panelClass&&(fe.panelClass=this.panelClass),fe}_updatePositionStrategy(Nt){const fe=this.positions.map(Ge=>({originX:Ge.originX,originY:Ge.originY,overlayX:Ge.overlayX,overlayY:Ge.overlayY,offsetX:Ge.offsetX||this.offsetX,offsetY:Ge.offsetY||this.offsetY,panelClass:Ge.panelClass||void 0}));return Nt.setOrigin(this._getOrigin()).withPositions(fe).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const Nt=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(Nt),Nt}_getOrigin(){return this.origin instanceof Vi?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof Vi?this.origin.elementRef.nativeElement:this.origin instanceof g.aKT?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(Nt=>{this.backdropClick.emit(Nt)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function bt(tn,mt=!1){return(0,It.N)((Nt,fe)=>{let Ge=0;Nt.subscribe((0,pt._)(fe,Wt=>{const qe=tn(Wt,Ge++);(qe||mt)&&fe.next(Wt),!qe&&fe.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(Nt=>{this._ngZone.run(()=>this.positionChange.emit(Nt)),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#t=this.\u0275fac=function(fe){return new(fe||tn)(g.rXU(Di),g.rXU(g.C4Q),g.rXU(g.c1b),g.rXU(Ni),g.rXU(At.dS,8))};static#e=this.\u0275dir=g.FsC({type:tn,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",g.L39],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",g.L39],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",g.L39],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",g.L39],push:[2,"cdkConnectedOverlayPush","push",g.L39],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",g.L39]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[g.GFd,g.OA$]})}return tn})();const ur={provide:Ni,deps:[Di],useFactory:function er(tn){return()=>tn.scrollStrategies.reposition()}};let kr=(()=>{class tn{static#t=this.\u0275fac=function(fe){return new(fe||tn)};static#e=this.\u0275mod=g.$C({type:tn});static#n=this.\u0275inj=g.G2t({providers:[Di,ur],imports:[At.jI,Pt.jc,C.E9,C.E9]})}return tn})()},3823:(mn,ae,P)=>{"use strict";P.d(ae,{BD:()=>ue,BQ:()=>At,CZ:()=>Ht,Fb:()=>Ke,KT:()=>rn,MU:()=>It,OD:()=>lt,r5:()=>Pt,v8:()=>Qt,vc:()=>_e});var C=P(4291),H=P(9284);let g;try{g=typeof Intl<"u"&&Intl.v8BreakIterator}catch{g=!1}let it,lt=(()=>{class Ut{constructor(pe){this._platformId=pe,this.isBrowser=this._platformId?(0,H.UE)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!g)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#t=this.\u0275fac=function(Te){return new(Te||Ut)(C.KVO(C.Agw))};static#e=this.\u0275prov=C.jDH({token:Ut,factory:Ut.\u0275fac,providedIn:"root"})}return Ut})();const jt=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function It(){if(it)return it;if("object"!=typeof document||!document)return it=new Set(jt),it;let Ut=document.createElement("input");return it=new Set(jt.filter(kt=>(Ut.setAttribute("type",kt),Ut.type===kt))),it}let pt;function At(Ut){return function bt(){if(null==pt&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>pt=!0}))}finally{pt=pt||!1}return pt}()?Ut:!!Ut.capture}var Pt=function(Ut){return Ut[Ut.NORMAL=0]="NORMAL",Ut[Ut.NEGATED=1]="NEGATED",Ut[Ut.INVERTED=2]="INVERTED",Ut}(Pt||{});let yt,Ft,ye;function Ht(){if(null==Ft){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Ft=!1,Ft;if("scrollBehavior"in document.documentElement.style)Ft=!0;else{const Ut=Element.prototype.scrollTo;Ft=!!Ut&&!/\{\s*\[native code\]\s*\}/.test(Ut.toString())}}return Ft}function ue(){if("object"!=typeof document||!document)return Pt.NORMAL;if(null==yt){const Ut=document.createElement("div"),kt=Ut.style;Ut.dir="rtl",kt.width="1px",kt.overflow="auto",kt.visibility="hidden",kt.pointerEvents="none",kt.position="absolute";const pe=document.createElement("div"),Te=pe.style;Te.width="2px",Te.height="1px",Ut.appendChild(pe),document.body.appendChild(Ut),yt=Pt.NORMAL,0===Ut.scrollLeft&&(Ut.scrollLeft=1,yt=0===Ut.scrollLeft?Pt.NEGATED:Pt.INVERTED),Ut.remove()}return yt}function rn(Ut){if(function Le(){if(null==ye){const Ut=typeof document<"u"?document.head:null;ye=!(!Ut||!Ut.createShadowRoot&&!Ut.attachShadow)}return ye}()){const kt=Ut.getRootNode?Ut.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&kt instanceof ShadowRoot)return kt}return null}function _e(){let Ut=typeof document<"u"&&document?document.activeElement:null;for(;Ut&&Ut.shadowRoot;){const kt=Ut.shadowRoot.activeElement;if(kt===Ut)break;Ut=kt}return Ut}function Ke(Ut){return Ut.composedPath?Ut.composedPath()[0]:Ut.target}function Qt(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},3068:(mn,ae,P)=>{"use strict";P.d(ae,{A8:()=>bt,I3:()=>rn,VA:()=>At,aI:()=>Ht,jc:()=>Ke,lb:()=>yt});var C=P(4291),H=P(9284);class pt{attach(kt){return this._attachedHost=kt,kt.attach(this)}detach(){let kt=this._attachedHost;null!=kt&&(this._attachedHost=null,kt.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(kt){this._attachedHost=kt}}class bt extends pt{constructor(kt,pe,Te,oe,Kt){super(),this.component=kt,this.viewContainerRef=pe,this.injector=Te,this.componentFactoryResolver=oe,this.projectableNodes=Kt}}class At extends pt{constructor(kt,pe,Te,oe){super(),this.templateRef=kt,this.viewContainerRef=pe,this.context=Te,this.injector=oe}get origin(){return this.templateRef.elementRef}attach(kt,pe=this.context){return this.context=pe,super.attach(kt)}detach(){return this.context=void 0,super.detach()}}class Pt extends pt{constructor(kt){super(),this.element=kt instanceof C.aKT?kt.nativeElement:kt}}class yt{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(kt){return kt instanceof bt?(this._attachedPortal=kt,this.attachComponentPortal(kt)):kt instanceof At?(this._attachedPortal=kt,this.attachTemplatePortal(kt)):this.attachDomPortal&&kt instanceof Pt?(this._attachedPortal=kt,this.attachDomPortal(kt)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(kt){this._disposeFn=kt}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Ht extends yt{constructor(kt,pe,Te,oe,Kt){super(),this.outletElement=kt,this._componentFactoryResolver=pe,this._appRef=Te,this._defaultInjector=oe,this.attachDomPortal=Zt=>{const ke=Zt.element,De=this._document.createComment("dom-portal");ke.parentNode.insertBefore(De,ke),this.outletElement.appendChild(ke),this._attachedPortal=Zt,super.setDisposeFn(()=>{De.parentNode&&De.parentNode.replaceChild(ke,De)})},this._document=Kt}attachComponentPortal(kt){const Te=(kt.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(kt.component);let oe;return kt.viewContainerRef?(oe=kt.viewContainerRef.createComponent(Te,kt.viewContainerRef.length,kt.injector||kt.viewContainerRef.injector,kt.projectableNodes||void 0),this.setDisposeFn(()=>oe.destroy())):(oe=Te.create(kt.injector||this._defaultInjector||C.zZn.NULL),this._appRef.attachView(oe.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(oe.hostView),oe.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(oe)),this._attachedPortal=kt,oe}attachTemplatePortal(kt){let pe=kt.viewContainerRef,Te=pe.createEmbeddedView(kt.templateRef,kt.context,{injector:kt.injector});return Te.rootNodes.forEach(oe=>this.outletElement.appendChild(oe)),Te.detectChanges(),this.setDisposeFn(()=>{let oe=pe.indexOf(Te);-1!==oe&&pe.remove(oe)}),this._attachedPortal=kt,Te}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(kt){return kt.hostView.rootNodes[0]}}let rn=(()=>{class Ut extends yt{constructor(pe,Te,oe){super(),this._componentFactoryResolver=pe,this._viewContainerRef=Te,this._isInitialized=!1,this.attached=new C.bkB,this.attachDomPortal=Kt=>{const Zt=Kt.element,ke=this._document.createComment("dom-portal");Kt.setAttachedHost(this),Zt.parentNode.insertBefore(ke,Zt),this._getRootNode().appendChild(Zt),this._attachedPortal=Kt,super.setDisposeFn(()=>{ke.parentNode&&ke.parentNode.replaceChild(Zt,ke)})},this._document=oe}get portal(){return this._attachedPortal}set portal(pe){this.hasAttached()&&!pe&&!this._isInitialized||(this.hasAttached()&&super.detach(),pe&&super.attach(pe),this._attachedPortal=pe||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(pe){pe.setAttachedHost(this);const Te=null!=pe.viewContainerRef?pe.viewContainerRef:this._viewContainerRef,Kt=(pe.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(pe.component),Zt=Te.createComponent(Kt,Te.length,pe.injector||Te.injector,pe.projectableNodes||void 0);return Te!==this._viewContainerRef&&this._getRootNode().appendChild(Zt.hostView.rootNodes[0]),super.setDisposeFn(()=>Zt.destroy()),this._attachedPortal=pe,this._attachedRef=Zt,this.attached.emit(Zt),Zt}attachTemplatePortal(pe){pe.setAttachedHost(this);const Te=this._viewContainerRef.createEmbeddedView(pe.templateRef,pe.context,{injector:pe.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=pe,this._attachedRef=Te,this.attached.emit(Te),Te}_getRootNode(){const pe=this._viewContainerRef.element.nativeElement;return pe.nodeType===pe.ELEMENT_NODE?pe:pe.parentNode}static#t=this.\u0275fac=function(Te){return new(Te||Ut)(C.rXU(C.OM3),C.rXU(C.c1b),C.rXU(H.qQ))};static#e=this.\u0275dir=C.FsC({type:Ut,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[C.Vt3]})}return Ut})(),Ke=(()=>{class Ut{static#t=this.\u0275fac=function(Te){return new(Te||Ut)};static#e=this.\u0275mod=C.$C({type:Ut});static#n=this.\u0275inj=C.G2t({})}return Ut})()},9755:(mn,ae,P)=>{"use strict";P.d(ae,{E9:()=>ut,Gj:()=>Ot,R:()=>Qt,Xj:()=>pe,uv:()=>Ut});var C=P(4498),H=P(4291),g=P(1071),lt=P(3204),ct=P(3982),it=P(8001),pt=(P(7512),P(7969),P(8030)),bt=P(2647),At=P(3796),Pt=P(3823),yt=P(9284),Ft=P(4700);let Qt=(()=>{class ft{constructor(ot,Dt,dt){this._ngZone=ot,this._platform=Dt,this._scrolled=new g.B,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=dt}register(ot){this.scrollContainers.has(ot)||this.scrollContainers.set(ot,ot.elementScrolled().subscribe(()=>this._scrolled.next(ot)))}deregister(ot){const Dt=this.scrollContainers.get(ot);Dt&&(Dt.unsubscribe(),this.scrollContainers.delete(ot))}scrolled(ot=20){return this._platform.isBrowser?new ct.c(Dt=>{this._globalSubscription||this._addGlobalListener();const dt=ot>0?this._scrolled.pipe((0,pt.Z)(ot)).subscribe(Dt):this._scrolled.subscribe(Dt);return this._scrolledCount++,()=>{dt.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,lt.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((ot,Dt)=>this.deregister(Dt)),this._scrolled.complete()}ancestorScrolled(ot,Dt){const dt=this.getAncestorScrollContainers(ot);return this.scrolled(Dt).pipe((0,bt.p)(Vt=>!Vt||dt.indexOf(Vt)>-1))}getAncestorScrollContainers(ot){const Dt=[];return this.scrollContainers.forEach((dt,Vt)=>{this._scrollableContainsElement(Vt,ot)&&Dt.push(Vt)}),Dt}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(ot,Dt){let dt=(0,C.i8)(Dt),Vt=ot.getElementRef().nativeElement;do{if(dt==Vt)return!0}while(dt=dt.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const ot=this._getWindow();return(0,it.R)(ot.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#t=this.\u0275fac=function(Dt){return new(Dt||ft)(H.KVO(H.SKi),H.KVO(Pt.OD),H.KVO(yt.qQ,8))};static#e=this.\u0275prov=H.jDH({token:ft,factory:ft.\u0275fac,providedIn:"root"})}return ft})(),Ut=(()=>{class ft{constructor(ot,Dt,dt,Vt){this.elementRef=ot,this.scrollDispatcher=Dt,this.ngZone=dt,this.dir=Vt,this._destroyed=new g.B,this._elementScrolled=new ct.c(Ee=>this.ngZone.runOutsideAngular(()=>(0,it.R)(this.elementRef.nativeElement,"scroll").pipe((0,At.Q)(this._destroyed)).subscribe(Ee)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(ot){const Dt=this.elementRef.nativeElement,dt=this.dir&&"rtl"==this.dir.value;null==ot.left&&(ot.left=dt?ot.end:ot.start),null==ot.right&&(ot.right=dt?ot.start:ot.end),null!=ot.bottom&&(ot.top=Dt.scrollHeight-Dt.clientHeight-ot.bottom),dt&&(0,Pt.BD)()!=Pt.r5.NORMAL?(null!=ot.left&&(ot.right=Dt.scrollWidth-Dt.clientWidth-ot.left),(0,Pt.BD)()==Pt.r5.INVERTED?ot.left=ot.right:(0,Pt.BD)()==Pt.r5.NEGATED&&(ot.left=ot.right?-ot.right:ot.right)):null!=ot.right&&(ot.left=Dt.scrollWidth-Dt.clientWidth-ot.right),this._applyScrollToOptions(ot)}_applyScrollToOptions(ot){const Dt=this.elementRef.nativeElement;(0,Pt.CZ)()?Dt.scrollTo(ot):(null!=ot.top&&(Dt.scrollTop=ot.top),null!=ot.left&&(Dt.scrollLeft=ot.left))}measureScrollOffset(ot){const Dt="left",Vt=this.elementRef.nativeElement;if("top"==ot)return Vt.scrollTop;if("bottom"==ot)return Vt.scrollHeight-Vt.clientHeight-Vt.scrollTop;const Ee=this.dir&&"rtl"==this.dir.value;return"start"==ot?ot=Ee?"right":Dt:"end"==ot&&(ot=Ee?Dt:"right"),Ee&&(0,Pt.BD)()==Pt.r5.INVERTED?ot==Dt?Vt.scrollWidth-Vt.clientWidth-Vt.scrollLeft:Vt.scrollLeft:Ee&&(0,Pt.BD)()==Pt.r5.NEGATED?ot==Dt?Vt.scrollLeft+Vt.scrollWidth-Vt.clientWidth:-Vt.scrollLeft:ot==Dt?Vt.scrollLeft:Vt.scrollWidth-Vt.clientWidth-Vt.scrollLeft}static#t=this.\u0275fac=function(Dt){return new(Dt||ft)(H.rXU(H.aKT),H.rXU(Qt),H.rXU(H.SKi),H.rXU(Ft.dS,8))};static#e=this.\u0275dir=H.FsC({type:ft,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}return ft})(),pe=(()=>{class ft{constructor(ot,Dt,dt){this._platform=ot,this._change=new g.B,this._changeListener=Vt=>{this._change.next(Vt)},this._document=dt,Dt.runOutsideAngular(()=>{if(ot.isBrowser){const Vt=this._getWindow();Vt.addEventListener("resize",this._changeListener),Vt.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const ot=this._getWindow();ot.removeEventListener("resize",this._changeListener),ot.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const ot={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),ot}getViewportRect(){const ot=this.getViewportScrollPosition(),{width:Dt,height:dt}=this.getViewportSize();return{top:ot.top,left:ot.left,bottom:ot.top+dt,right:ot.left+Dt,height:dt,width:Dt}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const ot=this._document,Dt=this._getWindow(),dt=ot.documentElement,Vt=dt.getBoundingClientRect();return{top:-Vt.top||ot.body.scrollTop||Dt.scrollY||dt.scrollTop||0,left:-Vt.left||ot.body.scrollLeft||Dt.scrollX||dt.scrollLeft||0}}change(ot=20){return ot>0?this._change.pipe((0,pt.Z)(ot)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const ot=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:ot.innerWidth,height:ot.innerHeight}:{width:0,height:0}}static#t=this.\u0275fac=function(Dt){return new(Dt||ft)(H.KVO(Pt.OD),H.KVO(H.SKi),H.KVO(yt.qQ,8))};static#e=this.\u0275prov=H.jDH({token:ft,factory:ft.\u0275fac,providedIn:"root"})}return ft})(),Ot=(()=>{class ft{static#t=this.\u0275fac=function(Dt){return new(Dt||ft)};static#e=this.\u0275mod=H.$C({type:ft});static#n=this.\u0275inj=H.G2t({})}return ft})(),ut=(()=>{class ft{static#t=this.\u0275fac=function(Dt){return new(Dt||ft)};static#e=this.\u0275mod=H.$C({type:ft});static#n=this.\u0275inj=H.G2t({imports:[Ft.jI,Ot,Ft.jI,Ot]})}return ft})()},9284:(mn,ae,P)=>{"use strict";P.d(ae,{AJ:()=>fl,Jj:()=>Ui,MD:()=>Ya,N0:()=>Rh,QT:()=>g,Sq:()=>he,T3:()=>ko,UE:()=>nu,VF:()=>ct,Vy:()=>gc,YU:()=>gi,ZD:()=>lt,_b:()=>Qe,aZ:()=>Le,bT:()=>Pn,fw:()=>ye,hb:()=>Ft,hj:()=>pt,kB:()=>Ht,pM:()=>he,qQ:()=>jt});var C=P(4291);let H=null;function g(){return H}function lt(V){H??=V}class ct{}const jt=new C.nKC("");let It=(()=>{class V{historyGo(K){throw new Error("")}static#t=this.\u0275fac=function(rt){return new(rt||V)};static#e=this.\u0275prov=C.jDH({token:V,factory:()=>(0,C.WQX)(bt),providedIn:"platform"})}return V})();const pt=new C.nKC("");let bt=(()=>{class V extends It{constructor(){super(),this._doc=(0,C.WQX)(jt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return g().getBaseHref(this._doc)}onPopState(K){const rt=g().getGlobalEventTarget(this._doc,"window");return rt.addEventListener("popstate",K,!1),()=>rt.removeEventListener("popstate",K)}onHashChange(K){const rt=g().getGlobalEventTarget(this._doc,"window");return rt.addEventListener("hashchange",K,!1),()=>rt.removeEventListener("hashchange",K)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(K){this._location.pathname=K}pushState(K,rt,se){this._history.pushState(K,rt,se)}replaceState(K,rt,se){this._history.replaceState(K,rt,se)}forward(){this._history.forward()}back(){this._history.back()}historyGo(K=0){this._history.go(K)}getState(){return this._history.state}static#t=this.\u0275fac=function(rt){return new(rt||V)};static#e=this.\u0275prov=C.jDH({token:V,factory:()=>new V,providedIn:"platform"})}return V})();function At(V,st){if(0==V.length)return st;if(0==st.length)return V;let K=0;return V.endsWith("/")&&K++,st.startsWith("/")&&K++,2==K?V+st.substring(1):1==K?V+st:V+"/"+st}function Pt(V){const st=V.match(/#|\?|$/),K=st&&st.index||V.length;return V.slice(0,K-("/"===V[K-1]?1:0))+V.slice(K)}function yt(V){return V&&"?"!==V[0]?"?"+V:V}let Ft=(()=>{class V{historyGo(K){throw new Error("")}static#t=this.\u0275fac=function(rt){return new(rt||V)};static#e=this.\u0275prov=C.jDH({token:V,factory:()=>(0,C.WQX)(ue),providedIn:"root"})}return V})();const Ht=new C.nKC("");let ue=(()=>{class V extends Ft{constructor(K,rt){super(),this._platformLocation=K,this._removeListenerFns=[],this._baseHref=rt??this._platformLocation.getBaseHrefFromDOM()??(0,C.WQX)(jt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(K){this._removeListenerFns.push(this._platformLocation.onPopState(K),this._platformLocation.onHashChange(K))}getBaseHref(){return this._baseHref}prepareExternalUrl(K){return At(this._baseHref,K)}path(K=!1){const rt=this._platformLocation.pathname+yt(this._platformLocation.search),se=this._platformLocation.hash;return se&&K?`${rt}${se}`:rt}pushState(K,rt,se,sn){const En=this.prepareExternalUrl(se+yt(sn));this._platformLocation.pushState(K,rt,En)}replaceState(K,rt,se,sn){const En=this.prepareExternalUrl(se+yt(sn));this._platformLocation.replaceState(K,rt,En)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(K=0){this._platformLocation.historyGo?.(K)}static#t=this.\u0275fac=function(rt){return new(rt||V)(C.KVO(It),C.KVO(Ht,8))};static#e=this.\u0275prov=C.jDH({token:V,factory:V.\u0275fac,providedIn:"root"})}return V})(),ye=(()=>{class V extends Ft{constructor(K,rt){super(),this._platformLocation=K,this._baseHref="",this._removeListenerFns=[],null!=rt&&(this._baseHref=rt)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(K){this._removeListenerFns.push(this._platformLocation.onPopState(K),this._platformLocation.onHashChange(K))}getBaseHref(){return this._baseHref}path(K=!1){const rt=this._platformLocation.hash??"#";return rt.length>0?rt.substring(1):rt}prepareExternalUrl(K){const rt=At(this._baseHref,K);return rt.length>0?"#"+rt:rt}pushState(K,rt,se,sn){let En=this.prepareExternalUrl(se+yt(sn));0==En.length&&(En=this._platformLocation.pathname),this._platformLocation.pushState(K,rt,En)}replaceState(K,rt,se,sn){let En=this.prepareExternalUrl(se+yt(sn));0==En.length&&(En=this._platformLocation.pathname),this._platformLocation.replaceState(K,rt,En)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(K=0){this._platformLocation.historyGo?.(K)}static#t=this.\u0275fac=function(rt){return new(rt||V)(C.KVO(It),C.KVO(Ht,8))};static#e=this.\u0275prov=C.jDH({token:V,factory:V.\u0275fac})}return V})(),Le=(()=>{class V{constructor(K){this._subject=new C.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=K;const rt=this._locationStrategy.getBaseHref();this._basePath=function Qt(V){if(new RegExp("^(https?:)?//").test(V)){const[,K]=V.split(/\/\/[^\/]+/);return K}return V}(Pt(Ke(rt))),this._locationStrategy.onPopState(se=>{this._subject.emit({url:this.path(!0),pop:!0,state:se.state,type:se.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(K=!1){return this.normalize(this._locationStrategy.path(K))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(K,rt=""){return this.path()==this.normalize(K+yt(rt))}normalize(K){return V.stripTrailingSlash(function _e(V,st){if(!V||!st.startsWith(V))return st;const K=st.substring(V.length);return""===K||["/",";","?","#"].includes(K[0])?K:st}(this._basePath,Ke(K)))}prepareExternalUrl(K){return K&&"/"!==K[0]&&(K="/"+K),this._locationStrategy.prepareExternalUrl(K)}go(K,rt="",se=null){this._locationStrategy.pushState(se,"",K,rt),this._notifyUrlChangeListeners(this.prepareExternalUrl(K+yt(rt)),se)}replaceState(K,rt="",se=null){this._locationStrategy.replaceState(se,"",K,rt),this._notifyUrlChangeListeners(this.prepareExternalUrl(K+yt(rt)),se)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(K=0){this._locationStrategy.historyGo?.(K)}onUrlChange(K){return this._urlChangeListeners.push(K),this._urlChangeSubscription??=this.subscribe(rt=>{this._notifyUrlChangeListeners(rt.url,rt.state)}),()=>{const rt=this._urlChangeListeners.indexOf(K);this._urlChangeListeners.splice(rt,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(K="",rt){this._urlChangeListeners.forEach(se=>se(K,rt))}subscribe(K,rt,se){return this._subject.subscribe({next:K,error:rt,complete:se})}static#t=this.normalizeQueryParams=yt;static#e=this.joinWithSlash=At;static#n=this.stripTrailingSlash=Pt;static#i=this.\u0275fac=function(rt){return new(rt||V)(C.KVO(Ft))};static#r=this.\u0275prov=C.jDH({token:V,factory:()=>function rn(){return new Le((0,C.KVO)(Ft))}(),providedIn:"root"})}return V})();function Ke(V){return V.replace(/\/index.html$/,"")}function Qe(V,st){st=encodeURIComponent(st);for(const K of V.split(";")){const rt=K.indexOf("="),[se,sn]=-1==rt?[K,""]:[K.slice(0,rt),K.slice(rt+1)];if(se.trim()===st)return decodeURIComponent(sn)}return null}const Hn=/\s+/,fi=[];let gi=(()=>{class V{constructor(K,rt){this._ngEl=K,this._renderer=rt,this.initialClasses=fi,this.stateMap=new Map}set klass(K){this.initialClasses=null!=K?K.trim().split(Hn):fi}set ngClass(K){this.rawClass="string"==typeof K?K.trim().split(Hn):K}ngDoCheck(){for(const rt of this.initialClasses)this._updateState(rt,!0);const K=this.rawClass;if(Array.isArray(K)||K instanceof Set)for(const rt of K)this._updateState(rt,!0);else if(null!=K)for(const rt of Object.keys(K))this._updateState(rt,!!K[rt]);this._applyStateDiff()}_updateState(K,rt){const se=this.stateMap.get(K);void 0!==se?(se.enabled!==rt&&(se.changed=!0,se.enabled=rt),se.touched=!0):this.stateMap.set(K,{enabled:rt,changed:!0,touched:!0})}_applyStateDiff(){for(const K of this.stateMap){const rt=K[0],se=K[1];se.changed?(this._toggleClass(rt,se.enabled),se.changed=!1):se.touched||(se.enabled&&this._toggleClass(rt,!1),this.stateMap.delete(rt)),se.touched=!1}}_toggleClass(K,rt){(K=K.trim()).length>0&&K.split(Hn).forEach(se=>{rt?this._renderer.addClass(this._ngEl.nativeElement,se):this._renderer.removeClass(this._ngEl.nativeElement,se)})}static#t=this.\u0275fac=function(rt){return new(rt||V)(C.rXU(C.aKT),C.rXU(C.sFG))};static#e=this.\u0275dir=C.FsC({type:V,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}return V})();class le{constructor(st,K,rt,se){this.$implicit=st,this.ngForOf=K,this.index=rt,this.count=se}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let he=(()=>{class V{set ngForOf(K){this._ngForOf=K,this._ngForOfDirty=!0}set ngForTrackBy(K){this._trackByFn=K}get ngForTrackBy(){return this._trackByFn}constructor(K,rt,se){this._viewContainer=K,this._template=rt,this._differs=se,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(K){K&&(this._template=K)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const K=this._ngForOf;!this._differ&&K&&(this._differ=this._differs.find(K).create(this.ngForTrackBy))}if(this._differ){const K=this._differ.diff(this._ngForOf);K&&this._applyChanges(K)}}_applyChanges(K){const rt=this._viewContainer;K.forEachOperation((se,sn,En)=>{if(null==se.previousIndex)rt.createEmbeddedView(this._template,new le(se.item,this._ngForOf,-1,-1),null===En?void 0:En);else if(null==En)rt.remove(null===sn?void 0:sn);else if(null!==sn){const vi=rt.get(sn);rt.move(vi,En),Ne(vi,se)}});for(let se=0,sn=rt.length;se<sn;se++){const vi=rt.get(se).context;vi.index=se,vi.count=sn,vi.ngForOf=this._ngForOf}K.forEachIdentityChange(se=>{Ne(rt.get(se.currentIndex),se)})}static ngTemplateContextGuard(K,rt){return!0}static#t=this.\u0275fac=function(rt){return new(rt||V)(C.rXU(C.c1b),C.rXU(C.C4Q),C.rXU(C._q3))};static#e=this.\u0275dir=C.FsC({type:V,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return V})();function Ne(V,st){V.context.$implicit=st.item}let Pn=(()=>{class V{constructor(K,rt){this._viewContainer=K,this._context=new Rn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=rt}set ngIf(K){this._context.$implicit=this._context.ngIf=K,this._updateView()}set ngIfThen(K){Ei("ngIfThen",K),this._thenTemplateRef=K,this._thenViewRef=null,this._updateView()}set ngIfElse(K){Ei("ngIfElse",K),this._elseTemplateRef=K,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(K,rt){return!0}static#t=this.\u0275fac=function(rt){return new(rt||V)(C.rXU(C.c1b),C.rXU(C.C4Q))};static#e=this.\u0275dir=C.FsC({type:V,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return V})();class Rn{constructor(){this.$implicit=null,this.ngIf=null}}function Ei(V,st){if(st&&!st.createEmbeddedView)throw new Error(`${V} must be a TemplateRef, but received '${(0,C.Tbb)(st)}'.`)}let ko=(()=>{class V{constructor(K){this._viewContainerRef=K,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(K){if(this._shouldRecreateView(K)){const rt=this._viewContainerRef;if(this._viewRef&&rt.remove(rt.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const se=this._createContextForwardProxy();this._viewRef=rt.createEmbeddedView(this.ngTemplateOutlet,se,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(K){return!!K.ngTemplateOutlet||!!K.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(K,rt,se)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,rt,se),get:(K,rt,se)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,rt,se)}})}static#t=this.\u0275fac=function(rt){return new(rt||V)(C.rXU(C.c1b))};static#e=this.\u0275dir=C.FsC({type:V,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[C.OA$]})}return V})();class ze{createSubscription(st,K){return(0,C.O8t)(()=>st.subscribe({next:K,error:rt=>{throw rt}}))}dispose(st){(0,C.O8t)(()=>st.unsubscribe())}}class nn{createSubscription(st,K){return st.then(K,rt=>{throw rt})}dispose(st){}}const jn=new nn,Zn=new ze;let Ui=(()=>{class V{constructor(K){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=K}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(K){if(!this._obj){if(K)try{this.markForCheckOnValueUpdate=!1,this._subscribe(K)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return K!==this._obj?(this._dispose(),this.transform(K)):this._latestValue}_subscribe(K){this._obj=K,this._strategy=this._selectStrategy(K),this._subscription=this._strategy.createSubscription(K,rt=>this._updateLatestValue(K,rt))}_selectStrategy(K){if((0,C.jNT)(K))return jn;if((0,C.zjR)(K))return Zn;throw function Ae(V,st){return new C.wOt(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(K,rt){K===this._obj&&(this._latestValue=rt,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static#t=this.\u0275fac=function(rt){return new(rt||V)(C.rXU(C.gRc,16))};static#e=this.\u0275pipe=C.EJ8({name:"async",type:V,pure:!1,standalone:!0})}return V})(),Ya=(()=>{class V{static#t=this.\u0275fac=function(rt){return new(rt||V)};static#e=this.\u0275mod=C.$C({type:V});static#n=this.\u0275inj=C.G2t({})}return V})();const fl="browser",ka="server";function nu(V){return V===fl}function gc(V){return V===ka}class Rh{}},7715:(mn,ae,P)=>{"use strict";P.d(ae,{$R:()=>An,Qq:()=>Dt,b$:()=>ei});var C=P(6994),H=P(4291),g=P(3204),lt=P(3982),ct=P(3467),it=P(5799),jt=P(2647),It=P(8199),pt=P(4507),bt=P(7071),At=P(9284);class Pt{}class yt{}class Ft{constructor(le){this.normalizedNames=new Map,this.lazyUpdate=null,le?"string"==typeof le?this.lazyInit=()=>{this.headers=new Map,le.split("\n").forEach(he=>{const Ne=he.indexOf(":");if(Ne>0){const bn=he.slice(0,Ne),Pn=bn.toLowerCase(),Rn=he.slice(Ne+1).trim();this.maybeSetNormalizedName(bn,Pn),this.headers.has(Pn)?this.headers.get(Pn).push(Rn):this.headers.set(Pn,[Rn])}})}:typeof Headers<"u"&&le instanceof Headers?(this.headers=new Map,le.forEach((he,Ne)=>{this.setHeaderEntries(Ne,he)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(le).forEach(([he,Ne])=>{this.setHeaderEntries(he,Ne)})}:this.headers=new Map}has(le){return this.init(),this.headers.has(le.toLowerCase())}get(le){this.init();const he=this.headers.get(le.toLowerCase());return he&&he.length>0?he[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(le){return this.init(),this.headers.get(le.toLowerCase())||null}append(le,he){return this.clone({name:le,value:he,op:"a"})}set(le,he){return this.clone({name:le,value:he,op:"s"})}delete(le,he){return this.clone({name:le,value:he,op:"d"})}maybeSetNormalizedName(le,he){this.normalizedNames.has(he)||this.normalizedNames.set(he,le)}init(){this.lazyInit&&(this.lazyInit instanceof Ft?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(le=>this.applyUpdate(le)),this.lazyUpdate=null))}copyFrom(le){le.init(),Array.from(le.headers.keys()).forEach(he=>{this.headers.set(he,le.headers.get(he)),this.normalizedNames.set(he,le.normalizedNames.get(he))})}clone(le){const he=new Ft;return he.lazyInit=this.lazyInit&&this.lazyInit instanceof Ft?this.lazyInit:this,he.lazyUpdate=(this.lazyUpdate||[]).concat([le]),he}applyUpdate(le){const he=le.name.toLowerCase();switch(le.op){case"a":case"s":let Ne=le.value;if("string"==typeof Ne&&(Ne=[Ne]),0===Ne.length)return;this.maybeSetNormalizedName(le.name,he);const bn=("a"===le.op?this.headers.get(he):void 0)||[];bn.push(...Ne),this.headers.set(he,bn);break;case"d":const Pn=le.value;if(Pn){let Rn=this.headers.get(he);if(!Rn)return;Rn=Rn.filter(Ei=>-1===Pn.indexOf(Ei)),0===Rn.length?(this.headers.delete(he),this.normalizedNames.delete(he)):this.headers.set(he,Rn)}else this.headers.delete(he),this.normalizedNames.delete(he)}}setHeaderEntries(le,he){const Ne=(Array.isArray(he)?he:[he]).map(Pn=>Pn.toString()),bn=le.toLowerCase();this.headers.set(bn,Ne),this.maybeSetNormalizedName(le,bn)}forEach(le){this.init(),Array.from(this.normalizedNames.keys()).forEach(he=>le(this.normalizedNames.get(he),this.headers.get(he)))}}class ue{encodeKey(le){return _e(le)}encodeValue(le){return _e(le)}decodeKey(le){return decodeURIComponent(le)}decodeValue(le){return decodeURIComponent(le)}}const Le=/%(\d[a-f0-9])/gi,rn={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function _e(Ct){return encodeURIComponent(Ct).replace(Le,(le,he)=>rn[he]??le)}function Ke(Ct){return`${Ct}`}class Qt{constructor(le={}){if(this.updates=null,this.cloneFrom=null,this.encoder=le.encoder||new ue,le.fromString){if(le.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function ye(Ct,le){const he=new Map;return Ct.length>0&&Ct.replace(/^\?/,"").split("&").forEach(bn=>{const Pn=bn.indexOf("="),[Rn,Ei]=-1==Pn?[le.decodeKey(bn),""]:[le.decodeKey(bn.slice(0,Pn)),le.decodeValue(bn.slice(Pn+1))],Ci=he.get(Rn)||[];Ci.push(Ei),he.set(Rn,Ci)}),he}(le.fromString,this.encoder)}else le.fromObject?(this.map=new Map,Object.keys(le.fromObject).forEach(he=>{const Ne=le.fromObject[he],bn=Array.isArray(Ne)?Ne.map(Ke):[Ke(Ne)];this.map.set(he,bn)})):this.map=null}has(le){return this.init(),this.map.has(le)}get(le){this.init();const he=this.map.get(le);return he?he[0]:null}getAll(le){return this.init(),this.map.get(le)||null}keys(){return this.init(),Array.from(this.map.keys())}append(le,he){return this.clone({param:le,value:he,op:"a"})}appendAll(le){const he=[];return Object.keys(le).forEach(Ne=>{const bn=le[Ne];Array.isArray(bn)?bn.forEach(Pn=>{he.push({param:Ne,value:Pn,op:"a"})}):he.push({param:Ne,value:bn,op:"a"})}),this.clone(he)}set(le,he){return this.clone({param:le,value:he,op:"s"})}delete(le,he){return this.clone({param:le,value:he,op:"d"})}toString(){return this.init(),this.keys().map(le=>{const he=this.encoder.encodeKey(le);return this.map.get(le).map(Ne=>he+"="+this.encoder.encodeValue(Ne)).join("&")}).filter(le=>""!==le).join("&")}clone(le){const he=new Qt({encoder:this.encoder});return he.cloneFrom=this.cloneFrom||this,he.updates=(this.updates||[]).concat(le),he}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(le=>this.map.set(le,this.cloneFrom.map.get(le))),this.updates.forEach(le=>{switch(le.op){case"a":case"s":const he=("a"===le.op?this.map.get(le.param):void 0)||[];he.push(Ke(le.value)),this.map.set(le.param,he);break;case"d":if(void 0===le.value){this.map.delete(le.param);break}{let Ne=this.map.get(le.param)||[];const bn=Ne.indexOf(Ke(le.value));-1!==bn&&Ne.splice(bn,1),Ne.length>0?this.map.set(le.param,Ne):this.map.delete(le.param)}}}),this.cloneFrom=this.updates=null)}}class kt{constructor(){this.map=new Map}set(le,he){return this.map.set(le,he),this}get(le){return this.map.has(le)||this.map.set(le,le.defaultValue()),this.map.get(le)}delete(le){return this.map.delete(le),this}has(le){return this.map.has(le)}keys(){return this.map.keys()}}function Te(Ct){return typeof ArrayBuffer<"u"&&Ct instanceof ArrayBuffer}function oe(Ct){return typeof Blob<"u"&&Ct instanceof Blob}function Kt(Ct){return typeof FormData<"u"&&Ct instanceof FormData}class ke{constructor(le,he,Ne,bn){let Pn;if(this.url=he,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=le.toUpperCase(),function pe(Ct){switch(Ct){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||bn?(this.body=void 0!==Ne?Ne:null,Pn=bn):Pn=Ne,Pn&&(this.reportProgress=!!Pn.reportProgress,this.withCredentials=!!Pn.withCredentials,Pn.responseType&&(this.responseType=Pn.responseType),Pn.headers&&(this.headers=Pn.headers),Pn.context&&(this.context=Pn.context),Pn.params&&(this.params=Pn.params),this.transferCache=Pn.transferCache),this.headers??=new Ft,this.context??=new kt,this.params){const Rn=this.params.toString();if(0===Rn.length)this.urlWithParams=he;else{const Ei=he.indexOf("?");this.urlWithParams=he+(-1===Ei?"?":Ei<he.length-1?"&":"")+Rn}}else this.params=new Qt,this.urlWithParams=he}serializeBody(){return null===this.body?null:"string"==typeof this.body||Te(this.body)||oe(this.body)||Kt(this.body)||function Zt(Ct){return typeof URLSearchParams<"u"&&Ct instanceof URLSearchParams}(this.body)?this.body:this.body instanceof Qt?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Kt(this.body)?null:oe(this.body)?this.body.type||null:Te(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Qt?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(le={}){const he=le.method||this.method,Ne=le.url||this.url,bn=le.responseType||this.responseType,Pn=le.transferCache??this.transferCache,Rn=void 0!==le.body?le.body:this.body,Ei=le.withCredentials??this.withCredentials,Ci=le.reportProgress??this.reportProgress;let dr=le.headers||this.headers,Zr=le.params||this.params;const vr=le.context??this.context;return void 0!==le.setHeaders&&(dr=Object.keys(le.setHeaders).reduce((Wr,io)=>Wr.set(io,le.setHeaders[io]),dr)),le.setParams&&(Zr=Object.keys(le.setParams).reduce((Wr,io)=>Wr.set(io,le.setParams[io]),Zr)),new ke(he,Ne,Rn,{params:Zr,headers:dr,context:vr,reportProgress:Ci,responseType:bn,withCredentials:Ei,transferCache:Pn})}}var De=function(Ct){return Ct[Ct.Sent=0]="Sent",Ct[Ct.UploadProgress=1]="UploadProgress",Ct[Ct.ResponseHeader=2]="ResponseHeader",Ct[Ct.DownloadProgress=3]="DownloadProgress",Ct[Ct.Response=4]="Response",Ct[Ct.User=5]="User",Ct}(De||{});class ge{constructor(le,he=200,Ne="OK"){this.headers=le.headers||new Ft,this.status=void 0!==le.status?le.status:he,this.statusText=le.statusText||Ne,this.url=le.url||null,this.ok=this.status>=200&&this.status<300}}class Oe extends ge{constructor(le={}){super(le),this.type=De.ResponseHeader}clone(le={}){return new Oe({headers:le.headers||this.headers,status:void 0!==le.status?le.status:this.status,statusText:le.statusText||this.statusText,url:le.url||this.url||void 0})}}class ee extends ge{constructor(le={}){super(le),this.type=De.Response,this.body=void 0!==le.body?le.body:null}clone(le={}){return new ee({body:void 0!==le.body?le.body:this.body,headers:le.headers||this.headers,status:void 0!==le.status?le.status:this.status,statusText:le.statusText||this.statusText,url:le.url||this.url||void 0})}}class Ot extends ge{constructor(le){super(le,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${le.url||"(unknown url)"}`:`Http failure response for ${le.url||"(unknown url)"}: ${le.status} ${le.statusText}`,this.error=le.error||null}}function ot(Ct,le){return{body:le,headers:Ct.headers,context:Ct.context,observe:Ct.observe,params:Ct.params,reportProgress:Ct.reportProgress,responseType:Ct.responseType,withCredentials:Ct.withCredentials,transferCache:Ct.transferCache}}let Dt=(()=>{class Ct{constructor(he){this.handler=he}request(he,Ne,bn={}){let Pn;if(he instanceof ke)Pn=he;else{let Ci,dr;Ci=bn.headers instanceof Ft?bn.headers:new Ft(bn.headers),bn.params&&(dr=bn.params instanceof Qt?bn.params:new Qt({fromObject:bn.params})),Pn=new ke(he,Ne,void 0!==bn.body?bn.body:null,{headers:Ci,context:bn.context,params:dr,reportProgress:bn.reportProgress,responseType:bn.responseType||"json",withCredentials:bn.withCredentials,transferCache:bn.transferCache})}const Rn=(0,g.of)(Pn).pipe((0,it.H)(Ci=>this.handler.handle(Ci)));if(he instanceof ke||"events"===bn.observe)return Rn;const Ei=Rn.pipe((0,jt.p)(Ci=>Ci instanceof ee));switch(bn.observe||"body"){case"body":switch(Pn.responseType){case"arraybuffer":return Ei.pipe((0,It.T)(Ci=>{if(null!==Ci.body&&!(Ci.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Ci.body}));case"blob":return Ei.pipe((0,It.T)(Ci=>{if(null!==Ci.body&&!(Ci.body instanceof Blob))throw new Error("Response is not a Blob.");return Ci.body}));case"text":return Ei.pipe((0,It.T)(Ci=>{if(null!==Ci.body&&"string"!=typeof Ci.body)throw new Error("Response is not a string.");return Ci.body}));default:return Ei.pipe((0,It.T)(Ci=>Ci.body))}case"response":return Ei;default:throw new Error(`Unreachable: unhandled observe type ${bn.observe}}`)}}delete(he,Ne={}){return this.request("DELETE",he,Ne)}get(he,Ne={}){return this.request("GET",he,Ne)}head(he,Ne={}){return this.request("HEAD",he,Ne)}jsonp(he,Ne){return this.request("JSONP",he,{params:(new Qt).append(Ne,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(he,Ne={}){return this.request("OPTIONS",he,Ne)}patch(he,Ne,bn={}){return this.request("PATCH",he,ot(bn,Ne))}post(he,Ne,bn={}){return this.request("POST",he,ot(bn,Ne))}put(he,Ne,bn={}){return this.request("PUT",he,ot(bn,Ne))}static#t=this.\u0275fac=function(Ne){return new(Ne||Ct)(H.KVO(Pt))};static#e=this.\u0275prov=H.jDH({token:Ct,factory:Ct.\u0275fac})}return Ct})();const dt=/^\)\]\}',?\n/;function Ee(Ct){if(Ct.url)return Ct.url;const le="X-Request-URL".toLocaleLowerCase();return Ct.headers.get(le)}let we=(()=>{class Ct{constructor(){this.fetchImpl=(0,H.WQX)(Ie,{optional:!0})?.fetch??((...he)=>globalThis.fetch(...he)),this.ngZone=(0,H.WQX)(H.SKi)}handle(he){return new lt.c(Ne=>{const bn=new AbortController;return this.doRequest(he,bn.signal,Ne).then(fn,Pn=>Ne.error(new Ot({error:Pn}))),()=>bn.abort()})}doRequest(he,Ne,bn){var Pn=this;return(0,C.A)(function*(){const Rn=Pn.createRequestInit(he);let Ei;try{const Oo=Pn.ngZone.runOutsideAngular(()=>Pn.fetchImpl(he.urlWithParams,{signal:Ne,...Rn}));(function Un(Ct){Ct.then(fn,fn)})(Oo),bn.next({type:De.Sent}),Ei=yield Oo}catch(Oo){return void bn.error(new Ot({error:Oo,status:Oo.status??0,statusText:Oo.statusText,url:he.urlWithParams,headers:Oo.headers}))}const Ci=new Ft(Ei.headers),dr=Ei.statusText,Zr=Ee(Ei)??he.urlWithParams;let vr=Ei.status,Wr=null;if(he.reportProgress&&bn.next(new Oe({headers:Ci,status:vr,statusText:dr,url:Zr})),Ei.body){const Oo=Ei.headers.get("content-length"),Wi=[],Mr=Ei.body.getReader();let Bt,Ae,ko=0;const ze=typeof Zone<"u"&&Zone.current;yield Pn.ngZone.runOutsideAngular((0,C.A)(function*(){for(;;){const{done:jn,value:Zn}=yield Mr.read();if(jn)break;if(Wi.push(Zn),ko+=Zn.length,he.reportProgress){Ae="text"===he.responseType?(Ae??"")+(Bt??=new TextDecoder).decode(Zn,{stream:!0}):void 0;const Ui=()=>bn.next({type:De.DownloadProgress,total:Oo?+Oo:void 0,loaded:ko,partialText:Ae});ze?ze.run(Ui):Ui()}}}));const nn=Pn.concatChunks(Wi,ko);try{const jn=Ei.headers.get("Content-Type")??"";Wr=Pn.parseBody(he,nn,jn)}catch(jn){return void bn.error(new Ot({error:jn,headers:new Ft(Ei.headers),status:Ei.status,statusText:Ei.statusText,url:Ee(Ei)??he.urlWithParams}))}}0===vr&&(vr=Wr?200:0),vr>=200&&vr<300?(bn.next(new ee({body:Wr,headers:Ci,status:vr,statusText:dr,url:Zr})),bn.complete()):bn.error(new Ot({error:Wr,headers:Ci,status:vr,statusText:dr,url:Zr}))})()}parseBody(he,Ne,bn){switch(he.responseType){case"json":const Pn=(new TextDecoder).decode(Ne).replace(dt,"");return""===Pn?null:JSON.parse(Pn);case"text":return(new TextDecoder).decode(Ne);case"blob":return new Blob([Ne],{type:bn});case"arraybuffer":return Ne.buffer}}createRequestInit(he){const Ne={},bn=he.withCredentials?"include":void 0;if(he.headers.forEach((Pn,Rn)=>Ne[Pn]=Rn.join(",")),he.headers.has("Accept")||(Ne.Accept="application/json, text/plain, */*"),!he.headers.has("Content-Type")){const Pn=he.detectContentTypeHeader();null!==Pn&&(Ne["Content-Type"]=Pn)}return{body:he.serializeBody(),method:he.method,headers:Ne,credentials:bn}}concatChunks(he,Ne){const bn=new Uint8Array(Ne);let Pn=0;for(const Rn of he)bn.set(Rn,Pn),Pn+=Rn.length;return bn}static#t=this.\u0275fac=function(Ne){return new(Ne||Ct)};static#e=this.\u0275prov=H.jDH({token:Ct,factory:Ct.\u0275fac})}return Ct})();class Ie{}function fn(){}function Ri(Ct,le){return le(Ct)}const Li=new H.nKC(""),Ni=new H.nKC(""),Vi=new H.nKC("",{providedIn:"root",factory:()=>!0});let kr=(()=>{class Ct extends Pt{constructor(he,Ne){super(),this.backend=he,this.injector=Ne,this.chain=null,this.pendingTasks=(0,H.WQX)(H.TgB),this.contributeToStability=(0,H.WQX)(Vi)}handle(he){if(null===this.chain){const Ne=Array.from(new Set([...this.injector.get(Li),...this.injector.get(Ni,[])]));this.chain=Ne.reduceRight((bn,Pn)=>function ci(Ct,le,he){return(Ne,bn)=>(0,H.N4e)(he,()=>le(Ne,Pn=>Ct(Pn,bn)))}(bn,Pn,this.injector),Ri)}if(this.contributeToStability){const Ne=this.pendingTasks.add();return this.chain(he,bn=>this.backend.handle(bn)).pipe((0,pt.j)(()=>this.pendingTasks.remove(Ne)))}return this.chain(he,Ne=>this.backend.handle(Ne))}static#t=this.\u0275fac=function(Ne){return new(Ne||Ct)(H.KVO(yt),H.KVO(H.uvJ))};static#e=this.\u0275prov=H.jDH({token:Ct,factory:Ct.\u0275fac})}return Ct})();const on=/^\)\]\}',?\n/;let si=(()=>{class Ct{constructor(he){this.xhrFactory=he}handle(he){if("JSONP"===he.method)throw new H.wOt(-2800,!1);const Ne=this.xhrFactory;return(Ne.\u0275loadImpl?(0,ct.H)(Ne.\u0275loadImpl()):(0,g.of)(null)).pipe((0,bt.n)(()=>new lt.c(Pn=>{const Rn=Ne.build();if(Rn.open(he.method,he.urlWithParams),he.withCredentials&&(Rn.withCredentials=!0),he.headers.forEach((Wi,Mr)=>Rn.setRequestHeader(Wi,Mr.join(","))),he.headers.has("Accept")||Rn.setRequestHeader("Accept","application/json, text/plain, */*"),!he.headers.has("Content-Type")){const Wi=he.detectContentTypeHeader();null!==Wi&&Rn.setRequestHeader("Content-Type",Wi)}if(he.responseType){const Wi=he.responseType.toLowerCase();Rn.responseType="json"!==Wi?Wi:"text"}const Ei=he.serializeBody();let Ci=null;const dr=()=>{if(null!==Ci)return Ci;const Wi=Rn.statusText||"OK",Mr=new Ft(Rn.getAllResponseHeaders()),ko=function Sn(Ct){return"responseURL"in Ct&&Ct.responseURL?Ct.responseURL:/^X-Request-URL:/m.test(Ct.getAllResponseHeaders())?Ct.getResponseHeader("X-Request-URL"):null}(Rn)||he.url;return Ci=new Oe({headers:Mr,status:Rn.status,statusText:Wi,url:ko}),Ci},Zr=()=>{let{headers:Wi,status:Mr,statusText:ko,url:Bt}=dr(),Ae=null;204!==Mr&&(Ae=typeof Rn.response>"u"?Rn.responseText:Rn.response),0===Mr&&(Mr=Ae?200:0);let ze=Mr>=200&&Mr<300;if("json"===he.responseType&&"string"==typeof Ae){const nn=Ae;Ae=Ae.replace(on,"");try{Ae=""!==Ae?JSON.parse(Ae):null}catch(jn){Ae=nn,ze&&(ze=!1,Ae={error:jn,text:Ae})}}ze?(Pn.next(new ee({body:Ae,headers:Wi,status:Mr,statusText:ko,url:Bt||void 0})),Pn.complete()):Pn.error(new Ot({error:Ae,headers:Wi,status:Mr,statusText:ko,url:Bt||void 0}))},vr=Wi=>{const{url:Mr}=dr(),ko=new Ot({error:Wi,status:Rn.status||0,statusText:Rn.statusText||"Unknown Error",url:Mr||void 0});Pn.error(ko)};let Wr=!1;const io=Wi=>{Wr||(Pn.next(dr()),Wr=!0);let Mr={type:De.DownloadProgress,loaded:Wi.loaded};Wi.lengthComputable&&(Mr.total=Wi.total),"text"===he.responseType&&Rn.responseText&&(Mr.partialText=Rn.responseText),Pn.next(Mr)},Oo=Wi=>{let Mr={type:De.UploadProgress,loaded:Wi.loaded};Wi.lengthComputable&&(Mr.total=Wi.total),Pn.next(Mr)};return Rn.addEventListener("load",Zr),Rn.addEventListener("error",vr),Rn.addEventListener("timeout",vr),Rn.addEventListener("abort",vr),he.reportProgress&&(Rn.addEventListener("progress",io),null!==Ei&&Rn.upload&&Rn.upload.addEventListener("progress",Oo)),Rn.send(Ei),Pn.next({type:De.Sent}),()=>{Rn.removeEventListener("error",vr),Rn.removeEventListener("abort",vr),Rn.removeEventListener("load",Zr),Rn.removeEventListener("timeout",vr),he.reportProgress&&(Rn.removeEventListener("progress",io),null!==Ei&&Rn.upload&&Rn.upload.removeEventListener("progress",Oo)),Rn.readyState!==Rn.DONE&&Rn.abort()}})))}static#t=this.\u0275fac=function(Ne){return new(Ne||Ct)(H.KVO(At.N0))};static#e=this.\u0275prov=H.jDH({token:Ct,factory:Ct.\u0275fac})}return Ct})();const xe=new H.nKC(""),en=new H.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),$e=new H.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Bn{}let Rt=(()=>{class Ct{constructor(he,Ne,bn){this.doc=he,this.platform=Ne,this.cookieName=bn,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const he=this.doc.cookie||"";return he!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,At._b)(he,this.cookieName),this.lastCookieString=he),this.lastToken}static#t=this.\u0275fac=function(Ne){return new(Ne||Ct)(H.KVO(At.qQ),H.KVO(H.Agw),H.KVO(en))};static#e=this.\u0275prov=H.jDH({token:Ct,factory:Ct.\u0275fac})}return Ct})();function Tt(Ct,le){const he=Ct.url.toLowerCase();if(!(0,H.WQX)(xe)||"GET"===Ct.method||"HEAD"===Ct.method||he.startsWith("http://")||he.startsWith("https://"))return le(Ct);const Ne=(0,H.WQX)(Bn).getToken(),bn=(0,H.WQX)($e);return null!=Ne&&!Ct.headers.has(bn)&&(Ct=Ct.clone({headers:Ct.headers.set(bn,Ne)})),le(Ct)}var Lt=function(Ct){return Ct[Ct.Interceptors=0]="Interceptors",Ct[Ct.LegacyInterceptors=1]="LegacyInterceptors",Ct[Ct.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Ct[Ct.NoXsrfProtection=3]="NoXsrfProtection",Ct[Ct.JsonpSupport=4]="JsonpSupport",Ct[Ct.RequestsMadeViaParent=5]="RequestsMadeViaParent",Ct[Ct.Fetch=6]="Fetch",Ct}(Lt||{});function An(...Ct){const le=[Dt,si,kr,{provide:Pt,useExisting:kr},{provide:yt,useFactory:()=>(0,H.WQX)(we,{optional:!0})??(0,H.WQX)(si)},{provide:Li,useValue:Tt,multi:!0},{provide:xe,useValue:!0},{provide:Bn,useClass:Rt}];for(const he of Ct)le.push(...he.\u0275providers);return(0,H.EmA)(le)}function ei(Ct){return function Ze(Ct,le){return{\u0275kind:Ct,\u0275providers:le}}(Lt.Interceptors,Ct.map(le=>({provide:Li,useValue:le,multi:!0})))}},4291:(mn,ae,P)=>{"use strict";function C(c,h){return Object.is(c,h)}P.d(ae,{bc$:()=>t5,iLQ:()=>Cu,sZ2:()=>Xg,hnV:()=>Ms,o8S:()=>ud,BIS:()=>e5,gRc:()=>LI,Ql9:()=>x2,OM3:()=>am,Ocv:()=>dh,abz:()=>A0,Z63:()=>bs,aKT:()=>k0,uvJ:()=>$s,zcH:()=>ed,bkB:()=>td,y_5:()=>Pd,$GK:()=>Ii,nKC:()=>li,zZn:()=>Es,_q3:()=>qC,MKu:()=>To,xe9:()=>Vc,Co$:()=>ib,Vns:()=>wp,SKi:()=>os,Xx1:()=>Bl,Agw:()=>Yy,PLl:()=>BT,rOR:()=>hu,sFG:()=>eO,_9s:()=>G1,czy:()=>o1,WPN:()=>op,kdw:()=>vc,C4Q:()=>od,NYb:()=>Jo,giA:()=>al,RxE:()=>E2,c1b:()=>X1,gXe:()=>bc,mal:()=>Fv,Tzd:()=>mm,Af3:()=>ou,tdH:()=>tc,L39:()=>$8,EWP:()=>K8,sbv:()=>kv,a0P:()=>Um,Ol2:()=>ob,w6W:()=>hm,QZP:()=>b_,Rfq:()=>Rt,oKB:()=>xg,WQX:()=>Si,hFB:()=>GN,naY:()=>VC,Hps:()=>Bx,QuC:()=>xc,EmA:()=>_a,Udg:()=>R2,CGW:()=>mT,N4e:()=>Uh,vPA:()=>jx,O8t:()=>X8,ebz:()=>t6,H3F:()=>vI,H8p:()=>Xf,KH2:()=>Lp,TgB:()=>Zh,wOt:()=>Tn,WHO:()=>TI,e01:()=>AI,lNU:()=>Vi,h9k:()=>Sw,$MX:()=>e1,ZF7:()=>z0,Kcf:()=>v5,e5t:()=>_5,UyX:()=>b5,cWb:()=>y5,osQ:()=>JT,H5H:()=>IM,Zy3:()=>er,mq5:()=>RM,JZv:()=>on,TL3:()=>s3,LfX:()=>Ye,plB:()=>nh,jNT:()=>gn,zjR:()=>Wp,ngT:()=>na,TL$:()=>JN,Tbb:()=>en,rcV:()=>Zd,nM4:()=>CO,Vt3:()=>zn,GFd:()=>TO,OA$:()=>ji,Jv_:()=>cC,aNF:()=>zb,R7$:()=>jw,BMQ:()=>Uv,HbH:()=>nk,ZvI:()=>lk,AVh:()=>Kv,vxM:()=>pb,wni:()=>Eu,C6U:()=>s2,SS7:()=>Fb,VBU:()=>Fh,FsC:()=>$f,jDH:()=>te,G2t:()=>ne,$C:()=>ba,EJ8:()=>y0,rXU:()=>rd,nrm:()=>Zv,eu8:()=>TM,bVm:()=>bb,qex:()=>Dm,k0s:()=>Yv,j41:()=>yb,RV6:()=>vk,xGo:()=>Yd,Mr5:()=>OM,KVO:()=>Hr,kS0:()=>zg,QTQ:()=>TA,bIt:()=>e2,lsd:()=>Xk,joV:()=>zD,qSk:()=>VD,XpG:()=>km,nI1:()=>vC,bMT:()=>yC,SdG:()=>Sb,NAR:()=>Cb,Y8G:()=>bM,eq3:()=>dC,ziG:()=>lI,NyB:()=>Tb,mGM:()=>Kk,r8f:()=>aC,sdS:()=>Ob,Dyx:()=>SM,Z7z:()=>yu,Vm6:()=>mk,Njj:()=>Ai,eBV:()=>TD,npT:()=>sA,B4B:()=>Tw,n$t:()=>Aw,bH3:()=>sC,xc7:()=>Wv,Kam:()=>n2,zvX:()=>kM,DNE:()=>Yx,C5r:()=>bC,EFF:()=>Pb,JRh:()=>l2,SpI:()=>c2,DH7:()=>rC,mxI:()=>oC,R50:()=>Lb,GBs:()=>ZM,wEZ:()=>a2});let H=null,g=!1,lt=1;const ct=Symbol("SIGNAL");function it(c){const h=H;return H=c,h}function jt(){return H}const bt={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function At(c){if(g)throw new Error("");if(null===H)return;H.consumerOnSignalRead(c);const h=H.nextProducerIndex++;kt(H),h<H.producerNode.length&&H.producerNode[h]!==c&&Ut(H)&&Qt(H.producerNode[h],H.producerIndexOfThis[h]),H.producerNode[h]!==c&&(H.producerNode[h]=c,H.producerIndexOfThis[h]=Ut(H)?Ke(c,H,h):0),H.producerLastReadVersion[h]=c.version}function yt(c){if((!Ut(c)||c.dirty)&&(c.dirty||c.lastCleanEpoch!==lt)){if(!c.producerMustRecompute(c)&&!rn(c))return c.dirty=!1,void(c.lastCleanEpoch=lt);c.producerRecomputeValue(c),c.dirty=!1,c.lastCleanEpoch=lt}}function Ft(c){if(void 0===c.liveConsumerNode)return;const h=g;g=!0;try{for(const p of c.liveConsumerNode)p.dirty||ue(p)}finally{g=h}}function Ht(){return!1!==H?.consumerAllowSignalWrites}function ue(c){c.dirty=!0,Ft(c),c.consumerMarkedDirty?.(c)}function ye(c){return c&&(c.nextProducerIndex=0),it(c)}function Le(c,h){if(it(h),c&&void 0!==c.producerNode&&void 0!==c.producerIndexOfThis&&void 0!==c.producerLastReadVersion){if(Ut(c))for(let p=c.nextProducerIndex;p<c.producerNode.length;p++)Qt(c.producerNode[p],c.producerIndexOfThis[p]);for(;c.producerNode.length>c.nextProducerIndex;)c.producerNode.pop(),c.producerLastReadVersion.pop(),c.producerIndexOfThis.pop()}}function rn(c){kt(c);for(let h=0;h<c.producerNode.length;h++){const p=c.producerNode[h],v=c.producerLastReadVersion[h];if(v!==p.version||(yt(p),v!==p.version))return!0}return!1}function _e(c){if(kt(c),Ut(c))for(let h=0;h<c.producerNode.length;h++)Qt(c.producerNode[h],c.producerIndexOfThis[h]);c.producerNode.length=c.producerLastReadVersion.length=c.producerIndexOfThis.length=0,c.liveConsumerNode&&(c.liveConsumerNode.length=c.liveConsumerIndexOfThis.length=0)}function Ke(c,h,p){if(pe(c),0===c.liveConsumerNode.length&&Te(c))for(let v=0;v<c.producerNode.length;v++)c.producerIndexOfThis[v]=Ke(c.producerNode[v],c,v);return c.liveConsumerIndexOfThis.push(p),c.liveConsumerNode.push(h)-1}function Qt(c,h){if(pe(c),1===c.liveConsumerNode.length&&Te(c))for(let v=0;v<c.producerNode.length;v++)Qt(c.producerNode[v],c.producerIndexOfThis[v]);const p=c.liveConsumerNode.length-1;if(c.liveConsumerNode[h]=c.liveConsumerNode[p],c.liveConsumerIndexOfThis[h]=c.liveConsumerIndexOfThis[p],c.liveConsumerNode.length--,c.liveConsumerIndexOfThis.length--,h<c.liveConsumerNode.length){const v=c.liveConsumerIndexOfThis[h],_=c.liveConsumerNode[h];kt(_),_.producerIndexOfThis[v]=h}}function Ut(c){return c.consumerIsAlwaysLive||(c?.liveConsumerNode?.length??0)>0}function kt(c){c.producerNode??=[],c.producerIndexOfThis??=[],c.producerLastReadVersion??=[]}function pe(c){c.liveConsumerNode??=[],c.liveConsumerIndexOfThis??=[]}function Te(c){return void 0!==c.producerNode}function oe(c){const h=Object.create(De);h.computation=c;const p=()=>{if(yt(h),At(h),h.value===ke)throw h.error;return h.value};return p[ct]=h,p}const Kt=Symbol("UNSET"),Zt=Symbol("COMPUTING"),ke=Symbol("ERRORED"),De={...bt,value:Kt,dirty:!0,error:null,equal:C,producerMustRecompute:c=>c.value===Kt||c.value===Zt,producerRecomputeValue(c){if(c.value===Zt)throw new Error("Detected cycle in computations.");const h=c.value;c.value=Zt;const p=ye(c);let v;try{v=c.computation()}catch(_){v=ke,c.error=_}finally{Le(c,p)}h!==Kt&&h!==ke&&v!==ke&&c.equal(h,v)?c.value=h:(c.value=v,c.version++)}};let Oe=function ge(){throw new Error};function ee(){Oe()}let ut=null;function Dt(c,h){Ht()||ee(),c.equal(c.value,h)||(c.value=h,function we(c){c.version++,function Pt(){lt++}(),Ft(c),ut?.()}(c))}const Ee={...bt,equal:C,value:void 0};const fn=()=>{},Un={...bt,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:c=>{null!==c.schedule&&c.schedule(c.ref)},hasRun:!1,cleanupFn:fn};var Fn=P(8093),ci=P(1071),Di=P(3479),Li=P(8199);const Vi="https://g.co/ng/security#xss";class Tn extends Error{constructor(h,p){super(er(h,p)),this.code=h}}function er(c,h){return`NG0${Math.abs(c)}${h?": "+h:""}`}const ur=Symbol("InputSignalNode#UNSET"),kr={...Ee,transformFn:void 0,applyValueToInputSignal(c,h){Dt(c,h)}};function mt(c,h){const p=Object.create(kr);function v(){if(At(p),p.value===ur)throw new Tn(-950,!1);return p.value}return p.value=c,p.transformFn=h?.transform,v[ct]=p,v}function Nt(c){return{toString:c}.toString()}const Ge="__parameters__";function be(c,h,p){return Nt(()=>{const v=function ie(c){return function(...p){if(c){const v=c(...p);for(const _ in v)this[_]=v[_]}}}(h);function _(...S){if(this instanceof _)return v.apply(this,S),this;const A=new _(...S);return I.annotation=A,I;function I(j,Y,nt){const xt=j.hasOwnProperty(Ge)?j[Ge]:Object.defineProperty(j,Ge,{value:[]})[Ge];for(;xt.length<=nt;)xt.push(null);return(xt[nt]=xt[nt]||[]).push(A),j}}return p&&(_.prototype=Object.create(p.prototype)),_.prototype.ngMetadataName=c,_.annotationCls=_,_})}const on=globalThis;function xe(c){for(let h in c)if(c[h]===xe)return h;throw Error("Could not find renamed property on target object.")}function pn(c,h){for(const p in h)h.hasOwnProperty(p)&&!c.hasOwnProperty(p)&&(c[p]=h[p])}function en(c){if("string"==typeof c)return c;if(Array.isArray(c))return"["+c.map(en).join(", ")+"]";if(null==c)return""+c;if(c.overriddenName)return`${c.overriddenName}`;if(c.name)return`${c.name}`;const h=c.toString();if(null==h)return""+h;const p=h.indexOf("\n");return-1===p?h:h.substring(0,p)}function yn(c,h){return null==c||""===c?null===h?"":h:null==h||""===h?c:c+" "+h}const Bn=xe({__forward_ref__:xe});function Rt(c){return c.__forward_ref__=Rt,c.toString=function(){return en(this())},c}function Tt(c){return vt(c)?c():c}function vt(c){return"function"==typeof c&&c.hasOwnProperty(Bn)&&c.__forward_ref__===Rt}function te(c){return{token:c.token,providedIn:c.providedIn||null,factory:c.factory,value:void 0}}function ne(c){return{providers:c.providers||[],imports:c.imports||[]}}function Pe(c){return ve(c,Qe)||ve(c,fi)}function Ye(c){return null!==Pe(c)}function ve(c,h){return c.hasOwnProperty(h)?c[h]:null}function Re(c){return c&&(c.hasOwnProperty(Hn)||c.hasOwnProperty(gi))?c[Hn]:null}const Qe=xe({\u0275prov:xe}),Hn=xe({\u0275inj:xe}),fi=xe({ngInjectableDef:xe}),gi=xe({ngInjectorDef:xe});class li{constructor(h,p){this._desc=h,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof p?this.__NG_ELEMENT_ID__=p:void 0!==p&&(this.\u0275prov=te({token:this,providedIn:p.providedIn||"root",factory:p.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Zr(c){return c&&!!c.\u0275providers}const vr=xe({\u0275cmp:xe}),Wr=xe({\u0275dir:xe}),io=xe({\u0275pipe:xe}),Oo=xe({\u0275mod:xe}),Wi=xe({\u0275fac:xe}),Mr=xe({__NG_ELEMENT_ID__:xe}),ko=xe({__NG_ENV_ID__:xe});function Bt(c){return"string"==typeof c?c:null==c?"":String(c)}function Rr(c,h){throw new Tn(-201,!1)}var Ii=function(c){return c[c.Default=0]="Default",c[c.Host=1]="Host",c[c.Self=2]="Self",c[c.SkipSelf=4]="SkipSelf",c[c.Optional=8]="Optional",c}(Ii||{});let ls;function Fr(){return ls}function ro(c){const h=ls;return ls=c,h}function Vu(c,h,p){const v=Pe(c);return v&&"root"==v.providedIn?void 0===v.value?v.value=v.factory():v.value:p&Ii.Optional?null:void 0!==h?h:void Rr()}const Jc={},zu="__NG_DI_FLAG__",Uu="ngTempTokenPath",Id=/\n/gm,tu="__source";let Aa;function Oa(c){const h=Aa;return Aa=c,h}function hl(c,h=Ii.Default){if(void 0===Aa)throw new Tn(-203,!1);return null===Aa?Vu(c,void 0,h):Aa.get(c,h&Ii.Optional?null:void 0,h)}function Hr(c,h=Ii.Default){return(Fr()||hl)(Tt(c),h)}function Si(c,h=Ii.Default){return Hr(c,Ya(h))}function Ya(c){return typeof c>"u"||"number"==typeof c?c:(c.optional&&8)|(c.host&&1)|(c.self&&2)|(c.skipSelf&&4)}function fl(c){const h=[];for(let p=0;p<c.length;p++){const v=Tt(c[p]);if(Array.isArray(v)){if(0===v.length)throw new Tn(900,!1);let _,S=Ii.Default;for(let A=0;A<v.length;A++){const I=v[A],j=nu(I);"number"==typeof j?-1===j?_=I.token:S|=j:_=I}h.push(Hr(_,S))}else h.push(Hr(v))}return h}function ka(c,h){return c[zu]=h,c.prototype[zu]=h,c}function nu(c){return c[zu]}const Pd=ka(be("Inject",c=>({token:c})),-1),Bl=ka(be("Optional"),8),vc=ka(be("SkipSelf"),4);function ys(c,h){return c.hasOwnProperty(Wi)?c[Wi]:null}function jl(c,h){c.forEach(p=>Array.isArray(p)?jl(p,h):h(p))}function Za(c,h,p){h>=c.length?c.push(p):c.splice(h,0,p)}function Qa(c,h){return h>=c.length-1?c.pop():c.splice(h,1)[0]}function Wo(c,h,p){let v=zl(c,h);return v>=0?c[1|v]=p:(v=~v,function Ph(c,h,p,v){let _=c.length;if(_==h)c.push(p,v);else if(1===_)c.push(v,c[0]),c[0]=p;else{for(_--,c.push(c[_-1],c[_]);_>h;)c[_]=c[_-2],_--;c[h]=p,c[h+1]=v}}(c,v,h,p)),v}function Gu(c,h){const p=zl(c,h);if(p>=0)return c[1|p]}function zl(c,h){return function Uf(c,h,p){let v=0,_=c.length>>p;for(;_!==v;){const S=v+(_-v>>1),A=c[S<<p];if(h===A)return S<<p;A>h?_=S:v=S+1}return~(_<<p)}(c,h,1)}const va={},hr=[],bs=new li(""),Nd=new li("",-1),$u=new li("");class gl{get(h,p=Jc){if(p===Jc){const v=new Error(`NullInjectorError: No provider for ${en(h)}!`);throw v.name="NullInjectorError",v}return p}}var yc=function(c){return c[c.OnPush=0]="OnPush",c[c.Default=1]="Default",c}(yc||{}),bc=function(c){return c[c.Emulated=0]="Emulated",c[c.None=2]="None",c[c.ShadowDom=3]="ShadowDom",c}(bc||{}),Pi=function(c){return c[c.None=0]="None",c[c.SignalBased=1]="SignalBased",c[c.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",c}(Pi||{});function _c(c,h,p){let v=c.length;for(;;){const _=c.indexOf(h,p);if(-1===_)return _;if(0===_||c.charCodeAt(_-1)<=32){const S=h.length;if(_+S===v||c.charCodeAt(_+S)<=32)return _}p=_+1}}function Ec(c,h,p){let v=0;for(;v<p.length;){const _=p[v];if("number"==typeof _){if(0!==_)break;v++;const S=p[v++],A=p[v++],I=p[v++];c.setAttribute(h,A,I,S)}else{const S=_,A=p[++v];Ld(S)?c.setProperty(h,S,A):c.setAttribute(h,S,A),v++}}return v}function g0(c){return 3===c||4===c||6===c}function Ld(c){return 64===c.charCodeAt(0)}function wc(c,h){if(null!==h&&0!==h.length)if(null===c||0===c.length)c=h.slice();else{let p=-1;for(let v=0;v<h.length;v++){const _=h[v];"number"==typeof _?p=_:0===p||Nh(c,p,_,null,-1===p||2===p?h[++v]:null)}}return c}function Nh(c,h,p,v,_){let S=0,A=c.length;if(-1===h)A=-1;else for(;S<c.length;){const I=c[S++];if("number"==typeof I){if(I===h){A=-1;break}if(I>h){A=S-1;break}}}for(;S<c.length;){const I=c[S];if("number"==typeof I)break;if(I===p){if(null===v)return void(null!==_&&(c[S+1]=_));if(v===c[S+1])return void(c[S+2]=_)}S++,null!==v&&S++,null!==_&&S++}-1!==A&&(c.splice(A,0,h),S=A+1),c.splice(S++,0,p),null!==v&&c.splice(S++,0,v),null!==_&&c.splice(S++,0,_)}const Hf="ng-template";function wg(c,h,p,v){let _=0;if(v){for(;_<h.length&&"string"==typeof h[_];_+=2)if("class"===h[_]&&-1!==_c(h[_+1].toLowerCase(),p,0))return!0}else if(Wu(c))return!1;if(_=h.indexOf(1,_),_>-1){let S;for(;++_<h.length&&"string"==typeof(S=h[_]);)if(S.toLowerCase()===p)return!0}return!1}function Wu(c){return 4===c.type&&c.value!==Hf}function Fd(c,h,p){return h===(4!==c.type||p?c.value:Hf)}function Z(c,h,p){let v=4;const _=c.attrs,S=null!==_?function wi(c){for(let h=0;h<c.length;h++)if(g0(c[h]))return h;return c.length}(_):0;let A=!1;for(let I=0;I<h.length;I++){const j=h[I];if("number"!=typeof j){if(!A)if(4&v){if(v=2|1&v,""!==j&&!Fd(c,j,p)||""===j&&1===h.length){if(J(v))return!1;A=!0}}else if(8&v){if(null===_||!wg(c,_,j,p)){if(J(v))return!1;A=!0}}else{const Y=h[++I],nt=G(j,_,Wu(c),p);if(-1===nt){if(J(v))return!1;A=!0;continue}if(""!==Y){let xt;if(xt=nt>S?"":_[nt+1].toLowerCase(),2&v&&Y!==xt){if(J(v))return!1;A=!0}}}}else{if(!A&&!J(v)&&!J(j))return!1;if(A&&J(j))continue;A=!1,v=j|1&v}}return J(v)||A}function J(c){return!(1&c)}function G(c,h,p,v){if(null===h)return-1;let _=0;if(v||!p){let S=!1;for(;_<h.length;){const A=h[_];if(A===c)return _;if(3===A||6===A)S=!0;else{if(1===A||2===A){let I=h[++_];for(;"string"==typeof I;)I=h[++_];continue}if(4===A)break;if(0===A){_+=4;continue}}_+=S?1:2}return-1}return function ni(c,h){let p=c.indexOf(4);if(p>-1)for(p++;p<c.length;){const v=c[p];if("number"==typeof v)return-1;if(v===h)return p;p++}return-1}(h,c)}function ht(c,h,p=!1){for(let v=0;v<h.length;v++)if(Z(c,h[v],p))return!0;return!1}function _o(c,h){t:for(let p=0;p<h.length;p++){const v=h[p];if(c.length===v.length){for(let _=0;_<c.length;_++)if(c[_]!==v[_])continue t;return!0}}return!1}function Hs(c,h){return c?":not("+h.trim()+")":h}function Lh(c){let h=c[0],p=1,v=2,_="",S=!1;for(;p<c.length;){let A=c[p];if("string"==typeof A)if(2&v){const I=c[++p];_+="["+A+(I.length>0?'="'+I+'"':"")+"]"}else 8&v?_+="."+A:4&v&&(_+=" "+A);else""!==_&&!J(A)&&(h+=Hs(S,_),_=""),v=A,S=S||!J(v);p++}return""!==_&&(h+=Hs(S,_)),h}function Fh(c){return Nt(()=>{const h=Ku(c),p={...h,decls:c.decls,vars:c.vars,template:c.template,consts:c.consts||null,ngContentSelectors:c.ngContentSelectors,onPush:c.changeDetection===yc.OnPush,directiveDefs:null,pipeDefs:null,dependencies:h.standalone&&c.dependencies||null,getStandaloneInjector:null,signals:c.signals??!1,data:c.data||{},encapsulation:c.encapsulation||bc.Emulated,styles:c.styles||hr,_:null,schemas:c.schemas||null,tView:null,id:""};Mc(p);const v=c.dependencies;return p.directiveDefs=vl(v,!1),p.pipeDefs=vl(v,!0),p.id=function Bd(c){let h=0;const p=[c.selectors,c.ngContentSelectors,c.hostVars,c.hostAttrs,c.consts,c.vars,c.decls,c.encapsulation,c.standalone,c.signals,c.exportAs,JSON.stringify(c.inputs),JSON.stringify(c.outputs),Object.getOwnPropertyNames(c.type.prototype),!!c.contentQueries,!!c.viewQuery].join("|");for(const _ of p)h=Math.imul(31,h)+_.charCodeAt(0)|0;return h+=2147483648,"c"+h}(p),p})}function Bh(c){return rr(c)||Bo(c)}function ya(c){return null!==c}function ba(c){return Nt(()=>({type:c.type,bootstrap:c.bootstrap||hr,declarations:c.declarations||hr,imports:c.imports||hr,exports:c.exports||hr,transitiveCompileScopes:null,schemas:c.schemas||null,id:c.id||null}))}function jh(c,h){if(null==c)return va;const p={};for(const v in c)if(c.hasOwnProperty(v)){const _=c[v];let S,A,I=Pi.None;Array.isArray(_)?(I=_[0],S=_[1],A=_[2]??S):(S=_,A=_),h?(p[S]=I!==Pi.None?[v,I]:v,h[S]=A):p[S]=v}return p}function $f(c){return Nt(()=>{const h=Ku(c);return Mc(h),h})}function y0(c){return{type:c.type,name:c.name,factory:null,pure:!1!==c.pure,standalone:!0===c.standalone,onDestroy:c.type.prototype.ngOnDestroy||null}}function rr(c){return c[vr]||null}function Bo(c){return c[Wr]||null}function _s(c){return c[io]||null}function xc(c){const h=rr(c)||Bo(c)||_s(c);return null!==h&&h.standalone}function Gs(c,h){const p=c[Oo]||null;if(!p&&!0===h)throw new Error(`Type ${en(c)} does not have '\u0275mod' property.`);return p}function Ku(c){const h={};return{type:c.type,providersResolver:null,factory:null,hostBindings:c.hostBindings||null,hostVars:c.hostVars||0,hostAttrs:c.hostAttrs||null,contentQueries:c.contentQueries||null,declaredInputs:h,inputTransforms:null,inputConfig:c.inputs||va,exportAs:c.exportAs||null,standalone:!0===c.standalone,signals:!0===c.signals,selectors:c.selectors||hr,viewQuery:c.viewQuery||null,features:c.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:jh(c.inputs,h),outputs:jh(c.outputs),debugInfo:null}}function Mc(c){c.features?.forEach(h=>h(c))}function vl(c,h){if(!c)return null;const p=h?_s:Bh;return()=>("function"==typeof c?c():c).map(v=>p(v)).filter(ya)}function _a(c){return{\u0275providers:c}}function xg(...c){return{\u0275providers:b0(0,c),\u0275fromNgModule:!0}}function b0(c,...h){const p=[],v=new Set;let _;const S=A=>{p.push(A)};return jl(h,A=>{const I=A;Wf(I,S,[],v)&&(_||=[],_.push(I))}),void 0!==_&&Mg(_,S),p}function Mg(c,h){for(let p=0;p<c.length;p++){const{ngModule:v,providers:_}=c[p];Cg(_,S=>{h(S,v)})}}function Wf(c,h,p,v){if(!(c=Tt(c)))return!1;let _=null,S=Re(c);const A=!S&&rr(c);if(S||A){if(A&&!A.standalone)return!1;_=c}else{const j=c.ngModule;if(S=Re(j),!S)return!1;_=j}const I=v.has(_);if(A){if(I)return!1;if(v.add(_),A.dependencies){const j="function"==typeof A.dependencies?A.dependencies():A.dependencies;for(const Y of j)Wf(Y,h,p,v)}}else{if(!S)return!1;{if(null!=S.imports&&!I){let Y;v.add(_);try{jl(S.imports,nt=>{Wf(nt,h,p,v)&&(Y||=[],Y.push(nt))})}finally{}void 0!==Y&&Mg(Y,h)}if(!I){const Y=ys(_)||(()=>new _);h({provide:_,useFactory:Y,deps:hr},_),h({provide:$u,useValue:_,multi:!0},_),h({provide:bs,useValue:()=>Hr(_),multi:!0},_)}const j=S.providers;if(null!=j&&!I){const Y=c;Cg(j,nt=>{h(nt,Y)})}}}return _!==c&&void 0!==c.providers}function Cg(c,h){for(let p of c)Zr(p)&&(p=p.\u0275providers),Array.isArray(p)?Cg(p,h):h(p)}const Sg=xe({provide:String,useValue:xe});function ru(c){return null!==c&&"object"==typeof c&&Sg in c}function Cc(c){return"function"==typeof c}const Xf=new li(""),Vh={},_0={};let E0;function w0(){return void 0===E0&&(E0=new gl),E0}class $s{}class yl extends $s{get destroyed(){return this._destroyed}constructor(h,p,v,_){super(),this.parent=p,this.source=v,this.scopes=_,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Dc(h,A=>this.processProvider(A)),this.records.set(Nd,Sc(void 0,this)),_.has("environment")&&this.records.set($s,Sc(void 0,this));const S=this.records.get(Xf);null!=S&&"string"==typeof S.value&&this.scopes.add(S.value),this.injectorDefTypes=new Set(this.get($u,hr,Ii.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const h=it(null);try{for(const v of this._ngOnDestroyHooks)v.ngOnDestroy();const p=this._onDestroyHooks;this._onDestroyHooks=[];for(const v of p)v()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),it(h)}}onDestroy(h){return this.assertNotDestroyed(),this._onDestroyHooks.push(h),()=>this.removeOnDestroy(h)}runInContext(h){this.assertNotDestroyed();const p=Oa(this),v=ro(void 0);try{return h()}finally{Oa(p),ro(v)}}get(h,p=Jc,v=Ii.Default){if(this.assertNotDestroyed(),h.hasOwnProperty(ko))return h[ko](this);v=Ya(v);const S=Oa(this),A=ro(void 0);try{if(!(v&Ii.SkipSelf)){let j=this.records.get(h);if(void 0===j){const Y=function ea(c){return"function"==typeof c||"object"==typeof c&&c instanceof li}(h)&&Pe(h);j=Y&&this.injectableDefInScope(Y)?Sc(x0(h),Vh):null,this.records.set(h,j)}if(null!=j)return this.hydrate(h,j)}return(v&Ii.Self?w0():this.parent).get(h,p=v&Ii.Optional&&p===Jc?null:p)}catch(I){if("NullInjectorError"===I.name){if((I[Uu]=I[Uu]||[]).unshift(en(h)),S)throw I;return function gc(c,h,p,v){const _=c[Uu];throw h[tu]&&_.unshift(h[tu]),c.message=function Rd(c,h,p,v=null){c=c&&"\n"===c.charAt(0)&&"\u0275"==c.charAt(1)?c.slice(2):c;let _=en(h);if(Array.isArray(h))_=h.map(en).join(" -> ");else if("object"==typeof h){let S=[];for(let A in h)if(h.hasOwnProperty(A)){let I=h[A];S.push(A+":"+("string"==typeof I?JSON.stringify(I):en(I)))}_=`{${S.join(", ")}}`}return`${p}${v?"("+v+")":""}[${_}]: ${c.replace(Id,"\n  ")}`}("\n"+c.message,_,p,v),c.ngTokenPath=_,c[Uu]=null,c}(I,h,"R3InjectorError",this.source)}throw I}finally{ro(A),Oa(S)}}resolveInjectorInitializers(){const h=it(null),p=Oa(this),v=ro(void 0);try{const S=this.get(bs,hr,Ii.Self);for(const A of S)A()}finally{Oa(p),ro(v),it(h)}}toString(){const h=[],p=this.records;for(const v of p.keys())h.push(en(v));return`R3Injector[${h.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Tn(205,!1)}processProvider(h){let p=Cc(h=Tt(h))?h:Tt(h&&h.provide);const v=function Tg(c){return ru(c)?Sc(void 0,c.useValue):Sc(jd(c),Vh)}(h);if(!Cc(h)&&!0===h.multi){let _=this.records.get(p);_||(_=Sc(void 0,Vh,!0),_.factory=()=>fl(_.multi),this.records.set(p,_)),p=h,_.multi.push(h)}this.records.set(p,v)}hydrate(h,p){const v=it(null);try{return p.value===Vh&&(p.value=_0,p.value=p.factory()),"object"==typeof p.value&&p.value&&function yy(c){return null!==c&&"object"==typeof c&&"function"==typeof c.ngOnDestroy}(p.value)&&this._ngOnDestroyHooks.add(p.value),p.value}finally{it(v)}}injectableDefInScope(h){if(!h.providedIn)return!1;const p=Tt(h.providedIn);return"string"==typeof p?"any"===p||this.scopes.has(p):this.injectorDefTypes.has(p)}removeOnDestroy(h){const p=this._onDestroyHooks.indexOf(h);-1!==p&&this._onDestroyHooks.splice(p,1)}}function x0(c){const h=Pe(c),p=null!==h?h.factory:ys(c);if(null!==p)return p;if(c instanceof li)throw new Tn(204,!1);if(c instanceof Function)return function zh(c){if(c.length>0)throw new Tn(204,!1);const p=function Cn(c){return c&&(c[Qe]||c[fi])||null}(c);return null!==p?()=>p.factory(c):()=>new c}(c);throw new Tn(204,!1)}function jd(c,h,p){let v;if(Cc(c)){const _=Tt(c);return ys(_)||x0(_)}if(ru(c))v=()=>Tt(c.useValue);else if(function Kf(c){return!(!c||!c.useFactory)}(c))v=()=>c.useFactory(...fl(c.deps||[]));else if(function Dg(c){return!(!c||!c.useExisting)}(c))v=()=>Hr(Tt(c.useExisting));else{const _=Tt(c&&(c.useClass||c.provide));if(!function M0(c){return!!c.deps}(c))return ys(_)||x0(_);v=()=>new _(...fl(c.deps))}return v}function Sc(c,h,p=!1){return{factory:c,value:h,multi:p?[]:void 0}}function Dc(c,h){for(const p of c)Array.isArray(p)?Dc(p,h):p&&Zr(p)?Dc(p.\u0275providers,h):h(p)}function Uh(c,h){c instanceof yl&&c.assertNotDestroyed();const v=Oa(c),_=ro(void 0);try{return h()}finally{Oa(v),ro(_)}}function Yf(){return void 0!==Fr()||null!=function eu(){return Aa}()}function ou(c){if(!Yf())throw new Tn(-203,!1)}const hi=0,cn=1,kn=2,Xi=3,$r=4,po=5,oo=6,fr=7,ar=8,Io=9,Ia=10,Gi=11,Hh=12,by=13,Yu=14,Nr=15,Zu=16,zd=17,Fi=18,Qu=19,Ul=20,or=21,Eo=22,cs=23,Ti=25,_y=1,Tc=7,$h=9,rs=10;var su=function(c){return c[c.None=0]="None",c[c.HasTransplantedViews=2]="HasTransplantedViews",c}(su||{});function Ws(c){return Array.isArray(c)&&"object"==typeof c[_y]}function Ra(c){return Array.isArray(c)&&!0===c[_y]}function ME(c){return!!(4&c.flags)}function Wh(c){return c.componentOffset>-1}function Ey(c){return!(1&~c.flags)}function qa(c){return!!c.template}function Og(c){return!!(512&c[kn])}class bl{constructor(h,p,v){this.previousValue=h,this.currentValue=p,this.firstChange=v}isFirstChange(){return this.firstChange}}function Ks(c,h,p,v){null!==h?h.applyValueToInputSignal(h,v):c[p]=v}function ji(){return Ea}function Ea(c){return c.type.prototype.ngOnChanges&&(c.setInput=xy),Po}function Po(){const c=Hd(this),h=c?.current;if(h){const p=c.previous;if(p===va)c.previous=h;else for(let v in h)p[v]=h[v];c.current=null,this.ngOnChanges(h)}}function xy(c,h,p,v,_){const S=this.declaredInputs[v],A=Hd(c)||function uN(c,h){return c[xn]=h}(c,{previous:va,current:null}),I=A.current||(A.current={}),j=A.previous,Y=j[S];I[S]=new bl(Y&&Y.currentValue,p,j===va),Ks(c,h,_,p)}ji.ngInherit=!0;const xn="__ngSimpleChanges__";function Hd(c){return c[xn]||null}const qu=function(c,h,p){},CE="svg";function Xr(c){for(;Array.isArray(c);)c=c[hi];return c}function In(c,h){return Xr(h[c])}function Ja(c,h){return Xr(h[c.index])}function C0(c,h){return c.data[h]}function On(c,h){return c[h]}function Hl(c,h){const p=h[c];return Ws(p)?p:p[hi]}function Pg(c){return!(128&~c[kn])}function Ac(c,h){return null==h?null:c[h]}function Cy(c){c[zd]=0}function CD(c){1024&c[kn]||(c[kn]|=1024,Pg(c)&&Gd(c))}function Sy(c){return!!(9216&c[kn]||c[cs]?.dirty)}function DE(c){c[Ia].changeDetectionScheduler?.notify(8),64&c[kn]&&(c[kn]|=1024),Sy(c)&&Gd(c)}function Gd(c){c[Ia].changeDetectionScheduler?.notify(0);let h=$d(c);for(;null!==h&&!(8192&h[kn])&&(h[kn]|=8192,Pg(h));)h=$d(h)}function Ng(c,h){if(!(256&~c[kn]))throw new Tn(911,!1);null===c[or]&&(c[or]=[]),c[or].push(h)}function $d(c){const h=c[Xi];return Ra(h)?h[Xi]:h}const Kn={lFrame:FD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let Ty=!1;function SD(){return Kn.bindingsEnabled}function Zf(){return null!==Kn.skipHydrationRootTNode}function hn(){return Kn.lFrame.lView}function Er(){return Kn.lFrame.tView}function TD(c){return Kn.lFrame.contextLView=c,c[ar]}function Ai(c){return Kn.lFrame.contextLView=null,c}function xi(){let c=Oc();for(;null!==c&&64===c.type;)c=c.parent;return c}function Oc(){return Kn.lFrame.currentTNode}function au(c,h){const p=Kn.lFrame;p.currentTNode=c,p.isParent=h}function OE(){return Kn.lFrame.isParent}function kE(){Kn.lFrame.isParent=!1}function AD(){return Kn.lFrame.contextLView}function kD(){return Ty}function ID(c){Ty=c}function tl(){const c=Kn.lFrame;let h=c.bindingRootIndex;return-1===h&&(h=c.bindingRootIndex=c.tView.bindingStartIndex),h}function lu(){return Kn.lFrame.bindingIndex++}function Kd(c){const h=Kn.lFrame,p=h.bindingIndex;return h.bindingIndex=h.bindingIndex+c,p}function _N(c,h){const p=Kn.lFrame;p.bindingIndex=p.bindingRootIndex=c,IE(h)}function IE(c){Kn.lFrame.currentDirectiveIndex=c}function RE(c){const h=Kn.lFrame.currentDirectiveIndex;return-1===h?null:c[h]}function PE(){return Kn.lFrame.currentQueryIndex}function Ay(c){Kn.lFrame.currentQueryIndex=c}function wN(c){const h=c[cn];return 2===h.type?h.declTNode:1===h.type?c[po]:null}function NE(c,h,p){if(p&Ii.SkipSelf){let _=h,S=c;for(;!(_=_.parent,null!==_||p&Ii.Host||(_=wN(S),null===_||(S=S[Yu],10&_.type))););if(null===_)return!1;h=_,c=S}const v=Kn.lFrame=LD();return v.currentTNode=h,v.lView=c,!0}function LE(c){const h=LD(),p=c[cn];Kn.lFrame=h,h.currentTNode=p.firstChild,h.lView=c,h.tView=p,h.contextLView=c,h.bindingIndex=p.bindingStartIndex,h.inI18n=!1}function LD(){const c=Kn.lFrame,h=null===c?null:c.child;return null===h?FD(c):h}function FD(c){const h={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:c,child:null,inI18n:!1};return null!==c&&(c.child=h),h}function BD(){const c=Kn.lFrame;return Kn.lFrame=c.parent,c.currentTNode=null,c.lView=null,c}const jD=BD;function FE(){const c=BD();c.isParent=!0,c.tView=null,c.selectedIndex=-1,c.contextLView=null,c.elementDepthCount=0,c.currentDirectiveIndex=-1,c.currentNamespace=null,c.bindingRootIndex=-1,c.bindingIndex=-1,c.currentQueryIndex=0}function wa(){return Kn.lFrame.selectedIndex}function Qf(c){Kn.lFrame.selectedIndex=c}function jo(){const c=Kn.lFrame;return C0(c.tView,c.selectedIndex)}function VD(){Kn.lFrame.currentNamespace=CE}function zD(){!function CN(){Kn.lFrame.currentNamespace=null}()}let BE=!0;function Fg(){return BE}function Ju(c){BE=c}function Oy(c,h){for(let p=h.directiveStart,v=h.directiveEnd;p<v;p++){const S=c.data[p].type.prototype,{ngAfterContentInit:A,ngAfterContentChecked:I,ngAfterViewInit:j,ngAfterViewChecked:Y,ngOnDestroy:nt}=S;A&&(c.contentHooks??=[]).push(-p,A),I&&((c.contentHooks??=[]).push(p,I),(c.contentCheckHooks??=[]).push(p,I)),j&&(c.viewHooks??=[]).push(-p,j),Y&&((c.viewHooks??=[]).push(p,Y),(c.viewCheckHooks??=[]).push(p,Y)),null!=nt&&(c.destroyHooks??=[]).push(p,nt)}}function ky(c,h,p){HD(c,h,3,p)}function Iy(c,h,p,v){(3&c[kn])===p&&HD(c,h,p,v)}function jE(c,h){let p=c[kn];(3&p)===h&&(p&=16383,p+=1,c[kn]=p)}function HD(c,h,p,v){const S=v??-1,A=h.length-1;let I=0;for(let j=void 0!==v?65535&c[zd]:0;j<A;j++)if("number"==typeof h[j+1]){if(I=h[j],null!=v&&I>=v)break}else h[j]<0&&(c[zd]+=65536),(I<S||-1==S)&&($D(c,p,h,j),c[zd]=(4294901760&c[zd])+j+2),j++}function GD(c,h){qu(4,c,h);const p=it(null);try{h.call(c)}finally{it(p),qu(5,c,h)}}function $D(c,h,p,v){const _=p[v]<0,S=p[v+1],I=c[_?-p[v]:p[v]];_?c[kn]>>14<c[zd]>>16&&(3&c[kn])===h&&(c[kn]+=16384,GD(I,S)):GD(I,S)}const S0=-1;class Bg{constructor(h,p,v){this.factory=h,this.resolving=!1,this.canSeeViewProviders=p,this.injectImpl=v}}const UE={};class Kh{constructor(h,p){this.injector=h,this.parentInjector=p}get(h,p,v){v=Ya(v);const _=this.injector.get(h,UE,v);return _!==UE||p===UE?_:this.parentInjector.get(h,p,v)}}function HE(c){return c!==S0}function jg(c){return 32767&c}function Vg(c,h){let p=function kN(c){return c>>16}(c),v=h;for(;p>0;)v=v[Yu],p--;return v}let GE=!0;function Xd(c){const h=GE;return GE=c,h}const KD=255,XD=5;let YD=0;const cu={};function Ry(c,h){const p=QD(c,h);if(-1!==p)return p;const v=h[cn];v.firstCreatePass&&(c.injectorIndex=h.length,$E(v.data,c),$E(h,null),$E(v.blueprint,null));const _=Py(c,h),S=c.injectorIndex;if(HE(_)){const A=jg(_),I=Vg(_,h),j=I[cn].data;for(let Y=0;Y<8;Y++)h[S+Y]=I[A+Y]|j[A+Y]}return h[S+8]=_,S}function $E(c,h){c.push(0,0,0,0,0,0,0,0,h)}function QD(c,h){return-1===c.injectorIndex||c.parent&&c.parent.injectorIndex===c.injectorIndex||null===h[c.injectorIndex+8]?-1:c.injectorIndex}function Py(c,h){if(c.parent&&-1!==c.parent.injectorIndex)return c.parent.injectorIndex;let p=0,v=null,_=h;for(;null!==_;){if(v=nT(_),null===v)return S0;if(p++,_=_[Yu],-1!==v.injectorIndex)return v.injectorIndex|p<<16}return S0}function WE(c,h,p){!function ZD(c,h,p){let v;"string"==typeof p?v=p.charCodeAt(0)||0:p.hasOwnProperty(Mr)&&(v=p[Mr]),null==v&&(v=p[Mr]=YD++);const _=v&KD;h.data[c+(_>>XD)]|=1<<_}(c,h,p)}function qD(c,h,p){if(p&Ii.Optional||void 0!==c)return c;Rr()}function KE(c,h,p,v){if(p&Ii.Optional&&void 0===v&&(v=null),!(p&(Ii.Self|Ii.Host))){const _=c[Io],S=ro(void 0);try{return _?_.get(h,v,p&Ii.Optional):Vu(h,v,p&Ii.Optional)}finally{ro(S)}}return qD(v,0,p)}function JD(c,h,p,v=Ii.Default,_){if(null!==c){if(2048&h[kn]&&!(v&Ii.Self)){const A=function kc(c,h,p,v,_){let S=c,A=h;for(;null!==S&&null!==A&&2048&A[kn]&&!(512&A[kn]);){const I=tT(S,A,p,v|Ii.Self,cu);if(I!==cu)return I;let j=S.parent;if(!j){const Y=A[Ul];if(Y){const nt=Y.get(p,cu,v);if(nt!==cu)return nt}j=nT(A),A=A[Yu]}S=j}return _}(c,h,p,v,cu);if(A!==cu)return A}const S=tT(c,h,p,v,cu);if(S!==cu)return S}return KE(h,p,v,_)}function tT(c,h,p,v,_){const S=function NN(c){if("string"==typeof c)return c.charCodeAt(0)||0;const h=c.hasOwnProperty(Mr)?c[Mr]:void 0;return"number"==typeof h?h>=0?h&KD:XE:h}(p);if("function"==typeof S){if(!NE(h,c,v))return v&Ii.Host?qD(_,0,v):KE(h,p,v,_);try{let A;if(A=S(v),null!=A||v&Ii.Optional)return A;Rr()}finally{jD()}}else if("number"==typeof S){let A=null,I=QD(c,h),j=S0,Y=v&Ii.Host?h[Nr][po]:null;for((-1===I||v&Ii.SkipSelf)&&(j=-1===I?Py(c,h):h[I+8],j!==S0&&wo(v,!1)?(A=h[cn],I=jg(j),h=Vg(j,h)):I=-1);-1!==I;){const nt=h[cn];if(eT(S,I,nt.data)){const xt=PN(I,h,p,A,v,Y);if(xt!==cu)return xt}j=h[I+8],j!==S0&&wo(v,h[cn].data[I+8]===Y)&&eT(S,I,h)?(A=nt,I=jg(j),h=Vg(j,h)):I=-1}}return _}function PN(c,h,p,v,_,S){const A=h[cn],I=A.data[c+8],nt=Ny(I,A,p,null==v?Wh(I)&&GE:v!=A&&!!(3&I.type),_&Ii.Host&&S===I);return null!==nt?qf(h,A,nt,I):cu}function Ny(c,h,p,v,_){const S=c.providerIndexes,A=h.data,I=1048575&S,j=c.directiveStart,nt=S>>20,ce=_?I+nt:c.directiveEnd;for(let de=v?I:I+nt;de<ce;de++){const Be=A[de];if(de<j&&p===Be||de>=j&&Be.type===p)return de}if(_){const de=A[j];if(de&&qa(de)&&de.type===p)return j}return null}function qf(c,h,p,v){let _=c[p];const S=h.data;if(function DN(c){return c instanceof Bg}(_)){const A=_;A.resolving&&function jn(c,h){throw h&&h.join(" > "),new Tn(-200,c)}(function Ae(c){return"function"==typeof c?c.name||c.toString():"object"==typeof c&&null!=c&&"function"==typeof c.type?c.type.name||c.type.toString():Bt(c)}(S[p]));const I=Xd(A.canSeeViewProviders);A.resolving=!0;const Y=A.injectImpl?ro(A.injectImpl):null;NE(c,v,Ii.Default);try{_=c[p]=A.factory(void 0,S,c,v),h.firstCreatePass&&p>=v.directiveStart&&function SN(c,h,p){const{ngOnChanges:v,ngOnInit:_,ngDoCheck:S}=h.type.prototype;if(v){const A=Ea(h);(p.preOrderHooks??=[]).push(c,A),(p.preOrderCheckHooks??=[]).push(c,A)}_&&(p.preOrderHooks??=[]).push(0-c,_),S&&((p.preOrderHooks??=[]).push(c,S),(p.preOrderCheckHooks??=[]).push(c,S))}(p,S[p],h)}finally{null!==Y&&ro(Y),Xd(I),A.resolving=!1,jD()}}return _}function eT(c,h,p){return!!(p[h+(c>>XD)]&1<<c)}function wo(c,h){return!(c&Ii.Self||c&Ii.Host&&h)}class As{constructor(h,p){this._tNode=h,this._lView=p}get(h,p,v){return JD(this._tNode,this._lView,h,Ya(v),p)}}function XE(){return new As(xi(),hn())}function Yd(c){return Nt(()=>{const h=c.prototype.constructor,p=h[Wi]||Ly(h),v=Object.prototype;let _=Object.getPrototypeOf(c.prototype).constructor;for(;_&&_!==v;){const S=_[Wi]||Ly(_);if(S&&S!==p)return S;_=Object.getPrototypeOf(_)}return S=>new S})}function Ly(c){return vt(c)?()=>{const h=Ly(Tt(c));return h&&h()}:ys(c)}function nT(c){const h=c[cn],p=h.type;return 2===p?h.declTNode:1===p?c[po]:null}function zg(c){return function RN(c,h){if("class"===h)return c.classes;if("style"===h)return c.styles;const p=c.attrs;if(p){const v=p.length;let _=0;for(;_<v;){const S=p[_];if(g0(S))break;if(0===S)_+=2;else if("number"==typeof S)for(_++;_<v&&"string"==typeof p[_];)_++;else{if(S===h)return p[_+1];_+=2}}}return null}(xi(),c)}function sT(c,h=null,p=null,v){const _=T0(c,h,p,v);return _.resolveInjectorInitializers(),_}function T0(c,h=null,p=null,v,_=new Set){const S=[p||hr,xg(c)];return v=v||("object"==typeof c?void 0:en(c)),new yl(S,h||w0(),v||null,_)}class Es{static#t=this.THROW_IF_NOT_FOUND=Jc;static#e=this.NULL=new gl;static create(h,p){if(Array.isArray(h))return sT({name:""},p,h,"");{const v=h.name??"";return sT({name:v},h.parent,h.providers,v)}}static#n=this.\u0275prov=te({token:Es,providedIn:"any",factory:()=>Hr(Nd)});static#i=this.__NG_ELEMENT_ID__=-1}new li("").__NG_ELEMENT_ID__=c=>{const h=xi();if(null===h)throw new Tn(204,!1);if(2&h.type)return h.value;if(c&Ii.Optional)return null;throw new Tn(204,!1)};function zy(c){return c.ngOriginalError}const aT=!0;let A0=(()=>{class c{static#t=this.__NG_ELEMENT_ID__=lT;static#e=this.__NG_ENV_ID__=p=>p}return c})();class jN extends A0{constructor(h){super(),this._lView=h}onDestroy(h){return Ng(this._lView,h),()=>function TE(c,h){if(null===c[or])return;const p=c[or].indexOf(h);-1!==p&&c[or].splice(p,1)}(this._lView,h)}}function lT(){return new jN(hn())}let Zh=(()=>{class c{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Fn.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const p=this.taskId++;return this.pendingTasks.add(p),p}remove(p){this.pendingTasks.delete(p),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#t=this.\u0275prov=te({token:c,providedIn:"root",factory:()=>new c})}return c})();const td=class cT extends ci.B{constructor(h=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=h,Yf()&&(this.destroyRef=Si(A0,{optional:!0})??void 0,this.pendingTasks=Si(Zh,{optional:!0})??void 0)}emit(h){const p=it(null);try{super.next(h)}finally{it(p)}}subscribe(h,p,v){let _=h,S=p||(()=>null),A=v;if(h&&"object"==typeof h){const j=h;_=j.next?.bind(j),S=j.error?.bind(j),A=j.complete?.bind(j)}this.__isAsync&&(S=this.wrapInTimeout(S),_&&(_=this.wrapInTimeout(_)),A&&(A=this.wrapInTimeout(A)));const I=super.subscribe({next:_,error:S,complete:A});return h instanceof Di.yU&&h.add(I),I}wrapInTimeout(h){return p=>{const v=this.pendingTasks?.add();setTimeout(()=>{h(p),void 0!==v&&this.pendingTasks?.remove(v)})}}};function Uy(...c){}function uT(c){let h,p;function v(){c=Uy;try{void 0!==p&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(p),void 0!==h&&clearTimeout(h)}catch{}}return h=setTimeout(()=>{c(),v()}),"function"==typeof requestAnimationFrame&&(p=requestAnimationFrame(()=>{c(),v()})),()=>v()}function dT(c){return queueMicrotask(()=>c()),()=>{c=Uy}}const JE="isAngularZone",Hy=JE+"_ID";let tw=0;class os{constructor(h){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new td(!1),this.onMicrotaskEmpty=new td(!1),this.onStable=new td(!1),this.onError=new td(!1);const{enableLongStackTrace:p=!1,shouldCoalesceEventChangeDetection:v=!1,shouldCoalesceRunChangeDetection:_=!1,scheduleInRootZone:S=aT}=h;if(typeof Zone>"u")throw new Tn(908,!1);Zone.assertZonePatched();const A=this;A._nesting=0,A._outer=A._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(A._inner=A._inner.fork(new Zone.TaskTrackingZoneSpec)),p&&Zone.longStackTraceZoneSpec&&(A._inner=A._inner.fork(Zone.longStackTraceZoneSpec)),A.shouldCoalesceEventChangeDetection=!_&&v,A.shouldCoalesceRunChangeDetection=_,A.callbackScheduled=!1,A.scheduleInRootZone=S,function Br(c){const h=()=>{!function fT(c){function h(){uT(()=>{c.callbackScheduled=!1,Gy(c),c.isCheckStableRunning=!0,ew(c),c.isCheckStableRunning=!1})}c.isCheckStableRunning||c.callbackScheduled||(c.callbackScheduled=!0,c.scheduleInRootZone?Zone.root.run(()=>{h()}):c._outer.run(()=>{h()}),Gy(c))}(c)},p=tw++;c._inner=c._inner.fork({name:"angular",properties:{[JE]:!0,[Hy]:p,[Hy+p]:!0},onInvokeTask:(v,_,S,A,I,j)=>{if(function el(c){return Hg(c,"__ignore_ng_zone__")}(j))return v.invokeTask(S,A,I,j);try{return du(c),v.invokeTask(S,A,I,j)}finally{(c.shouldCoalesceEventChangeDetection&&"eventTask"===A.type||c.shouldCoalesceRunChangeDetection)&&h(),xo(c)}},onInvoke:(v,_,S,A,I,j,Y)=>{try{return du(c),v.invoke(S,A,I,j,Y)}finally{c.shouldCoalesceRunChangeDetection&&!c.callbackScheduled&&!function O0(c){return Hg(c,"__scheduler_tick__")}(j)&&h(),xo(c)}},onHasTask:(v,_,S,A)=>{v.hasTask(S,A),_===S&&("microTask"==A.change?(c._hasPendingMicrotasks=A.microTask,Gy(c),ew(c)):"macroTask"==A.change&&(c.hasPendingMacrotasks=A.macroTask))},onHandleError:(v,_,S,A)=>(v.handleError(S,A),c.runOutsideAngular(()=>c.onError.emit(A)),!1)})}(A)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(JE)}static assertInAngularZone(){if(!os.isInAngularZone())throw new Tn(909,!1)}static assertNotInAngularZone(){if(os.isInAngularZone())throw new Tn(909,!1)}run(h,p,v){return this._inner.run(h,p,v)}runTask(h,p,v,_){const S=this._inner,A=S.scheduleEventTask("NgZoneEvent: "+_,h,hT,Uy,Uy);try{return S.runTask(A,p,v)}finally{S.cancelTask(A)}}runGuarded(h,p,v){return this._inner.runGuarded(h,p,v)}runOutsideAngular(h){return this._outer.run(h)}}const hT={};function ew(c){if(0==c._nesting&&!c.hasPendingMicrotasks&&!c.isStable)try{c._nesting++,c.onMicrotaskEmpty.emit(null)}finally{if(c._nesting--,!c.hasPendingMicrotasks)try{c.runOutsideAngular(()=>c.onStable.emit(null))}finally{c.isStable=!0}}}function Gy(c){c.hasPendingMicrotasks=!!(c._hasPendingMicrotasks||(c.shouldCoalesceEventChangeDetection||c.shouldCoalesceRunChangeDetection)&&!0===c.callbackScheduled)}function du(c){c._nesting++,c.isStable&&(c.isStable=!1,c.onUnstable.emit(null))}function xo(c){c._nesting--,ew(c)}class $l{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new td,this.onMicrotaskEmpty=new td,this.onStable=new td,this.onError=new td}run(h,p,v){return h.apply(p,v)}runGuarded(h,p,v){return h.apply(p,v)}runOutsideAngular(h){return h()}runTask(h,p,v,_){return h.apply(p,v)}}function Hg(c,h){return!(!Array.isArray(c)||1!==c.length)&&!0===c[0]?.data?.[h]}class ed{constructor(){this._console=console}handleError(h){const p=this._findOriginalError(h);this._console.error("ERROR",h),p&&this._console.error("ORIGINAL ERROR",p)}_findOriginalError(h){let p=h&&zy(h);for(;p&&zy(p);)p=zy(p);return p||null}}const UN=new li("",{providedIn:"root",factory:()=>{const c=Si(os),h=Si(ed);return p=>c.runOutsideAngular(()=>h.handleError(p))}});class pT{constructor(){this.destroyed=!1,this.listeners=null,this.errorHandler=Si(ed,{optional:!0}),this.destroyRef=Si(A0),this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(h){if(this.destroyed)throw new Tn(953,!1);return(this.listeners??=[]).push(h),{unsubscribe:()=>{const p=this.listeners?.indexOf(h);void 0!==p&&-1!==p&&this.listeners?.splice(p,1)}}}emit(h){if(this.destroyed)throw new Tn(953,!1);if(null===this.listeners)return;const p=it(null);try{for(const v of this.listeners)try{v(h)}catch(_){this.errorHandler?.handleError(_)}}finally{it(p)}}}function mT(c){return new pT}function gT(c,h){return mt(c,h)}const GN=(gT.required=function iw(c){return mt(ur,c)},gT);function vT(){return Jf(xi(),hn())}function Jf(c,h){return new k0(Ja(c,h))}let k0=(()=>{class c{constructor(p){this.nativeElement=p}static#t=this.__NG_ELEMENT_ID__=vT}return c})();function yT(c){return c instanceof k0?c.nativeElement:c}function $N(){return this._results[Symbol.iterator]()}class hu{static#t=Symbol.iterator;get changes(){return this._changes??=new td}constructor(h=!1){this._emitDistinctChangesOnly=h,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const p=hu.prototype;p[Symbol.iterator]||(p[Symbol.iterator]=$N)}get(h){return this._results[h]}map(h){return this._results.map(h)}filter(h){return this._results.filter(h)}find(h){return this._results.find(h)}reduce(h,p){return this._results.reduce(h,p)}forEach(h){this._results.forEach(h)}some(h){return this._results.some(h)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(h,p){this.dirty=!1;const v=function Qr(c){return c.flat(Number.POSITIVE_INFINITY)}(h);(this._changesDetected=!function Us(c,h,p){if(c.length!==h.length)return!1;for(let v=0;v<c.length;v++){let _=c[v],S=h[v];if(p&&(_=p(_),S=p(S)),S!==_)return!1}return!0}(this._results,v,p))&&(this._results=v,this.length=v.length,this.last=v[this.length-1],this.first=v[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(h){this._onDirty=h}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function $g(c){return!(128&~c.flags)}const Wy=new Map;let _T=0;function rw(c){Wy.delete(c[Qu])}const Kg="__ngContext__";function Na(c,h){Ws(h)?(c[Kg]=h[Qu],function KN(c){Wy.set(c[Qu],c)}(h)):c[Kg]=h}function lw(c){return AT(c[Hh])}function TT(c){return AT(c[$r])}function AT(c){for(;null!==c&&!Ra(c);)c=c[$r];return c}let fw;function JN(c){fw=c}function Qh(){if(void 0!==fw)return fw;if(typeof document<"u")return document;throw new Tn(210,!1)}const Xg=new li("",{providedIn:"root",factory:()=>FT}),FT="ng",BT=new li(""),Yy=new li("",{providedIn:"platform",factory:()=>"unknown"}),t5=new li(""),e5=new li("",{providedIn:"root",factory:()=>Qh().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let j0=()=>null;function qy(c,h,p=!1){return j0(c,h,p)}const bw=new li("",{providedIn:"root",factory:()=>!1});let tv,t1;function V0(c){return function Ew(){if(void 0===tv&&(tv=null,on.trustedTypes))try{tv=on.trustedTypes.createPolicy("angular",{createHTML:c=>c,createScript:c=>c,createScriptURL:c=>c})}catch{}return tv}()?.createHTML(c)||c}function ww(){if(void 0===t1&&(t1=null,on.trustedTypes))try{t1=on.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:c=>c,createScript:c=>c,createScriptURL:c=>c})}catch{}return t1}function XT(c){return ww()?.createHTML(c)||c}function ZT(c){return ww()?.createScriptURL(c)||c}class rp{constructor(h){this.changingThisBreaksApplicationSecurity=h}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Vi})`}}class f5 extends rp{getTypeName(){return"HTML"}}class p5 extends rp{getTypeName(){return"Style"}}class m5 extends rp{getTypeName(){return"Script"}}class g5 extends rp{getTypeName(){return"URL"}}class QT extends rp{getTypeName(){return"ResourceURL"}}function Zd(c){return c instanceof rp?c.changingThisBreaksApplicationSecurity:c}function z0(c,h){const p=function qT(c){return c instanceof rp&&c.getTypeName()||null}(c);if(null!=p&&p!==h){if("ResourceURL"===p&&"URL"===h)return!0;throw new Error(`Required a safe ${h}, got a ${p} (see ${Vi})`)}return p===h}function v5(c){return new f5(c)}function y5(c){return new p5(c)}function b5(c){return new m5(c)}function JT(c){return new g5(c)}function _5(c){return new QT(c)}class E5{constructor(h){this.inertDocumentHelper=h}getInertBodyElement(h){h="<body><remove></remove>"+h;try{const p=(new window.DOMParser).parseFromString(V0(h),"text/html").body;return null===p?this.inertDocumentHelper.getInertBodyElement(h):(p.firstChild?.remove(),p)}catch{return null}}}class w5{constructor(h){this.defaultDoc=h,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(h){const p=this.inertDocument.createElement("template");return p.innerHTML=V0(h),p}}const M5=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function e1(c){return(c=String(c)).match(M5)?c:"unsafe:"+c}function Qd(c){const h={};for(const p of c.split(","))h[p]=!0;return h}function ef(...c){const h={};for(const p of c)for(const v in p)p.hasOwnProperty(v)&&(h[v]=!0);return h}const tA=Qd("area,br,col,hr,img,wbr"),eA=Qd("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),xw=Qd("rp,rt"),n1=ef(tA,ef(eA,Qd("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ef(xw,Qd("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ef(xw,eA)),r1=Qd("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),nA=ef(r1,Qd("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Qd("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),D5=Qd("script,style,template");class T5{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(h){let p=h.firstChild,v=!0,_=[];for(;p;)if(p.nodeType===Node.ELEMENT_NODE?v=this.startElement(p):p.nodeType===Node.TEXT_NODE?this.chars(p.nodeValue):this.sanitizedSomething=!0,v&&p.firstChild)_.push(p),p=iA(p);else for(;p;){p.nodeType===Node.ELEMENT_NODE&&this.endElement(p);let S=O5(p);if(S){p=S;break}p=_.pop()}return this.buf.join("")}startElement(h){const p=Mw(h).toLowerCase();if(!n1.hasOwnProperty(p))return this.sanitizedSomething=!0,!D5.hasOwnProperty(p);this.buf.push("<"),this.buf.push(p);const v=h.attributes;for(let _=0;_<v.length;_++){const S=v.item(_),A=S.name,I=A.toLowerCase();if(!nA.hasOwnProperty(I)){this.sanitizedSomething=!0;continue}let j=S.value;r1[I]&&(j=e1(j)),this.buf.push(" ",A,'="',oA(j),'"')}return this.buf.push(">"),!0}endElement(h){const p=Mw(h).toLowerCase();n1.hasOwnProperty(p)&&!tA.hasOwnProperty(p)&&(this.buf.push("</"),this.buf.push(p),this.buf.push(">"))}chars(h){this.buf.push(oA(h))}}function O5(c){const h=c.nextSibling;if(h&&c!==h.previousSibling)throw Cw(h);return h}function iA(c){const h=c.firstChild;if(h&&function A5(c,h){return(c.compareDocumentPosition(h)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(c,h))throw Cw(h);return h}function Mw(c){const h=c.nodeName;return"string"==typeof h?h:"FORM"}function Cw(c){return new Error(`Failed to sanitize html because the element is clobbered: ${c.outerHTML}`)}const rA=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,k5=/([^\#-~ |!])/g;function oA(c){return c.replace(/&/g,"&amp;").replace(rA,function(h){return"&#"+(1024*(h.charCodeAt(0)-55296)+(h.charCodeAt(1)-56320)+65536)+";"}).replace(k5,function(h){return"&#"+h.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let nv;function Sw(c,h){let p=null;try{nv=nv||function ev(c){const h=new w5(c);return function x5(){try{return!!(new window.DOMParser).parseFromString(V0(""),"text/html")}catch{return!1}}()?new E5(h):h}(c);let v=h?String(h):"";p=nv.getInertBodyElement(v);let _=5,S=v;do{if(0===_)throw new Error("Failed to sanitize html because the input is unstable");_--,v=S,S=p.innerHTML,p=nv.getInertBodyElement(v)}while(v!==S);return V0((new T5).sanitizeChildren(Dw(p)||p))}finally{if(p){const v=Dw(p)||p;for(;v.firstChild;)v.firstChild.remove()}}}function Dw(c){return"content"in c&&function I5(c){return c.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===c.nodeName}(c)?c.content:null}var op=function(c){return c[c.NONE=0]="NONE",c[c.HTML=1]="HTML",c[c.STYLE=2]="STYLE",c[c.SCRIPT=3]="SCRIPT",c[c.URL=4]="URL",c[c.RESOURCE_URL=5]="RESOURCE_URL",c}(op||{});function sA(c){const h=iv();return h?XT(h.sanitize(op.HTML,c)||""):z0(c,"HTML")?XT(Zd(c)):Sw(Qh(),Bt(c))}function Tw(c){const h=iv();return h?h.sanitize(op.URL,c)||"":z0(c,"URL")?Zd(c):e1(Bt(c))}function aA(c){const h=iv();if(h)return ZT(h.sanitize(op.RESOURCE_URL,c)||"");if(z0(c,"ResourceURL"))return ZT(Zd(c));throw new Tn(904,!1)}function Aw(c,h,p){return function L5(c,h){return"src"===h&&("embed"===c||"frame"===c||"iframe"===c||"media"===c||"script"===c)||"href"===h&&("base"===c||"link"===c)?aA:Tw}(h,p)(c)}function iv(){const c=hn();return c&&c[Ia].sanitizer}const F5=/^>|^->|<!--|-->|--!>|<!-$/g,B5=/(<|>)/g,j5="\u200b$1\u200b";function Kl(c){return c instanceof Function?c():c}function Xl(c){return"browser"===(c??Si(Es)).get(Yy)}var o1=function(c){return c[c.Important=1]="Important",c[c.DashCase=2]="DashCase",c}(o1||{});let s1;function a1(c,h){return s1(c,h)}function Ki(c,h,p,v,_){if(null!=v){let S,A=!1;Ra(v)?S=v:Ws(v)&&(A=!0,v=v[hi]);const I=Xr(v);0===c&&null!==p?null==_?Ys(h,p,I):sp(h,p,I,_||null,!0):1===c&&null!==p?sp(h,p,I,_||null,!0):2===c?function cp(c,h,p){c.removeChild(null,h,p)}(h,I,A):3===c&&h.destroyNode(I),null!=S&&function p1(c,h,p,v,_){const S=p[Tc];S!==Xr(p)&&Ki(h,c,v,S,_);for(let I=rs;I<p.length;I++){const j=p[I];f1(j[cn],j,c,h,v,S)}}(h,c,S,p,_)}}function Rw(c,h){return c.createComment(function cA(c){return c.replace(F5,h=>h.replace(B5,j5))}(h))}function c1(c,h,p){return c.createElement(h,p)}function gA(c,h){h[Ia].changeDetectionScheduler?.notify(9),f1(c,h,h[Gi],2,null,null)}function vA(c,h){const p=c[$h],v=h[Xi];(Ws(v)||h[Nr]!==v[Xi][Nr])&&(c[kn]|=su.HasTransplantedViews),null===p?c[$h]=[h]:p.push(h)}function Pw(c,h){const p=c[$h],v=p.indexOf(h);p.splice(v,1)}function id(c,h){if(c.length<=rs)return;const p=rs+h,v=c[p];if(v){const _=v[Zu];null!==_&&_!==c&&Pw(_,v),h>0&&(c[p-1][$r]=v[$r]);const S=Qa(c,rs+h);!function Y5(c,h){gA(c,h),h[hi]=null,h[po]=null}(v[cn],v);const A=S[Fi];null!==A&&A.detachView(S[cn]),v[Xi]=null,v[$r]=null,v[kn]&=-129}return v}function lv(c,h){if(!(256&h[kn])){const p=h[Gi];p.destroyNode&&f1(c,h,p,3,null,null),function Q5(c){let h=c[Hh];if(!h)return Nw(c[cn],c);for(;h;){let p=null;if(Ws(h))p=h[Hh];else{const v=h[rs];v&&(p=v)}if(!p){for(;h&&!h[$r]&&h!==c;)Ws(h)&&Nw(h[cn],h),h=h[Xi];null===h&&(h=c),Ws(h)&&Nw(h[cn],h),p=h&&h[$r]}h=p}}(h)}}function Nw(c,h){if(256&h[kn])return;const p=it(null);try{h[kn]&=-129,h[kn]|=256,h[cs]&&_e(h[cs]),function tL(c,h){let p;if(null!=c&&null!=(p=c.destroyHooks))for(let v=0;v<p.length;v+=2){const _=h[p[v]];if(!(_ instanceof Bg)){const S=p[v+1];if(Array.isArray(S))for(let A=0;A<S.length;A+=2){const I=_[S[A]],j=S[A+1];qu(4,I,j);try{j.call(I)}finally{qu(5,I,j)}}else{qu(4,_,S);try{S.call(_)}finally{qu(5,_,S)}}}}}(c,h),function J5(c,h){const p=c.cleanup,v=h[fr];if(null!==p)for(let S=0;S<p.length-1;S+=2)if("string"==typeof p[S]){const A=p[S+3];A>=0?v[A]():v[-A].unsubscribe(),S+=2}else p[S].call(v[p[S+1]]);null!==v&&(h[fr]=null);const _=h[or];if(null!==_){h[or]=null;for(let S=0;S<_.length;S++)(0,_[S])()}}(c,h),1===h[cn].type&&h[Gi].destroy();const v=h[Zu];if(null!==v&&Ra(h[Xi])){v!==h[Xi]&&Pw(v,h);const _=h[Fi];null!==_&&_.detachView(c)}rw(h)}finally{it(p)}}function u1(c,h,p){return function yA(c,h,p){let v=h;for(;null!==v&&168&v.type;)v=(h=v).parent;if(null===v)return p[hi];{const{componentOffset:_}=v;if(_>-1){const{encapsulation:S}=c.data[v.directiveStart+_];if(S===bc.None||S===bc.Emulated)return null}return Ja(v,p)}}(c,h.parent,p)}function sp(c,h,p,v,_){c.insertBefore(h,p,v,_)}function Ys(c,h,p){c.appendChild(h,p)}function bA(c,h,p,v,_){null!==v?sp(c,h,p,v,_):Ys(c,h,p)}function oi(c,h){return c.parentNode(h)}function _A(c,h,p){return wA(c,h,p)}let Lw,wA=function EA(c,h,p){return 40&c.type?Ja(c,p):null};function d1(c,h,p,v){const _=u1(c,v,h),S=h[Gi],I=_A(v.parent||h[po],v,h);if(null!=_)if(Array.isArray(p))for(let j=0;j<p.length;j++)bA(S,_,p[j],I,!1);else bA(S,_,p,I,!1);void 0!==Lw&&Lw(S,v,h,p,_)}function lp(c,h){if(null!==h){const p=h.type;if(3&p)return Ja(h,c);if(4&p)return h1(-1,c[h.index]);if(8&p){const v=h.child;if(null!==v)return lp(c,v);{const _=c[h.index];return Ra(_)?h1(-1,_):Xr(_)}}if(128&p)return lp(c,h.next);if(32&p)return a1(h,c)()||Xr(c[h.index]);{const v=Fw(c,h);return null!==v?Array.isArray(v)?v[0]:lp($d(c[Nr]),v):lp(c,h.next)}}return null}function Fw(c,h){return null!==h?c[Nr][po].projection[h.projection]:null}function h1(c,h){const p=rs+c+1;if(p<h.length){const v=h[p],_=v[cn].firstChild;if(null!==_)return lp(v,_)}return h[Tc]}function Bw(c,h,p,v,_,S,A){for(;null!=p;){if(128===p.type){p=p.next;continue}const I=v[p.index],j=p.type;if(A&&0===h&&(I&&Na(Xr(I),v),p.flags|=2),32&~p.flags)if(8&j)Bw(c,h,p.child,v,_,S,!1),Ki(h,c,_,I,S);else if(32&j){const Y=a1(p,v);let nt;for(;nt=Y();)Ki(h,c,_,nt,S);Ki(h,c,_,I,S)}else 16&j?MA(c,h,v,p,_,S):Ki(h,c,_,I,S);p=A?p.projectionNext:p.next}}function f1(c,h,p,v,_,S){Bw(p,v,c.firstChild,h,_,S,!1)}function MA(c,h,p,v,_,S){const A=p[Nr],j=A[po].projection[v.projection];if(Array.isArray(j))for(let Y=0;Y<j.length;Y++)Ki(h,c,_,j[Y],S);else{let Y=j;const nt=A[Xi];$g(v)&&(Y.flags|=128),Bw(c,h,Y,nt,_,S,!0)}}function W0(c,h,p){""===p?c.removeAttribute(h,"class"):c.setAttribute(h,"class",p)}function SA(c,h,p){const{mergedAttrs:v,classes:_,styles:S}=p;null!==v&&Ec(c,h,v),null!==_&&W0(c,h,_),null!==S&&function iL(c,h,p){c.setAttribute(h,"style",p)}(c,h,S)}const nr={};function jw(c=1){DA(Er(),hn(),wa()+c,!1)}function DA(c,h,p,v){if(!v)if(3&~h[kn]){const S=c.preOrderHooks;null!==S&&Iy(h,S,0,p)}else{const S=c.preOrderCheckHooks;null!==S&&ky(h,S,p)}Qf(p)}function rd(c,h=Ii.Default){const p=hn();return null===p?Hr(c,h):JD(xi(),p,Tt(c),h)}function TA(){throw new Error("invalid")}function Vw(c,h,p,v,_,S){const A=it(null);try{let I=null;_&Pi.SignalBased&&(I=h[v][ct]),null!==I&&void 0!==I.transformFn&&(S=I.transformFn(S)),_&Pi.HasDecoratorInputTransform&&(S=c.inputTransforms[v].call(h,S)),null!==c.setInput?c.setInput(h,I,S,p,v):Ks(h,I,v,S)}finally{it(A)}}function rf(c,h,p,v,_,S,A,I,j,Y,nt){const xt=h.blueprint.slice();return xt[hi]=_,xt[kn]=204|v,(null!==Y||c&&2048&c[kn])&&(xt[kn]|=2048),Cy(xt),xt[Xi]=xt[Yu]=c,xt[ar]=p,xt[Ia]=A||c&&c[Ia],xt[Gi]=I||c&&c[Gi],xt[Io]=j||c&&c[Io]||null,xt[po]=S,xt[Qu]=function WN(){return _T++}(),xt[oo]=nt,xt[Ul]=Y,xt[Nr]=2==h.type?c[Nr]:xt,xt}function sf(c,h,p,v,_){let S=c.data[h];if(null===S)S=function zw(c,h,p,v,_){const S=Oc(),A=OE(),j=c.data[h]=function lL(c,h,p,v,_,S){let A=h?h.injectorIndex:-1,I=0;return Zf()&&(I|=128),{type:p,index:v,insertBeforeIndex:null,injectorIndex:A,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:I,providerIndexes:0,value:_,attrs:S,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:h,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,A?S:S&&S.parent,p,h,v,_);return null===c.firstChild&&(c.firstChild=j),null!==S&&(A?null==S.child&&null!==j.parent&&(S.child=j):null===S.next&&(S.next=j,j.prev=S)),j}(c,h,p,v,_),function PD(){return Kn.lFrame.inI18n}()&&(S.flags|=32);else if(64&S.type){S.type=p,S.value=v,S.attrs=_;const A=function Lg(){const c=Kn.lFrame,h=c.currentTNode;return c.isParent?h:h.parent}();S.injectorIndex=null===A?-1:A.injectorIndex}return au(S,!0),S}function cv(c,h,p,v){if(0===p)return-1;const _=h.length;for(let S=0;S<p;S++)h.push(v),c.blueprint.push(v),c.data.push(null);return _}function Uw(c,h,p,v,_){const S=wa(),A=2&v;try{Qf(-1),A&&h.length>Ti&&DA(c,h,Ti,!1),qu(A?2:0,_),p(v,_)}finally{Qf(S),qu(A?3:1,_)}}function Hw(c,h,p){if(ME(h)){const v=it(null);try{const S=h.directiveEnd;for(let A=h.directiveStart;A<S;A++){const I=c.data[A];I.contentQueries&&I.contentQueries(1,p[A],A)}}finally{it(v)}}}function m1(c,h,p){SD()&&(function fL(c,h,p,v){const _=p.directiveStart,S=p.directiveEnd;Wh(p)&&function gL(c,h,p){const v=Ja(h,c),_=_i(p);let A=16;p.signals?A=4096:p.onPush&&(A=64);const I=E1(c,rf(c,_,null,A,v,h,null,c[Ia].rendererFactory.createRenderer(v,p),null,null,null));c[h.index]=I}(h,p,c.data[_+p.componentOffset]),c.firstCreatePass||Ry(p,h),Na(v,h);const A=p.initialInputs;for(let I=_;I<S;I++){const j=c.data[I],Y=qf(h,c,I,p);Na(Y,h),null!==A&&b1(0,I-_,Y,j,0,A),qa(j)&&(Hl(p.index,h)[ar]=qf(h,c,I,p))}}(c,h,p,Ja(p,h)),!(64&~p.flags)&&AA(c,h,p))}function Gw(c,h,p=Ja){const v=h.localNames;if(null!==v){let _=h.index+1;for(let S=0;S<v.length;S+=2){const A=v[S+1],I=-1===A?p(h,c):c[A];c[_++]=I}}}function _i(c){const h=c.tView;return null===h||h.incompleteFirstPass?c.tView=$w(1,null,c.template,c.decls,c.vars,c.directiveDefs,c.pipeDefs,c.viewQuery,c.schemas,c.consts,c.id):h}function $w(c,h,p,v,_,S,A,I,j,Y,nt){const xt=Ti+v,ce=xt+_,de=function oL(c,h){const p=[];for(let v=0;v<h;v++)p.push(v<c?null:nr);return p}(xt,ce),Be="function"==typeof Y?Y():Y;return de[cn]={type:c,blueprint:de,template:p,queries:null,viewQuery:I,declTNode:h,data:de.slice().fill(null,xt),bindingStartIndex:xt,expandoStartIndex:ce,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof S?S():S,pipeRegistry:"function"==typeof A?A():A,firstChild:null,schemas:j,consts:Be,incompleteFirstPass:!1,ssrId:nt}}let up=()=>null;function g1(c,h,p,v,_){for(let S in h){if(!h.hasOwnProperty(S))continue;const A=h[S];if(void 0===A)continue;v??={};let I,j=Pi.None;Array.isArray(A)?(I=A[0],j=A[1]):I=A;let Y=S;if(null!==_){if(!_.hasOwnProperty(S))continue;Y=_[S]}0===c?v1(v,p,Y,I,j):v1(v,p,Y,I)}return v}function v1(c,h,p,v,_){let S;c.hasOwnProperty(p)?(S=c[p]).push(h,v):S=c[p]=[h,v],void 0!==_&&S.push(_)}function nl(c,h,p,v,_,S,A,I){const j=Ja(h,p);let nt,Y=h.inputs;!I&&null!=Y&&(nt=Y[v])?(Qw(c,p,nt,v,_),Wh(h)&&function La(c,h){const p=Hl(h,c);16&p[kn]||(p[kn]|=64)}(p,h.index)):3&h.type&&(v=function uL(c){return"class"===c?"className":"for"===c?"htmlFor":"formaction"===c?"formAction":"innerHtml"===c?"innerHTML":"readonly"===c?"readOnly":"tabindex"===c?"tabIndex":c}(v),_=null!=A?A(_,h.value||"",v):_,S.setProperty(j,v,_))}function Kw(c,h,p,v){if(SD()){const _=null===v?null:{"":-1},S=function xa(c,h){const p=c.directiveRegistry;let v=null,_=null;if(p)for(let S=0;S<p.length;S++){const A=p[S];if(ht(h,A.selectors,!1))if(v||(v=[]),qa(A))if(null!==A.findHostDirectiveDefs){const I=[];_=_||new Map,A.findHostDirectiveDefs(A,I,_),v.unshift(...I,A),th(c,h,I.length)}else v.unshift(A),th(c,h,0);else _=_||new Map,A.findHostDirectiveDefs?.(A,v,_),v.push(A)}return null===v?null:[v,_]}(c,p);let A,I;null===S?A=I=null:[A,I]=S,null!==A&&dp(c,h,p,A,_,I),_&&function mL(c,h,p){if(h){const v=c.localNames=[];for(let _=0;_<h.length;_+=2){const S=p[h[_+1]];if(null==S)throw new Tn(-301,!1);v.push(h[_],S)}}}(p,v,_)}p.mergedAttrs=wc(p.mergedAttrs,p.attrs)}function dp(c,h,p,v,_,S){for(let Y=0;Y<v.length;Y++)WE(Ry(p,h),c,v[Y].type);!function y1(c,h,p){c.flags|=1,c.directiveStart=h,c.directiveEnd=h+p,c.providerIndexes=h}(p,c.data.length,v.length);for(let Y=0;Y<v.length;Y++){const nt=v[Y];nt.providersResolver&&nt.providersResolver(nt)}let A=!1,I=!1,j=cv(c,h,v.length,null);for(let Y=0;Y<v.length;Y++){const nt=v[Y];p.mergedAttrs=wc(p.mergedAttrs,nt.hostAttrs),Xw(c,p,h,j,nt),af(j,nt,_),null!==nt.contentQueries&&(p.flags|=4),(null!==nt.hostBindings||null!==nt.hostAttrs||0!==nt.hostVars)&&(p.flags|=64);const xt=nt.type.prototype;!A&&(xt.ngOnChanges||xt.ngOnInit||xt.ngDoCheck)&&((c.preOrderHooks??=[]).push(p.index),A=!0),!I&&(xt.ngOnChanges||xt.ngDoCheck)&&((c.preOrderCheckHooks??=[]).push(p.index),I=!0),j++}!function cL(c,h,p){const _=h.directiveEnd,S=c.data,A=h.attrs,I=[];let j=null,Y=null;for(let nt=h.directiveStart;nt<_;nt++){const xt=S[nt],ce=p?p.get(xt):null,Be=ce?ce.outputs:null;j=g1(0,xt.inputs,nt,j,ce?ce.inputs:null),Y=g1(1,xt.outputs,nt,Y,Be);const dn=null===j||null===A||Wu(h)?null:_1(j,nt,A);I.push(dn)}null!==j&&(j.hasOwnProperty("class")&&(h.flags|=8),j.hasOwnProperty("style")&&(h.flags|=16)),h.initialInputs=I,h.inputs=j,h.outputs=Y}(c,p,S)}function AA(c,h,p){const v=p.directiveStart,_=p.directiveEnd,S=p.index,A=function EN(){return Kn.lFrame.currentDirectiveIndex}();try{Qf(S);for(let I=v;I<_;I++){const j=c.data[I],Y=h[I];IE(I),(null!==j.hostBindings||0!==j.hostVars||null!==j.hostAttrs)&&pL(j,Y)}}finally{Qf(-1),IE(A)}}function pL(c,h){null!==c.hostBindings&&c.hostBindings(1,h)}function th(c,h,p){h.componentOffset=p,(c.components??=[]).push(h.index)}function af(c,h,p){if(p){if(h.exportAs)for(let v=0;v<h.exportAs.length;v++)p[h.exportAs[v]]=c;qa(h)&&(p[""]=c)}}function Xw(c,h,p,v,_){c.data[v]=_;const S=_.factory||(_.factory=ys(_.type)),A=new Bg(S,qa(_),rd);c.blueprint[v]=A,p[v]=A,function Xo(c,h,p,v,_){const S=_.hostBindings;if(S){let A=c.hostBindingOpCodes;null===A&&(A=c.hostBindingOpCodes=[]);const I=~h.index;(function hL(c){let h=c.length;for(;h>0;){const p=c[--h];if("number"==typeof p&&p<0)return p}return 0})(A)!=I&&A.push(I),A.push(p,v,S)}}(c,h,v,cv(c,p,_.hostVars,nr),_)}function Yl(c,h,p,v,_,S){const A=Ja(c,h);!function uv(c,h,p,v,_,S,A){if(null==S)c.removeAttribute(h,_,p);else{const I=null==A?Bt(S):A(S,v||"",_);c.setAttribute(h,_,I,p)}}(h[Gi],A,S,c.value,p,v,_)}function b1(c,h,p,v,_,S){const A=S[h];if(null!==A)for(let I=0;I<A.length;)Vw(v,p,A[I++],A[I++],A[I++],A[I++])}function _1(c,h,p){let v=null,_=0;for(;_<p.length;){const S=p[_];if(0!==S)if(5!==S){if("number"==typeof S)break;if(c.hasOwnProperty(S)){null===v&&(v=[]);const A=c[S];for(let I=0;I<A.length;I+=3)if(A[I]===h){v.push(S,A[I+1],A[I+2],p[_+1]);break}}_+=2}else _+=2;else _+=4}return v}function OA(c,h,p,v){return[c,!0,0,h,null,v,null,p,null,null]}function kA(c,h){const p=c.contentQueries;if(null!==p){const v=it(null);try{for(let _=0;_<p.length;_+=2){const A=p[_+1];if(-1!==A){const I=c.data[A];Ay(p[_]),I.contentQueries(2,h[A],A)}}}finally{it(v)}}}function E1(c,h){return c[Hh]?c[by][$r]=h:c[Hh]=h,c[by]=h,h}function Yw(c,h,p){Ay(0);const v=it(null);try{h(c,p)}finally{it(v)}}function Zw(c){return c[fr]??=[]}function w1(c){return c.cleanup??=[]}function IA(c,h,p){return(null===c||qa(c))&&(p=function SE(c){for(;Array.isArray(c);){if("object"==typeof c[_y])return c;c=c[hi]}return null}(p[h.index])),p[Gi]}function x1(c,h){const p=c[Io],v=p?p.get(ed,null):null;v&&v.handleError(h)}function Qw(c,h,p,v,_){for(let S=0;S<p.length;){const A=p[S++],I=p[S++],j=p[S++];Vw(c.data[A],h[A],v,I,j,_)}}function vL(c,h){const p=Hl(h,c),v=p[cn];!function yL(c,h){for(let p=h.length;p<c.blueprint.length;p++)h.push(c.blueprint[p])}(v,p);const _=p[hi];null!==_&&null===p[oo]&&(p[oo]=qy(_,p[Io])),qw(v,p,p[ar])}function qw(c,h,p){LE(h);try{const v=c.viewQuery;null!==v&&Yw(1,v,p);const _=c.template;null!==_&&Uw(c,h,_,1,p),c.firstCreatePass&&(c.firstCreatePass=!1),h[Fi]?.finishViewCreation(c),c.staticContentQueries&&kA(c,h),c.staticViewQueries&&Yw(2,c.viewQuery,p);const S=c.components;null!==S&&function bL(c,h){for(let p=0;p<h.length;p++)vL(c,h[p])}(h,S)}catch(v){throw c.firstCreatePass&&(c.incompleteFirstPass=!0,c.firstCreatePass=!1),v}finally{h[kn]&=-5,FE()}}function X0(c,h,p,v){const _=it(null);try{const S=h.tView,j=rf(c,S,p,4096&c[kn]?4096:16,null,h,null,null,v?.injector??null,v?.embeddedViewInjector??null,v?.dehydratedView??null);j[Zu]=c[h.index];const nt=c[Fi];return null!==nt&&(j[Fi]=nt.createEmbeddedView(S)),qw(S,j,p),j}finally{it(_)}}function RA(c,h){const p=rs+h;if(p<c.length)return c[p]}function hp(c,h){return!h||null===h.firstChild||$g(c)}function Y0(c,h,p,v=!0){const _=h[cn];if(function q5(c,h,p,v){const _=rs+v,S=p.length;v>0&&(p[_-1][$r]=h),v<S-rs?(h[$r]=p[_],Za(p,rs+v,h)):(p.push(h),h[$r]=null),h[Xi]=p;const A=h[Zu];null!==A&&p!==A&&vA(A,h);const I=h[Fi];null!==I&&I.insertView(c),DE(h),h[kn]|=128}(_,h,c,p),v){const A=h1(p,c),I=h[Gi],j=oi(I,c[Tc]);null!==j&&function Z5(c,h,p,v,_,S){v[hi]=_,v[po]=h,f1(c,v,p,1,_,S)}(_,c[po],I,h,j,A)}const S=h[oo];null!==S&&null!==S.firstChild&&(S.firstChild=null)}function M1(c,h){const p=id(c,h);return void 0!==p&&lv(p[cn],p),p}function dv(c,h,p,v,_=!1){for(;null!==p;){if(128===p.type){p=_?p.projectionNext:p.next;continue}const S=h[p.index];null!==S&&v.push(Xr(S)),Ra(S)&&PA(S,v);const A=p.type;if(8&A)dv(c,h,p.child,v);else if(32&A){const I=a1(p,h);let j;for(;j=I();)v.push(j)}else if(16&A){const I=Fw(h,p);if(Array.isArray(I))v.push(...I);else{const j=$d(h[Nr]);dv(j[cn],j,I,v,!0)}}p=_?p.projectionNext:p.next}return v}function PA(c,h){for(let p=rs;p<c.length;p++){const v=c[p],_=v[cn].firstChild;null!==_&&dv(v[cn],v,_,h)}c[Tc]!==c[hi]&&h.push(c[Tc])}let NA=[];const wn={...bt,consumerIsAlwaysLive:!0,consumerMarkedDirty:c=>{Gd(c.lView)},consumerOnSignalRead(){this.lView[cs]=this}},pr={...bt,consumerIsAlwaysLive:!0,consumerMarkedDirty:c=>{let h=$d(c.lView);for(;h&&!Z0(h[cn]);)h=$d(h);h&&CD(h)},consumerOnSignalRead(){this.lView[cs]=this}};function Z0(c){return 2!==c.type}const Xt=100;function C1(c,h=!0,p=0){const v=c[Ia],_=v.rendererFactory;_.begin?.();try{!function Qn(c,h){const p=kD();try{ID(!0),D1(c,h);let v=0;for(;Sy(c);){if(v===Xt)throw new Tn(103,!1);v++,D1(c,1)}}finally{ID(p)}}(c,p)}catch(A){throw h&&x1(c,A),A}finally{_.end?.(),v.inlineEffectRunner?.flush()}}function LA(c,h,p,v){const _=h[kn];if(!(256&~_))return;h[Ia].inlineEffectRunner?.flush(),LE(h);let I=!0,j=null,Y=null;Z0(c)?(Y=function _L(c){return c[cs]??function Jw(c){const h=NA.pop()??Object.create(wn);return h.lView=c,h}(c)}(h),j=ye(Y)):null===jt()?(I=!1,Y=function fs(c){const h=c[cs]??Object.create(pr);return h.lView=c,h}(h),j=ye(Y)):h[cs]&&(_e(h[cs]),h[cs]=null);try{Cy(h),function RD(c){return Kn.lFrame.bindingIndex=c}(c.bindingStartIndex),null!==p&&Uw(c,h,p,2,v);const nt=!(3&~_);if(nt){const de=c.preOrderCheckHooks;null!==de&&ky(h,de,null)}else{const de=c.preOrderHooks;null!==de&&Iy(h,de,0,null),jE(h,0)}if(function hv(c){for(let h=lw(c);null!==h;h=TT(h)){if(!(h[kn]&su.HasTransplantedViews))continue;const p=h[$h];for(let v=0;v<p.length;v++)CD(p[v])}}(h),FA(h,0),null!==c.contentQueries&&kA(c,h),nt){const de=c.contentCheckHooks;null!==de&&ky(h,de)}else{const de=c.contentHooks;null!==de&&Iy(h,de,1),jE(h,1)}!function rL(c,h){const p=c.hostBindingOpCodes;if(null!==p)try{for(let v=0;v<p.length;v++){const _=p[v];if(_<0)Qf(~_);else{const S=_,A=p[++v],I=p[++v];_N(A,S),I(2,h[S])}}}finally{Qf(-1)}}(c,h);const xt=c.components;null!==xt&&ex(h,xt,0);const ce=c.viewQuery;if(null!==ce&&Yw(2,ce,v),nt){const de=c.viewCheckHooks;null!==de&&ky(h,de)}else{const de=c.viewHooks;null!==de&&Iy(h,de,2),jE(h,2)}if(!0===c.firstUpdatePass&&(c.firstUpdatePass=!1),h[Eo]){for(const de of h[Eo])de();h[Eo]=null}h[kn]&=-73}catch(nt){throw Gd(h),nt}finally{null!==Y&&(Le(Y,j),I&&function lr(c){c.lView[cs]!==c&&(c.lView=null,NA.push(c))}(Y)),FE()}}function FA(c,h){for(let p=lw(c);null!==p;p=TT(p))for(let v=rs;v<p.length;v++)tx(p[v],h)}function BA(c,h,p){tx(Hl(h,c),p)}function tx(c,h){Pg(c)&&D1(c,h)}function D1(c,h){const v=c[cn],_=c[kn],S=c[cs];let A=!!(0===h&&16&_);if(A||=!!(64&_&&0===h),A||=!!(1024&_),A||=!(!S?.dirty||!rn(S)),A||=!1,S&&(S.dirty=!1),c[kn]&=-9217,A)LA(v,c,v.template,c[ar]);else if(8192&_){FA(c,1);const I=v.components;null!==I&&ex(c,I,1)}}function ex(c,h,p){for(let v=0;v<h.length;v++)BA(c,h[v],p)}function fv(c,h){const p=kD()?64:1088;for(c[Ia].changeDetectionScheduler?.notify(h);c;){c[kn]|=p;const v=$d(c);if(Og(c)&&!v)return c;c=v}return null}class pv{get rootNodes(){const h=this._lView,p=h[cn];return dv(p,h,p.firstChild,[])}constructor(h,p,v=!0){this._lView=h,this._cdRefInjectingView=p,this.notifyErrorHandler=v,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ar]}set context(h){this._lView[ar]=h}get destroyed(){return!(256&~this._lView[kn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const h=this._lView[Xi];if(Ra(h)){const p=h[8],v=p?p.indexOf(this):-1;v>-1&&(id(h,v),Qa(p,v))}this._attachedToViewContainer=!1}lv(this._lView[cn],this._lView)}onDestroy(h){Ng(this._lView,h)}markForCheck(){fv(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[kn]&=-129}reattach(){DE(this._lView),this._lView[kn]|=128}detectChanges(){this._lView[kn]|=1024,C1(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Tn(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const h=Og(this._lView),p=this._lView[Zu];null!==p&&!h&&Pw(p,this._lView),gA(this._lView[cn],this._lView)}attachToAppRef(h){if(this._attachedToViewContainer)throw new Tn(902,!1);this._appRef=h;const p=Og(this._lView),v=this._lView[Zu];null!==v&&!p&&vA(v,this._lView),DE(this._lView)}}let od=(()=>{class c{static#t=this.__NG_ELEMENT_ID__=T1}return c})();const EL=od,wL=class extends EL{constructor(h,p,v){super(),this._declarationLView=h,this._declarationTContainer=p,this.elementRef=v}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(h,p){return this.createEmbeddedViewImpl(h,p)}createEmbeddedViewImpl(h,p,v){const _=X0(this._declarationLView,this._declarationTContainer,h,{embeddedViewInjector:p,dehydratedView:v});return new pv(_)}};function T1(){return A1(xi(),hn())}function A1(c,h){return 4&c.type?new wL(h,c,Jf(c,h)):null}let _x=()=>null;function Zl(c,h){return _x(c,h)}class yp{}const sm=new li("",{providedIn:"root",factory:()=>!1}),Ic=new li(""),z1=new li("");class U1{}class H1{}class tO{resolveComponentFactory(h){throw function JA(c){const h=Error(`No component factory found for ${en(c)}.`);return h.ngComponent=c,h}(h)}}class am{static#t=this.NULL=new tO}class G1{}let eO=(()=>{class c{constructor(){this.destroyNode=null}static#t=this.__NG_ELEMENT_ID__=()=>function lm(){const c=hn(),p=Hl(xi().index,c);return(Ws(p)?p:c)[Gi]}()}return c})(),nO=(()=>{class c{static#t=this.\u0275prov=te({token:c,providedIn:"root",factory:()=>null})}return c})();function nh(c){return!!Gs(c)}function Ql(c,h,p){let v=p?c.styles:null,_=p?c.classes:null,S=0;if(null!==h)for(let A=0;A<h.length;A++){const I=h[A];"number"==typeof I?S=I:1==S?_=yn(_,I):2==S&&(v=yn(v,I+": "+h[++A]+";"))}p?c.styles=v:c.stylesWithoutHost=v,p?c.classes=_:c.classesWithoutHost=_}class Dx extends am{constructor(h){super(),this.ngModule=h}resolveComponentFactory(h){const p=rr(h);return new bp(p,this.ngModule)}}function Tx(c,h){const p=[];for(const v in c){if(!c.hasOwnProperty(v))continue;const _=c[v];if(void 0===_)continue;const S=Array.isArray(_),A=S?_[0]:_;p.push(h?{propName:A,templateName:v,isSignal:!!((S?_[1]:Pi.None)&Pi.SignalBased)}:{propName:A,templateName:v})}return p}class bp extends H1{get inputs(){const h=this.componentDef,p=h.inputTransforms,v=Tx(h.inputs,!0);if(null!==p)for(const _ of v)p.hasOwnProperty(_.propName)&&(_.transform=p[_.propName]);return v}get outputs(){return Tx(this.componentDef.outputs,!1)}constructor(h,p){super(),this.componentDef=h,this.ngModule=p,this.componentType=h.type,this.selector=function Gf(c){return c.map(Lh).join(",")}(h.selectors),this.ngContentSelectors=h.ngContentSelectors?h.ngContentSelectors:[],this.isBoundToModule=!!p}create(h,p,v,_){const S=it(null);try{let A=(_=_||this.ngModule)instanceof $s?_:_?.injector;A&&null!==this.componentDef.getStandaloneInjector&&(A=this.componentDef.getStandaloneInjector(A)||A);const I=A?new Kh(h,A):h,j=I.get(G1,null);if(null===j)throw new Tn(407,!1);const xt={rendererFactory:j,sanitizer:I.get(nO,null),inlineEffectRunner:null,changeDetectionScheduler:I.get(yp,null)},ce=j.createRenderer(null,this.componentDef),de=this.componentDef.selectors[0][0]||"div",Be=v?function sL(c,h,p,v){const S=v.get(bw,!1)||p===bc.ShadowDom,A=c.selectRootElement(h,S);return function Ww(c){up(c)}(A),A}(ce,v,this.componentDef.encapsulation,I):c1(ce,de,function Ax(c){const h=c.toLowerCase();return"svg"===h?CE:"math"===h?"math":null}(de));let dn=512;this.componentDef.signals?dn|=4096:this.componentDef.onPush||(dn|=16);let Gn=null;null!==Be&&(Gn=qy(Be,I,!0));const $n=$w(0,null,null,1,0,null,null,null,null,null,null),vn=rf(null,$n,null,dn,null,null,xt,ce,I,null,Gn);LE(vn);let Zi,Cr,Ao=null;try{const Cs=this.componentDef;let ll,cl=null;Cs.findHostDirectiveDefs?(ll=[],cl=new Map,Cs.findHostDirectiveDefs(Cs,ll,cl),ll.push(Cs)):ll=[Cs];const $c=function Dv(c,h){const p=c[cn],v=Ti;return c[v]=h,sf(p,v,2,"#host",null)}(vn,Be);Ao=function iO(c,h,p,v,_,S,A){const I=_[cn];!function rO(c,h,p,v){for(const _ of c)h.mergedAttrs=wc(h.mergedAttrs,_.hostAttrs);null!==h.mergedAttrs&&(Ql(h,h.mergedAttrs,!0),null!==p&&SA(v,p,h))}(v,c,h,A);let j=null;null!==h&&(j=qy(h,_[Io]));const Y=S.rendererFactory.createRenderer(h,p);let nt=16;p.signals?nt=4096:p.onPush&&(nt=64);const xt=rf(_,_i(p),null,nt,_[c.index],c,S,Y,null,null,j);return I.firstCreatePass&&th(I,c,v.length-1),E1(_,xt),_[c.index]=xt}($c,Be,Cs,ll,vn,xt,ce),Cr=C0($n,Ti),Be&&function GL(c,h,p,v){if(v)Ec(c,p,["ng-version","18.2.9"]);else{const{attrs:_,classes:S}=function v0(c){const h=[],p=[];let v=1,_=2;for(;v<c.length;){let S=c[v];if("string"==typeof S)2===_?""!==S&&h.push(S,c[++v]):8===_&&p.push(S);else{if(!J(_))break;_=S}v++}return{attrs:h,classes:p}}(h.selectors[0]);_&&Ec(c,p,_),S&&S.length>0&&W0(c,p,S.join(" "))}}(ce,Cs,Be,v),void 0!==p&&function sO(c,h,p){const v=c.projection=[];for(let _=0;_<h.length;_++){const S=p[_];v.push(null!=S?Array.from(S):null)}}(Cr,this.ngContentSelectors,p),Zi=function oO(c,h,p,v,_,S){const A=xi(),I=_[cn],j=Ja(A,_);dp(I,_,A,p,null,v);for(let nt=0;nt<p.length;nt++)Na(qf(_,I,A.directiveStart+nt,A),_);AA(I,_,A),j&&Na(j,_);const Y=qf(_,I,A.directiveStart+A.componentOffset,A);if(c[ar]=_[ar]=Y,null!==S)for(const nt of S)nt(Y,h);return Hw(I,A,_),Y}(Ao,Cs,ll,cl,vn,[_p]),qw($n,vn,null)}catch(Cs){throw null!==Ao&&rw(Ao),rw(vn),Cs}finally{FE()}return new K1(this.componentType,Zi,Jf(Cr,vn),vn,Cr)}finally{it(S)}}}class K1 extends U1{constructor(h,p,v,_,S){super(),this.location=v,this._rootLView=_,this._tNode=S,this.previousInputValues=null,this.instance=p,this.hostView=this.changeDetectorRef=new pv(_,void 0,!1),this.componentType=h}setInput(h,p){const v=this._tNode.inputs;let _;if(null!==v&&(_=v[h])){if(this.previousInputValues??=new Map,this.previousInputValues.has(h)&&Object.is(this.previousInputValues.get(h),p))return;const S=this._rootLView;Qw(S[cn],S,_,h,p),this.previousInputValues.set(h,p),fv(Hl(this._tNode.index,S),1)}}get injector(){return new As(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(h){this.hostView.onDestroy(h)}}function _p(){const c=xi();Oy(hn()[cn],c)}let X1=(()=>{class c{static#t=this.__NG_ELEMENT_ID__=$L}return c})();function $L(){return aO(xi(),hn())}const Ma=X1,Tv=class extends Ma{constructor(h,p,v){super(),this._lContainer=h,this._hostTNode=p,this._hostLView=v}get element(){return Jf(this._hostTNode,this._hostLView)}get injector(){return new As(this._hostTNode,this._hostLView)}get parentInjector(){const h=Py(this._hostTNode,this._hostLView);if(HE(h)){const p=Vg(h,this._hostLView),v=jg(h);return new As(p[cn].data[v+8],p)}return new As(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(h){const p=Ox(this._lContainer);return null!==p&&p[h]||null}get length(){return this._lContainer.length-rs}createEmbeddedView(h,p,v){let _,S;"number"==typeof v?_=v:null!=v&&(_=v.index,S=v.injector);const A=Zl(this._lContainer,h.ssrId),I=h.createEmbeddedViewImpl(p||{},S,A);return this.insertImpl(I,_,hp(this._hostTNode,A)),I}createComponent(h,p,v,_,S){const A=h&&!function se(c){return"function"==typeof c}(h);let I;if(A)I=p;else{const Be=p||{};I=Be.index,v=Be.injector,_=Be.projectableNodes,S=Be.environmentInjector||Be.ngModuleRef}const j=A?h:new bp(rr(h)),Y=v||this.parentInjector;if(!S&&null==j.ngModule){const dn=(A?Y:this.parentInjector).get($s,null);dn&&(S=dn)}const nt=rr(j.componentType??{}),xt=Zl(this._lContainer,nt?.id??null),de=j.create(Y,_,xt?.firstChild??null,S);return this.insertImpl(de.hostView,I,hp(this._hostTNode,xt)),de}insert(h,p){return this.insertImpl(h,p,!0)}insertImpl(h,p,v){const _=h._lView;if(function fN(c){return Ra(c[Xi])}(_)){const I=this.indexOf(h);if(-1!==I)this.detach(I);else{const j=_[Xi],Y=new Tv(j,j[po],j[Xi]);Y.detach(Y.indexOf(h))}}const S=this._adjustIndex(p),A=this._lContainer;return Y0(A,_,S,v),h.attachToViewContainerRef(),Za(Y1(A),S,h),h}move(h,p){return this.insert(h,p)}indexOf(h){const p=Ox(this._lContainer);return null!==p?p.indexOf(h):-1}remove(h){const p=this._adjustIndex(h,-1),v=id(this._lContainer,p);v&&(Qa(Y1(this._lContainer),p),lv(v[cn],v))}detach(h){const p=this._adjustIndex(h,-1),v=id(this._lContainer,p);return v&&null!=Qa(Y1(this._lContainer),p)?new pv(v):null}_adjustIndex(h,p=0){return h??this.length+p}};function Ox(c){return c[8]}function Y1(c){return c[8]||(c[8]=[])}function aO(c,h){let p;const v=h[c.index];return Ra(v)?p=v:(p=OA(v,h,null,c),h[c.index]=p,E1(h,p)),lO(p,h,c,v),new Tv(p,c,h)}let lO=function uO(c,h,p,v){if(c[Tc])return;let _;_=8&p.type?Xr(v):function WL(c,h){const p=c[Gi],v=p.createComment(""),_=Ja(h,c);return sp(p,oi(p,_),v,function eL(c,h){return c.nextSibling(h)}(p,_),!1),v}(h,p),c[Tc]=_},kx=()=>!1;class Z1{constructor(h){this.queryList=h,this.matches=null}clone(){return new Z1(this.queryList)}setDirty(){this.queryList.setDirty()}}class Q1{constructor(h=[]){this.queries=h}createEmbeddedView(h){const p=h.queries;if(null!==p){const v=null!==h.contentQueries?h.contentQueries[0]:p.length,_=[];for(let S=0;S<v;S++){const A=p.getByIndex(S);_.push(this.queries[A.indexInDeclarationView].clone())}return new Q1(_)}return null}insertView(h){this.dirtyQueriesWithMatches(h)}detachView(h){this.dirtyQueriesWithMatches(h)}finishViewCreation(h){this.dirtyQueriesWithMatches(h)}dirtyQueriesWithMatches(h){for(let p=0;p<this.queries.length;p++)null!==J1(h,p).matches&&this.queries[p].setDirty()}}class hO{constructor(h,p,v=null){this.flags=p,this.read=v,this.predicate="string"==typeof h?function mO(c){return c.split(",").map(h=>h.trim())}(h):h}}class Ix{constructor(h=[]){this.queries=h}elementStart(h,p){for(let v=0;v<this.queries.length;v++)this.queries[v].elementStart(h,p)}elementEnd(h){for(let p=0;p<this.queries.length;p++)this.queries[p].elementEnd(h)}embeddedTView(h){let p=null;for(let v=0;v<this.length;v++){const _=null!==p?p.length:0,S=this.getByIndex(v).embeddedTView(h,_);S&&(S.indexInDeclarationView=v,null!==p?p.push(S):p=[S])}return null!==p?new Ix(p):null}template(h,p){for(let v=0;v<this.queries.length;v++)this.queries[v].template(h,p)}getByIndex(h){return this.queries[h]}get length(){return this.queries.length}track(h){this.queries.push(h)}}class Rx{constructor(h,p=-1){this.metadata=h,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=p}elementStart(h,p){this.isApplyingToNode(p)&&this.matchTNode(h,p)}elementEnd(h){this._declarationNodeIndex===h.index&&(this._appliesToNextNode=!1)}template(h,p){this.elementStart(h,p)}embeddedTView(h,p){return this.isApplyingToNode(h)?(this.crossesNgTemplate=!0,this.addMatch(-h.index,p),new Rx(this.metadata)):null}isApplyingToNode(h){if(this._appliesToNextNode&&1&~this.metadata.flags){const p=this._declarationNodeIndex;let v=h.parent;for(;null!==v&&8&v.type&&v.index!==p;)v=v.parent;return p===(null!==v?v.index:-1)}return this._appliesToNextNode}matchTNode(h,p){const v=this.metadata.predicate;if(Array.isArray(v))for(let _=0;_<v.length;_++){const S=v[_];this.matchTNodeWithReadOption(h,p,fO(p,S)),this.matchTNodeWithReadOption(h,p,Ny(p,h,S,!1,!1))}else v===od?4&p.type&&this.matchTNodeWithReadOption(h,p,-1):this.matchTNodeWithReadOption(h,p,Ny(p,h,v,!1,!1))}matchTNodeWithReadOption(h,p,v){if(null!==v){const _=this.metadata.read;if(null!==_)if(_===k0||_===X1||_===od&&4&p.type)this.addMatch(p.index,-2);else{const S=Ny(p,h,_,!1,!1);null!==S&&this.addMatch(p.index,S)}else this.addMatch(p.index,v)}}addMatch(h,p){null===this.matches?this.matches=[h,p]:this.matches.push(h,p)}}function fO(c,h){const p=c.localNames;if(null!==p)for(let v=0;v<p.length;v+=2)if(p[v]===h)return p[v+1];return null}function ZL(c,h,p,v){return-1===p?function YL(c,h){return 11&c.type?Jf(c,h):4&c.type?A1(c,h):null}(h,c):-2===p?function Px(c,h,p){return p===k0?Jf(h,c):p===od?A1(h,c):p===X1?aO(h,c):void 0}(c,h,v):qf(c,c[cn],p,h)}function Rc(c,h,p,v){const _=h[Fi].queries[v];if(null===_.matches){const S=c.data,A=p.matches,I=[];for(let j=0;null!==A&&j<A.length;j+=2){const Y=A[j];I.push(Y<0?null:ZL(h,S[Y],A[j+1],p.metadata.read))}_.matches=I}return _.matches}function q1(c,h,p,v){const _=c.queries.getByIndex(p),S=_.matches;if(null!==S){const A=Rc(c,h,_,p);for(let I=0;I<S.length;I+=2){const j=S[I];if(j>0)v.push(A[I/2]);else{const Y=S[I+1],nt=h[-j];for(let xt=rs;xt<nt.length;xt++){const ce=nt[xt];ce[Zu]===ce[Xi]&&q1(ce[cn],ce,Y,v)}if(null!==nt[$h]){const xt=nt[$h];for(let ce=0;ce<xt.length;ce++){const de=xt[ce];q1(de[cn],de,Y,v)}}}}}return v}function Av(c,h){return c[Fi].queries[h].queryList}function pO(c,h,p){const v=new hu(!(4&~p));return function K0(c,h,p,v){const _=Zw(h);_.push(p),c.firstCreatePass&&w1(c).push(v,_.length-1)}(c,h,v,v.destroy),(h[Fi]??=new Q1).queries.push(new Z1(v))-1}function uf(c,h,p){const v=Er();return v.firstCreatePass&&(gO(v,new hO(c,h,p),-1),!(2&~h)&&(v.staticViewQueries=!0)),pO(v,hn(),h)}function Nx(c,h,p,v){const _=Er();if(_.firstCreatePass){const S=xi();gO(_,new hO(h,p,v),S.index),function Lx(c,h){const p=c.contentQueries||(c.contentQueries=[]);h!==(p.length?p[p.length-1]:-1)&&p.push(c.queries.length-1,h)}(_,c),!(2&~p)&&(_.staticContentQueries=!0)}return pO(_,hn(),p)}function gO(c,h,p){null===c.queries&&(c.queries=new Ix),c.queries.track(new Rx(h,p))}function J1(c,h){return c.queries.getByIndex(h)}function vO(c,h){const p=c[cn],v=J1(p,h);return v.crossesNgTemplate?q1(p,c,h,[]):Rc(p,c,v,h)}const Fx=new Set;function na(c){Fx.has(c)||(Fx.add(c),performance?.mark?.("mark_feature_usage",{detail:{feature:c}}))}function Bx(c){return"function"==typeof c&&void 0!==c[ct]}function jx(c,h){na("NgSignals");const p=function ft(c){const h=Object.create(Ee);h.value=c;const p=()=>(At(h),h.value);return p[ct]=h,p}(c),v=p[ct];return h?.equal&&(v.equal=h.equal),p.set=_=>Dt(v,_),p.update=_=>function dt(c,h){Ht()||ee(),Dt(c,h(c.value))}(v,_),p.asReadonly=Vx.bind(p),p}function Vx(){const c=this[ct];if(void 0===c.readonlyFn){const h=()=>this();h[ct]=c,c.readonlyFn=h}return c.readonlyFn}function zx(c){return Bx(c)&&"function"==typeof c.set}function tb(c,h){let p;const v=oe(()=>{p._dirtyCounter();const _=function qL(c,h){const p=c._lView,v=c._queryIndex;if(void 0===p||void 0===v||4&p[kn])return h?void 0:hr;const _=Av(p,v),S=vO(p,v);return _.reset(S,yT),h?_.first:_._changesDetected||void 0===c._flatValue?c._flatValue=_.toArray():c._flatValue}(p,c);if(h&&void 0===_)throw new Tn(-951,!1);return _});return p=v[ct],p._dirtyCounter=jx(0),p._flatValue=void 0,v}function Ux(){return tb(!0,!1)}function Hx(){return tb(!0,!0)}function bO(c,h){const p=c[ct];p._lView=hn(),p._queryIndex=h,p._queryList=Av(p._lView,h),p._queryList.onDirty(()=>p._dirtyCounter.update(v=>v+1))}function Ov(c,h){return Ux()}const t6=(Ov.required=function JL(c,h){return Hx()},Ov);function _O(c,h){return Ux()}const kv=(_O.required=function e6(c,h){return Hx()},_O);function zn(c){let h=function zt(c){return Object.getPrototypeOf(c.prototype).constructor}(c.type),p=!0;const v=[c];for(;h;){let _;if(qa(c))_=h.\u0275cmp||h.\u0275dir;else{if(h.\u0275cmp)throw new Tn(903,!1);_=h.\u0275dir}if(_){if(p){v.push(_);const A=c;A.inputs=nb(c.inputs),A.inputTransforms=nb(c.inputTransforms),A.declaredInputs=nb(c.declaredInputs),A.outputs=nb(c.outputs);const I=_.hostBindings;I&&$x(c,I);const j=_.viewQuery,Y=_.contentQueries;if(j&&hf(c,j),Y&&cm(c,Y),Dr(c,_),pn(c.outputs,_.outputs),qa(_)&&_.data.animation){const nt=c.data;nt.animation=(nt.animation||[]).concat(_.data.animation)}}const S=_.features;if(S)for(let A=0;A<S.length;A++){const I=S[A];I&&I.ngInherit&&I(c),I===zn&&(p=!1)}}h=Object.getPrototypeOf(h)}!function MO(c){let h=0,p=null;for(let v=c.length-1;v>=0;v--){const _=c[v];_.hostVars=h+=_.hostVars,_.hostAttrs=wc(_.hostAttrs,p=wc(p,_.hostAttrs))}}(v)}function Dr(c,h){for(const p in h.inputs){if(!h.inputs.hasOwnProperty(p)||c.inputs.hasOwnProperty(p))continue;const v=h.inputs[p];if(void 0!==v&&(c.inputs[p]=v,c.declaredInputs[p]=h.declaredInputs[p],null!==h.inputTransforms)){const _=Array.isArray(v)?v[0]:v;if(!h.inputTransforms.hasOwnProperty(_))continue;c.inputTransforms??={},c.inputTransforms[_]=h.inputTransforms[_]}}}function nb(c){return c===va?{}:c===hr?[]:c}function hf(c,h){const p=c.viewQuery;c.viewQuery=p?(v,_)=>{h(v,_),p(v,_)}:h}function cm(c,h){const p=c.contentQueries;c.contentQueries=p?(v,_,S)=>{h(v,_,S),p(v,_,S)}:h}function $x(c,h){const p=c.hostBindings;c.hostBindings=p?(v,_)=>{h(v,_),p(v,_)}:h}function CO(c){const h=p=>{const v=(Array.isArray(c)?c:c()).map(_=>"function"==typeof _?{directive:Tt(_),inputs:va,outputs:va}:{directive:Tt(_.directive),inputs:Wx(_.inputs),outputs:Wx(_.outputs)});null===p.hostDirectives?(p.findHostDirectiveDefs=SO,p.hostDirectives=v):p.hostDirectives.unshift(...v)};return h.ngInherit=!0,h}function SO(c,h,p){if(null!==c.hostDirectives)for(const v of c.hostDirectives){const _=Bo(v.directive);DO(_.declaredInputs,v.inputs),SO(_,h,p),p.set(_,v),h.push(_)}}function Wx(c){if(void 0===c||0===c.length)return va;const h={};for(let p=0;p<c.length;p+=2)h[c[p]]=c[p+1];return h}function DO(c,h){for(const p in h)h.hasOwnProperty(p)&&(c[h[p]]=c[p])}function TO(c){const h=c.inputConfig,p={};for(const v in h)if(h.hasOwnProperty(v)){const _=h[v];Array.isArray(_)&&_[3]&&(p[v]=_[3])}c.inputTransforms=p}class wp{}class ib{}function hm(c,h){return new Kx(c,h??null,[])}class Kx extends wp{constructor(h,p,v,_=!0){super(),this.ngModuleType=h,this._parent=p,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Dx(this);const S=Gs(h);this._bootstrapComponents=Kl(S.bootstrap),this._r3Injector=T0(h,p,[{provide:wp,useValue:this},{provide:am,useValue:this.componentFactoryResolver},...v],en(h),new Set(["environment"])),_&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const h=this._r3Injector;!h.destroyed&&h.destroy(),this.destroyCbs.forEach(p=>p()),this.destroyCbs=null}onDestroy(h){this.destroyCbs.push(h)}}class rb extends ib{constructor(h){super(),this.moduleType=h}create(h){return new Kx(this.moduleType,h,[])}}class Ca extends wp{constructor(h){super(),this.componentFactoryResolver=new Dx(this),this.instance=null;const p=new yl([...h.providers,{provide:wp,useValue:this},{provide:am,useValue:this.componentFactoryResolver}],h.parent||w0(),h.debugName,new Set(["environment"]));this.injector=p,h.runEnvironmentInitializers&&p.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(h){this.injector.onDestroy(h)}}function ob(c,h,p=null){return new Ca({providers:c,parent:h,debugName:p,runEnvironmentInitializers:!0}).injector}function ks(c){return!!ff(c)&&(Array.isArray(c)||!(c instanceof Map)&&Symbol.iterator in c)}function ff(c){return null!==c&&("function"==typeof c||"object"==typeof c)}function Jl(c,h,p){return c[h]=p}function jr(c,h,p){return!Object.is(c[h],p)&&(c[h]=p,!0)}function Sp(c,h,p,v){const _=jr(c,h,p);return jr(c,h+1,v)||_}function Rv(c,h,p,v,_,S,A,I,j,Y){const nt=p+Ti,xt=h.firstCreatePass?function f6(c,h,p,v,_,S,A,I,j){const Y=h.consts,nt=sf(h,c,4,A||null,I||null);Kw(h,p,nt,Ac(Y,j)),Oy(h,nt);const xt=nt.tView=$w(2,nt,v,_,S,h.directiveRegistry,h.pipeRegistry,null,h.schemas,Y,null);return null!==h.queries&&(h.queries.template(h,nt),xt.queries=h.queries.embeddedTView(nt)),nt}(nt,h,c,v,_,S,A,I,j):h.data[nt];au(xt,!1);const ce=Zx(h,c,xt,p);Fg()&&d1(h,c,ce,xt),Na(ce,c);const de=OA(ce,c,ce,xt);return c[nt]=de,E1(c,de),function cO(c,h,p){return kx(c,h,p)}(de,xt,c),Ey(xt)&&m1(h,c,xt),null!=j&&Gw(c,xt,Y),xt}function Yx(c,h,p,v,_,S,A,I){const j=hn(),Y=Er();return Rv(j,Y,c,h,p,v,_,Ac(Y.consts,S),A,I),Yx}let Zx=function Pv(c,h,p,v){return Ju(!0),h[Gi].createComment("")};function tc(c,h){if(null!==jt())throw new Tn(-602,!1)}var mf=function(c){return c[c.EarlyRead=0]="EarlyRead",c[c.Write=1]="Write",c[c.MixedReadWrite=2]="MixedReadWrite",c[c.Read=3]="Read",c}(mf||{});let qx=(()=>{class c{constructor(){this.impl=null}execute(){this.impl?.execute()}static#t=this.\u0275prov=te({token:c,providedIn:"root",factory:()=>new c})}return c})();class pm{constructor(){this.ngZone=Si(os),this.scheduler=Si(yp),this.errorHandler=Si(ed,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static#t=this.PHASES=[mf.EarlyRead,mf.Write,mf.MixedReadWrite,mf.Read];execute(){this.executing=!0;for(const h of pm.PHASES)for(const p of this.sequences)if(!p.erroredOrDestroyed&&p.hooks[h])try{p.pipelinedValue=this.ngZone.runOutsideAngular(()=>p.hooks[h](p.pipelinedValue))}catch(v){p.erroredOrDestroyed=!0,this.errorHandler?.handleError(v)}this.executing=!1;for(const h of this.sequences)h.afterRun(),h.once&&(this.sequences.delete(h),h.destroy());for(const h of this.deferredRegistrations)this.sequences.add(h);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(h){this.executing?this.deferredRegistrations.add(h):(this.sequences.add(h),this.scheduler.notify(6))}unregister(h){this.executing&&this.sequences.has(h)?(h.erroredOrDestroyed=!0,h.pipelinedValue=void 0,h.once=!0):(this.sequences.delete(h),this.deferredRegistrations.delete(h))}static#e=this.\u0275prov=te({token:pm,providedIn:"root",factory:()=>new pm})}class IO{constructor(h,p,v,_){this.impl=h,this.hooks=p,this.once=v,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=_?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}}function mm(c,h){!h?.injector&&ou();const p=h?.injector??Si(Es);return Xl(p)?(na("NgAfterRender"),ja(c,p,h,!1)):Yn}function Fv(c,h){!h?.injector&&ou();const p=h?.injector??Si(Es);return Xl(p)?(na("NgAfterNextRender"),ja(c,p,h,!0)):Yn}function ja(c,h,p,v){const _=h.get(qx);_.impl??=h.get(pm);const S=p?.phase??mf.MixedReadWrite,A=!0!==p?.manualCleanup?h.get(A0):null,I=new IO(_.impl,function Xn(c,h){if(c instanceof Function){const p=[void 0,void 0,void 0,void 0];return p[h]=c,p}return[c.earlyRead,c.write,c.mixedReadWrite,c.read]}(c,S),v,A);return _.impl.register(I),I}const Yn={destroy(){}};function Uv(c,h,p,v){const _=hn();return jr(_,lu(),h)&&(Er(),Yl(jo(),_,c,h,p,v)),Uv}function vf(c,h,p,v){return jr(c,lu(),p)?h+Bt(p)+v:nr}function $v(c,h){return c<<17|h<<2}function bf(c){return c>>17&32767}function ub(c){return 2|c}function Ip(c){return(131068&c)>>2}function pM(c,h){return-131069&c|h<<2}function mM(c){return 1|c}function QO(c,h,p,v){const _=c[p+1],S=null===h;let A=v?bf(_):Ip(_),I=!1;for(;0!==A&&(!1===I||S);){const Y=c[A+1];F6(c[A],h)&&(I=!0,c[A+1]=v?mM(Y):ub(Y)),A=v?bf(Y):Ip(Y)}I&&(c[p+1]=v?ub(_):mM(_))}function F6(c,h){return null===c||null==h||(Array.isArray(c)?c[1]:c)===h||!(!Array.isArray(c)||"string"!=typeof h)&&zl(c,h)>=0}const _r={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Rp(c){return c.substring(_r.key,_r.keyEnd)}function Mm(c,h){const p=_r.textEnd;return p===h?-1:(h=_r.keyEnd=function B6(c,h,p){for(;h<p&&c.charCodeAt(h)>32;)h++;return h}(c,_r.key=h,p),Cm(c,h,p))}function Cm(c,h,p){for(;h<p&&c.charCodeAt(h)<=32;)h++;return h}function bM(c,h,p){const v=hn();return jr(v,lu(),h)&&nl(Er(),jo(),v,c,h,v[Gi],p,!1),bM}function _M(c,h,p,v,_){const A=_?"class":"style";Qw(c,p,h.inputs[A],A,v)}function Wv(c,h,p){return Dl(c,h,p,!1),Wv}function Kv(c,h){return Dl(c,h,null,!0),Kv}function nk(c){vu(W6,gu,c,!0)}function gu(c,h){for(let p=function Pp(c){return function JO(c){_r.key=0,_r.keyEnd=0,_r.value=0,_r.valueEnd=0,_r.textEnd=c.length}(c),Mm(c,Cm(c,0,_r.textEnd))}(h);p>=0;p=Mm(h,p))Wo(c,Rp(h),!0)}function Dl(c,h,p,v){const _=hn(),S=Er(),A=Kd(2);S.firstUpdatePass&&ik(S,c,A,v),h!==nr&&jr(_,A,h)&&ok(S,S.data[wa()],_,_[Gi],c,_[A+1]=function X6(c,h){return null==c||""===c||("string"==typeof h?c+=h:"object"==typeof c&&(c=en(Zd(c)))),c}(h,p),v,A)}function vu(c,h,p,v){const _=Er(),S=Kd(2);_.firstUpdatePass&&ik(_,null,S,v);const A=hn();if(p!==nr&&jr(A,S,p)){const I=_.data[wa()];if(ak(I,v)&&!EM(_,S)){let j=v?I.classesWithoutHost:I.stylesWithoutHost;null!==j&&(p=yn(j,p||"")),_M(_,I,A,p,v)}else!function K6(c,h,p,v,_,S,A,I){_===nr&&(_=hr);let j=0,Y=0,nt=0<_.length?_[0]:null,xt=0<S.length?S[0]:null;for(;null!==nt||null!==xt;){const ce=j<_.length?_[j+1]:void 0,de=Y<S.length?S[Y+1]:void 0;let dn,Be=null;nt===xt?(j+=2,Y+=2,ce!==de&&(Be=xt,dn=de)):null===xt||null!==nt&&nt<xt?(j+=2,Be=nt):(Y+=2,Be=xt,dn=de),null!==Be&&ok(c,h,p,v,Be,dn,A,I),nt=j<_.length?_[j]:null,xt=Y<S.length?S[Y]:null}}(_,I,A,A[Gi],A[S+1],A[S+1]=function xM(c,h,p){if(null==p||""===p)return hr;const v=[],_=Zd(p);if(Array.isArray(_))for(let S=0;S<_.length;S++)c(v,_[S],!0);else if("object"==typeof _)for(const S in _)_.hasOwnProperty(S)&&c(v,S,_[S]);else"string"==typeof _&&h(v,_);return v}(c,h,p),v,S)}}function EM(c,h){return h>=c.expandoStartIndex}function ik(c,h,p,v){const _=c.data;if(null===_[p+1]){const S=_[wa()],A=EM(c,p);ak(S,v)&&null===h&&!A&&(h=!1),h=function U6(c,h,p,v){const _=RE(c);let S=v?h.residualClasses:h.residualStyles;if(null===_)0===(v?h.classBindings:h.styleBindings)&&(p=Sm(p=wM(null,c,h,p,v),h.attrs,v),S=null);else{const A=h.directiveStylingLast;if(-1===A||c[A]!==_)if(p=wM(_,c,h,p,v),null===S){let j=function H6(c,h,p){const v=p?h.classBindings:h.styleBindings;if(0!==Ip(v))return c[bf(v)]}(c,h,v);void 0!==j&&Array.isArray(j)&&(j=wM(null,c,h,j[1],v),j=Sm(j,h.attrs,v),function G6(c,h,p,v){c[bf(p?h.classBindings:h.styleBindings)]=v}(c,h,v,j))}else S=function $6(c,h,p){let v;const _=h.directiveEnd;for(let S=1+h.directiveStylingLast;S<_;S++)v=Sm(v,c[S].hostAttrs,p);return Sm(v,h.attrs,p)}(c,h,v)}return void 0!==S&&(v?h.residualClasses=S:h.residualStyles=S),p}(_,S,h,v),function gM(c,h,p,v,_,S){let A=S?h.classBindings:h.styleBindings,I=bf(A),j=Ip(A);c[v]=p;let nt,Y=!1;if(Array.isArray(p)?(nt=p[1],(null===nt||zl(p,nt)>0)&&(Y=!0)):nt=p,_)if(0!==j){const ce=bf(c[I+1]);c[v+1]=$v(ce,I),0!==ce&&(c[ce+1]=pM(c[ce+1],v)),c[I+1]=function R6(c,h){return 131071&c|h<<17}(c[I+1],v)}else c[v+1]=$v(I,0),0!==I&&(c[I+1]=pM(c[I+1],v)),I=v;else c[v+1]=$v(j,0),0===I?I=v:c[j+1]=pM(c[j+1],v),j=v;Y&&(c[v+1]=ub(c[v+1])),QO(c,nt,v,!0),QO(c,nt,v,!1),function L6(c,h,p,v,_){const S=_?c.residualClasses:c.residualStyles;null!=S&&"string"==typeof h&&zl(S,h)>=0&&(p[v+1]=mM(p[v+1]))}(h,nt,c,v,S),A=$v(I,j),S?h.classBindings=A:h.styleBindings=A}(_,S,h,p,A,v)}}function wM(c,h,p,v,_){let S=null;const A=p.directiveEnd;let I=p.directiveStylingLast;for(-1===I?I=p.directiveStart:I++;I<A&&(S=h[I],v=Sm(v,S.hostAttrs,_),S!==c);)I++;return null!==c&&(p.directiveStylingLast=I),v}function Sm(c,h,p){const v=p?1:2;let _=-1;if(null!==h)for(let S=0;S<h.length;S++){const A=h[S];"number"==typeof A?_=A:_===v&&(Array.isArray(c)||(c=void 0===c?[]:["",c]),Wo(c,A,!!p||h[++S]))}return void 0===c?null:c}function W6(c,h,p){const v=String(h);""!==v&&!v.includes(" ")&&Wo(c,v,p)}function ok(c,h,p,v,_,S,A,I){if(!(3&h.type))return;const j=c.data,Y=j[I+1],nt=function P6(c){return!(1&~c)}(Y)?sk(j,h,p,_,Ip(Y),A):void 0;db(nt)||(db(S)||function I6(c){return!(2&~c)}(Y)&&(S=sk(j,null,p,_,I,A)),function CA(c,h,p,v,_){if(h)_?c.addClass(p,v):c.removeClass(p,v);else{let S=-1===v.indexOf("-")?void 0:o1.DashCase;null==_?c.removeStyle(p,v,S):("string"==typeof _&&_.endsWith("!important")&&(_=_.slice(0,-10),S|=o1.Important),c.setStyle(p,v,_,S))}}(v,A,In(wa(),p),_,S))}function sk(c,h,p,v,_,S){const A=null===h;let I;for(;_>0;){const j=c[_],Y=Array.isArray(j),nt=Y?j[1]:j,xt=null===nt;let ce=p[_+1];ce===nr&&(ce=xt?hr:void 0);let de=xt?Gu(ce,v):nt===v?ce:void 0;if(Y&&!db(de)&&(de=Gu(j,v)),db(de)&&(I=de,A))return I;const Be=c[_+1];_=A?bf(Be):Ip(Be)}if(null!==h){let j=S?h.residualClasses:h.residualStyles;null!=j&&(I=Gu(j,v))}return I}function db(c){return void 0!==c}function ak(c,h){return!!(c.flags&(h?8:16))}function lk(c,h,p){vu(Wo,gu,vf(hn(),c,h,p),!0)}class uk{destroy(h){}updateValue(h,p){}swap(h,p){const v=Math.min(h,p),_=Math.max(h,p),S=this.detach(_);if(_-v>1){const A=this.detach(v);this.attach(v,S),this.attach(_,A)}else this.attach(v,S)}move(h,p){this.attach(p,this.detach(h))}}function fb(c,h,p,v,_){return c===p&&Object.is(h,v)?1:Object.is(_(c,h),_(p,v))?-1:0}function CM(c,h,p,v){return!(void 0===h||!h.has(v)||(c.attach(p,h.get(v)),h.delete(v),0))}function hk(c,h,p,v,_){if(CM(c,h,v,p(v,_)))c.updateValue(v,_);else{const S=c.create(v,_);c.attach(v,S)}}function fk(c,h,p,v){const _=new Set;for(let S=h;S<=p;S++)_.add(v(S,c.at(S)));return _}class pk{constructor(){this.kvMap=new Map,this._vMap=void 0}has(h){return this.kvMap.has(h)}delete(h){if(!this.has(h))return!1;const p=this.kvMap.get(h);return void 0!==this._vMap&&this._vMap.has(p)?(this.kvMap.set(h,this._vMap.get(p)),this._vMap.delete(p)):this.kvMap.delete(h),!0}get(h){return this.kvMap.get(h)}set(h,p){if(this.kvMap.has(h)){let v=this.kvMap.get(h);void 0===this._vMap&&(this._vMap=new Map);const _=this._vMap;for(;_.has(v);)v=_.get(v);_.set(v,p)}else this.kvMap.set(h,p)}forEach(h){for(let[p,v]of this.kvMap)if(h(v,p),void 0!==this._vMap){const _=this._vMap;for(;_.has(v);)v=_.get(v),h(v,p)}}}function pb(c,h){na("NgControlFlow");const p=hn(),v=lu(),_=p[v]!==nr?p[v]:-1,S=-1!==_?gb(p,Ti+_):void 0;if(jr(p,v,c)){const I=it(null);try{if(void 0!==S&&M1(S,0),-1!==c){const j=Ti+c,Y=gb(p,j),nt=vb(p[cn],j),xt=Zl(Y,nt.tView.ssrId);Y0(Y,X0(p,nt,h,{dehydratedView:xt}),0,hp(nt,xt))}}finally{it(I)}}else if(void 0!==S){const I=RA(S,0);void 0!==I&&(I[ar]=h)}}class mb{constructor(h,p,v){this.lContainer=h,this.$implicit=p,this.$index=v}get $count(){return this.lContainer.length-rs}}function mk(c){return c}class nF{constructor(h,p,v){this.hasEmptyBlock=h,this.trackByFn=p,this.liveCollection=v}}function yu(c,h,p,v,_,S,A,I,j,Y,nt,xt,ce){na("NgControlFlow");const de=hn(),Be=Er(),dn=void 0!==j,Gn=hn(),$n=I?A.bind(Gn[Nr][ar]):A,vn=new nF(dn,$n);Gn[Ti+c]=vn,Rv(de,Be,c+1,h,p,v,_,Ac(Be.consts,S)),dn&&Rv(de,Be,c+2,j,Y,nt,xt,Ac(Be.consts,ce))}class Xv extends uk{constructor(h,p,v){super(),this.lContainer=h,this.hostLView=p,this.templateTNode=v,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-rs}at(h){return this.getLView(h)[ar].$implicit}attach(h,p){const v=p[oo];this.needsIndexUpdate||=h!==this.length,Y0(this.lContainer,p,h,hp(this.templateTNode,v))}detach(h){return this.needsIndexUpdate||=h!==this.length-1,function iF(c,h){return id(c,h)}(this.lContainer,h)}create(h,p){const v=Zl(this.lContainer,this.templateTNode.tView.ssrId),_=X0(this.hostLView,this.templateTNode,new mb(this.lContainer,p,h),{dehydratedView:v});return this.operationsCounter?.recordCreate(),_}destroy(h){lv(h[cn],h),this.operationsCounter?.recordDestroy()}updateValue(h,p){this.getLView(h)[ar].$implicit=p}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let h=0;h<this.length;h++)this.getLView(h)[ar].$index=h}getLView(h){return function rF(c,h){return RA(c,h)}(this.lContainer,h)}}function SM(c){const h=it(null),p=wa();try{const v=hn(),_=v[cn],S=v[p],A=p+1,I=gb(v,A);if(void 0===S.liveCollection){const Y=vb(_,A);S.liveCollection=new Xv(I,v,Y)}else S.liveCollection.reset();const j=S.liveCollection;if(function dk(c,h,p){let v,_,S=0,A=c.length-1;if(Array.isArray(h)){let j=h.length-1;for(;S<=A&&S<=j;){const Y=c.at(S),nt=h[S],xt=fb(S,Y,S,nt,p);if(0!==xt){xt<0&&c.updateValue(S,nt),S++;continue}const ce=c.at(A),de=h[j],Be=fb(A,ce,j,de,p);if(0!==Be){Be<0&&c.updateValue(A,de),A--,j--;continue}const dn=p(S,Y),Gn=p(A,ce),$n=p(S,nt);if(Object.is($n,Gn)){const vn=p(j,de);Object.is(vn,dn)?(c.swap(S,A),c.updateValue(A,de),j--,A--):c.move(A,S),c.updateValue(S,nt),S++}else if(v??=new pk,_??=fk(c,S,A,p),CM(c,v,S,$n))c.updateValue(S,nt),S++,A++;else if(_.has($n))v.set(dn,c.detach(S)),A--;else{const vn=c.create(S,h[S]);c.attach(S,vn),S++,A++}}for(;S<=j;)hk(c,v,p,S,h[S]),S++}else if(null!=h){const j=h[Symbol.iterator]();let Y=j.next();for(;!Y.done&&S<=A;){const nt=c.at(S),xt=Y.value,ce=fb(S,nt,S,xt,p);if(0!==ce)ce<0&&c.updateValue(S,xt),S++,Y=j.next();else{v??=new pk,_??=fk(c,S,A,p);const de=p(S,xt);if(CM(c,v,S,de))c.updateValue(S,xt),S++,A++,Y=j.next();else if(_.has(de)){const Be=p(S,nt);v.set(Be,c.detach(S)),A--}else c.attach(S,c.create(S,xt)),S++,A++,Y=j.next()}}for(;!Y.done;)hk(c,v,p,c.length,Y.value),Y=j.next()}for(;S<=A;)c.destroy(c.detach(A--));v?.forEach(j=>{c.destroy(j)})}(j,c,S.trackByFn),j.updateIndexes(),S.hasEmptyBlock){const Y=lu(),nt=0===j.length;if(jr(v,Y,nt)){const xt=p+2,ce=gb(v,xt);if(nt){const de=vb(_,xt),Be=Zl(ce,de.tView.ssrId);Y0(ce,X0(v,de,void 0,{dehydratedView:Be}),0,hp(de,Be))}else M1(ce,0)}}}finally{it(h)}}function gb(c,h){return c[h]}function vb(c,h){return C0(c,h)}function yb(c,h,p,v){const _=hn(),S=Er(),A=Ti+c,I=_[Gi],j=S.firstCreatePass?function oF(c,h,p,v,_,S){const A=h.consts,j=sf(h,c,2,v,Ac(A,_));return Kw(h,p,j,Ac(A,S)),null!==j.attrs&&Ql(j,j.attrs,!1),null!==j.mergedAttrs&&Ql(j,j.mergedAttrs,!0),null!==h.queries&&h.queries.elementStart(h,j),j}(A,S,_,h,p,v):S.data[A],Y=DM(S,_,j,I,h,c);_[A]=Y;const nt=Ey(j);return au(j,!0),SA(I,Y,j),!function ia(c){return!(32&~c.flags)}(j)&&Fg()&&d1(S,_,Y,j),0===function pN(){return Kn.lFrame.elementDepthCount}()&&Na(Y,_),function mN(){Kn.lFrame.elementDepthCount++}(),nt&&(m1(S,_,j),Hw(S,j,_)),null!==v&&Gw(_,j),yb}function Yv(){let c=xi();OE()?kE():(c=c.parent,au(c,!1));const h=c;(function Yi(c){return Kn.skipHydrationRootTNode===c})(h)&&function bN(){Kn.skipHydrationRootTNode=null}(),function gN(){Kn.lFrame.elementDepthCount--}();const p=Er();return p.firstCreatePass&&(Oy(p,c),ME(c)&&p.queries.elementEnd(c)),null!=h.classesWithoutHost&&function AN(c){return!!(8&c.flags)}(h)&&_M(p,h,hn(),h.classesWithoutHost,!0),null!=h.stylesWithoutHost&&function zE(c){return!!(16&c.flags)}(h)&&_M(p,h,hn(),h.stylesWithoutHost,!1),Yv}function Zv(c,h,p,v){return yb(c,h,p,v),Yv(),Zv}let DM=(c,h,p,v,_,S)=>(Ju(!0),c1(v,_,function UD(){return Kn.lFrame.currentNamespace}()));function Dm(c,h,p){const v=hn(),_=Er(),S=c+Ti,A=_.firstCreatePass?function ol(c,h,p,v,_){const S=h.consts,A=Ac(S,v),I=sf(h,c,8,"ng-container",A);return null!==A&&Ql(I,A,!0),Kw(h,p,I,Ac(S,_)),null!==h.queries&&h.queries.elementStart(h,I),I}(S,_,v,h,p):_.data[S];au(A,!0);const I=gk(_,v,A,c);return v[S]=I,Fg()&&d1(_,v,I,A),Na(I,v),Ey(A)&&(m1(_,v,A),Hw(_,A,v)),null!=p&&Gw(v,A),Dm}function bb(){let c=xi();const h=Er();return OE()?kE():(c=c.parent,au(c,!1)),h.firstCreatePass&&(Oy(h,c),ME(c)&&h.queries.elementEnd(c)),bb}function TM(c,h,p){return Dm(c,h,p),bb(),TM}let gk=(c,h,p,v)=>(Ju(!0),Rw(h[Gi],""));function vk(){return hn()}function OM(c,h,p){const v=hn();return jr(v,lu(),h)&&nl(Er(),jo(),v,c,h,v[Gi],p,!0),OM}function kM(c,h,p){const v=hn();if(jr(v,lu(),h)){const S=Er(),A=jo();nl(S,A,v,c,h,IA(RE(S.data),A,v),p,!0)}return kM}const Np=void 0;var bk=["en",[["a","p"],["AM","PM"],Np],[["AM","PM"],Np,Np],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Np,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Np,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Np,"{1} 'at' {0}",Np],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function yk(c){const p=Math.floor(Math.abs(c)),v=c.toString().replace(/^[^.]*\.?/,"").length;return 1===p&&0===v?1:5}];let Tm={};function IM(c){const h=function _k(c){return c.toLowerCase().replace(/_/g,"-")}(c);let p=PM(h);if(p)return p;const v=h.split("-")[0];if(p=PM(v),p)return p;if("en"===v)return bk;throw new Tn(701,!1)}function RM(c){return IM(c)[Lp.PluralCase]}function PM(c){return c in Tm||(Tm[c]=on.ng&&on.ng.common&&on.ng.common.locales&&on.ng.common.locales[c]),Tm[c]}var Lp=function(c){return c[c.LocaleId=0]="LocaleId",c[c.DayPeriodsFormat=1]="DayPeriodsFormat",c[c.DayPeriodsStandalone=2]="DayPeriodsStandalone",c[c.DaysFormat=3]="DaysFormat",c[c.DaysStandalone=4]="DaysStandalone",c[c.MonthsFormat=5]="MonthsFormat",c[c.MonthsStandalone=6]="MonthsStandalone",c[c.Eras=7]="Eras",c[c.FirstDayOfWeek=8]="FirstDayOfWeek",c[c.WeekendRange=9]="WeekendRange",c[c.DateFormat=10]="DateFormat",c[c.TimeFormat=11]="TimeFormat",c[c.DateTimeFormat=12]="DateTimeFormat",c[c.NumberSymbols=13]="NumberSymbols",c[c.NumberFormats=14]="NumberFormats",c[c.CurrencyCode=15]="CurrencyCode",c[c.CurrencySymbol=16]="CurrencySymbol",c[c.CurrencyName=17]="CurrencyName",c[c.Currencies=18]="Currencies",c[c.Directionality=19]="Directionality",c[c.PluralCase=20]="PluralCase",c[c.ExtraData=21]="ExtraData",c}(Lp||{});const Qv="en-US";let qv=Qv,Om=(c,h,p)=>{};function e2(c,h,p,v){const _=hn(),S=Er(),A=xi();return r2(S,_,_[Gi],A,c,h,v),e2}function n2(c,h){const p=xi(),v=hn(),_=Er();return r2(_,v,IA(RE(_.data),p,v),p,c,h),n2}function r2(c,h,p,v,_,S,A){const I=Ey(v),Y=c.firstCreatePass&&w1(c),nt=h[ar],xt=Zw(h);let ce=!0;if(3&v.type||A){const dn=Ja(v,h),Gn=A?A(dn):dn,$n=xt.length,vn=A?Cr=>A(Xr(Cr[v.index])):v.index;let Zi=null;if(!A&&I&&(Zi=function CF(c,h,p,v){const _=c.cleanup;if(null!=_)for(let S=0;S<_.length-1;S+=2){const A=_[S];if(A===p&&_[S+1]===v){const I=h[fr],j=_[S+2];return I.length>j?I[j]:null}"string"==typeof A&&(S+=2)}return null}(c,h,_,v.index)),null!==Zi)(Zi.__ngLastListenerFn__||Zi).__ngNextListenerFn__=S,Zi.__ngLastListenerFn__=S,ce=!1;else{S=Mb(v,h,nt,S),Om(dn,_,S);const Cr=p.listen(Gn,_,S);xt.push(S,Cr),Y&&Y.push(_,vn,$n,$n+1)}}else S=Mb(v,h,nt,S);const de=v.outputs;let Be;if(ce&&null!==de&&(Be=de[_])){const dn=Be.length;if(dn)for(let Gn=0;Gn<dn;Gn+=2){const Ao=h[Be[Gn]][Be[Gn+1]].subscribe(S),Cs=xt.length;xt.push(S,Ao),Y&&Y.push(_,v.index,Cs,-(Cs+1))}}}function Uk(c,h,p,v){const _=it(null);try{return qu(6,h,p),!1!==p(v)}catch(S){return x1(c,S),!1}finally{qu(7,h,p),it(_)}}function Mb(c,h,p,v){return function _(S){if(S===Function)return v;fv(c.componentOffset>-1?Hl(c.index,h):h,5);let I=Uk(h,p,v,S),j=_.__ngNextListenerFn__;for(;j;)I=Uk(h,p,j,S)&&I,j=j.__ngNextListenerFn__;return I}}function km(c=1){return function xN(c){return(Kn.lFrame.contextLView=function Ko(c,h){for(;c>0;)h=h[Yu],c--;return h}(c,Kn.lFrame.contextLView))[ar]}(c)}function SF(c,h){let p=null;const v=function me(c){const h=c.attrs;if(null!=h){const p=h.indexOf(5);if(!(1&p))return h[p+1]}return null}(c);for(let _=0;_<h.length;_++){const S=h[_];if("*"!==S){if(null===v?ht(c,S,!0):_o(v,S))return _}else p=_}return p}function Cb(c){const h=hn()[Nr][po];if(!h.projection){const v=h.projection=function iu(c,h){const p=[];for(let v=0;v<c;v++)p.push(h);return p}(c?c.length:1,null),_=v.slice();let S=h.child;for(;null!==S;){if(128!==S.type){const A=c?SF(S,c):0;null!==A&&(_[A]?_[A].projectionNext=S:v[A]=S,_[A]=S)}S=S.next}}}function Sb(c,h=0,p,v,_,S){const A=hn(),I=Er(),j=v?c+1:null;null!==j&&Rv(A,I,j,v,_,S,null,p);const Y=sf(I,Ti+c,16,null,p||null);null===Y.projection&&(Y.projection=h),kE();const xt=!A[oo]||Zf();null===A[Nr][po].projection[Y.projection]&&null!==j?function DF(c,h,p){const v=Ti+p,_=h.data[v],S=c[v],A=Zl(S,_.tView.ssrId);Y0(S,X0(c,_,void 0,{dehydratedView:A}),0,hp(_,A))}(A,I,j):xt&&32&~Y.flags&&function nL(c,h,p){MA(h[Gi],0,h,p,u1(c,p,h),_A(p.parent||h[po],p,h))}(I,A,Y)}function Eu(c,h,p,v){Nx(c,h,p,v)}function ZM(c,h,p){uf(c,h,p)}function Kk(c){const h=hn(),p=Er(),v=PE();Ay(v+1);const _=J1(p,v);if(c.dirty&&function hN(c){return!(4&~c[kn])}(h)===!(2&~_.metadata.flags)){if(null===_.matches)c.reset([]);else{const S=vO(h,v);c.reset(S,yT),c.notifyOnChanges()}return!0}return!1}function Xk(){return Av(hn(),PE())}function s2(c,h,p,v,_){bO(h,Nx(c,p,v,_))}function a2(c,h,p,v){bO(c,uf(h,p,v))}function Tb(c=1){Ay(PE()+c)}function Ab(c,h,p,v){p>=c.data.length&&(c.data[p]=null,c.blueprint[p]=null),h[p]=v}function Ob(c){return On(AD(),Ti+c)}function Pb(c,h=""){const p=hn(),v=Er(),_=c+Ti,S=v.firstCreatePass?sf(v,_,1,h,null):v.data[_],A=tC(v,p,S,h,c);p[_]=A,Fg()&&d1(v,p,A,S),au(S,!1)}let tC=(c,h,p,v,_)=>(Ju(!0),function Iw(c,h){return c.createText(h)}(h[Gi],v));function l2(c){return c2("",c,""),l2}function c2(c,h,p){const v=hn(),_=vf(v,c,h,p);return _!==nr&&function eh(c,h,p){const v=In(h,c);!function l1(c,h,p){c.setValue(h,p)}(c[Gi],v,p)}(v,wa(),_),c2}function Lb(c,h,p){zx(h)&&(h=h());const v=hn();return jr(v,lu(),h)&&nl(Er(),jo(),v,c,h,v[Gi],p,!1),Lb}function rC(c,h){const p=zx(c);return p&&c.set(h),p}function oC(c,h){const p=hn(),v=Er(),_=xi();return r2(v,p,p[Gi],_,c,h),oC}const oI={};function Fb(c){const h=Er(),p=hn(),v=c+Ti;return au(sf(h,v,128,null,null),!1),Ab(h,p,v,oI),Fb}function sC(c){return na("NgLet"),Ab(Er(),hn(),wa(),c),c}function aC(c){const p=On(AD(),Ti+c);if(p===oI)throw new Tn(314,!1);return p}function Bb(c,h,p,v,_){if(c=Tt(c),Array.isArray(c))for(let S=0;S<c.length;S++)Bb(c[S],h,p,v,_);else{const S=Er(),A=hn(),I=xi();let j=Cc(c)?c:Tt(c.provide);const Y=jd(c),nt=1048575&I.providerIndexes,xt=I.directiveStart,ce=I.providerIndexes>>20;if(Cc(c)||!c.multi){const de=new Bg(Y,_,rd),Be=lC(j,h,_?nt:nt+ce,xt);-1===Be?(WE(Ry(I,A),S,j),Rs(S,c,h.length),h.push(j),I.directiveStart++,I.directiveEnd++,_&&(I.providerIndexes+=1048576),p.push(de),A.push(de)):(p[Be]=de,A[Be]=de)}else{const de=lC(j,h,nt+ce,xt),Be=lC(j,h,nt,nt+ce),Gn=Be>=0&&p[Be];if(_&&!Gn||!_&&!(de>=0&&p[de])){WE(Ry(I,A),S,j);const $n=function Tr(c,h,p,v,_){const S=new Bg(c,p,rd);return S.multi=[],S.index=h,S.componentProviders=0,sI(S,_,v&&!p),S}(_?PF:RF,p.length,_,v,Y);!_&&Gn&&(p[Be].providerFactory=$n),Rs(S,c,h.length,0),h.push(j),I.directiveStart++,I.directiveEnd++,_&&(I.providerIndexes+=1048576),p.push($n),A.push($n)}else Rs(S,c,de>-1?de:Be,sI(p[_?Be:de],Y,!_&&v));!_&&v&&Gn&&p[Be].componentProviders++}}}function Rs(c,h,p,v){const _=Cc(h),S=function vy(c){return!!c.useClass}(h);if(_||S){const j=(S?Tt(h.useClass):h).prototype.ngOnDestroy;if(j){const Y=c.destroyHooks||(c.destroyHooks=[]);if(!_&&h.multi){const nt=Y.indexOf(p);-1===nt?Y.push(p,[v,j]):Y[nt+1].push(v,j)}else Y.push(p,j)}}}function sI(c,h,p){return p&&c.componentProviders++,c.multi.push(h)-1}function lC(c,h,p,v){for(let _=p;_<v;_++)if(h[_]===c)return _;return-1}function RF(c,h,p,v){return jb(this.multi,[])}function PF(c,h,p,v){const _=this.multi;let S;if(this.providerFactory){const A=this.providerFactory.componentProviders,I=qf(p,p[cn],this.providerFactory.index,v);S=I.slice(0,A),jb(_,S);for(let j=A;j<I.length;j++)S.push(I[j])}else S=[],jb(_,S);return S}function jb(c,h){for(let p=0;p<c.length;p++)h.push((0,c[p])());return h}function cC(c,h=[]){return p=>{p.providersResolver=(v,_)=>function IF(c,h,p){const v=Er();if(v.firstCreatePass){const _=qa(c);Bb(p,v.data,v.blueprint,_,!0),Bb(h,v.data,v.blueprint,_,!1)}}(v,_?_(c):c,h)}}let Vb=(()=>{class c{constructor(p){this._injector=p,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(p){if(!p.standalone)return null;if(!this.cachedInjectors.has(p)){const v=b0(0,p.type),_=v.length>0?ob([v],this._injector,`Standalone[${p.type.name}]`):null;this.cachedInjectors.set(p,_)}return this.cachedInjectors.get(p)}ngOnDestroy(){try{for(const p of this.cachedInjectors.values())null!==p&&p.destroy()}finally{this.cachedInjectors.clear()}}static#t=this.\u0275prov=te({token:c,providedIn:"environment",factory:()=>new c(Hr($s))})}return c})();function zb(c){na("NgStandalone"),c.getStandaloneInjector=h=>h.get(Vb).getOrCreateStandaloneInjector(c)}function dC(c,h,p,v){return Ub(hn(),tl(),c,h,p,v)}function lI(c,h,p,v,_,S,A){return function mC(c,h,p,v,_,S,A,I,j){const Y=h+p;return function Pc(c,h,p,v,_,S){const A=Sp(c,h,p,v);return Sp(c,h+2,_,S)||A}(c,Y,_,S,A,I)?Jl(c,Y+4,j?v.call(j,_,S,A,I):v(_,S,A,I)):d2(c,Y+4)}(hn(),tl(),c,h,p,v,_,S,A)}function d2(c,h){const p=c[h];return p===nr?void 0:p}function Ub(c,h,p,v,_,S){const A=h+p;return jr(c,A,_)?Jl(c,A+1,S?v.call(S,_):v(_)):d2(c,A+1)}function vC(c,h){const p=Er();let v;const _=c+Ti;p.firstCreatePass?(v=function zF(c,h){if(h)for(let p=h.length-1;p>=0;p--){const v=h[p];if(c===v.name)return v}}(h,p.pipeRegistry),p.data[_]=v,v.onDestroy&&(p.destroyHooks??=[]).push(_,v.onDestroy)):v=p.data[_];const S=v.factory||(v.factory=ys(v.type)),I=ro(rd);try{const j=Xd(!1),Y=S();return Xd(j),Ab(p,hn(),_,Y),Y}finally{ro(I)}}function yC(c,h,p){const v=c+Ti,_=hn(),S=On(_,v);return function Rm(c,h){return c[cn].data[h].pure}(_,v)?Ub(_,tl(),h,S.transform,p,S):S.transform(p)}function bC(c,h){return A1(c,h)}class E2{constructor(h){this.full=h;const p=h.split(".");this.major=p[0],this.minor=p[1],this.patch=p.slice(2).join(".")}}let vI=(()=>{class c{log(p){console.log(p)}warn(p){console.warn(p)}static#t=this.\u0275fac=function(v){return new(v||c)};static#e=this.\u0275prov=te({token:c,factory:c.\u0275fac,providedIn:"platform"})}return c})();const TI=new li(""),AI=new li("");let yo,Jo=(()=>{class c{constructor(p,v,_){this._ngZone=p,this.registry=v,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,yo||(function to(c){yo=c}(_),_.addToWindow(v)),this._watchAngularEvents(),p.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{os.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let p=this._callbacks.pop();clearTimeout(p.timeoutId),p.doneCb()}});else{let p=this.getPendingTasks();this._callbacks=this._callbacks.filter(v=>!v.updateCb||!v.updateCb(p)||(clearTimeout(v.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(p=>({source:p.source,creationLocation:p.creationLocation,data:p.data})):[]}addCallback(p,v,_){let S=-1;v&&v>0&&(S=setTimeout(()=>{this._callbacks=this._callbacks.filter(A=>A.timeoutId!==S),p()},v)),this._callbacks.push({doneCb:p,timeoutId:S,updateCb:_})}whenStable(p,v,_){if(_&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(p,v,_),this._runCallbacksIfReady()}registerApplication(p){this.registry.registerApplication(p,this)}unregisterApplication(p){this.registry.unregisterApplication(p)}findProviders(p,v,_){return[]}static#t=this.\u0275fac=function(v){return new(v||c)(Hr(os),Hr(al),Hr(AI))};static#e=this.\u0275prov=te({token:c,factory:c.\u0275fac})}return c})(),al=(()=>{class c{constructor(){this._applications=new Map}registerApplication(p,v){this._applications.set(p,v)}unregisterApplication(p){this._applications.delete(p)}unregisterAllApplications(){this._applications.clear()}getTestability(p){return this._applications.get(p)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(p,v=!0){return yo?.findTestabilityInTree(this,p,v)??null}static#t=this.\u0275fac=function(v){return new(v||c)};static#e=this.\u0275prov=te({token:c,factory:c.\u0275fac,providedIn:"platform"})}return c})();function gn(c){return!!c&&"function"==typeof c.then}function Wp(c){return!!c&&"function"==typeof c.subscribe}const Ms=new li("");let Dn=(()=>{class c{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((p,v)=>{this.resolve=p,this.reject=v}),this.appInits=Si(Ms,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const p=[];for(const _ of this.appInits){const S=_();if(gn(S))p.push(S);else if(Wp(S)){const A=new Promise((I,j)=>{S.subscribe({complete:I,error:j})});p.push(A)}}const v=()=>{this.done=!0,this.resolve()};Promise.all(p).then(()=>{v()}).catch(_=>{this.reject(_)}),0===p.length&&v(),this.initialized=!0}static#t=this.\u0275fac=function(v){return new(v||c)};static#e=this.\u0275prov=te({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})();const Cu=new li("");let ud=(()=>{class c{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Si(UN),this.afterRenderManager=Si(qx),this.zonelessEnabled=Si(sm),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new ci.B,this.afterTick=new ci.B,this.componentTypes=[],this.components=[],this.isStable=Si(Zh).hasPendingTasks.pipe((0,Li.T)(p=>!p)),this._injector=Si($s)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let p;return new Promise(v=>{p=this.isStable.subscribe({next:_=>{_&&v()}})}).finally(()=>{p.unsubscribe()})}get injector(){return this._injector}bootstrap(p,v){const _=p instanceof H1;if(!this._injector.get(Dn).done)throw!_&&xc(p),new Tn(405,!1);let A;A=_?p:this._injector.get(am).resolveComponentFactory(p),this.componentTypes.push(A.componentType);const I=function Su(c){return c.isBoundToModule}(A)?void 0:this._injector.get(wp),Y=A.create(Es.NULL,[],v||A.selector,I),nt=Y.location.nativeElement,xt=Y.injector.get(TI,null);return xt?.registerApplication(nt),Y.onDestroy(()=>{this.detachView(Y.hostView),jc(this.components,Y),xt?.unregisterApplication(nt)}),this._loadComponent(Y),Y}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new Tn(101,!1);const p=it(null);try{this._runningTick=!0,this.synchronize()}catch(v){this.internalErrorHandler(v)}finally{this._runningTick=!1,it(p),this.afterTick.next()}}synchronize(){let p=null;this._injector.destroyed||(p=this._injector.get(G1,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let v=0;for(;0!==this.dirtyFlags&&v++<10;)this.synchronizeOnce(p)}synchronizeOnce(p){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,7&this.dirtyFlags){const v=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(v);for(let{_lView:_,notifyErrorHandler:S}of this._views)IC(_,S,v,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),7&this.dirtyFlags)return}else p?.begin?.(),p?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:p})=>Sy(p))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(p){const v=p;this._views.push(v),v.attachToAppRef(this)}detachView(p){const v=p;jc(this._views,v),v.detachFromAppRef()}_loadComponent(p){this.attachView(p.hostView),this.tick(),this.components.push(p);const v=this._injector.get(Cu,[]);[...this._bootstrapListeners,...v].forEach(_=>_(p))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(p=>p()),this._views.slice().forEach(p=>p.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(p){return this._destroyListeners.push(p),()=>jc(this._destroyListeners,p)}destroy(){if(this._destroyed)throw new Tn(406,!1);const p=this._injector;p.destroy&&!p.destroyed&&p.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#t=this.\u0275fac=function(v){return new(v||c)};static#e=this.\u0275prov=te({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})();function jc(c,h){const p=c.indexOf(h);p>-1&&c.splice(p,1)}function IC(c,h,p,v){(p||Sy(c))&&C1(c,h,p&&!v?0:1)}class RC{constructor(h,p){this.ngModuleFactory=h,this.componentFactories=p}}let x2=(()=>{class c{compileModuleSync(p){return new rb(p)}compileModuleAsync(p){return Promise.resolve(this.compileModuleSync(p))}compileModuleAndAllComponentsSync(p){const v=this.compileModuleSync(p),S=Kl(Gs(p).declarations).reduce((A,I)=>{const j=rr(I);return j&&A.push(new bp(j)),A},[]);return new RC(v,S)}compileModuleAndAllComponentsAsync(p){return Promise.resolve(this.compileModuleAndAllComponentsSync(p))}clearCache(){}clearCacheFor(p){}getModuleId(p){}static#t=this.\u0275fac=function(v){return new(v||c)};static#e=this.\u0275prov=te({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})(),g8=(()=>{class c{constructor(){this.zone=Si(os),this.changeDetectionScheduler=Si(yp),this.applicationRef=Si(ud)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#t=this.\u0275fac=function(v){return new(v||c)};static#e=this.\u0275prov=te({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})();function NC({ngZoneFactory:c,ignoreChangesOutsideZone:h,scheduleInRootZone:p}){return c??=()=>new os({...r_(),scheduleInRootZone:p}),[{provide:os,useFactory:c},{provide:bs,multi:!0,useFactory:()=>{const v=Si(g8,{optional:!0});return()=>v.initialize()}},{provide:bs,multi:!0,useFactory:()=>{const v=Si(y8);return()=>{v.initialize()}}},!0===h?{provide:Ic,useValue:!0}:[],{provide:z1,useValue:p??aT}]}function r_(c){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:c?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:c?.runCoalescing??!1}}let y8=(()=>{class c{constructor(){this.subscription=new Di.yU,this.initialized=!1,this.zone=Si(os),this.pendingTasks=Si(Zh)}initialize(){if(this.initialized)return;this.initialized=!0;let p=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(p=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{os.assertNotInAngularZone(),queueMicrotask(()=>{null!==p&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(p),p=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{os.assertInAngularZone(),p??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#t=this.\u0275fac=function(v){return new(v||c)};static#e=this.\u0275prov=te({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})(),M2=(()=>{class c{constructor(){this.appRef=Si(ud),this.taskService=Si(Zh),this.ngZone=Si(os),this.zonelessEnabled=Si(sm),this.disableScheduling=Si(Ic,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Di.yU,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Hy):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(Si(z1,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof $l||!this.zoneIsDefined)}notify(p){if(!this.zonelessEnabled&&5===p)return;switch(p){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 7:this.appRef.deferredDirtyFlags|=8;break;default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;const v=this.useMicrotaskScheduler?dT:uT;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>v(()=>this.tick())):this.ngZone.runOutsideAngular(()=>v(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Hy+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const p=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(v){throw this.taskService.remove(p),v}finally{this.cleanup()}this.useMicrotaskScheduler=!0,dT(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(p)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const p=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(p)}}static#t=this.\u0275fac=function(v){return new(v||c)};static#e=this.\u0275prov=te({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})();const Vc=new li("",{providedIn:"root",factory:()=>Si(Vc,Ii.Optional|Ii.SkipSelf)||function Nm(){return typeof $localize<"u"&&$localize.locale||Qv}()}),dh=new li("",{providedIn:"root",factory:()=>"USD"}),o_=new li("");function Al(c){return!c.moduleRef}let zc=null;function VC(){return!1}let LI=(()=>{class c{static#t=this.__NG_ELEMENT_ID__=C8}return c})();function C8(c){return function S8(c,h,p){if(Wh(c)&&!p){const v=Hl(c.index,h);return new pv(v,v)}return 175&c.type?new pv(h[Nr],h):null}(xi(),hn(),!(16&~c))}class FI{constructor(){}supports(h){return ks(h)}create(h){return new YC(h)}}const O8=(c,h)=>h;class YC{constructor(h){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=h||O8}forEachItem(h){let p;for(p=this._itHead;null!==p;p=p._next)h(p)}forEachOperation(h){let p=this._itHead,v=this._removalsHead,_=0,S=null;for(;p||v;){const A=!v||p&&p.currentIndex<QC(v,_,S)?p:v,I=QC(A,_,S),j=A.currentIndex;if(A===v)_--,v=v._nextRemoved;else if(p=p._next,null==A.previousIndex)_++;else{S||(S=[]);const Y=I-_,nt=j-_;if(Y!=nt){for(let ce=0;ce<Y;ce++){const de=ce<S.length?S[ce]:S[ce]=0,Be=de+ce;nt<=Be&&Be<Y&&(S[ce]=de+1)}S[A.previousIndex]=nt-Y}}I!==j&&h(A,I,j)}}forEachPreviousItem(h){let p;for(p=this._previousItHead;null!==p;p=p._nextPrevious)h(p)}forEachAddedItem(h){let p;for(p=this._additionsHead;null!==p;p=p._nextAdded)h(p)}forEachMovedItem(h){let p;for(p=this._movesHead;null!==p;p=p._nextMoved)h(p)}forEachRemovedItem(h){let p;for(p=this._removalsHead;null!==p;p=p._nextRemoved)h(p)}forEachIdentityChange(h){let p;for(p=this._identityChangesHead;null!==p;p=p._nextIdentityChange)h(p)}diff(h){if(null==h&&(h=[]),!ks(h))throw new Tn(900,!1);return this.check(h)?this:null}onDestroy(){}check(h){this._reset();let _,S,A,p=this._itHead,v=!1;if(Array.isArray(h)){this.length=h.length;for(let I=0;I<this.length;I++)S=h[I],A=this._trackByFn(I,S),null!==p&&Object.is(p.trackById,A)?(v&&(p=this._verifyReinsertion(p,S,A,I)),Object.is(p.item,S)||this._addIdentityChange(p,S)):(p=this._mismatch(p,S,A,I),v=!0),p=p._next}else _=0,function Zo(c,h){if(Array.isArray(c))for(let p=0;p<c.length;p++)h(c[p]);else{const p=c[Symbol.iterator]();let v;for(;!(v=p.next()).done;)h(v.value)}}(h,I=>{A=this._trackByFn(_,I),null!==p&&Object.is(p.trackById,A)?(v&&(p=this._verifyReinsertion(p,I,A,_)),Object.is(p.item,I)||this._addIdentityChange(p,I)):(p=this._mismatch(p,I,A,_),v=!0),p=p._next,_++}),this.length=_;return this._truncate(p),this.collection=h,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let h;for(h=this._previousItHead=this._itHead;null!==h;h=h._next)h._nextPrevious=h._next;for(h=this._additionsHead;null!==h;h=h._nextAdded)h.previousIndex=h.currentIndex;for(this._additionsHead=this._additionsTail=null,h=this._movesHead;null!==h;h=h._nextMoved)h.previousIndex=h.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(h,p,v,_){let S;return null===h?S=this._itTail:(S=h._prev,this._remove(h)),null!==(h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(v,null))?(Object.is(h.item,p)||this._addIdentityChange(h,p),this._reinsertAfter(h,S,_)):null!==(h=null===this._linkedRecords?null:this._linkedRecords.get(v,_))?(Object.is(h.item,p)||this._addIdentityChange(h,p),this._moveAfter(h,S,_)):h=this._addAfter(new ZC(p,v),S,_),h}_verifyReinsertion(h,p,v,_){let S=null===this._unlinkedRecords?null:this._unlinkedRecords.get(v,null);return null!==S?h=this._reinsertAfter(S,h._prev,_):h.currentIndex!=_&&(h.currentIndex=_,this._addToMoves(h,_)),h}_truncate(h){for(;null!==h;){const p=h._next;this._addToRemovals(this._unlink(h)),h=p}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(h,p,v){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(h);const _=h._prevRemoved,S=h._nextRemoved;return null===_?this._removalsHead=S:_._nextRemoved=S,null===S?this._removalsTail=_:S._prevRemoved=_,this._insertAfter(h,p,v),this._addToMoves(h,v),h}_moveAfter(h,p,v){return this._unlink(h),this._insertAfter(h,p,v),this._addToMoves(h,v),h}_addAfter(h,p,v){return this._insertAfter(h,p,v),this._additionsTail=null===this._additionsTail?this._additionsHead=h:this._additionsTail._nextAdded=h,h}_insertAfter(h,p,v){const _=null===p?this._itHead:p._next;return h._next=_,h._prev=p,null===_?this._itTail=h:_._prev=h,null===p?this._itHead=h:p._next=h,null===this._linkedRecords&&(this._linkedRecords=new BI),this._linkedRecords.put(h),h.currentIndex=v,h}_remove(h){return this._addToRemovals(this._unlink(h))}_unlink(h){null!==this._linkedRecords&&this._linkedRecords.remove(h);const p=h._prev,v=h._next;return null===p?this._itHead=v:p._next=v,null===v?this._itTail=p:v._prev=p,h}_addToMoves(h,p){return h.previousIndex===p||(this._movesTail=null===this._movesTail?this._movesHead=h:this._movesTail._nextMoved=h),h}_addToRemovals(h){return null===this._unlinkedRecords&&(this._unlinkedRecords=new BI),this._unlinkedRecords.put(h),h.currentIndex=null,h._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=h,h._prevRemoved=null):(h._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=h),h}_addIdentityChange(h,p){return h.item=p,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=h:this._identityChangesTail._nextIdentityChange=h,h}}class ZC{constructor(h,p){this.item=h,this.trackById=p,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class za{constructor(){this._head=null,this._tail=null}add(h){null===this._head?(this._head=this._tail=h,h._nextDup=null,h._prevDup=null):(this._tail._nextDup=h,h._prevDup=this._tail,h._nextDup=null,this._tail=h)}get(h,p){let v;for(v=this._head;null!==v;v=v._nextDup)if((null===p||p<=v.currentIndex)&&Object.is(v.trackById,h))return v;return null}remove(h){const p=h._prevDup,v=h._nextDup;return null===p?this._head=v:p._nextDup=v,null===v?this._tail=p:v._prevDup=p,null===this._head}}class BI{constructor(){this.map=new Map}put(h){const p=h.trackById;let v=this.map.get(p);v||(v=new za,this.map.set(p,v)),v.add(h)}get(h,p){const _=this.map.get(h);return _?_.get(h,p):null}remove(h){const p=h.trackById;return this.map.get(p).remove(h)&&this.map.delete(p),h}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function QC(c,h,p){const v=c.previousIndex;if(null===v)return v;let _=0;return p&&v<p.length&&(_=p[v]),v+h+_}class ir{constructor(){}supports(h){return h instanceof Map||ff(h)}create(){return new Do}}class Do{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(h){let p;for(p=this._mapHead;null!==p;p=p._next)h(p)}forEachPreviousItem(h){let p;for(p=this._previousMapHead;null!==p;p=p._nextPrevious)h(p)}forEachChangedItem(h){let p;for(p=this._changesHead;null!==p;p=p._nextChanged)h(p)}forEachAddedItem(h){let p;for(p=this._additionsHead;null!==p;p=p._nextAdded)h(p)}forEachRemovedItem(h){let p;for(p=this._removalsHead;null!==p;p=p._nextRemoved)h(p)}diff(h){if(h){if(!(h instanceof Map||ff(h)))throw new Tn(900,!1)}else h=new Map;return this.check(h)?this:null}onDestroy(){}check(h){this._reset();let p=this._mapHead;if(this._appendAfter=null,this._forEach(h,(v,_)=>{if(p&&p.key===_)this._maybeAddToChanges(p,v),this._appendAfter=p,p=p._next;else{const S=this._getOrCreateRecordForKey(_,v);p=this._insertBeforeOrAppend(p,S)}}),p){p._prev&&(p._prev._next=null),this._removalsHead=p;for(let v=p;null!==v;v=v._nextRemoved)v===this._mapHead&&(this._mapHead=null),this._records.delete(v.key),v._nextRemoved=v._next,v.previousValue=v.currentValue,v.currentValue=null,v._prev=null,v._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(h,p){if(h){const v=h._prev;return p._next=h,p._prev=v,h._prev=p,v&&(v._next=p),h===this._mapHead&&(this._mapHead=p),this._appendAfter=h,h}return this._appendAfter?(this._appendAfter._next=p,p._prev=this._appendAfter):this._mapHead=p,this._appendAfter=p,null}_getOrCreateRecordForKey(h,p){if(this._records.has(h)){const _=this._records.get(h);this._maybeAddToChanges(_,p);const S=_._prev,A=_._next;return S&&(S._next=A),A&&(A._prev=S),_._next=null,_._prev=null,_}const v=new ph(h);return this._records.set(h,v),v.currentValue=p,this._addToAdditions(v),v}_reset(){if(this.isDirty){let h;for(this._previousMapHead=this._mapHead,h=this._previousMapHead;null!==h;h=h._next)h._nextPrevious=h._next;for(h=this._changesHead;null!==h;h=h._nextChanged)h.previousValue=h.currentValue;for(h=this._additionsHead;null!=h;h=h._nextAdded)h.previousValue=h.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(h,p){Object.is(p,h.currentValue)||(h.previousValue=h.currentValue,h.currentValue=p,this._addToChanges(h))}_addToAdditions(h){null===this._additionsHead?this._additionsHead=this._additionsTail=h:(this._additionsTail._nextAdded=h,this._additionsTail=h)}_addToChanges(h){null===this._changesHead?this._changesHead=this._changesTail=h:(this._changesTail._nextChanged=h,this._changesTail=h)}_forEach(h,p){h instanceof Map?h.forEach(p):Object.keys(h).forEach(v=>p(h[v],v))}}class ph{constructor(h){this.key=h,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Uc(){return new qC([new FI])}let qC=(()=>{class c{static#t=this.\u0275prov=te({token:c,providedIn:"root",factory:Uc});constructor(p){this.factories=p}static create(p,v){if(null!=v){const _=v.factories.slice();p=p.concat(_)}return new c(p)}static extend(p){return{provide:c,useFactory:v=>c.create(p,v||Uc()),deps:[[c,new vc,new Bl]]}}find(p){const v=this.factories.find(_=>_.supports(p));if(null!=v)return v;throw new Tn(901,!1)}}return c})();function mh(){return new To([new ir])}let To=(()=>{class c{static#t=this.\u0275prov=te({token:c,providedIn:"root",factory:mh});constructor(p){this.factories=p}static create(p,v){if(v){const _=v.factories.slice();p=p.concat(_)}return new c(p)}static extend(p){return{provide:c,useFactory:v=>c.create(p,v||mh()),deps:[[c,new vc,new Bl]]}}find(p){const v=this.factories.find(_=>_.supports(p));if(v)return v;throw new Tn(901,!1)}}return c})();function s3(c){try{const{rootComponent:h,appProviders:p,platformProviders:v}=c,_=function w8(c=[]){if(zc)return zc;const h=function RI(c=[],h){return Es.create({name:h,providers:[{provide:Xf,useValue:"platform"},{provide:o_,useValue:new Set([()=>zc=null])},...c]})}(c);return zc=h,function So(){!function Ot(c){Oe=c}(()=>{throw new Tn(600,!1)})}(),function PI(c){c.get(BT,null)?.forEach(p=>p())}(h),h}(v),S=[NC({}),{provide:yp,useExisting:M2},...p||[]];return function jC(c){const h=Al(c)?c.r3Injector:c.moduleRef.injector,p=h.get(os);return p.run(()=>{Al(c)?c.r3Injector.resolveInjectorInitializers():c.moduleRef.resolveInjectorInitializers();const v=h.get(ed,null);let _;if(p.runOutsideAngular(()=>{_=p.onError.subscribe({next:S=>{v.handleError(S)}})}),Al(c)){const S=()=>h.destroy(),A=c.platformInjector.get(o_);A.add(S),h.onDestroy(()=>{_.unsubscribe(),A.delete(S)})}else{const S=()=>c.moduleRef.destroy(),A=c.platformInjector.get(o_);A.add(S),c.moduleRef.onDestroy(()=>{jc(c.allPlatformModules,c.moduleRef),_.unsubscribe(),A.delete(S)})}return function uh(c,h,p){try{const v=p();return gn(v)?v.catch(_=>{throw h.runOutsideAngular(()=>c.handleError(_)),_}):v}catch(v){throw h.runOutsideAngular(()=>c.handleError(v)),v}}(v,p,()=>{const S=h.get(Dn);return S.runInitializers(),S.donePromise.then(()=>{if(function Va(c){"string"==typeof c&&(qv=c.toLowerCase().replace(/_/g,"-"))}(h.get(Vc,Qv)||Qv),Al(c)){const I=h.get(ud);return void 0!==c.rootComponent&&I.bootstrap(c.rootComponent),I}return function b8(c,h){const p=c.injector.get(ud);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(v=>p.bootstrap(v));else{if(!c.instance.ngDoBootstrap)throw new Tn(-403,!1);c.instance.ngDoBootstrap(p)}h.push(c)}(c.moduleRef,c.allPlatformModules),c.moduleRef})})})}({r3Injector:new Ca({providers:S,parent:_,debugName:"",runEnvironmentInitializers:!1}).injector,platformInjector:_,rootComponent:h})}catch(h){return Promise.reject(h)}}function $8(c){return"boolean"==typeof c?c:null!=c&&"false"!==c}function R2(c,h=NaN){return isNaN(parseFloat(c))||isNaN(Number(c))?h:Number(c)}function K8(c,h){na("NgSignals");const p=oe(c);return h?.equal&&(p[ct].equal=h.equal),p}function X8(c){const h=it(null);try{return c()}finally{it(h)}}const Je=new li("",{providedIn:"root",factory:()=>Si(y_)});let y_=(()=>{class c{static#t=this.\u0275prov=te({token:c,providedIn:"root",factory:()=>new Du})}return c})();class Du{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=Si(Zh),this.taskId=null}scheduleEffect(h){if(this.enqueue(h),null===this.taskId){const p=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(p),this.taskId=null})}}enqueue(h){const p=h.creationZone;this.queues.has(p)||this.queues.set(p,new Set);const v=this.queues.get(p);v.has(h)||(this.queuedEffectCount++,v.add(h))}flush(){for(;this.queuedEffectCount>0;)for(const[h,p]of this.queues)null===h?this.flushQueue(p):h.run(()=>this.flushQueue(p))}flushQueue(h){for(const p of h)h.delete(p),this.queuedEffectCount--,p.run()}}class lR{constructor(h,p,v,_,S,A){this.scheduler=h,this.effectFn=p,this.creationZone=v,this.injector=S,this.watcher=function Ie(c,h,p){const v=Object.create(Un);p&&(v.consumerAllowSignalWrites=!0),v.fn=c,v.schedule=h;const _=j=>{v.cleanupFn=j};return v.ref={notify:()=>ue(v),run:()=>{if(null===v.fn)return;if(function It(){return g}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(v.dirty=!1,v.hasRun&&!rn(v))return;v.hasRun=!0;const j=ye(v);try{v.cleanupFn(),v.cleanupFn=fn,v.fn(_)}finally{Le(v,j)}},cleanup:()=>v.cleanupFn(),destroy:()=>function A(j){(function S(j){return null===j.fn&&null===j.schedule})(j)||(_e(j),j.cleanupFn(),j.fn=null,j.schedule=null,j.cleanupFn=fn)}(v),[ct]:v},v.ref}(I=>this.runEffect(I),()=>this.schedule(),A),this.unregisterOnDestroy=_?.onDestroy(()=>this.destroy())}runEffect(h){try{this.effectFn(h)}catch(p){this.injector.get(ed,null,{optional:!0})?.handleError(p)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}function b_(c,h){na("NgSignals"),!h?.injector&&ou();const p=h?.injector??Si(Es),v=!0!==h?.manualCleanup?p.get(A0):null,_=new lR(p.get(Je),c,typeof Zone>"u"?null:Zone.current,v,p,h?.allowSignalWrites??!1),S=p.get(LI,null,{optional:!0});return S&&8&S._lView[kn]?(S._lView[Eo]??=[]).push(_.watcher.notify):_.watcher.notify(),_}function Um(c,h){const p=rr(c),v=h.elementInjector||w0();return new bp(p).create(v,h.projectableNodes,h.hostElement,h.environmentInjector)}},7083:(mn,ae,P)=>{"use strict";P.d(ae,{br:()=>pt,ot:()=>bt,pQ:()=>ct});var C=P(4291),H=P(3982),g=P(7650),lt=P(3796);function ct(Pt){Pt||((0,C.Af3)(ct),Pt=(0,C.WQX)(C.abz));const yt=new H.c(Ft=>Pt.onDestroy(Ft.next.bind(Ft)));return Ft=>Ft.pipe((0,lt.Q)(yt))}function pt(Pt,yt){!yt?.injector&&(0,C.Af3)(pt);const Ft=yt?.injector??(0,C.WQX)(C.zZn),Ht=new g.m(1),ue=(0,C.QZP)(()=>{let ye;try{ye=Pt()}catch(Le){return void(0,C.O8t)(()=>Ht.error(Le))}(0,C.O8t)(()=>Ht.next(ye))},{injector:Ft,manualCleanup:!0});return Ft.get(C.abz).onDestroy(()=>{ue.destroy(),Ht.complete()}),Ht.asObservable()}function bt(Pt,yt){const Ft=!yt?.manualCleanup;Ft&&!yt?.injector&&(0,C.Af3)(bt);const Ht=Ft?yt?.injector?.get(C.abz)??(0,C.WQX)(C.abz):null,ue=function At(Pt=Object.is){return(yt,Ft)=>1===yt.kind&&1===Ft.kind&&Pt(yt.value,Ft.value)}(yt?.equal);let ye;ye=(0,C.vPA)(yt?.requireSync?{kind:0}:{kind:1,value:yt?.initialValue},{equal:ue});const Le=Pt.subscribe({next:rn=>ye.set({kind:1,value:rn}),error:rn=>{if(yt?.rejectErrors)throw rn;ye.set({kind:2,error:rn})}});if(yt?.requireSync&&0===ye().kind)throw new C.wOt(601,!1);return Ht?.onDestroy(Le.unsubscribe.bind(Le)),(0,C.EWP)(()=>{const rn=ye();switch(rn.kind){case 1:return rn.value;case 2:throw rn.error;case 0:throw new C.wOt(601,!1)}},{equal:yt?.equal})}},4007:(mn,ae,P)=>{"use strict";P.d(ae,{BC:()=>Vi,JD:()=>fl,MJ:()=>Wi,Qk:()=>Nh,X1:()=>Fd,YN:()=>Wu,YS:()=>Wo,cV:()=>Wr,cb:()=>Tn,cz:()=>Le,gE:()=>wt,j4:()=>eu,k0:()=>Ke,kq:()=>pt,l_:()=>tu,me:()=>Ht,qT:()=>Fr,tU:()=>bs,vO:()=>ci,vS:()=>ls,xh:()=>va,xq:()=>Gu,ze:()=>Hf});var C=P(4291),H=P(9284),g=P(3467),lt=P(745),ct=P(1071),it=P(8199);let jt=(()=>{class Z{constructor(G,ht){this._renderer=G,this._elementRef=ht,this.onChange=me=>{},this.onTouched=()=>{}}setProperty(G,ht){this._renderer.setProperty(this._elementRef.nativeElement,G,ht)}registerOnTouched(G){this.onTouched=G}registerOnChange(G){this.onChange=G}setDisabledState(G){this.setProperty("disabled",G)}static#t=this.\u0275fac=function(ht){return new(ht||Z)(C.rXU(C.sFG),C.rXU(C.aKT))};static#e=this.\u0275dir=C.FsC({type:Z})}return Z})(),It=(()=>{class Z extends jt{static#t=this.\u0275fac=(()=>{let G;return function(me){return(G||(G=C.xGo(Z)))(me||Z)}})();static#e=this.\u0275dir=C.FsC({type:Z,features:[C.Vt3]})}return Z})();const pt=new C.nKC(""),Pt={provide:pt,useExisting:(0,C.Rfq)(()=>Ht),multi:!0},Ft=new C.nKC("");let Ht=(()=>{class Z extends jt{constructor(G,ht,me){super(G,ht),this._compositionMode=me,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function yt(){const Z=(0,H.QT)()?(0,H.QT)().getUserAgent():"";return/android (\d+)/.test(Z.toLowerCase())}())}writeValue(G){this.setProperty("value",G??"")}_handleInput(G){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(G)}_compositionStart(){this._composing=!0}_compositionEnd(G){this._composing=!1,this._compositionMode&&this.onChange(G)}static#t=this.\u0275fac=function(ht){return new(ht||Z)(C.rXU(C.sFG),C.rXU(C.aKT),C.rXU(Ft,8))};static#e=this.\u0275dir=C.FsC({type:Z,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(ht,me){1&ht&&C.bIt("input",function(ni){return me._handleInput(ni.target.value)})("blur",function(){return me.onTouched()})("compositionstart",function(){return me._compositionStart()})("compositionend",function(ni){return me._compositionEnd(ni.target.value)})},features:[C.Jv_([Pt]),C.Vt3]})}return Z})();function ue(Z){return null==Z||("string"==typeof Z||Array.isArray(Z))&&0===Z.length}function ye(Z){return null!=Z&&"number"==typeof Z.length}const Le=new C.nKC(""),rn=new C.nKC(""),_e=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ke{static min(J){return function Qt(Z){return J=>{if(ue(J.value)||ue(Z))return null;const G=parseFloat(J.value);return!isNaN(G)&&G<Z?{min:{min:Z,actual:J.value}}:null}}(J)}static max(J){return function Ut(Z){return J=>{if(ue(J.value)||ue(Z))return null;const G=parseFloat(J.value);return!isNaN(G)&&G>Z?{max:{max:Z,actual:J.value}}:null}}(J)}static required(J){return kt(J)}static requiredTrue(J){return pe(J)}static email(J){return function Te(Z){return ue(Z.value)||_e.test(Z.value)?null:{email:!0}}(J)}static minLength(J){return oe(J)}static maxLength(J){return Kt(J)}static pattern(J){return function Zt(Z){if(!Z)return ke;let J,G;return"string"==typeof Z?(G="","^"!==Z.charAt(0)&&(G+="^"),G+=Z,"$"!==Z.charAt(Z.length-1)&&(G+="$"),J=new RegExp(G)):(G=Z.toString(),J=Z),ht=>{if(ue(ht.value))return null;const me=ht.value;return J.test(me)?null:{pattern:{requiredPattern:G,actualValue:me}}}}(J)}static nullValidator(J){return null}static compose(J){return ft(J)}static composeAsync(J){return ot(J)}}function kt(Z){return ue(Z.value)?{required:!0}:null}function pe(Z){return!0===Z.value?null:{required:!0}}function oe(Z){return J=>ue(J.value)||!ye(J.value)?null:J.value.length<Z?{minlength:{requiredLength:Z,actualLength:J.value.length}}:null}function Kt(Z){return J=>ye(J.value)&&J.value.length>Z?{maxlength:{requiredLength:Z,actualLength:J.value.length}}:null}function ke(Z){return null}function De(Z){return null!=Z}function ge(Z){return(0,C.jNT)(Z)?(0,g.H)(Z):Z}function Oe(Z){let J={};return Z.forEach(G=>{J=null!=G?{...J,...G}:J}),0===Object.keys(J).length?null:J}function ee(Z,J){return J.map(G=>G(Z))}function ut(Z){return Z.map(J=>function Ot(Z){return!Z.validate}(J)?J:G=>J.validate(G))}function ft(Z){if(!Z)return null;const J=Z.filter(De);return 0==J.length?null:function(G){return Oe(ee(G,J))}}function Mt(Z){return null!=Z?ft(ut(Z)):null}function ot(Z){if(!Z)return null;const J=Z.filter(De);return 0==J.length?null:function(G){const ht=ee(G,J).map(ge);return(0,lt.p)(ht).pipe((0,it.T)(Oe))}}function Dt(Z){return null!=Z?ot(ut(Z)):null}function dt(Z,J){return null===Z?[J]:Array.isArray(Z)?[...Z,J]:[Z,J]}function Vt(Z){return Z._rawValidators}function Ee(Z){return Z._rawAsyncValidators}function we(Z){return Z?Array.isArray(Z)?Z:[Z]:[]}function Ie(Z,J){return Array.isArray(Z)?Z.includes(J):Z===J}function fn(Z,J){const G=we(J);return we(Z).forEach(me=>{Ie(G,me)||G.push(me)}),G}function Un(Z,J){return we(J).filter(G=>!Ie(Z,G))}class Ri{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(J){this._rawValidators=J||[],this._composedValidatorFn=Mt(this._rawValidators)}_setAsyncValidators(J){this._rawAsyncValidators=J||[],this._composedAsyncValidatorFn=Dt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(J){this._onDestroyCallbacks.push(J)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(J=>J()),this._onDestroyCallbacks=[]}reset(J=void 0){this.control&&this.control.reset(J)}hasError(J,G){return!!this.control&&this.control.hasError(J,G)}getError(J,G){return this.control?this.control.getError(J,G):null}}class Fn extends Ri{get formDirective(){return null}get path(){return null}}class ci extends Ri{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Di{constructor(J){this._cd=J}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let Vi=(()=>{class Z extends Di{constructor(G){super(G)}static#t=this.\u0275fac=function(ht){return new(ht||Z)(C.rXU(ci,2))};static#e=this.\u0275dir=C.FsC({type:Z,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(ht,me){2&ht&&C.AVh("ng-untouched",me.isUntouched)("ng-touched",me.isTouched)("ng-pristine",me.isPristine)("ng-dirty",me.isDirty)("ng-valid",me.isValid)("ng-invalid",me.isInvalid)("ng-pending",me.isPending)},features:[C.Vt3]})}return Z})(),Tn=(()=>{class Z extends Di{constructor(G){super(G)}static#t=this.\u0275fac=function(ht){return new(ht||Z)(C.rXU(Fn,10))};static#e=this.\u0275dir=C.FsC({type:Z,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(ht,me){2&ht&&C.AVh("ng-untouched",me.isUntouched)("ng-touched",me.isTouched)("ng-pristine",me.isPristine)("ng-dirty",me.isDirty)("ng-valid",me.isValid)("ng-invalid",me.isInvalid)("ng-pending",me.isPending)("ng-submitted",me.isSubmitted)},features:[C.Vt3]})}return Z})();const pn="VALID",en="INVALID",yn="PENDING",$e="DISABLED";class Bn{}class Rt extends Bn{constructor(J,G){super(),this.value=J,this.source=G}}class Tt extends Bn{constructor(J,G){super(),this.pristine=J,this.source=G}}class vt extends Bn{constructor(J,G){super(),this.touched=J,this.source=G}}class Lt extends Bn{constructor(J,G){super(),this.status=J,this.source=G}}class Ze extends Bn{constructor(J){super(),this.source=J}}class An extends Bn{constructor(J){super(),this.source=J}}function ei(Z){return(Gt(Z)?Z.validators:Z)||null}function Fe(Z,J){return(Gt(J)?J.asyncValidators:Z)||null}function Gt(Z){return null!=Z&&!Array.isArray(Z)&&"object"==typeof Z}function Ce(Z,J,G){const ht=Z.controls;if(!(J?Object.keys(ht):ht).length)throw new C.wOt(1e3,"");if(!ht[G])throw new C.wOt(1001,"")}function Jt(Z,J,G){Z._forEachChild((ht,me)=>{if(void 0===G[me])throw new C.wOt(1002,"")})}class $t{constructor(J,G){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=(0,C.EWP)(()=>this.statusReactive()),this.statusReactive=(0,C.vPA)(void 0),this._pristine=(0,C.EWP)(()=>this.pristineReactive()),this.pristineReactive=(0,C.vPA)(!0),this._touched=(0,C.EWP)(()=>this.touchedReactive()),this.touchedReactive=(0,C.vPA)(!1),this._events=new ct.B,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(J),this._assignAsyncValidators(G)}get validator(){return this._composedValidatorFn}set validator(J){this._rawValidators=this._composedValidatorFn=J}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(J){this._rawAsyncValidators=this._composedAsyncValidatorFn=J}get parent(){return this._parent}get status(){return(0,C.O8t)(this.statusReactive)}set status(J){(0,C.O8t)(()=>this.statusReactive.set(J))}get valid(){return this.status===pn}get invalid(){return this.status===en}get pending(){return this.status==yn}get disabled(){return this.status===$e}get enabled(){return this.status!==$e}get pristine(){return(0,C.O8t)(this.pristineReactive)}set pristine(J){(0,C.O8t)(()=>this.pristineReactive.set(J))}get dirty(){return!this.pristine}get touched(){return(0,C.O8t)(this.touchedReactive)}set touched(J){(0,C.O8t)(()=>this.touchedReactive.set(J))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(J){this._assignValidators(J)}setAsyncValidators(J){this._assignAsyncValidators(J)}addValidators(J){this.setValidators(fn(J,this._rawValidators))}addAsyncValidators(J){this.setAsyncValidators(fn(J,this._rawAsyncValidators))}removeValidators(J){this.setValidators(Un(J,this._rawValidators))}removeAsyncValidators(J){this.setAsyncValidators(Un(J,this._rawAsyncValidators))}hasValidator(J){return Ie(this._rawValidators,J)}hasAsyncValidator(J){return Ie(this._rawAsyncValidators,J)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(J={}){const G=!1===this.touched;this.touched=!0;const ht=J.sourceControl??this;this._parent&&!J.onlySelf&&this._parent.markAsTouched({...J,sourceControl:ht}),G&&!1!==J.emitEvent&&this._events.next(new vt(!0,ht))}markAllAsTouched(J={}){this.markAsTouched({onlySelf:!0,emitEvent:J.emitEvent,sourceControl:this}),this._forEachChild(G=>G.markAllAsTouched(J))}markAsUntouched(J={}){const G=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const ht=J.sourceControl??this;this._forEachChild(me=>{me.markAsUntouched({onlySelf:!0,emitEvent:J.emitEvent,sourceControl:ht})}),this._parent&&!J.onlySelf&&this._parent._updateTouched(J,ht),G&&!1!==J.emitEvent&&this._events.next(new vt(!1,ht))}markAsDirty(J={}){const G=!0===this.pristine;this.pristine=!1;const ht=J.sourceControl??this;this._parent&&!J.onlySelf&&this._parent.markAsDirty({...J,sourceControl:ht}),G&&!1!==J.emitEvent&&this._events.next(new Tt(!1,ht))}markAsPristine(J={}){const G=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const ht=J.sourceControl??this;this._forEachChild(me=>{me.markAsPristine({onlySelf:!0,emitEvent:J.emitEvent})}),this._parent&&!J.onlySelf&&this._parent._updatePristine(J,ht),G&&!1!==J.emitEvent&&this._events.next(new Tt(!0,ht))}markAsPending(J={}){this.status=yn;const G=J.sourceControl??this;!1!==J.emitEvent&&(this._events.next(new Lt(this.status,G)),this.statusChanges.emit(this.status)),this._parent&&!J.onlySelf&&this._parent.markAsPending({...J,sourceControl:G})}disable(J={}){const G=this._parentMarkedDirty(J.onlySelf);this.status=$e,this.errors=null,this._forEachChild(me=>{me.disable({...J,onlySelf:!0})}),this._updateValue();const ht=J.sourceControl??this;!1!==J.emitEvent&&(this._events.next(new Rt(this.value,ht)),this._events.next(new Lt(this.status,ht)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...J,skipPristineCheck:G},this),this._onDisabledChange.forEach(me=>me(!0))}enable(J={}){const G=this._parentMarkedDirty(J.onlySelf);this.status=pn,this._forEachChild(ht=>{ht.enable({...J,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:J.emitEvent}),this._updateAncestors({...J,skipPristineCheck:G},this),this._onDisabledChange.forEach(ht=>ht(!1))}_updateAncestors(J,G){this._parent&&!J.onlySelf&&(this._parent.updateValueAndValidity(J),J.skipPristineCheck||this._parent._updatePristine({},G),this._parent._updateTouched({},G))}setParent(J){this._parent=J}getRawValue(){return this.value}updateValueAndValidity(J={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const ht=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===pn||this.status===yn)&&this._runAsyncValidator(ht,J.emitEvent)}const G=J.sourceControl??this;!1!==J.emitEvent&&(this._events.next(new Rt(this.value,G)),this._events.next(new Lt(this.status,G)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!J.onlySelf&&this._parent.updateValueAndValidity({...J,sourceControl:G})}_updateTreeValidity(J={emitEvent:!0}){this._forEachChild(G=>G._updateTreeValidity(J)),this.updateValueAndValidity({onlySelf:!0,emitEvent:J.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?$e:pn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(J,G){if(this.asyncValidator){this.status=yn,this._hasOwnPendingAsyncValidator={emitEvent:!1!==G};const ht=ge(this.asyncValidator(this));this._asyncValidationSubscription=ht.subscribe(me=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(me,{emitEvent:G,shouldHaveEmitted:J})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const J=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,J}return!1}setErrors(J,G={}){this.errors=J,this._updateControlsErrors(!1!==G.emitEvent,this,G.shouldHaveEmitted)}get(J){let G=J;return null==G||(Array.isArray(G)||(G=G.split(".")),0===G.length)?null:G.reduce((ht,me)=>ht&&ht._find(me),this)}getError(J,G){const ht=G?this.get(G):this;return ht&&ht.errors?ht.errors[J]:null}hasError(J,G){return!!this.getError(J,G)}get root(){let J=this;for(;J._parent;)J=J._parent;return J}_updateControlsErrors(J,G,ht){this.status=this._calculateStatus(),J&&this.statusChanges.emit(this.status),(J||ht)&&this._events.next(new Lt(this.status,G)),this._parent&&this._parent._updateControlsErrors(J,G,ht)}_initObservables(){this.valueChanges=new C.bkB,this.statusChanges=new C.bkB}_calculateStatus(){return this._allControlsDisabled()?$e:this.errors?en:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(yn)?yn:this._anyControlsHaveStatus(en)?en:pn}_anyControlsHaveStatus(J){return this._anyControls(G=>G.status===J)}_anyControlsDirty(){return this._anyControls(J=>J.dirty)}_anyControlsTouched(){return this._anyControls(J=>J.touched)}_updatePristine(J,G){const ht=!this._anyControlsDirty(),me=this.pristine!==ht;this.pristine=ht,this._parent&&!J.onlySelf&&this._parent._updatePristine(J,G),me&&this._events.next(new Tt(this.pristine,G))}_updateTouched(J={},G){this.touched=this._anyControlsTouched(),this._events.next(new vt(this.touched,G)),this._parent&&!J.onlySelf&&this._parent._updateTouched(J,G)}_registerOnCollectionChange(J){this._onCollectionChange=J}_setUpdateStrategy(J){Gt(J)&&null!=J.updateOn&&(this._updateOn=J.updateOn)}_parentMarkedDirty(J){return!J&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(J){return null}_assignValidators(J){this._rawValidators=Array.isArray(J)?J.slice():J,this._composedValidatorFn=function bi(Z){return Array.isArray(Z)?Mt(Z):Z||null}(this._rawValidators)}_assignAsyncValidators(J){this._rawAsyncValidators=Array.isArray(J)?J.slice():J,this._composedAsyncValidatorFn=function Me(Z){return Array.isArray(Z)?Dt(Z):Z||null}(this._rawAsyncValidators)}}class wt extends $t{constructor(J,G,ht){super(ei(G),Fe(ht,G)),this.controls=J,this._initObservables(),this._setUpdateStrategy(G),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(J,G){return this.controls[J]?this.controls[J]:(this.controls[J]=G,G.setParent(this),G._registerOnCollectionChange(this._onCollectionChange),G)}addControl(J,G,ht={}){this.registerControl(J,G),this.updateValueAndValidity({emitEvent:ht.emitEvent}),this._onCollectionChange()}removeControl(J,G={}){this.controls[J]&&this.controls[J]._registerOnCollectionChange(()=>{}),delete this.controls[J],this.updateValueAndValidity({emitEvent:G.emitEvent}),this._onCollectionChange()}setControl(J,G,ht={}){this.controls[J]&&this.controls[J]._registerOnCollectionChange(()=>{}),delete this.controls[J],G&&this.registerControl(J,G),this.updateValueAndValidity({emitEvent:ht.emitEvent}),this._onCollectionChange()}contains(J){return this.controls.hasOwnProperty(J)&&this.controls[J].enabled}setValue(J,G={}){Jt(this,0,J),Object.keys(J).forEach(ht=>{Ce(this,!0,ht),this.controls[ht].setValue(J[ht],{onlySelf:!0,emitEvent:G.emitEvent})}),this.updateValueAndValidity(G)}patchValue(J,G={}){null!=J&&(Object.keys(J).forEach(ht=>{const me=this.controls[ht];me&&me.patchValue(J[ht],{onlySelf:!0,emitEvent:G.emitEvent})}),this.updateValueAndValidity(G))}reset(J={},G={}){this._forEachChild((ht,me)=>{ht.reset(J?J[me]:null,{onlySelf:!0,emitEvent:G.emitEvent})}),this._updatePristine(G,this),this._updateTouched(G,this),this.updateValueAndValidity(G)}getRawValue(){return this._reduceChildren({},(J,G,ht)=>(J[ht]=G.getRawValue(),J))}_syncPendingControls(){let J=this._reduceChildren(!1,(G,ht)=>!!ht._syncPendingControls()||G);return J&&this.updateValueAndValidity({onlySelf:!0}),J}_forEachChild(J){Object.keys(this.controls).forEach(G=>{const ht=this.controls[G];ht&&J(ht,G)})}_setUpControls(){this._forEachChild(J=>{J.setParent(this),J._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(J){for(const[G,ht]of Object.entries(this.controls))if(this.contains(G)&&J(ht))return!0;return!1}_reduceValue(){return this._reduceChildren({},(G,ht,me)=>((ht.enabled||this.disabled)&&(G[me]=ht.value),G))}_reduceChildren(J,G){let ht=J;return this._forEachChild((me,wi)=>{ht=G(ht,me,wi)}),ht}_allControlsDisabled(){for(const J of Object.keys(this.controls))if(this.controls[J].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(J){return this.controls.hasOwnProperty(J)?this.controls[J]:null}}class ai extends wt{}const uo=new C.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>no}),no="always";function ho(Z,J){return[...J.path,Z]}function te(Z,J,G=no){Ye(Z,J),J.valueAccessor.writeValue(Z.value),(Z.disabled||"always"===G)&&J.valueAccessor.setDisabledState?.(Z.disabled),function Cn(Z,J){J.valueAccessor.registerOnChange(G=>{Z._pendingValue=G,Z._pendingChange=!0,Z._pendingDirty=!0,"change"===Z.updateOn&&Qe(Z,J)})}(Z,J),function Hn(Z,J){const G=(ht,me)=>{J.valueAccessor.writeValue(ht),me&&J.viewToModelUpdate(ht)};Z.registerOnChange(G),J._registerOnDestroy(()=>{Z._unregisterOnChange(G)})}(Z,J),function Re(Z,J){J.valueAccessor.registerOnTouched(()=>{Z._pendingTouched=!0,"blur"===Z.updateOn&&Z._pendingChange&&Qe(Z,J),"submit"!==Z.updateOn&&Z.markAsTouched()})}(Z,J),function Pe(Z,J){if(J.valueAccessor.setDisabledState){const G=ht=>{J.valueAccessor.setDisabledState(ht)};Z.registerOnDisabledChange(G),J._registerOnDestroy(()=>{Z._unregisterOnDisabledChange(G)})}}(Z,J)}function Mn(Z,J,G=!0){const ht=()=>{};J.valueAccessor&&(J.valueAccessor.registerOnChange(ht),J.valueAccessor.registerOnTouched(ht)),ve(Z,J),Z&&(J._invokeOnDestroyCallbacks(),Z._registerOnCollectionChange(()=>{}))}function ne(Z,J){Z.forEach(G=>{G.registerOnValidatorChange&&G.registerOnValidatorChange(J)})}function Ye(Z,J){const G=Vt(Z);null!==J.validator?Z.setValidators(dt(G,J.validator)):"function"==typeof G&&Z.setValidators([G]);const ht=Ee(Z);null!==J.asyncValidator?Z.setAsyncValidators(dt(ht,J.asyncValidator)):"function"==typeof ht&&Z.setAsyncValidators([ht]);const me=()=>Z.updateValueAndValidity();ne(J._rawValidators,me),ne(J._rawAsyncValidators,me)}function ve(Z,J){let G=!1;if(null!==Z){if(null!==J.validator){const me=Vt(Z);if(Array.isArray(me)&&me.length>0){const wi=me.filter(ni=>ni!==J.validator);wi.length!==me.length&&(G=!0,Z.setValidators(wi))}}if(null!==J.asyncValidator){const me=Ee(Z);if(Array.isArray(me)&&me.length>0){const wi=me.filter(ni=>ni!==J.asyncValidator);wi.length!==me.length&&(G=!0,Z.setAsyncValidators(wi))}}}const ht=()=>{};return ne(J._rawValidators,ht),ne(J._rawAsyncValidators,ht),G}function Qe(Z,J){Z._pendingDirty&&Z.markAsDirty(),Z.setValue(Z._pendingValue,{emitModelToViewChange:!1}),J.viewToModelUpdate(Z._pendingValue),Z._pendingChange=!1}function fi(Z,J){Ye(Z,J)}function bn(Z,J){if(!Z.hasOwnProperty("model"))return!1;const G=Z.model;return!!G.isFirstChange()||!Object.is(J,G.currentValue)}function Rn(Z,J){Z._syncPendingControls(),J.forEach(G=>{const ht=G.control;"submit"===ht.updateOn&&ht._pendingChange&&(G.viewToModelUpdate(ht._pendingValue),ht._pendingChange=!1)})}function Ei(Z,J){if(!J)return null;let G,ht,me;return Array.isArray(J),J.forEach(wi=>{wi.constructor===Ht?G=wi:function Pn(Z){return Object.getPrototypeOf(Z.constructor)===It}(wi)?ht=wi:me=wi}),me||ht||G||null}const Zr={provide:Fn,useExisting:(0,C.Rfq)(()=>Wr)},vr=Promise.resolve();let Wr=(()=>{class Z extends Fn{get submitted(){return(0,C.O8t)(this.submittedReactive)}constructor(G,ht,me){super(),this.callSetDisabledState=me,this._submitted=(0,C.EWP)(()=>this.submittedReactive()),this.submittedReactive=(0,C.vPA)(!1),this._directives=new Set,this.ngSubmit=new C.bkB,this.form=new wt({},Mt(G),Dt(ht))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(G){vr.then(()=>{const ht=this._findContainer(G.path);G.control=ht.registerControl(G.name,G.control),te(G.control,G,this.callSetDisabledState),G.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(G)})}getControl(G){return this.form.get(G.path)}removeControl(G){vr.then(()=>{const ht=this._findContainer(G.path);ht&&ht.removeControl(G.name),this._directives.delete(G)})}addFormGroup(G){vr.then(()=>{const ht=this._findContainer(G.path),me=new wt({});fi(me,G),ht.registerControl(G.name,me),me.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(G){vr.then(()=>{const ht=this._findContainer(G.path);ht&&ht.removeControl(G.name)})}getFormGroup(G){return this.form.get(G.path)}updateModel(G,ht){vr.then(()=>{this.form.get(G.path).setValue(ht)})}setValue(G){this.control.setValue(G)}onSubmit(G){return this.submittedReactive.set(!0),Rn(this.form,this._directives),this.ngSubmit.emit(G),"dialog"===G?.target?.method}onReset(){this.resetForm()}resetForm(G=void 0){this.form.reset(G),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(G){return G.pop(),G.length?this.form.get(G):this.form}static#t=this.\u0275fac=function(ht){return new(ht||Z)(C.rXU(Le,10),C.rXU(rn,10),C.rXU(uo,8))};static#e=this.\u0275dir=C.FsC({type:Z,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(ht,me){1&ht&&C.bIt("submit",function(ni){return me.onSubmit(ni)})("reset",function(){return me.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[C.Jv_([Zr]),C.Vt3]})}return Z})();function io(Z,J){const G=Z.indexOf(J);G>-1&&Z.splice(G,1)}function Oo(Z){return"object"==typeof Z&&null!==Z&&2===Object.keys(Z).length&&"value"in Z&&"disabled"in Z}const Wi=class extends $t{constructor(J=null,G,ht){super(ei(G),Fe(ht,G)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(J),this._setUpdateStrategy(G),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Gt(G)&&(G.nonNullable||G.initialValueIsDefault)&&(this.defaultValue=Oo(J)?J.value:J)}setValue(J,G={}){this.value=this._pendingValue=J,this._onChange.length&&!1!==G.emitModelToViewChange&&this._onChange.forEach(ht=>ht(this.value,!1!==G.emitViewToModelChange)),this.updateValueAndValidity(G)}patchValue(J,G={}){this.setValue(J,G)}reset(J=this.defaultValue,G={}){this._applyFormState(J),this.markAsPristine(G),this.markAsUntouched(G),this.setValue(this.value,G),this._pendingChange=!1}_updateValue(){}_anyControls(J){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(J){this._onChange.push(J)}_unregisterOnChange(J){io(this._onChange,J)}registerOnDisabledChange(J){this._onDisabledChange.push(J)}_unregisterOnDisabledChange(J){io(this._onDisabledChange,J)}_forEachChild(J){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(J){Oo(J)?(this.value=this._pendingValue=J.value,J.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=J}},Rr={provide:ci,useExisting:(0,C.Rfq)(()=>ls)},Ii=Promise.resolve();let ls=(()=>{class Z extends ci{constructor(G,ht,me,wi,ni,_o){super(),this._changeDetectorRef=ni,this.callSetDisabledState=_o,this.control=new Wi,this._registered=!1,this.name="",this.update=new C.bkB,this._parent=G,this._setValidators(ht),this._setAsyncValidators(me),this.valueAccessor=Ei(0,wi)}ngOnChanges(G){if(this._checkForErrors(),!this._registered||"name"in G){if(this._registered&&(this._checkName(),this.formDirective)){const ht=G.name.previousValue;this.formDirective.removeControl({name:ht,path:this._getPath(ht)})}this._setUpControl()}"isDisabled"in G&&this._updateDisabled(G),bn(G,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(G){this.viewModel=G,this.update.emit(G)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){te(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(G){Ii.then(()=>{this.control.setValue(G,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(G){const ht=G.isDisabled.currentValue,me=0!==ht&&(0,C.L39)(ht);Ii.then(()=>{me&&!this.control.disabled?this.control.disable():!me&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(G){return this._parent?ho(G,this._parent):[G]}static#t=this.\u0275fac=function(ht){return new(ht||Z)(C.rXU(Fn,9),C.rXU(Le,10),C.rXU(rn,10),C.rXU(pt,10),C.rXU(C.gRc,8),C.rXU(uo,8))};static#e=this.\u0275dir=C.FsC({type:Z,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[C.Jv_([Rr]),C.Vt3,C.OA$]})}return Z})(),Fr=(()=>{class Z{static#t=this.\u0275fac=function(ht){return new(ht||Z)};static#e=this.\u0275dir=C.FsC({type:Z,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return Z})();const Id=new C.nKC(""),Fl={provide:ci,useExisting:(0,C.Rfq)(()=>tu)};let tu=(()=>{class Z extends ci{set isDisabled(G){}static#t=this._ngModelWarningSentOnce=!1;constructor(G,ht,me,wi,ni){super(),this._ngModelWarningConfig=wi,this.callSetDisabledState=ni,this.update=new C.bkB,this._ngModelWarningSent=!1,this._setValidators(G),this._setAsyncValidators(ht),this.valueAccessor=Ei(0,me)}ngOnChanges(G){if(this._isControlChanged(G)){const ht=G.form.previousValue;ht&&Mn(ht,this,!1),te(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}bn(G,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Mn(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(G){this.viewModel=G,this.update.emit(G)}_isControlChanged(G){return G.hasOwnProperty("form")}static#e=this.\u0275fac=function(ht){return new(ht||Z)(C.rXU(Le,10),C.rXU(rn,10),C.rXU(pt,10),C.rXU(Id,8),C.rXU(uo,8))};static#n=this.\u0275dir=C.FsC({type:Z,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[C.Jv_([Fl]),C.Vt3,C.OA$]})}return Z})();const Aa={provide:Fn,useExisting:(0,C.Rfq)(()=>eu)};let eu=(()=>{class Z extends Fn{get submitted(){return(0,C.O8t)(this._submittedReactive)}set submitted(G){this._submittedReactive.set(G)}constructor(G,ht,me){super(),this.callSetDisabledState=me,this._submitted=(0,C.EWP)(()=>this._submittedReactive()),this._submittedReactive=(0,C.vPA)(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new C.bkB,this._setValidators(G),this._setAsyncValidators(ht)}ngOnChanges(G){this._checkFormPresent(),G.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ve(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(G){const ht=this.form.get(G.path);return te(ht,G,this.callSetDisabledState),ht.updateValueAndValidity({emitEvent:!1}),this.directives.push(G),ht}getControl(G){return this.form.get(G.path)}removeControl(G){Mn(G.control||null,G,!1),function Ci(Z,J){const G=Z.indexOf(J);G>-1&&Z.splice(G,1)}(this.directives,G)}addFormGroup(G){this._setUpFormContainer(G)}removeFormGroup(G){this._cleanUpFormContainer(G)}getFormGroup(G){return this.form.get(G.path)}addFormArray(G){this._setUpFormContainer(G)}removeFormArray(G){this._cleanUpFormContainer(G)}getFormArray(G){return this.form.get(G.path)}updateModel(G,ht){this.form.get(G.path).setValue(ht)}onSubmit(G){return this._submittedReactive.set(!0),Rn(this.form,this.directives),this.ngSubmit.emit(G),this.form._events.next(new Ze(this.control)),"dialog"===G?.target?.method}onReset(){this.resetForm()}resetForm(G=void 0){this.form.reset(G),this._submittedReactive.set(!1),this.form._events.next(new An(this.form))}_updateDomValue(){this.directives.forEach(G=>{const ht=G.control,me=this.form.get(G.path);ht!==me&&(Mn(ht||null,G),(Z=>Z instanceof Wi)(me)&&(te(me,G,this.callSetDisabledState),G.control=me))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(G){const ht=this.form.get(G.path);fi(ht,G),ht.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(G){if(this.form){const ht=this.form.get(G.path);ht&&function gi(Z,J){return ve(Z,J)}(ht,G)&&ht.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ye(this.form,this),this._oldForm&&ve(this._oldForm,this)}_checkFormPresent(){}static#t=this.\u0275fac=function(ht){return new(ht||Z)(C.rXU(Le,10),C.rXU(rn,10),C.rXU(uo,8))};static#e=this.\u0275dir=C.FsC({type:Z,selectors:[["","formGroup",""]],hostBindings:function(ht,me){1&ht&&C.bIt("submit",function(ni){return me.onSubmit(ni)})("reset",function(){return me.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[C.Jv_([Aa]),C.Vt3,C.OA$]})}return Z})();const Ya={provide:ci,useExisting:(0,C.Rfq)(()=>fl)};let fl=(()=>{class Z extends ci{set isDisabled(G){}static#t=this._ngModelWarningSentOnce=!1;constructor(G,ht,me,wi,ni){super(),this._ngModelWarningConfig=ni,this._added=!1,this.name=null,this.update=new C.bkB,this._ngModelWarningSent=!1,this._parent=G,this._setValidators(ht),this._setAsyncValidators(me),this.valueAccessor=Ei(0,wi)}ngOnChanges(G){this._added||this._setUpControl(),bn(G,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(G){this.viewModel=G,this.update.emit(G)}get path(){return ho(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#e=this.\u0275fac=function(ht){return new(ht||Z)(C.rXU(Fn,13),C.rXU(Le,10),C.rXU(rn,10),C.rXU(pt,10),C.rXU(Id,8))};static#n=this.\u0275dir=C.FsC({type:Z,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[C.Jv_([Ya]),C.Vt3,C.OA$]})}return Z})();function Qr(Z){return"number"==typeof Z?Z:parseInt(Z,10)}let Za=(()=>{class Z{constructor(){this._validator=ke}ngOnChanges(G){if(this.inputName in G){const ht=this.normalizeInput(G[this.inputName].currentValue);this._enabled=this.enabled(ht),this._validator=this._enabled?this.createValidator(ht):ke,this._onChange&&this._onChange()}}validate(G){return this._validator(G)}registerOnValidatorChange(G){this._onChange=G}enabled(G){return null!=G}static#t=this.\u0275fac=function(ht){return new(ht||Z)};static#e=this.\u0275dir=C.FsC({type:Z,features:[C.OA$]})}return Z})();const Ph={provide:Le,useExisting:(0,C.Rfq)(()=>Wo),multi:!0},Vl={provide:Le,useExisting:(0,C.Rfq)(()=>Gu),multi:!0};let Wo=(()=>{class Z extends Za{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=C.L39,this.createValidator=G=>kt}enabled(G){return G}static#t=this.\u0275fac=(()=>{let G;return function(me){return(G||(G=C.xGo(Z)))(me||Z)}})();static#e=this.\u0275dir=C.FsC({type:Z,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(ht,me){2&ht&&C.BMQ("required",me._enabled?"":null)},inputs:{required:"required"},features:[C.Jv_([Ph]),C.Vt3]})}return Z})(),Gu=(()=>{class Z extends Wo{constructor(){super(...arguments),this.createValidator=G=>pe}static#t=this.\u0275fac=(()=>{let G;return function(me){return(G||(G=C.xGo(Z)))(me||Z)}})();static#e=this.\u0275dir=C.FsC({type:Z,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(ht,me){2&ht&&C.BMQ("required",me._enabled?"":null)},features:[C.Jv_([Vl]),C.Vt3]})}return Z})();const Uf={provide:Le,useExisting:(0,C.Rfq)(()=>va),multi:!0};let va=(()=>{class Z extends Za{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=G=>Qr(G),this.createValidator=G=>oe(G)}static#t=this.\u0275fac=(()=>{let G;return function(me){return(G||(G=C.xGo(Z)))(me||Z)}})();static#e=this.\u0275dir=C.FsC({type:Z,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(ht,me){2&ht&&C.BMQ("minlength",me._enabled?me.minlength:null)},inputs:{minlength:"minlength"},features:[C.Jv_([Uf]),C.Vt3]})}return Z})();const hr={provide:Le,useExisting:(0,C.Rfq)(()=>bs),multi:!0};let bs=(()=>{class Z extends Za{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=G=>Qr(G),this.createValidator=G=>Kt(G)}static#t=this.\u0275fac=(()=>{let G;return function(me){return(G||(G=C.xGo(Z)))(me||Z)}})();static#e=this.\u0275dir=C.FsC({type:Z,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(ht,me){2&ht&&C.BMQ("maxlength",me._enabled?me.maxlength:null)},inputs:{maxlength:"maxlength"},features:[C.Jv_([hr]),C.Vt3]})}return Z})(),Pi=(()=>{class Z{static#t=this.\u0275fac=function(ht){return new(ht||Z)};static#e=this.\u0275mod=C.$C({type:Z});static#n=this.\u0275inj=C.G2t({})}return Z})();class _c extends $t{constructor(J,G,ht){super(ei(G),Fe(ht,G)),this.controls=J,this._initObservables(),this._setUpdateStrategy(G),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(J){return this.controls[this._adjustIndex(J)]}push(J,G={}){this.controls.push(J),this._registerControl(J),this.updateValueAndValidity({emitEvent:G.emitEvent}),this._onCollectionChange()}insert(J,G,ht={}){this.controls.splice(J,0,G),this._registerControl(G),this.updateValueAndValidity({emitEvent:ht.emitEvent})}removeAt(J,G={}){let ht=this._adjustIndex(J);ht<0&&(ht=0),this.controls[ht]&&this.controls[ht]._registerOnCollectionChange(()=>{}),this.controls.splice(ht,1),this.updateValueAndValidity({emitEvent:G.emitEvent})}setControl(J,G,ht={}){let me=this._adjustIndex(J);me<0&&(me=0),this.controls[me]&&this.controls[me]._registerOnCollectionChange(()=>{}),this.controls.splice(me,1),G&&(this.controls.splice(me,0,G),this._registerControl(G)),this.updateValueAndValidity({emitEvent:ht.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(J,G={}){Jt(this,0,J),J.forEach((ht,me)=>{Ce(this,!1,me),this.at(me).setValue(ht,{onlySelf:!0,emitEvent:G.emitEvent})}),this.updateValueAndValidity(G)}patchValue(J,G={}){null!=J&&(J.forEach((ht,me)=>{this.at(me)&&this.at(me).patchValue(ht,{onlySelf:!0,emitEvent:G.emitEvent})}),this.updateValueAndValidity(G))}reset(J=[],G={}){this._forEachChild((ht,me)=>{ht.reset(J[me],{onlySelf:!0,emitEvent:G.emitEvent})}),this._updatePristine(G,this),this._updateTouched(G,this),this.updateValueAndValidity(G)}getRawValue(){return this.controls.map(J=>J.getRawValue())}clear(J={}){this.controls.length<1||(this._forEachChild(G=>G._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:J.emitEvent}))}_adjustIndex(J){return J<0?J+this.length:J}_syncPendingControls(){let J=this.controls.reduce((G,ht)=>!!ht._syncPendingControls()||G,!1);return J&&this.updateValueAndValidity({onlySelf:!0}),J}_forEachChild(J){this.controls.forEach((G,ht)=>{J(G,ht)})}_updateValue(){this.value=this.controls.filter(J=>J.enabled||this.disabled).map(J=>J.value)}_anyControls(J){return this.controls.some(G=>G.enabled&&J(G))}_setUpControls(){this._forEachChild(J=>this._registerControl(J))}_allControlsDisabled(){for(const J of this.controls)if(J.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(J){J.setParent(this),J._registerOnCollectionChange(this._onCollectionChange)}_find(J){return this.at(J)??null}}function Ld(Z){return!!Z&&(void 0!==Z.asyncValidators||void 0!==Z.validators||void 0!==Z.updateOn)}let wc=(()=>{class Z{constructor(){this.useNonNullable=!1}get nonNullable(){const G=new Z;return G.useNonNullable=!0,G}group(G,ht=null){const me=this._reduceControls(G);let wi={};return Ld(ht)?wi=ht:null!==ht&&(wi.validators=ht.validator,wi.asyncValidators=ht.asyncValidator),new wt(me,wi)}record(G,ht=null){const me=this._reduceControls(G);return new ai(me,ht)}control(G,ht,me){let wi={};return this.useNonNullable?(Ld(ht)?wi=ht:(wi.validators=ht,wi.asyncValidators=me),new Wi(G,{...wi,nonNullable:!0})):new Wi(G,ht,me)}array(G,ht,me){const wi=G.map(ni=>this._createControl(ni));return new _c(wi,ht,me)}_reduceControls(G){const ht={};return Object.keys(G).forEach(me=>{ht[me]=this._createControl(G[me])}),ht}_createControl(G){return G instanceof Wi||G instanceof $t?G:Array.isArray(G)?this.control(G[0],G.length>1?G[1]:null,G.length>2?G[2]:null):this.control(G)}static#t=this.\u0275fac=function(ht){return new(ht||Z)};static#e=this.\u0275prov=C.jDH({token:Z,factory:Z.\u0275fac,providedIn:"root"})}return Z})(),Nh=(()=>{class Z{static#t=this.\u0275fac=function(ht){return new(ht||Z)};static#e=this.\u0275prov=C.jDH({token:Z,factory:()=>(0,C.WQX)(wc).nonNullable,providedIn:"root"})}return Z})(),Hf=(()=>{class Z extends wc{group(G,ht=null){return super.group(G,ht)}control(G,ht,me){return super.control(G,ht,me)}array(G,ht,me){return super.array(G,ht,me)}static#t=this.\u0275fac=(()=>{let G;return function(me){return(G||(G=C.xGo(Z)))(me||Z)}})();static#e=this.\u0275prov=C.jDH({token:Z,factory:Z.\u0275fac,providedIn:"root"})}return Z})(),Wu=(()=>{class Z{static withConfig(G){return{ngModule:Z,providers:[{provide:uo,useValue:G.callSetDisabledState??no}]}}static#t=this.\u0275fac=function(ht){return new(ht||Z)};static#e=this.\u0275mod=C.$C({type:Z});static#n=this.\u0275inj=C.G2t({imports:[Pi]})}return Z})(),Fd=(()=>{class Z{static withConfig(G){return{ngModule:Z,providers:[{provide:Id,useValue:G.warnOnNgModelWithFormControl??"always"},{provide:uo,useValue:G.callSetDisabledState??no}]}}static#t=this.\u0275fac=function(ht){return new(ht||Z)};static#e=this.\u0275mod=C.$C({type:Z});static#n=this.\u0275inj=C.G2t({imports:[Pi]})}return Z})()},3999:(mn,ae,P)=>{"use strict";P.d(ae,{$z:()=>Qt,Hl:()=>Oe,iY:()=>De});var C=P(3823),H=P(4291),g=P(6582),lt=P(6569);const ct=["mat-button",""],it=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],jt=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],yt=["mat-icon-button",""],Ft=["*"],ue=new H.nKC("MAT_BUTTON_CONFIG"),Le=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let rn=(()=>{class ee{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(ut){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,ut)}get disableRipple(){return this._disableRipple}set disableRipple(ut){this._disableRipple=ut,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(ut){this._disabled=ut,this._updateRippleDisabled()}constructor(ut,ft,Mt,ot){this._elementRef=ut,this._platform=ft,this._ngZone=Mt,this._animationMode=ot,this._focusMonitor=(0,H.WQX)(g.FN),this._rippleLoader=(0,H.WQX)(lt.Ej),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;const Dt=(0,H.WQX)(ue,{optional:!0}),dt=ut.nativeElement,Vt=dt.classList;this.disabledInteractive=Dt?.disabledInteractive??!1,this.color=Dt?.color??null,this._rippleLoader?.configureRipple(dt,{className:"mat-mdc-button-ripple"});for(const{attribute:Ee,mdcClasses:we}of Le)dt.hasAttribute(Ee)&&Vt.add(...we)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(ut="program",ft){ut?this._focusMonitor.focusVia(this._elementRef.nativeElement,ut,ft):this._elementRef.nativeElement.focus(ft)}_getAriaDisabled(){return null!=this.ariaDisabled?this.ariaDisabled:!(!this.disabled||!this.disabledInteractive)||null}_getDisabledAttribute(){return!(this.disabledInteractive||!this.disabled)||null}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#t=this.\u0275fac=function(ft){H.QTQ()};static#e=this.\u0275dir=H.FsC({type:ee,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",H.L39],disabled:[2,"disabled","disabled",H.L39],ariaDisabled:[2,"aria-disabled","ariaDisabled",H.L39],disabledInteractive:[2,"disabledInteractive","disabledInteractive",H.L39]},features:[H.GFd]})}return ee})(),Qt=(()=>{class ee extends rn{constructor(ut,ft,Mt,ot){super(ut,ft,Mt,ot)}static#t=this.\u0275fac=function(ft){return new(ft||ee)(H.rXU(H.aKT),H.rXU(C.OD),H.rXU(H.SKi),H.rXU(H.bc$,8))};static#e=this.\u0275cmp=H.VBU({type:ee,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(ft,Mt){2&ft&&(H.BMQ("disabled",Mt._getDisabledAttribute())("aria-disabled",Mt._getAriaDisabled()),H.HbH(Mt.color?"mat-"+Mt.color:""),H.AVh("mat-mdc-button-disabled",Mt.disabled)("mat-mdc-button-disabled-interactive",Mt.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===Mt._animationMode)("mat-unthemed",!Mt.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[H.Vt3,H.aNF],attrs:ct,ngContentSelectors:jt,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(ft,Mt){1&ft&&(H.NAR(it),H.nrm(0,"span",0),H.SdG(1),H.j41(2,"span",1),H.SdG(3,1),H.k0s(),H.SdG(4,2),H.nrm(5,"span",2)(6,"span",3)),2&ft&&H.AVh("mdc-button__ripple",!Mt._isFab)("mdc-fab__ripple",Mt._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-app-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-app-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-app-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-app-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-app-level1));height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-app-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-app-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-app-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-app-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-app-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-app-corner-full));border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-app-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-app-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return ee})(),De=(()=>{class ee extends rn{constructor(ut,ft,Mt,ot){super(ut,ft,Mt,ot),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static#t=this.\u0275fac=function(ft){return new(ft||ee)(H.rXU(H.aKT),H.rXU(C.OD),H.rXU(H.SKi),H.rXU(H.bc$,8))};static#e=this.\u0275cmp=H.VBU({type:ee,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(ft,Mt){2&ft&&(H.BMQ("disabled",Mt._getDisabledAttribute())("aria-disabled",Mt._getAriaDisabled()),H.HbH(Mt.color?"mat-"+Mt.color:""),H.AVh("mat-mdc-button-disabled",Mt.disabled)("mat-mdc-button-disabled-interactive",Mt.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===Mt._animationMode)("mat-unthemed",!Mt.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[H.Vt3,H.aNF],attrs:yt,ngContentSelectors:Ft,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(ft,Mt){1&ft&&(H.NAR(),H.nrm(0,"span",0),H.SdG(1),H.nrm(2,"span",1)(3,"span",2))},styles:['.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);color:var(--mdc-icon-button-icon-color, var(--mat-app-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return ee})(),Oe=(()=>{class ee{static#t=this.\u0275fac=function(ft){return new(ft||ee)};static#e=this.\u0275mod=H.$C({type:ee});static#n=this.\u0275inj=H.G2t({imports:[lt.yE,lt.pZ,lt.yE]})}return ee})()},6569:(mn,ae,P)=>{"use strict";P.d(ae,{MJ:()=>Mt,es:()=>Ri,de:()=>ot,Ju:()=>ut,QC:()=>Sn,is:()=>je,$E:()=>Ge,yE:()=>pe,wT:()=>en,Sy:()=>Bn,MI:()=>pn,wg:()=>ie,O5:()=>be,r6:()=>Wt,Ej:()=>ei,pZ:()=>qe,ug:()=>Nt,X0:()=>Oe,tO:()=>bi,jb:()=>yn,TL:()=>$e});var C=P(4291),H=P(6582),g=P(4700),ct=P(9284),it=P(3823),jt=P(4498),It=P(1071),pt=P(2675);const Pt=["text"],yt=[[["mat-icon"]],"*"],Ft=["mat-icon","*"];function Ht(Fe,Me){if(1&Fe&&C.nrm(0,"mat-pseudo-checkbox",1),2&Fe){const Gt=C.XpG();C.Y8G("disabled",Gt.disabled)("state",Gt.selected?"checked":"unchecked")}}function ue(Fe,Me){if(1&Fe&&C.nrm(0,"mat-pseudo-checkbox",3),2&Fe){const Gt=C.XpG();C.Y8G("disabled",Gt.disabled)}}function ye(Fe,Me){if(1&Fe&&(C.j41(0,"span",4),C.EFF(1),C.k0s()),2&Fe){const Gt=C.XpG();C.R7$(),C.SpI("(",Gt.group.label,")")}}const Le=["mat-internal-form-field",""],rn=["*"],kt=new C.nKC("mat-sanity-checks",{providedIn:"root",factory:function Ut(){return!0}});let pe=(()=>{class Fe{constructor(Gt,Ce,Jt){this._sanityChecks=Ce,this._document=Jt,this._hasDoneGlobalChecks=!1,Gt._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(Gt){return!(0,it.v8)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[Gt])}static#t=this.\u0275fac=function(Ce){return new(Ce||Fe)(C.KVO(H.Q_),C.KVO(kt,8),C.KVO(ct.qQ))};static#e=this.\u0275mod=C.$C({type:Fe});static#n=this.\u0275inj=C.G2t({imports:[g.jI,g.jI]})}return Fe})();class Oe{constructor(Me,Gt,Ce,Jt,$t){this._defaultMatcher=Me,this.ngControl=Gt,this._parentFormGroup=Ce,this._parentForm=Jt,this._stateChanges=$t,this.errorState=!1}updateErrorState(){const Me=this.errorState,Gt=this._parentFormGroup||this._parentForm,Ce=this.matcher||this._defaultMatcher,Jt=this.ngControl?this.ngControl.control:null,$t=Ce?.isErrorState(Jt,Gt)??!1;$t!==Me&&(this.errorState=$t,this._stateChanges.next())}}const ut=new C.nKC("MAT_DATE_LOCALE",{providedIn:"root",factory:function ft(){return(0,C.WQX)(C.xe9)}});class Mt{constructor(){this._localeChanges=new It.B,this.localeChanges=this._localeChanges}getValidDateOrNull(Me){return this.isDateInstance(Me)&&this.isValid(Me)?Me:null}deserialize(Me){return null==Me||this.isDateInstance(Me)&&this.isValid(Me)?Me:this.invalid()}setLocale(Me){this.locale=Me,this._localeChanges.next()}compareDate(Me,Gt){return this.getYear(Me)-this.getYear(Gt)||this.getMonth(Me)-this.getMonth(Gt)||this.getDate(Me)-this.getDate(Gt)}sameDate(Me,Gt){if(Me&&Gt){let Ce=this.isValid(Me),Jt=this.isValid(Gt);return Ce&&Jt?!this.compareDate(Me,Gt):Ce==Jt}return Me==Gt}clampDate(Me,Gt,Ce){return Gt&&this.compareDate(Me,Gt)<0?Gt:Ce&&this.compareDate(Me,Ce)>0?Ce:Me}}const ot=new C.nKC("mat-date-formats");let Ri=(()=>{class Fe{isErrorState(Gt,Ce){return!!(Gt&&Gt.invalid&&(Gt.touched||Ce&&Ce.submitted))}static#t=this.\u0275fac=function(Ce){return new(Ce||Fe)};static#e=this.\u0275prov=C.jDH({token:Fe,factory:Fe.\u0275fac,providedIn:"root"})}return Fe})();var Ni=function(Fe){return Fe[Fe.FADING_IN=0]="FADING_IN",Fe[Fe.VISIBLE=1]="VISIBLE",Fe[Fe.FADING_OUT=2]="FADING_OUT",Fe[Fe.HIDDEN=3]="HIDDEN",Fe}(Ni||{});class Vi{constructor(Me,Gt,Ce,Jt=!1){this._renderer=Me,this.element=Gt,this.config=Ce,this._animationForciblyDisabledThroughCss=Jt,this.state=Ni.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const Tn=(0,it.BQ)({passive:!0,capture:!0});class er{constructor(){this._events=new Map,this._delegateEventHandler=Me=>{const Gt=(0,it.Fb)(Me);Gt&&this._events.get(Me.type)?.forEach((Ce,Jt)=>{(Jt===Gt||Jt.contains(Gt))&&Ce.forEach($t=>$t.handleEvent(Me))})}}addHandler(Me,Gt,Ce,Jt){const $t=this._events.get(Gt);if($t){const wt=$t.get(Ce);wt?wt.add(Jt):$t.set(Ce,new Set([Jt]))}else this._events.set(Gt,new Map([[Ce,new Set([Jt])]])),Me.runOutsideAngular(()=>{document.addEventListener(Gt,this._delegateEventHandler,Tn)})}removeHandler(Me,Gt,Ce){const Jt=this._events.get(Me);if(!Jt)return;const $t=Jt.get(Gt);$t&&($t.delete(Ce),0===$t.size&&Jt.delete(Gt),0===Jt.size&&(this._events.delete(Me),document.removeEventListener(Me,this._delegateEventHandler,Tn)))}}const ur={enterDuration:225,exitDuration:150},Ir=(0,it.BQ)({passive:!0,capture:!0}),tn=["mousedown","touchstart"],mt=["mouseup","mouseleave","touchend","touchcancel"];class Nt{static#t=this._eventManager=new er;constructor(Me,Gt,Ce,Jt){this._target=Me,this._ngZone=Gt,this._platform=Jt,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,Jt.isBrowser&&(this._containerElement=(0,jt.i8)(Ce))}fadeInRipple(Me,Gt,Ce={}){const Jt=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),$t={...ur,...Ce.animation};Ce.centered&&(Me=Jt.left+Jt.width/2,Gt=Jt.top+Jt.height/2);const wt=Ce.radius||function fe(Fe,Me,Gt){const Ce=Math.max(Math.abs(Fe-Gt.left),Math.abs(Fe-Gt.right)),Jt=Math.max(Math.abs(Me-Gt.top),Math.abs(Me-Gt.bottom));return Math.sqrt(Ce*Ce+Jt*Jt)}(Me,Gt,Jt),qt=Me-Jt.left,Ve=Gt-Jt.top,Xe=$t.enterDuration,ai=document.createElement("div");ai.classList.add("mat-ripple-element"),ai.style.left=qt-wt+"px",ai.style.top=Ve-wt+"px",ai.style.height=2*wt+"px",ai.style.width=2*wt+"px",null!=Ce.color&&(ai.style.backgroundColor=Ce.color),ai.style.transitionDuration=`${Xe}ms`,this._containerElement.appendChild(ai);const Ur=window.getComputedStyle(ai),no=Ur.transitionDuration,ho="none"===Ur.transitionProperty||"0s"===no||"0s, 0s"===no||0===Jt.width&&0===Jt.height,te=new Vi(this,ai,Ce,ho);ai.style.transform="scale3d(1, 1, 1)",te.state=Ni.FADING_IN,Ce.persistent||(this._mostRecentTransientRipple=te);let Mn=null;return!ho&&(Xe||$t.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const ne=()=>{Mn&&(Mn.fallbackTimer=null),clearTimeout(Ye),this._finishRippleTransition(te)},Pe=()=>this._destroyRipple(te),Ye=setTimeout(Pe,Xe+100);ai.addEventListener("transitionend",ne),ai.addEventListener("transitioncancel",Pe),Mn={onTransitionEnd:ne,onTransitionCancel:Pe,fallbackTimer:Ye}}),this._activeRipples.set(te,Mn),(ho||!Xe)&&this._finishRippleTransition(te),te}fadeOutRipple(Me){if(Me.state===Ni.FADING_OUT||Me.state===Ni.HIDDEN)return;const Gt=Me.element,Ce={...ur,...Me.config.animation};Gt.style.transitionDuration=`${Ce.exitDuration}ms`,Gt.style.opacity="0",Me.state=Ni.FADING_OUT,(Me._animationForciblyDisabledThroughCss||!Ce.exitDuration)&&this._finishRippleTransition(Me)}fadeOutAll(){this._getActiveRipples().forEach(Me=>Me.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(Me=>{Me.config.persistent||Me.fadeOut()})}setupTriggerEvents(Me){const Gt=(0,jt.i8)(Me);!this._platform.isBrowser||!Gt||Gt===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=Gt,tn.forEach(Ce=>{Nt._eventManager.addHandler(this._ngZone,Ce,Gt,this)}))}handleEvent(Me){"mousedown"===Me.type?this._onMousedown(Me):"touchstart"===Me.type?this._onTouchStart(Me):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{mt.forEach(Gt=>{this._triggerElement.addEventListener(Gt,this,Ir)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(Me){Me.state===Ni.FADING_IN?this._startFadeOutTransition(Me):Me.state===Ni.FADING_OUT&&this._destroyRipple(Me)}_startFadeOutTransition(Me){const Gt=Me===this._mostRecentTransientRipple,{persistent:Ce}=Me.config;Me.state=Ni.VISIBLE,!Ce&&(!Gt||!this._isPointerDown)&&Me.fadeOut()}_destroyRipple(Me){const Gt=this._activeRipples.get(Me)??null;this._activeRipples.delete(Me),this._activeRipples.size||(this._containerRect=null),Me===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),Me.state=Ni.HIDDEN,null!==Gt&&(Me.element.removeEventListener("transitionend",Gt.onTransitionEnd),Me.element.removeEventListener("transitioncancel",Gt.onTransitionCancel),null!==Gt.fallbackTimer&&clearTimeout(Gt.fallbackTimer)),Me.element.remove()}_onMousedown(Me){const Gt=(0,H._G)(Me),Ce=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!Gt&&!Ce&&(this._isPointerDown=!0,this.fadeInRipple(Me.clientX,Me.clientY,this._target.rippleConfig))}_onTouchStart(Me){if(!this._target.rippleDisabled&&!(0,H.w6)(Me)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const Gt=Me.changedTouches;if(Gt)for(let Ce=0;Ce<Gt.length;Ce++)this.fadeInRipple(Gt[Ce].clientX,Gt[Ce].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(Me=>{!Me.config.persistent&&(Me.state===Ni.VISIBLE||Me.config.terminateOnPointerUp&&Me.state===Ni.FADING_IN)&&Me.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const Me=this._triggerElement;Me&&(tn.forEach(Gt=>Nt._eventManager.removeHandler(Gt,Me,this)),this._pointerUpEventsRegistered&&(mt.forEach(Gt=>Me.removeEventListener(Gt,this,Ir)),this._pointerUpEventsRegistered=!1))}}const Ge=new C.nKC("mat-ripple-global-options");let Wt=(()=>{class Fe{get disabled(){return this._disabled}set disabled(Gt){Gt&&this.fadeOutAllNonPersistent(),this._disabled=Gt,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(Gt){this._trigger=Gt,this._setupTriggerEventsIfEnabled()}constructor(Gt,Ce,Jt,$t,wt){this._elementRef=Gt,this._animationMode=wt,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=$t||{},this._rippleRenderer=new Nt(this,Ce,Gt,Jt)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(Gt,Ce=0,Jt){return"number"==typeof Gt?this._rippleRenderer.fadeInRipple(Gt,Ce,{...this.rippleConfig,...Jt}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...Gt})}static#t=this.\u0275fac=function(Ce){return new(Ce||Fe)(C.rXU(C.aKT),C.rXU(C.SKi),C.rXU(it.OD),C.rXU(Ge,8),C.rXU(C.bc$,8))};static#e=this.\u0275dir=C.FsC({type:Fe,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(Ce,Jt){2&Ce&&C.AVh("mat-ripple-unbounded",Jt.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}return Fe})(),qe=(()=>{class Fe{static#t=this.\u0275fac=function(Ce){return new(Ce||Fe)};static#e=this.\u0275mod=C.$C({type:Fe});static#n=this.\u0275inj=C.G2t({imports:[pe,pe]})}return Fe})(),ie=(()=>{class Fe{constructor(Gt){this._animationMode=Gt,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#t=this.\u0275fac=function(Ce){return new(Ce||Fe)(C.rXU(C.bc$,8))};static#e=this.\u0275cmp=C.VBU({type:Fe,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(Ce,Jt){2&Ce&&C.AVh("mat-pseudo-checkbox-indeterminate","indeterminate"===Jt.state)("mat-pseudo-checkbox-checked","checked"===Jt.state)("mat-pseudo-checkbox-disabled",Jt.disabled)("mat-pseudo-checkbox-minimal","minimal"===Jt.appearance)("mat-pseudo-checkbox-full","full"===Jt.appearance)("_mat-animation-noopable","NoopAnimations"===Jt._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},standalone:!0,features:[C.aNF],decls:0,vars:0,template:function(Ce,Jt){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color, var(--mat-app-primary))}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color, var(--mat-app-on-surface-variant));border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color, var(--mat-app-primary));border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return Fe})(),be=(()=>{class Fe{static#t=this.\u0275fac=function(Ce){return new(Ce||Fe)};static#e=this.\u0275mod=C.$C({type:Fe});static#n=this.\u0275inj=C.G2t({imports:[pe]})}return Fe})();const je=new C.nKC("MAT_OPTION_PARENT_COMPONENT"),Sn=new C.nKC("MatOptgroup");let xe=0;class pn{constructor(Me,Gt=!1){this.source=Me,this.isUserInput=Gt}}let en=(()=>{class Fe{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(Gt){this._disabled=Gt}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(Gt,Ce,Jt,$t){this._element=Gt,this._changeDetectorRef=Ce,this._parent=Jt,this.group=$t,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+xe++,this.onSelectionChange=new C.bkB,this._stateChanges=new It.B}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(Gt=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),Gt&&this._emitSelectionChangeEvent())}deselect(Gt=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),Gt&&this._emitSelectionChangeEvent())}focus(Gt,Ce){const Jt=this._getHostElement();"function"==typeof Jt.focus&&Jt.focus(Ce)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(Gt){(Gt.keyCode===pt.Fm||Gt.keyCode===pt.t6)&&!(0,pt.rp)(Gt)&&(this._selectViaInteraction(),Gt.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const Gt=this.viewValue;Gt!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=Gt)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(Gt=!1){this.onSelectionChange.emit(new pn(this,Gt))}static#t=this.\u0275fac=function(Ce){return new(Ce||Fe)(C.rXU(C.aKT),C.rXU(C.gRc),C.rXU(je,8),C.rXU(Sn,8))};static#e=this.\u0275cmp=C.VBU({type:Fe,selectors:[["mat-option"]],viewQuery:function(Ce,Jt){if(1&Ce&&C.GBs(Pt,7),2&Ce){let $t;C.mGM($t=C.lsd())&&(Jt._text=$t.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(Ce,Jt){1&Ce&&C.bIt("click",function(){return Jt._selectViaInteraction()})("keydown",function(wt){return Jt._handleKeydown(wt)}),2&Ce&&(C.Mr5("id",Jt.id),C.BMQ("aria-selected",Jt.selected)("aria-disabled",Jt.disabled.toString()),C.AVh("mdc-list-item--selected",Jt.selected)("mat-mdc-option-multiple",Jt.multiple)("mat-mdc-option-active",Jt.active)("mdc-list-item--disabled",Jt.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",C.L39]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],standalone:!0,features:[C.GFd,C.aNF],ngContentSelectors:Ft,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(Ce,Jt){1&Ce&&(C.NAR(yt),C.DNE(0,Ht,1,2,"mat-pseudo-checkbox",1),C.SdG(1),C.j41(2,"span",2,0),C.SdG(4,1),C.k0s(),C.DNE(5,ue,1,1,"mat-pseudo-checkbox",3)(6,ye,2,1,"span",4),C.nrm(7,"div",5)),2&Ce&&(C.vxM(Jt.multiple?0:-1),C.R7$(5),C.vxM(Jt.multiple||!Jt.selected||Jt.hideSingleSelectionIndicator?-1:5),C.R7$(),C.vxM(Jt.group&&Jt.group._inert?6:-1),C.R7$(),C.Y8G("matRippleTrigger",Jt._getHostElement())("matRippleDisabled",Jt.disabled||Jt.disableRipple))},dependencies:[ie,Wt],styles:['.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-option-label-text-font, var(--mat-app-label-large-font));line-height:var(--mat-option-label-text-line-height, var(--mat-app-label-large-line-height));font-size:var(--mat-option-label-text-size, var(--mat-app-body-large-size));letter-spacing:var(--mat-option-label-text-tracking, var(--mat-app-label-large-tracking));font-weight:var(--mat-option-label-text-weight, var(--mat-app-body-large-weight))}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color);outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color, var(--mat-app-on-secondary-container))}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color, var(--mat-app-secondary-container))}.mat-mdc-option .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-option-selected-state-label-text-color, var(--mat-app-on-secondary-container))}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return Fe})();function yn(Fe,Me,Gt){if(Gt.length){let Ce=Me.toArray(),Jt=Gt.toArray(),$t=0;for(let wt=0;wt<Fe+1;wt++)Ce[wt].group&&Ce[wt].group===Jt[$t]&&$t++;return $t}return 0}function $e(Fe,Me,Gt,Ce){return Fe<Gt?Fe:Fe+Me>Gt+Ce?Math.max(0,Fe-Ce+Me):Gt}let Bn=(()=>{class Fe{static#t=this.\u0275fac=function(Ce){return new(Ce||Fe)};static#e=this.\u0275mod=C.$C({type:Fe});static#n=this.\u0275inj=C.G2t({imports:[qe,pe,be]})}return Fe})();const Rt={capture:!0},Tt=["focus","mousedown","mouseenter","touchstart"],vt="mat-ripple-loader-uninitialized",Lt="mat-ripple-loader-class-name",Ze="mat-ripple-loader-centered",An="mat-ripple-loader-disabled";let ei=(()=>{class Fe{constructor(){this._document=(0,C.WQX)(ct.qQ,{optional:!0}),this._animationMode=(0,C.WQX)(C.bc$,{optional:!0}),this._globalRippleOptions=(0,C.WQX)(Ge,{optional:!0}),this._platform=(0,C.WQX)(it.OD),this._ngZone=(0,C.WQX)(C.SKi),this._hosts=new Map,this._onInteraction=Gt=>{const Ce=(0,it.Fb)(Gt);if(Ce instanceof HTMLElement){const Jt=Ce.closest(`[${vt}="${this._globalRippleOptions?.namespace??""}"]`);Jt&&this._createRipple(Jt)}},this._ngZone.runOutsideAngular(()=>{for(const Gt of Tt)this._document?.addEventListener(Gt,this._onInteraction,Rt)})}ngOnDestroy(){const Gt=this._hosts.keys();for(const Ce of Gt)this.destroyRipple(Ce);for(const Ce of Tt)this._document?.removeEventListener(Ce,this._onInteraction,Rt)}configureRipple(Gt,Ce){Gt.setAttribute(vt,this._globalRippleOptions?.namespace??""),(Ce.className||!Gt.hasAttribute(Lt))&&Gt.setAttribute(Lt,Ce.className||""),Ce.centered&&Gt.setAttribute(Ze,""),Ce.disabled&&Gt.setAttribute(An,"")}getRipple(Gt){return this._hosts.get(Gt)||this._createRipple(Gt)}setDisabled(Gt,Ce){const Jt=this._hosts.get(Gt);Jt?Jt.disabled=Ce:Ce?Gt.setAttribute(An,""):Gt.removeAttribute(An)}_createRipple(Gt){if(!this._document)return;const Ce=this._hosts.get(Gt);if(Ce)return Ce;Gt.querySelector(".mat-ripple")?.remove();const Jt=this._document.createElement("span");Jt.classList.add("mat-ripple",Gt.getAttribute(Lt)),Gt.append(Jt);const $t=new Wt(new C.aKT(Jt),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return $t._isInitialized=!0,$t.trigger=Gt,$t.centered=Gt.hasAttribute(Ze),$t.disabled=Gt.hasAttribute(An),this.attachRipple(Gt,$t),$t}attachRipple(Gt,Ce){Gt.removeAttribute(vt),this._hosts.set(Gt,Ce)}destroyRipple(Gt){const Ce=this._hosts.get(Gt);Ce&&(Ce.ngOnDestroy(),this._hosts.delete(Gt))}static#t=this.\u0275fac=function(Ce){return new(Ce||Fe)};static#e=this.\u0275prov=C.jDH({token:Fe,factory:Fe.\u0275fac,providedIn:"root"})}return Fe})(),bi=(()=>{class Fe{static#t=this.\u0275fac=function(Ce){return new(Ce||Fe)};static#e=this.\u0275cmp=C.VBU({type:Fe,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(Ce,Jt){2&Ce&&C.AVh("mdc-form-field--align-end","before"===Jt.labelPosition)},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[C.aNF],attrs:Le,ngContentSelectors:rn,decls:1,vars:0,template:function(Ce,Jt){1&Ce&&(C.NAR(),C.SdG(0))},styles:[".mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}"],encapsulation:2,changeDetection:0})}return Fe})()},6627:(mn,ae,P)=>{"use strict";P.d(ae,{Vh:()=>Un,bZ:()=>Ni,E7:()=>Ir,tx:()=>Tn,Yi:()=>kr,hM:()=>Nt,CP:()=>Ie,BI:()=>ur});var C=P(3788),H=P(9284),g=P(4291),lt=P(6582),ct=P(3823),it=P(3068),jt=P(2675),It=P(1071),pt=P(3777),bt=P(3204),At=P(4700),Pt=P(613);function yt(Wt,qe){}class Ft{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let ue=(()=>{class Wt extends it.lb{constructor(ie,be,je,on,Sn,si,xe,pn){super(),this._elementRef=ie,this._focusTrapFactory=be,this._config=on,this._interactivityChecker=Sn,this._ngZone=si,this._overlayRef=xe,this._focusMonitor=pn,this._platform=(0,g.WQX)(ct.OD),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=(0,g.WQX)(g.gRc),this._injector=(0,g.WQX)(g.zZn),this._isDestroyed=!1,this.attachDomPortal=en=>{this._portalOutlet.hasAttached();const yn=this._portalOutlet.attachDomPortal(en);return this._contentAttached(),yn},this._document=je,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(ie){this._ariaLabelledByQueue.push(ie),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(ie){const be=this._ariaLabelledByQueue.indexOf(ie);be>-1&&(this._ariaLabelledByQueue.splice(be,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(ie){this._portalOutlet.hasAttached();const be=this._portalOutlet.attachComponentPortal(ie);return this._contentAttached(),be}attachTemplatePortal(ie){this._portalOutlet.hasAttached();const be=this._portalOutlet.attachTemplatePortal(ie);return this._contentAttached(),be}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(ie,be){this._interactivityChecker.isFocusable(ie)||(ie.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const je=()=>{ie.removeEventListener("blur",je),ie.removeEventListener("mousedown",je),ie.removeAttribute("tabindex")};ie.addEventListener("blur",je),ie.addEventListener("mousedown",je)})),ie.focus(be)}_focusByCssSelector(ie,be){let je=this._elementRef.nativeElement.querySelector(ie);je&&this._forceFocus(je,be)}_trapFocus(){this._isDestroyed||(0,g.mal)(()=>{const ie=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||ie.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}},{injector:this._injector})}_restoreFocus(){const ie=this._config.restoreFocus;let be=null;if("string"==typeof ie?be=this._document.querySelector(ie):"boolean"==typeof ie?be=ie?this._elementFocusedBeforeDialogWasOpened:null:ie&&(be=ie),this._config.restoreFocus&&be&&"function"==typeof be.focus){const je=(0,ct.vc)(),on=this._elementRef.nativeElement;(!je||je===this._document.body||je===on||on.contains(je))&&(this._focusMonitor?(this._focusMonitor.focusVia(be,this._closeInteractionType),this._closeInteractionType=null):be.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const ie=this._elementRef.nativeElement,be=(0,ct.vc)();return ie===be||ie.contains(be)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,ct.vc)()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#t=this.\u0275fac=function(be){return new(be||Wt)(g.rXU(g.aKT),g.rXU(lt.GX),g.rXU(H.qQ,8),g.rXU(Ft),g.rXU(lt.Z7),g.rXU(g.SKi),g.rXU(C.yY),g.rXU(lt.FN))};static#e=this.\u0275cmp=g.VBU({type:Wt,selectors:[["cdk-dialog-container"]],viewQuery:function(be,je){if(1&be&&g.GBs(it.I3,7),2&be){let on;g.mGM(on=g.lsd())&&(je._portalOutlet=on.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(be,je){2&be&&g.BMQ("id",je._config.id||null)("role",je._config.role)("aria-modal",je._config.ariaModal)("aria-labelledby",je._config.ariaLabel?null:je._ariaLabelledByQueue[0])("aria-label",je._config.ariaLabel)("aria-describedby",je._config.ariaDescribedBy||null)},standalone:!0,features:[g.Vt3,g.aNF],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(be,je){1&be&&g.DNE(0,yt,0,0,"ng-template",0)},dependencies:[it.I3],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return Wt})();class ye{constructor(qe,ie){this.overlayRef=qe,this.config=ie,this.closed=new It.B,this.disableClose=ie.disableClose,this.backdropClick=qe.backdropClick(),this.keydownEvents=qe.keydownEvents(),this.outsidePointerEvents=qe.outsidePointerEvents(),this.id=ie.id,this.keydownEvents.subscribe(be=>{be.keyCode===jt._f&&!this.disableClose&&!(0,jt.rp)(be)&&(be.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=qe.detachments().subscribe(()=>{!1!==ie.closeOnOverlayDetachments&&this.close()})}close(qe,ie){if(this.containerInstance){const be=this.closed;this.containerInstance._closeInteractionType=ie?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),be.next(qe),be.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(qe="",ie=""){return this.overlayRef.updateSize({width:qe,height:ie}),this}addPanelClass(qe){return this.overlayRef.addPanelClass(qe),this}removePanelClass(qe){return this.overlayRef.removePanelClass(qe),this}}const Le=new g.nKC("DialogScrollStrategy",{providedIn:"root",factory:()=>{const Wt=(0,g.WQX)(C.hJ);return()=>Wt.scrollStrategies.block()}}),rn=new g.nKC("DialogData"),_e=new g.nKC("DefaultDialogConfig");let Ut=0,kt=(()=>{class Wt{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(ie,be,je,on,Sn,si){this._overlay=ie,this._injector=be,this._defaultOptions=je,this._parentDialog=on,this._overlayContainer=Sn,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new It.B,this._afterOpenedAtThisLevel=new It.B,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,pt.v)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,Pt.Z)(void 0))),this._scrollStrategy=si}open(ie,be){(be={...this._defaultOptions||new Ft,...be}).id=be.id||"cdk-dialog-"+Ut++,be.id&&this.getDialogById(be.id);const on=this._getOverlayConfig(be),Sn=this._overlay.create(on),si=new ye(Sn,be),xe=this._attachContainer(Sn,si,be);return si.containerInstance=xe,this._attachDialogContent(ie,si,xe,be),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(si),si.closed.subscribe(()=>this._removeOpenDialog(si,!0)),this.afterOpened.next(si),si}closeAll(){pe(this.openDialogs,ie=>ie.close())}getDialogById(ie){return this.openDialogs.find(be=>be.id===ie)}ngOnDestroy(){pe(this._openDialogsAtThisLevel,ie=>{!1===ie.config.closeOnDestroy&&this._removeOpenDialog(ie,!1)}),pe(this._openDialogsAtThisLevel,ie=>ie.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(ie){const be=new C.rR({positionStrategy:ie.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:ie.scrollStrategy||this._scrollStrategy(),panelClass:ie.panelClass,hasBackdrop:ie.hasBackdrop,direction:ie.direction,minWidth:ie.minWidth,minHeight:ie.minHeight,maxWidth:ie.maxWidth,maxHeight:ie.maxHeight,width:ie.width,height:ie.height,disposeOnNavigation:ie.closeOnNavigation});return ie.backdropClass&&(be.backdropClass=ie.backdropClass),be}_attachContainer(ie,be,je){const on=je.injector||je.viewContainerRef?.injector,Sn=[{provide:Ft,useValue:je},{provide:ye,useValue:be},{provide:C.yY,useValue:ie}];let si;je.container?"function"==typeof je.container?si=je.container:(si=je.container.type,Sn.push(...je.container.providers(je))):si=ue;const xe=new it.A8(si,je.viewContainerRef,g.zZn.create({parent:on||this._injector,providers:Sn}),je.componentFactoryResolver);return ie.attach(xe).instance}_attachDialogContent(ie,be,je,on){if(ie instanceof g.C4Q){const Sn=this._createInjector(on,be,je,void 0);let si={$implicit:on.data,dialogRef:be};on.templateContext&&(si={...si,..."function"==typeof on.templateContext?on.templateContext():on.templateContext}),je.attachTemplatePortal(new it.VA(ie,null,si,Sn))}else{const Sn=this._createInjector(on,be,je,this._injector),si=je.attachComponentPortal(new it.A8(ie,on.viewContainerRef,Sn,on.componentFactoryResolver));be.componentRef=si,be.componentInstance=si.instance}}_createInjector(ie,be,je,on){const Sn=ie.injector||ie.viewContainerRef?.injector,si=[{provide:rn,useValue:ie.data},{provide:ye,useValue:be}];return ie.providers&&("function"==typeof ie.providers?si.push(...ie.providers(be,ie,je)):si.push(...ie.providers)),ie.direction&&(!Sn||!Sn.get(At.dS,null,{optional:!0}))&&si.push({provide:At.dS,useValue:{value:ie.direction,change:(0,bt.of)()}}),g.zZn.create({parent:Sn||on,providers:si})}_removeOpenDialog(ie,be){const je=this.openDialogs.indexOf(ie);je>-1&&(this.openDialogs.splice(je,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((on,Sn)=>{on?Sn.setAttribute("aria-hidden",on):Sn.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),be&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const ie=this._overlayContainer.getContainerElement();if(ie.parentElement){const be=ie.parentElement.children;for(let je=be.length-1;je>-1;je--){const on=be[je];on!==ie&&"SCRIPT"!==on.nodeName&&"STYLE"!==on.nodeName&&!on.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(on,on.getAttribute("aria-hidden")),on.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const ie=this._parentDialog;return ie?ie._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#t=this.\u0275fac=function(be){return new(be||Wt)(g.KVO(C.hJ),g.KVO(g.zZn),g.KVO(_e,8),g.KVO(Wt,12),g.KVO(C.Sf),g.KVO(Le))};static#e=this.\u0275prov=g.jDH({token:Wt,factory:Wt.\u0275fac,providedIn:"root"})}return Wt})();function pe(Wt,qe){let ie=Wt.length;for(;ie--;)qe(Wt[ie])}let Te=(()=>{class Wt{static#t=this.\u0275fac=function(be){return new(be||Wt)};static#e=this.\u0275mod=g.$C({type:Wt});static#n=this.\u0275inj=g.G2t({providers:[kt],imports:[C.z_,it.jc,lt.Pd,it.jc]})}return Wt})();var oe=P(4498),Kt=P(8169),Zt=P(2647),ke=P(5910),De=P(9755),ge=P(6569);function ee(Wt,qe){}P(1732);class Ot{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const ut="mdc-dialog--open",ft="mdc-dialog--opening",Mt="mdc-dialog--closing";let dt=(()=>{class Wt extends ue{constructor(ie,be,je,on,Sn,si,xe,pn,en){super(ie,be,je,on,Sn,si,xe,en),this._animationMode=pn,this._animationStateChanged=new g.bkB,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?Ee(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?Ee(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(Vt,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(ft,ut)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(ut),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(ut),this._animationsEnabled?(this._hostElement.style.setProperty(Vt,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Mt)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(ie){this._actionSectionCount+=ie,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(ft,Mt)}_waitForAnimationToComplete(ie,be){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(be,ie)}_requestAnimationFrame(ie){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(ie):ie()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(ie){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:ie})}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}attachComponentPortal(ie){const be=super.attachComponentPortal(ie);return be.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),be}static#t=this.\u0275fac=function(be){return new(be||Wt)(g.rXU(g.aKT),g.rXU(lt.GX),g.rXU(H.qQ,8),g.rXU(Ot),g.rXU(lt.Z7),g.rXU(g.SKi),g.rXU(C.yY),g.rXU(g.bc$,8),g.rXU(lt.FN))};static#e=this.\u0275cmp=g.VBU({type:Wt,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(be,je){2&be&&(g.Mr5("id",je._config.id),g.BMQ("aria-modal",je._config.ariaModal)("role",je._config.role)("aria-labelledby",je._config.ariaLabel?null:je._ariaLabelledByQueue[0])("aria-label",je._config.ariaLabel)("aria-describedby",je._config.ariaDescribedBy||null),g.AVh("_mat-animation-noopable",!je._animationsEnabled)("mat-mdc-dialog-container-with-actions",je._actionSectionCount>0))},standalone:!0,features:[g.Vt3,g.aNF],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(be,je){1&be&&(g.j41(0,"div",0)(1,"div",1),g.DNE(2,ee,0,0,"ng-template",2),g.k0s()())},dependencies:[it.I3],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12));border-radius:var(--mdc-dialog-container-shape, var(--mat-app-corner-extra-large, 4px));background-color:var(--mdc-dialog-container-color, var(--mat-app-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mdc-dialog-subhead-font, var(--mat-app-headline-small-font, inherit));line-height:var(--mdc-dialog-subhead-line-height, var(--mat-app-headline-small-line-height, 1.5rem));font-size:var(--mdc-dialog-subhead-size, var(--mat-app-headline-small-size, 1rem));font-weight:var(--mdc-dialog-subhead-weight, var(--mat-app-headline-small-weight, 400));letter-spacing:var(--mdc-dialog-subhead-tracking, var(--mat-app-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, var(--mat-app-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mdc-dialog-supporting-text-font, var(--mat-app-body-medium-font, inherit));line-height:var(--mdc-dialog-supporting-text-line-height, var(--mat-app-body-medium-line-height, 1.5rem));font-size:var(--mdc-dialog-supporting-text-size, var(--mat-app-body-medium-size, 1rem));font-weight:var(--mdc-dialog-supporting-text-weight, var(--mat-app-body-medium-weight, 400));letter-spacing:var(--mdc-dialog-supporting-text-tracking, var(--mat-app-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.cdk-high-contrast-active .mat-mdc-dialog-actions{border-top-color:CanvasText}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2})}return Wt})();const Vt="--mat-dialog-transition-duration";function Ee(Wt){return null==Wt?null:"number"==typeof Wt?Wt:Wt.endsWith("ms")?(0,oe.OE)(Wt.substring(0,Wt.length-2)):Wt.endsWith("s")?1e3*(0,oe.OE)(Wt.substring(0,Wt.length-1)):"0"===Wt?0:null}var we=function(Wt){return Wt[Wt.OPEN=0]="OPEN",Wt[Wt.CLOSING=1]="CLOSING",Wt[Wt.CLOSED=2]="CLOSED",Wt}(we||{});class Ie{constructor(qe,ie,be){this._ref=qe,this._containerInstance=be,this._afterOpened=new It.B,this._beforeClosed=new It.B,this._state=we.OPEN,this.disableClose=ie.disableClose,this.id=qe.id,qe.addPanelClass("mat-mdc-dialog-panel"),be._animationStateChanged.pipe((0,Zt.p)(je=>"opened"===je.state),(0,ke.s)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),be._animationStateChanged.pipe((0,Zt.p)(je=>"closed"===je.state),(0,ke.s)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),qe.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,Kt.h)(this.backdropClick(),this.keydownEvents().pipe((0,Zt.p)(je=>je.keyCode===jt._f&&!this.disableClose&&!(0,jt.rp)(je)))).subscribe(je=>{this.disableClose||(je.preventDefault(),fn(this,"keydown"===je.type?"keyboard":"mouse"))})}close(qe){this._result=qe,this._containerInstance._animationStateChanged.pipe((0,Zt.p)(ie=>"closing"===ie.state),(0,ke.s)(1)).subscribe(ie=>{this._beforeClosed.next(qe),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),ie.totalTime+100)}),this._state=we.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(qe){let ie=this._ref.config.positionStrategy;return qe&&(qe.left||qe.right)?qe.left?ie.left(qe.left):ie.right(qe.right):ie.centerHorizontally(),qe&&(qe.top||qe.bottom)?qe.top?ie.top(qe.top):ie.bottom(qe.bottom):ie.centerVertically(),this._ref.updatePosition(),this}updateSize(qe="",ie=""){return this._ref.updateSize(qe,ie),this}addPanelClass(qe){return this._ref.addPanelClass(qe),this}removePanelClass(qe){return this._ref.removePanelClass(qe),this}getState(){return this._state}_finishDialogClose(){this._state=we.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function fn(Wt,qe,ie){return Wt._closeInteractionType=qe,Wt.close(ie)}const Un=new g.nKC("MatMdcDialogData"),Ri=new g.nKC("mat-mdc-dialog-default-options"),Fn=new g.nKC("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{const Wt=(0,g.WQX)(C.hJ);return()=>Wt.scrollStrategies.block()}});let Li=0,Ni=(()=>{class Wt{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const ie=this._parentDialog;return ie?ie._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(ie,be,je,on,Sn,si,xe,pn){this._overlay=ie,this._defaultOptions=on,this._scrollStrategy=Sn,this._parentDialog=si,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new It.B,this._afterOpenedAtThisLevel=new It.B,this.dialogConfigClass=Ot,this.afterAllClosed=(0,pt.v)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,Pt.Z)(void 0))),this._dialog=be.get(kt),this._dialogRefConstructor=Ie,this._dialogContainerType=dt,this._dialogDataToken=Un}open(ie,be){let je;(be={...this._defaultOptions||new Ot,...be}).id=be.id||"mat-mdc-dialog-"+Li++,be.scrollStrategy=be.scrollStrategy||this._scrollStrategy();const on=this._dialog.open(ie,{...be,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:be},{provide:Ft,useValue:be}]},templateContext:()=>({dialogRef:je}),providers:(Sn,si,xe)=>(je=new this._dialogRefConstructor(Sn,be,xe),je.updatePosition(be?.position),[{provide:this._dialogContainerType,useValue:xe},{provide:this._dialogDataToken,useValue:si.data},{provide:this._dialogRefConstructor,useValue:je}])});return je.componentRef=on.componentRef,je.componentInstance=on.componentInstance,this.openDialogs.push(je),this.afterOpened.next(je),je.afterClosed().subscribe(()=>{const Sn=this.openDialogs.indexOf(je);Sn>-1&&(this.openDialogs.splice(Sn,1),this.openDialogs.length||this._getAfterAllClosed().next())}),je}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(ie){return this.openDialogs.find(be=>be.id===ie)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(ie){let be=ie.length;for(;be--;)ie[be].close()}static#t=this.\u0275fac=function(be){return new(be||Wt)(g.KVO(C.hJ),g.KVO(g.zZn),g.KVO(H.aZ,8),g.KVO(Ri,8),g.KVO(Fn),g.KVO(Wt,12),g.KVO(C.Sf),g.KVO(g.bc$,8))};static#e=this.\u0275prov=g.jDH({token:Wt,factory:Wt.\u0275fac,providedIn:"root"})}return Wt})(),Vi=0,Tn=(()=>{class Wt{constructor(ie,be,je){this.dialogRef=ie,this._elementRef=be,this._dialog=je,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=tn(this._elementRef,this._dialog.openDialogs))}ngOnChanges(ie){const be=ie._matDialogClose||ie._matDialogCloseResult;be&&(this.dialogResult=be.currentValue)}_onButtonClick(ie){fn(this.dialogRef,0===ie.screenX&&0===ie.screenY?"keyboard":"mouse",this.dialogResult)}static#t=this.\u0275fac=function(be){return new(be||Wt)(g.rXU(Ie,8),g.rXU(g.aKT),g.rXU(Ni))};static#e=this.\u0275dir=g.FsC({type:Wt,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(be,je){1&be&&g.bIt("click",function(Sn){return je._onButtonClick(Sn)}),2&be&&g.BMQ("aria-label",je.ariaLabel||null)("type",je.type)},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],type:"type",dialogResult:[0,"mat-dialog-close","dialogResult"],_matDialogClose:[0,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],standalone:!0,features:[g.OA$]})}return Wt})(),er=(()=>{class Wt{constructor(ie,be,je){this._dialogRef=ie,this._elementRef=be,this._dialog=je}ngOnInit(){this._dialogRef||(this._dialogRef=tn(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static#t=this.\u0275fac=function(be){return new(be||Wt)(g.rXU(Ie,8),g.rXU(g.aKT),g.rXU(Ni))};static#e=this.\u0275dir=g.FsC({type:Wt,standalone:!0})}return Wt})(),ur=(()=>{class Wt extends er{constructor(){super(...arguments),this.id="mat-mdc-dialog-title-"+Vi++}_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}static#t=this.\u0275fac=(()=>{let ie;return function(je){return(ie||(ie=g.xGo(Wt)))(je||Wt)}})();static#e=this.\u0275dir=g.FsC({type:Wt,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(be,je){2&be&&g.Mr5("id",je.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],standalone:!0,features:[g.Vt3]})}return Wt})(),kr=(()=>{class Wt{static#t=this.\u0275fac=function(be){return new(be||Wt)};static#e=this.\u0275dir=g.FsC({type:Wt,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],standalone:!0,features:[g.nM4([De.uv])]})}return Wt})(),Ir=(()=>{class Wt extends er{_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}static#t=this.\u0275fac=(()=>{let ie;return function(je){return(ie||(ie=g.xGo(Wt)))(je||Wt)}})();static#e=this.\u0275dir=g.FsC({type:Wt,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(be,je){2&be&&g.AVh("mat-mdc-dialog-actions-align-start","start"===je.align)("mat-mdc-dialog-actions-align-center","center"===je.align)("mat-mdc-dialog-actions-align-end","end"===je.align)},inputs:{align:"align"},standalone:!0,features:[g.Vt3]})}return Wt})();function tn(Wt,qe){let ie=Wt.nativeElement.parentElement;for(;ie&&!ie.classList.contains("mat-mdc-dialog-container");)ie=ie.parentElement;return ie?qe.find(be=>be.id===ie.id):null}let Nt=(()=>{class Wt{static#t=this.\u0275fac=function(be){return new(be||Wt)};static#e=this.\u0275mod=g.$C({type:Wt});static#n=this.\u0275inj=g.G2t({providers:[Ni],imports:[Te,C.z_,it.jc,ge.yE,ge.yE]})}return Wt})()},5696:(mn,ae,P)=>{"use strict";P.d(ae,{xb:()=>be,TL:()=>Fn,rl:()=>en,qT:()=>Ge,RG:()=>yn,MV:()=>Di,nJ:()=>fn,yw:()=>Tn});var C=P(4291),H=P(4700),g=P(4498),lt=P(3823),ct=P(9284),it=P(3479),jt=P(1071),It=P(8169),pt=P(3796),bt=P(3982),At=P(2647),Pt=P(7621);class Ft{constructor(Bn){this._box=Bn,this._destroyed=new jt.B,this._resizeSubject=new jt.B,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(Rt=>this._resizeSubject.next(Rt)))}observe(Bn){return this._elementObservables.has(Bn)||this._elementObservables.set(Bn,new bt.c(Rt=>{const Tt=this._resizeSubject.subscribe(Rt);return this._resizeObserver?.observe(Bn,{box:this._box}),()=>{this._resizeObserver?.unobserve(Bn),Tt.unsubscribe(),this._elementObservables.delete(Bn)}}).pipe((0,At.p)(Rt=>Rt.some(Tt=>Tt.target===Bn)),(0,Pt.t)({bufferSize:1,refCount:!0}),(0,pt.Q)(this._destroyed))),this._elementObservables.get(Bn)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let Ht=(()=>{class $e{constructor(){this._observers=new Map,this._ngZone=(0,C.WQX)(C.SKi)}ngOnDestroy(){for(const[,Rt]of this._observers)Rt.destroy();this._observers.clear()}observe(Rt,Tt){const vt=Tt?.box||"content-box";return this._observers.has(vt)||this._observers.set(vt,new Ft(vt)),this._observers.get(vt).observe(Rt)}static#t=this.\u0275fac=function(Tt){return new(Tt||$e)};static#e=this.\u0275prov=C.jDH({token:$e,factory:$e.\u0275fac,providedIn:"root"})}return $e})();var ue=P(1732),ye=P(2959),Le=P(6569);const rn=["notch"],_e=["matFormFieldNotchedOutline",""],Ke=["*"],Qt=["textField"],Ut=["iconPrefixContainer"],kt=["textPrefixContainer"],pe=["iconSuffixContainer"],Te=["textSuffixContainer"],oe=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Kt=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function Zt($e,Bn){1&$e&&C.nrm(0,"span",21)}function ke($e,Bn){if(1&$e&&(C.j41(0,"label",20),C.SdG(1,1),C.DNE(2,Zt,1,0,"span",21),C.k0s()),2&$e){const Rt=C.XpG(2);C.Y8G("floating",Rt._shouldLabelFloat())("monitorResize",Rt._hasOutline())("id",Rt._labelId),C.BMQ("for",Rt._control.disableAutomaticLabeling?null:Rt._control.id),C.R7$(2),C.vxM(!Rt.hideRequiredMarker&&Rt._control.required?2:-1)}}function De($e,Bn){if(1&$e&&C.DNE(0,ke,3,5,"label",20),2&$e){const Rt=C.XpG();C.vxM(Rt._hasFloatingLabel()?0:-1)}}function ge($e,Bn){1&$e&&C.nrm(0,"div",7)}function Oe($e,Bn){}function ee($e,Bn){if(1&$e&&C.DNE(0,Oe,0,0,"ng-template",13),2&$e){C.XpG(2);const Rt=C.sdS(1);C.Y8G("ngTemplateOutlet",Rt)}}function Ot($e,Bn){if(1&$e&&(C.j41(0,"div",9),C.DNE(1,ee,1,1,null,13),C.k0s()),2&$e){const Rt=C.XpG();C.Y8G("matFormFieldNotchedOutlineOpen",Rt._shouldLabelFloat()),C.R7$(),C.vxM(Rt._forceDisplayInfixLabel()?-1:1)}}function ut($e,Bn){1&$e&&(C.j41(0,"div",10,2),C.SdG(2,2),C.k0s())}function ft($e,Bn){1&$e&&(C.j41(0,"div",11,3),C.SdG(2,3),C.k0s())}function Mt($e,Bn){}function ot($e,Bn){if(1&$e&&C.DNE(0,Mt,0,0,"ng-template",13),2&$e){C.XpG();const Rt=C.sdS(1);C.Y8G("ngTemplateOutlet",Rt)}}function Dt($e,Bn){1&$e&&(C.j41(0,"div",14,4),C.SdG(2,4),C.k0s())}function dt($e,Bn){1&$e&&(C.j41(0,"div",15,5),C.SdG(2,5),C.k0s())}function Vt($e,Bn){1&$e&&C.nrm(0,"div",16)}function Ee($e,Bn){if(1&$e&&(C.j41(0,"div",18),C.SdG(1,6),C.k0s()),2&$e){const Rt=C.XpG();C.Y8G("@transitionMessages",Rt._subscriptAnimationState)}}function we($e,Bn){if(1&$e&&(C.j41(0,"mat-hint",22),C.EFF(1),C.k0s()),2&$e){const Rt=C.XpG(2);C.Y8G("id",Rt._hintLabelId),C.R7$(),C.JRh(Rt.hintLabel)}}function Ie($e,Bn){if(1&$e&&(C.j41(0,"div",19),C.DNE(1,we,2,2,"mat-hint",22),C.SdG(2,7),C.nrm(3,"div",23),C.SdG(4,8),C.k0s()),2&$e){const Rt=C.XpG();C.Y8G("@transitionMessages",Rt._subscriptAnimationState),C.R7$(),C.vxM(Rt.hintLabel?1:-1)}}let fn=(()=>{class $e{static#t=this.\u0275fac=function(Tt){return new(Tt||$e)};static#e=this.\u0275dir=C.FsC({type:$e,selectors:[["mat-label"]],standalone:!0})}return $e})(),Un=0;const Ri=new C.nKC("MatError");let Fn=(()=>{class $e{constructor(Rt,Tt){this.id="mat-mdc-error-"+Un++,Rt||Tt.nativeElement.setAttribute("aria-live","polite")}static#t=this.\u0275fac=function(Tt){return new(Tt||$e)(C.kS0("aria-live"),C.rXU(C.aKT))};static#e=this.\u0275dir=C.FsC({type:$e,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(Tt,vt){2&Tt&&C.Mr5("id",vt.id)},inputs:{id:"id"},standalone:!0,features:[C.Jv_([{provide:Ri,useExisting:$e}])]})}return $e})(),ci=0,Di=(()=>{class $e{constructor(){this.align="start",this.id="mat-mdc-hint-"+ci++}static#t=this.\u0275fac=function(Tt){return new(Tt||$e)};static#e=this.\u0275dir=C.FsC({type:$e,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(Tt,vt){2&Tt&&(C.Mr5("id",vt.id),C.BMQ("align",null),C.AVh("mat-mdc-form-field-hint-end","end"===vt.align))},inputs:{align:"align",id:"id"},standalone:!0})}return $e})();const Li=new C.nKC("MatPrefix"),Vi=new C.nKC("MatSuffix");let Tn=(()=>{class $e{constructor(){this._isText=!1}set _isTextSelector(Rt){this._isText=!0}static#t=this.\u0275fac=function(Tt){return new(Tt||$e)};static#e=this.\u0275dir=C.FsC({type:$e,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:[0,"matTextSuffix","_isTextSelector"]},standalone:!0,features:[C.Jv_([{provide:Vi,useExisting:$e}])]})}return $e})();const er=new C.nKC("FloatingLabelParent");let ur=(()=>{class $e{get floating(){return this._floating}set floating(Rt){this._floating=Rt,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(Rt){this._monitorResize=Rt,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(Rt){this._elementRef=Rt,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,C.WQX)(Ht),this._ngZone=(0,C.WQX)(C.SKi),this._parent=(0,C.WQX)(er),this._resizeSubscription=new it.yU}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function kr($e){if(null!==$e.offsetParent)return $e.scrollWidth;const Rt=$e.cloneNode(!0);Rt.style.setProperty("position","absolute"),Rt.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(Rt);const Tt=Rt.scrollWidth;return Rt.remove(),Tt}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#t=this.\u0275fac=function(Tt){return new(Tt||$e)(C.rXU(C.aKT))};static#e=this.\u0275dir=C.FsC({type:$e,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(Tt,vt){2&Tt&&C.AVh("mdc-floating-label--float-above",vt.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0})}return $e})();const Ir="mdc-line-ripple--active",tn="mdc-line-ripple--deactivating";let mt=(()=>{class $e{constructor(Rt,Tt){this._elementRef=Rt,this._handleTransitionEnd=vt=>{const Lt=this._elementRef.nativeElement.classList,Ze=Lt.contains(tn);"opacity"===vt.propertyName&&Ze&&Lt.remove(Ir,tn)},Tt.runOutsideAngular(()=>{Rt.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const Rt=this._elementRef.nativeElement.classList;Rt.remove(tn),Rt.add(Ir)}deactivate(){this._elementRef.nativeElement.classList.add(tn)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#t=this.\u0275fac=function(Tt){return new(Tt||$e)(C.rXU(C.aKT),C.rXU(C.SKi))};static#e=this.\u0275dir=C.FsC({type:$e,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0})}return $e})(),Nt=(()=>{class $e{constructor(Rt,Tt){this._elementRef=Rt,this._ngZone=Tt,this.open=!1}ngAfterViewInit(){const Rt=this._elementRef.nativeElement.querySelector(".mdc-floating-label");Rt?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(Rt.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>Rt.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(Rt){this._notch.nativeElement.style.width=this.open&&Rt?`calc(${Rt}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#t=this.\u0275fac=function(Tt){return new(Tt||$e)(C.rXU(C.aKT),C.rXU(C.SKi))};static#e=this.\u0275cmp=C.VBU({type:$e,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(Tt,vt){if(1&Tt&&C.GBs(rn,5),2&Tt){let Lt;C.mGM(Lt=C.lsd())&&(vt._notch=Lt.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(Tt,vt){2&Tt&&C.AVh("mdc-notched-outline--notched",vt.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[C.aNF],attrs:_e,ngContentSelectors:Ke,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(Tt,vt){1&Tt&&(C.NAR(),C.nrm(0,"div",1),C.j41(1,"div",2,0),C.SdG(3),C.k0s(),C.nrm(4,"div",3))},encapsulation:2,changeDetection:0})}return $e})();const fe={transitionMessages:(0,ue.hZ)("transitionMessages",[(0,ue.wk)("enter",(0,ue.iF)({opacity:1,transform:"translateY(0%)"})),(0,ue.kY)("void => enter",[(0,ue.iF)({opacity:0,transform:"translateY(-5px)"}),(0,ue.i0)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Ge=(()=>{class $e{static#t=this.\u0275fac=function(Tt){return new(Tt||$e)};static#e=this.\u0275dir=C.FsC({type:$e})}return $e})();const be=new C.nKC("MatFormField"),je=new C.nKC("MAT_FORM_FIELD_DEFAULT_OPTIONS");let on=0,en=(()=>{class $e{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(Rt){this._hideRequiredMarker=(0,g.he)(Rt)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(Rt){Rt!==this._floatLabel&&(this._floatLabel=Rt,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(Rt){const Tt=this._appearance;this._appearance=Rt||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==Tt&&(this._needsOutlineLabelOffsetUpdate=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(Rt){this._subscriptSizing=Rt||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(Rt){this._hintLabel=Rt,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(Rt){this._explicitFormFieldControl=Rt}constructor(Rt,Tt,vt,Lt,Ze,An,ei,bi){this._elementRef=Rt,this._changeDetectorRef=Tt,this._dir=Lt,this._platform=Ze,this._defaults=An,this._animationMode=ei,this._labelChild=(0,C.sbv)(fn),this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+on++,this._hintLabelId="mat-mdc-hint-"+on++,this._subscriptAnimationState="",this._destroyed=new jt.B,this._isFocused=null,this._needsOutlineLabelOffsetUpdate=!1,this._previousControl=null,this._injector=(0,C.WQX)(C.zZn),this.getLabelId=(0,C.EWP)(()=>this._hasFloatingLabel()?this._labelId:null),this._hasFloatingLabel=(0,C.EWP)(()=>!!this._labelChild()),An&&(An.appearance&&(this.appearance=An.appearance),this._hideRequiredMarker=!!An?.hideRequiredMarker,An.color&&(this.color=An.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._previousControl=this._control)}ngOnDestroy(){this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(Rt){const Tt=this._control,vt="mat-mdc-form-field-type-";Rt&&this._elementRef.nativeElement.classList.remove(vt+Rt.controlType),Tt.controlType&&this._elementRef.nativeElement.classList.add(vt+Tt.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=Tt.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._valueChanges?.unsubscribe(),Tt.ngControl&&Tt.ngControl.valueChanges&&(this._valueChanges=Tt.ngControl.valueChanges.pipe((0,pt.Q)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(Rt=>!Rt._isText),this._hasTextPrefix=!!this._prefixChildren.find(Rt=>Rt._isText),this._hasIconSuffix=!!this._suffixChildren.find(Rt=>!Rt._isText),this._hasTextSuffix=!!this._suffixChildren.find(Rt=>Rt._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,It.h)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),(0,C.Tzd)(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe((0,pt.Q)(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_shouldLabelFloat(){return!!this._hasFloatingLabel()&&(this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_shouldForward(Rt){const Tt=this._control?this._control.ngControl:null;return Tt&&Tt[Rt]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let Rt=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&Rt.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const Tt=this._hintChildren?this._hintChildren.find(Lt=>"start"===Lt.align):null,vt=this._hintChildren?this._hintChildren.find(Lt=>"end"===Lt.align):null;Tt?Rt.push(Tt.id):this._hintLabel&&Rt.push(this._hintLabelId),vt&&Rt.push(vt.id)}else this._errorChildren&&Rt.push(...this._errorChildren.map(Tt=>Tt.id));this._control.setDescribedByIds(Rt)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;const Rt=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(Rt.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdate=!0);const Tt=this._iconPrefixContainer?.nativeElement,vt=this._textPrefixContainer?.nativeElement,Lt=this._iconSuffixContainer?.nativeElement,Ze=this._textSuffixContainer?.nativeElement,An=Tt?.getBoundingClientRect().width??0,ei=vt?.getBoundingClientRect().width??0,bi=Lt?.getBoundingClientRect().width??0,Fe=Ze?.getBoundingClientRect().width??0;Rt.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${An+ei}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`,this._elementRef.nativeElement.style.setProperty("--mat-form-field-notch-max-width",`calc(100% - ${An+ei+bi+Fe}px)`)}_isAttachedToDom(){const Rt=this._elementRef.nativeElement;if(Rt.getRootNode){const Tt=Rt.getRootNode();return Tt&&Tt!==Rt}return document.documentElement.contains(Rt)}static#t=this.\u0275fac=function(Tt){return new(Tt||$e)(C.rXU(C.aKT),C.rXU(C.gRc),C.rXU(C.SKi),C.rXU(H.dS),C.rXU(lt.OD),C.rXU(je,8),C.rXU(C.bc$,8),C.rXU(ct.qQ))};static#e=this.\u0275cmp=C.VBU({type:$e,selectors:[["mat-form-field"]],contentQueries:function(Tt,vt,Lt){if(1&Tt&&(C.C6U(Lt,vt._labelChild,fn,5),C.wni(Lt,Ge,5),C.wni(Lt,Li,5),C.wni(Lt,Vi,5),C.wni(Lt,Ri,5),C.wni(Lt,Di,5)),2&Tt){let Ze;C.NyB(),C.mGM(Ze=C.lsd())&&(vt._formFieldControl=Ze.first),C.mGM(Ze=C.lsd())&&(vt._prefixChildren=Ze),C.mGM(Ze=C.lsd())&&(vt._suffixChildren=Ze),C.mGM(Ze=C.lsd())&&(vt._errorChildren=Ze),C.mGM(Ze=C.lsd())&&(vt._hintChildren=Ze)}},viewQuery:function(Tt,vt){if(1&Tt&&(C.GBs(Qt,5),C.GBs(Ut,5),C.GBs(kt,5),C.GBs(pe,5),C.GBs(Te,5),C.GBs(ur,5),C.GBs(Nt,5),C.GBs(mt,5)),2&Tt){let Lt;C.mGM(Lt=C.lsd())&&(vt._textField=Lt.first),C.mGM(Lt=C.lsd())&&(vt._iconPrefixContainer=Lt.first),C.mGM(Lt=C.lsd())&&(vt._textPrefixContainer=Lt.first),C.mGM(Lt=C.lsd())&&(vt._iconSuffixContainer=Lt.first),C.mGM(Lt=C.lsd())&&(vt._textSuffixContainer=Lt.first),C.mGM(Lt=C.lsd())&&(vt._floatingLabel=Lt.first),C.mGM(Lt=C.lsd())&&(vt._notchedOutline=Lt.first),C.mGM(Lt=C.lsd())&&(vt._lineRipple=Lt.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(Tt,vt){2&Tt&&C.AVh("mat-mdc-form-field-label-always-float",vt._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",vt._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",vt._hasIconSuffix)("mat-form-field-invalid",vt._control.errorState)("mat-form-field-disabled",vt._control.disabled)("mat-form-field-autofilled",vt._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===vt._animationMode)("mat-form-field-appearance-fill","fill"==vt.appearance)("mat-form-field-appearance-outline","outline"==vt.appearance)("mat-form-field-hide-placeholder",vt._hasFloatingLabel()&&!vt._shouldLabelFloat())("mat-focused",vt._control.focused)("mat-primary","accent"!==vt.color&&"warn"!==vt.color)("mat-accent","accent"===vt.color)("mat-warn","warn"===vt.color)("ng-untouched",vt._shouldForward("untouched"))("ng-touched",vt._shouldForward("touched"))("ng-pristine",vt._shouldForward("pristine"))("ng-dirty",vt._shouldForward("dirty"))("ng-valid",vt._shouldForward("valid"))("ng-invalid",vt._shouldForward("invalid"))("ng-pending",vt._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[C.Jv_([{provide:be,useExisting:$e},{provide:er,useExisting:$e}]),C.aNF],ngContentSelectors:Kt,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],["textSuffixContainer",""],["iconSuffixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(Tt,vt){if(1&Tt){const Lt=C.RV6();C.NAR(oe),C.DNE(0,De,1,1,"ng-template",null,0,C.C5r),C.j41(2,"div",6,1),C.bIt("click",function(An){return C.eBV(Lt),C.Njj(vt._control.onContainerClick(An))}),C.DNE(4,ge,1,0,"div",7),C.j41(5,"div",8),C.DNE(6,Ot,2,2,"div",9)(7,ut,3,0,"div",10)(8,ft,3,0,"div",11),C.j41(9,"div",12),C.DNE(10,ot,1,1,null,13),C.SdG(11),C.k0s(),C.DNE(12,Dt,3,0,"div",14)(13,dt,3,0,"div",15),C.k0s(),C.DNE(14,Vt,1,0,"div",16),C.k0s(),C.j41(15,"div",17),C.DNE(16,Ee,2,1,"div",18)(17,Ie,5,2,"div",19),C.k0s()}if(2&Tt){let Lt;C.R7$(2),C.AVh("mdc-text-field--filled",!vt._hasOutline())("mdc-text-field--outlined",vt._hasOutline())("mdc-text-field--no-label",!vt._hasFloatingLabel())("mdc-text-field--disabled",vt._control.disabled)("mdc-text-field--invalid",vt._control.errorState),C.R7$(2),C.vxM(vt._hasOutline()||vt._control.disabled?-1:4),C.R7$(2),C.vxM(vt._hasOutline()?6:-1),C.R7$(),C.vxM(vt._hasIconPrefix?7:-1),C.R7$(),C.vxM(vt._hasTextPrefix?8:-1),C.R7$(2),C.vxM(!vt._hasOutline()||vt._forceDisplayInfixLabel()?10:-1),C.R7$(2),C.vxM(vt._hasTextSuffix?12:-1),C.R7$(),C.vxM(vt._hasIconSuffix?13:-1),C.R7$(),C.vxM(vt._hasOutline()?-1:14),C.R7$(),C.AVh("mat-mdc-form-field-subscript-dynamic-size","dynamic"===vt.subscriptSizing),C.R7$(),C.vxM("error"===(Lt=vt._getDisplayedMessages())?16:"hint"===Lt?17:-1)}},dependencies:[ur,Nt,ct.T3,mt,Di],styles:['.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color, var(--mat-app-on-surface));caret-color:var(--mdc-filled-text-field-caret-color, var(--mat-app-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color, var(--mat-app-on-surface));caret-color:var(--mdc-outlined-text-field-caret-color, var(--mat-app-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--disabled .cdk-high-contrast-active .mdc-text-field__input{background-color:Window}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape, var(--mat-app-corner-extra-small-top));border-top-right-radius:var(--mdc-filled-text-field-container-shape, var(--mat-app-corner-extra-small-top))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color, var(--mat-app-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--outlined{height:56px;overflow:visible;padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.cdk-high-contrast-active .mdc-text-field--disabled .mdc-floating-label{z-index:1}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color, var(--mat-app-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color, var(--mat-app-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font, var(--mat-app-body-large-font));font-size:var(--mdc-filled-text-field-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-filled-text-field-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-filled-text-field-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color, var(--mat-app-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color, var(--mat-app-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color, var(--mat-app-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font, var(--mat-app-body-large-font));font-size:var(--mdc-outlined-text-field-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-outlined-text-field-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-outlined-text-field-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color, var(--mat-app-outline));border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color, var(--mat-app-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color, var(--mat-app-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color, var(--mat-app-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:min(var(--mat-form-field-notch-max-width, 100%),100% - max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))*2)}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none;--mat-form-field-notch-max-width: 100%}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color, var(--mat-app-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color, var(--mat-app-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color, var(--mat-app-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color, var(--mat-app-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-app-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-app-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-app-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-app-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-app-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-app-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-app-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-app-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-app-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-app-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-app-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-app-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-app-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-app-body-large-weight))}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-app-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-app-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-app-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-app-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-app-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field-infix:has(textarea[cols]){width:auto}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[fe.transitionMessages]},changeDetection:0})}return $e})(),yn=(()=>{class $e{static#t=this.\u0275fac=function(Tt){return new(Tt||$e)};static#e=this.\u0275mod=C.$C({type:$e});static#n=this.\u0275inj=C.G2t({imports:[Le.yE,ct.MD,ye.w5,Le.yE]})}return $e})()},4288:(mn,ae,P)=>{"use strict";P.d(ae,{An:()=>ft,m_:()=>Mt,tp:()=>pe});var C=P(4291),H=P(6569),g=P(9284),lt=P(3204),ct=P(535),it=P(745),jt=P(3479),It=P(5044),pt=P(8199),bt=P(1534),At=P(4507),Pt=P(3622),yt=P(5910),Ft=P(7715),Ht=P(4845);const ue=["*"];let ye;function rn(ot){return function Le(){if(void 0===ye&&(ye=null,typeof window<"u")){const ot=window;void 0!==ot.trustedTypes&&(ye=ot.trustedTypes.createPolicy("angular#components",{createHTML:Dt=>Dt}))}return ye}()?.createHTML(ot)||ot}function _e(ot){return Error(`Unable to find icon with the name "${ot}"`)}function Qt(ot){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${ot}".`)}function Ut(ot){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${ot}".`)}class kt{constructor(Dt,dt,Vt){this.url=Dt,this.svgText=dt,this.options=Vt}}let pe=(()=>{class ot{constructor(dt,Vt,Ee,we){this._httpClient=dt,this._sanitizer=Vt,this._errorHandler=we,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=Ee}addSvgIcon(dt,Vt,Ee){return this.addSvgIconInNamespace("",dt,Vt,Ee)}addSvgIconLiteral(dt,Vt,Ee){return this.addSvgIconLiteralInNamespace("",dt,Vt,Ee)}addSvgIconInNamespace(dt,Vt,Ee,we){return this._addSvgIconConfig(dt,Vt,new kt(Ee,null,we))}addSvgIconResolver(dt){return this._resolvers.push(dt),this}addSvgIconLiteralInNamespace(dt,Vt,Ee,we){const Ie=this._sanitizer.sanitize(C.WPN.HTML,Ee);if(!Ie)throw Ut(Ee);const fn=rn(Ie);return this._addSvgIconConfig(dt,Vt,new kt("",fn,we))}addSvgIconSet(dt,Vt){return this.addSvgIconSetInNamespace("",dt,Vt)}addSvgIconSetLiteral(dt,Vt){return this.addSvgIconSetLiteralInNamespace("",dt,Vt)}addSvgIconSetInNamespace(dt,Vt,Ee){return this._addSvgIconSetConfig(dt,new kt(Vt,null,Ee))}addSvgIconSetLiteralInNamespace(dt,Vt,Ee){const we=this._sanitizer.sanitize(C.WPN.HTML,Vt);if(!we)throw Ut(Vt);const Ie=rn(we);return this._addSvgIconSetConfig(dt,new kt("",Ie,Ee))}registerFontClassAlias(dt,Vt=dt){return this._fontCssClassesByAlias.set(dt,Vt),this}classNameForFontAlias(dt){return this._fontCssClassesByAlias.get(dt)||dt}setDefaultFontSetClass(...dt){return this._defaultFontSetClass=dt,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(dt){const Vt=this._sanitizer.sanitize(C.WPN.RESOURCE_URL,dt);if(!Vt)throw Qt(dt);const Ee=this._cachedIconsByUrl.get(Vt);return Ee?(0,lt.of)(Kt(Ee)):this._loadSvgIconFromConfig(new kt(dt,null)).pipe((0,It.M)(we=>this._cachedIconsByUrl.set(Vt,we)),(0,pt.T)(we=>Kt(we)))}getNamedSvgIcon(dt,Vt=""){const Ee=Zt(Vt,dt);let we=this._svgIconConfigs.get(Ee);if(we)return this._getSvgFromConfig(we);if(we=this._getIconConfigFromResolvers(Vt,dt),we)return this._svgIconConfigs.set(Ee,we),this._getSvgFromConfig(we);const Ie=this._iconSetConfigs.get(Vt);return Ie?this._getSvgFromIconSetConfigs(dt,Ie):(0,ct.$)(_e(Ee))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(dt){return dt.svgText?(0,lt.of)(Kt(this._svgElementFromConfig(dt))):this._loadSvgIconFromConfig(dt).pipe((0,pt.T)(Vt=>Kt(Vt)))}_getSvgFromIconSetConfigs(dt,Vt){const Ee=this._extractIconWithNameFromAnySet(dt,Vt);if(Ee)return(0,lt.of)(Ee);const we=Vt.filter(Ie=>!Ie.svgText).map(Ie=>this._loadSvgIconSetFromConfig(Ie).pipe((0,bt.W)(fn=>{const Ri=`Loading icon set URL: ${this._sanitizer.sanitize(C.WPN.RESOURCE_URL,Ie.url)} failed: ${fn.message}`;return this._errorHandler.handleError(new Error(Ri)),(0,lt.of)(null)})));return(0,it.p)(we).pipe((0,pt.T)(()=>{const Ie=this._extractIconWithNameFromAnySet(dt,Vt);if(!Ie)throw _e(dt);return Ie}))}_extractIconWithNameFromAnySet(dt,Vt){for(let Ee=Vt.length-1;Ee>=0;Ee--){const we=Vt[Ee];if(we.svgText&&we.svgText.toString().indexOf(dt)>-1){const Ie=this._svgElementFromConfig(we),fn=this._extractSvgIconFromSet(Ie,dt,we.options);if(fn)return fn}}return null}_loadSvgIconFromConfig(dt){return this._fetchIcon(dt).pipe((0,It.M)(Vt=>dt.svgText=Vt),(0,pt.T)(()=>this._svgElementFromConfig(dt)))}_loadSvgIconSetFromConfig(dt){return dt.svgText?(0,lt.of)(null):this._fetchIcon(dt).pipe((0,It.M)(Vt=>dt.svgText=Vt))}_extractSvgIconFromSet(dt,Vt,Ee){const we=dt.querySelector(`[id="${Vt}"]`);if(!we)return null;const Ie=we.cloneNode(!0);if(Ie.removeAttribute("id"),"svg"===Ie.nodeName.toLowerCase())return this._setSvgAttributes(Ie,Ee);if("symbol"===Ie.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(Ie),Ee);const fn=this._svgElementFromString(rn("<svg></svg>"));return fn.appendChild(Ie),this._setSvgAttributes(fn,Ee)}_svgElementFromString(dt){const Vt=this._document.createElement("DIV");Vt.innerHTML=dt;const Ee=Vt.querySelector("svg");if(!Ee)throw Error("<svg> tag not found");return Ee}_toSvgElement(dt){const Vt=this._svgElementFromString(rn("<svg></svg>")),Ee=dt.attributes;for(let we=0;we<Ee.length;we++){const{name:Ie,value:fn}=Ee[we];"id"!==Ie&&Vt.setAttribute(Ie,fn)}for(let we=0;we<dt.childNodes.length;we++)dt.childNodes[we].nodeType===this._document.ELEMENT_NODE&&Vt.appendChild(dt.childNodes[we].cloneNode(!0));return Vt}_setSvgAttributes(dt,Vt){return dt.setAttribute("fit",""),dt.setAttribute("height","100%"),dt.setAttribute("width","100%"),dt.setAttribute("preserveAspectRatio","xMidYMid meet"),dt.setAttribute("focusable","false"),Vt&&Vt.viewBox&&dt.setAttribute("viewBox",Vt.viewBox),dt}_fetchIcon(dt){const{url:Vt,options:Ee}=dt,we=Ee?.withCredentials??!1;if(!this._httpClient)throw function Ke(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}();if(null==Vt)throw Error(`Cannot fetch icon from URL "${Vt}".`);const Ie=this._sanitizer.sanitize(C.WPN.RESOURCE_URL,Vt);if(!Ie)throw Qt(Vt);const fn=this._inProgressUrlFetches.get(Ie);if(fn)return fn;const Un=this._httpClient.get(Ie,{responseType:"text",withCredentials:we}).pipe((0,pt.T)(Ri=>rn(Ri)),(0,At.j)(()=>this._inProgressUrlFetches.delete(Ie)),(0,Pt.u)());return this._inProgressUrlFetches.set(Ie,Un),Un}_addSvgIconConfig(dt,Vt,Ee){return this._svgIconConfigs.set(Zt(dt,Vt),Ee),this}_addSvgIconSetConfig(dt,Vt){const Ee=this._iconSetConfigs.get(dt);return Ee?Ee.push(Vt):this._iconSetConfigs.set(dt,[Vt]),this}_svgElementFromConfig(dt){if(!dt.svgElement){const Vt=this._svgElementFromString(dt.svgText);this._setSvgAttributes(Vt,dt.options),dt.svgElement=Vt}return dt.svgElement}_getIconConfigFromResolvers(dt,Vt){for(let Ee=0;Ee<this._resolvers.length;Ee++){const we=this._resolvers[Ee](Vt,dt);if(we)return ke(we)?new kt(we.url,null,we.options):new kt(we,null)}}static#t=this.\u0275fac=function(Vt){return new(Vt||ot)(C.KVO(Ft.Qq,8),C.KVO(Ht.up),C.KVO(g.qQ,8),C.KVO(C.zcH))};static#e=this.\u0275prov=C.jDH({token:ot,factory:ot.\u0275fac,providedIn:"root"})}return ot})();function Kt(ot){return ot.cloneNode(!0)}function Zt(ot,Dt){return ot+":"+Dt}function ke(ot){return!(!ot.url||!ot.options)}const De=new C.nKC("MAT_ICON_DEFAULT_OPTIONS"),ge=new C.nKC("mat-icon-location",{providedIn:"root",factory:function Oe(){const ot=(0,C.WQX)(g.qQ),Dt=ot?ot.location:null;return{getPathname:()=>Dt?Dt.pathname+Dt.search:""}}}),ee=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Ot=ee.map(ot=>`[${ot}]`).join(", "),ut=/^url\(['"]?#(.*?)['"]?\)$/;let ft=(()=>{class ot{get color(){return this._color||this._defaultColor}set color(dt){this._color=dt}get svgIcon(){return this._svgIcon}set svgIcon(dt){dt!==this._svgIcon&&(dt?this._updateSvgIcon(dt):this._svgIcon&&this._clearSvgElement(),this._svgIcon=dt)}get fontSet(){return this._fontSet}set fontSet(dt){const Vt=this._cleanupFontValue(dt);Vt!==this._fontSet&&(this._fontSet=Vt,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(dt){const Vt=this._cleanupFontValue(dt);Vt!==this._fontIcon&&(this._fontIcon=Vt,this._updateFontIconClasses())}constructor(dt,Vt,Ee,we,Ie,fn){this._elementRef=dt,this._iconRegistry=Vt,this._location=we,this._errorHandler=Ie,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=jt.yU.EMPTY,fn&&(fn.color&&(this.color=this._defaultColor=fn.color),fn.fontSet&&(this.fontSet=fn.fontSet)),Ee||dt.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(dt){if(!dt)return["",""];const Vt=dt.split(":");switch(Vt.length){case 1:return["",Vt[0]];case 2:return Vt;default:throw Error(`Invalid icon name: "${dt}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const dt=this._elementsWithExternalReferences;if(dt&&dt.size){const Vt=this._location.getPathname();Vt!==this._previousPath&&(this._previousPath=Vt,this._prependPathToReferences(Vt))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(dt){this._clearSvgElement();const Vt=this._location.getPathname();this._previousPath=Vt,this._cacheChildrenWithExternalReferences(dt),this._prependPathToReferences(Vt),this._elementRef.nativeElement.appendChild(dt)}_clearSvgElement(){const dt=this._elementRef.nativeElement;let Vt=dt.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();Vt--;){const Ee=dt.childNodes[Vt];(1!==Ee.nodeType||"svg"===Ee.nodeName.toLowerCase())&&Ee.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const dt=this._elementRef.nativeElement,Vt=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(Ee=>Ee.length>0);this._previousFontSetClass.forEach(Ee=>dt.classList.remove(Ee)),Vt.forEach(Ee=>dt.classList.add(Ee)),this._previousFontSetClass=Vt,this.fontIcon!==this._previousFontIconClass&&!Vt.includes("mat-ligature-font")&&(this._previousFontIconClass&&dt.classList.remove(this._previousFontIconClass),this.fontIcon&&dt.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(dt){return"string"==typeof dt?dt.trim().split(" ")[0]:dt}_prependPathToReferences(dt){const Vt=this._elementsWithExternalReferences;Vt&&Vt.forEach((Ee,we)=>{Ee.forEach(Ie=>{we.setAttribute(Ie.name,`url('${dt}#${Ie.value}')`)})})}_cacheChildrenWithExternalReferences(dt){const Vt=dt.querySelectorAll(Ot),Ee=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let we=0;we<Vt.length;we++)ee.forEach(Ie=>{const fn=Vt[we],Un=fn.getAttribute(Ie),Ri=Un?Un.match(ut):null;if(Ri){let Fn=Ee.get(fn);Fn||(Fn=[],Ee.set(fn,Fn)),Fn.push({name:Ie,value:Ri[1]})}})}_updateSvgIcon(dt){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),dt){const[Vt,Ee]=this._splitIconName(dt);Vt&&(this._svgNamespace=Vt),Ee&&(this._svgName=Ee),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(Ee,Vt).pipe((0,yt.s)(1)).subscribe(we=>this._setSvgElement(we),we=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${Vt}:${Ee}! ${we.message}`))})}}static#t=this.\u0275fac=function(Vt){return new(Vt||ot)(C.rXU(C.aKT),C.rXU(pe),C.kS0("aria-hidden"),C.rXU(ge),C.rXU(C.zcH),C.rXU(De,8))};static#e=this.\u0275cmp=C.VBU({type:ot,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(Vt,Ee){2&Vt&&(C.BMQ("data-mat-icon-type",Ee._usingFontIcon()?"font":"svg")("data-mat-icon-name",Ee._svgName||Ee.fontIcon)("data-mat-icon-namespace",Ee._svgNamespace||Ee.fontSet)("fontIcon",Ee._usingFontIcon()?Ee.fontIcon:null),C.HbH(Ee.color?"mat-"+Ee.color:""),C.AVh("mat-icon-inline",Ee.inline)("mat-icon-no-color","primary"!==Ee.color&&"accent"!==Ee.color&&"warn"!==Ee.color))},inputs:{color:"color",inline:[2,"inline","inline",C.L39],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[C.GFd,C.aNF],ngContentSelectors:ue,decls:1,vars:0,template:function(Vt,Ee){1&Vt&&(C.NAR(),C.SdG(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return ot})(),Mt=(()=>{class ot{static#t=this.\u0275fac=function(Vt){return new(Vt||ot)};static#e=this.\u0275mod=C.$C({type:ot});static#n=this.\u0275inj=C.G2t({imports:[H.yE,H.yE]})}return ot})()},1706:(mn,ae,P)=>{"use strict";P.d(ae,{fg:()=>Le,fS:()=>rn});var C=P(4498),H=P(3823),g=P(4291),lt=P(4080),ct=P(1071);const it=(0,H.BQ)({passive:!0});let jt=(()=>{class _e{constructor(Qt,Ut){this._platform=Qt,this._ngZone=Ut,this._monitoredElements=new Map}monitor(Qt){if(!this._platform.isBrowser)return lt.w;const Ut=(0,C.i8)(Qt),kt=this._monitoredElements.get(Ut);if(kt)return kt.subject;const pe=new ct.B,Te="cdk-text-field-autofilled",oe=Kt=>{"cdk-text-field-autofill-start"!==Kt.animationName||Ut.classList.contains(Te)?"cdk-text-field-autofill-end"===Kt.animationName&&Ut.classList.contains(Te)&&(Ut.classList.remove(Te),this._ngZone.run(()=>pe.next({target:Kt.target,isAutofilled:!1}))):(Ut.classList.add(Te),this._ngZone.run(()=>pe.next({target:Kt.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{Ut.addEventListener("animationstart",oe,it),Ut.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(Ut,{subject:pe,unlisten:()=>{Ut.removeEventListener("animationstart",oe,it)}}),pe}stopMonitoring(Qt){const Ut=(0,C.i8)(Qt),kt=this._monitoredElements.get(Ut);kt&&(kt.unlisten(),kt.subject.complete(),Ut.classList.remove("cdk-text-field-autofill-monitored"),Ut.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(Ut))}ngOnDestroy(){this._monitoredElements.forEach((Qt,Ut)=>this.stopMonitoring(Ut))}static#t=this.\u0275fac=function(Ut){return new(Ut||_e)(g.KVO(H.OD),g.KVO(g.SKi))};static#e=this.\u0275prov=g.jDH({token:_e,factory:_e.\u0275fac,providedIn:"root"})}return _e})(),bt=(()=>{class _e{static#t=this.\u0275fac=function(Ut){return new(Ut||_e)};static#e=this.\u0275mod=g.$C({type:_e});static#n=this.\u0275inj=g.G2t({})}return _e})();var At=P(4007),Pt=P(6569),yt=P(5696);const Ht=new g.nKC("MAT_INPUT_VALUE_ACCESSOR"),ue=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let ye=0,Le=(()=>{class _e{get disabled(){return this._disabled}set disabled(Qt){this._disabled=(0,C.he)(Qt),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(Qt){this._id=Qt||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(At.k0.required)??!1}set required(Qt){this._required=(0,C.he)(Qt)}get type(){return this._type}set type(Qt){this._type=Qt||"text",this._validateType(),!this._isTextarea&&(0,H.MU)().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._ensureWheelDefaultBehavior()}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(Qt){this._errorStateTracker.matcher=Qt}get value(){return this._inputValueAccessor.value}set value(Qt){Qt!==this.value&&(this._inputValueAccessor.value=Qt,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(Qt){this._readonly=(0,C.he)(Qt)}get errorState(){return this._errorStateTracker.errorState}set errorState(Qt){this._errorStateTracker.errorState=Qt}constructor(Qt,Ut,kt,pe,Te,oe,Kt,Zt,ke,De){this._elementRef=Qt,this._platform=Ut,this.ngControl=kt,this._autofillMonitor=Zt,this._ngZone=ke,this._formField=De,this._uid="mat-input-"+ye++,this._webkitBlinkWheelListenerAttached=!1,this.focused=!1,this.stateChanges=new ct.B,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(ee=>(0,H.MU)().has(ee)),this._iOSKeyupListener=ee=>{const Ot=ee.target;!Ot.value&&0===Ot.selectionStart&&0===Ot.selectionEnd&&(Ot.setSelectionRange(1,1),Ot.setSelectionRange(0,0))},this._webkitBlinkWheelListener=()=>{};const ge=this._elementRef.nativeElement,Oe=ge.nodeName.toLowerCase();this._inputValueAccessor=Kt||ge,this._previousNativeValue=this.value,this.id=this.id,Ut.IOS&&ke.runOutsideAngular(()=>{Qt.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new Pt.X0(oe,kt,Te,pe,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===Oe,this._isTextarea="textarea"===Oe,this._isInFormField=!!De,this._isNativeSelect&&(this.controlType=ge.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(Qt=>{this.autofilled=Qt.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener),this._webkitBlinkWheelListenerAttached&&this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(Qt){this._elementRef.nativeElement.focus(Qt)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(Qt){Qt!==this.focused&&(this.focused=Qt,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const Qt=this._elementRef.nativeElement.value;this._previousNativeValue!==Qt&&(this._previousNativeValue=Qt,this.stateChanges.next())}_dirtyCheckPlaceholder(){const Qt=this._getPlaceholder();if(Qt!==this._previousPlaceholder){const Ut=this._elementRef.nativeElement;this._previousPlaceholder=Qt,Qt?Ut.setAttribute("placeholder",Qt):Ut.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){ue.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let Qt=this._elementRef.nativeElement.validity;return Qt&&Qt.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const Qt=this._elementRef.nativeElement,Ut=Qt.options[0];return this.focused||Qt.multiple||!this.empty||!!(Qt.selectedIndex>-1&&Ut&&Ut.label)}return this.focused||!this.empty}setDescribedByIds(Qt){Qt.length?this._elementRef.nativeElement.setAttribute("aria-describedby",Qt.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const Qt=this._elementRef.nativeElement;return this._isNativeSelect&&(Qt.multiple||Qt.size>1)}_ensureWheelDefaultBehavior(){!this._webkitBlinkWheelListenerAttached&&"number"===this._type&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("wheel",this._webkitBlinkWheelListener)}),this._webkitBlinkWheelListenerAttached=!0),this._webkitBlinkWheelListenerAttached&&"number"!==this._type&&(this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener),this._webkitBlinkWheelListenerAttached=!0)}static#t=this.\u0275fac=function(Ut){return new(Ut||_e)(g.rXU(g.aKT),g.rXU(H.OD),g.rXU(At.vO,10),g.rXU(At.cV,8),g.rXU(At.j4,8),g.rXU(Pt.es),g.rXU(Ht,10),g.rXU(jt),g.rXU(g.SKi),g.rXU(yt.xb,8))};static#e=this.\u0275dir=g.FsC({type:_e,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(Ut,kt){1&Ut&&g.bIt("focus",function(){return kt._focusChanged(!0)})("blur",function(){return kt._focusChanged(!1)})("input",function(){return kt._onInput()}),2&Ut&&(g.Mr5("id",kt.id)("disabled",kt.disabled)("required",kt.required),g.BMQ("name",kt.name||null)("readonly",kt.readonly&&!kt._isNativeSelect||null)("aria-invalid",kt.empty&&kt.required?null:kt.errorState)("aria-required",kt.required)("id",kt.id),g.AVh("mat-input-server",kt._isServer)("mat-mdc-form-field-textarea-control",kt._isInFormField&&kt._isTextarea)("mat-mdc-form-field-input-control",kt._isInFormField)("mdc-text-field__input",kt._isInFormField)("mat-mdc-native-select-inline",kt._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[g.Jv_([{provide:yt.qT,useExisting:_e}]),g.OA$]})}return _e})(),rn=(()=>{class _e{static#t=this.\u0275fac=function(Ut){return new(Ut||_e)};static#e=this.\u0275mod=g.$C({type:_e});static#n=this.\u0275inj=g.G2t({imports:[Pt.yE,yt.RG,yt.RG,bt,Pt.yE]})}return _e})()},3683:(mn,ae,P)=>{"use strict";P.d(ae,{TQ:()=>ye,UG:()=>Zt,_T:()=>De,ht:()=>Le,x6:()=>Kt});var C=P(4291),H=P(3999),g=P(1071),lt=P(9284),ct=P(1732),it=P(3068),jt=P(3823),It=P(6582),pt=P(3260),bt=P(3788),At=P(3796),Pt=P(6569);function yt(ge,Oe){if(1&ge){const ee=C.RV6();C.j41(0,"div",1)(1,"button",2),C.bIt("click",function(){C.eBV(ee);const ut=C.XpG();return C.Njj(ut.action())}),C.EFF(2),C.k0s()()}if(2&ge){const ee=C.XpG();C.R7$(2),C.SpI(" ",ee.data.action," ")}}const Ft=["label"];function Ht(ge,Oe){}const ue=Math.pow(2,31)-1;class ye{constructor(Oe,ee){this._overlayRef=ee,this._afterDismissed=new g.B,this._afterOpened=new g.B,this._onAction=new g.B,this._dismissedByAction=!1,this.containerInstance=Oe,Oe._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(Oe){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(Oe,ue))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const Le=new C.nKC("MatSnackBarData");class rn{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let _e=(()=>{class ge{static#t=this.\u0275fac=function(Ot){return new(Ot||ge)};static#e=this.\u0275dir=C.FsC({type:ge,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"],standalone:!0})}return ge})(),Ke=(()=>{class ge{static#t=this.\u0275fac=function(Ot){return new(Ot||ge)};static#e=this.\u0275dir=C.FsC({type:ge,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"],standalone:!0})}return ge})(),Qt=(()=>{class ge{static#t=this.\u0275fac=function(Ot){return new(Ot||ge)};static#e=this.\u0275dir=C.FsC({type:ge,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"],standalone:!0})}return ge})(),Ut=(()=>{class ge{constructor(ee,Ot){this.snackBarRef=ee,this.data=Ot}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static#t=this.\u0275fac=function(Ot){return new(Ot||ge)(C.rXU(ye),C.rXU(Le))};static#e=this.\u0275cmp=C.VBU({type:ge,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],standalone:!0,features:[C.aNF],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(Ot,ut){1&Ot&&(C.j41(0,"div",0),C.EFF(1),C.k0s(),C.DNE(2,yt,3,1,"div",1)),2&Ot&&(C.R7$(),C.SpI(" ",ut.data.message,"\n"),C.R7$(),C.vxM(ut.hasAction?2:-1))},dependencies:[H.$z,_e,Ke,Qt],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}return ge})();const kt={snackBarState:(0,ct.hZ)("state",[(0,ct.wk)("void, hidden",(0,ct.iF)({transform:"scale(0.8)",opacity:0})),(0,ct.wk)("visible",(0,ct.iF)({transform:"scale(1)",opacity:1})),(0,ct.kY)("* => visible",(0,ct.i0)("150ms cubic-bezier(0, 0, 0.2, 1)")),(0,ct.kY)("* => void, * => hidden",(0,ct.i0)("75ms cubic-bezier(0.4, 0.0, 1, 1)",(0,ct.iF)({opacity:0})))])};let pe=0,Te=(()=>{class ge extends it.lb{constructor(ee,Ot,ut,ft,Mt){super(),this._ngZone=ee,this._elementRef=Ot,this._changeDetectorRef=ut,this._platform=ft,this.snackBarConfig=Mt,this._document=(0,C.WQX)(lt.qQ),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new g.B,this._onExit=new g.B,this._onEnter=new g.B,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+pe++,this.attachDomPortal=ot=>{this._assertNotAttached();const Dt=this._portalOutlet.attachDomPortal(ot);return this._afterPortalAttached(),Dt},this._live="assertive"!==Mt.politeness||Mt.announcementMessage?"off"===Mt.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(ee){this._assertNotAttached();const Ot=this._portalOutlet.attachComponentPortal(ee);return this._afterPortalAttached(),Ot}attachTemplatePortal(ee){this._assertNotAttached();const Ot=this._portalOutlet.attachTemplatePortal(ee);return this._afterPortalAttached(),Ot}onAnimationEnd(ee){const{fromState:Ot,toState:ut}=ee;if(("void"===ut&&"void"!==Ot||"hidden"===ut)&&this._completeExit(),"visible"===ut){const ft=this._onEnter;this._ngZone.run(()=>{ft.next(),ft.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){const ee=this._elementRef.nativeElement,Ot=this.snackBarConfig.panelClass;Ot&&(Array.isArray(Ot)?Ot.forEach(Mt=>ee.classList.add(Mt)):ee.classList.add(Ot)),this._exposeToModals();const ut=this._label.nativeElement,ft="mdc-snackbar__label";ut.classList.toggle(ft,!ut.querySelector(`.${ft}`))}_exposeToModals(){const ee=this._liveElementId,Ot=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let ut=0;ut<Ot.length;ut++){const ft=Ot[ut],Mt=ft.getAttribute("aria-owns");this._trackedModals.add(ft),Mt?-1===Mt.indexOf(ee)&&ft.setAttribute("aria-owns",Mt+" "+ee):ft.setAttribute("aria-owns",ee)}}_clearFromModals(){this._trackedModals.forEach(ee=>{const Ot=ee.getAttribute("aria-owns");if(Ot){const ut=Ot.replace(this._liveElementId,"").trim();ut.length>0?ee.setAttribute("aria-owns",ut):ee.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const ee=this._elementRef.nativeElement.querySelector("[aria-hidden]"),Ot=this._elementRef.nativeElement.querySelector("[aria-live]");if(ee&&Ot){let ut=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&ee.contains(document.activeElement)&&(ut=document.activeElement),ee.removeAttribute("aria-hidden"),Ot.appendChild(ee),ut?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static#t=this.\u0275fac=function(Ot){return new(Ot||ge)(C.rXU(C.SKi),C.rXU(C.aKT),C.rXU(C.gRc),C.rXU(jt.OD),C.rXU(rn))};static#e=this.\u0275cmp=C.VBU({type:ge,selectors:[["mat-snack-bar-container"]],viewQuery:function(Ot,ut){if(1&Ot&&(C.GBs(it.I3,7),C.GBs(Ft,7)),2&Ot){let ft;C.mGM(ft=C.lsd())&&(ut._portalOutlet=ft.first),C.mGM(ft=C.lsd())&&(ut._label=ft.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:1,hostBindings:function(Ot,ut){1&Ot&&C.Kam("@state.done",function(Mt){return ut.onAnimationEnd(Mt)}),2&Ot&&C.zvX("@state",ut._animationState)},standalone:!0,features:[C.Vt3,C.aNF],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(Ot,ut){1&Ot&&(C.j41(0,"div",1)(1,"div",2,0)(3,"div",3),C.DNE(4,Ht,0,0,"ng-template",4),C.k0s(),C.nrm(5,"div"),C.k0s()()),2&Ot&&(C.R7$(5),C.BMQ("aria-live",ut._live)("role",ut._role)("id",ut._liveElementId))},dependencies:[it.I3],styles:[".mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}.cdk-high-contrast-active .mat-mdc-snackbar-surface{outline:solid 1px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mdc-snackbar-supporting-text-color, var(--mat-app-inverse-on-surface));border-radius:var(--mdc-snackbar-container-shape, var(--mat-app-corner-extra-small));background-color:var(--mdc-snackbar-container-color, var(--mat-app-inverse-surface))}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mdc-snackbar-supporting-text-font, var(--mat-app-body-medium-font));font-size:var(--mdc-snackbar-supporting-text-size, var(--mat-app-body-medium-size));font-weight:var(--mdc-snackbar-supporting-text-weight, var(--mat-app-body-medium-weight));line-height:var(--mdc-snackbar-supporting-text-line-height, var(--mat-app-body-medium-line-height))}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color, var(--mat-app-inverse-primary));--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}"],encapsulation:2,data:{animation:[kt.snackBarState]}})}return ge})();const Kt=new C.nKC("mat-snack-bar-default-options",{providedIn:"root",factory:function oe(){return new rn}});let Zt=(()=>{class ge{get _openedSnackBarRef(){const ee=this._parentSnackBar;return ee?ee._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(ee){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=ee:this._snackBarRefAtThisLevel=ee}constructor(ee,Ot,ut,ft,Mt,ot){this._overlay=ee,this._live=Ot,this._injector=ut,this._breakpointObserver=ft,this._parentSnackBar=Mt,this._defaultConfig=ot,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=Ut,this.snackBarContainerComponent=Te,this.handsetCssClass="mat-mdc-snack-bar-handset"}openFromComponent(ee,Ot){return this._attach(ee,Ot)}openFromTemplate(ee,Ot){return this._attach(ee,Ot)}open(ee,Ot="",ut){const ft={...this._defaultConfig,...ut};return ft.data={message:ee,action:Ot},ft.announcementMessage===ee&&(ft.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,ft)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(ee,Ot){const ft=C.zZn.create({parent:Ot&&Ot.viewContainerRef&&Ot.viewContainerRef.injector||this._injector,providers:[{provide:rn,useValue:Ot}]}),Mt=new it.A8(this.snackBarContainerComponent,Ot.viewContainerRef,ft),ot=ee.attach(Mt);return ot.instance.snackBarConfig=Ot,ot.instance}_attach(ee,Ot){const ut={...new rn,...this._defaultConfig,...Ot},ft=this._createOverlay(ut),Mt=this._attachSnackBarContainer(ft,ut),ot=new ye(Mt,ft);if(ee instanceof C.C4Q){const Dt=new it.VA(ee,null,{$implicit:ut.data,snackBarRef:ot});ot.instance=Mt.attachTemplatePortal(Dt)}else{const Dt=this._createInjector(ut,ot),dt=new it.A8(ee,void 0,Dt),Vt=Mt.attachComponentPortal(dt);ot.instance=Vt.instance}return this._breakpointObserver.observe(pt.Rp.HandsetPortrait).pipe((0,At.Q)(ft.detachments())).subscribe(Dt=>{ft.overlayElement.classList.toggle(this.handsetCssClass,Dt.matches)}),ut.announcementMessage&&Mt._onAnnounce.subscribe(()=>{this._live.announce(ut.announcementMessage,ut.politeness)}),this._animateSnackBar(ot,ut),this._openedSnackBarRef=ot,this._openedSnackBarRef}_animateSnackBar(ee,Ot){ee.afterDismissed().subscribe(()=>{this._openedSnackBarRef==ee&&(this._openedSnackBarRef=null),Ot.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{ee.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):ee.containerInstance.enter(),Ot.duration&&Ot.duration>0&&ee.afterOpened().subscribe(()=>ee._dismissAfter(Ot.duration))}_createOverlay(ee){const Ot=new bt.rR;Ot.direction=ee.direction;let ut=this._overlay.position().global();const ft="rtl"===ee.direction,Mt="left"===ee.horizontalPosition||"start"===ee.horizontalPosition&&!ft||"end"===ee.horizontalPosition&&ft,ot=!Mt&&"center"!==ee.horizontalPosition;return Mt?ut.left("0"):ot?ut.right("0"):ut.centerHorizontally(),"top"===ee.verticalPosition?ut.top("0"):ut.bottom("0"),Ot.positionStrategy=ut,this._overlay.create(Ot)}_createInjector(ee,Ot){return C.zZn.create({parent:ee&&ee.viewContainerRef&&ee.viewContainerRef.injector||this._injector,providers:[{provide:ye,useValue:Ot},{provide:Le,useValue:ee.data}]})}static#t=this.\u0275fac=function(Ot){return new(Ot||ge)(C.KVO(bt.hJ),C.KVO(It.Ai),C.KVO(C.zZn),C.KVO(pt.QP),C.KVO(ge,12),C.KVO(Kt))};static#e=this.\u0275prov=C.jDH({token:ge,factory:ge.\u0275fac,providedIn:"root"})}return ge})(),De=(()=>{class ge{static#t=this.\u0275fac=function(Ot){return new(Ot||ge)};static#e=this.\u0275mod=C.$C({type:ge});static#n=this.\u0275inj=C.G2t({providers:[Zt],imports:[bt.z_,it.jc,H.Hl,Pt.yE,Ut,Pt.yE]})}return ge})()},4845:(mn,ae,P)=>{"use strict";P.d(ae,{B7:()=>pe,B8:()=>Mt,hE:()=>Ni,up:()=>be});var C=P(9284),H=P(4291);class g extends C.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class lt extends g{static makeCurrent(){(0,C.ZD)(new lt)}onAndCancel(Tt,vt,Lt){return Tt.addEventListener(vt,Lt),()=>{Tt.removeEventListener(vt,Lt)}}dispatchEvent(Tt,vt){Tt.dispatchEvent(vt)}remove(Tt){Tt.remove()}createElement(Tt,vt){return(vt=vt||this.getDefaultDocument()).createElement(Tt)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Tt){return Tt.nodeType===Node.ELEMENT_NODE}isShadowRoot(Tt){return Tt instanceof DocumentFragment}getGlobalEventTarget(Tt,vt){return"window"===vt?window:"document"===vt?Tt:"body"===vt?Tt.body:null}getBaseHref(Tt){const vt=function it(){return ct=ct||document.querySelector("base"),ct?ct.getAttribute("href"):null}();return null==vt?null:function jt(Rt){return new URL(Rt,document.baseURI).pathname}(vt)}resetBaseElement(){ct=null}getUserAgent(){return window.navigator.userAgent}getCookie(Tt){return(0,C._b)(document.cookie,Tt)}}let ct=null,pt=(()=>{class Rt{build(){return new XMLHttpRequest}static#t=this.\u0275fac=function(Lt){return new(Lt||Rt)};static#e=this.\u0275prov=H.jDH({token:Rt,factory:Rt.\u0275fac})}return Rt})();const bt=new H.nKC("");let At=(()=>{class Rt{constructor(vt,Lt){this._zone=Lt,this._eventNameToPlugin=new Map,vt.forEach(Ze=>{Ze.manager=this}),this._plugins=vt.slice().reverse()}addEventListener(vt,Lt,Ze){return this._findPluginFor(Lt).addEventListener(vt,Lt,Ze)}getZone(){return this._zone}_findPluginFor(vt){let Lt=this._eventNameToPlugin.get(vt);if(Lt)return Lt;if(Lt=this._plugins.find(An=>An.supports(vt)),!Lt)throw new H.wOt(5101,!1);return this._eventNameToPlugin.set(vt,Lt),Lt}static#t=this.\u0275fac=function(Lt){return new(Lt||Rt)(H.KVO(bt),H.KVO(H.SKi))};static#e=this.\u0275prov=H.jDH({token:Rt,factory:Rt.\u0275fac})}return Rt})();class Pt{constructor(Tt){this._doc=Tt}}const yt="ng-app-id";let Ft=(()=>{class Rt{constructor(vt,Lt,Ze,An={}){this.doc=vt,this.appId=Lt,this.nonce=Ze,this.platformId=An,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,C.Vy)(An),this.resetHostNodes()}addStyles(vt){for(const Lt of vt)1===this.changeUsageCount(Lt,1)&&this.onStyleAdded(Lt)}removeStyles(vt){for(const Lt of vt)this.changeUsageCount(Lt,-1)<=0&&this.onStyleRemoved(Lt)}ngOnDestroy(){const vt=this.styleNodesInDOM;vt&&(vt.forEach(Lt=>Lt.remove()),vt.clear());for(const Lt of this.getAllStyles())this.onStyleRemoved(Lt);this.resetHostNodes()}addHost(vt){this.hostNodes.add(vt);for(const Lt of this.getAllStyles())this.addStyleToHost(vt,Lt)}removeHost(vt){this.hostNodes.delete(vt)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(vt){for(const Lt of this.hostNodes)this.addStyleToHost(Lt,vt)}onStyleRemoved(vt){const Lt=this.styleRef;Lt.get(vt)?.elements?.forEach(Ze=>Ze.remove()),Lt.delete(vt)}collectServerRenderedStyles(){const vt=this.doc.head?.querySelectorAll(`style[${yt}="${this.appId}"]`);if(vt?.length){const Lt=new Map;return vt.forEach(Ze=>{null!=Ze.textContent&&Lt.set(Ze.textContent,Ze)}),Lt}return null}changeUsageCount(vt,Lt){const Ze=this.styleRef;if(Ze.has(vt)){const An=Ze.get(vt);return An.usage+=Lt,An.usage}return Ze.set(vt,{usage:Lt,elements:[]}),Lt}getStyleElement(vt,Lt){const Ze=this.styleNodesInDOM,An=Ze?.get(Lt);if(An?.parentNode===vt)return Ze.delete(Lt),An.removeAttribute(yt),An;{const ei=this.doc.createElement("style");return this.nonce&&ei.setAttribute("nonce",this.nonce),ei.textContent=Lt,this.platformIsServer&&ei.setAttribute(yt,this.appId),vt.appendChild(ei),ei}}addStyleToHost(vt,Lt){const Ze=this.getStyleElement(vt,Lt),An=this.styleRef,ei=An.get(Lt)?.elements;ei?ei.push(Ze):An.set(Lt,{elements:[Ze],usage:1})}resetHostNodes(){const vt=this.hostNodes;vt.clear(),vt.add(this.doc.head)}static#t=this.\u0275fac=function(Lt){return new(Lt||Rt)(H.KVO(C.qQ),H.KVO(H.sZ2),H.KVO(H.BIS,8),H.KVO(H.Agw))};static#e=this.\u0275prov=H.jDH({token:Rt,factory:Rt.\u0275fac})}return Rt})();const Ht={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},ue=/%COMP%/g,Ke=new H.nKC("",{providedIn:"root",factory:()=>!0});function kt(Rt,Tt){return Tt.map(vt=>vt.replace(ue,Rt))}let pe=(()=>{class Rt{constructor(vt,Lt,Ze,An,ei,bi,Fe,Me=null){this.eventManager=vt,this.sharedStylesHost=Lt,this.appId=Ze,this.removeStylesOnCompDestroy=An,this.doc=ei,this.platformId=bi,this.ngZone=Fe,this.nonce=Me,this.rendererByCompId=new Map,this.platformIsServer=(0,C.Vy)(bi),this.defaultRenderer=new Te(vt,ei,Fe,this.platformIsServer)}createRenderer(vt,Lt){if(!vt||!Lt)return this.defaultRenderer;this.platformIsServer&&Lt.encapsulation===H.gXe.ShadowDom&&(Lt={...Lt,encapsulation:H.gXe.Emulated});const Ze=this.getOrCreateRenderer(vt,Lt);return Ze instanceof ge?Ze.applyToHost(vt):Ze instanceof De&&Ze.applyStyles(),Ze}getOrCreateRenderer(vt,Lt){const Ze=this.rendererByCompId;let An=Ze.get(Lt.id);if(!An){const ei=this.doc,bi=this.ngZone,Fe=this.eventManager,Me=this.sharedStylesHost,Gt=this.removeStylesOnCompDestroy,Ce=this.platformIsServer;switch(Lt.encapsulation){case H.gXe.Emulated:An=new ge(Fe,Me,Lt,this.appId,Gt,ei,bi,Ce);break;case H.gXe.ShadowDom:return new ke(Fe,Me,vt,Lt,ei,bi,this.nonce,Ce);default:An=new De(Fe,Me,Lt,Gt,ei,bi,Ce)}Ze.set(Lt.id,An)}return An}ngOnDestroy(){this.rendererByCompId.clear()}static#t=this.\u0275fac=function(Lt){return new(Lt||Rt)(H.KVO(At),H.KVO(Ft),H.KVO(H.sZ2),H.KVO(Ke),H.KVO(C.qQ),H.KVO(H.Agw),H.KVO(H.SKi),H.KVO(H.BIS))};static#e=this.\u0275prov=H.jDH({token:Rt,factory:Rt.\u0275fac})}return Rt})();class Te{constructor(Tt,vt,Lt,Ze){this.eventManager=Tt,this.doc=vt,this.ngZone=Lt,this.platformIsServer=Ze,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(Tt,vt){return vt?this.doc.createElementNS(Ht[vt]||vt,Tt):this.doc.createElement(Tt)}createComment(Tt){return this.doc.createComment(Tt)}createText(Tt){return this.doc.createTextNode(Tt)}appendChild(Tt,vt){(Zt(Tt)?Tt.content:Tt).appendChild(vt)}insertBefore(Tt,vt,Lt){Tt&&(Zt(Tt)?Tt.content:Tt).insertBefore(vt,Lt)}removeChild(Tt,vt){vt.remove()}selectRootElement(Tt,vt){let Lt="string"==typeof Tt?this.doc.querySelector(Tt):Tt;if(!Lt)throw new H.wOt(-5104,!1);return vt||(Lt.textContent=""),Lt}parentNode(Tt){return Tt.parentNode}nextSibling(Tt){return Tt.nextSibling}setAttribute(Tt,vt,Lt,Ze){if(Ze){vt=Ze+":"+vt;const An=Ht[Ze];An?Tt.setAttributeNS(An,vt,Lt):Tt.setAttribute(vt,Lt)}else Tt.setAttribute(vt,Lt)}removeAttribute(Tt,vt,Lt){if(Lt){const Ze=Ht[Lt];Ze?Tt.removeAttributeNS(Ze,vt):Tt.removeAttribute(`${Lt}:${vt}`)}else Tt.removeAttribute(vt)}addClass(Tt,vt){Tt.classList.add(vt)}removeClass(Tt,vt){Tt.classList.remove(vt)}setStyle(Tt,vt,Lt,Ze){Ze&(H.czy.DashCase|H.czy.Important)?Tt.style.setProperty(vt,Lt,Ze&H.czy.Important?"important":""):Tt.style[vt]=Lt}removeStyle(Tt,vt,Lt){Lt&H.czy.DashCase?Tt.style.removeProperty(vt):Tt.style[vt]=""}setProperty(Tt,vt,Lt){null!=Tt&&(Tt[vt]=Lt)}setValue(Tt,vt){Tt.nodeValue=vt}listen(Tt,vt,Lt){if("string"==typeof Tt&&!(Tt=(0,C.QT)().getGlobalEventTarget(this.doc,Tt)))throw new Error(`Unsupported event target ${Tt} for event ${vt}`);return this.eventManager.addEventListener(Tt,vt,this.decoratePreventDefault(Lt))}decoratePreventDefault(Tt){return vt=>{if("__ngUnwrap__"===vt)return Tt;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Tt(vt)):Tt(vt))&&vt.preventDefault()}}}function Zt(Rt){return"TEMPLATE"===Rt.tagName&&void 0!==Rt.content}class ke extends Te{constructor(Tt,vt,Lt,Ze,An,ei,bi,Fe){super(Tt,An,ei,Fe),this.sharedStylesHost=vt,this.hostEl=Lt,this.shadowRoot=Lt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Me=kt(Ze.id,Ze.styles);for(const Gt of Me){const Ce=document.createElement("style");bi&&Ce.setAttribute("nonce",bi),Ce.textContent=Gt,this.shadowRoot.appendChild(Ce)}}nodeOrShadowRoot(Tt){return Tt===this.hostEl?this.shadowRoot:Tt}appendChild(Tt,vt){return super.appendChild(this.nodeOrShadowRoot(Tt),vt)}insertBefore(Tt,vt,Lt){return super.insertBefore(this.nodeOrShadowRoot(Tt),vt,Lt)}removeChild(Tt,vt){return super.removeChild(null,vt)}parentNode(Tt){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Tt)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class De extends Te{constructor(Tt,vt,Lt,Ze,An,ei,bi,Fe){super(Tt,An,ei,bi),this.sharedStylesHost=vt,this.removeStylesOnCompDestroy=Ze,this.styles=Fe?kt(Fe,Lt.styles):Lt.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class ge extends De{constructor(Tt,vt,Lt,Ze,An,ei,bi,Fe){const Me=Ze+"-"+Lt.id;super(Tt,vt,Lt,An,ei,bi,Fe,Me),this.contentAttr=function Qt(Rt){return"_ngcontent-%COMP%".replace(ue,Rt)}(Me),this.hostAttr=function Ut(Rt){return"_nghost-%COMP%".replace(ue,Rt)}(Me)}applyToHost(Tt){this.applyStyles(),this.setAttribute(Tt,this.hostAttr,"")}createElement(Tt,vt){const Lt=super.createElement(Tt,vt);return super.setAttribute(Lt,this.contentAttr,""),Lt}}let Oe=(()=>{class Rt extends Pt{constructor(vt){super(vt)}supports(vt){return!0}addEventListener(vt,Lt,Ze){return vt.addEventListener(Lt,Ze,!1),()=>this.removeEventListener(vt,Lt,Ze)}removeEventListener(vt,Lt,Ze){return vt.removeEventListener(Lt,Ze)}static#t=this.\u0275fac=function(Lt){return new(Lt||Rt)(H.KVO(C.qQ))};static#e=this.\u0275prov=H.jDH({token:Rt,factory:Rt.\u0275fac})}return Rt})();const ee=["alt","control","meta","shift"],Ot={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ut={alt:Rt=>Rt.altKey,control:Rt=>Rt.ctrlKey,meta:Rt=>Rt.metaKey,shift:Rt=>Rt.shiftKey};let ft=(()=>{class Rt extends Pt{constructor(vt){super(vt)}supports(vt){return null!=Rt.parseEventName(vt)}addEventListener(vt,Lt,Ze){const An=Rt.parseEventName(Lt),ei=Rt.eventCallback(An.fullKey,Ze,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,C.QT)().onAndCancel(vt,An.domEventName,ei))}static parseEventName(vt){const Lt=vt.toLowerCase().split("."),Ze=Lt.shift();if(0===Lt.length||"keydown"!==Ze&&"keyup"!==Ze)return null;const An=Rt._normalizeKey(Lt.pop());let ei="",bi=Lt.indexOf("code");if(bi>-1&&(Lt.splice(bi,1),ei="code."),ee.forEach(Me=>{const Gt=Lt.indexOf(Me);Gt>-1&&(Lt.splice(Gt,1),ei+=Me+".")}),ei+=An,0!=Lt.length||0===An.length)return null;const Fe={};return Fe.domEventName=Ze,Fe.fullKey=ei,Fe}static matchEventFullKeyCode(vt,Lt){let Ze=Ot[vt.key]||vt.key,An="";return Lt.indexOf("code.")>-1&&(Ze=vt.code,An="code."),!(null==Ze||!Ze)&&(Ze=Ze.toLowerCase()," "===Ze?Ze="space":"."===Ze&&(Ze="dot"),ee.forEach(ei=>{ei!==Ze&&(0,ut[ei])(vt)&&(An+=ei+".")}),An+=Ze,An===Lt)}static eventCallback(vt,Lt,Ze){return An=>{Rt.matchEventFullKeyCode(An,vt)&&Ze.runGuarded(()=>Lt(An))}}static _normalizeKey(vt){return"esc"===vt?"escape":vt}static#t=this.\u0275fac=function(Lt){return new(Lt||Rt)(H.KVO(C.qQ))};static#e=this.\u0275prov=H.jDH({token:Rt,factory:Rt.\u0275fac})}return Rt})();function Mt(Rt,Tt){return(0,H.TL3)({rootComponent:Rt,...Dt(Tt)})}function Dt(Rt){return{appProviders:[...Fn,...Rt?.providers??[]],platformProviders:Ie}}const Ie=[{provide:H.Agw,useValue:C.AJ},{provide:H.PLl,useValue:function Vt(){lt.makeCurrent()},multi:!0},{provide:C.qQ,useFactory:function we(){return(0,H.TL$)(document),document},deps:[]}],Fn=[{provide:H.H8p,useValue:"root"},{provide:H.zcH,useFactory:function Ee(){return new H.zcH},deps:[]},{provide:bt,useClass:Oe,multi:!0,deps:[C.qQ,H.SKi,H.Agw]},{provide:bt,useClass:ft,multi:!0,deps:[C.qQ]},pe,Ft,At,{provide:H._9s,useExisting:pe},{provide:C.N0,useClass:pt,deps:[]},[]];let Ni=(()=>{class Rt{constructor(vt){this._doc=vt}getTitle(){return this._doc.title}setTitle(vt){this._doc.title=vt||""}static#t=this.\u0275fac=function(Lt){return new(Lt||Rt)(H.KVO(C.qQ))};static#e=this.\u0275prov=H.jDH({token:Rt,factory:Rt.\u0275fac,providedIn:"root"})}return Rt})(),be=(()=>{class Rt{static#t=this.\u0275fac=function(Lt){return new(Lt||Rt)};static#e=this.\u0275prov=H.jDH({token:Rt,factory:function(Lt){let Ze=null;return Ze=Lt?new(Lt||Rt):H.KVO(je),Ze},providedIn:"root"})}return Rt})(),je=(()=>{class Rt extends be{constructor(vt){super(),this._doc=vt}sanitize(vt,Lt){if(null==Lt)return null;switch(vt){case H.WPN.NONE:return Lt;case H.WPN.HTML:return(0,H.ZF7)(Lt,"HTML")?(0,H.rcV)(Lt):(0,H.h9k)(this._doc,String(Lt)).toString();case H.WPN.STYLE:return(0,H.ZF7)(Lt,"Style")?(0,H.rcV)(Lt):Lt;case H.WPN.SCRIPT:if((0,H.ZF7)(Lt,"Script"))return(0,H.rcV)(Lt);throw new H.wOt(5200,!1);case H.WPN.URL:return(0,H.ZF7)(Lt,"URL")?(0,H.rcV)(Lt):(0,H.$MX)(String(Lt));case H.WPN.RESOURCE_URL:if((0,H.ZF7)(Lt,"ResourceURL"))return(0,H.rcV)(Lt);throw new H.wOt(5201,!1);default:throw new H.wOt(5202,!1)}}bypassSecurityTrustHtml(vt){return(0,H.Kcf)(vt)}bypassSecurityTrustStyle(vt){return(0,H.cWb)(vt)}bypassSecurityTrustScript(vt){return(0,H.UyX)(vt)}bypassSecurityTrustUrl(vt){return(0,H.osQ)(vt)}bypassSecurityTrustResourceUrl(vt){return(0,H.e5t)(vt)}static#t=this.\u0275fac=function(Lt){return new(Lt||Rt)(H.KVO(C.qQ))};static#e=this.\u0275prov=H.jDH({token:Rt,factory:Rt.\u0275fac,providedIn:"root"})}return Rt})()},5263:(mn,ae,P)=>{"use strict";P.d(ae,{j5:()=>dr,wF:()=>Rn,L6:()=>vr,Z:()=>Pn,gx:()=>Mr,Ix:()=>cn,n3:()=>ys,ld:()=>Wr,lh:()=>by,Zy:()=>cs,GB:()=>$h,Sn:()=>Tc});var C=P(4291),H=P(7375),g=P(3467),lt=P(3204),ct=P(8093);const jt=(0,P(7272).L)(N=>function(){N(this),this.name="EmptyError",this.message="no elements in sequence"});var It=P(103),pt=P(3279),bt=P(3777),At=P(3754),Pt=P(535),yt=P(4080),Ft=P(3982),Ht=P(3479),ue=P(1531),ye=P(1391);function Le(){return(0,ue.N)((N,z)=>{let B=null;N._refCount++;const W=(0,ye._)(z,void 0,void 0,void 0,()=>{if(!N||N._refCount<=0||0<--N._refCount)return void(B=null);const tt=N._connection,_t=B;B=null,tt&&(!_t||tt===_t)&&tt.unsubscribe(),z.unsubscribe()});N.subscribe(W),W.closed||(B=N.connect())})}class rn extends Ft.c{constructor(z,B){super(),this.source=z,this.subjectFactory=B,this._subject=null,this._refCount=0,this._connection=null,(0,ue.S)(z)&&(this.lift=z.lift)}_subscribe(z){return this.getSubject().subscribe(z)}getSubject(){const z=this._subject;return(!z||z.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:z}=this;this._subject=this._connection=null,z?.unsubscribe()}connect(){let z=this._connection;if(!z){z=this._connection=new Ht.yU;const B=this.getSubject();z.add(this.source.subscribe((0,ye._)(B,void 0,()=>{this._teardown(),B.complete()},W=>{this._teardown(),B.error(W)},()=>this._teardown()))),z.closed&&(this._connection=null,z=Ht.yU.EMPTY)}return z}refCount(){return Le()(this)}}var _e=P(1071),Ke=P(9284),Qt=P(8199),Ut=P(7071),kt=P(5910),pe=P(613),Te=P(2647),oe=P(7252);function Kt(N){return(0,ue.N)((z,B)=>{let W=!1;z.subscribe((0,ye._)(B,tt=>{W=!0,B.next(tt)},()=>{W||B.next(N),B.complete()}))})}function Zt(N=ke){return(0,ue.N)((z,B)=>{let W=!1;z.subscribe((0,ye._)(B,tt=>{W=!0,B.next(tt)},()=>W?B.complete():B.error(N())))})}function ke(){return new jt}var De=P(7992);function ge(N,z){const B=arguments.length>=2;return W=>W.pipe(N?(0,Te.p)((tt,_t)=>N(tt,_t,W)):De.D,(0,kt.s)(1),B?Kt(z):Zt(()=>new jt))}var Oe=P(5799),ee=P(5044),Ot=P(1534),ut=P(1546);function ft(N){return N<=0?()=>yt.w:(0,ue.N)((z,B)=>{let W=[];z.subscribe((0,ye._)(B,tt=>{W.push(tt),N<W.length&&W.shift()},()=>{for(const tt of W)B.next(tt);B.complete()},void 0,()=>{W=null}))})}var ot=P(3498),Dt=P(4507),dt=P(3796),Vt=P(7294),Ee=P(4845);const we="primary",Ie=Symbol("RouteTitle");class fn{constructor(z){this.params=z||{}}has(z){return Object.prototype.hasOwnProperty.call(this.params,z)}get(z){if(this.has(z)){const B=this.params[z];return Array.isArray(B)?B[0]:B}return null}getAll(z){if(this.has(z)){const B=this.params[z];return Array.isArray(B)?B:[B]}return[]}get keys(){return Object.keys(this.params)}}function Un(N){return new fn(N)}function Ri(N,z,B){const W=B.path.split("/");if(W.length>N.length||"full"===B.pathMatch&&(z.hasChildren()||W.length<N.length))return null;const tt={};for(let _t=0;_t<W.length;_t++){const re=W[_t],an=N[_t];if(":"===re[0])tt[re.substring(1)]=an;else if(re!==an.path)return null}return{consumed:N.slice(0,W.length),posParams:tt}}function ci(N,z){const B=N?Di(N):void 0,W=z?Di(z):void 0;if(!B||!W||B.length!=W.length)return!1;let tt;for(let _t=0;_t<B.length;_t++)if(tt=B[_t],!Li(N[tt],z[tt]))return!1;return!0}function Di(N){return[...Object.keys(N),...Object.getOwnPropertySymbols(N)]}function Li(N,z){if(Array.isArray(N)&&Array.isArray(z)){if(N.length!==z.length)return!1;const B=[...N].sort(),W=[...z].sort();return B.every((tt,_t)=>W[_t]===tt)}return N===z}function Ni(N){return N.length>0?N[N.length-1]:null}function Vi(N){return(0,H.A)(N)?N:(0,C.jNT)(N)?(0,g.H)(Promise.resolve(N)):(0,lt.of)(N)}const Tn={exact:function Ir(N,z,B){if(!be(N.segments,z.segments)||!fe(N.segments,z.segments,B)||N.numberOfChildren!==z.numberOfChildren)return!1;for(const W in z.children)if(!N.children[W]||!Ir(N.children[W],z.children[W],B))return!1;return!0},subset:mt},er={exact:function kr(N,z){return ci(N,z)},subset:function tn(N,z){return Object.keys(z).length<=Object.keys(N).length&&Object.keys(z).every(B=>Li(N[B],z[B]))},ignored:()=>!0};function ur(N,z,B){return Tn[B.paths](N.root,z.root,B.matrixParams)&&er[B.queryParams](N.queryParams,z.queryParams)&&!("exact"===B.fragment&&N.fragment!==z.fragment)}function mt(N,z,B){return Nt(N,z,z.segments,B)}function Nt(N,z,B,W){if(N.segments.length>B.length){const tt=N.segments.slice(0,B.length);return!(!be(tt,B)||z.hasChildren()||!fe(tt,B,W))}if(N.segments.length===B.length){if(!be(N.segments,B)||!fe(N.segments,B,W))return!1;for(const tt in z.children)if(!N.children[tt]||!mt(N.children[tt],z.children[tt],W))return!1;return!0}{const tt=B.slice(0,N.segments.length),_t=B.slice(N.segments.length);return!!(be(N.segments,tt)&&fe(N.segments,tt,W)&&N.children[we])&&Nt(N.children[we],z,_t,W)}}function fe(N,z,B){return z.every((W,tt)=>er[B](N[tt].parameters,W.parameters))}class Ge{constructor(z=new Wt([],{}),B={},W=null){this.root=z,this.queryParams=B,this.fragment=W}get queryParamMap(){return this._queryParamMap??=Un(this.queryParams),this._queryParamMap}toString(){return si.serialize(this)}}class Wt{constructor(z,B){this.segments=z,this.children=B,this.parent=null,Object.values(B).forEach(W=>W.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return xe(this)}}class qe{constructor(z,B){this.path=z,this.parameters=B}get parameterMap(){return this._parameterMap??=Un(this.parameters),this._parameterMap}toString(){return vt(this)}}function be(N,z){return N.length===z.length&&N.every((B,W)=>B.path===z[W].path)}let on=(()=>{class N{static#t=this.\u0275fac=function(W){return new(W||N)};static#e=this.\u0275prov=C.jDH({token:N,factory:()=>new Sn,providedIn:"root"})}return N})();class Sn{parse(z){const B=new $t(z);return new Ge(B.parseRootSegment(),B.parseQueryParams(),B.parseFragment())}serialize(z){const B=`/${pn(z.root,!0)}`,W=function Ze(N){const z=Object.entries(N).map(([B,W])=>Array.isArray(W)?W.map(tt=>`${yn(B)}=${yn(tt)}`).join("&"):`${yn(B)}=${yn(W)}`).filter(B=>B);return z.length?`?${z.join("&")}`:""}(z.queryParams);return`${B}${W}${"string"==typeof z.fragment?`#${function $e(N){return encodeURI(N)}(z.fragment)}`:""}`}}const si=new Sn;function xe(N){return N.segments.map(z=>vt(z)).join("/")}function pn(N,z){if(!N.hasChildren())return xe(N);if(z){const B=N.children[we]?pn(N.children[we],!1):"",W=[];return Object.entries(N.children).forEach(([tt,_t])=>{tt!==we&&W.push(`${tt}:${pn(_t,!1)}`)}),W.length>0?`${B}(${W.join("//")})`:B}{const B=function je(N,z){let B=[];return Object.entries(N.children).forEach(([W,tt])=>{W===we&&(B=B.concat(z(tt,W)))}),Object.entries(N.children).forEach(([W,tt])=>{W!==we&&(B=B.concat(z(tt,W)))}),B}(N,(W,tt)=>tt===we?[pn(N.children[we],!1)]:[`${tt}:${pn(W,!1)}`]);return 1===Object.keys(N.children).length&&null!=N.children[we]?`${xe(N)}/${B[0]}`:`${xe(N)}/(${B.join("//")})`}}function en(N){return encodeURIComponent(N).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function yn(N){return en(N).replace(/%3B/gi,";")}function Bn(N){return en(N).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Rt(N){return decodeURIComponent(N)}function Tt(N){return Rt(N.replace(/\+/g,"%20"))}function vt(N){return`${Bn(N.path)}${function Lt(N){return Object.entries(N).map(([z,B])=>`;${Bn(z)}=${Bn(B)}`).join("")}(N.parameters)}`}const An=/^[^\/()?;#]+/;function ei(N){const z=N.match(An);return z?z[0]:""}const bi=/^[^\/()?;=#]+/,Me=/^[^=?&#]+/,Ce=/^[^&#]+/;class $t{constructor(z){this.url=z,this.remaining=z}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Wt([],{}):new Wt([],this.parseChildren())}parseQueryParams(){const z={};if(this.consumeOptional("?"))do{this.parseQueryParam(z)}while(this.consumeOptional("&"));return z}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const z=[];for(this.peekStartsWith("(")||z.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),z.push(this.parseSegment());let B={};this.peekStartsWith("/(")&&(this.capture("/"),B=this.parseParens(!0));let W={};return this.peekStartsWith("(")&&(W=this.parseParens(!1)),(z.length>0||Object.keys(B).length>0)&&(W[we]=new Wt(z,B)),W}parseSegment(){const z=ei(this.remaining);if(""===z&&this.peekStartsWith(";"))throw new C.wOt(4009,!1);return this.capture(z),new qe(Rt(z),this.parseMatrixParams())}parseMatrixParams(){const z={};for(;this.consumeOptional(";");)this.parseParam(z);return z}parseParam(z){const B=function Fe(N){const z=N.match(bi);return z?z[0]:""}(this.remaining);if(!B)return;this.capture(B);let W="";if(this.consumeOptional("=")){const tt=ei(this.remaining);tt&&(W=tt,this.capture(W))}z[Rt(B)]=Rt(W)}parseQueryParam(z){const B=function Gt(N){const z=N.match(Me);return z?z[0]:""}(this.remaining);if(!B)return;this.capture(B);let W="";if(this.consumeOptional("=")){const re=function Jt(N){const z=N.match(Ce);return z?z[0]:""}(this.remaining);re&&(W=re,this.capture(W))}const tt=Tt(B),_t=Tt(W);if(z.hasOwnProperty(tt)){let re=z[tt];Array.isArray(re)||(re=[re],z[tt]=re),re.push(_t)}else z[tt]=_t}parseParens(z){const B={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const W=ei(this.remaining),tt=this.remaining[W.length];if("/"!==tt&&")"!==tt&&";"!==tt)throw new C.wOt(4010,!1);let _t;W.indexOf(":")>-1?(_t=W.slice(0,W.indexOf(":")),this.capture(_t),this.capture(":")):z&&(_t=we);const re=this.parseChildren();B[_t]=1===Object.keys(re).length?re[we]:new Wt([],re),this.consumeOptional("//")}return B}peekStartsWith(z){return this.remaining.startsWith(z)}consumeOptional(z){return!!this.peekStartsWith(z)&&(this.remaining=this.remaining.substring(z.length),!0)}capture(z){if(!this.consumeOptional(z))throw new C.wOt(4011,!1)}}function wt(N){return N.segments.length>0?new Wt([],{[we]:N}):N}function qt(N){const z={};for(const[W,tt]of Object.entries(N.children)){const _t=qt(tt);if(W===we&&0===_t.segments.length&&_t.hasChildren())for(const[re,an]of Object.entries(_t.children))z[re]=an;else(_t.segments.length>0||_t.hasChildren())&&(z[W]=_t)}return function Ve(N){if(1===N.numberOfChildren&&N.children[we]){const z=N.children[we];return new Wt(N.segments.concat(z.segments),z.children)}return N}(new Wt(N.segments,z))}function Xe(N){return N instanceof Ge}function Ur(N){let z;const tt=wt(function B(_t){const re={};for(const Ue of _t.children){const ln=B(Ue);re[Ue.outlet]=ln}const an=new Wt(_t.url,re);return _t===N&&(z=an),an}(N.root));return z??tt}function uo(N,z,B,W){let tt=N;for(;tt.parent;)tt=tt.parent;if(0===z.length)return te(tt,tt,tt,B,W);const _t=function Pe(N){if("string"==typeof N[0]&&1===N.length&&"/"===N[0])return new ne(!0,0,N);let z=0,B=!1;const W=N.reduce((tt,_t,re)=>{if("object"==typeof _t&&null!=_t){if(_t.outlets){const an={};return Object.entries(_t.outlets).forEach(([Ue,ln])=>{an[Ue]="string"==typeof ln?ln.split("/"):ln}),[...tt,{outlets:an}]}if(_t.segmentPath)return[...tt,_t.segmentPath]}return"string"!=typeof _t?[...tt,_t]:0===re?(_t.split("/").forEach((an,Ue)=>{0==Ue&&"."===an||(0==Ue&&""===an?B=!0:".."===an?z++:""!=an&&tt.push(an))}),tt):[...tt,_t]},[]);return new ne(B,z,W)}(z);if(_t.toRoot())return te(tt,tt,new Wt([],{}),B,W);const re=function ve(N,z,B){if(N.isAbsolute)return new Ye(z,!0,0);if(!B)return new Ye(z,!1,NaN);if(null===B.parent)return new Ye(B,!0,0);const W=no(N.commands[0])?0:1;return function Cn(N,z,B){let W=N,tt=z,_t=B;for(;_t>tt;){if(_t-=tt,W=W.parent,!W)throw new C.wOt(4005,!1);tt=W.segments.length}return new Ye(W,!1,tt-_t)}(B,B.segments.length-1+W,N.numberOfDoubleDots)}(_t,tt,N),an=re.processChildren?Hn(re.segmentGroup,re.index,_t.commands):Qe(re.segmentGroup,re.index,_t.commands);return te(tt,re.segmentGroup,an,B,W)}function no(N){return"object"==typeof N&&null!=N&&!N.outlets&&!N.segmentPath}function ho(N){return"object"==typeof N&&null!=N&&N.outlets}function te(N,z,B,W,tt){let re,_t={};W&&Object.entries(W).forEach(([Ue,ln])=>{_t[Ue]=Array.isArray(ln)?ln.map($i=>`${$i}`):`${ln}`}),re=N===z?B:Mn(N,z,B);const an=wt(qt(re));return new Ge(an,_t,tt)}function Mn(N,z,B){const W={};return Object.entries(N.children).forEach(([tt,_t])=>{W[tt]=_t===z?B:Mn(_t,z,B)}),new Wt(N.segments,W)}class ne{constructor(z,B,W){if(this.isAbsolute=z,this.numberOfDoubleDots=B,this.commands=W,z&&W.length>0&&no(W[0]))throw new C.wOt(4003,!1);const tt=W.find(ho);if(tt&&tt!==Ni(W))throw new C.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ye{constructor(z,B,W){this.segmentGroup=z,this.processChildren=B,this.index=W}}function Qe(N,z,B){if(N??=new Wt([],{}),0===N.segments.length&&N.hasChildren())return Hn(N,z,B);const W=function fi(N,z,B){let W=0,tt=z;const _t={match:!1,pathIndex:0,commandIndex:0};for(;tt<N.segments.length;){if(W>=B.length)return _t;const re=N.segments[tt],an=B[W];if(ho(an))break;const Ue=`${an}`,ln=W<B.length-1?B[W+1]:null;if(tt>0&&void 0===Ue)break;if(Ue&&ln&&"object"==typeof ln&&void 0===ln.outlets){if(!le(Ue,ln,re))return _t;W+=2}else{if(!le(Ue,{},re))return _t;W++}tt++}return{match:!0,pathIndex:tt,commandIndex:W}}(N,z,B),tt=B.slice(W.commandIndex);if(W.match&&W.pathIndex<N.segments.length){const _t=new Wt(N.segments.slice(0,W.pathIndex),{});return _t.children[we]=new Wt(N.segments.slice(W.pathIndex),N.children),Hn(_t,0,tt)}return W.match&&0===tt.length?new Wt(N.segments,{}):W.match&&!N.hasChildren()?gi(N,z,B):W.match?Hn(N,0,tt):gi(N,z,B)}function Hn(N,z,B){if(0===B.length)return new Wt(N.segments,{});{const W=function Re(N){return ho(N[0])?N[0].outlets:{[we]:N}}(B),tt={};if(Object.keys(W).some(_t=>_t!==we)&&N.children[we]&&1===N.numberOfChildren&&0===N.children[we].segments.length){const _t=Hn(N.children[we],z,B);return new Wt(N.segments,_t.children)}return Object.entries(W).forEach(([_t,re])=>{"string"==typeof re&&(re=[re]),null!==re&&(tt[_t]=Qe(N.children[_t],z,re))}),Object.entries(N.children).forEach(([_t,re])=>{void 0===W[_t]&&(tt[_t]=re)}),new Wt(N.segments,tt)}}function gi(N,z,B){const W=N.segments.slice(0,z);let tt=0;for(;tt<B.length;){const _t=B[tt];if(ho(_t)){const Ue=li(_t.outlets);return new Wt(W,Ue)}if(0===tt&&no(B[0])){W.push(new qe(N.segments[z].path,Ct(B[0]))),tt++;continue}const re=ho(_t)?_t.outlets[we]:`${_t}`,an=tt<B.length-1?B[tt+1]:null;re&&an&&no(an)?(W.push(new qe(re,Ct(an))),tt+=2):(W.push(new qe(re,{})),tt++)}return new Wt(W,{})}function li(N){const z={};return Object.entries(N).forEach(([B,W])=>{"string"==typeof W&&(W=[W]),null!==W&&(z[B]=gi(new Wt([],{}),0,W))}),z}function Ct(N){const z={};return Object.entries(N).forEach(([B,W])=>z[B]=`${W}`),z}function le(N,z,B){return N==B.path&&ci(z,B.parameters)}const he="imperative";var Ne=function(N){return N[N.NavigationStart=0]="NavigationStart",N[N.NavigationEnd=1]="NavigationEnd",N[N.NavigationCancel=2]="NavigationCancel",N[N.NavigationError=3]="NavigationError",N[N.RoutesRecognized=4]="RoutesRecognized",N[N.ResolveStart=5]="ResolveStart",N[N.ResolveEnd=6]="ResolveEnd",N[N.GuardsCheckStart=7]="GuardsCheckStart",N[N.GuardsCheckEnd=8]="GuardsCheckEnd",N[N.RouteConfigLoadStart=9]="RouteConfigLoadStart",N[N.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",N[N.ChildActivationStart=11]="ChildActivationStart",N[N.ChildActivationEnd=12]="ChildActivationEnd",N[N.ActivationStart=13]="ActivationStart",N[N.ActivationEnd=14]="ActivationEnd",N[N.Scroll=15]="Scroll",N[N.NavigationSkipped=16]="NavigationSkipped",N}(Ne||{});class bn{constructor(z,B){this.id=z,this.url=B}}class Pn extends bn{constructor(z,B,W="imperative",tt=null){super(z,B),this.type=Ne.NavigationStart,this.navigationTrigger=W,this.restoredState=tt}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Rn extends bn{constructor(z,B,W){super(z,B),this.urlAfterRedirects=W,this.type=Ne.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Ei=function(N){return N[N.Redirect=0]="Redirect",N[N.SupersededByNewNavigation=1]="SupersededByNewNavigation",N[N.NoDataFromResolver=2]="NoDataFromResolver",N[N.GuardRejected=3]="GuardRejected",N}(Ei||{}),Ci=function(N){return N[N.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",N[N.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",N}(Ci||{});class dr extends bn{constructor(z,B,W,tt){super(z,B),this.reason=W,this.code=tt,this.type=Ne.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Zr extends bn{constructor(z,B,W,tt){super(z,B),this.reason=W,this.code=tt,this.type=Ne.NavigationSkipped}}class vr extends bn{constructor(z,B,W,tt){super(z,B),this.error=W,this.target=tt,this.type=Ne.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Wr extends bn{constructor(z,B,W,tt){super(z,B),this.urlAfterRedirects=W,this.state=tt,this.type=Ne.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class io extends bn{constructor(z,B,W,tt){super(z,B),this.urlAfterRedirects=W,this.state=tt,this.type=Ne.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Oo extends bn{constructor(z,B,W,tt,_t){super(z,B),this.urlAfterRedirects=W,this.state=tt,this.shouldActivate=_t,this.type=Ne.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Wi extends bn{constructor(z,B,W,tt){super(z,B),this.urlAfterRedirects=W,this.state=tt,this.type=Ne.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mr extends bn{constructor(z,B,W,tt){super(z,B),this.urlAfterRedirects=W,this.state=tt,this.type=Ne.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ko{constructor(z){this.route=z,this.type=Ne.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Bt{constructor(z){this.route=z,this.type=Ne.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ae{constructor(z){this.snapshot=z,this.type=Ne.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ze{constructor(z){this.snapshot=z,this.type=Ne.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nn{constructor(z){this.snapshot=z,this.type=Ne.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jn{constructor(z){this.snapshot=z,this.type=Ne.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ui{}class Rr{constructor(z,B){this.url=z,this.navigationBehaviorOptions=B}}function zs(N){return N.outlet||we}function Fl(N){if(!N)return null;if(N.routeConfig?._injector)return N.routeConfig._injector;for(let z=N.parent;z;z=z.parent){const B=z.routeConfig;if(B?._loadedInjector)return B._loadedInjector;if(B?._injector)return B._injector}return null}class tu{get injector(){return Fl(this.route?.snapshot)??this.rootInjector}set injector(z){}constructor(z){this.rootInjector=z,this.outlet=null,this.route=null,this.children=new Aa(this.rootInjector),this.attachRef=null}}let Aa=(()=>{class N{constructor(B){this.rootInjector=B,this.contexts=new Map}onChildOutletCreated(B,W){const tt=this.getOrCreateContext(B);tt.outlet=W,this.contexts.set(B,tt)}onChildOutletDestroyed(B){const W=this.getContext(B);W&&(W.outlet=null,W.attachRef=null)}onOutletDeactivated(){const B=this.contexts;return this.contexts=new Map,B}onOutletReAttached(B){this.contexts=B}getOrCreateContext(B){let W=this.getContext(B);return W||(W=new tu(this.rootInjector),this.contexts.set(B,W)),W}getContext(B){return this.contexts.get(B)||null}static#t=this.\u0275fac=function(W){return new(W||N)(C.KVO(C.uvJ))};static#e=this.\u0275prov=C.jDH({token:N,factory:N.\u0275fac,providedIn:"root"})}return N})();class eu{constructor(z){this._root=z}get root(){return this._root.value}parent(z){const B=this.pathFromRoot(z);return B.length>1?B[B.length-2]:null}children(z){const B=Oa(z,this._root);return B?B.children.map(W=>W.value):[]}firstChild(z){const B=Oa(z,this._root);return B&&B.children.length>0?B.children[0].value:null}siblings(z){const B=hl(z,this._root);return B.length<2?[]:B[B.length-2].children.map(tt=>tt.value).filter(tt=>tt!==z)}pathFromRoot(z){return hl(z,this._root).map(B=>B.value)}}function Oa(N,z){if(N===z.value)return z;for(const B of z.children){const W=Oa(N,B);if(W)return W}return null}function hl(N,z){if(N===z.value)return[z];for(const B of z.children){const W=hl(N,B);if(W.length)return W.unshift(z),W}return[]}class Hr{constructor(z,B){this.value=z,this.children=B}toString(){return`TreeNode(${this.value})`}}function is(N){const z={};return N&&N.children.forEach(B=>z[B.value.outlet]=B),z}class Si extends eu{constructor(z,B){super(z),this.snapshot=B,Pd(this,z)}toString(){return this.snapshot.toString()}}function Ya(N){const z=function fl(N){const _t=new gc([],{},{},"",{},we,N,null,{});return new Rd("",new Hr(_t,[]))}(N),B=new ct.t([new qe("",{})]),W=new ct.t({}),tt=new ct.t({}),_t=new ct.t({}),re=new ct.t(""),an=new ka(B,W,_t,re,tt,we,N,z.root);return an.snapshot=z.root,new Si(new Hr(an,[]),z)}class ka{constructor(z,B,W,tt,_t,re,an,Ue){this.urlSubject=z,this.paramsSubject=B,this.queryParamsSubject=W,this.fragmentSubject=tt,this.dataSubject=_t,this.outlet=re,this.component=an,this._futureSnapshot=Ue,this.title=this.dataSubject?.pipe((0,Qt.T)(ln=>ln[Ie]))??(0,lt.of)(void 0),this.url=z,this.params=B,this.queryParams=W,this.fragment=tt,this.data=_t}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,Qt.T)(z=>Un(z))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,Qt.T)(z=>Un(z))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function nu(N,z,B="emptyOnly"){let W;const{routeConfig:tt}=N;return W=null===z||"always"!==B&&""!==tt?.path&&(z.component||z.routeConfig?.loadComponent)?{params:{...N.params},data:{...N.data},resolve:{...N.data,...N._resolvedData??{}}}:{params:{...z.params,...N.params},data:{...z.data,...N.data},resolve:{...N.data,...z.data,...tt?.data,...N._resolvedData}},tt&&Rh(tt)&&(W.resolve[Ie]=tt.title),W}class gc{get title(){return this.data?.[Ie]}constructor(z,B,W,tt,_t,re,an,Ue,ln){this.url=z,this.params=B,this.queryParams=W,this.fragment=tt,this.data=_t,this.outlet=re,this.component=an,this.routeConfig=Ue,this._resolve=ln}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Un(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Un(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(W=>W.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Rd extends eu{constructor(z,B){super(B),this.url=z,Pd(this,B)}toString(){return Bl(this._root)}}function Pd(N,z){z.value._routerState=N,z.children.forEach(B=>Pd(N,B))}function Bl(N){const z=N.children.length>0?` { ${N.children.map(Bl).join(", ")} } `:"";return`${N.value}${z}`}function Hu(N){if(N.snapshot){const z=N.snapshot,B=N._futureSnapshot;N.snapshot=B,ci(z.queryParams,B.queryParams)||N.queryParamsSubject.next(B.queryParams),z.fragment!==B.fragment&&N.fragmentSubject.next(B.fragment),ci(z.params,B.params)||N.paramsSubject.next(B.params),function Fn(N,z){if(N.length!==z.length)return!1;for(let B=0;B<N.length;++B)if(!ci(N[B],z[B]))return!1;return!0}(z.url,B.url)||N.urlSubject.next(B.url),ci(z.data,B.data)||N.dataSubject.next(B.data)}else N.snapshot=N._futureSnapshot,N.dataSubject.next(N._futureSnapshot.data)}function vc(N,z){const B=ci(N.params,z.params)&&function ie(N,z){return be(N,z)&&N.every((B,W)=>ci(B.parameters,z[W].parameters))}(N.url,z.url);return B&&!(!N.parent!=!z.parent)&&(!N.parent||vc(N.parent,z.parent))}function Rh(N){return"string"==typeof N.title||null===N.title}let ys=(()=>{class N{constructor(){this.activated=null,this._activatedRoute=null,this.name=we,this.activateEvents=new C.bkB,this.deactivateEvents=new C.bkB,this.attachEvents=new C.bkB,this.detachEvents=new C.bkB,this.parentContexts=(0,C.WQX)(Aa),this.location=(0,C.WQX)(C.c1b),this.changeDetector=(0,C.WQX)(C.gRc),this.inputBinder=(0,C.WQX)(Qr,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(B){if(B.name){const{firstChange:W,previousValue:tt}=B.name;if(W)return;this.isTrackedInParentContexts(tt)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(tt)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(B){return this.parentContexts.getContext(B)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const B=this.parentContexts.getContext(this.name);B?.route&&(B.attachRef?this.attach(B.attachRef,B.route):this.activateWith(B.route,B.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new C.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new C.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new C.wOt(4012,!1);this.location.detach();const B=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(B.instance),B}attach(B,W){this.activated=B,this._activatedRoute=W,this.location.insert(B.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(B.instance)}deactivate(){if(this.activated){const B=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(B)}}activateWith(B,W){if(this.isActivated)throw new C.wOt(4013,!1);this._activatedRoute=B;const tt=this.location,re=B.snapshot.component,an=this.parentContexts.getOrCreateContext(this.name).children,Ue=new Us(B,an,tt.injector);this.activated=tt.createComponent(re,{index:tt.length,injector:Ue,environmentInjector:W}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#t=this.\u0275fac=function(W){return new(W||N)};static#e=this.\u0275dir=C.FsC({type:N,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[C.OA$]})}return N})();class Us{__ngOutletInjector(z){return new Us(this.route,this.childContexts,z)}constructor(z,B,W){this.route=z,this.childContexts=B,this.parent=W}get(z,B){return z===ka?this.route:z===Aa?this.childContexts:this.parent.get(z,B)}}const Qr=new C.nKC("");function Qa(N,z,B){if(B&&N.shouldReuseRoute(z.value,B.value.snapshot)){const W=B.value;W._futureSnapshot=z.value;const tt=function iu(N,z,B){return z.children.map(W=>{for(const tt of B.children)if(N.shouldReuseRoute(W.value,tt.value.snapshot))return Qa(N,W,tt);return Qa(N,W)})}(N,z,B);return new Hr(W,tt)}{if(N.shouldAttach(z.value)){const _t=N.retrieve(z.value);if(null!==_t){const re=_t.route;return re.value._futureSnapshot=z.value,re.children=z.children.map(an=>Qa(N,an)),re}}const W=function pl(N){return new ka(new ct.t(N.url),new ct.t(N.params),new ct.t(N.queryParams),new ct.t(N.fragment),new ct.t(N.data),N.outlet,N.component,N)}(z.value),tt=z.children.map(_t=>Qa(N,_t));return new Hr(W,tt)}}class ml{constructor(z,B){this.redirectTo=z,this.navigationBehaviorOptions=B}}const Ph="ngNavigationCancelingError";function Vl(N,z){const{redirectTo:B,navigationBehaviorOptions:W}=Xe(z)?{redirectTo:z,navigationBehaviorOptions:void 0}:z,tt=Wo(!1,Ei.Redirect);return tt.url=B,tt.navigationBehaviorOptions=W,tt}function Wo(N,z){const B=new Error(`NavigationCancelingError: ${N||""}`);return B[Ph]=!0,B.cancellationCode=z,B}function zl(N){return!!N&&N[Ph]}class va{constructor(z,B,W,tt,_t){this.routeReuseStrategy=z,this.futureState=B,this.currState=W,this.forwardEvent=tt,this.inputBindingEnabled=_t}activate(z){const B=this.futureState._root,W=this.currState?this.currState._root:null;this.deactivateChildRoutes(B,W,z),Hu(this.futureState.root),this.activateChildRoutes(B,W,z)}deactivateChildRoutes(z,B,W){const tt=is(B);z.children.forEach(_t=>{const re=_t.value.outlet;this.deactivateRoutes(_t,tt[re],W),delete tt[re]}),Object.values(tt).forEach(_t=>{this.deactivateRouteAndItsChildren(_t,W)})}deactivateRoutes(z,B,W){const tt=z.value,_t=B?B.value:null;if(tt===_t)if(tt.component){const re=W.getContext(tt.outlet);re&&this.deactivateChildRoutes(z,B,re.children)}else this.deactivateChildRoutes(z,B,W);else _t&&this.deactivateRouteAndItsChildren(B,W)}deactivateRouteAndItsChildren(z,B){z.value.component&&this.routeReuseStrategy.shouldDetach(z.value.snapshot)?this.detachAndStoreRouteSubtree(z,B):this.deactivateRouteAndOutlet(z,B)}detachAndStoreRouteSubtree(z,B){const W=B.getContext(z.value.outlet),tt=W&&z.value.component?W.children:B,_t=is(z);for(const re of Object.values(_t))this.deactivateRouteAndItsChildren(re,tt);if(W&&W.outlet){const re=W.outlet.detach(),an=W.children.onOutletDeactivated();this.routeReuseStrategy.store(z.value.snapshot,{componentRef:re,route:z,contexts:an})}}deactivateRouteAndOutlet(z,B){const W=B.getContext(z.value.outlet),tt=W&&z.value.component?W.children:B,_t=is(z);for(const re of Object.values(_t))this.deactivateRouteAndItsChildren(re,tt);W&&(W.outlet&&(W.outlet.deactivate(),W.children.onOutletDeactivated()),W.attachRef=null,W.route=null)}activateChildRoutes(z,B,W){const tt=is(B);z.children.forEach(_t=>{this.activateRoutes(_t,tt[_t.value.outlet],W),this.forwardEvent(new jn(_t.value.snapshot))}),z.children.length&&this.forwardEvent(new ze(z.value.snapshot))}activateRoutes(z,B,W){const tt=z.value,_t=B?B.value:null;if(Hu(tt),tt===_t)if(tt.component){const re=W.getOrCreateContext(tt.outlet);this.activateChildRoutes(z,B,re.children)}else this.activateChildRoutes(z,B,W);else if(tt.component){const re=W.getOrCreateContext(tt.outlet);if(this.routeReuseStrategy.shouldAttach(tt.snapshot)){const an=this.routeReuseStrategy.retrieve(tt.snapshot);this.routeReuseStrategy.store(tt.snapshot,null),re.children.onOutletReAttached(an.contexts),re.attachRef=an.componentRef,re.route=an.route.value,re.outlet&&re.outlet.attach(an.componentRef,an.route.value),Hu(an.route.value),this.activateChildRoutes(z,null,re.children)}else re.attachRef=null,re.route=tt,re.outlet&&re.outlet.activateWith(tt,re.injector),this.activateChildRoutes(z,null,re.children)}else this.activateChildRoutes(z,null,W)}}class hr{constructor(z){this.path=z,this.route=this.path[this.path.length-1]}}class bs{constructor(z,B){this.component=z,this.route=B}}function Nd(N,z,B){const W=N._root;return yc(W,z?z._root:null,B,[W.value])}function gl(N,z){const B=Symbol(),W=z.get(N,B);return W===B?"function"!=typeof N||(0,C.LfX)(N)?z.get(N):N:W}function yc(N,z,B,W,tt={canDeactivateChecks:[],canActivateChecks:[]}){const _t=is(z);return N.children.forEach(re=>{(function bc(N,z,B,W,tt={canDeactivateChecks:[],canActivateChecks:[]}){const _t=N.value,re=z?z.value:null,an=B?B.getContext(N.value.outlet):null;if(re&&_t.routeConfig===re.routeConfig){const Ue=function Pi(N,z,B){if("function"==typeof B)return B(N,z);switch(B){case"pathParamsChange":return!be(N.url,z.url);case"pathParamsOrQueryParamsChange":return!be(N.url,z.url)||!ci(N.queryParams,z.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!vc(N,z)||!ci(N.queryParams,z.queryParams);default:return!vc(N,z)}}(re,_t,_t.routeConfig.runGuardsAndResolvers);Ue?tt.canActivateChecks.push(new hr(W)):(_t.data=re.data,_t._resolvedData=re._resolvedData),yc(N,z,_t.component?an?an.children:null:B,W,tt),Ue&&an&&an.outlet&&an.outlet.isActivated&&tt.canDeactivateChecks.push(new bs(an.outlet.component,re))}else re&&_c(z,an,tt),tt.canActivateChecks.push(new hr(W)),yc(N,null,_t.component?an?an.children:null:B,W,tt)})(re,_t[re.value.outlet],B,W.concat([re.value]),tt),delete _t[re.value.outlet]}),Object.entries(_t).forEach(([re,an])=>_c(an,B.getContext(re),tt)),tt}function _c(N,z,B){const W=is(N),tt=N.value;Object.entries(W).forEach(([_t,re])=>{_c(re,tt.component?z?z.children.getContext(_t):null:z,B)}),B.canDeactivateChecks.push(new bs(tt.component&&z&&z.outlet&&z.outlet.isActivated?z.outlet.component:null,tt))}function Ec(N){return"function"==typeof N}function Wu(N){return N instanceof jt||"EmptyError"===N?.name}const Fd=Symbol("INITIAL_VALUE");function Z(){return(0,Ut.n)(N=>(0,It.z)(N.map(z=>z.pipe((0,kt.s)(1),(0,pe.Z)(Fd)))).pipe((0,Qt.T)(z=>{for(const B of z)if(!0!==B){if(B===Fd)return Fd;if(!1===B||J(B))return B}return!0}),(0,Te.p)(z=>z!==Fd),(0,kt.s)(1)))}function J(N){return Xe(N)||N instanceof ml}function v0(N){return(0,At.F)((0,ee.M)(z=>{if("boolean"!=typeof z)throw Vl(0,z)}),(0,Qt.T)(z=>!0===z))}class Bh{constructor(z){this.segmentGroup=z||null}}class ya extends Error{constructor(z){super(),this.urlTree=z}}function ba(N){return(0,Pt.$)(new Bh(N))}class rr{constructor(z,B){this.urlSerializer=z,this.urlTree=B}lineralizeSegments(z,B){let W=[],tt=B.root;for(;;){if(W=W.concat(tt.segments),0===tt.numberOfChildren)return(0,lt.of)(W);if(tt.numberOfChildren>1||!tt.children[we])return(0,Pt.$)(new C.wOt(4e3,!1));tt=tt.children[we]}}applyRedirectCommands(z,B,W,tt,_t){if("string"!=typeof B){const an=B,{queryParams:Ue,fragment:ln,routeConfig:$i,url:zi,outlet:Ro,params:bl,data:Ks,title:ji}=tt,Ea=(0,C.N4e)(_t,()=>an({params:bl,data:Ks,queryParams:Ue,fragment:ln,routeConfig:$i,url:zi,outlet:Ro,title:ji}));if(Ea instanceof Ge)throw new ya(Ea);B=Ea}const re=this.applyRedirectCreateUrlTree(B,this.urlSerializer.parse(B),z,W);if("/"===B[0])throw new ya(re);return re}applyRedirectCreateUrlTree(z,B,W,tt){const _t=this.createSegmentGroup(z,B.root,W,tt);return new Ge(_t,this.createQueryParams(B.queryParams,this.urlTree.queryParams),B.fragment)}createQueryParams(z,B){const W={};return Object.entries(z).forEach(([tt,_t])=>{if("string"==typeof _t&&":"===_t[0]){const an=_t.substring(1);W[tt]=B[an]}else W[tt]=_t}),W}createSegmentGroup(z,B,W,tt){const _t=this.createSegments(z,B.segments,W,tt);let re={};return Object.entries(B.children).forEach(([an,Ue])=>{re[an]=this.createSegmentGroup(z,Ue,W,tt)}),new Wt(_t,re)}createSegments(z,B,W,tt){return B.map(_t=>":"===_t.path[0]?this.findPosParam(z,_t,tt):this.findOrReturn(_t,W))}findPosParam(z,B,W){const tt=W[B.path.substring(1)];if(!tt)throw new C.wOt(4001,!1);return tt}findOrReturn(z,B){let W=0;for(const tt of B){if(tt.path===z.path)return B.splice(W),tt;W++}return z}}const Bo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function _s(N,z,B,W,tt){const _t=xc(N,z,B);return _t.matched?(W=function ls(N,z){return N.providers&&!N._injector&&(N._injector=(0,C.Ol2)(N.providers,z,`Route: ${N.path}`)),N._injector??z}(z,W),function Fh(N,z,B,W){const tt=z.canMatch;if(!tt||0===tt.length)return(0,lt.of)(!0);const _t=tt.map(re=>{const an=gl(re,N);return Vi(function wg(N){return N&&Ec(N.canMatch)}(an)?an.canMatch(z,B):(0,C.N4e)(N,()=>an(z,B)))});return(0,lt.of)(_t).pipe(Z(),v0())}(W,z,B).pipe((0,Qt.T)(re=>!0===re?_t:{...Bo}))):(0,lt.of)(_t)}function xc(N,z,B){if("**"===z.path)return function Gs(N){return{matched:!0,parameters:N.length>0?Ni(N).parameters:{},consumedSegments:N,remainingSegments:[],positionalParamSegments:{}}}(B);if(""===z.path)return"full"===z.pathMatch&&(N.hasChildren()||B.length>0)?{...Bo}:{matched:!0,consumedSegments:[],remainingSegments:B,parameters:{},positionalParamSegments:{}};const tt=(z.matcher||Ri)(B,N,z);if(!tt)return{...Bo};const _t={};Object.entries(tt.posParams??{}).forEach(([an,Ue])=>{_t[an]=Ue.path});const re=tt.consumed.length>0?{..._t,...tt.consumed[tt.consumed.length-1].parameters}:_t;return{matched:!0,consumedSegments:tt.consumed,remainingSegments:B.slice(tt.consumed.length),parameters:re,positionalParamSegments:tt.posParams??{}}}function Ku(N,z,B,W){return B.length>0&&function Xu(N,z,B){return B.some(W=>_a(N,z,W)&&zs(W)!==we)}(N,B,W)?{segmentGroup:new Wt(z,vl(W,new Wt(B,N.children))),slicedSegments:[]}:0===B.length&&function Bd(N,z,B){return B.some(W=>_a(N,z,W))}(N,B,W)?{segmentGroup:new Wt(N.segments,Mc(N,B,W,N.children)),slicedSegments:B}:{segmentGroup:new Wt(N.segments,N.children),slicedSegments:B}}function Mc(N,z,B,W){const tt={};for(const _t of B)if(_a(N,z,_t)&&!W[zs(_t)]){const re=new Wt([],{});tt[zs(_t)]=re}return{...W,...tt}}function vl(N,z){const B={};B[we]=z;for(const W of N)if(""===W.path&&zs(W)!==we){const tt=new Wt([],{});B[zs(W)]=tt}return B}function _a(N,z,B){return(!(N.hasChildren()||z.length>0)||"full"!==B.pathMatch)&&""===B.path}class b0{}class ED{constructor(z,B,W,tt,_t,re,an){this.injector=z,this.configLoader=B,this.rootComponentType=W,this.config=tt,this.urlTree=_t,this.paramsInheritanceStrategy=re,this.urlSerializer=an,this.applyRedirects=new rr(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(z){return new C.wOt(4002,`'${z.segmentGroup}'`)}recognize(){const z=Ku(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(z).pipe((0,Qt.T)(({children:B,rootSnapshot:W})=>{const tt=new Hr(W,B),_t=new Rd("",tt),re=function ai(N,z,B=null,W=null){return uo(Ur(N),z,B,W)}(W,[],this.urlTree.queryParams,this.urlTree.fragment);return re.queryParams=this.urlTree.queryParams,_t.url=this.urlSerializer.serialize(re),{state:_t,tree:re}}))}match(z){const B=new gc([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),we,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,z,we,B).pipe((0,Qt.T)(W=>({children:W,rootSnapshot:B})),(0,Ot.W)(W=>{if(W instanceof ya)return this.urlTree=W.urlTree,this.match(W.urlTree.root);throw W instanceof Bh?this.noMatchError(W):W}))}processSegmentGroup(z,B,W,tt,_t){return 0===W.segments.length&&W.hasChildren()?this.processChildren(z,B,W,_t):this.processSegment(z,B,W,W.segments,tt,!0,_t).pipe((0,Qt.T)(re=>re instanceof Hr?[re]:[]))}processChildren(z,B,W,tt){const _t=[];for(const re of Object.keys(W.children))"primary"===re?_t.unshift(re):_t.push(re);return(0,g.H)(_t).pipe((0,Oe.H)(re=>{const an=W.children[re],Ue=function Id(N,z){const B=N.filter(W=>zs(W)===z);return B.push(...N.filter(W=>zs(W)!==z)),B}(B,re);return this.processSegmentGroup(z,Ue,an,re,tt)}),(0,ut.S)((re,an)=>(re.push(...an),re)),Kt(null),function Mt(N,z){const B=arguments.length>=2;return W=>W.pipe(N?(0,Te.p)((tt,_t)=>N(tt,_t,W)):De.D,ft(1),B?Kt(z):Zt(()=>new jt))}(),(0,oe.Z)(re=>{if(null===re)return ba(W);const an=ru(re);return function Cg(N){N.sort((z,B)=>z.value.outlet===we?-1:B.value.outlet===we?1:z.value.outlet.localeCompare(B.value.outlet))}(an),(0,lt.of)(an)}))}processSegment(z,B,W,tt,_t,re,an){return(0,g.H)(B).pipe((0,Oe.H)(Ue=>this.processSegmentAgainstRoute(Ue._injector??z,B,Ue,W,tt,_t,re,an).pipe((0,Ot.W)(ln=>{if(ln instanceof Bh)return(0,lt.of)(null);throw ln}))),ge(Ue=>!!Ue),(0,Ot.W)(Ue=>{if(Wu(Ue))return function xg(N,z,B){return 0===z.length&&!N.children[B]}(W,tt,_t)?(0,lt.of)(new b0):ba(W);throw Ue}))}processSegmentAgainstRoute(z,B,W,tt,_t,re,an,Ue){return zs(W)===re||re!==we&&_a(tt,_t,W)?void 0===W.redirectTo?this.matchSegmentAgainstRoute(z,tt,W,_t,re,Ue):this.allowRedirects&&an?this.expandSegmentAgainstRouteUsingRedirect(z,tt,B,W,_t,re,Ue):ba(tt):ba(tt)}expandSegmentAgainstRouteUsingRedirect(z,B,W,tt,_t,re,an){const{matched:Ue,parameters:ln,consumedSegments:$i,positionalParamSegments:zi,remainingSegments:Ro}=xc(B,tt,_t);if(!Ue)return ba(B);"string"==typeof tt.redirectTo&&"/"===tt.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const bl=new gc(_t,ln,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Kf(tt),zs(tt),tt.component??tt._loadedComponent??null,tt,Cc(tt)),Ks=nu(bl,an,this.paramsInheritanceStrategy);bl.params=Object.freeze(Ks.params),bl.data=Object.freeze(Ks.data);const ji=this.applyRedirects.applyRedirectCommands($i,tt.redirectTo,zi,bl,z);return this.applyRedirects.lineralizeSegments(tt,ji).pipe((0,oe.Z)(Ea=>this.processSegment(z,W,B,Ea.concat(Ro),re,!1,an)))}matchSegmentAgainstRoute(z,B,W,tt,_t,re){const an=_s(B,W,tt,z);return"**"===W.path&&(B.children={}),an.pipe((0,Ut.n)(Ue=>Ue.matched?this.getChildConfig(z=W._injector??z,W,tt).pipe((0,Ut.n)(({routes:ln})=>{const $i=W._loadedInjector??z,{parameters:zi,consumedSegments:Ro,remainingSegments:bl}=Ue,Ks=new gc(Ro,zi,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Kf(W),zs(W),W.component??W._loadedComponent??null,W,Cc(W)),ji=nu(Ks,re,this.paramsInheritanceStrategy);Ks.params=Object.freeze(ji.params),Ks.data=Object.freeze(ji.data);const{segmentGroup:Ea,slicedSegments:Po}=Ku(B,Ro,bl,ln);if(0===Po.length&&Ea.hasChildren())return this.processChildren($i,ln,Ea,Ks).pipe((0,Qt.T)(xn=>new Hr(Ks,xn)));if(0===ln.length&&0===Po.length)return(0,lt.of)(new Hr(Ks,[]));const xy=zs(W)===_t;return this.processSegment($i,ln,Ea,Po,xy?we:_t,!0,Ks).pipe((0,Qt.T)(xn=>new Hr(Ks,xn instanceof Hr?[xn]:[])))})):ba(B)))}getChildConfig(z,B,W){return B.children?(0,lt.of)({routes:B.children,injector:z}):B.loadChildren?void 0!==B._loadedRoutes?(0,lt.of)({routes:B._loadedRoutes,injector:B._loadedInjector}):function Gf(N,z,B,W){const tt=z.canLoad;if(void 0===tt||0===tt.length)return(0,lt.of)(!0);const _t=tt.map(re=>{const an=gl(re,N);return Vi(function Ld(N){return N&&Ec(N.canLoad)}(an)?an.canLoad(z,B):(0,C.N4e)(N,()=>an(z,B)))});return(0,lt.of)(_t).pipe(Z(),v0())}(z,B,W).pipe((0,oe.Z)(tt=>tt?this.configLoader.loadChildren(z,B).pipe((0,ee.M)(_t=>{B._loadedRoutes=_t.routes,B._loadedInjector=_t.injector})):function y0(){return(0,Pt.$)(Wo(!1,Ei.GuardRejected))}())):(0,lt.of)({routes:[],injector:z})}}function Sg(N){const z=N.value.routeConfig;return z&&""===z.path}function ru(N){const z=[],B=new Set;for(const W of N){if(!Sg(W)){z.push(W);continue}const tt=z.find(_t=>W.value.routeConfig===_t.value.routeConfig);void 0!==tt?(tt.children.push(...W.children),B.add(tt)):z.push(W)}for(const W of B){const tt=ru(W.children);z.push(new Hr(W.value,tt))}return z.filter(W=>!B.has(W))}function Kf(N){return N.data||{}}function Cc(N){return N.resolve||{}}function Vh(N){const z=N.children.map(B=>Vh(B)).flat();return[N,...z]}function $s(N){return(0,Ut.n)(z=>{const B=N(z);return B?(0,g.H)(B).pipe((0,Qt.T)(()=>z)):(0,lt.of)(z)})}let yl=(()=>{class N{buildTitle(B){let W,tt=B.root;for(;void 0!==tt;)W=this.getResolvedTitleForRoute(tt)??W,tt=tt.children.find(_t=>_t.outlet===we);return W}getResolvedTitleForRoute(B){return B.data[Ie]}static#t=this.\u0275fac=function(W){return new(W||N)};static#e=this.\u0275prov=C.jDH({token:N,factory:()=>(0,C.WQX)(x0),providedIn:"root"})}return N})(),x0=(()=>{class N extends yl{constructor(B){super(),this.title=B}updateTitle(B){const W=this.buildTitle(B);void 0!==W&&this.title.setTitle(W)}static#t=this.\u0275fac=function(W){return new(W||N)(C.KVO(Ee.hE))};static#e=this.\u0275prov=C.jDH({token:N,factory:N.\u0275fac,providedIn:"root"})}return N})();const zh=new C.nKC("",{providedIn:"root",factory:()=>({})});let Tg=(()=>{class N{static#t=this.\u0275fac=function(W){return new(W||N)};static#e=this.\u0275cmp=C.VBU({type:N,selectors:[["ng-component"]],standalone:!0,features:[C.aNF],decls:1,vars:0,template:function(W,tt){1&W&&C.nrm(0,"router-outlet")},dependencies:[ys],encapsulation:2})}return N})();function jd(N){const z=N.children&&N.children.map(jd),B=z?{...N,children:z}:{...N};return!B.component&&!B.loadComponent&&(z||B.loadChildren)&&B.outlet&&B.outlet!==we&&(B.component=Tg),B}const Sc=new C.nKC("");let M0=(()=>{class N{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,C.WQX)(C.Ql9)}loadComponent(B){if(this.componentLoaders.get(B))return this.componentLoaders.get(B);if(B._loadedComponent)return(0,lt.of)(B._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(B);const W=Vi(B.loadComponent()).pipe((0,Qt.T)(Dc),(0,ee.M)(_t=>{this.onLoadEndListener&&this.onLoadEndListener(B),B._loadedComponent=_t}),(0,Dt.j)(()=>{this.componentLoaders.delete(B)})),tt=new rn(W,()=>new _e.B).pipe(Le());return this.componentLoaders.set(B,tt),tt}loadChildren(B,W){if(this.childrenLoaders.get(W))return this.childrenLoaders.get(W);if(W._loadedRoutes)return(0,lt.of)({routes:W._loadedRoutes,injector:W._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(W);const _t=function yy(N,z,B,W){return Vi(N.loadChildren()).pipe((0,Qt.T)(Dc),(0,oe.Z)(tt=>tt instanceof C.Co$||Array.isArray(tt)?(0,lt.of)(tt):(0,g.H)(z.compileModuleAsync(tt))),(0,Qt.T)(tt=>{W&&W(N);let _t,re,an=!1;return Array.isArray(tt)?(re=tt,!0):(_t=tt.create(B).injector,re=_t.get(Sc,[],{optional:!0,self:!0}).flat()),{routes:re.map(jd),injector:_t}}))}(W,this.compiler,B,this.onLoadEndListener).pipe((0,Dt.j)(()=>{this.childrenLoaders.delete(W)})),re=new rn(_t,()=>new _e.B).pipe(Le());return this.childrenLoaders.set(W,re),re}static#t=this.\u0275fac=function(W){return new(W||N)};static#e=this.\u0275prov=C.jDH({token:N,factory:N.\u0275fac,providedIn:"root"})}return N})();function Dc(N){return function ea(N){return N&&"object"==typeof N&&"default"in N}(N)?N.default:N}let Uh=(()=>{class N{static#t=this.\u0275fac=function(W){return new(W||N)};static#e=this.\u0275prov=C.jDH({token:N,factory:()=>(0,C.WQX)(Yf),providedIn:"root"})}return N})(),Yf=(()=>{class N{shouldProcessUrl(B){return!0}extract(B){return B}merge(B,W){return B}static#t=this.\u0275fac=function(W){return new(W||N)};static#e=this.\u0275prov=C.jDH({token:N,factory:N.\u0275fac,providedIn:"root"})}return N})();const ou=new C.nKC(""),st=new C.nKC("");let K=(()=>{class N{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new _e.B,this.transitionAbortSubject=new _e.B,this.configLoader=(0,C.WQX)(M0),this.environmentInjector=(0,C.WQX)(C.uvJ),this.urlSerializer=(0,C.WQX)(on),this.rootContexts=(0,C.WQX)(Aa),this.location=(0,C.WQX)(Ke.aZ),this.inputBindingEnabled=null!==(0,C.WQX)(Qr,{optional:!0}),this.titleStrategy=(0,C.WQX)(yl),this.options=(0,C.WQX)(zh,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,C.WQX)(Uh),this.createViewTransition=(0,C.WQX)(ou,{optional:!0}),this.navigationErrorHandler=(0,C.WQX)(st,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,lt.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=tt=>this.events.next(new Bt(tt)),this.configLoader.onLoadStartListener=tt=>this.events.next(new ko(tt))}complete(){this.transitions?.complete()}handleNavigationRequest(B){const W=++this.navigationId;this.transitions?.next({...this.transitions.value,...B,id:W})}setupNavigations(B,W,tt){return this.transitions=new ct.t({id:0,currentUrlTree:W,currentRawUrl:W,extractedUrl:this.urlHandlingStrategy.extract(W),urlAfterRedirects:this.urlHandlingStrategy.extract(W),rawUrl:W,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:he,restoredState:null,currentSnapshot:tt.snapshot,targetSnapshot:null,currentRouterState:tt,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Te.p)(_t=>0!==_t.id),(0,Qt.T)(_t=>({..._t,extractedUrl:this.urlHandlingStrategy.extract(_t.rawUrl)})),(0,Ut.n)(_t=>{let re=!1,an=!1;return(0,lt.of)(_t).pipe((0,Ut.n)(Ue=>{if(this.navigationId>_t.id)return this.cancelNavigationTransition(_t,"",Ei.SupersededByNewNavigation),yt.w;this.currentTransition=_t,this.currentNavigation={id:Ue.id,initialUrl:Ue.rawUrl,extractedUrl:Ue.extractedUrl,targetBrowserUrl:"string"==typeof Ue.extras.browserUrl?this.urlSerializer.parse(Ue.extras.browserUrl):Ue.extras.browserUrl,trigger:Ue.source,extras:Ue.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const ln=!B.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!ln&&"reload"!==(Ue.extras.onSameUrlNavigation??B.onSameUrlNavigation)){const zi="";return this.events.next(new Zr(Ue.id,this.urlSerializer.serialize(Ue.rawUrl),zi,Ci.IgnoredSameUrlNavigation)),Ue.resolve(!1),yt.w}if(this.urlHandlingStrategy.shouldProcessUrl(Ue.rawUrl))return(0,lt.of)(Ue).pipe((0,Ut.n)(zi=>{const Ro=this.transitions?.getValue();return this.events.next(new Pn(zi.id,this.urlSerializer.serialize(zi.extractedUrl),zi.source,zi.restoredState)),Ro!==this.transitions?.getValue()?yt.w:Promise.resolve(zi)}),function vy(N,z,B,W,tt,_t){return(0,oe.Z)(re=>function Mg(N,z,B,W,tt,_t,re="emptyOnly"){return new ED(N,z,B,W,tt,re,_t).recognize()}(N,z,B,W,re.extractedUrl,tt,_t).pipe((0,Qt.T)(({state:an,tree:Ue})=>({...re,targetSnapshot:an,urlAfterRedirects:Ue}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,B.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,ee.M)(zi=>{_t.targetSnapshot=zi.targetSnapshot,_t.urlAfterRedirects=zi.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:zi.urlAfterRedirects};const Ro=new Wr(zi.id,this.urlSerializer.serialize(zi.extractedUrl),this.urlSerializer.serialize(zi.urlAfterRedirects),zi.targetSnapshot);this.events.next(Ro)}));if(ln&&this.urlHandlingStrategy.shouldProcessUrl(Ue.currentRawUrl)){const{id:zi,extractedUrl:Ro,source:bl,restoredState:Ks,extras:ji}=Ue,Ea=new Pn(zi,this.urlSerializer.serialize(Ro),bl,Ks);this.events.next(Ea);const Po=Ya(this.rootComponentType).snapshot;return this.currentTransition=_t={...Ue,targetSnapshot:Po,urlAfterRedirects:Ro,extras:{...ji,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=Ro,(0,lt.of)(_t)}{const zi="";return this.events.next(new Zr(Ue.id,this.urlSerializer.serialize(Ue.extractedUrl),zi,Ci.IgnoredByUrlHandlingStrategy)),Ue.resolve(!1),yt.w}}),(0,ee.M)(Ue=>{const ln=new io(Ue.id,this.urlSerializer.serialize(Ue.extractedUrl),this.urlSerializer.serialize(Ue.urlAfterRedirects),Ue.targetSnapshot);this.events.next(ln)}),(0,Qt.T)(Ue=>(this.currentTransition=_t={...Ue,guards:Nd(Ue.targetSnapshot,Ue.currentSnapshot,this.rootContexts)},_t)),function G(N,z){return(0,oe.Z)(B=>{const{targetSnapshot:W,currentSnapshot:tt,guards:{canActivateChecks:_t,canDeactivateChecks:re}}=B;return 0===re.length&&0===_t.length?(0,lt.of)({...B,guardsResult:!0}):function ht(N,z,B,W){return(0,g.H)(N).pipe((0,oe.Z)(tt=>function Lh(N,z,B,W,tt){const _t=z&&z.routeConfig?z.routeConfig.canDeactivate:null;if(!_t||0===_t.length)return(0,lt.of)(!0);const re=_t.map(an=>{const Ue=Fl(z)??tt,ln=gl(an,Ue);return Vi(function Hf(N){return N&&Ec(N.canDeactivate)}(ln)?ln.canDeactivate(N,z,B,W):(0,C.N4e)(Ue,()=>ln(N,z,B,W))).pipe(ge())});return(0,lt.of)(re).pipe(Z())}(tt.component,tt.route,B,z,W)),ge(tt=>!0!==tt,!0))}(re,W,tt,N).pipe((0,oe.Z)(an=>an&&function g0(N){return"boolean"==typeof N}(an)?function me(N,z,B,W){return(0,g.H)(z).pipe((0,Oe.H)(tt=>(0,pt.x)(function ni(N,z){return null!==N&&z&&z(new Ae(N)),(0,lt.of)(!0)}(tt.route.parent,W),function wi(N,z){return null!==N&&z&&z(new nn(N)),(0,lt.of)(!0)}(tt.route,W),function Hs(N,z,B){const W=z[z.length-1],_t=z.slice(0,z.length-1).reverse().map(re=>function $u(N){const z=N.routeConfig?N.routeConfig.canActivateChild:null;return z&&0!==z.length?{node:N,guards:z}:null}(re)).filter(re=>null!==re).map(re=>(0,bt.v)(()=>{const an=re.guards.map(Ue=>{const ln=Fl(re.node)??B,$i=gl(Ue,ln);return Vi(function Nh(N){return N&&Ec(N.canActivateChild)}($i)?$i.canActivateChild(W,N):(0,C.N4e)(ln,()=>$i(W,N))).pipe(ge())});return(0,lt.of)(an).pipe(Z())}));return(0,lt.of)(_t).pipe(Z())}(N,tt.path,B),function _o(N,z,B){const W=z.routeConfig?z.routeConfig.canActivate:null;if(!W||0===W.length)return(0,lt.of)(!0);const tt=W.map(_t=>(0,bt.v)(()=>{const re=Fl(z)??B,an=gl(_t,re);return Vi(function wc(N){return N&&Ec(N.canActivate)}(an)?an.canActivate(z,N):(0,C.N4e)(re,()=>an(z,N))).pipe(ge())}));return(0,lt.of)(tt).pipe(Z())}(N,tt.route,B))),ge(tt=>!0!==tt,!0))}(W,_t,N,z):(0,lt.of)(an)),(0,Qt.T)(an=>({...B,guardsResult:an})))})}(this.environmentInjector,Ue=>this.events.next(Ue)),(0,ee.M)(Ue=>{if(_t.guardsResult=Ue.guardsResult,Ue.guardsResult&&"boolean"!=typeof Ue.guardsResult)throw Vl(0,Ue.guardsResult);const ln=new Oo(Ue.id,this.urlSerializer.serialize(Ue.extractedUrl),this.urlSerializer.serialize(Ue.urlAfterRedirects),Ue.targetSnapshot,!!Ue.guardsResult);this.events.next(ln)}),(0,Te.p)(Ue=>!!Ue.guardsResult||(this.cancelNavigationTransition(Ue,"",Ei.GuardRejected),!1)),$s(Ue=>{if(Ue.guards.canActivateChecks.length)return(0,lt.of)(Ue).pipe((0,ee.M)(ln=>{const $i=new Wi(ln.id,this.urlSerializer.serialize(ln.extractedUrl),this.urlSerializer.serialize(ln.urlAfterRedirects),ln.targetSnapshot);this.events.next($i)}),(0,Ut.n)(ln=>{let $i=!1;return(0,lt.of)(ln).pipe(function Xf(N,z){return(0,oe.Z)(B=>{const{targetSnapshot:W,guards:{canActivateChecks:tt}}=B;if(!tt.length)return(0,lt.of)(B);const _t=new Set(tt.map(Ue=>Ue.route)),re=new Set;for(const Ue of _t)if(!re.has(Ue))for(const ln of Vh(Ue))re.add(ln);let an=0;return(0,g.H)(re).pipe((0,Oe.H)(Ue=>_t.has(Ue)?function _0(N,z,B,W){const tt=N.routeConfig,_t=N._resolve;return void 0!==tt?.title&&!Rh(tt)&&(_t[Ie]=tt.title),function E0(N,z,B,W){const tt=Di(N);if(0===tt.length)return(0,lt.of)({});const _t={};return(0,g.H)(tt).pipe((0,oe.Z)(re=>function w0(N,z,B,W){const tt=Fl(z)??W,_t=gl(N,tt);return Vi(_t.resolve?_t.resolve(z,B):(0,C.N4e)(tt,()=>_t(z,B)))}(N[re],z,B,W).pipe(ge(),(0,ee.M)(an=>{if(an instanceof ml)throw Vl(new Sn,an);_t[re]=an}))),ft(1),(0,ot.u)(_t),(0,Ot.W)(re=>Wu(re)?yt.w:(0,Pt.$)(re)))}(_t,N,z,W).pipe((0,Qt.T)(re=>(N._resolvedData=re,N.data=nu(N,N.parent,B).resolve,null)))}(Ue,W,N,z):(Ue.data=nu(Ue,Ue.parent,N).resolve,(0,lt.of)(void 0))),(0,ee.M)(()=>an++),ft(1),(0,oe.Z)(Ue=>an===re.size?(0,lt.of)(B):yt.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,ee.M)({next:()=>$i=!0,complete:()=>{$i||this.cancelNavigationTransition(ln,"",Ei.NoDataFromResolver)}}))}),(0,ee.M)(ln=>{const $i=new Mr(ln.id,this.urlSerializer.serialize(ln.extractedUrl),this.urlSerializer.serialize(ln.urlAfterRedirects),ln.targetSnapshot);this.events.next($i)}))}),$s(Ue=>{const ln=$i=>{const zi=[];$i.routeConfig?.loadComponent&&!$i.routeConfig._loadedComponent&&zi.push(this.configLoader.loadComponent($i.routeConfig).pipe((0,ee.M)(Ro=>{$i.component=Ro}),(0,Qt.T)(()=>{})));for(const Ro of $i.children)zi.push(...ln(Ro));return zi};return(0,It.z)(ln(Ue.targetSnapshot.root)).pipe(Kt(null),(0,kt.s)(1))}),$s(()=>this.afterPreactivation()),(0,Ut.n)(()=>{const{currentSnapshot:Ue,targetSnapshot:ln}=_t,$i=this.createViewTransition?.(this.environmentInjector,Ue.root,ln.root);return $i?(0,g.H)($i).pipe((0,Qt.T)(()=>_t)):(0,lt.of)(_t)}),(0,Qt.T)(Ue=>{const ln=function Za(N,z,B){const W=Qa(N,z._root,B?B._root:void 0);return new Si(W,z)}(B.routeReuseStrategy,Ue.targetSnapshot,Ue.currentRouterState);return this.currentTransition=_t={...Ue,targetRouterState:ln},this.currentNavigation.targetRouterState=ln,_t}),(0,ee.M)(()=>{this.events.next(new Ui)}),((N,z,B,W)=>(0,Qt.T)(tt=>(new va(z,tt.targetRouterState,tt.currentRouterState,B,W).activate(N),tt)))(this.rootContexts,B.routeReuseStrategy,Ue=>this.events.next(Ue),this.inputBindingEnabled),(0,kt.s)(1),(0,ee.M)({next:Ue=>{re=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Rn(Ue.id,this.urlSerializer.serialize(Ue.extractedUrl),this.urlSerializer.serialize(Ue.urlAfterRedirects))),this.titleStrategy?.updateTitle(Ue.targetRouterState.snapshot),Ue.resolve(!0)},complete:()=>{re=!0}}),(0,dt.Q)(this.transitionAbortSubject.pipe((0,ee.M)(Ue=>{throw Ue}))),(0,Dt.j)(()=>{!re&&!an&&this.cancelNavigationTransition(_t,"",Ei.SupersededByNewNavigation),this.currentTransition?.id===_t.id&&(this.currentNavigation=null,this.currentTransition=null)}),(0,Ot.W)(Ue=>{if(an=!0,zl(Ue))this.events.next(new dr(_t.id,this.urlSerializer.serialize(_t.extractedUrl),Ue.message,Ue.cancellationCode)),function Gu(N){return zl(N)&&Xe(N.url)}(Ue)?this.events.next(new Rr(Ue.url,Ue.navigationBehaviorOptions)):_t.resolve(!1);else{const ln=new vr(_t.id,this.urlSerializer.serialize(_t.extractedUrl),Ue,_t.targetSnapshot??void 0);try{const $i=(0,C.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(ln));if($i instanceof ml){const{message:zi,cancellationCode:Ro}=Vl(0,$i);this.events.next(new dr(_t.id,this.urlSerializer.serialize(_t.extractedUrl),zi,Ro)),this.events.next(new Rr($i.redirectTo,$i.navigationBehaviorOptions))}else{this.events.next(ln);const zi=B.errorHandler(Ue);_t.resolve(!!zi)}}catch($i){this.options.resolveNavigationPromiseOnError?_t.resolve(!1):_t.reject($i)}}return yt.w}))}))}cancelNavigationTransition(B,W,tt){const _t=new dr(B.id,this.urlSerializer.serialize(B.extractedUrl),W,tt);this.events.next(_t),B.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const B=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),W=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return B.toString()!==W?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static#t=this.\u0275fac=function(W){return new(W||N)};static#e=this.\u0275prov=C.jDH({token:N,factory:N.\u0275fac,providedIn:"root"})}return N})();function rt(N){return N!==he}let se=(()=>{class N{static#t=this.\u0275fac=function(W){return new(W||N)};static#e=this.\u0275prov=C.jDH({token:N,factory:()=>(0,C.WQX)(En),providedIn:"root"})}return N})();class sn{shouldDetach(z){return!1}store(z,B){}shouldAttach(z){return!1}retrieve(z){return null}shouldReuseRoute(z,B){return z.routeConfig===B.routeConfig}}let En=(()=>{class N extends sn{static#t=this.\u0275fac=(()=>{let B;return function(tt){return(B||(B=C.xGo(N)))(tt||N)}})();static#e=this.\u0275prov=C.jDH({token:N,factory:N.\u0275fac,providedIn:"root"})}return N})(),vi=(()=>{class N{static#t=this.\u0275fac=function(W){return new(W||N)};static#e=this.\u0275prov=C.jDH({token:N,factory:()=>(0,C.WQX)(Pr),providedIn:"root"})}return N})(),Pr=(()=>{class N extends vi{constructor(){super(...arguments),this.location=(0,C.WQX)(Ke.aZ),this.urlSerializer=(0,C.WQX)(on),this.options=(0,C.WQX)(zh,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,C.WQX)(Uh),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Ge,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Ya(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(B){return this.location.subscribe(W=>{"popstate"===W.type&&B(W.url,W.state)})}handleRouterEvent(B,W){if(B instanceof Pn)this.stateMemento=this.createStateMemento();else if(B instanceof Zr)this.rawUrlTree=W.initialUrl;else if(B instanceof Wr){if("eager"===this.urlUpdateStrategy&&!W.extras.skipLocationChange){const tt=this.urlHandlingStrategy.merge(W.finalUrl,W.initialUrl);this.setBrowserUrl(W.targetBrowserUrl??tt,W)}}else B instanceof Ui?(this.currentUrlTree=W.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(W.finalUrl,W.initialUrl),this.routerState=W.targetRouterState,"deferred"===this.urlUpdateStrategy&&!W.extras.skipLocationChange&&this.setBrowserUrl(W.targetBrowserUrl??this.rawUrlTree,W)):B instanceof dr&&(B.code===Ei.GuardRejected||B.code===Ei.NoDataFromResolver)?this.restoreHistory(W):B instanceof vr?this.restoreHistory(W,!0):B instanceof Rn&&(this.lastSuccessfulId=B.id,this.currentPageId=this.browserPageId)}setBrowserUrl(B,W){const tt=B instanceof Ge?this.urlSerializer.serialize(B):B;if(this.location.isCurrentPathEqualTo(tt)||W.extras.replaceUrl){const re={...W.extras.state,...this.generateNgRouterState(W.id,this.browserPageId)};this.location.replaceState(tt,"",re)}else{const _t={...W.extras.state,...this.generateNgRouterState(W.id,this.browserPageId+1)};this.location.go(tt,"",_t)}}restoreHistory(B,W=!1){if("computed"===this.canceledNavigationResolution){const _t=this.currentPageId-this.browserPageId;0!==_t?this.location.historyGo(_t):this.currentUrlTree===B.finalUrl&&0===_t&&(this.resetState(B),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(W&&this.resetState(B),this.resetUrlToCurrentUrlTree())}resetState(B){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,B.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(B,W){return"computed"===this.canceledNavigationResolution?{navigationId:B,\u0275routerPageId:W}:{navigationId:B}}static#t=this.\u0275fac=(()=>{let B;return function(tt){return(B||(B=C.xGo(N)))(tt||N)}})();static#e=this.\u0275prov=C.jDH({token:N,factory:N.\u0275fac,providedIn:"root"})}return N})();var Kr=function(N){return N[N.COMPLETE=0]="COMPLETE",N[N.FAILED=1]="FAILED",N[N.REDIRECTING=2]="REDIRECTING",N}(Kr||{});function Gr(N,z){N.events.pipe((0,Te.p)(B=>B instanceof Rn||B instanceof dr||B instanceof vr||B instanceof Zr),(0,Qt.T)(B=>B instanceof Rn||B instanceof Zr?Kr.COMPLETE:B instanceof dr&&(B.code===Ei.Redirect||B.code===Ei.SupersededByNewNavigation)?Kr.REDIRECTING:Kr.FAILED),(0,Te.p)(B=>B!==Kr.REDIRECTING),(0,kt.s)(1)).subscribe(()=>{z()})}function yr(N){throw N}const fo={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},hi={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let cn=(()=>{class N{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=(0,C.WQX)(C.H3F),this.stateManager=(0,C.WQX)(vi),this.options=(0,C.WQX)(zh,{optional:!0})||{},this.pendingTasks=(0,C.WQX)(C.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,C.WQX)(K),this.urlSerializer=(0,C.WQX)(on),this.location=(0,C.WQX)(Ke.aZ),this.urlHandlingStrategy=(0,C.WQX)(Uh),this._events=new _e.B,this.errorHandler=this.options.errorHandler||yr,this.navigated=!1,this.routeReuseStrategy=(0,C.WQX)(se),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,C.WQX)(Sc,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,C.WQX)(Qr,{optional:!0}),this.eventsSubscription=new Ht.yU,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:B=>{this.console.warn(B)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const B=this.navigationTransitions.events.subscribe(W=>{try{const tt=this.navigationTransitions.currentTransition,_t=this.navigationTransitions.currentNavigation;if(null!==tt&&null!==_t)if(this.stateManager.handleRouterEvent(W,_t),W instanceof dr&&W.code!==Ei.Redirect&&W.code!==Ei.SupersededByNewNavigation)this.navigated=!0;else if(W instanceof Rn)this.navigated=!0;else if(W instanceof Rr){const re=W.navigationBehaviorOptions,an=this.urlHandlingStrategy.merge(W.url,tt.currentRawUrl),Ue={browserUrl:tt.extras.browserUrl,info:tt.extras.info,skipLocationChange:tt.extras.skipLocationChange,replaceUrl:tt.extras.replaceUrl||"eager"===this.urlUpdateStrategy||rt(tt.source),...re};this.scheduleNavigation(an,he,null,Ue,{resolve:tt.resolve,reject:tt.reject,promise:tt.promise})}(function Xi(N){return!(N instanceof Ui||N instanceof Rr)})(W)&&this._events.next(W)}catch(tt){this.navigationTransitions.transitionAbortSubject.next(tt)}});this.eventsSubscription.add(B)}resetRootComponentType(B){this.routerState.root.component=B,this.navigationTransitions.rootComponentType=B}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),he,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((B,W)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(B,"popstate",W)},0)})}navigateToSyncWithBrowser(B,W,tt){const _t={replaceUrl:!0},re=tt?.navigationId?tt:null;if(tt){const Ue={...tt};delete Ue.navigationId,delete Ue.\u0275routerPageId,0!==Object.keys(Ue).length&&(_t.state=Ue)}const an=this.parseUrl(B);this.scheduleNavigation(an,W,re,_t)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(B){this.config=B.map(jd),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(B,W={}){const{relativeTo:tt,queryParams:_t,fragment:re,queryParamsHandling:an,preserveFragment:Ue}=W,ln=Ue?this.currentUrlTree.fragment:re;let zi,$i=null;switch(an??this.options.defaultQueryParamsHandling){case"merge":$i={...this.currentUrlTree.queryParams,..._t};break;case"preserve":$i=this.currentUrlTree.queryParams;break;default:$i=_t||null}null!==$i&&($i=this.removeEmptyProps($i));try{zi=Ur(tt?tt.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof B[0]||"/"!==B[0][0])&&(B=[]),zi=this.currentUrlTree.root}return uo(zi,B,$i,ln??null)}navigateByUrl(B,W={skipLocationChange:!1}){const tt=Xe(B)?B:this.parseUrl(B),_t=this.urlHandlingStrategy.merge(tt,this.rawUrlTree);return this.scheduleNavigation(_t,he,null,W)}navigate(B,W={skipLocationChange:!1}){return function kn(N){for(let z=0;z<N.length;z++)if(null==N[z])throw new C.wOt(4008,!1)}(B),this.navigateByUrl(this.createUrlTree(B,W),W)}serializeUrl(B){return this.urlSerializer.serialize(B)}parseUrl(B){try{return this.urlSerializer.parse(B)}catch{return this.urlSerializer.parse("/")}}isActive(B,W){let tt;if(tt=!0===W?{...fo}:!1===W?{...hi}:W,Xe(B))return ur(this.currentUrlTree,B,tt);const _t=this.parseUrl(B);return ur(this.currentUrlTree,_t,tt)}removeEmptyProps(B){return Object.entries(B).reduce((W,[tt,_t])=>(null!=_t&&(W[tt]=_t),W),{})}scheduleNavigation(B,W,tt,_t,re){if(this.disposed)return Promise.resolve(!1);let an,Ue,ln;re?(an=re.resolve,Ue=re.reject,ln=re.promise):ln=new Promise((zi,Ro)=>{an=zi,Ue=Ro});const $i=this.pendingTasks.add();return Gr(this,()=>{queueMicrotask(()=>this.pendingTasks.remove($i))}),this.navigationTransitions.handleNavigationRequest({source:W,restoredState:tt,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:B,extras:_t,resolve:an,reject:Ue,promise:ln,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ln.catch(zi=>Promise.reject(zi))}static#t=this.\u0275fac=function(W){return new(W||N)};static#e=this.\u0275prov=C.jDH({token:N,factory:N.\u0275fac,providedIn:"root"})}return N})();class fr{}let Ia=(()=>{class N{constructor(B,W,tt,_t,re){this.router=B,this.injector=tt,this.preloadingStrategy=_t,this.loader=re}setUpPreloading(){this.subscription=this.router.events.pipe((0,Te.p)(B=>B instanceof Rn),(0,Oe.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(B,W){const tt=[];for(const _t of W){_t.providers&&!_t._injector&&(_t._injector=(0,C.Ol2)(_t.providers,B,`Route: ${_t.path}`));const re=_t._injector??B,an=_t._loadedInjector??re;(_t.loadChildren&&!_t._loadedRoutes&&void 0===_t.canLoad||_t.loadComponent&&!_t._loadedComponent)&&tt.push(this.preloadConfig(re,_t)),(_t.children||_t._loadedRoutes)&&tt.push(this.processRoutes(an,_t.children??_t._loadedRoutes))}return(0,g.H)(tt).pipe((0,Vt.U)())}preloadConfig(B,W){return this.preloadingStrategy.preload(W,()=>{let tt;tt=W.loadChildren&&void 0===W.canLoad?this.loader.loadChildren(B,W):(0,lt.of)(null);const _t=tt.pipe((0,oe.Z)(re=>null===re?(0,lt.of)(void 0):(W._loadedRoutes=re.routes,W._loadedInjector=re.injector,this.processRoutes(re.injector??B,re.routes))));if(W.loadComponent&&!W._loadedComponent){const re=this.loader.loadComponent(W);return(0,g.H)([_t,re]).pipe((0,Vt.U)())}return _t})}static#t=this.\u0275fac=function(W){return new(W||N)(C.KVO(cn),C.KVO(C.Ql9),C.KVO(C.uvJ),C.KVO(fr),C.KVO(M0))};static#e=this.\u0275prov=C.jDH({token:N,factory:N.\u0275fac,providedIn:"root"})}return N})();const Gi=new C.nKC("");function by(N,...z){return(0,C.EmA)([{provide:Sc,multi:!0,useValue:N},[],{provide:ka,useFactory:Yu,deps:[cn]},{provide:C.iLQ,multi:!0,useFactory:Ul},z.map(B=>B.\u0275providers)])}function Yu(N){return N.routerState.root}function Nr(N,z){return{\u0275kind:N,\u0275providers:z}}function Ul(){const N=(0,C.WQX)(C.zZn);return z=>{const B=N.get(C.o8S);if(z!==B.components[0])return;const W=N.get(cn),tt=N.get(or);1===N.get(Eo)&&W.initialNavigation(),N.get(Gh,null,C.$GK.Optional)?.setUpPreloading(),N.get(Gi,null,C.$GK.Optional)?.init(),W.resetRootComponentType(B.componentTypes[0]),tt.closed||(tt.next(),tt.complete(),tt.unsubscribe())}}const or=new C.nKC("",{factory:()=>new _e.B}),Eo=new C.nKC("",{providedIn:"root",factory:()=>1});function cs(){return Nr(2,[{provide:Eo,useValue:0},{provide:C.hnV,multi:!0,deps:[C.zZn],useFactory:z=>{const B=z.get(Ke.hj,Promise.resolve());return()=>B.then(()=>new Promise(W=>{const tt=z.get(cn),_t=z.get(or);Gr(tt,()=>{W(!0)}),z.get(K).afterPreactivation=()=>(W(!0),_t.closed?(0,lt.of)(void 0):_t),tt.initialNavigation()}))}}])}const Gh=new C.nKC("");function Tc(N){return Nr(0,[{provide:Gh,useExisting:Ia},{provide:fr,useExisting:N}])}function $h(){return Nr(6,[{provide:Ke.hb,useClass:Ke.fw}])}},2308:(mn,ae,P)=>{"use strict";P.d(ae,{Lt:()=>Bn,bA:()=>vt,Q8:()=>An,JO:()=>xe,$o:()=>ei});var C=P(4291),H=P(3204),g=P(5910),lt=P(3467),ct=P(8199),it=P(1071),jt=P(8093),It=P(745),pt=P(1531),bt=P(1391),At=P(7992),Pt=P(2388),yt=P(4637),Ht=P(5044),ue=P(1534),ye=P(7621),Le=P(7071),rn=P(103),_e=P(4080),Ke=P(7083);function Qt(te){return te&&te.constructor&&"function"==typeof te.constructor.isBuffer&&te.constructor.isBuffer(te)}function Ut(te){return te}function kt(te,Mn){const ne=(Mn=Mn||{}).delimiter||".",Pe=Mn.maxDepth,Ye=Mn.transformKey||Ut,ve={};return function Cn(Re,Qe,Hn){Hn=Hn||1,Object.keys(Re).forEach(function(fi){const gi=Re[fi],li=Mn.safe&&Array.isArray(gi),Ct=Object.prototype.toString.call(gi),le=Qt(gi),he="[object Object]"===Ct||"[object Array]"===Ct,Ne=Qe?Qe+ne+Ye(fi):Ye(fi);if(!li&&!le&&he&&Object.keys(gi).length&&(!Mn.maxDepth||Hn<Pe))return Cn(gi,Ne,Hn+1);ve[Ne]=gi})}(te),ve}function pe(te,Mn){const ne=(Mn=Mn||{}).delimiter||".",Pe=Mn.overwrite||!1,Ye=Mn.transformKey||Ut,ve={};if(Qt(te)||"[object Object]"!==Object.prototype.toString.call(te))return te;function Re(fi){const gi=Number(fi);return isNaN(gi)||-1!==fi.indexOf(".")||Mn.object?fi:gi}return te=Object.keys(te).reduce(function(fi,gi){const li=Object.prototype.toString.call(te[gi]);return"[object Object]"!==li&&"[object Array]"!==li||function Hn(fi){const gi=Object.prototype.toString.call(fi);return!fi||("[object Array]"===gi?!fi.length:"[object Object]"===gi?!Object.keys(fi).length:void 0)}(te[gi])?(fi[gi]=te[gi],fi):function Qe(fi,gi,li){return Object.keys(li).reduce(function(Ct,le){return Ct[fi+ne+le]=li[le],Ct},gi)}(gi,fi,kt(te[gi],Mn))},{}),Object.keys(te).forEach(function(fi){const gi=fi.split(ne).map(Ye);let li=Re(gi.shift()),Ct=Re(gi[0]),le=ve;for(;void 0!==Ct;){if("__proto__"===li)return;const he=Object.prototype.toString.call(le[li]),Ne="[object Object]"===he||"[object Array]"===he;if(!Pe&&!Ne&&typeof le[li]<"u")return;(Pe&&!Ne||!Pe&&null==le[li])&&(le[li]="number"!=typeof Ct||Mn.object?{}:[]),le=le[li],gi.length>0&&(li=Re(gi.shift()),Ct=Re(gi[0]))}le[li]=pe(te[fi],Mn)}),ve}class Te{translations;constructor(Mn){this.translations=Mn}getTranslation(Mn){return(0,H.of)(this.translations.get(Mn)||{})}}const oe=new C.nKC("TRANSLOCO_LOADER");function Kt(te,Mn){return te&&(Object.prototype.hasOwnProperty.call(te,Mn)?te[Mn]:Mn.split(".").reduce((ne,Pe)=>ne?.[Pe],te))}function ke(te){return te?Array.isArray(te)?te.length:Ot(te)?Object.keys(te).length:te?te.length:0:0}function Oe(te){return"string"==typeof te}function Ot(te){return!!te&&"object"==typeof te&&!Array.isArray(te)}function ft(te){return te.replace(/(?:^\w|[A-Z]|\b\w)/g,(Mn,ne)=>0==ne?Mn.toLowerCase():Mn.toUpperCase()).replace(/\s+|_|-|\//g,"")}function ot(te){return null==te}function Dt(te){return!1===ot(te)}function Vt(te){return te&&"string"==typeof te.scope}function Ie(te){return kt(te,{safe:!0})}const fn=new C.nKC("TRANSLOCO_CONFIG",{providedIn:"root",factory:()=>Un}),Un={defaultLang:"en",reRenderOnLangChange:!1,prodMode:!1,failedRetries:2,fallbackLang:[],availableLangs:[],missingHandler:{logMissingKey:!0,useFallbackTranslation:!1,allowEmpty:!1},flatten:{aot:!1},interpolation:["{{","}}"],scopes:{keepCasing:!1}};function Ri(te={}){return{...Un,...te,missingHandler:{...Un.missingHandler,...te.missingHandler},flatten:{...Un.flatten,...te.flatten},scopes:{...Un.scopes,...te.scopes}}}const Fn=new C.nKC("TRANSLOCO_TRANSPILER");let ci=(()=>{class te{config=(0,C.WQX)(fn,{optional:!0})??Un;get interpolationMatcher(){return function Di(te){const[Mn,ne]=te.interpolation;return new RegExp(`${Mn}([^${Mn}${ne}]*?)${ne}`,"g")}(this.config)}transpile({value:ne,params:Pe={},translation:Ye,key:ve}){if(Oe(ne)){let Cn,Re=ne;for(;null!==(Cn=this.interpolationMatcher.exec(Re));){const[Qe,Hn]=Cn;Re=Re.replace(Qe,()=>{const fi=Hn.trim(),gi=Kt(Pe,fi);return Dt(gi)?gi:Dt(Ye[fi])?this.transpile({params:Pe,translation:Ye,key:ve,value:Ye[fi]}):""})}return Re}return Pe&&(Ot(ne)?ne=this.handleObject({value:ne,params:Pe,translation:Ye,key:ve}):Array.isArray(ne)&&(ne=this.handleArray({value:ne,params:Pe,translation:Ye,key:ve}))),ne}handleObject({value:ne,params:Pe={},translation:Ye,key:ve}){let Cn=ne;return Object.keys(Pe).forEach(Re=>{const Qe=this.transpile({value:Kt(Cn,Re),params:Kt(Pe,Re),translation:Ye,key:ve});Cn=function Zt(te,Mn,ne){te={...te};const Pe=Mn.split("."),Ye=Pe.length-1;return Pe.reduce((ve,Cn,Re)=>(ve[Cn]=Re===Ye?ne:Array.isArray(ve[Cn])?ve[Cn].slice():{...ve[Cn]},ve&&ve[Cn]),te),te}(Cn,Re,Qe)}),Cn}handleArray({value:ne,...Pe}){return ne.map(Ye=>this.transpile({value:Ye,...Pe}))}static \u0275fac=function(Pe){return new(Pe||te)};static \u0275prov=C.jDH({token:te,factory:te.\u0275fac})}return te})();const Vi=new C.nKC("TRANSLOCO_MISSING_HANDLER");let Tn=(()=>{class te{handle(ne,Pe){return Pe.missingHandler.logMissingKey&&!Pe.prodMode&&console.warn(`%c Missing translation for '${ne}'`,"font-size: 12px; color: red"),ne}static \u0275fac=function(Pe){return new(Pe||te)};static \u0275prov=C.jDH({token:te,factory:te.\u0275fac})}return te})();const er=new C.nKC("TRANSLOCO_INTERCEPTOR");let ur=(()=>{class te{preSaveTranslation(ne){return ne}preSaveTranslationKey(ne,Pe){return Pe}static \u0275fac=function(Pe){return new(Pe||te)};static \u0275prov=C.jDH({token:te,factory:te.\u0275fac})}return te})();const kr=new C.nKC("TRANSLOCO_FALLBACK_STRATEGY");let on,Ir=(()=>{class te{userConfig;constructor(ne){this.userConfig=ne}getNextLangs(){const ne=this.userConfig.fallbackLang;if(!ne)throw new Error("When using the default fallback, a fallback language must be provided in the config!");return Array.isArray(ne)?ne:[ne]}static \u0275fac=function(Pe){return new(Pe||te)(C.KVO(fn))};static \u0275prov=C.jDH({token:te,factory:te.\u0275fac})}return te})();function tn(te){if(!te)return"";const Mn=te.split("/");return Mn.pop(),Mn.join("/")}function mt(te){return te?te.split("/").pop():""}function Nt(te,Mn,ne="|"){if(Oe(te)){const Pe=te.split(ne),Ye=Pe.pop();return Ye===Mn?[!0,Pe.toString()]:[!1,Ye]}return[!1,""]}function qe(te,Mn){return function Ee(te){return te&&Ot(te.loader)}(te)?function Wt(te,Mn){return Object.keys(te).reduce((ne,Pe)=>(ne[`${Mn}/${Pe}`]=te[Pe],ne),{})}(te.loader,Mn):void 0}function ie(te){return{scope:tn(te)||null,langName:mt(te)}}function be(te){const{path:Mn,inlineLoader:ne,mainLoader:Pe,data:Ye}=te;if(ne){if(!1===function ge(te){return"function"==typeof te}(ne[Mn]))throw`You're using an inline loader but didn't provide a loader for ${Mn}`;return ne[Mn]().then(Cn=>Cn.default?Cn.default:Cn)}return Pe.getTranslation(Mn,Ye)}let xe=(()=>{class te{loader;parser;missingHandler;interceptor;fallbackStrategy;langChanges$;translations=new Map;cache=new Map;firstFallbackLang;defaultLang="";availableLangs=[];isResolvedMissingOnce=!1;lang;failedLangs=new Set;events=new it.B;events$=this.events.asObservable();config;constructor(ne,Pe,Ye,ve,Cn,Re){this.loader=ne,this.parser=Pe,this.missingHandler=Ye,this.interceptor=ve,this.fallbackStrategy=Re,this.loader||(this.loader=new Te(this.translations)),on=this,this.config=JSON.parse(JSON.stringify(Cn)),this.setAvailableLangs(this.config.availableLangs||[]),this.setFallbackLangForMissingTranslation(this.config),this.setDefaultLang(this.config.defaultLang),this.lang=new jt.t(this.getDefaultLang()),this.langChanges$=this.lang.asObservable(),this.events$.pipe((0,Ke.pQ)()).subscribe(Qe=>{"translationLoadSuccess"===Qe.type&&Qe.wasFailure&&this.setActiveLang(Qe.payload.langName)})}getDefaultLang(){return this.defaultLang}setDefaultLang(ne){this.defaultLang=ne}getActiveLang(){return this.lang.getValue()}setActiveLang(ne){return this.parser.onLangChanged?.(ne),this.lang.next(ne),this.events.next({type:"langChanged",payload:ie(ne)}),this}setAvailableLangs(ne){this.availableLangs=ne}getAvailableLangs(){return this.availableLangs}load(ne,Pe={}){const Ye=this.cache.get(ne);if(Ye)return Ye;let ve;const Cn=this._isLangScoped(ne);let Re;Cn&&(Re=tn(ne));const Qe={path:ne,mainLoader:this.loader,inlineLoader:Pe.inlineLoader,data:Cn?{scope:Re}:void 0};if(this.useFallbackTranslation(ne)){const fi=Cn?`${Re}/${this.firstFallbackLang}`:this.firstFallbackLang,gi=function je({mainLoader:te,path:Mn,data:ne,fallbackPath:Pe,inlineLoader:Ye}){return(Pe?[Mn,Pe]:[Mn]).map(Cn=>{const Re=be({path:Cn,mainLoader:te,inlineLoader:Ye,data:ne});return(0,lt.H)(Re).pipe((0,ct.T)(Qe=>({translation:Qe,lang:Cn})))})}({...Qe,fallbackPath:fi});ve=(0,It.p)(gi)}else{const fi=be(Qe);ve=(0,lt.H)(fi)}const Hn=ve.pipe(function Ft(te=1/0){let Mn;Mn=te&&"object"==typeof te?te:{count:te};const{count:ne=1/0,delay:Pe,resetOnSuccess:Ye=!1}=Mn;return ne<=0?At.D:(0,pt.N)((ve,Cn)=>{let Qe,Re=0;const Hn=()=>{let fi=!1;Qe=ve.subscribe((0,bt._)(Cn,gi=>{Ye&&(Re=0),Cn.next(gi)},void 0,gi=>{if(Re++<ne){const li=()=>{Qe?(Qe.unsubscribe(),Qe=null,Hn()):fi=!0};if(null!=Pe){const Ct="number"==typeof Pe?(0,Pt.O)(Pe):(0,yt.Tg)(Pe(gi,Re)),le=(0,bt._)(Cn,()=>{le.unsubscribe(),li()},()=>{Cn.complete()});Ct.subscribe(le)}else li()}else Cn.error(gi)})),fi&&(Qe.unsubscribe(),Qe=null,Hn())};Hn()})}(this.config.failedRetries),(0,Ht.M)(fi=>{Array.isArray(fi)?fi.forEach(gi=>{this.handleSuccess(gi.lang,gi.translation),gi.lang!==ne&&this.cache.set(gi.lang,(0,H.of)({}))}):this.handleSuccess(ne,fi)}),(0,ue.W)(fi=>(this.config.prodMode||console.error(`Error while trying to load "${ne}"`,fi),this.handleFailure(ne,Pe))),(0,ye.t)(1));return this.cache.set(ne,Hn),Hn}translate(ne,Pe={},Ye=this.getActiveLang()){if(!ne)return ne;const{scope:ve,resolveLang:Cn}=this.resolveLangAndScope(Ye);if(Array.isArray(ne))return ne.map(Hn=>this.translate(ve?`${ve}.${Hn}`:Hn,Pe,Cn));ne=ve?`${ve}.${ne}`:ne;const Re=this.getTranslation(Cn),Qe=Re[ne];return Qe?this.parser.transpile({value:Qe,params:Pe,translation:Re,key:ne}):this._handleMissingKey(ne,Qe,Pe)}selectTranslate(ne,Pe,Ye,ve=!1){let Cn;const Re=(Hn,fi)=>this.load(Hn,fi).pipe((0,ct.T)(()=>ve?this.translateObject(ne,Pe,Hn):this.translate(ne,Pe,Hn)));if(ot(Ye))return this.langChanges$.pipe((0,Le.n)(Hn=>Re(Hn)));if(Vt(Ye=Array.isArray(Ye)?Ye[0]:Ye)){const Hn=Ye;Ye=Hn.scope,Cn=qe(Hn,Hn.scope)}if(this.isLang(Ye)||this.isScopeWithLang(Ye))return Re(Ye);const Qe=Ye;return this.langChanges$.pipe((0,Le.n)(Hn=>Re(`${Qe}/${Hn}`,{inlineLoader:Cn})))}isScopeWithLang(ne){return this.isLang(mt(ne))}translateObject(ne,Pe={},Ye=this.getActiveLang()){if(Oe(ne)||Array.isArray(ne)){const{resolveLang:Cn,scope:Re}=this.resolveLangAndScope(Ye);if(Array.isArray(ne))return ne.map(fi=>this.translateObject(Re?`${Re}.${fi}`:fi,Pe,Cn));const Qe=this.getTranslation(Cn),Hn=function we(te){return pe(te)}(this.getObjectByKey(Qe,ne=Re?`${Re}.${ne}`:ne));return function De(te){return 0===ke(te)}(Hn)?this.translate(ne,Pe,Ye):this.parser.transpile({value:Hn,params:Pe,translation:Qe,key:ne})}const ve=[];for(const[Cn,Re]of this.getEntries(ne))ve.push(this.translateObject(Cn,Re,Ye));return ve}selectTranslateObject(ne,Pe,Ye){if(Oe(ne)||Array.isArray(ne))return this.selectTranslate(ne,Pe,Ye,!0);const[[ve,Cn],...Re]=this.getEntries(ne);return this.selectTranslateObject(ve,Cn,Ye).pipe((0,ct.T)(Qe=>{const Hn=[Qe];for(const[fi,gi]of Re)Hn.push(this.translateObject(fi,gi,Ye));return Hn}))}getTranslation(ne){if(ne){if(this.isLang(ne))return this.translations.get(ne)||{};{const{scope:Pe,resolveLang:Ye}=this.resolveLangAndScope(ne),ve=this.translations.get(Ye)||{};return this.getObjectByKey(ve,Pe)}}return this.translations}selectTranslation(ne){let Pe=this.langChanges$;if(ne){const Ye=mt(ne)!==ne;Pe=this.isLang(ne)||Ye?(0,H.of)(ne):this.langChanges$.pipe((0,ct.T)(ve=>`${ne}/${ve}`))}return Pe.pipe((0,Le.n)(Ye=>this.load(Ye).pipe((0,ct.T)(()=>this.getTranslation(Ye)))))}setTranslation(ne,Pe=this.getActiveLang(),Ye={}){const Cn={merge:!0,emitChange:!0,...Ye},Re=tn(Pe);let Qe=ne;if(Re){const Ct=this.getMappedScope(Re);Qe=Ie({[Ct]:ne})}const Hn=Re?mt(Pe):Pe,fi={...Cn.merge&&this.getTranslation(Hn),...Qe},gi=this.config.flatten.aot?fi:Ie(fi),li=this.interceptor.preSaveTranslation(gi,Hn);this.translations.set(Hn,li),Cn.emitChange&&this.setActiveLang(this.getActiveLang())}setTranslationKey(ne,Pe,Ye={}){const ve=Ye.lang||this.getActiveLang(),Cn=this.interceptor.preSaveTranslationKey(ne,Pe,ve);this.setTranslation({[ne]:Cn},ve,{...Ye,merge:!0})}setFallbackLangForMissingTranslation({fallbackLang:ne}){const Pe=Array.isArray(ne)?ne[0]:ne;ne&&this.useFallbackTranslation(Pe)&&(this.firstFallbackLang=Pe)}_handleMissingKey(ne,Pe,Ye){if(this.config.missingHandler.allowEmpty&&""===Pe)return"";if(!this.isResolvedMissingOnce&&this.useFallbackTranslation()){this.isResolvedMissingOnce=!0;const ve=this.translate(ne,Ye,this.firstFallbackLang);return this.isResolvedMissingOnce=!1,ve}return this.missingHandler.handle(ne,this.getMissingHandlerData(),Ye)}_isLangScoped(ne){return-1===this.getAvailableLangsIds().indexOf(ne)}isLang(ne){return-1!==this.getAvailableLangsIds().indexOf(ne)}_loadDependencies(ne,Pe){const Ye=mt(ne);return this._isLangScoped(ne)&&!this.isLoadedTranslation(Ye)?(0,rn.z)([this.load(Ye),this.load(ne,{inlineLoader:Pe})]):this.load(ne,{inlineLoader:Pe})}_completeScopeWithLang(ne){return this._isLangScoped(ne)&&!this.isLang(mt(ne))?`${ne}/${this.getActiveLang()}`:ne}_setScopeAlias(ne,Pe){this.config.scopeMapping||(this.config.scopeMapping={}),this.config.scopeMapping[ne]=Pe}ngOnDestroy(){this.cache.clear()}isLoadedTranslation(ne){return ke(this.getTranslation(ne))}getAvailableLangsIds(){return Oe(this.getAvailableLangs()[0])?this.getAvailableLangs():this.getAvailableLangs().map(Pe=>Pe.id)}getMissingHandlerData(){return{...this.config,activeLang:this.getActiveLang(),availableLangs:this.availableLangs,defaultLang:this.defaultLang}}useFallbackTranslation(ne){return this.config.missingHandler.useFallbackTranslation&&ne!==this.firstFallbackLang}handleSuccess(ne,Pe){this.setTranslation(Pe,ne,{emitChange:!1}),this.events.next({wasFailure:!!this.failedLangs.size,type:"translationLoadSuccess",payload:ie(ne)}),this.failedLangs.forEach(Ye=>this.cache.delete(Ye)),this.failedLangs.clear()}handleFailure(ne,Pe){ot(Pe.failedCounter)&&(Pe.failedCounter=0,Pe.fallbackLangs||(Pe.fallbackLangs=this.fallbackStrategy.getNextLangs(ne)));const Ye=ne.split("/"),Cn=Pe.fallbackLangs[Pe.failedCounter];if(this.failedLangs.add(ne),this.cache.has(Cn))return this.handleSuccess(Cn,this.getTranslation(Cn)),_e.w;if(!Cn||Cn===Ye[Ye.length-1]){let Hn="Unable to load translation and all the fallback languages";throw Ye.length>1&&(Hn+=", did you misspelled the scope name?"),new Error(Hn)}let Qe=Cn;return Ye.length>1&&(Ye[Ye.length-1]=Cn,Qe=Ye.join("/")),Pe.failedCounter++,this.events.next({type:"translationLoadFailure",payload:ie(ne)}),this.load(Qe,Pe)}getMappedScope(ne){const{scopeMapping:Pe={},scopes:Ye={keepCasing:!1}}=this.config;return Pe[ne]||(Ye.keepCasing?ne:ft(ne))}resolveLangAndScope(ne){let Ye,Pe=ne;if(this._isLangScoped(ne)){const ve=mt(ne),Cn=this.isLang(ve);Pe=Cn?ve:this.getActiveLang(),Ye=this.getMappedScope(Cn?tn(ne):ne)}return{scope:Ye,resolveLang:Pe}}getObjectByKey(ne,Pe){const Ye={},ve=`${Pe}.`;for(const Cn in ne)Cn.startsWith(ve)&&(Ye[Cn.replace(ve,"")]=ne[Cn]);return Ye}getEntries(ne){return ne instanceof Map?ne.entries():Object.entries(ne)}static \u0275fac=function(Pe){return new(Pe||te)(C.KVO(oe,8),C.KVO(Fn),C.KVO(Vi),C.KVO(er),C.KVO(fn),C.KVO(kr))};static \u0275prov=C.jDH({token:te,factory:te.\u0275fac,providedIn:"root"})}return te})(),pn=(()=>{class te{html;static \u0275fac=function(Pe){return new(Pe||te)};static \u0275cmp=C.VBU({type:te,selectors:[["ng-component"]],inputs:{html:"html"},standalone:!0,features:[C.aNF],decls:1,vars:1,consts:[[1,"transloco-loader-template",3,"innerHTML"]],template:function(Pe,Ye){1&Pe&&C.nrm(0,"div",0),2&Pe&&C.Y8G("innerHTML",Ye.html,C.npT)},encapsulation:2})}return te})();class en{view;vcr;constructor(Mn,ne){this.view=Mn,this.vcr=ne}attachView(){if(this.view instanceof C.C4Q)this.vcr.createEmbeddedView(this.view);else if(Oe(this.view)){const Mn=this.vcr.createComponent(pn);Mn.instance.html=this.view,Mn.hostView.detectChanges()}else this.vcr.createComponent(this.view)}detachView(){this.vcr.clear()}}const yn=new C.nKC("TRANSLOCO_LANG"),$e=new C.nKC("TRANSLOCO_LOADING_TEMPLATE"),Bn=new C.nKC("TRANSLOCO_SCOPE");class Rt{initialized=!1;resolve({inline:Mn,provider:ne,active:Pe}){let Ye=Pe;if(this.initialized)return Ye=Pe,Ye;if(ne){const[,ve]=Nt(ne,"static");Ye=ve}if(Mn){const[,ve]=Nt(Mn,"static");Ye=ve}return this.initialized=!0,Ye}resolveLangBasedOnScope(Mn){return tn(Mn)?mt(Mn):Mn}resolveLangPath(Mn,ne){return ne?`${ne}/${Mn}`:Mn}}class Tt{service;constructor(Mn){this.service=Mn}resolve(Mn){const{inline:ne,provider:Pe}=Mn;if(ne)return ne;if(Pe){if(Vt(Pe)){const{scope:Ye,alias:ve=(this.service.config.scopes.keepCasing?Ye:ft(Ye))}=Pe;return this.service._setScopeAlias(Ye,ve),Ye}return Pe}}}let vt=(()=>{class te{destroyRef=(0,C.WQX)(C.abz);service=(0,C.WQX)(xe);tpl=(0,C.WQX)(C.C4Q,{optional:!0});providerLang=(0,C.WQX)(yn,{optional:!0});providerScope=(0,C.WQX)(Bn,{optional:!0});providedLoadingTpl=(0,C.WQX)($e,{optional:!0});cdr=(0,C.WQX)(C.gRc);host=(0,C.WQX)(C.aKT);vcr=(0,C.WQX)(C.c1b);renderer=(0,C.WQX)(C.sFG);view;memo=new Map;key;params={};inlineScope;inlineRead;prefix;inlineLang;inlineTpl;currentLang;loaderTplHandler;initialized=!1;path;langResolver=new Rt;scopeResolver=new Tt(this.service);strategy=null===this.tpl?"attribute":"structural";static ngTemplateContextGuard(ne,Pe){return!0}ngOnInit(){const ne=function fe(te,Mn){const[ne]=Nt(Mn,"static");return!ne&&!!te.config.reRenderOnLangChange}(this.service,this.providerLang||this.inlineLang);if(this.service.langChanges$.pipe((0,Le.n)(Pe=>{const Ye=this.langResolver.resolve({inline:this.inlineLang,provider:this.providerLang,active:Pe});return Array.isArray(this.providerScope)?(0,It.p)(this.providerScope.map(ve=>this.resolveScope(Ye,ve))):this.resolveScope(Ye,this.providerScope)}),function Ge(te){return te?Mn=>Mn:(0,g.s)(1)}(ne),(0,Ke.pQ)(this.destroyRef)).subscribe(()=>{this.currentLang=this.langResolver.resolveLangBasedOnScope(this.path),"attribute"===this.strategy?this.attributeStrategy():this.structuralStrategy(this.currentLang,this.prefix||this.inlineRead),this.cdr.markForCheck(),this.initialized=!0}),!this.initialized){const Pe=this.resolveLoadingContent();Pe&&(this.loaderTplHandler=new en(Pe,this.vcr),this.loaderTplHandler.attachView())}}ngOnChanges(ne){"attribute"===this.strategy&&Object.keys(ne).some(Ye=>!ne[Ye].firstChange)&&this.attributeStrategy()}attributeStrategy(){this.detachLoader(),this.renderer.setProperty(this.host.nativeElement,"innerText",this.service.translate(this.key,this.params,this.currentLang))}structuralStrategy(ne,Pe){this.memo.clear();const Ye=this.getTranslateFn(ne,Pe);this.view?(this.view.context.$implicit=Ye,this.view.context.currentLang=this.currentLang):(this.detachLoader(),this.view=this.vcr.createEmbeddedView(this.tpl,{$implicit:Ye,currentLang:this.currentLang}))}getTranslateFn(ne,Pe){return(Ye,ve)=>{const Cn=Pe?`${Pe}.${Ye}`:Ye,Re=ve?`${Cn}${JSON.stringify(ve)}`:Cn;return this.memo.has(Re)||this.memo.set(Re,this.service.translate(Cn,ve,ne)),this.memo.get(Re)}}resolveLoadingContent(){return this.inlineTpl||this.providedLoadingTpl}ngOnDestroy(){this.memo.clear()}detachLoader(){this.loaderTplHandler?.detachView()}resolveScope(ne,Pe){const Ye=this.scopeResolver.resolve({inline:this.inlineScope,provider:Pe});this.path=this.langResolver.resolveLangPath(ne,Ye);const ve=qe(Pe,Ye);return this.service._loadDependencies(this.path,ve)}static \u0275fac=function(Pe){return new(Pe||te)};static \u0275dir=C.FsC({type:te,selectors:[["","transloco",""]],inputs:{key:[0,"transloco","key"],params:[0,"translocoParams","params"],inlineScope:[0,"translocoScope","inlineScope"],inlineRead:[0,"translocoRead","inlineRead"],prefix:[0,"translocoPrefix","prefix"],inlineLang:[0,"translocoLang","inlineLang"],inlineTpl:[0,"translocoLoadingTpl","inlineTpl"]},standalone:!0,features:[C.OA$]})}return te})(),An=(()=>{class te{static \u0275fac=function(Pe){return new(Pe||te)};static \u0275mod=C.$C({type:te});static \u0275inj=C.G2t({})}return te})();function ei(te){const Mn=[Ce(ci),$t(Tn),wt(ur),Jt(Ir)];return te.config&&Mn.push(function bi(te){return(0,C.EmA)([{provide:fn,useValue:Ri(te)}])}(te.config)),te.loader&&Mn.push(function Fe(te){return(0,C.EmA)([{provide:oe,useClass:te}])}(te.loader)),Mn}function Ce(te){return(0,C.EmA)([{provide:Fn,useClass:te,deps:[fn]}])}function Jt(te){return(0,C.EmA)([{provide:kr,useClass:te,deps:[fn]}])}function $t(te){return(0,C.EmA)([{provide:Vi,useClass:te}])}function wt(te){return(0,C.EmA)([{provide:er,useClass:te}])}new C.nKC("TRANSLOCO_TEST_LANGS - Available testing languages"),new C.nKC("TRANSLOCO_TEST_OPTIONS - Testing options")},1487:(mn,ae,P)=>{"use strict";function H(Ot){return null!=Ot&&"object"==typeof Ot&&!0===Ot["@@functional/placeholder"]}function g(Ot){return function ut(ft){return 0===arguments.length||H(ft)?ut:Ot.apply(this,arguments)}}P.d(ae,{N:()=>ge});const ct=g(function(ut){return null===ut?"Null":void 0===ut?"Undefined":Object.prototype.toString.call(ut).slice(8,-1)});function it(Ot,ut,ft){if(ft||(ft=new It),function jt(Ot){var ut=typeof Ot;return null==Ot||"object"!=ut&&"function"!=ut}(Ot))return Ot;var Mt=function(Dt){var dt=ft.get(Ot);if(dt)return dt;for(var Vt in ft.set(Ot,Dt),Ot)Object.prototype.hasOwnProperty.call(Ot,Vt)&&(Dt[Vt]=ut?it(Ot[Vt],!0,ft):Ot[Vt]);return Dt};switch(ct(Ot)){case"Object":return Mt(Object.create(Object.getPrototypeOf(Ot)));case"Array":return Mt(Array(Ot.length));case"Date":return new Date(Ot.valueOf());case"RegExp":return function C(Ot){return new RegExp(Ot.source,Ot.flags?Ot.flags:(Ot.global?"g":"")+(Ot.ignoreCase?"i":"")+(Ot.multiline?"m":"")+(Ot.sticky?"y":"")+(Ot.unicode?"u":"")+(Ot.dotAll?"s":""))}(Ot);case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":return Ot.slice();default:return Ot}}var It=function(){function Ot(){this.map={},this.length=0}return Ot.prototype.set=function(ut,ft){var Mt=this.hash(ut),ot=this.map[Mt];ot||(this.map[Mt]=ot=[]),ot.push([ut,ft]),this.length+=1},Ot.prototype.hash=function(ut){var ft=[];for(var Mt in ut)ft.push(Object.prototype.toString.call(ut[Mt]));return ft.join()},Ot.prototype.get=function(ut){if(this.length<=180){for(var ft in this.map)for(var dt=this.map[ft],Mt=0;Mt<dt.length;Mt+=1)if((ot=dt[Mt])[0]===ut)return ot[1]}else{var Dt=this.hash(ut);if(dt=this.map[Dt])for(Mt=0;Mt<dt.length;Mt+=1){var ot;if((ot=dt[Mt])[0]===ut)return ot[1]}}},Ot}();const bt=g(function(ut){return null!=ut&&"function"==typeof ut.clone?ut.clone():it(ut,!0)});function At(Ot){return function ut(ft,Mt){switch(arguments.length){case 0:return ut;case 1:return H(ft)?ut:g(function(ot){return Ot(ft,ot)});default:return H(ft)&&H(Mt)?ut:H(ft)?g(function(ot){return Ot(ot,Mt)}):H(Mt)?g(function(ot){return Ot(ft,ot)}):Ot(ft,Mt)}}}function Pt(Ot){return function ut(ft,Mt,ot){switch(arguments.length){case 0:return ut;case 1:return H(ft)?ut:At(function(Dt,dt){return Ot(ft,Dt,dt)});case 2:return H(ft)&&H(Mt)?ut:H(ft)?At(function(Dt,dt){return Ot(Dt,Mt,dt)}):H(Mt)?At(function(Dt,dt){return Ot(ft,Dt,dt)}):g(function(Dt){return Ot(ft,Mt,Dt)});default:return H(ft)&&H(Mt)&&H(ot)?ut:H(ft)&&H(Mt)?At(function(Dt,dt){return Ot(Dt,dt,ot)}):H(ft)&&H(ot)?At(function(Dt,dt){return Ot(Dt,Mt,dt)}):H(Mt)&&H(ot)?At(function(Dt,dt){return Ot(ft,Dt,dt)}):H(ft)?g(function(Dt){return Ot(Dt,Mt,ot)}):H(Mt)?g(function(Dt){return Ot(ft,Dt,ot)}):H(ot)?g(function(Dt){return Ot(ft,Mt,Dt)}):Ot(ft,Mt,ot)}}}function yt(Ot){return"[object Object]"===Object.prototype.toString.call(Ot)}function Ft(Ot,ut){return Object.prototype.hasOwnProperty.call(ut,Ot)}const ue=Pt(function(ut,ft,Mt){var Dt,ot={};for(Dt in Mt=Mt||{},ft=ft||{})Ft(Dt,ft)&&(ot[Dt]=Ft(Dt,Mt)?ut(Dt,ft[Dt],Mt[Dt]):ft[Dt]);for(Dt in Mt)Ft(Dt,Mt)&&!Ft(Dt,ot)&&(ot[Dt]=Mt[Dt]);return ot}),Le=Pt(function Ot(ut,ft,Mt){return ue(function(ot,Dt,dt){return yt(Dt)&&yt(dt)?Ot(ut,Dt,dt):ut(ot,Dt,dt)},ft,Mt)}),_e=At(function(ut,ft){return Le(function(Mt,ot,Dt){return Dt},ut,ft)}),Ke="@ngrx/store/init",Qt="@ngrx/effects/init",Ut="@ngrx/store/update-reducers",kt=Ot=>"object"==typeof Ot&&null!==Ot,pe=Ot=>Ot?.constructor===Object,Te=Ot=>pe(Ot)&&0===Object.keys(Ot).length,oe=/(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})/,Zt=Ot=>{for(const ut in Ot)pe(Ot[ut])&&(Te(Ot[ut])||Zt(Ot[ut]),Te(Ot[ut])&&delete Ot[ut]);return Ot},ke=(Ot,ut)=>{if(!ut||!ut.length)return Ot;const ft=ut.map(Mt=>({leftKey:Mt.split(".")[0],rightKey:Mt.split(".")[1]}));for(const Mt in Ot){const ot=ft.find(Vt=>Vt.leftKey===Mt),Dt=ot?.leftKey,dt=ot?.rightKey;kt(Ot[Mt])?Dt&&dt?ke(Ot[Mt],[...ut,dt]):Dt?delete Ot[Mt]:ke(Ot[Mt],ut):Dt&&delete Ot[Mt]}return Zt(Ot)},ge=Ot=>ut=>{const ft={rehydrate:!0,storageKeySerializer:Vt=>Vt,rehydrateStateMerger:(Vt,Ee)=>_e(Vt,Ee),...Ot},{rehydrate:Mt,rehydrateStateMerger:ot}=ft,dt=Mt&&Oe(ft)?(({storage:Ot,storageKeySerializer:ut,features:ft,storageError:Mt})=>{const ot=ft.reduce((Dt,dt)=>{const{storageKeySerializerForFeature:Vt,stateKey:Ee,deserialize:we,storageForFeature:Ie}=dt,fn=Vt?Vt(Ee):ut(Ee);try{const Un=Ie?Ie.getItem(fn):Ot.getItem(fn);return Un?{...Dt,[Ee]:we?we(Un):JSON.parse(Un,(Ri,Fn)=>oe.test(String(Fn))&&!isNaN(Date.parse(Fn))?new Date(Fn):Fn)}:Dt}catch(Un){if(!Mt)throw Un;Mt(Un)}},Object());return Te(ot)?void 0:ot})(ft):void 0;return(Vt,Ee)=>{const we=Ee.type===Ke?ut(Vt,Ee):{...Vt},Ie=void 0!==dt&&[Ke,Ut].includes(Ee.type),fn=ut(Ie?ot(we,dt):we,Ee);return[Ke,Qt].includes(Ee.type)||(ee(ft),((Ot,{features:ut,storage:ft,storageKeySerializer:Mt,storageError:ot})=>{ut.filter(({stateKey:Dt})=>void 0!==Ot[Dt]).filter(({stateKey:Dt,shouldSync:dt})=>!dt||dt(Ot[Dt],Ot)).forEach(({stateKey:Dt,excludeKeys:dt,storageKeySerializerForFeature:Vt,serialize:Ee,storageForFeature:we})=>{const Ie=bt(Ot[Dt]),fn=ke(Ie,dt);if(Te(fn))return;const Un=Vt?Vt(Dt):Mt(Dt),Ri=Ee?Ee(fn):JSON.stringify(fn);try{we?we.setItem(Un,Ri):ft.setItem(Un,Ri)}catch(Fn){if(!ot)throw Fn;ot(Fn)}})})(fn,ft)),fn}},Oe=({storage:Ot,storageError:ut,storageKeySerializer:ft,version:Mt,versionKey:ot="ngrx-store-storagesync.version"})=>{const Dt=ft(ot);try{const dt=Ot.getItem(Dt);return null==dt&&null==Mt||Number(dt)===Mt}catch(dt){if(!ut)throw dt;ut(dt)}return!1},ee=({storage:Ot,storageError:ut,storageKeySerializer:ft,version:Mt,versionKey:ot="ngrx-store-storagesync.version"})=>{const Dt=ft(ot);try{Mt?Ot.setItem(Dt,String(Mt)):Ot.removeItem(Dt)}catch(dt){if(!ut)throw dt;ut(dt)}}},3027:(mn,ae,P)=>{"use strict";P.d(ae,{C:()=>H});var C=P(4291);let H=(()=>{class g{constructor(){this.mxIconButtonSize="lg",this.mxIconButtonSelected=!1}static#t=this.\u0275fac=function(it){return new(it||g)};static#e=this.\u0275dir=C.FsC({type:g,selectors:[["button","mxIconButton",""]],hostVars:10,hostBindings:function(it,jt){2&it&&C.AVh("mx-icon-lg","lg"===jt.mxIconButtonSize)("mx-icon-md","md"===jt.mxIconButtonSize)("mx-icon-sm","sm"===jt.mxIconButtonSize)("mx-icon-xs","xs"===jt.mxIconButtonSize)("mx-button-selected",jt.mxIconButtonSelected)},inputs:{mxIconButtonSize:"mxIconButtonSize",mxIconButtonSelected:[2,"mxIconButtonSelected","mxIconButtonSelected",C.L39]},standalone:!0,features:[C.GFd]})}return g})()},9434:(mn,ae,P)=>{"use strict";P.d(ae,{h:()=>H});var C=P(4291);let H=(()=>{class g{constructor(){this.mxButtonIsLoading=!1}static#t=this.\u0275fac=function(it){return new(it||g)};static#e=this.\u0275dir=C.FsC({type:g,selectors:[["button","mxButtonIsLoading",""]],hostVars:2,hostBindings:function(it,jt){2&it&&C.AVh("mx-loading-button",jt.mxButtonIsLoading)},inputs:{mxButtonIsLoading:[2,"mxButtonIsLoading","mxButtonIsLoading",C.L39]},standalone:!0,features:[C.GFd]})}return g})()},1996:(mn,ae,P)=>{"use strict";P.d(ae,{u:()=>Pt});var C=P(9284),H=P(4291),g=P(5044),lt=P(1071);const ct={infoTipTitleLabel:"Info",errorTipTitleLabel:"Error",successTipTitleLabel:"Success",warningTipTitleLabel:"Warning"};let it=(()=>{class yt{constructor(){this.changes=new lt.B,this.infoTipTitleLabel=ct.infoTipTitleLabel,this.warningTipTitleLabel=ct.warningTipTitleLabel,this.errorTipTitleLabel=ct.errorTipTitleLabel,this.successTipTitleLabel=ct.successTipTitleLabel}updateTranslate(Ht){this.infoTipTitleLabel=Ht.infoTipTitleLabel||ct.infoTipTitleLabel,this.errorTipTitleLabel=Ht.errorTipTitleLabel||ct.errorTipTitleLabel,this.warningTipTitleLabel=Ht.warningTipTitleLabel||ct.warningTipTitleLabel,this.successTipTitleLabel=Ht.successTipTitleLabel||ct.successTipTitleLabel,this.changes.next()}get defaultLabes(){return ct}static#t=this.\u0275fac=function(ue){return new(ue||yt)};static#e=this.\u0275prov=H.jDH({token:yt,factory:yt.\u0275fac,providedIn:"root"})}return yt})();new H.Xx1,new H.kdw;const pt=["*"];function bt(yt,Ft){1&yt&&H.eu8(0)}const At=[{attribute:"mx-warning-tip",classes:["mx-infotip--warning"]},{attribute:"mx-info-tip",classes:["mx-infotip--info"]},{attribute:"mx-error-tip",classes:["mx-infotip--error"]},{attribute:"mx-success-tip",classes:["mx-infotip--success"]}];let Pt=(()=>{class yt{#t;#e;#n;get titleLabel(){return"mx-error-tip"===this.tipType?this.intl.errorTipTitleLabel:"mx-success-tip"===this.tipType?this.intl.successTipTitleLabel:"mx-warning-tip"===this.tipType?this.intl.warningTipTitleLabel:this.intl.infoTipTitleLabel}constructor(){this.#t=(0,H.WQX)(H.aKT),this.#e=this.#t.nativeElement,this.#n=this.#e.classList,this.cd=(0,H.WQX)(H.gRc),this.intl=(0,H.WQX)(it),this.intlChanges$=this.intl.changes.asObservable().pipe((0,g.M)(()=>this.cd.markForCheck())),this.tipType="mx-info-tip",this.infotipType="Info";for(const{attribute:Ht,classes:ue}of At)this.#e.hasAttribute(Ht)&&(this.#n.add(...ue),this.tipType=Ht)}ngOnInit(){let Ht=At.find(ue=>"mx-info-tip"===ue.attribute);"Error"===this.infotipType&&(this.tipType="mx-error-tip",Ht=At.find(ue=>"mx-error-tip"===ue.attribute)),"Success"===this.infotipType&&(this.tipType="mx-success-tip",Ht=At.find(ue=>"mx-success-tip"===ue.attribute)),"Warning"===this.infotipType&&(this.tipType="mx-warning-tip",Ht=At.find(ue=>"mx-warning-tip"===ue.attribute)),Ht&&this.#n.add(...Ht.classes)}static#i=this.\u0275fac=function(ue){return new(ue||yt)};static#r=this.\u0275cmp=H.VBU({type:yt,selectors:[["mx-infotip"],["div","mx-warning-tip",""],["div","mx-info-tip",""],["div","mx-error-tip",""],["div","mx-success-tip",""]],inputs:{infotipType:"infotipType"},standalone:!0,features:[H.aNF],ngContentSelectors:pt,decls:7,vars:4,consts:[[4,"ngIf"],[1,"mx-infotip_title"],[1,"mx-infotip_content"]],template:function(ue,ye){1&ue&&(H.NAR(),H.DNE(0,bt,1,0,"ng-container",0),H.nI1(1,"async"),H.j41(2,"div")(3,"div",1),H.EFF(4),H.k0s(),H.j41(5,"div",2),H.SdG(6),H.k0s()()),2&ue&&(H.Y8G("ngIf",H.bMT(1,2,ye.intlChanges$)),H.R7$(4),H.JRh(ye.titleLabel))},dependencies:[C.bT,C.Jj],styles:[".gl-display-lg[_ngcontent-%COMP%]{font-weight:400;font-size:56px;line-height:64px;letter-spacing:0}.gl-display-md[_ngcontent-%COMP%]{font-weight:400;font-size:44px;line-height:52px;letter-spacing:0}.gl-display-sm[_ngcontent-%COMP%]{font-weight:400;font-size:36px;line-height:44px;letter-spacing:0}.gl-headline-lg[_ngcontent-%COMP%]{font-weight:400;font-size:32px;line-height:40px;letter-spacing:0}.gl-headline-md[_ngcontent-%COMP%]{font-weight:400;font-size:28px;line-height:36px;letter-spacing:0}.gl-headline-sm[_ngcontent-%COMP%]{font-weight:400;font-size:24px;line-height:32px;letter-spacing:0}.gl-title-lg[_ngcontent-%COMP%]{font-weight:400;font-size:22px;line-height:28px;letter-spacing:0}.gl-title-md[_ngcontent-%COMP%]{font-weight:500;font-size:16px;line-height:24px;letter-spacing:.15px}.gl-title-sm[_ngcontent-%COMP%]{font-weight:500;font-size:14px;line-height:20px;letter-spacing:.1px}.gl-label-lg[_ngcontent-%COMP%]{font-weight:500;font-size:16px;line-height:24px;letter-spacing:.15px}.gl-label-md[_ngcontent-%COMP%]{font-weight:500;font-size:14px;line-height:20px;letter-spacing:.1px}.gl-label-sm[_ngcontent-%COMP%], .mx-infotip_title[_ngcontent-%COMP%]{font-weight:500;font-size:12px;line-height:16px;letter-spacing:.5px}.gl-body-lg[_ngcontent-%COMP%]{font-weight:400;font-size:16px;line-height:24px;letter-spacing:.5px}.gl-body-md[_ngcontent-%COMP%], .mx-infotip_content[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{font-weight:400;font-size:14px;line-height:20px;letter-spacing:.25px}.gl-body-sm[_ngcontent-%COMP%]{font-weight:400;font-size:12px;line-height:16px;letter-spacing:.4px}.rounded-x-sm[_ngcontent-%COMP%], [_nghost-%COMP%]{border-radius:4px}.rounded-sm[_ngcontent-%COMP%]{border-radius:8px}.rounded-md[_ngcontent-%COMP%]{border-radius:12px}.rounded-lg[_ngcontent-%COMP%]{border-radius:16px}.rounded-x-lg[_ngcontent-%COMP%]{border-radius:28px}.rounded-full[_ngcontent-%COMP%]{border-radius:50%}[_nghost-%COMP%]{display:block;display:grid;width:100%;max-width:680px;padding:8px 16px 8px 20px;gap:2px;box-sizing:border-box}"]})}return yt})()},633:(mn,ae,P)=>{"use strict";P.d(ae,{U:()=>At});var C=P(4291),H=P(3683),g=P(9284),lt=P(3999),ct=P(4288);let it=(()=>{class Pt{static#t=this.\u0275fac=function(Ht){return new(Ht||Pt)};static#e=this.\u0275dir=C.FsC({type:Pt,selectors:[["button","mxInvertButton",""]],hostAttrs:[1,"mx-invert-button"],standalone:!0})}return Pt})();var jt=P(3027),It=P(1071);function pt(Pt,yt){if(1&Pt){const Ft=C.RV6();C.j41(0,"button",7),C.bIt("click",function(){C.eBV(Ft);const ue=C.XpG();return C.Njj(ue.onAction.next())}),C.EFF(1),C.k0s()}if(2&Pt){const Ft=C.XpG();C.R7$(),C.SpI(" ",Ft.data.actionLabel||"Action"," ")}}let bt=(()=>{class Pt{constructor(){this.snackBarRef=(0,C.WQX)(H.TQ),this.data=(0,C.WQX)(H.ht),this.onAction=new It.B}ngAfterViewInit(){const Ft=document.querySelectorAll(".mx-snackbar-container");if(Ft.length&&this.data?.offsetBottom){const Ht=this.data.offsetBottom||16;Ft.forEach(ue=>{ue.style.marginBottom=`${Ht}px`})}}ngOnDestroy(){this.onAction?.complete()}static#t=this.\u0275fac=function(Ht){return new(Ht||Pt)};static#e=this.\u0275cmp=C.VBU({type:Pt,selectors:[["mx-snackbar"]],standalone:!0,features:[C.aNF],decls:8,vars:2,consts:[["role","snackbar",1,"mx-snackbar"],[1,"mx-snackbar__content"],[1,"mx-snackbar__message-wrapper"],[1,"mx-snackbar__message"],["mat-button","","mxInvertButton","","matSnackBarAction","","class","mx-snackbar__action-button",3,"click",4,"ngIf"],["mat-icon-button","","mxIconButton","","mxInvertButton","",1,"mx-snackbar__dismiss-button",3,"click"],["svgIcon","icon:clear"],["mat-button","","mxInvertButton","","matSnackBarAction","",1,"mx-snackbar__action-button",3,"click"]],template:function(Ht,ue){1&Ht&&(C.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),C.EFF(4),C.k0s()(),C.DNE(5,pt,2,1,"button",4),C.k0s(),C.j41(6,"button",5),C.bIt("click",function(){return ue.snackBarRef.dismiss()}),C.nrm(7,"mat-icon",6),C.k0s()()),2&Ht&&(C.R7$(4),C.JRh(ue.data.message),C.R7$(),C.Y8G("ngIf",ue.data.showAction))},dependencies:[g.bT,lt.Hl,lt.$z,lt.iY,ct.m_,ct.An,it,jt.C],styles:[".mx-snackbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.mx-snackbar__content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-grow:1;gap:8px}.mx-snackbar__message-wrapper[_ngcontent-%COMP%]{padding:14px 8px 14px 16px;flex-grow:1}.mx-snackbar__message[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical}.mx-snackbar__dismiss-button.mat-mdc-icon-button.mat-mdc-button-base.mx-icon-lg[_ngcontent-%COMP%]{padding:8px;height:40px;width:40px}"],changeDetection:0})}return Pt})(),At=(()=>{class Pt{constructor(){this.snackbar=(0,C.WQX)(H.UG),this.DURATION=6e3}open(Ft,Ht){const ue={horizontalPosition:"center",verticalPosition:"bottom",duration:this.DURATION,panelClass:"mx-snackbar-container",data:{message:Ft,...Ht}};return this.snackbar&&this.snackbar.dismiss(),this.snackbar.openFromComponent(bt,ue)}static#t=this.\u0275fac=function(Ht){return new(Ht||Pt)};static#e=this.\u0275prov=C.jDH({token:Pt,factory:Pt.\u0275fac,providedIn:"root"})}return Pt})()},8823:(mn,ae,P)=>{"use strict";P.d(ae,{Nj:()=>oe});var C=P(4291),H=P(7375),g=P(103),lt=P(3467),ct=P(3982),it=P(7650),jt=P(3754),It=P(3479),pt=P(7569),bt=P(5044),At=P(7071);let yt=(()=>{class Zt{static#t=this.\u0275fac=function(ge){return new(ge||Zt)};static#e=this.\u0275prov=C.jDH({token:Zt,factory:()=>function Pt(Zt){return Zt instanceof C.SKi}((0,C.WQX)(C.SKi))?new Ht:(0,C.WQX)(Ft),providedIn:"root"})}return Zt})(),Ft=(()=>{class Zt extends yt{constructor(De){super(),this.appRef=De,this.isScheduled=!1}schedule(){this.isScheduled||(this.isScheduled=!0,requestAnimationFrame(()=>{this.appRef.tick(),this.isScheduled=!1}))}static#t=this.\u0275fac=function(ge){return new(ge||Zt)(C.KVO(C.o8S))};static#e=this.\u0275prov=C.jDH({token:Zt,factory:Zt.\u0275fac,providedIn:"root"})}return Zt})();class Ht extends yt{schedule(){}}let ue=(()=>{class Zt{constructor(De,ge){this.cdRef=De,this.tickScheduler=ge}schedule(){this.cdRef.markForCheck(),this.tickScheduler.schedule()}static#t=this.\u0275fac=function(ge){return new(ge||Zt)(C.KVO(C.gRc),C.KVO(yt))};static#e=this.\u0275prov=C.jDH({token:Zt,factory:Zt.\u0275fac})}return Zt})();function kt(Zt){const ke=function Le(Zt){return ke=>Zt[ke.type]?.(ke)}(Zt),De=new it.m(1);return{nextPotentialObservable(ge){De.next(ge)},handlePotentialObservableChanges:()=>De.pipe((0,pt.F)(),function pe(){return(0,jt.F)((0,At.n)(Zt=>{const ke=function rn(Zt){return(0,H.A)(Zt)?Zt:function Ke(Zt){return function Qt(Zt){return!!Zt&&"object"==typeof Zt&&!Array.isArray(Zt)}(Zt)&&Object.keys(Zt).length>0&&Object.values(Zt).every(H.A)}(Zt)?(0,g.z)(function Ut(Zt){return Object.keys(Zt).reduce((ke,De)=>({...ke,[De]:Zt[De].pipe((0,pt.F)())}),{})}(Zt)):function _e(Zt){return"function"==typeof Zt?.then}(Zt)?(0,lt.H)(Zt):new ct.c(ke=>{ke.next(Zt)})}(Zt);let De=!0,ge=!0;return new ct.c(Oe=>{const ee=(0,C.O8t)(()=>ke.subscribe({next(Ot){Oe.next({type:"next",value:Ot,reset:De,synchronous:ge}),De=!1},error(Ot){Oe.next({type:"error",error:Ot,reset:De,synchronous:ge}),De=!1},complete(){Oe.next({type:"complete",reset:De,synchronous:ge}),De=!1}}));return De&&(Oe.next({type:"suspense",reset:De,synchronous:!0}),De=!1),ge=!1,ee})}))}(),(0,pt.F)(Te),(0,bt.M)(ke))}}function Te(Zt,ke){return Zt.type===ke.type&&Zt.reset===ke.reset&&("next"===ke.type?Zt.value===ke.value:"error"!==ke.type||Zt.error===ke.error)}let oe=(()=>{class Zt{set ngrxLet(De){this.renderEventManager.nextPotentialObservable(De)}constructor(De,ge,Oe,ee){this.mainTemplateRef=De,this.viewContainerRef=ge,this.errorHandler=Oe,this.renderScheduler=ee,this.isMainViewCreated=!1,this.isSuspenseViewCreated=!1,this.viewContext={$implicit:void 0,ngrxLet:void 0,error:void 0,complete:!1},this.renderEventManager=kt({suspense:()=>{this.viewContext.$implicit=void 0,this.viewContext.ngrxLet=void 0,this.viewContext.error=void 0,this.viewContext.complete=!1,this.renderSuspenseView()},next:Ot=>{this.viewContext.$implicit=Ot.value,this.viewContext.ngrxLet=Ot.value,Ot.reset&&(this.viewContext.error=void 0,this.viewContext.complete=!1),this.renderMainView(Ot.synchronous)},error:Ot=>{this.viewContext.error=Ot.error,Ot.reset&&(this.viewContext.$implicit=void 0,this.viewContext.ngrxLet=void 0,this.viewContext.complete=!1),this.renderMainView(Ot.synchronous),this.errorHandler.handleError(Ot.error)},complete:Ot=>{this.viewContext.complete=!0,Ot.reset&&(this.viewContext.$implicit=void 0,this.viewContext.ngrxLet=void 0,this.viewContext.error=void 0),this.renderMainView(Ot.synchronous)}}),this.subscription=new It.yU}static ngTemplateContextGuard(De,ge){return!0}ngOnInit(){this.subscription.add(this.renderEventManager.handlePotentialObservableChanges().subscribe())}ngOnDestroy(){this.subscription.unsubscribe()}renderMainView(De){this.isSuspenseViewCreated&&(this.isSuspenseViewCreated=!1,this.viewContainerRef.clear()),this.isMainViewCreated||(this.isMainViewCreated=!0,this.viewContainerRef.createEmbeddedView(this.mainTemplateRef,this.viewContext)),De||this.renderScheduler.schedule()}renderSuspenseView(){this.isMainViewCreated&&(this.isMainViewCreated=!1,this.viewContainerRef.clear()),this.suspenseTemplateRef&&!this.isSuspenseViewCreated&&(this.isSuspenseViewCreated=!0,this.viewContainerRef.createEmbeddedView(this.suspenseTemplateRef))}static#t=this.\u0275fac=function(ge){return new(ge||Zt)(C.rXU(C.C4Q),C.rXU(C.c1b),C.rXU(C.zcH),C.rXU(ue))};static#e=this.\u0275dir=C.FsC({type:Zt,selectors:[["","ngrxLet",""]],inputs:{ngrxLet:"ngrxLet",suspenseTemplateRef:[0,"ngrxLetSuspenseTpl","suspenseTemplateRef"]},standalone:!0,features:[C.Jv_([ue])]})}return Zt})()},1867:(mn,ae,P)=>{"use strict";P.d(ae,{En:()=>Dt,EH:()=>Kt,gp:()=>dt,SI:()=>si});var C=P(8169),H=P(3982),g=P(1071),lt=P(5266),ct=P(4080),it=P(3204),jt=P(535),It=P(4834);class bt{constructor(pn,en,yn){this.kind=pn,this.value=en,this.error=yn,this.hasValue="N"===pn}observe(pn){return At(this,pn)}do(pn,en,yn){const{kind:$e,value:Bn,error:Rt}=this;return"N"===$e?pn?.(Bn):"E"===$e?en?.(Rt):yn?.()}accept(pn,en,yn){var $e;return(0,It.T)(null===($e=pn)||void 0===$e?void 0:$e.next)?this.observe(pn):this.do(pn,en,yn)}toObservable(){const{kind:pn,value:en,error:yn}=this,$e="N"===pn?(0,it.of)(en):"E"===pn?(0,jt.$)(()=>yn):"C"===pn?ct.w:0;if(!$e)throw new TypeError(`Unexpected notification kind ${pn}`);return $e}static createNext(pn){return new bt("N",pn)}static createError(pn){return new bt("E",void 0,pn)}static createComplete(){return bt.completeNotification}}function At(xe,pn){var en,yn,$e;const{kind:Bn,value:Rt,error:Tt}=xe;if("string"!=typeof Bn)throw new TypeError('Invalid notification, missing "kind"');"N"===Bn?null===(en=pn.next)||void 0===en||en.call(pn,Rt):"E"===Bn?null===(yn=pn.error)||void 0===yn||yn.call(pn,Tt):null===($e=pn.complete)||void 0===$e||$e.call(pn)}bt.completeNotification=new bt("C");var Pt=P(1531),yt=P(1391),Ht=P(8199),ue=P(1534),ye=P(2647),Le=P(4637);function rn(xe,pn,en,yn){return(0,Pt.N)(($e,Bn)=>{let Rt;pn&&"function"!=typeof pn?({duration:en,element:Rt,connector:yn}=pn):Rt=pn;const Tt=new Map,vt=Fe=>{Tt.forEach(Fe),Fe(Bn)},Lt=Fe=>vt(Me=>Me.error(Fe));let Ze=0,An=!1;const ei=new yt.H(Bn,Fe=>{try{const Me=xe(Fe);let Gt=Tt.get(Me);if(!Gt){Tt.set(Me,Gt=yn?yn():new g.B);const Ce=function bi(Fe,Me){const Gt=new H.c(Ce=>{Ze++;const Jt=Me.subscribe(Ce);return()=>{Jt.unsubscribe(),0==--Ze&&An&&ei.unsubscribe()}});return Gt.key=Fe,Gt}(Me,Gt);if(Bn.next(Ce),en){const Jt=(0,yt._)(Gt,()=>{Gt.complete(),Jt?.unsubscribe()},void 0,void 0,()=>Tt.delete(Me));ei.add((0,Le.Tg)(en(Ce)).subscribe(Jt))}}Gt.next(Rt?Rt(Fe):Fe)}catch(Me){Lt(Me)}},()=>vt(Fe=>Fe.complete()),Lt,()=>Tt.clear(),()=>(An=!0,0===Ze));$e.subscribe(ei)})}var _e=P(7252),Ke=P(6345),Ut=P(5910),kt=P(4291),pe=P(5973);const Te={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},oe="__@ngrx/effects_create__";function Kt(xe,pn={}){const en=pn.functional?xe:xe(),yn={...Te,...pn};return Object.defineProperty(en,oe,{value:yn}),en}function ge(xe){return Object.getPrototypeOf(xe)}function ee(xe){return"function"==typeof xe}function ft(xe,pn,en){const yn=ge(xe),Bn=yn&&"Object"!==yn.constructor.name?yn.constructor.name:null,Rt=function De(xe){return function Zt(xe){return Object.getOwnPropertyNames(xe).filter(yn=>!(!xe[yn]||!xe[yn].hasOwnProperty(oe))&&xe[yn][oe].hasOwnProperty("dispatch")).map(yn=>({propertyName:yn,...xe[yn][oe]}))}(xe)}(xe).map(({propertyName:Tt,dispatch:vt,useEffectsErrorHandler:Lt})=>{const Ze="function"==typeof xe[Tt]?xe[Tt]():xe[Tt],An=Lt?en(Ze,pn):Ze;return!1===vt?An.pipe((0,lt.w)()):An.pipe(function Ft(){return(0,Pt.N)((xe,pn)=>{xe.subscribe((0,yt._)(pn,en=>{pn.next(bt.createNext(en))},()=>{pn.next(bt.createComplete()),pn.complete()},en=>{pn.next(bt.createError(en)),pn.complete()}))})}()).pipe((0,Ht.T)(bi=>({effect:xe[Tt],notification:bi,propertyName:Tt,sourceName:Bn,sourceInstance:xe})))});return(0,C.h)(...Rt)}function ot(xe,pn,en=10){return xe.pipe((0,ue.W)(yn=>(pn&&pn.handleError(yn),en<=1?xe:ot(xe,pn,en-1))))}let Dt=(()=>{class xe extends H.c{constructor(en){super(),en&&(this.source=en)}lift(en){const yn=new xe;return yn.source=this,yn.operator=en,yn}static#t=this.\u0275fac=function(yn){return new(yn||xe)(kt.KVO(pe.sA))};static#e=this.\u0275prov=kt.jDH({token:xe,factory:xe.\u0275fac,providedIn:"root"})}return xe})();function dt(...xe){return(0,ye.p)(pn=>xe.some(en=>"string"==typeof en?en===pn.type:en.type===pn.type))}new kt.nKC("@ngrx/effects Internal Root Guard"),new kt.nKC("@ngrx/effects User Provided Effects"),new kt.nKC("@ngrx/effects Internal Root Effects"),new kt.nKC("@ngrx/effects Internal Root Effects Instances"),new kt.nKC("@ngrx/effects Internal Feature Effects"),new kt.nKC("@ngrx/effects Internal Feature Effects Instance Groups");const Ri=new kt.nKC("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>ot}),ci=(0,pe.VP)("@ngrx/effects/init");function tn(xe){return mt(xe,"ngrxOnInitEffects")}function mt(xe,pn){return xe&&pn in xe&&"function"==typeof xe[pn]}let Nt=(()=>{class xe extends g.B{constructor(en,yn){super(),this.errorHandler=en,this.effectsErrorHandler=yn}addEffects(en){this.next(en)}toActions(){return this.pipe(rn(en=>function Oe(xe){return!!xe.constructor&&"Object"!==xe.constructor.name&&"Function"!==xe.constructor.name}(en)?ge(en):en),(0,_e.Z)(en=>en.pipe(rn(fe))),(0,_e.Z)(en=>{const yn=en.pipe((0,Ke.p)(Bn=>function Ge(xe,pn){return en=>{const yn=ft(en,xe,pn);return function kr(xe){return mt(xe,"ngrxOnRunEffects")}(en)?en.ngrxOnRunEffects(yn):yn}}(this.errorHandler,this.effectsErrorHandler)(Bn)),(0,Ht.T)(Bn=>(function Di(xe,pn){if("N"===xe.notification.kind){const en=xe.notification.value;!function Li(xe){return"function"!=typeof xe&&xe&&xe.type&&"string"==typeof xe.type}(en)&&pn.handleError(new Error(`Effect ${function Ni({propertyName:xe,sourceInstance:pn,sourceName:en}){const yn="function"==typeof pn[xe];return en?`"${en}.${String(xe)}${yn?"()":""}"`:`"${String(xe)}()"`}(xe)} dispatched an invalid action: ${function Vi(xe){try{return JSON.stringify(xe)}catch{return xe}}(en)}`))}}(Bn,this.errorHandler),Bn.notification)),(0,ye.p)(Bn=>"N"===Bn.kind&&null!=Bn.value),function Qt(){return(0,Pt.N)((xe,pn)=>{xe.subscribe((0,yt._)(pn,en=>At(en,pn)))})}()),$e=en.pipe((0,Ut.s)(1),(0,ye.p)(tn),(0,Ht.T)(Bn=>Bn.ngrxOnInitEffects()));return(0,C.h)(yn,$e)}))}static#t=this.\u0275fac=function(yn){return new(yn||xe)(kt.KVO(kt.zcH),kt.KVO(Ri))};static#e=this.\u0275prov=kt.jDH({token:xe,factory:xe.\u0275fac,providedIn:"root"})}return xe})();function fe(xe){return function er(xe){return mt(xe,"ngrxOnIdentifyEffects")}(xe)?xe.ngrxOnIdentifyEffects():""}let Wt=(()=>{class xe{get isStarted(){return!!this.effectsSubscription}constructor(en,yn){this.effectSources=en,this.store=yn,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}static#t=this.\u0275fac=function(yn){return new(yn||xe)(kt.KVO(Nt),kt.KVO(pe.il))};static#e=this.\u0275prov=kt.jDH({token:xe,factory:xe.\u0275fac,providedIn:"root"})}return xe})();function si(...xe){const pn=xe.flat(),en=function Ot(xe){return xe.filter(ee)}(pn);return(0,kt.EmA)([en,{provide:kt.Z63,multi:!0,useValue:()=>{(0,kt.WQX)(pe.$J),(0,kt.WQX)(pe.JS,{optional:!0});const yn=(0,kt.WQX)(Wt),$e=(0,kt.WQX)(Nt),Bn=!yn.isStarted;Bn&&yn.start();for(const Rt of pn){const Tt=ee(Rt)?(0,kt.WQX)(Rt):Rt;$e.addEffects(Tt)}Bn&&(0,kt.WQX)(pe.il).dispatch(ci())}}])}},5561:(mn,ae,P)=>{"use strict";P.d(ae,{C_:()=>Ht,ME:()=>Qt,jr:()=>Ut,y8:()=>Kt});var C=P(5973),H=P(4291),g=P(5263),lt=P(6058);const ct="@ngrx/router-store/request",jt=((0,C.VP)(ct,(0,C.xk)()),"@ngrx/router-store/navigation"),pt=((0,C.VP)(jt,(0,C.xk)()),"@ngrx/router-store/cancel"),At=((0,C.VP)(pt,(0,C.xk)()),"@ngrx/router-store/error"),yt=((0,C.VP)(At,(0,C.xk)()),"@ngrx/router-store/navigated");function Ht(ge,Oe){const ee=Oe;switch(ee.type){case jt:case At:case pt:return{state:ee.payload.routerState,navigationId:ee.payload.event.id};default:return ge}}(0,C.VP)(yt,(0,C.xk)());class ue{serialize(Oe){return{root:this.serializeRoute(Oe.root),url:Oe.url}}serializeRoute(Oe){const ee=Oe.children.map(Ot=>this.serializeRoute(Ot));return{params:Oe.params,data:Oe.data,url:Oe.url,outlet:Oe.outlet,title:Oe.title,routeConfig:Oe.routeConfig?{path:Oe.routeConfig.path,pathMatch:Oe.routeConfig.pathMatch,redirectTo:Oe.routeConfig.redirectTo,outlet:Oe.routeConfig.outlet,title:"string"==typeof Oe.routeConfig.title?Oe.routeConfig.title:void 0}:null,queryParams:Oe.queryParams,fragment:Oe.fragment,firstChild:ee[0],children:ee}}}var ye=function(ge){return ge[ge.PreActivation=1]="PreActivation",ge[ge.PostActivation=2]="PostActivation",ge}(ye||{});const Le="router",rn=new H.nKC("@ngrx/router-store Internal Configuration"),_e=new H.nKC("@ngrx/router-store Configuration");function Ke(ge){return{stateKey:Le,serializer:ue,navigationActionTiming:ye.PreActivation,...ge}}class Qt{serialize(Oe){return{root:this.serializeRoute(Oe.root),url:Oe.url}}serializeRoute(Oe){const ee=Oe.children.map(Ot=>this.serializeRoute(Ot));return{params:Oe.params,paramMap:Oe.paramMap,data:Oe.data,url:Oe.url,outlet:Oe.outlet,title:Oe.title,routeConfig:Oe.routeConfig?{component:Oe.routeConfig.component,path:Oe.routeConfig.path,pathMatch:Oe.routeConfig.pathMatch,redirectTo:Oe.routeConfig.redirectTo,outlet:Oe.routeConfig.outlet,title:Oe.routeConfig.title}:null,queryParams:Oe.queryParams,queryParamMap:Oe.queryParamMap,fragment:Oe.fragment,component:Oe.routeConfig?Oe.routeConfig.component:void 0,root:void 0,parent:void 0,firstChild:ee[0],pathFromRoot:void 0,children:ee}}}class Ut{}var kt=function(ge){return ge[ge.NONE=1]="NONE",ge[ge.ROUTER=2]="ROUTER",ge[ge.STORE=3]="STORE",ge}(kt||{});let pe=(()=>{class ge{constructor(ee,Ot,ut,ft,Mt,ot){this.store=ee,this.router=Ot,this.serializer=ut,this.errorHandler=ft,this.config=Mt,this.activeRuntimeChecks=ot,this.lastEvent=null,this.routerState=null,this.trigger=kt.NONE,this.stateKey=this.config.stateKey,!(0,C.Lg)()&&(0,H.naY)()&&(ot?.strictActionSerializability||ot?.strictStateSerializability)&&this.serializer instanceof Qt&&console.warn("@ngrx/router-store: The serializability runtime checks cannot be enabled with the FullRouterStateSerializer. The FullRouterStateSerializer has an unserializable router state and actions that are not serializable. To use the serializability runtime checks either use the MinimalRouterStateSerializer or implement a custom router state serializer."),this.setUpStoreStateListener(),this.setUpRouterEventsListener()}setUpStoreStateListener(){this.store.pipe((0,C.Lt)(this.stateKey),(0,lt.E)(this.store)).subscribe(([ee,Ot])=>{this.navigateIfNeeded(ee,Ot)})}navigateIfNeeded(ee,Ot){if(!ee||!ee.state||this.trigger===kt.ROUTER||this.lastEvent instanceof g.Z)return;const ut=ee.state.url;(function Te(ge,Oe){return oe(ge)===oe(Oe)})(this.router.url,ut)||(this.storeState=Ot,this.trigger=kt.STORE,this.router.navigateByUrl(ut).catch(ft=>{this.errorHandler.handleError(ft)}))}setUpRouterEventsListener(){const ee=this.config.navigationActionTiming===ye.PostActivation;let Ot;this.router.events.pipe((0,lt.E)(this.store)).subscribe(([ut,ft])=>{this.lastEvent=ut,ut instanceof g.Z?(this.routerState=this.serializer.serialize(this.router.routerState.snapshot),this.trigger!==kt.STORE&&(this.storeState=ft,this.dispatchRouterRequest(ut))):ut instanceof g.ld?(Ot=ut,!ee&&this.trigger!==kt.STORE&&this.dispatchRouterNavigation(ut)):ut instanceof g.j5?(this.dispatchRouterCancel(ut),this.reset()):ut instanceof g.L6?(this.dispatchRouterError(ut),this.reset()):ut instanceof g.wF&&(this.trigger!==kt.STORE&&(ee&&this.dispatchRouterNavigation(Ot),this.dispatchRouterNavigated(ut)),this.reset())})}dispatchRouterRequest(ee){this.dispatchRouterAction(ct,{event:ee})}dispatchRouterNavigation(ee){const Ot=this.serializer.serialize(ee.state);this.dispatchRouterAction(jt,{routerState:Ot,event:new g.ld(ee.id,ee.url,ee.urlAfterRedirects,Ot)})}dispatchRouterCancel(ee){this.dispatchRouterAction(pt,{storeState:this.storeState,event:ee})}dispatchRouterError(ee){this.dispatchRouterAction(At,{storeState:this.storeState,event:new g.L6(ee.id,ee.url,`${ee}`)})}dispatchRouterNavigated(ee){const Ot=this.serializer.serialize(this.router.routerState.snapshot);this.dispatchRouterAction(yt,{event:ee,routerState:Ot})}dispatchRouterAction(ee,Ot){this.trigger=kt.ROUTER;try{this.store.dispatch({type:ee,payload:{routerState:this.routerState,...Ot,event:0===this.config.routerState?Ot.event:{id:Ot.event.id,url:Ot.event.url,urlAfterRedirects:Ot.event.urlAfterRedirects}}})}finally{this.trigger=kt.NONE}}reset(){this.trigger=kt.NONE,this.storeState=null,this.routerState=null}static#t=this.\u0275fac=function(Ot){return new(Ot||ge)(H.KVO(C.il),H.KVO(g.Ix),H.KVO(Ut),H.KVO(H.zcH),H.KVO(_e),H.KVO(C.A5))};static#e=this.\u0275prov=H.jDH({token:ge,factory:ge.\u0275fac})}return ge})();function oe(ge){return ge?.length>0&&"/"===ge[ge.length-1]?ge.substring(0,ge.length-1):ge}function Kt(ge={}){return(0,H.EmA)([{provide:rn,useValue:ge},{provide:_e,useFactory:Ke,deps:[rn]},{provide:Ut,useClass:ge.serializer?ge.serializer:0===ge.routerState?Qt:ue},{provide:H.Z63,multi:!0,useFactory:()=>()=>(0,H.WQX)(pe)},pe])}},5973:(mn,ae,P)=>{"use strict";P.d(ae,{A5:()=>Un,SS:()=>Te,JS:()=>ci,Zz:()=>pe,N_:()=>ke,$J:()=>Fn,Bh:()=>ur,QU:()=>er,sA:()=>mt,h1:()=>fe,il:()=>ie,q6:()=>kr,VP:()=>Ht,UX:()=>wt,vy:()=>ko,Mz:()=>Ce,Lg:()=>ei,on:()=>Mr,xk:()=>ue,vQ:()=>Pn,NT:()=>dr,Lt:()=>je,KC:()=>ye});var C=P(4291),H=P(8093),g=P(3982),lt=P(1071),ct=P(391),it=P(1240),jt=P(6058),It=P(1546),pt=P(8199),At=P(7569),Pt=P(7083);const yt={};function Ht(Bt,Ae){if(yt[Bt]=(yt[Bt]||0)+1,"function"==typeof Ae)return Le(Bt,(...nn)=>({...Ae(...nn),type:Bt}));switch(Ae?Ae._as:"empty"){case"empty":return Le(Bt,()=>({type:Bt}));case"props":return Le(Bt,nn=>({...nn,type:Bt}));default:throw new Error("Unexpected config.")}}function ue(){return{_as:"props",_p:void 0}}function ye(Bt){}function Le(Bt,Ae){return Object.defineProperty(Ae,"type",{value:Bt,writable:!1})}const pe="@ngrx/store/init";let Te=(()=>{class Bt extends H.t{constructor(){super({type:pe})}next(ze){if("function"==typeof ze)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof ze>"u")throw new TypeError("Actions must be objects");if(typeof ze.type>"u")throw new TypeError("Actions must have a type property");super.next(ze)}complete(){}ngOnDestroy(){super.complete()}static#t=this.\u0275fac=function(nn){return new(nn||Bt)};static#e=this.\u0275prov=C.jDH({token:Bt,factory:Bt.\u0275fac})}return Bt})();const oe=[Te],Kt=new C.nKC("@ngrx/store Internal Root Guard"),Zt=new C.nKC("@ngrx/store Internal Initial State"),ke=new C.nKC("@ngrx/store Initial State"),De=new C.nKC("@ngrx/store Reducer Factory"),ge=new C.nKC("@ngrx/store Internal Reducer Factory Provider"),Oe=new C.nKC("@ngrx/store Initial Reducers"),ee=new C.nKC("@ngrx/store Internal Initial Reducers"),Ot=new C.nKC("@ngrx/store Store Features"),ut=new C.nKC("@ngrx/store Internal Store Reducers"),ft=new C.nKC("@ngrx/store Internal Feature Reducers"),Mt=new C.nKC("@ngrx/store Internal Feature Configs"),ot=new C.nKC("@ngrx/store Internal Store Features"),Dt=new C.nKC("@ngrx/store Internal Feature Reducers Token"),dt=new C.nKC("@ngrx/store Feature Reducers"),Vt=new C.nKC("@ngrx/store User Provided Meta Reducers"),Ee=new C.nKC("@ngrx/store Meta Reducers"),we=new C.nKC("@ngrx/store Internal Resolved Meta Reducers"),Ie=new C.nKC("@ngrx/store User Runtime Checks Config"),fn=new C.nKC("@ngrx/store Internal User Runtime Checks Config"),Un=new C.nKC("@ngrx/store Internal Runtime Checks"),Ri=new C.nKC("@ngrx/store Check if Action types are unique"),Fn=new C.nKC("@ngrx/store Root Store Provider"),ci=new C.nKC("@ngrx/store Feature State Provider");function Di(Bt,Ae={}){const ze=Object.keys(Bt),nn={};for(let Zn=0;Zn<ze.length;Zn++){const Ui=ze[Zn];"function"==typeof Bt[Ui]&&(nn[Ui]=Bt[Ui])}const jn=Object.keys(nn);return function(Ui,Rr){Ui=void 0===Ui?Ae:Ui;let Ii=!1;const ls={};for(let Fr=0;Fr<jn.length;Fr++){const ro=jn[Fr],kh=Ui[ro],Ih=(0,nn[ro])(kh,Rr);ls[ro]=Ih,Ii=Ii||Ih!==kh}return Ii?ls:Ui}}function Ni(...Bt){return function(Ae){if(0===Bt.length)return Ae;const ze=Bt[Bt.length-1];return Bt.slice(0,-1).reduceRight((jn,Zn)=>Zn(jn),ze(Ae))}}function Vi(Bt,Ae){return Array.isArray(Ae)&&Ae.length>0&&(Bt=Ni.apply(null,[...Ae,Bt])),(ze,nn)=>{const jn=Bt(ze);return(Zn,Ui)=>jn(Zn=void 0===Zn?nn:Zn,Ui)}}class er extends g.c{}class ur extends Te{}const kr="@ngrx/store/update-reducers";let Ir=(()=>{class Bt extends H.t{get currentReducers(){return this.reducers}constructor(ze,nn,jn,Zn){super(Zn(jn,nn)),this.dispatcher=ze,this.initialState=nn,this.reducers=jn,this.reducerFactory=Zn}addFeature(ze){this.addFeatures([ze])}addFeatures(ze){const nn=ze.reduce((jn,{reducers:Zn,reducerFactory:Ui,metaReducers:Rr,initialState:Ii,key:ls})=>{const Fr="function"==typeof Zn?function Tn(Bt){const Ae=Array.isArray(Bt)&&Bt.length>0?Ni(...Bt):ze=>ze;return(ze,nn)=>(ze=Ae(ze),(jn,Zn)=>ze(jn=void 0===jn?nn:jn,Zn))}(Rr)(Zn,Ii):Vi(Ui,Rr)(Zn,Ii);return jn[ls]=Fr,jn},{});this.addReducers(nn)}removeFeature(ze){this.removeFeatures([ze])}removeFeatures(ze){this.removeReducers(ze.map(nn=>nn.key))}addReducer(ze,nn){this.addReducers({[ze]:nn})}addReducers(ze){this.reducers={...this.reducers,...ze},this.updateReducers(Object.keys(ze))}removeReducer(ze){this.removeReducers([ze])}removeReducers(ze){ze.forEach(nn=>{this.reducers=function Li(Bt,Ae){return Object.keys(Bt).filter(ze=>ze!==Ae).reduce((ze,nn)=>Object.assign(ze,{[nn]:Bt[nn]}),{})}(this.reducers,nn)}),this.updateReducers(ze)}updateReducers(ze){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:kr,features:ze})}ngOnDestroy(){this.complete()}static#t=this.\u0275fac=function(nn){return new(nn||Bt)(C.KVO(ur),C.KVO(ke),C.KVO(Oe),C.KVO(De))};static#e=this.\u0275prov=C.jDH({token:Bt,factory:Bt.\u0275fac})}return Bt})();const tn=[Ir,{provide:er,useExisting:Ir},{provide:ur,useExisting:Te}];let mt=(()=>{class Bt extends lt.B{ngOnDestroy(){this.complete()}static#t=this.\u0275fac=(()=>{let ze;return function(jn){return(ze||(ze=C.xGo(Bt)))(jn||Bt)}})();static#e=this.\u0275prov=C.jDH({token:Bt,factory:Bt.\u0275fac})}return Bt})();const Nt=[mt];class fe extends g.c{}let Ge=(()=>{class Bt extends H.t{static#t=this.INIT=pe;constructor(ze,nn,jn,Zn){super(Zn);const ls=ze.pipe((0,it.Q)(ct.T)).pipe((0,jt.E)(nn)).pipe((0,It.S)(Wt,{state:Zn}));this.stateSubscription=ls.subscribe(({state:Fr,action:ro})=>{this.next(Fr),jn.next(ro)}),this.state=(0,Pt.ot)(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}static#e=this.\u0275fac=function(nn){return new(nn||Bt)(C.KVO(Te),C.KVO(er),C.KVO(mt),C.KVO(ke))};static#n=this.\u0275prov=C.jDH({token:Bt,factory:Bt.\u0275fac})}return Bt})();function Wt(Bt={state:void 0},[Ae,ze]){const{state:nn}=Bt;return{state:ze(nn,Ae),action:Ae}}const qe=[Ge,{provide:fe,useExisting:Ge}];let ie=(()=>{class Bt extends g.c{constructor(ze,nn,jn){super(),this.actionsObserver=nn,this.reducerManager=jn,this.source=ze,this.state=ze.state}select(ze,...nn){return je.call(null,ze,...nn)(this)}selectSignal(ze,nn){return(0,C.EWP)(()=>ze(this.state()),nn)}lift(ze){const nn=new Bt(this,this.actionsObserver,this.reducerManager);return nn.operator=ze,nn}dispatch(ze){this.actionsObserver.next(ze)}next(ze){this.actionsObserver.next(ze)}error(ze){this.actionsObserver.error(ze)}complete(){this.actionsObserver.complete()}addReducer(ze,nn){this.reducerManager.addReducer(ze,nn)}removeReducer(ze){this.reducerManager.removeReducer(ze)}static#t=this.\u0275fac=function(nn){return new(nn||Bt)(C.KVO(fe),C.KVO(Te),C.KVO(Ir))};static#e=this.\u0275prov=C.jDH({token:Bt,factory:Bt.\u0275fac})}return Bt})();const be=[ie];function je(Bt,Ae,...ze){return function(jn){let Zn;if("string"==typeof Bt){const Ui=[Ae,...ze].filter(Boolean);Zn=jn.pipe(function bt(...Bt){const Ae=Bt.length;if(0===Ae)throw new Error("list of properties cannot be empty.");return(0,pt.T)(ze=>{let nn=ze;for(let jn=0;jn<Ae;jn++){const Zn=nn?.[Bt[jn]];if(!(typeof Zn<"u"))return;nn=Zn}return nn})}(Bt,...Ui))}else{if("function"!=typeof Bt)throw new TypeError(`Unexpected type '${typeof Bt}' in select operator, expected 'string' or 'function'`);Zn=jn.pipe((0,pt.T)(Ui=>Bt(Ui,Ae)))}return Zn.pipe((0,At.F)())}}const on="https://ngrx.io/guide/store/configuration/runtime-checks";function Sn(Bt){return void 0===Bt}function si(Bt){return null===Bt}function xe(Bt){return Array.isArray(Bt)}function $e(Bt){return"object"==typeof Bt&&null!==Bt}function Tt(Bt){return"function"==typeof Bt}let Ze=!1;function ei(){return Ze}function bi(Bt,Ae){return Bt===Ae}function Gt(Bt,Ae=bi,ze=bi){let Zn,nn=null,jn=null;return{memoized:function ls(){if(void 0!==Zn)return Zn.result;if(!nn)return jn=Bt.apply(null,arguments),nn=arguments,jn;if(!function Fe(Bt,Ae,ze){for(let nn=0;nn<Bt.length;nn++)if(!ze(Bt[nn],Ae[nn]))return!0;return!1}(arguments,nn,Ae))return jn;const Fr=Bt.apply(null,arguments);return nn=arguments,ze(jn,Fr)?jn:(jn=Fr,Fr)},reset:function Ui(){nn=null,jn=null},setResult:function Rr(Fr=void 0){Zn={result:Fr}},clearResult:function Ii(){Zn=void 0}}}function Ce(...Bt){return function $t(Bt,Ae={stateFn:Jt}){return function(...ze){let nn=ze;if(Array.isArray(nn[0])){const[Fr,...ro]=nn;nn=[...Fr,...ro]}else 1===nn.length&&function qt(Bt){return!!Bt&&"object"==typeof Bt&&Object.values(Bt).every(Ae=>"function"==typeof Ae)}(nn[0])&&(nn=function Ve(Bt){const Ae=Object.values(Bt),ze=Object.keys(Bt);return[...Ae,(...jn)=>ze.reduce((Zn,Ui,Rr)=>({...Zn,[Ui]:jn[Rr]}),{})]}(nn[0]));const jn=nn.slice(0,nn.length-1),Zn=nn[nn.length-1],Ui=jn.filter(Fr=>Fr.release&&"function"==typeof Fr.release),Rr=Bt(function(...Fr){return Zn.apply(null,Fr)}),Ii=Gt(function(Fr,ro){return Ae.stateFn.apply(null,[Fr,jn,ro,Rr])});return Object.assign(Ii.memoized,{release:function ls(){Ii.reset(),Rr.reset(),Ui.forEach(Fr=>Fr.release())},projector:Rr.memoized,setResult:Ii.setResult,clearResult:Ii.clearResult})}}(Gt)(...Bt)}function Jt(Bt,Ae,ze,nn){if(void 0===ze){const Zn=Ae.map(Ui=>Ui(Bt));return nn.memoized.apply(null,Zn)}const jn=Ae.map(Zn=>Zn(Bt,ze));return nn.memoized.apply(null,[...jn,ze])}function wt(Bt){return Ce(Ae=>{const ze=Ae[Bt];return!ei()&&(0,C.naY)()&&!(Bt in Ae)&&console.warn(`@ngrx/store: The feature name "${Bt}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${Bt}', ...) or StoreModule.forFeature('${Bt}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),ze},Ae=>Ae)}function uo(Bt){return Bt instanceof C.nKC?(0,C.WQX)(Bt):Bt}function no(Bt,Ae){return Ae.map((ze,nn)=>{if(Bt[nn]instanceof C.nKC){const jn=(0,C.WQX)(Bt[nn]);return{key:ze.key,reducerFactory:jn.reducerFactory?jn.reducerFactory:Di,metaReducers:jn.metaReducers?jn.metaReducers:[],initialState:jn.initialState}}return ze})}function ho(Bt){return Bt.map(Ae=>Ae instanceof C.nKC?(0,C.WQX)(Ae):Ae)}function te(Bt){return"function"==typeof Bt?Bt():Bt}function Mn(Bt,Ae){return Bt.concat(Ae)}function ne(){if((0,C.WQX)(ie,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function Ye(Bt){Object.freeze(Bt);const Ae=Tt(Bt);return Object.getOwnPropertyNames(Bt).forEach(ze=>{if(!ze.startsWith("\u0275")&&function Lt(Bt,Ae){return Object.prototype.hasOwnProperty.call(Bt,Ae)}(Bt,ze)&&(!Ae||"caller"!==ze&&"callee"!==ze&&"arguments"!==ze)){const nn=Bt[ze];($e(nn)||Tt(nn))&&!Object.isFrozen(nn)&&Ye(nn)}}),Bt}function Cn(Bt,Ae=[]){return(Sn(Bt)||si(Bt))&&0===Ae.length?{path:["root"],value:Bt}:Object.keys(Bt).reduce((nn,jn)=>{if(nn)return nn;const Zn=Bt[jn];return function vt(Bt){return Tt(Bt)&&Bt.hasOwnProperty("\u0275cmp")}(Zn)?nn:!(Sn(Zn)||si(Zn)||function yn(Bt){return"number"==typeof Bt}(Zn)||function en(Bt){return"boolean"==typeof Bt}(Zn)||function pn(Bt){return"string"==typeof Bt}(Zn)||xe(Zn))&&(function Rt(Bt){if(!function Bn(Bt){return $e(Bt)&&!xe(Bt)}(Bt))return!1;const Ae=Object.getPrototypeOf(Bt);return Ae===Object.prototype||null===Ae}(Zn)?Cn(Zn,[...Ae,jn]):{path:[...Ae,jn],value:Zn})},!1)}function Re(Bt,Ae){if(!1===Bt)return;const ze=Bt.path.join("."),nn=new Error(`Detected unserializable ${Ae} at "${ze}". ${on}#strict${Ae}serializability`);throw nn.value=Bt.value,nn.unserializablePath=ze,nn}function Hn(Bt){return(0,C.naY)()?{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1,...Bt}:{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function fi({strictActionSerializability:Bt,strictStateSerializability:Ae}){return ze=>Bt||Ae?function ve(Bt,Ae){return function(ze,nn){Ae.action(nn)&&Re(Cn(nn),"action");const jn=Bt(ze,nn);return Ae.state()&&Re(Cn(jn),"state"),jn}}(ze,{action:nn=>Bt&&!li(nn),state:()=>Ae}):ze}function gi({strictActionImmutability:Bt,strictStateImmutability:Ae}){return ze=>Bt||Ae?function Pe(Bt,Ae){return function(ze,nn){const jn=Ae.action(nn)?Ye(nn):nn,Zn=Bt(ze,jn);return Ae.state()?Ye(Zn):Zn}}(ze,{action:nn=>Bt&&!li(nn),state:()=>Ae}):ze}function li(Bt){return Bt.type.startsWith("@ngrx")}function Ct({strictActionWithinNgZone:Bt}){return Ae=>Bt?function Qe(Bt,Ae){return function(ze,nn){if(Ae.action(nn)&&!C.SKi.isInAngularZone())throw new Error(`Action '${nn.type}' running outside NgZone. ${on}#strictactionwithinngzone`);return Bt(ze,nn)}}(Ae,{action:ze=>Bt&&!li(ze)}):Ae}function le(Bt){return[{provide:fn,useValue:Bt},{provide:Ie,useFactory:Ne,deps:[fn]},{provide:Un,deps:[Ie],useFactory:Hn},{provide:Ee,multi:!0,deps:[Un],useFactory:gi},{provide:Ee,multi:!0,deps:[Un],useFactory:fi},{provide:Ee,multi:!0,deps:[Un],useFactory:Ct}]}function he(){return[{provide:Ri,multi:!0,deps:[Un],useFactory:bn}]}function Ne(Bt){return Bt}function bn(Bt){if(!Bt.strictActionTypeUniqueness)return;const Ae=Object.entries(yt).filter(([,ze])=>ze>1).map(([ze])=>ze);if(Ae.length)throw new Error(`Action types are registered more than once, ${Ae.map(ze=>`"${ze}"`).join(", ")}. ${on}#strictactiontypeuniqueness`)}function Pn(Bt,Ae,ze={}){return(0,C.EmA)([...Wr(Bt,Ae,ze),vr])}function Rn(Bt={},Ae={}){return[{provide:Kt,useFactory:ne},{provide:Zt,useValue:Ae.initialState},{provide:ke,useFactory:te,deps:[Zt]},{provide:ee,useValue:Bt},{provide:ut,useExisting:Bt instanceof C.nKC?Bt:ee},{provide:Oe,deps:[ee,[new C.y_5(ut)]],useFactory:uo},{provide:Vt,useValue:Ae.metaReducers?Ae.metaReducers:[]},{provide:we,deps:[Ee,Vt],useFactory:Mn},{provide:ge,useValue:Ae.reducerFactory?Ae.reducerFactory:Di},{provide:De,deps:[ge,we],useFactory:Vi},oe,tn,Nt,qe,be,le(Ae.runtimeChecks),he()]}const Ci=[{provide:Fn,useFactory:function Ei(){(0,C.WQX)(Te),(0,C.WQX)(er),(0,C.WQX)(mt),(0,C.WQX)(ie),(0,C.WQX)(Kt,{optional:!0}),(0,C.WQX)(Ri,{optional:!0})}},{provide:C.Z63,multi:!0,useFactory:()=>()=>(0,C.WQX)(Fn)}];function dr(Bt,Ae){return(0,C.EmA)([...Rn(Bt,Ae),Ci])}const vr=[{provide:ci,useFactory:function Zr(){(0,C.WQX)(Fn);const Bt=(0,C.WQX)(ot),Ae=(0,C.WQX)(dt),ze=(0,C.WQX)(Ir);(0,C.WQX)(Ri,{optional:!0});const nn=Bt.map((jn,Zn)=>{const Rr=Ae.shift()[Zn];return{...jn,reducers:Rr,initialState:te(jn.initialState)}});ze.addFeatures(nn)}},{provide:C.Z63,multi:!0,useFactory:()=>()=>(0,C.WQX)(ci)}];function Wr(Bt,Ae,ze={}){return[{provide:Mt,multi:!0,useValue:Bt instanceof Object?{}:ze},{provide:Ot,multi:!0,useValue:{key:Bt instanceof Object?Bt.name:Bt,reducerFactory:ze instanceof C.nKC||!ze.reducerFactory?Di:ze.reducerFactory,metaReducers:ze instanceof C.nKC||!ze.metaReducers?[]:ze.metaReducers,initialState:ze instanceof C.nKC||!ze.initialState?void 0:ze.initialState}},{provide:ot,deps:[Mt,Ot],useFactory:no},{provide:ft,multi:!0,useValue:Bt instanceof Object?Bt.reducer:Ae},{provide:Dt,multi:!0,useExisting:Ae instanceof C.nKC?Ae:ft},{provide:dt,multi:!0,deps:[ft,[new C.y_5(Dt)]],useFactory:ho},he()]}function Mr(...Bt){return{reducer:Bt.pop(),types:Bt.map(nn=>nn.type)}}function ko(Bt,...Ae){const ze=new Map;for(const nn of Ae)for(const jn of nn.types){const Zn=ze.get(jn);ze.set(jn,Zn?(Rr,Ii)=>nn.reducer(Zn(Rr,Ii),Ii):nn.reducer)}return function(nn=Bt,jn){const Zn=ze.get(jn.type);return Zn?Zn(nn,jn):nn}}},6994:(mn,ae,P)=>{"use strict";function C(g,lt,ct,it,jt,It,pt){try{var bt=g[It](pt),At=bt.value}catch(Pt){return void ct(Pt)}bt.done?lt(At):Promise.resolve(At).then(it,jt)}function H(g){return function(){var lt=this,ct=arguments;return new Promise(function(it,jt){var It=g.apply(lt,ct);function pt(At){C(It,it,jt,pt,bt,"next",At)}function bt(At){C(It,it,jt,pt,bt,"throw",At)}pt(void 0)})}}P.d(ae,{A:()=>H})},3460:(mn,ae,P)=>{"use strict";function Pt(ut,ft,Mt,ot){return new(Mt||(Mt=Promise))(function(dt,Vt){function Ee(fn){try{Ie(ot.next(fn))}catch(Un){Vt(Un)}}function we(fn){try{Ie(ot.throw(fn))}catch(Un){Vt(Un)}}function Ie(fn){fn.done?dt(fn.value):function Dt(dt){return dt instanceof Mt?dt:new Mt(function(Vt){Vt(dt)})}(fn.value).then(Ee,we)}Ie((ot=ot.apply(ut,ft||[])).next())})}function Ke(ut){return this instanceof Ke?(this.v=ut,this):new Ke(ut)}function Qt(ut,ft,Mt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Dt,ot=Mt.apply(ut,ft||[]),dt=[];return Dt=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),Ee("next"),Ee("throw"),Ee("return",function Vt(Fn){return function(ci){return Promise.resolve(ci).then(Fn,Un)}}),Dt[Symbol.asyncIterator]=function(){return this},Dt;function Ee(Fn,ci){ot[Fn]&&(Dt[Fn]=function(Di){return new Promise(function(Li,Ni){dt.push([Fn,Di,Li,Ni])>1||we(Fn,Di)})},ci&&(Dt[Fn]=ci(Dt[Fn])))}function we(Fn,ci){try{!function Ie(Fn){Fn.value instanceof Ke?Promise.resolve(Fn.value.v).then(fn,Un):Ri(dt[0][2],Fn)}(ot[Fn](ci))}catch(Di){Ri(dt[0][3],Di)}}function fn(Fn){we("next",Fn)}function Un(Fn){we("throw",Fn)}function Ri(Fn,ci){Fn(ci),dt.shift(),dt.length&&we(dt[0][0],dt[0][1])}}function kt(ut){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Mt,ft=ut[Symbol.asyncIterator];return ft?ft.call(ut):(ut=function ue(ut){var ft="function"==typeof Symbol&&Symbol.iterator,Mt=ft&&ut[ft],ot=0;if(Mt)return Mt.call(ut);if(ut&&"number"==typeof ut.length)return{next:function(){return ut&&ot>=ut.length&&(ut=void 0),{value:ut&&ut[ot++],done:!ut}}};throw new TypeError(ft?"Object is not iterable.":"Symbol.iterator is not defined.")}(ut),Mt={},ot("next"),ot("throw"),ot("return"),Mt[Symbol.asyncIterator]=function(){return this},Mt);function ot(dt){Mt[dt]=ut[dt]&&function(Vt){return new Promise(function(Ee,we){!function Dt(dt,Vt,Ee,we){Promise.resolve(we).then(function(Ie){dt({value:Ie,done:Ee})},Vt)}(Ee,we,(Vt=ut[dt](Vt)).done,Vt.value)})}}}P.d(ae,{AQ:()=>Qt,N3:()=>Ke,sH:()=>Pt,xN:()=>kt}),"function"==typeof SuppressedError&&SuppressedError}},mn=>{mn(mn.s=8148)}]);